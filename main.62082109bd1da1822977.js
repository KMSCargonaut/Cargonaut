(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:He=>{function _e(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}_e.keys=()=>[],_e.resolve=_e,_e.id=8255,He.exports=_e},7716:(He,_e,F)=>{"use strict";F.d(_e,{deG:()=>dh,tb:()=>kD,AFp:()=>jr,ip1:()=>he,CZH:()=>Te,hGG:()=>rT,z2F:()=>Cf,sBO:()=>NS,Sil:()=>Ra,_Vd:()=>fd,EJc:()=>ps,SBq:()=>jo,qLn:()=>Da,vpe:()=>Ho,gxx:()=>Tu,tBr:()=>ya,XFs:()=>Ge,OlP:()=>fn,zs3:()=>kn,ZZ4:()=>C_,aQg:()=>Hp,soG:()=>l1,YKP:()=>GE,v3s:()=>Ef,h0i:()=>pd,PXZ:()=>VN,R0b:()=>gs,FiY:()=>va,Lbi:()=>RD,g9A:()=>xD,Qsj:()=>OE,FYo:()=>$p,JOm:()=>y,Tiy:()=>ib,q3G:()=>jn,tp0:()=>dr,EAV:()=>Cg,Rgc:()=>qp,dDg:()=>vg,DyG:()=>xs,q4F:()=>sb,GfV:()=>LE,s_b:()=>D_,ifc:()=>Oe,eFA:()=>jD,G48:()=>VD,Gpc:()=>B,X6Q:()=>ti,_c5:()=>eT,VLi:()=>LD,c2e:()=>OD,zSh:()=>Iu,wAp:()=>ut,vHH:()=>Ne,EiD:()=>Gc,mCW:()=>wa,qzn:()=>Dl,JVY:()=>um,pB0:()=>Uc,eBb:()=>up,L6k:()=>ap,LAX:()=>ko,cg1:()=>h_,Tjo:()=>$N,kL8:()=>QA,yhl:()=>yh,dqk:()=>ft,sIi:()=>Np,CqO:()=>Mv,QGY:()=>Nv,F4k:()=>OC,RDi:()=>bo,AaK:()=>K,z3N:()=>Ro,qOj:()=>Km,TTD:()=>mn,_Bn:()=>SE,xp6:()=>gw,uIk:()=>yv,Tol:()=>WC,DjV:()=>rE,ekj:()=>zC,Suo:()=>_D,Xpm:()=>Ir,lG2:()=>hc,Yz7:()=>ln,cJS:()=>bn,oAB:()=>mo,Yjl:()=>Ei,Y36:()=>xp,_UZ:()=>RC,BQk:()=>Sv,ynx:()=>Av,qZA:()=>Iv,TgZ:()=>Tv,EpF:()=>kC,n5z:()=>hl,Ikx:()=>d_,SDv:()=>Jv,QtT:()=>EE,pQV:()=>Bp,LFG:()=>_n,$8M:()=>lh,NdJ:()=>xv,CRH:()=>yD,kcU:()=>Wf,O4$:()=>Dc,oxw:()=>VC,ALo:()=>$_,lcZ:()=>H_,Hsn:()=>Yh,F$t:()=>Qr,Q6J:()=>Ev,s9C:()=>Kh,MGl:()=>id,VKq:()=>dD,WLB:()=>B_,kEZ:()=>rg,iGM:()=>qb,MAs:()=>wC,CHM:()=>sl,LSH:()=>dp,kYT:()=>Yu,Udp:()=>n_,YNc:()=>bC,W1O:()=>W_,_uU:()=>tE,Oqu:()=>r_,hij:()=>i_,Gf:()=>Ad});var u=F(9765),te=F(5319),L=F(7574),ce=F(6682),ie=F(8819);function J(i){for(let s in i)if(i[s]===J)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function z(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const P=J({__forward_ref__:J});function B(i){return i.__forward_ref__=B,i.toString=function(){return K(this())},i}function G(i){return de(i)?i():i}function de(i){return"function"==typeof i&&i.hasOwnProperty(P)&&i.__forward_ref__===B}class Ne extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}function At(i,s){const a=s?` in ${s}`:"";throw new Ne("201",`No provider for ${re(i)} found${a}`)}function $t(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function ln(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function bn(i){return{providers:i.providers||[],imports:i.imports||[]}}function ar(i){return Lt(i,rs)||Lt(i,ur)}function Lt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ui(i){return i&&(i.hasOwnProperty(De)||i.hasOwnProperty(Zn))?i[De]:null}const rs=J({\u0275prov:J}),De=J({\u0275inj:J}),ur=J({ngInjectableDef:J}),Zn=J({ngInjectorDef:J});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let Ht;function ri(i){const s=Ht;return Ht=i,s}function Qe(i,s,a){const l=ar(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ge.Optional?null:void 0!==s?s:void At(K(i),"Injector")}function Nt(i){return{toString:i}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Oe=(()=>((Oe=Oe||{})[Oe.Emulated=0]="Emulated",Oe[Oe.None=2]="None",Oe[Oe.ShadowDom=3]="ShadowDom",Oe))();const Ye="undefined"!=typeof globalThis&&globalThis,zu="undefined"!=typeof window&&window,Gs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=Ye||"undefined"!=typeof global&&global||zu||Gs,Z={},j=[],Y=J({\u0275cmp:J}),ye=J({\u0275dir:J}),se=J({\u0275pipe:J}),Ve=J({\u0275mod:J}),pt=J({\u0275loc:J}),Vt=J({\u0275fac:J}),On=J({__NG_ELEMENT_ID__:J});let Pn=0;function Ir(i){return Nt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||j,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Oe.Emulated,id:"c",styles:i.styles||j,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,m=i.pipes;return l.id+=Pn++,l.inputs=_o(i.inputs,a),l.outputs=_o(i.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(_r):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(go):null,l})}function _r(i){return Qn(i)||function(i){return i[ye]||null}(i)}function go(i){return function(i){return i[se]||null}(i)}const Wu={};function mo(i){return Nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||j,declarations:i.declarations||j,imports:i.imports||j,exports:i.exports||j,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Wu[i.id]=i.type),s})}function Yu(i,s){return Nt(()=>{const a=Di(i,!0);a.declarations=s.declarations||j,a.imports=s.imports||j,a.exports=s.exports||j})}function _o(i,s){if(null==i)return Z;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,s&&(s[d]=f)}return a}const hc=Ir;function Ei(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Qn(i){return i[Y]||null}function Di(i,s){const a=i[Ve]||null;if(!a&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return a}function dn(i){return Array.isArray(i)&&"object"==typeof i[1]}function vr(i){return Array.isArray(i)&&!0===i[1]}function jd(i){return 0!=(8&i.flags)}function $a(i){return 2==(2&i.flags)}function zr(i){return 1==(1&i.flags)}function $i(i){return null!==i.template}function Hi(i){return 0!=(512&i[2])}function is(i,s){return i.hasOwnProperty(Vt)?i[Vt]:null}class Za{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function mn(){return za}function za(i){return i.type.prototype.ngOnChanges&&(i.setInput=Nr),Yg}function Yg(){const i=Ju(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Z)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Nr(i,s,a,l){const d=Ju(i)||function(i,s){return i[ss]=s}(i,{previous:Z,current:null}),f=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[a],C=m[v];f[v]=new Za(C&&C.currentValue,s,m===Z),i[l]=s}mn.ngInherit=!0;const ss="__ngSimpleChanges__";function Ju(i){return i[ss]||null}const Wa="http://www.w3.org/2000/svg";let ra;function bo(i){ra=i}function Zs(){return void 0!==ra?ra:"undefined"!=typeof document?document:void 0}function nn(i){return!!i.listen}const os={createRenderer:(i,s)=>Zs()};function zt(i){for(;Array.isArray(i);)i=i[0];return i}function wo(i,s){return zt(s[i])}function li(i,s){return zt(s[i.index])}function zs(i,s){return i.data[s]}function Ws(i,s){return i[s]}function br(i,s){const a=s[i];return dn(a)?a:a[0]}function tl(i){return 4==(4&i[2])}function nl(i){return 128==(128&i[2])}function Ln(i,s){return null==s?null:i[s]}function Ya(i){i[18]=0}function Ka(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ot={lFrame:Cc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ja(){return ot.bindingsEnabled}function ve(){return ot.lFrame.lView}function Ct(){return ot.lFrame.tView}function sl(i){return ot.lFrame.contextLView=i,i[8]}function an(){let i=ol();for(;null!==i&&64===i.type;)i=i.parent;return i}function ol(){return ot.lFrame.currentTNode}function as(){const i=ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Mr(i,s){const a=ot.lFrame;a.currentTNode=i,a.isParent=s}function sa(){return ot.lFrame.isParent}function Qa(){ot.lFrame.isParent=!1}function oa(){return ot.isInCheckNoChangesMode}function aa(i){ot.isInCheckNoChangesMode=i}function Vn(){const i=ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ii(){return ot.lFrame.bindingIndex}function qi(){return ot.lFrame.bindingIndex++}function xr(i){const s=ot.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function al(i){ot.lFrame.inI18n=i}function eu(i,s){const a=ot.lFrame;a.bindingIndex=a.bindingRootIndex=i,tu(s)}function tu(i){ot.lFrame.currentDirectiveIndex=i}function ul(){return ot.lFrame.currentQueryIndex}function ua(i){ot.lFrame.currentQueryIndex=i}function la(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function wc(i,s,a){if(a&Ge.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ge.Host||(d=la(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=ot.lFrame=th();return l.currentTNode=s,l.lView=i,!0}function Co(i){const s=th(),a=i[1];ot.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function th(){const i=ot.lFrame,s=null===i?null:i.child;return null===s?Cc(i):s}function Cc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function nh(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const rh=nh;function Is(){const i=nh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Xn(){return ot.lFrame.selectedIndex}function ca(i){ot.lFrame.selectedIndex=i}function Cn(){const i=ot.lFrame;return zs(i.tView,i.selectedIndex)}function Dc(){ot.lFrame.currentNamespace=Wa}function Wf(){ot.lFrame.currentNamespace=null}function ll(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:S}=f;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Ks(i,s,a){Tc(i,s,3,a)}function iu(i,s,a,l){(3&i[2])===a&&Tc(i,s,a,l)}function Sn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Tc(i,s,a,l){const f=null!=l?l:-1,m=s.length-1;let v=0;for(let C=void 0!==l?65535&i[18]:0;C<m;C++)if("number"==typeof s[C+1]){if(v=s[C],null!=l&&v>=l)break}else s[C]<0&&(i[18]+=65536),(v<f||-1==f)&&(Kf(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function Kf(i,s,a,l){const d=a[l]<0,f=a[l+1],v=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class ha{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function sh(i,s,a){const l=nn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const m=a[d++],v=a[d++],C=a[d++];l?i.setAttribute(s,v,C,m):s.setAttributeNS(m,v,C)}else{const m=f,v=a[++d];Ss(m)?l&&i.setProperty(s,m,v):l?i.setAttribute(s,m,v):s.setAttribute(m,v),d++}}return d}function Qf(i){return 3===i||4===i||6===i}function Ss(i){return 64===i.charCodeAt(0)}function cl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Xf(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Xf(i,s,a,l,d){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function Ac(i){return-1!==i}function Qs(i){return 32767&i}function ci(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let su=!0;function pa(i){const s=su;return su=i,s}let uh=0;function ou(i,s){const a=Jt(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Eo(l.data,i),Eo(s,null),Eo(l.blueprint,null));const d=Ue(i,s),f=i.injectorIndex;if(Ac(d)){const m=Qs(d),v=ci(d,s),C=v[1].data;for(let D=0;D<8;D++)s[f+D]=v[m+D]|C[m+D]}return s[f+8]=d,f}function Eo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Jt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ue(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const f=d[1],m=f.type;if(l=2===m?f.declTNode:1===m?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Qt(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(On)&&(l=a[On]),null==l&&(l=a[On]=uh++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function En(i,s,a){if(a&Ge.Optional)return i;At(s,"NodeInjector")}function Ns(i,s,a,l){if(a&Ge.Optional&&void 0===l&&(l=null),0==(a&(Ge.Self|Ge.Host))){const d=i[9],f=ri(void 0);try{return d?d.get(s,l,a&Ge.Optional):Qe(s,l,a&Ge.Optional)}finally{ri(f)}}return En(l,s,a)}function Do(i,s,a,l=Ge.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(On)?i[On]:void 0;return"number"==typeof s?s>=0?255&s:au:s}(a);if("function"==typeof f){if(!wc(s,i,l))return l&Ge.Host?En(d,a,l):Ns(s,a,l,d);try{const m=f(l);if(null!=m||l&Ge.Optional)return m;At(a)}finally{rh()}}else if("number"==typeof f){let m=null,v=Jt(i,s),C=-1,D=l&Ge.Host?s[16][6]:null;for((-1===v||l&Ge.SkipSelf)&&(C=-1===v?Ue(i,s):s[v+8],-1!==C&&uu(l,!1)?(m=s[1],v=Qs(C),s=ci(C,s)):v=-1);-1!==v;){const S=s[1];if(ga(f,v,S.data)){const k=Qg(v,s,a,m,l,D);if(k!==un)return k}C=s[v+8],-1!==C&&uu(l,s[1].data[v+8]===D)&&ga(f,v,s)?(m=S,v=Qs(C),s=ci(C,s)):v=-1}}}return Ns(s,a,l,d)}const un={};function au(){return new us(an(),ve())}function Qg(i,s,a,l,d,f){const m=s[1],v=m.data[i+8],S=Xs(v,m,a,null==l?$a(v)&&su:l!=m&&0!=(3&v.type),d&Ge.Host&&f===v);return null!==S?Nn(s,m,S,v):un}function Xs(i,s,a,l,d){const f=i.providerIndexes,m=s.data,v=1048575&f,C=i.directiveStart,S=f>>20,O=d?v+S:i.directiveEnd;for(let $=l?v:v+S;$<O;$++){const W=m[$];if($<C&&a===W||$>=C&&W.type===a)return $}if(d){const $=m[C];if($&&$i($)&&$.type===a)return C}return null}function Nn(i,s,a,l){let d=i[a];const f=s.data;if(function(i){return i instanceof ha}(d)){const m=d;m.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(re(f[a]));const v=pa(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?ri(m.injectImpl):null;wc(i,l,Ge.Default);try{d=i[a]=m.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const m=za(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==C&&ri(C),pa(v),m.resolving=!1,rh()}}return d}function ga(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function uu(i,s){return!(i&Ge.Self||i&Ge.Host&&s)}class us{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Do(this._tNode,this._lView,s,l,a)}}function hl(i){return Nt(()=>{const s=i.prototype.constructor,a=s[Vt]||lu(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Vt]||lu(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function lu(i){return de(i)?()=>{const s=lu(G(i));return s&&s()}:is(i)}function lh(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(Qf(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(an(),i)}const Ms="__parameters__";function Wi(i,s,a){return Nt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const m=new d(...f);return v.annotation=m,v;function v(C,D,S){const k=C.hasOwnProperty(Ms)?C[Ms]:Object.defineProperty(C,Ms,{value:[]})[Ms];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(m),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ln({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dh=new fn("AnalyzeForEntryComponents"),xs=Function;function di(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),di(l,s)):s!==i&&s.push(l)}return s}function ls(i,s){i.forEach(a=>Array.isArray(a)?ls(a,s):s(a))}function du(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ni(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Rs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function er(i,s,a){let l=_a(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Tn(i,s){const a=_a(i,s);if(a>=0)return i[1|a]}function _a(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),m=i[f<<a];if(s===m)return f<<a;m>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const xt={},rn="__NG_DI_FLAG__",Bn="ngTempTokenPath",tr=/\n/gm,So="__source",Yi=J({provide:String,useValue:J});let Ki;function lt(i){const s=Ki;return Ki=i,s}function np(i,s=Ge.Default){if(void 0===Ki)throw new Error("inject() must be called from an injection context");return null===Ki?Qe(i,void 0,s):Ki.get(i,s&Ge.Optional?null:void 0,s)}function _n(i,s=Ge.Default){return(Ht||np)(G(i),s)}function hu(i){const s=[];for(let a=0;a<i.length;a++){const l=G(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=Ge.Default;for(let m=0;m<l.length;m++){const v=l[m],C=rp(v);"number"==typeof C?-1===C?d=v.token:f|=C:d=v}s.push(_n(d,f))}else s.push(_n(l))}return s}function fu(i,s){return i[rn]=s,i.prototype[rn]=s,i}function rp(i){return i[rn]}function Ji(i,s,a,l){const d=i[Bn];throw s[So]&&d.unshift(s[So]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):K(v)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(tr,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Bn]=null,i}const ya=fu(Wi("Inject",i=>({token:i})),-1),va=fu(Wi("Optional"),8),dr=fu(Wi("SkipSelf"),4);let wl;function xo(i){var s;return(null===(s=function(){if(void 0===wl&&(wl=null,ft.trustedTypes))try{wl=ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wl}())||void 0===s?void 0:s.createHTML(i))||i}class gu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class r0 extends gu{getTypeName(){return"HTML"}}class s0 extends gu{getTypeName(){return"Style"}}class _h extends gu{getTypeName(){return"Script"}}class o0 extends gu{getTypeName(){return"URL"}}class a0 extends gu{getTypeName(){return"ResourceURL"}}function Ro(i){return i instanceof gu?i.changingThisBreaksApplicationSecurity:i}function Dl(i,s){const a=yh(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function yh(i){return i instanceof gu&&i.getTypeName()||null}function um(i){return new r0(i)}function ap(i){return new s0(i)}function up(i){return new _h(i)}function ko(i){return new o0(i)}function Uc(i){return new a0(i)}function vh(i){const s=new u0(i);return function(){try{return!!(new window.DOMParser).parseFromString(xo(""),"text/html")}catch(i){return!1}}()?new lm(s):s}class lm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(xo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class u0{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=xo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=xo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const cm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(i){return(i=String(i)).match(cm)||i.match(bh)?i:"unsafe:"+i}function wh(i){return(i=String(i)).split(",").map(s=>wa(s.trim())).join(", ")}function cs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function mu(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Il=cs("area,br,col,hr,img,wbr"),hm=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Al=cs("rp,rt"),lp=mu(Il,mu(hm,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mu(Al,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mu(Al,hm)),Bc=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qi=cs("srcset"),jc=mu(Bc,Qi,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),c0=cs("script,style,template");class $c{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!lp.hasOwnProperty(a))return this.sanitizedSomething=!0,!c0.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),m=f.name,v=m.toLowerCase();if(!jc.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=f.value;Bc[v]&&(C=wa(C)),Qi[v]&&(C=wh(C)),this.buf.push(" ",m,'="',Ch(C),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();lp.hasOwnProperty(a)&&!Il.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ch(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const d0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h0=/([^\#-~ |!])/g;function Ch(i){return i.replace(/&/g,"&amp;").replace(d0,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(h0,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hc;function Gc(i,s){let a=null;try{Hc=Hc||vh(i);let l=s?String(s):"";a=Hc.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=Hc.getInertBodyElement(l)}while(l!==f);return xo((new $c).sanitizeChildren(qc(a)||a))}finally{if(a){const l=qc(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function qc(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function dp(i){const s=function(){const i=ve();return i&&i[12]}();return s?s.sanitize(jn.URL,i)||"":Dl(i,"URL")?Ro(i):wa(X(i))}const _u="__ngContext__";function kr(i,s){i[_u]=s}function mp(i){const s=function(i){return i[_u]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Ea(i){return i.ngOriginalError}function wp(i,...s){i.error(...s)}class Da{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||wp;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Ea(s)):null}_findOriginalError(s){let a=s&&Ea(s);for(;a&&Ea(a);)a=Ea(a);return a||null}}const _0=/^>|^->|<!--|-->|--!>|<!-$/g,ro=/(<|>)/;const Em=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function ds(i){return i instanceof Function?i():i}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();let p;function g(i,s){return p(i,s)}function M(i){const s=i[3];return vr(s)?s[3]:s}function Re(i){return je(i[13])}function Ae(i){return je(i[4])}function je(i){for(;null!==i&&!vr(i);)i=i[4];return i}function Et(i,s,a,l,d){if(null!=l){let f,m=!1;vr(l)?f=l:dn(l)&&(m=!0,l=l[0]);const v=zt(l);0===i&&null!==a?null==d?ow(s,a,v):kl(s,a,v,d||null,!0):1===i&&null!==a?kl(s,a,v,d||null,!0):2===i?w0(s,v,m):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,l,d){const f=a[7];f!==zt(a)&&Et(s,i,l,f,d);for(let v=10;v<a.length;v++){const C=a[v];Qc(C[1],C,i,s,l,f)}}(s,i,f,a,d)}}function Yn(i,s){return nn(i)?i.createText(s):i.createTextNode(s)}function Fo(i,s,a){nn(i)?i.setValue(s,a):s.textContent=a}function Sh(i,s){return i.createComment(function(i){return i.replace(_0,s=>s.replace(ro,"\u200b$1\u200b"))}(s))}function Wc(i,s,a){return nn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Kc(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Ka(d,-1)),a.splice(l,1)}function Nh(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&Kc(d,l),s>0&&(i[a-1][4]=l[4]);const f=Ni(i,10+s);!function(i,s){Qc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Mh(i,s){if(!(256&s[2])){const a=s[11];nn(a)&&a.destroyNode&&Qc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Ta(i[1],i);for(;s;){let a=null;if(dn(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)dn(s)&&Ta(s[1],s),s=s[3];null===s&&(s=i),dn(s)&&Ta(s[1],s),a=s&&s[4]}s=a}}(s)}}function Ta(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ha)){const f=a[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=d[f[m]],C=f[m+1];try{C.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+1],v="function"==typeof m?m(s):zt(s[m]),C=l[d=a[f+2]],D=a[f+3];"boolean"==typeof D?v.removeEventListener(a[f],C,D):D>=0?l[d=D]():l[d=-D].unsubscribe(),f+=2}else{const m=l[d=a[f+1]];a[f].call(m)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&nn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&vr(s[3])){a!==s[3]&&Kc(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function iw(i,s,a){return sw(i,s.parent,a)}function sw(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Oe.None||d===Oe.Emulated)return null}return li(l,a)}function kl(i,s,a,l,d){nn(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function ow(i,s,a){nn(i)?i.appendChild(s,a):s.appendChild(a)}function aw(i,s,a,l,d){null!==l?kl(i,s,a,l,d):ow(i,s,a)}function Mm(i,s){return nn(i)?i.parentNode(s):s.parentNode}function Rm(i,s,a){return Jc(i,s,a)}function km(i,s,a){return 40&i.type?li(i,a):null}let y0,Jc=km;function uw(i,s){Jc=i,y0=s}function xh(i,s,a,l){const d=iw(i,l,s),f=s[11],v=Rm(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)aw(f,d,a[C],v,!1);else aw(f,d,a,v,!1);void 0!==y0&&y0(f,l,s,a,d)}function Om(i,s){if(null!==s){const a=s.type;if(3&a)return li(s,i);if(4&a)return b0(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Om(i,l);{const d=i[s.index];return vr(d)?b0(-1,d):zt(d)}}if(32&a)return g(s,i)()||zt(i[s.index]);{const l=v0(i,s);return null!==l?Array.isArray(l)?l[0]:Om(M(i[16]),l):Om(i,s.next)}}return null}function v0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function b0(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Om(l,d)}return s[7]}function w0(i,s,a){const l=Mm(i,s);l&&function(i,s,a,l){nn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function Pm(i,s,a,l,d,f,m){for(;null!=a;){const v=l[a.index],C=a.type;if(m&&0===s&&(v&&kr(zt(v),l),a.flags|=4),64!=(64&a.flags))if(8&C)Pm(i,s,a.child,l,d,f,!1),Et(s,i,d,v,f);else if(32&C){const D=g(a,l);let S;for(;S=D();)Et(s,i,d,S,f);Et(s,i,d,v,f)}else 16&C?Ol(i,s,l,a,d,f):Et(s,i,d,v,f);a=m?a.projectionNext:a.next}}function Qc(i,s,a,l,d,f){Pm(a,l,i.firstChild,s,d,f,!1)}function Ol(i,s,a,l,d,f){const m=a[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Et(s,i,d,C[D],f);else Pm(i,s,C,m[3],d,f,!0)}function cw(i,s,a){nn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function C0(i,s,a){nn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function E0(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}const dw="ng-template";function lI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==E0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function D0(i){return 4===i.type&&i.value!==dw}function cI(i,s,a){return s===(4!==i.type||a?i.value:dw)}function dI(i,s,a){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Qf(i[s]))return s;return i.length}(d);let m=!1;for(let v=0;v<s.length;v++){const C=s[v];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!cI(i,C,a)||""===C&&1===s.length){if(Lo(l))return!1;m=!0}}else{const D=8&l?C:s[++v];if(8&l&&null!==i.attrs){if(!lI(i.attrs,D,a)){if(Lo(l))return!1;m=!0}continue}const k=T0(8&l?"class":C,d,D0(i),a);if(-1===k){if(Lo(l))return!1;m=!0;continue}if(""!==D){let O;O=k>f?"":d[k+1].toLowerCase();const $=8&l?O:null;if($&&-1!==E0($,D,0)||2&l&&D!==O){if(Lo(l))return!1;m=!0}}}}else{if(!m&&!Lo(l)&&!Lo(C))return!1;if(m&&Lo(C))continue;m=!1,l=C|1&l}}return Lo(l)||m}function Lo(i){return 0==(1&i)}function T0(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function hw(i,s,a=!1){for(let l=0;l<s.length;l++)if(dI(i,s[l],a))return!0;return!1}function TR(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function pw(i,s){return i?":not("+s.trim()+")":s}function pI(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const v=i[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!Lo(m)&&(s+=pw(f,d),d=""),l=m,f=f||!Lo(l);a++}return""!==d&&(s+=pw(f,d)),s}const _t={};function gw(i){mw(Ct(),ve(),Xn()+i,oa())}function mw(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ks(s,f,a)}else{const f=i.preOrderHooks;null!==f&&iu(s,f,0,a)}ca(a)}function Fm(i,s){return i<<17|s<<2}function Vo(i){return i>>17&32767}function Pr(i){return 2|i}function Ia(i){return(131068&i)>>2}function I0(i,s){return-131069&i|s<<2}function A0(i){return 1|i}function Ll(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const m=i.data[f];ua(d),m.contentQueries(2,s[f],f)}}}function kh(i,s,a,l,d,f,m,v,C,D){const S=s.blueprint.slice();return S[0]=d,S[2]=140|l,Ya(S),S[3]=S[15]=i,S[8]=a,S[10]=m||i&&i[10],S[11]=v||i&&i[11],S[12]=C||i&&i[12]||null,S[9]=D||i&&i[9]||null,S[6]=f,S[16]=2==s.type?i[16]:S,S}function Oh(i,s,a,l,d){let f=i.data[s];if(null===f)f=P0(i,s,a,l,d),ot.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const m=as();f.injectorIndex=null===m?-1:m.injectorIndex}return Mr(f,!0),f}function P0(i,s,a,l,d){const f=ol(),m=sa(),C=i.data[s]=function(i,s,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=C),null!==f&&(m?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}function Ph(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Xc(i,s,a){Co(s);try{const l=i.viewQuery;null!==l&&Lh(1,l,a);const d=i.template;null!==d&&Jr(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ll(i,s),i.staticViewQueries&&Lh(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)jR(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Is()}}function ks(i,s,a,l){const d=s[2];if(256==(256&d))return;Co(s);const f=oa();try{Ya(s),function(i){ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Jr(i,s,a,2,l);const m=3==(3&d);if(!f)if(m){const D=i.preOrderCheckHooks;null!==D&&Ks(s,D,null)}else{const D=i.preOrderHooks;null!==D&&iu(s,D,0,null),Sn(s,0)}if(function(i){for(let s=Re(i);null!==s;s=Ae(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(1024&d[2])&&Ka(f,1),d[2]|=1024}}}(s),function(i){for(let s=Re(i);null!==s;s=Ae(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];nl(l)&&ks(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Ll(i,s),!f)if(m){const D=i.contentCheckHooks;null!==D&&Ks(s,D)}else{const D=i.contentHooks;null!==D&&iu(s,D,1),Sn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)ca(~d);else{const f=d,m=a[++l],v=a[++l];eu(m,f),v(2,s[f])}}}finally{ca(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)BR(i,s[a])}(s,v);const C=i.viewQuery;if(null!==C&&Lh(2,C,l),!f)if(m){const D=i.viewCheckHooks;null!==D&&Ks(s,D)}else{const D=i.viewHooks;null!==D&&iu(s,D,2),Sn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ka(s[3],-1))}finally{Is()}}function Nw(i,s,a,l){const d=s[10],f=!oa(),m=tl(s);try{f&&!m&&d.begin&&d.begin(),m&&Xc(i,s,l),ks(i,s,a,l)}finally{f&&!m&&d.end&&d.end()}}function Jr(i,s,a,l,d){const f=Xn(),m=2&l;try{ca(-1),m&&s.length>20&&mw(i,s,20,oa()),a(l,d)}finally{ca(f)}}function Cu(i,s,a){if(jd(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const m=i.data[f];m.contentQueries&&m.contentQueries(1,a[f],f)}}}function F0(i,s,a){!Ja()||(function(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||ou(a,s),kr(l,s);const m=a.initialInputs;for(let v=d;v<f;v++){const C=i.data[v],D=$i(C);D&&LR(s,a,C);const S=Nn(s,i,v,a);kr(S,s),null!==m&&W0(0,v-d,S,C,0,m),D&&(br(a.index,s)[8]=S)}}(i,s,a,li(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,m=a.index,v=ot.lFrame.currentDirectiveIndex;try{ca(m);for(let C=l;C<d;C++){const D=i.data[C],S=s[C];tu(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&G0(D,S)}}finally{ca(-1),tu(v)}}(i,s,a))}function Mw(i,s,a=li){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?a(s,i):i[m];i[d++]=v}}}function L0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Tp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Tp(i,s,a,l,d,f,m,v,C,D){const S=20+l,k=S+d,O=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:_t);return a}(S,k),$="function"==typeof D?D():D;return O[1]={type:i,blueprint:O,template:a,queries:null,viewQuery:v,declTNode:s,data:O.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:$,incompleteFirstPass:!1}}function B0(i,s,a,l){const d=Q0(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Uw(i).push(l,d.length-1))}function Eu(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function fs(i,s,a,l,d,f,m,v){const C=li(s,a);let S,D=s.inputs;!v&&null!=D&&(S=D[l])?(RI(i,a,S,l,d),$a(s)&&function(i,s){const a=br(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,nn(f)?f.setProperty(C,l,d):Ss(l)||(C.setProperty?C.setProperty(l,d):C[l]=d))}function jm(i,s,a,l){let d=!1;if(Ja()){const f=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const m=l[f];hw(a,m.selectors,!1)&&(d||(d=[]),Qt(ou(a,s),i,m.type),$i(m)?(q0(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===l?null:{"":-1};if(null!==f){d=!0,Z0(a,i.data.length,f.length);for(let S=0;S<f.length;S++){const k=f[S];k.providersResolver&&k.providersResolver(k)}let v=!1,C=!1,D=Ph(i,s,f.length,null);for(let S=0;S<f.length;S++){const k=f[S];a.mergedAttrs=cl(a.mergedAttrs,k.hostAttrs),SI(i,a,s,D,k),Vl(D,k,m),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const O=k.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!C&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),D++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,m=[];let v=null,C=null;for(let D=s.directiveStart;D<l;D++){const S=d[D],k=S.inputs,O=null===f||D0(s)?null:Hm(k,f);m.push(O),v=Eu(k,D,v),C=Eu(S.outputs,D,C)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=C}(i,a)}m&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(a,l,m)}return a.mergedAttrs=cl(a.mergedAttrs,a.attrs),d}function $0(i,s,a,l,d,f){const m=f.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=C&&v.push(C),v.push(l,d,m)}}function G0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function q0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Vl(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;$i(s)&&(a[""]=i)}}function Z0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function SI(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=is(d.type)),m=new ha(f,$i(d),null);i.blueprint[l]=m,a[l]=m,$0(i,s,0,l,Ph(i,a,d.hostVars,_t),d)}function LR(i,s,a){const l=li(s,i),d=L0(a),f=i[10],m=Y0(i,kh(i,d,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=m}function z0(i,s,a,l,d,f,m){if(null==f)nn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==m?X(f):m(f,l||"",d);nn(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}function W0(i,s,a,l,d,f){const m=f[s];if(null!==m){const v=l.setInput;for(let C=0;C<m.length;){const D=m[C++],S=m[C++],k=m[C++];null!==v?l.setInput(a,k,D,S):a[S]=k}}}function Hm(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Gm(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function BR(i,s){const a=br(s,i);if(nl(a)){const l=a[1];80&a[2]?ks(l,a,l.template,a[8]):a[5]>0&&Vw(a)}}function Vw(i){for(let l=Re(i);null!==l;l=Ae(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const m=f[1];ks(m,f,m.template,f[8])}else f[5]>0&&Vw(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=br(a[l],i);nl(d)&&d[5]>0&&Vw(d)}}function jR(i,s){const a=br(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Xc(l,a,a[8])}function Y0(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function K0(i){for(;i;){i[2]|=64;const s=M(i);if(Hi(i)&&!s)return i;i=s}return null}function Fh(i,s,a){const l=s[10];l.begin&&l.begin();try{ks(i,s,i.template,a)}catch(d){throw Bw(s,d),d}finally{l.end&&l.end()}}function Ip(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=mp(a),d=l[1];Nw(d,l,d.template,a)}}(i[8])}function Lh(i,s,a){ua(0),s(i,a)}const xI=(()=>Promise.resolve(null))();function Q0(i){return i[7]||(i[7]=[])}function Uw(i){return i.cleanup||(i.cleanup=[])}function Bw(i,s){const a=i[9],l=a?a.get(Da,null):null;l&&l.handleError(s)}function RI(i,s,a,l,d){for(let f=0;f<a.length;){const m=a[f++],v=a[f++],C=s[m],D=i.data[m];null!==D.setInput?D.setInput(C,d,l,v):C[v]=d}}function Vh(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?f=v:1==f?d=z(d,v):2==f&&(l=z(l,v+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const Tu=new fn("INJECTOR",-1);class OI{get(s,a=xt){if(a===xt){const l=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw l.name="NullInjectorError",l}return a}}const Iu=new fn("Set Injector scope."),Ul={},Uh={};let td;function Hw(){return void 0===td&&(td=new OI),td}function tv(i,s=null,a=null,l){return new nv(i,a,s||Hw(),l)}class nv{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ls(a,v=>this.processProvider(v,s,a)),ls([s],v=>this.processInjectorType(v,[],f)),this.records.set(Tu,Bl(void 0,this));const m=this.records.get(Iu);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=xt,l=Ge.Default){this.assertNotDestroyed();const d=lt(this),f=ri(void 0);try{if(!(l&Ge.SkipSelf)){let v=this.records.get(s);if(void 0===v){const C=("function"==typeof(i=s)||"object"==typeof i&&i instanceof fn)&&ar(s);v=C&&this.injectableDefInScope(C)?Bl(Zm(s),Ul):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&Ge.Self?Hw():this.parent).get(s,a=l&Ge.Optional&&a===xt?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Bn]=m[Bn]||[]).unshift(K(s)),d)throw m;return Ji(m,s,"R3InjectorError",this.source)}throw m}finally{ri(f),lt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(K(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=G(s)))return!1;let d=Ui(s);const f=null==d&&s.ngModule||void 0,m=void 0===f?s:f,v=-1!==l.indexOf(m);if(void 0!==f&&(d=Ui(f)),null==d)return!1;if(null!=d.imports&&!v){let S;l.push(m);try{ls(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===S&&(S=[]),S.push(k))})}finally{}if(void 0!==S)for(let k=0;k<S.length;k++){const{ngModule:O,providers:$}=S[k];ls($,W=>this.processProvider(W,O,$||j))}}this.injectorDefTypes.add(m);const C=is(m)||(()=>new m);this.records.set(m,Bl(C,Ul));const D=d.providers;if(null!=D&&!v){const S=s;ls(D,k=>this.processProvider(k,S,D))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let d=Sa(s=G(s))?s:G(s&&s.provide);const f=Gw(i=s)?Bl(void 0,i.useValue):Bl(Ap(i),Ul);var i;if(Sa(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Bl(void 0,Ul,!0),m.factory=()=>hu(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Ul&&(a.value=Uh,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=G(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Zm(i){const s=ar(i),a=null!==s?s.factory:is(i);if(null!==a)return a;if(i instanceof fn)throw new Error(`Token ${K(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Rs(s,"?");throw new Error(`Can't resolve all parameters for ${K(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[rs]||i[ur]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Ap(i,s,a){let l;if(Sa(i)){const d=G(i);return is(d)||Zm(d)}if(Gw(i))l=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...hu(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>_n(G(i.useExisting));else{const d=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return is(d)||Zm(d);l=()=>new d(...hu(i.deps))}return l}function Bl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Gw(i){return null!==i&&"object"==typeof i&&Yi in i}function Sa(i){return"function"==typeof i}const Zw=function(i,s,a){return function(i,s=null,a=null,l){const d=tv(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let kn=(()=>{class i{static create(a,l){return Array.isArray(a)?Zw(a,l,""):Zw(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=xt,i.NULL=new OI,i.\u0275prov=ln({token:i,providedIn:"any",factory:()=>_n(Tu)}),i.__NG_ELEMENT_ID__=-1,i})();function ZI(i,s){ll(mp(i)[1],an())}function Km(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if($i(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=Jm(i.inputs),m.declaredInputs=Jm(i.declaredInputs),m.outputs=Jm(i.outputs);const v=d.hostBindings;v&&YI(i,v);const C=d.viewQuery,D=d.contentQueries;if(C&&WI(i,C),D&&aC(i,D),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),$i(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(i),v===Km&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=cl(d.hostAttrs,a=cl(a,d.hostAttrs))}}(l)}function Jm(i){return i===Z?{}:i===j?[]:i}function WI(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function aC(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function YI(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let _v=null;function Sp(){if(!_v){const i=ft.Symbol;if(i&&i.iterator)_v=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(_v=l)}}}return _v}class so{constructor(s){this.wrapped=s}static wrap(s){return new so(s)}static unwrap(s){return so.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof so}}function Np(i){return!!cC(i)&&(Array.isArray(i)||!(i instanceof Map)&&Sp()in i)}function cC(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Au(i,s,a){return i[s]=a}function Mi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function rd(i,s,a,l){const d=Mi(i,s,a);return Mi(i,s+1,l)||d}function yv(i,s,a,l){const d=ve();return Mi(d,qi(),s)&&(Ct(),function(i,s,a,l,d,f){const m=li(i,s);z0(s[11],m,f,i.value,a,l,d)}(Cn(),d,i,s,a,l)),yv}function jh(i,s,a,l){return Mi(i,qi(),a)?s+X(a)+l:_t}function Hh(i,s,a,l,d,f,m,v,C,D){const k=function(i,s,a,l,d,f){const m=rd(i,s,a,l);return rd(i,s+2,d,f)||m}(i,Ii(),a,d,m,C);return xr(4),k?s+X(a)+l+X(d)+f+X(m)+v+X(C)+D:_t}function bC(i,s,a,l,d,f,m,v){const C=ve(),D=Ct(),S=i+20,k=D.firstCreatePass?function(i,s,a,l,d,f,m,v,C){const D=s.consts,S=Oh(s,i,4,m||null,Ln(D,v));jm(s,a,S,Ln(D,C)),ll(s,S);const k=S.tViews=Tp(2,S,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,S),k.queries=s.queries.embeddedTView(S)),S}(S,D,C,s,a,l,d,f,m):D.data[S];Mr(k,!1);const O=C[11].createComment("");xh(D,C,O,k),kr(O,C),Y0(C,C[S]=Gm(O,C,O,k)),zr(k)&&F0(D,C,k),null!=m&&Mw(C,k,v)}function wC(i){return Ws(ot.lFrame.contextLView,20+i)}function xp(i,s=Ge.Default){const a=ve();return null===a?_n(i,s):Do(an(),a,G(i),s)}function Ev(i,s,a){const l=ve();return Mi(l,qi(),s)&&fs(Ct(),Cn(),l,i,s,l[11],a,!1),Ev}function Dv(i,s,a,l,d){const m=d?"class":"style";RI(i,a,s.inputs[m],m,l)}function Tv(i,s,a,l){const d=ve(),f=Ct(),m=20+i,v=d[11],C=d[m]=Wc(v,s,ot.lFrame.currentNamespace),D=f.firstCreatePass?function(i,s,a,l,d,f,m){const v=s.consts,D=Oh(s,i,2,d,Ln(v,f));return jm(s,a,D,Ln(v,m)),null!==D.attrs&&Vh(D,D.attrs,!1),null!==D.mergedAttrs&&Vh(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,f,d,0,s,a,l):f.data[m];Mr(D,!0);const S=D.mergedAttrs;null!==S&&sh(v,C,S);const k=D.classes;null!==k&&C0(v,C,k);const O=D.styles;null!==O&&cw(v,C,O),64!=(64&D.flags)&&xh(f,d,C,D),0===ot.lFrame.elementDepthCount&&kr(C,d),ot.lFrame.elementDepthCount++,zr(D)&&(F0(f,d,D),Cu(f,D,d)),null!==l&&Mw(d,D)}function Iv(){let i=an();sa()?Qa():(i=i.parent,Mr(i,!1));const s=i;ot.lFrame.elementDepthCount--;const a=Ct();a.firstCreatePass&&(ll(a,i),jd(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Dv(a,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Dv(a,s,ve(),s.stylesWithoutHost,!1)}function RC(i,s,a,l){Tv(i,s,a,l),Iv()}function Av(i,s,a){const l=ve(),d=Ct(),f=i+20,m=d.firstCreatePass?function(i,s,a,l,d){const f=s.consts,m=Ln(f,l),v=Oh(s,i,8,"ng-container",m);return null!==m&&Vh(v,m,!0),jm(s,a,v,Ln(f,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,d,l,s,a):d.data[f];Mr(m,!0);const v=l[f]=l[11].createComment("");xh(d,l,v,m),kr(v,l),zr(m)&&(F0(d,l,m),Cu(d,m,l)),null!=a&&Mw(l,m)}function Sv(){let i=an();const s=Ct();sa()?Qa():(i=i.parent,Mr(i,!1)),s.firstCreatePass&&(ll(s,i),jd(i)&&s.queries.elementEnd(i))}function kC(){return ve()}function Nv(i){return!!i&&"function"==typeof i.then}function OC(i){return!!i&&"function"==typeof i.subscribe}const Mv=OC;function xv(i,s,a,l){const d=ve(),f=Ct(),m=an();return function(i,s,a,l,d,f,m,v){const C=zr(l),S=i.firstCreatePass&&Uw(i),k=s[8],O=Q0(s);let $=!0;if(3&l.type||v){const ne=li(l,s),Me=v?v(ne):ne,me=O.length,Ke=v?dt=>v(zt(dt[l.index])):l.index;if(nn(a)){let dt=null;if(!v&&C&&(dt=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===l){const v=s[7],C=d[f+2];return v.length>C?v[C]:null}"string"==typeof m&&(f+=2)}return null}(i,s,d,l.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=f,dt.__ngLastListenerFn__=f,$=!1;else{f=Rv(l,s,k,f,!1);const jt=a.listen(Me,d,f);O.push(f,jt),S&&S.push(d,Ke,me,me+1)}}else f=Rv(l,s,k,f,!0),Me.addEventListener(d,f,m),O.push(f),S&&S.push(d,Ke,me,m)}else f=Rv(l,s,k,f,!1);const W=l.outputs;let ue;if($&&null!==W&&(ue=W[d])){const ne=ue.length;if(ne)for(let Me=0;Me<ne;Me+=2){const or=s[ue[Me]][ue[Me+1]].subscribe(f),wi=O.length;O.push(f,or),S&&S.push(d,l.index,wi,-(wi+1))}}}(f,d,d[11],m,i,s,!!a,l),xv}function LC(i,s,a,l){try{return!1!==a(l)}catch(d){return Bw(i,d),!1}}function Rv(i,s,a,l,d){return function f(m){if(m===Function)return l;const v=2&i.flags?br(i.index,s):s;0==(32&s[2])&&K0(v);let C=LC(s,0,l,m),D=f.__ngNextListenerFn__;for(;D;)C=LC(s,0,D,m)&&C,D=D.__ngNextListenerFn__;return d&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function VC(i=1){return function(i){return(ot.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ot.lFrame.contextLView))[8]}(i)}function AA(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?hw(i,f,!0):TR(l,f))return d}else a=d}return a}function Qr(i){const s=ve()[16][6];if(!s.projection){const l=s.projection=Rs(i?i.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){const m=i?AA(f,i):0;null!==m&&(d[m]?d[m].projectionNext=f:l[m]=f,d[m]=f),f=f.next}}}function Yh(i,s=0,a){const l=ve(),d=Ct(),f=Oh(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Qa(),64!=(64&f.flags)&&function(i,s,a){Ol(s[11],0,s,a,iw(i,a,s),Rm(a.parent||s[6],a,s))}(d,l,f)}function Kh(i,s,a){return id(i,"",s,"",a),Kh}function id(i,s,a,l,d){const f=ve(),m=jh(f,s,a,l);return m!==_t&&fs(Ct(),Cn(),f,i,m,f[11],d,!1),id}function Fr(i,s,a,l,d){const f=i[a+1],m=null===s;let v=l?Vo(f):Ia(f),C=!1;for(;0!==v&&(!1===C||m);){const S=i[v+1];SA(i[v],s)&&(C=!0,i[v+1]=l?A0(S):Pr(S)),v=l?Vo(S):Ia(S)}C&&(i[a+1]=l?Pr(f):A0(f))}function SA(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&_a(i,s)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HC(i){return i.substring(Lr.key,Lr.keyEnd)}function Jh(i,s){const a=Lr.textEnd;return a===s?-1:(s=Lr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Lr.key=s,a),jl(i,s,a))}function jl(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function n_(i,s,a){return ao(i,s,a,!1),n_}function zC(i,s){return ao(i,s,null,!0),zC}function WC(i){Os(er,Nu,i,!0)}function Nu(i,s){for(let a=function(i){return function(i){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=i.length}(i),Jh(i,jl(i,0,Lr.textEnd))}(s);a>=0;a=Jh(s,a))er(i,HC(s),!0)}function ao(i,s,a,l){const d=ve(),f=Ct(),m=xr(2);f.firstUpdatePass&&KC(f,i,m,l),s!==_t&&Mi(d,m,s)&&PA(f,f.data[Xn()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(Ro(i)))),i}(s,a),l,m)}function Os(i,s,a,l){const d=Ct(),f=xr(2);d.firstUpdatePass&&KC(d,null,f,l);const m=ve();if(a!==_t&&Mi(m,f,a)){const v=d.data[Xn()];if(eE(v,l)&&!YC(d,f)){let C=l?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(a=z(C,a||"")),Dv(d,v,m,a,l)}else!function(i,s,a,l,d,f,m,v){d===_t&&(d=j);let C=0,D=0,S=0<d.length?d[0]:null,k=0<f.length?f[0]:null;for(;null!==S||null!==k;){const O=C<d.length?d[C+1]:void 0,$=D<f.length?f[D+1]:void 0;let ue,W=null;S===k?(C+=2,D+=2,O!==$&&(W=k,ue=$)):null===k||null!==S&&S<k?(C+=2,W=S):(D+=2,W=k,ue=$),null!==W&&PA(i,s,a,l,W,ue,m,v),S=C<d.length?d[C]:null,k=D<f.length?f[D]:null}}(d,v,m,m[11],m[f+1],m[f+1]=function(i,s,a){if(null==a||""===a)return j;const l=[],d=Ro(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,f)}}function YC(i,s){return s>=i.expandoStartIndex}function KC(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[Xn()],m=YC(i,a);eE(f,l)&&null===s&&!m&&(s=!1),s=function(i,s,a,l){const d=function(i){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=uo(a=Fv(null,i,s,a,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=Fv(d,i,s,a,l),null===f){let C=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ia(l))return i[Vo(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=Fv(null,i,s,C[1],l),C=uo(C,s.attrs,l),function(i,s,a,l){i[Vo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else f=function(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=uo(l,i[f].hostAttrs,a);return uo(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function(i,s,a,l,d,f){let m=f?s.classBindings:s.styleBindings,v=Vo(m),C=Ia(m);i[l]=a;let S,D=!1;if(Array.isArray(a)){const k=a;S=k[1],(null===S||_a(k,S)>0)&&(D=!0)}else S=a;if(d)if(0!==C){const O=Vo(i[v+1]);i[l+1]=Fm(O,v),0!==O&&(i[O+1]=I0(i[O+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=Fm(v,0),0!==v&&(i[v+1]=I0(i[v+1],l)),v=l;else i[l+1]=Fm(C,0),0===v?v=l:i[C+1]=I0(i[C+1],l),C=l;D&&(i[l+1]=Pr(i[l+1])),Fr(i,S,l,!0),Fr(i,S,l,!1),function(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&_a(f,s)>=0&&(a[l+1]=A0(a[l+1]))}(s,S,i,l,f),m=Fm(v,C),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,l)}}function Fv(i,s,a,l,d){let f=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(f=s[v],l=uo(l,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function uo(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),er(i,m,!!a||s[++f]))}return void 0===i?null:i}function PA(i,s,a,l,d,f,m,v){if(!(3&s.type))return;const C=i.data,D=C[v+1];Lv(function(i){return 1==(1&i)}(D)?kp(C,s,a,d,Ia(D),m):void 0)||(Lv(f)||function(i){return 2==(2&i)}(D)&&(f=kp(C,null,a,d,v,m)),function(i,s,a,l,d){const f=nn(i);if(s)d?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:y.DashCase;if(null==d)f?i.removeStyle(a,l,m):a.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=y.Important),f?i.setStyle(a,l,d,m):a.style.setProperty(l,d,v?"important":"")}}}(l,m,wo(Xn(),a),d,f))}function kp(i,s,a,l,d,f){const m=null===s;let v;for(;d>0;){const C=i[d],D=Array.isArray(C),S=D?C[1]:C,k=null===S;let O=a[d+1];O===_t&&(O=k?j:void 0);let $=k?Tn(O,l):S===l?O:void 0;if(D&&!Lv($)&&($=Tn(C,l)),Lv($)&&(v=$,m))return v;const W=i[d+1];d=m?Vo(W):Ia(W)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(v=Tn(C,l))}return v}function Lv(i){return void 0!==i}function eE(i,s){return 0!=(i.flags&(s?16:32))}function tE(i,s=""){const a=ve(),l=Ct(),d=i+20,f=l.firstCreatePass?Oh(l,d,1,s,null):l.data[d],m=a[d]=Yn(a[11],s);xh(l,a,m,f),Mr(f,!1)}function r_(i){return i_("",i,""),r_}function i_(i,s,a){const l=ve(),d=jh(l,i,s,a);return d!==_t&&function(i,s,a){const l=wo(s,i);Fo(i[11],l,a)}(l,Xn(),d),i_}function rE(i,s,a,l,d,f,m,v,C){Os(er,Nu,Hh(ve(),i,s,a,l,d,f,m,v,C),!0)}function d_(i,s,a){const l=ve();return Mi(l,qi(),s)&&fs(Ct(),Cn(),l,i,s,l[11],a,!0),d_}const ud=void 0;var JA=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Mu={};function h_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=lE(s);if(a)return a;const l=s.split("-")[0];if(a=lE(l),a)return a;if("en"===l)return JA;throw new Error(`Missing locale data for the locale "${i}".`)}function QA(i){return h_(i)[ut.PluralCase]}function lE(i){return i in Mu||(Mu[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),Mu[i]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const cE=["zero","one","two","few","many"],Pp="en-US",f_={marker:"element"},Fp={marker:"ICU"};var In=(()=>((In=In||{})[In.SHIFT=2]="SHIFT",In[In.APPEND_EAGERLY=1]="APPEND_EAGERLY",In[In.COMMENT=2]="COMMENT",In))();let $v=Pp;function Hv(i){(function(i,s){null==i&&$t(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&($v=i.toLowerCase().replace(/_/g,"-"))}function eS(i,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?km(i,0,a):zt(a[d])}function fE(i,s,a,l,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let m=l,v=null;if(3&s.type||(v=m,m=d),null!==m&&0==(2&s.flags))for(let C=1;C<f.length;C++)kl(i,m,a[f[C]],v,!1)}}function pE(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];tS(l)||_k(l,s)&&null===yk(l)&&vk(l,s.index)}}function tS(i){return!(64&i.type)}function _k(i,s){return tS(s)||i.index>s.index}function yk(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function vk(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(uw(eS,fE),i.insertBeforeIndex=s)}function p_(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Ck(i,s,a){const l=P0(i,a,64,null,null);return pE(s,l),l}function Gv(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function nS(i){return i>>>17}function rS(i){return(131070&i)>>>1}let Lp=0,g_=0;function sS(i,s,a,l){const d=a[11];let m,f=null;for(let v=0;v<s.length;v++){const C=s[v];if("string"==typeof C){const D=s[++v];null===a[D]&&(a[D]=Yn(d,C))}else if("number"==typeof C)switch(1&C){case 0:const D=nS(C);let S,k;if(null===f&&(f=D,m=Mm(d,l)),D===f?(S=l,k=m):(S=null,k=zt(a[D])),null!==k){const ue=rS(C);kl(d,k,a[ue],S,!1);const Me=p_(i,ue);if(null!==Me&&"object"==typeof Me){const me=Gv(Me,a);null!==me&&sS(i,Me.create[me],a,a[Me.anchorIdx])}}break;case 1:const $=s[++v],W=s[++v];z0(d,wo(C>>>1,a),null,null,$,W,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case Fp:const D=s[++v],S=s[++v];null===a[S]&&kr(a[S]=Sh(d,D),a);break;case f_:const k=s[++v],O=s[++v];null===a[O]&&kr(a[O]=Wc(d,k,null),a)}}}function oS(i,s,a,l,d){for(let f=0;f<a.length;f++){const m=a[f],v=a[++f];if(m&d){let C="";for(let D=f+1;D<=f+v;D++){const S=a[D];if("string"==typeof S)C+=S;else if("number"==typeof S)if(S<0)C+=X(s[l-S]);else{const k=S>>>2;switch(3&S){case 1:const O=a[++D],$=a[++D],W=i.data[k];"string"==typeof W?z0(s[11],s[k],null,W,O,C,$):fs(i,W,s,O,C,s[11],$,!1);break;case 0:const ue=s[k];null!==ue&&Fo(s[11],ue,C);break;case 2:Ak(i,p_(i,k),s,C);break;case 3:qv(i,p_(i,k),l,s)}}}}else{const C=a[f+1];if(C>0&&3==(3&C)){const S=p_(i,C>>>2);s[S.currentCaseLViewIndex]<0&&qv(i,S,l,s)}}f+=v}}function qv(i,s,a,l){let d=l[s.currentCaseLViewIndex];if(null!==d){let f=Lp;d<0&&(d=l[s.currentCaseLViewIndex]=~d,f=-1),oS(i,l,s.update[d],a,f)}}function Ak(i,s,a,l){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function(i,s){const a=QA(s)(parseInt(i,10)),l=cE[a];return void 0!==l?l:"other"}(s,$v);a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(Gv(s,a)!==d&&(lo(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const m=a[s.anchorIdx];m&&sS(i,s.create[d],a,m)}}function lo(i,s,a){let l=Gv(s,a);if(null!==l){const d=s.remove[l];for(let f=0;f<d.length;f++){const m=d[f];if(m>0){const v=wo(m,a);null!==v&&w0(a[11],v)}else lo(i,p_(i,~m),a)}}}function Zv(){const i=[];let a,l,s=-1;function f(v,C){s=0;const D=Gv(v,C);l=null!==D?v.remove[D]:j}function m(){if(s<l.length){const v=l[s++];return v>0?a[v]:(i.push(s,l),f(a[1].data[~v],a),m())}return 0===i.length?null:(l=i.pop(),s=i.pop(),m())}return function(v,C){for(a=C;i.length;)i.pop();return f(v.value,C),m}}const zv=/\ufffd(\d+):?\d*\ufffd/gi,__=/\ufffd(\d+)\ufffd/,Wv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cS=/\uE500/g;function ef(i,s,a,l,d,f,m){const v=Ph(i,l,1,null);let C=v<<In.SHIFT,D=as();s===D&&(D=null),null===D&&(C|=In.APPEND_EAGERLY),m&&(C|=In.COMMENT,function(i){void 0===p&&(p=i())}(Zv)),d.push(C,null===f?"":f);const S=P0(i,v,m?32:1,null===f?"":f,null);pE(a,S);const k=S.index;return Mr(S,!1),null!==D&&s!==D&&function(i,s){let a=i.insertBeforeIndex;null===a?(uw(eS,fE),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&$t(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(D,k),S}function y_(i,s,a,l,d,f,m){const v=m.match(zv),C=ef(i,s,a,f,l,v?null:m,!1);v&&xu(d,m,C.index,null,0,null)}function xu(i,s,a,l,d,f){const m=i.length,v=m+1;i.push(null,null);const C=m+2,D=s.split(zv);let S=0;for(let k=0;k<D.length;k++){const O=D[k];if(1&k){const $=d+parseInt(O,10);i.push(-1-$),S|=Yv($)}else""!==O&&i.push(O)}return i.push(a<<2|(l?1:0)),l&&i.push(l,f),i[m]=S,i[v]=i.length-C,S}function Yv(i){return 1<<Math.min(i,31)}function dS(i){let s,f,a="",l=0,d=!1;for(;null!==(s=uS.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(l=s.index,d=!1):(a+=i.substring(l,s.index+s[0].length),f=s[1],d=!0);return a+=i.substr(l),a}function hS(i,s,a,l,d,f){let m=0;const v={type:d.type,currentCaseLViewIndex:Ph(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(Yv(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,f,v);const C=d.values;for(let D=0;D<C.length;D++){const S=C[D],k=[];for(let O=0;O<S.length;O++){const $=S[O];if("string"!=typeof $){const W=k.push($)-1;S[O]=`\x3c!--\ufffd${W}\ufffd--\x3e`}}m=kk(i,v,s,a,l,d.cases[D],S.join(""),k)|m}m&&function(i,s,a){i.push(s,1,a<<2|3)}(a,m,f)}function Rk(i){const s=[],a=[];let l=1,d=0;const f=_E(i=i.replace(Wv,function(m,v,C){return l="select"===C?0:1,d=parseInt(v.substr(1),10),""}));for(let m=0;m<f.length;){let v=f[m++].trim();1===l&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&s.push(v);const C=_E(f[m++]);s.length>a.length&&a.push(C)}return{type:l,mainBinding:d,cases:s,values:a}}function _E(i){if(!i)return[];let s=0;const a=[],l=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const v=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const C=i.substring(s,v);Wv.test(C)?l.push(Rk(C)):l.push(C),s=v+1}}else{if(0==a.length){const C=i.substring(s,v);l.push(C),s=v+1}a.push("{")}}const m=i.substring(s);return l.push(m),l}function kk(i,s,a,l,d,f,m,v){const C=[],D=[],S=[];s.cases.push(f),s.create.push(C),s.remove.push(D),s.update.push(S);const O=vh(Zs()).getInertBodyElement(m),$=qc(O)||O;return $?fS(i,s,a,l,C,D,S,$,d,v,0):0}function fS(i,s,a,l,d,f,m,v,C,D,S){let k=0,O=v.firstChild;for(;O;){const $=Ph(i,a,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const W=O,ue=W.tagName.toLowerCase();if(lp.hasOwnProperty(ue)){yE(d,f_,ue,C,$),i.data[$]=ue;const Ke=W.attributes;for(let dt=0;dt<Ke.length;dt++){const jt=Ke.item(dt),or=jt.name.toLowerCase();jt.value.match(zv)?jc.hasOwnProperty(or)&&xu(m,jt.value,$,jt.name,0,Bc[or]?wa:Qi[or]?wh:null):Lk(d,$,jt)}k=fS(i,s,a,l,d,f,m,O,$,D,S+1)|k,pS(f,$,S)}break;case Node.TEXT_NODE:const ne=O.textContent||"",Me=ne.match(zv);yE(d,null,Me?"":ne,C,$),pS(f,$,S),Me&&(k=xu(m,ne,$,null,0,null)|k);break;case Node.COMMENT_NODE:const me=__.exec(O.textContent||"");if(me){const dt=D[parseInt(me[1],10)];yE(d,Fp,"",C,$),hS(i,a,l,C,dt,$),Ok(f,$,S)}}O=O.nextSibling}return k}function pS(i,s,a){0===a&&i.push(s)}function Ok(i,s,a){0===a&&(i.push(~s),i.push(s))}function yE(i,s,a,l,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,l,d))}function Lk(i,s,a){i.push(s<<1|1,a.name,a.value)}function yS(i,s,a=-1){const l=Ct(),d=ve(),f=20+i,m=Ln(l.consts,s),v=as();l.firstCreatePass&&function(i,s,a,l,d,f){const m=as(),v=[],C=[],D=[[]],S=function(i){return i.replace(cS," ")}(d=function(i,s){if(function(i){return-1===i}(s))return dS(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return dS(i.substring(a,l))}}(d,f)).split(lS);for(let k=0;k<S.length;k++){let O=S[k];if(0==(1&k)){const $=_E(O);for(let W=0;W<$.length;W++){let ue=$[W];if(0==(1&W)){const ne=ue;""!==ne&&y_(i,m,D[0],v,C,a,ne)}else{const ne=ue;if("object"!=typeof ne)throw new Error(`Unable to parse ICU expression in "${d}" message.`);hS(i,a,C,s,ne,ef(i,m,D[0],a,v,"",!0).index)}}}else{const $=47===O.charCodeAt(0),ue=(O.charCodeAt($?1:0),20+Number.parseInt(O.substring($?2:1)));if($)D.shift(),Mr(as(),!1);else{const ne=Ck(i,D[0],ue);D.unshift([]),Mr(ne,!0)}}}i.data[l]={create:v,update:C}}(l,null===v?0:v.index,d,f,m,a);const C=l.data[f],S=sw(l,v===d[6]?null:v,d);(function(i,s,a,l){const d=i[11];for(let f=0;f<s.length;f++){const m=s[f++],v=s[f],C=(m&In.COMMENT)===In.COMMENT,D=(m&In.APPEND_EAGERLY)===In.APPEND_EAGERLY,S=m>>>In.SHIFT;let k=i[S];null===k&&(k=i[S]=C?d.createComment(v):Yn(d,v)),D&&null!==a&&kl(d,a,k,l,!1)}})(d,C.create,S,v&&8&v.type?d[v.index]:null),al(!0)}function Jv(i,s,a){yS(i,s,a),al(!1)}function Bp(i){return function(i){i&&(Lp|=1<<Math.min(g_,31)),g_++}(Mi(ve(),qi(),i)),Bp}function EE(i){!function(i,s,a){if(g_>0){const l=i.data[a];oS(i,s,Array.isArray(l)?l:l.update,Ii()-g_-1,Lp)}Lp=0,g_=0}(Ct(),ve(),i+20)}function Qv(i,s,a,l,d){if(i=G(i),Array.isArray(i))for(let f=0;f<i.length;f++)Qv(i[f],s,a,l,d);else{const f=Ct(),m=ve();let v=Sa(i)?i:G(i.provide),C=Ap(i);const D=an(),S=1048575&D.providerIndexes,k=D.directiveStart,O=D.providerIndexes>>20;if(Sa(i)||!i.multi){const $=new ha(C,d,xp),W=hd(v,s,d?S:S+O,k);-1===W?(Qt(ou(D,m),f,v),w_(f,i,s.length),s.push(v),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push($),m.push($)):(a[W]=$,m[W]=$)}else{const $=hd(v,s,S+O,k),W=hd(v,s,S,S+O),ue=$>=0&&a[$],ne=W>=0&&a[W];if(d&&!ne||!d&&!ue){Qt(ou(D,m),f,v);const Me=function(i,s,a,l,d){const f=new ha(i,a,xp);return f.multi=[],f.index=s,f.componentProviders=0,TE(f,d,l&&!a),f}(d?IE:vS,a.length,d,l,C);!d&&ne&&(a[W].providerFactory=Me),w_(f,i,s.length,0),s.push(v),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(Me),m.push(Me)}else w_(f,i,$>-1?$:W,TE(a[d?W:$],C,!d&&l));!d&&l&&ne&&a[W].componentProviders++}}}function w_(i,s,a,l){const d=Sa(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const C=v.indexOf(a);-1===C?v.push(a,[l,m]):v[C+1].push(l,m)}else v.push(a,m)}}}function TE(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function hd(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function vS(i,s,a,l){return Xv(this.multi,[])}function IE(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Nn(a,a[1],this.providerFactory.index,l);f=v.slice(0,m),Xv(d,f);for(let C=m;C<v.length;C++)f.push(v[C])}else f=[],Xv(d,f);return f}function Xv(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function SE(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=Ct();if(l.firstCreatePass){const d=$i(i);Qv(a,l.data,l.blueprint,d,!0),Qv(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class bS{}const eb="ngComponent";class tb{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s[eb]=i,s}(s)}}let fd=(()=>{class i{}return i.NULL=new tb,i})();function tf(...i){}function jp(i,s){return new jo(li(i,s))}const kE=function(){return jp(an(),ve())};let jo=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=kE,i})();function rb(i){return i instanceof jo?i.nativeElement:i}class $p{}let OE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>$k(),i})();const $k=function(){const i=ve(),a=br(an().index,i);return function(i){return i[11]}(dn(a)?a:i)};let ib=(()=>{class i{}return i.\u0275prov=ln({token:i,providedIn:"root",factory:()=>null}),i})();class LE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const sb=new LE("12.2.13");class ob{constructor(){}supports(s){return Np(s)}create(s){return new VE(s)}}const Hk=(i,s)=>s;class VE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Hk}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const m=!l||a&&a.currentIndex<IS(l,d,f)?a:l,v=IS(m,d,f),C=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const D=v-d,S=C-d;if(D!=S){for(let O=0;O<D;O++){const $=O<f.length?f[O]:f[O]=0,W=$+O;S<=W&&W<D&&(f[O]=$+1)}f[m.previousIndex]=S-D}}v!==C&&s(m,v,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Np(s))throw new Error(`Error trying to diff '${K(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],m=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,f,m,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,v),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Sp()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new DS(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class DS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class UE{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new TS,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IS(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class ab{constructor(){}supports(s){return s instanceof Map||cC(s)}create(){return new AS}}class AS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cC(s)))throw new Error(`Error trying to diff '${K(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const l=new qk(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class qk{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ub(){return new C_([new ob])}let C_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ub()),deps:[[i,new dr,new va]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=ln({token:i,providedIn:"root",factory:ub}),i})();function lb(){return new Hp([new ab])}let Hp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||lb()),deps:[[i,new dr,new va]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=ln({token:i,providedIn:"root",factory:lb}),i})();function E_(i,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(zt(f)),vr(f))for(let v=10;v<f.length;v++){const C=f[v],D=C[1].firstChild;null!==D&&E_(C[1],C,D,l)}const m=a.type;if(8&m)E_(i,s,a.child,l);else if(32&m){const v=g(a,s);let C;for(;C=v();)l.push(C)}else if(16&m){const v=v0(s,a);if(Array.isArray(v))l.push(...v);else{const C=M(s[16]);E_(C[1],C,v,l,!0)}}a=d?a.projectionNext:a.next}return l}class Gp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return E_(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(vr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Nh(s,l),Ni(a,l))}this._attachedToViewContainer=!1}Mh(this._lView[1],this._lView)}onDestroy(s){B0(this._lView[1],this._lView,null,s)}markForCheck(){K0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){aa(!0);try{Fh(i,s,a)}finally{aa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Qc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class BE extends Gp{constructor(s){super(s),this._view=s}detectChanges(){Ip(this._view)}checkNoChanges(){!function(i){aa(!0);try{Ip(i)}finally{aa(!1)}}(this._view)}get context(){return null}}const jE=function(i){return function(i,s,a){if($a(i)&&!a){const l=br(i.index,s);return new Gp(l,l)}return 47&i.type?new Gp(s[16],s):null}(an(),ve(),16==(16&i))};let NS=(()=>{class i{}return i.__NG_ELEMENT_ID__=jE,i})();const $E=[new ab],RS=new C_([new ob]),kS=new Hp($E),HE=function(){return Zp(an(),ve())};let qp=(()=>{class i{}return i.__NG_ELEMENT_ID__=HE,i})();const PS=qp,FS=class extends PS{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=kh(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),Xc(a,l,s),new Gp(l)}};function Zp(i,s){return 4&i.type?new FS(s,i,jp(i,s)):null}class pd{}class GE{}const ZE=function(){return zE(an(),ve())};let D_=(()=>{class i{}return i.__NG_ELEMENT_ID__=ZE,i})();const VS=D_,US=class extends VS{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return jp(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ue(this._hostTNode,this._hostLView);if(Ac(s)){const a=ci(s,this._hostLView),l=Qs(s);return new us(a[1].data[l+8],a)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=cb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,f){const m=l||this.parentInjector;if(!f&&null==s.ngModule&&m){const C=m.get(pd,null);C&&(f=C)}const v=s.create(m,d,void 0,f);return this.insert(v.hostView,a),v}insert(s,a){const l=s._lView,d=l[1];if(vr(l[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const k=l[3],O=new US(k,k[6],k[3]);O.detach(O.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=s),l<f-10?(s[4]=a[d],du(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,l,m,f);const v=b0(f,m),C=l[11],D=Mm(C,m[7]);return null!==D&&function(i,s,a,l,d,f){l[0]=d,l[6]=s,Qc(i,l,a,1,d,f)}(d,m[6],C,l,D,v),s.attachToViewContainerRef(),du(db(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=cb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Nh(this._lContainer,a);l&&(Ni(db(this._lContainer),a),Mh(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Nh(this._lContainer,a);return l&&null!=Ni(db(this._lContainer),a)?new Gp(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function cb(i){return i[8]}function db(i){return i[8]||(i[8]=[])}function zE(i,s){let a;const l=s[i.index];if(vr(l))a=l;else{let d;if(8&i.type)d=zt(l);else{const f=s[11];d=f.createComment("");const m=li(i,s);kl(f,Mm(f,m),d,function(i,s){return nn(i)?i.nextSibling(s):s.nextSibling}(f,m),!1)}s[i.index]=a=Gm(l,s,d,i),Y0(s,a)}return new US(a,i,s)}const uf={};class eg extends fd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Qn(s);return new Pb(a,this.ngModule)}}function Ob(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const aD=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Em});class Pb extends bS{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(pI).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ob(this.componentDef.inputs)}get outputs(){return Ob(this.componentDef.outputs)}create(s,a,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const f=i.get(a,uf,d);return f!==uf||l===uf?f:s.get(a,l,d)}}}(s,d.injector):s,m=f.get($p,os),v=f.get(ib,null),C=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=l?function(i,s,a){if(nn(i))return i.selectRootElement(s,a===Oe.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(C,l,this.componentDef.encapsulation):Wc(m.createRenderer(null,this.componentDef),D,function(i){const s=i.toLowerCase();return"svg"===s?Wa:"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),k=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||Em,clean:xI,playerHandler:s||null,flags:0}}(),$=Tp(0,null,null,1,0,null,null,null,null,null),W=kh(null,$,O,k,null,null,m,C,v,f);let ue,ne;Co(W);try{const Me=function(i,s,a,l,d,f){const m=a[1];a[20]=i;const C=Oh(m,20,2,"#host",null),D=C.mergedAttrs=s.hostAttrs;null!==D&&(Vh(C,D,!0),null!==i&&(sh(d,i,D),null!==C.classes&&C0(d,i,C.classes),null!==C.styles&&cw(d,i,C.styles)));const S=l.createRenderer(i,s),k=kh(a,L0(s),null,s.onPush?64:16,a[20],C,l,S,f||null,null);return m.firstCreatePass&&(Qt(ou(C,a),m,s.type),q0(m,C),Z0(C,a.length,1)),Y0(a,k),a[20]=k}(S,this.componentDef,W,m,C);if(S)if(l)sh(C,S,["ng-version",sb.full]);else{const{attrs:me,classes:Ke}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!Lo(d))break;d=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);me&&sh(C,S,me),Ke&&Ke.length>0&&C0(C,S,Ke.join(" "))}if(ne=zs($,20),void 0!==a){const me=ne.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const dt=a[Ke];me.push(null!=dt?Array.from(dt):null)}}ue=function(i,s,a,l,d){const f=a[1],m=function(i,s,a){const l=an();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),SI(i,l,s,Ph(i,s,1,null),a));const d=Nn(s,i,l.directiveStart,l);kr(d,s);const f=li(l,s);return f&&kr(f,s),d}(f,a,s);if(l.components.push(m),i[8]=m,d&&d.forEach(C=>C(m,s)),s.contentQueries){const C=an();s.contentQueries(1,m,C.directiveStart)}const v=an();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ca(v.index),$0(a[1],v,0,v.directiveStart,v.directiveEnd,s),G0(s,m)),m}(Me,this.componentDef,W,O,[ZI]),Xc($,W,null)}finally{Is()}return new uD(this.componentType,ue,jp(ne,W),W,ne)}}class uD extends class{}{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new BE(d),this.componentType=s}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const wd=new Map;class U_ extends pd{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new eg(this);const l=Di(s),d=s[pt]||null;d&&Hv(d),this._bootstrapComponents=ds(l.bootstrap),this._r3Injector=tv(s,a,[{provide:pd,useValue:this},{provide:fd,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=kn.THROW_IF_NOT_FOUND,l=Ge.Default){return s===kn||s===pd||s===Tu?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Cd extends GE{constructor(s){super(),this.moduleType=s,null!==Di(s)&&function(i){const s=new Set;!function a(l){const d=Di(l,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(f,wd.get(f),l),wd.set(f,l));const m=ds(d.imports);for(const v of m)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new U_(this.moduleType,s)}}function dD(i,s,a,l){return sg(ve(),Vn(),i,s,a,l)}function B_(i,s,a,l,d){return function(i,s,a,l,d,f,m){const v=s+a;return rd(i,v,d,f)?Au(i,v+2,m?l.call(m,d,f):l(d,f)):cf(i,v+2)}(ve(),Vn(),i,s,a,l,d)}function rg(i,s,a,l,d,f){return function(i,s,a,l,d,f,m,v){const C=s+a;return function(i,s,a,l,d){const f=rd(i,s,a,l);return Mi(i,s+2,d)||f}(i,C,d,f,m)?Au(i,C+3,v?l.call(v,d,f,m):l(d,f,m)):cf(i,C+3)}(ve(),Vn(),i,s,a,l,d,f)}function cf(i,s){const a=i[s];return a===_t?void 0:a}function sg(i,s,a,l,d,f){const m=s+a;return Mi(i,m,d)?Au(i,m+1,f?l.call(f,d):l(d)):cf(i,m+1)}function $_(i,s){const a=Ct();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=is(l.type)),m=ri(xp);try{const v=pa(!1),C=f();return pa(v),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,ve(),d,C),C}finally{ri(m)}}function H_(i,s,a){const l=i+20,d=ve(),f=Ws(d,l);return function(i,s){so.isWrapped(s)&&(s=so.unwrap(s),i[Ii()]=_t);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?sg(d,Vn(),s,f.transform,a,f):f.transform(a))}function ff(i){return s=>{setTimeout(i,void 0,s)}}const Ho=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,f,m;let v=s,C=a||(()=>null),D=l;if(s&&"object"==typeof s){const k=s;v=null===(d=k.next)||void 0===d?void 0:d.bind(k),C=null===(f=k.error)||void 0===f?void 0:f.bind(k),D=null===(m=k.complete)||void 0===m?void 0:m.bind(k)}this.__isAsync&&(C=ff(C),v&&(v=ff(v)),D&&(D=ff(D)));const S=super.subscribe({next:v,error:C,complete:D});return s instanceof te.w&&s.add(S),S}};function qn(){return this._results[Sp()]()}class Td{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sp(),l=Td.prototype;l[a]||(l[a]=qn)}get changes(){return this._changes||(this._changes=new Ho)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=di(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Id{constructor(s){this.queryList=s,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Bb(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==z_(s,a).matches&&this.queries[a].setDirty()}}class jb{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class $b{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new $b(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Hb{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Hb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,pN(a,f)),this.matchTNodeWithReadOption(s,a,Xs(a,s,f,!1,!1))}else l===qp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Xs(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===jo||d===D_||d===qp&&4&a.type)this.addMatch(a.index,-2);else{const f=Xs(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function pN(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function og(i,s,a,l){return-1===a?function(i,s){return 11&i.type?jp(i,s):4&i.type?Zp(i,s):null}(s,i):-2===a?function(i,s,a){return a===jo?jp(s,i):a===qp?Zp(s,i):a===D_?zE(s,i):void 0}(i,s,l):Nn(i,i[1],a,s)}function Gb(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,m=a.matches,v=[];for(let C=0;C<m.length;C+=2){const D=m[C];v.push(D<0?null:og(s,f[D],m[C+1],a.metadata.read))}d.matches=v}return d.matches}function Z_(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const m=Gb(i,s,d,a);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)l.push(m[v/2]);else{const D=f[v+1],S=s[-C];for(let k=10;k<S.length;k++){const O=S[k];O[17]===O[3]&&Z_(O[1],O,D,l)}if(null!==S[9]){const k=S[9];for(let O=0;O<k.length;O++){const $=k[O];Z_($[1],$,D,l)}}}}}return l}function qb(i){const s=ve(),a=Ct(),l=ul();ua(l+1);const d=z_(a,l);if(i.dirty&&tl(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Z_(a,s,l,[]):Gb(a,s,d,l);i.reset(f,rb),i.notifyOnChanges()}return!0}return!1}function Ad(i,s,a){const l=Ct();l.firstCreatePass&&(Zb(l,new jb(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),bD(l,ve(),s)}function _D(i,s,a,l){const d=Ct();if(d.firstCreatePass){const f=an();Zb(d,new jb(s,a,l),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}bD(d,ve(),a)}function yD(){return i=ve(),s=ul(),i[19].queries[s].queryList;var i,s}function bD(i,s,a){const l=new Td(4==(4&a));B0(i,s,l,l.destroy),null===s[19]&&(s[19]=new Bb),s[19].queries.push(new Id(l))}function Zb(i,s,a){null===i.queries&&(i.queries=new $b),i.queries.track(new Hb(s,a))}function z_(i,s){return i.queries.getByIndex(s)}function W_(i,s){return Zp(i,s)}const he=new fn("Application Initializer");let Te=(()=>{class i{constructor(a){this.appInits=a,this.resolve=tf,this.reject=tf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Nv(f))a.push(f);else if(Mv(f)){const m=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});a.push(m)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_n(he,8))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const jr=new fn("AppId"),MN={provide:jr,useFactory:function(){return`${u1()}${u1()}${u1()}`},deps:[]};function u1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xD=new fn("Platform Initializer"),RD=new fn("Platform ID"),kD=new fn("appBootstrapListener");let OD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const l1=new fn("LocaleId"),ps=new fn("DefaultCurrencyCode");class It{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const oy=function(i){return new Cd(i)},gg=oy,yi=function(i){return Promise.resolve(oy(i))},PD=function(i){const s=oy(i),l=ds(Di(i).declarations).reduce((d,f)=>{const m=Qn(f);return m&&d.push(new Pb(m)),d},[]);return new It(s,l)},ei=PD,Cr=function(i){return Promise.resolve(PD(i))};let Ra=(()=>{class i{constructor(){this.compileModuleSync=gg,this.compileModuleAsync=yi,this.compileModuleAndAllComponentsSync=ei,this.compileModuleAndAllComponentsAsync=Cr}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();const _g=(()=>Promise.resolve(0))();function Pu(i){"undefined"==typeof Zone?_g.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class gs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ho(!1),this.onMicrotaskEmpty=new Ho(!1),this.onStable=new Ho(!1),this.onError=new Ho(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=ft.requestAnimationFrame,s=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Jl(i),i.isCheckStableRunning=!0,Fu(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Jl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,m,v)=>{try{return d1(i),a.invokeTask(d,f,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),uy(i)}},onInvoke:(a,l,d,f,m,v,C)=>{try{return d1(i),a.invoke(d,f,m,v,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),uy(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Jl(i),Fu(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,We,tf,tf);try{return f.runTask(m,a,l)}finally{f.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const We={};function Fu(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Jl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function d1(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uy(i){i._nesting--,Fu(i)}class h1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ho,this.onMicrotaskEmpty=new Ho,this.onStable=new Ho,this.onError=new Ho}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let vg=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),Pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(_n(gs))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})(),ly=(()=>{class i{constructor(){this._applications=new Map,cy.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return cy.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();class f1{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function LD(i){cy=i}let cy=new f1,bg=!0,vf=!1;function ti(){return vf=!0,bg}function VD(){if(vf)throw new Error("Cannot enable prod mode after platform setup.");bg=!1}let Wt;const UD=new fn("AllowMultipleToken");class VN{constructor(s,a){this.name=s,this.token=a}}function jD(i,s,a=[]){const l=`Platform: ${s}`,d=new fn(l);return(f=[])=>{let m=$D();if(!m||m.injector.get(UD,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:Iu,useValue:"platform"});!function(i){if(Wt&&!Wt.destroyed&&!Wt.injector.get(UD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wt=i.get(bf);const s=i.get(xD,null);s&&s.forEach(a=>a())}(kn.create({providers:v,name:l}))}return function(i){const s=$D();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function $D(){return Wt&&!Wt.destroyed?Wt:null}let bf=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function(i,s){let a;return a="noop"===i?new h1:("zone.js"===i?void 0:i)||new gs({enableLongStackTrace:ti(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:gs,useValue:v}];return v.run(()=>{const D=kn.create({providers:C,parent:this.injector,name:a.moduleType.name}),S=a.create(D),k=S.injector.get(Da,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const O=v.onError.subscribe({next:$=>{k.handleError($)}});S.onDestroy(()=>{py(this._modules,S),O.unsubscribe()})}),function(i,s,a){try{const l=a();return Nv(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,v,()=>{const O=S.injector.get(Te);return O.runInitializers(),O.donePromise.then(()=>(Hv(S.injector.get(l1,Pp)||Pp),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,l=[]){const d=HD({},l);return function(i,s,a){const l=new Cd(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(Cf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${K(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_n(kn))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();function HD(i,s){return Array.isArray(s)?s.reduce(HD,i):Object.assign(Object.assign({},i),s)}let Cf=(()=>{class i{constructor(a,l,d,f,m){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new L.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),Pu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(v,C.pipe((0,ie.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof bS?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(pd),v=d.create(kn.NULL,[],l||d.selector,f),C=v.location.nativeElement,D=v.injector.get(vg,null),S=D&&v.injector.get(ly);return D&&S&&S.registerApplication(C,D),v.onDestroy(()=>{this.detachView(v.hostView),py(this.components,v),S&&S.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;py(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(kD,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(_n(gs),_n(kn),_n(Da),_n(fd),_n(Te))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();function py(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class Ef{}class ho{}const ZD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cg=(()=>{class i{constructor(a,l){this._compiler=a,this._config=l||ZD}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(l).then(f=>f[d]).then(f=>m1(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[l,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+f]).then(m=>m1(m,l,d))}}return i.\u0275fac=function(a){return new(a||i)(_n(Ra),_n(ho,8))},i.\u0275prov=ln({token:i,factory:i.\u0275fac}),i})();function m1(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const $N=function(i){return null},eT=jD(null,"core",[{provide:RD,useValue:"unknown"},{provide:bf,deps:[kn]},{provide:ly,deps:[]},{provide:OD,deps:[]}]),Er=[{provide:Cf,useClass:Cf,deps:[gs,kn,Da,fd,Te]},{provide:aD,deps:[gs],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Te,useClass:Te,deps:[[new va,he]]},{provide:Ra,useClass:Ra,deps:[]},MN,{provide:C_,useFactory:function(){return RS},deps:[]},{provide:Hp,useFactory:function(){return kS},deps:[]},{provide:l1,useFactory:function(i){return Hv(i=i||"undefined"!=typeof $localize&&$localize.locale||Pp),i},deps:[[new ya(l1),new va,new dr]]},{provide:ps,useValue:"USD"}];let rT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_n(Cf))},i.\u0275mod=mo({type:i}),i.\u0275inj=bn({providers:Er}),i})()},8939:(He,_e,F)=>{"use strict";F.d(_e,{hO:()=>de,xv:()=>z,Dh:()=>K,GT:()=>J,cc:()=>xe,on:()=>P,pX:()=>ie});var u=F(7716),te=F(7841),L=F(9396);He=F.hmd(He);const ce=["ngOnDestroy"],ie=(X,re,we,Se={})=>new Proxy(X,{get:(Tt,At)=>we.runOutsideAngular(()=>{var qt;if(X[At])return(null===(qt=null==Se?void 0:Se.spy)||void 0===qt?void 0:qt.get)&&Se.spy.get(At,X[At]),X[At];if(ce.indexOf(At)>-1)return()=>{};const yt=re.toPromise().then(vn=>{const vt=vn&&vn[At];return"function"==typeof vt?vt.bind(vn):vt&&vt.then?vt.then(ht=>we.run(()=>ht)):we.run(()=>vt)});return new Proxy(()=>{},{get:(vn,vt)=>yt[vt],apply:(vn,vt,ht)=>yt.then(kt=>{var rt;const Ft=kt&&kt(...ht);return(null===(rt=null==Se?void 0:Se.spy)||void 0===rt?void 0:rt.apply)&&Se.spy.apply(At,ht,Ft),Ft})})})}),J=(X,re)=>{re.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(Se=>{Object.defineProperty(X.prototype,Se,Object.getOwnPropertyDescriptor(we.prototype||we,Se))})})};class oe{constructor(re){return re}}const K=new u.OlP("angularfire2.app.options"),z=new u.OlP("angularfire2.app.name");function P(X,re,we){const Tt="object"==typeof we&&we||{};Tt.name=Tt.name||"string"==typeof we&&we||"[DEFAULT]";const qt=te.Z.apps.filter(yt=>yt&&yt.name===Tt.name)[0]||re.runOutsideAngular(()=>te.Z.initializeApp(X,Tt));try{JSON.stringify(X)!==JSON.stringify(qt.options)&&B("error",`${qt.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new oe(qt)}const B=(X,...re)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[X](...re)},G={provide:oe,useFactory:P,deps:[K,u.R0b,[new u.FiY,z]]};let de=(()=>{class X{constructor(we){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,we.toString())}static initializeApp(we,Se){return{ngModule:X,providers:[{provide:K,useValue:we},{provide:z,useValue:Se}]}}}return X.\u0275fac=function(we){return new(we||X)(u.LFG(u.Lbi))},X.\u0275mod=u.oAB({type:X}),X.\u0275inj=u.cJS({providers:[G]}),X})();function xe(X,re,we,Se,Tt){const[,At,qt]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===X)||[];if(At)return function(X,re){try{return X.toString()===re.toString()}catch(we){return X===re}}(Tt,qt)||(fe("error",`${re} was already initialized on the ${we} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Tt,was:qt})),At;{const yt=Se();return globalThis.\u0275AngularfireInstanceCache.push([X,yt,Tt]),yt}}const be=!!He.hot,fe=(X,...re)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[X](...re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(He,_e,F)=>{"use strict";F.d(_e,{q4:()=>hh,iC:()=>Tn,fc:()=>gl,HU:()=>xc,vb:()=>du,JM:()=>ls});var u=F(7716),te=F(2329),L=F(8239),ce=F(8026),ie=F(3854),J=F(3910),oe=F(5422),K=F(6676);const z="@firebase/installations",P="0.5.4",G=`w:${P}`,de="FIS_v2",re=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(E){return E instanceof ie.ZR&&E.code.includes("request-failed")}function Se({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Tt(E){return{token:E.token,requestStatus:2,expiresIn:kt(E.expiresIn),creationTime:Date.now()}}function At(E,A){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(E,A){const U=(yield A.json()).error;return re.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function yt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function vn(E,{refreshToken:A}){const R=yt(E);return R.append("Authorization",function(E){return`${de} ${E}`}(A)),R}function vt(E){return ht.apply(this,arguments)}function ht(){return(ht=(0,L.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function kt(E){return Number(E.replace("s","000"))}function Ft(E,A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,L.Z)(function*(E,{fid:A}){const R=Se(E),le={method:"POST",headers:yt(E),body:JSON.stringify({fid:A,authVersion:de,appId:E.appId,sdkVersion:G})},Ce=yield vt(()=>fetch(R,le));if(Ce.ok){const Le=yield Ce.json();return{fid:Le.fid||A,registrationStatus:2,refreshToken:Le.refreshToken,authToken:Tt(Le.authToken)}}throw yield At("Create Installation",Ce)})).apply(this,arguments)}function Zu(E){return new Promise(A=>{setTimeout(A,E)})}const bs=/^[cdef][\w-]{21}$/;function Ot(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const R=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return bs.test(R)?R:""}catch(E){return""}}function ws(E){return`${E.appName}!${E.appId}`}const po=new Map;function Cs(E,A){const R=ws(E);bn(R,A),function(E,A){const R=(!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=E=>{bn(E.data.key,E.data.fid)}),Lt);R&&R.postMessage({key:E,fid:A}),0===po.size&&Lt&&(Lt.close(),Lt=null)}(R,A)}function bn(E,A){const R=po.get(E);if(R)for(const U of R)U(A)}let Lt=null;const De="firebase-installations-store";let ur=null;function Zn(){return ur||(ur=(0,K.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(De)}})),ur}function Ge(E,A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,L.Z)(function*(E,A){const R=ws(E),Q=(yield Zn()).transaction(De,"readwrite"),le=Q.objectStore(De),Ce=yield le.get(R);return yield le.put(A,R),yield Q.complete,(!Ce||Ce.fid!==A.fid)&&Cs(E,A.fid),A})).apply(this,arguments)}function Bi(E){return ri.apply(this,arguments)}function ri(){return(ri=(0,L.Z)(function*(E){const A=ws(E),U=(yield Zn()).transaction(De,"readwrite");yield U.objectStore(De).delete(A),yield U.complete})).apply(this,arguments)}function Qe(E,A){return it.apply(this,arguments)}function it(){return(it=(0,L.Z)(function*(E,A){const R=ws(E),Q=(yield Zn()).transaction(De,"readwrite"),le=Q.objectStore(De),Ce=yield le.get(R),Le=A(Ce);return void 0===Le?yield le.delete(R):yield le.put(Le,R),yield Q.complete,Le&&(!Ce||Ce.fid!==Le.fid)&&Cs(E,Le.fid),Le})).apply(this,arguments)}function Nt(E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,L.Z)(function*(E){let A;const R=yield Qe(E,U=>{const Q=ii(U),le=Zt(E,Q);return A=le.registrationPromise,le.installationEntry});return""===R.fid?{installationEntry:yield A}:{installationEntry:R,registrationPromise:A}})).apply(this,arguments)}function ii(E){return ft(E||{fid:Ot(),registrationStatus:0})}function Zt(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(re.create("app-offline"))};const R={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(E,A){return Ye.apply(this,arguments)}(E,R)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:zu(E)}:{installationEntry:A}}function Ye(){return(Ye=(0,L.Z)(function*(E,A){try{return Ge(E,yield Ft(E,A))}catch(R){throw we(R)&&409===R.customData.serverCode?yield Bi(E):yield Ge(E,{fid:A.fid,registrationStatus:0}),R}})).apply(this,arguments)}function zu(E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,L.Z)(function*(E){let A=yield Kt(E);for(;1===A.registrationStatus;)yield Zu(100),A=yield Kt(E);if(0===A.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Nt(E);return U||R}return A})).apply(this,arguments)}function Kt(E){return Qe(E,A=>{if(!A)throw re.create("installation-not-found");return ft(A)})}function ft(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function dc(E,A){return Z.apply(this,arguments)}function Z(){return(Z=(0,L.Z)(function*({appConfig:E,platformLoggerProvider:A},R){const U=j(E,R),Q=vn(E,R),le=A.getImmediate({optional:!0});le&&Q.append("x-firebase-client",le.getPlatformInfoString());const Le={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:G}})},Be=yield vt(()=>fetch(U,Le));if(Be.ok)return Tt(yield Be.json());throw yield At("Generate Auth Token",Be)})).apply(this,arguments)}function j(E,{fid:A}){return`${Se(E)}/${A}/authTokens:generate`}function Y(E){return ye.apply(this,arguments)}function ye(){return(ye=(0,L.Z)(function*(E,A=!1){let R;const U=yield Qe(E.appConfig,le=>{if(!Pn(le))throw re.create("not-registered");const Ce=le.authToken;if(!A&&Ir(Ce))return le;if(1===Ce.requestStatus)return R=se(E,A),le;{if(!navigator.onLine)throw re.create("app-offline");const Le=_r(le);return R=Vt(E,Le),Le}});return R?yield R:U.authToken})).apply(this,arguments)}function se(E,A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,L.Z)(function*(E,A){let R=yield pt(E.appConfig);for(;1===R.authToken.requestStatus;)yield Zu(100),R=yield pt(E.appConfig);const U=R.authToken;return 0===U.requestStatus?Y(E,A):U})).apply(this,arguments)}function pt(E){return Qe(E,A=>{if(!Pn(A))throw re.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Vt(E,A){return On.apply(this,arguments)}function On(){return(On=(0,L.Z)(function*(E,A){try{const R=yield dc(E,A),U=Object.assign(Object.assign({},A),{authToken:R});return yield Ge(E.appConfig,U),R}catch(R){if(!we(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ge(E.appConfig,U)}else yield Bi(E.appConfig);throw R}})).apply(this,arguments)}function Pn(E){return void 0!==E&&2===E.registrationStatus}function Ir(E){return 2===E.requestStatus&&!function(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+36e5}(E)}function _r(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}function mo(){return(mo=(0,L.Z)(function*(E){const A=E,{installationEntry:R,registrationPromise:U}=yield Nt(A.appConfig);return U?U.catch(console.error):Y(A).catch(console.error),R.fid})).apply(this,arguments)}function _o(){return(_o=(0,L.Z)(function*(E,A=!1){const R=E;return yield hc(R.appConfig),(yield Y(R,A)).token})).apply(this,arguments)}function hc(E){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,L.Z)(function*(E){const{registrationPromise:A}=yield Nt(E);A&&(yield A)})).apply(this,arguments)}function en(E){return re.create("missing-app-config-values",{valueName:E})}const qr="installations";(0,ce._registerComponent)(new J.wA(qr,E=>{const A=E.getProvider("app").getImmediate();return{app:A,appConfig:function(E){if(!E||!E.options)throw en("App Configuration");if(!E.name)throw en("App Name");const A=["projectId","apiKey","appId"];for(const R of A)if(!E.options[R])throw en(R);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A),platformLoggerProvider:(0,ce._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",E=>{const A=E.getProvider("app").getImmediate(),R=(0,ce._getProvider)(A,qr).getImmediate();return{getId:()=>function(E){return mo.apply(this,arguments)}(R),getToken:Q=>function(E){return _o.apply(this,arguments)}(R,Q)}},"PRIVATE")),(0,ce.registerVersion)(z,P),(0,ce.registerVersion)(z,P,"esm2017");const ai="@firebase/remote-config",lr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zr{constructor(A,R,U,Q){this.client=A,this.storage=R,this.storageCache=U,this.logger=Q}isCachedDataFresh(A,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,Q=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Q}.`),Q}fetch(A){var R=this;return(0,L.Z)(function*(){const[U,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(A.cacheMaxAgeMillis,U))return Q;A.eTag=Q&&Q.eTag;const le=yield R.client.fetch(A),Ce=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ce.push(R.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ce),le})()}}function $i(E=navigator){return E.languages&&E.languages[0]||E.language}class Hi{constructor(A,R,U,Q,le,Ce){this.firebaseInstallations=A,this.sdkVersion=R,this.namespace=U,this.projectId=Q,this.apiKey=le,this.appId=Ce}fetch(A){var R=this;return(0,L.Z)(function*(){const[U,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Le={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Be={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:R.appId,language_code:$i()},xt={method:"POST",headers:Le,body:JSON.stringify(Be)},rn=fetch(Ce,xt),Bn=new Promise((Yi,Ki)=>{A.signal.addEventListener(()=>{const lt=new Error("The operation was aborted.");lt.name="AbortError",Ki(lt)})});let Yr;try{yield Promise.race([rn,Bn]),Yr=yield rn}catch(Yi){let Ki="fetch-client-network";throw"AbortError"===Yi.name&&(Ki="fetch-timeout"),lr.create(Ki,{originalErrorMessage:Yi.message})}let tr=Yr.status;const ml=Yr.headers.get("ETag")||void 0;let So,_l;if(200===Yr.status){let Yi;try{Yi=yield Yr.json()}catch(Ki){throw lr.create("fetch-client-parse",{originalErrorMessage:Ki.message})}So=Yi.entries,_l=Yi.state}if("INSTANCE_STATE_UNSPECIFIED"===_l?tr=500:"NO_CHANGE"===_l?tr=304:("NO_TEMPLATE"===_l||"EMPTY_CONFIG"===_l)&&(So={}),304!==tr&&200!==tr)throw lr.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:ml,config:So}})()}}class pc{constructor(A,R){this.client=A,this.storage=R}fetch(A){var R=this;return(0,L.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:R,backoffCount:U}){var Q=this;return(0,L.Z)(function*(){yield function(E,A){return new Promise((R,U)=>{const Q=Math.max(A-Date.now(),0),le=setTimeout(R,Q);E.addEventListener(()=>{clearTimeout(le),U(lr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,R);try{const le=yield Q.client.fetch(A);return yield Q.storage.deleteThrottleMetadata(),le}catch(le){if(!function(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(le))throw le;const Ce={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(Ce),Q.attemptFetch(A,Ce)}})()}}class qg{constructor(A,R,U,Q,le){this.app=A,this._client=R,this._storageCache=U,this._storage=Q,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ga(E,A){const R=E.target.error||void 0;return lr.create(A,{originalErrorMessage:R&&R.message})}const ta="app_namespace_store";class Zg{constructor(A,R,U,Q=function(){return new Promise((E,A)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{A(Ga(U,"storage-open"))},R.onsuccess=U=>{E(U.target.result)},R.onupgradeneeded=U=>{const Q=U.target.result;switch(U.oldVersion){case 0:Q.createObjectStore(ta,{keyPath:"compositeKey"})}}}catch(R){A(lr.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=A,this.appName=R,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,le)=>{const Le=U.transaction([ta],"readonly").objectStore(ta),Be=R.createCompositeKey(A);try{const xt=Le.get(Be);xt.onerror=rn=>{le(Ga(rn,"storage-get"))},xt.onsuccess=rn=>{const Bn=rn.target.result;Q(Bn?Bn.value:void 0)}}catch(xt){le(lr.create("storage-get",{originalErrorMessage:xt&&xt.message}))}})})()}set(A,R){var U=this;return(0,L.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((le,Ce)=>{const Be=Q.transaction([ta],"readwrite").objectStore(ta),xt=U.createCompositeKey(A);try{const rn=Be.put({compositeKey:xt,value:R});rn.onerror=Bn=>{Ce(Ga(Bn,"storage-set"))},rn.onsuccess=()=>{le()}}catch(rn){Ce(lr.create("storage-set",{originalErrorMessage:rn&&rn.message}))}})})()}delete(A){var R=this;return(0,L.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,le)=>{const Le=U.transaction([ta],"readwrite").objectStore(ta),Be=R.createCompositeKey(A);try{const xt=Le.delete(Be);xt.onerror=rn=>{le(Ga(rn,"storage-delete"))},xt.onsuccess=()=>{Q()}}catch(xt){le(lr.create("storage-delete",{originalErrorMessage:xt&&xt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Zd{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const R=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),Q=A.storage.getActiveConfig(),le=yield R;le&&(A.lastFetchStatus=le);const Ce=yield U;Ce&&(A.lastSuccessfulFetchTimestampMillis=Ce);const Le=yield Q;Le&&(A.activeConfig=Le)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function mc(){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,L.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("remote-config",function(A,{instanceIdentifier:R}){const U=A.getProvider("app").getImmediate(),Q=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw lr.create("registration-window");if(!(0,ie.hl)())throw lr.create("indexed-db-unavailable");const{projectId:le,apiKey:Ce,appId:Le}=U.options;if(!le)throw lr.create("registration-project-id");if(!Ce)throw lr.create("registration-api-key");if(!Le)throw lr.create("registration-app-id");const Be=new Zg(Le,U.name,R=R||"firebase"),xt=new Zd(Be),rn=new oe.Yd(ai);rn.logLevel=oe.in.ERROR;const Bn=new Hi(Q,ce.SDK_VERSION,R,le,Ce,Le),Yr=new pc(Bn,Be),tr=new zr(Yr,Be,xt,rn),ml=new qg(U,tr,xt,Be,rn);return function(E){const A=(0,ie.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ml),ml},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ai,"0.3.3"),(0,ce.registerVersion)(ai,"0.3.3","esm2017");const na="/firebase-messaging-sw.js",Wg="/firebase-cloud-messaging-push-scope",qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",is="google.c.a.c_id",Za="google.c.a.c_l",mn="google.c.a.ts",za="google.c.a.e";var Nr=(()=>{return(E=Nr||(Nr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Nr;var E})();function ss(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ju(E){const R=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),Q=new Uint8Array(U.length);for(let le=0;le<U.length;++le)Q[le]=U.charCodeAt(le);return Q}const Qu="fcm_token_details_db",qf="fcm_token_object_Store";function ui(E){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Qu))return null;let A=null;return(yield(0,K.openDb)(Qu,5,function(){var U=(0,L.Z)(function*(Q){var le;if(Q.oldVersion<2||!Q.objectStoreNames.contains(qf))return;const Ce=Q.transaction.objectStore(qf),Le=yield Ce.index("fcmSenderId").get(E);if(yield Ce.clear(),Le)if(2===Q.oldVersion){const Be=Le;if(!Be.auth||!Be.p256dh||!Be.endpoint)return;A={token:Be.fcmToken,createTime:null!==(le=Be.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:Be.auth,p256dh:Be.p256dh,endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:"string"==typeof Be.vapidKey?Be.vapidKey:ss(Be.vapidKey)}}}else if(3===Q.oldVersion){const Be=Le;A={token:Be.fcmToken,createTime:Be.createTime,subscriptionOptions:{auth:ss(Be.auth),p256dh:ss(Be.p256dh),endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:ss(Be.vapidKey)}}}else if(4===Q.oldVersion){const Be=Le;A={token:Be.fcmToken,createTime:Be.createTime,subscriptionOptions:{auth:ss(Be.auth),p256dh:ss(Be.p256dh),endpoint:Be.endpoint,swScope:Be.swScope,vapidKey:ss(Be.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,K.deleteDb)(Qu),yield(0,K.deleteDb)("fcm_vapid_details_db"),yield(0,K.deleteDb)("undefined"),Yd(A)?A:null})).apply(this,arguments)}function Yd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Zs="firebase-messaging-store";let Kd=null;function nn(){return Kd||(Kd=(0,K.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(Zs)}})),Kd}function Jd(E){return os.apply(this,arguments)}function os(){return(os=(0,L.Z)(function*(E){const A=wo(E),U=yield(yield nn()).transaction(Zs).objectStore(Zs).get(A);if(U)return U;{const Q=yield ui(E.appConfig.senderId);if(Q)return yield Gi(E,Q),Q}})).apply(this,arguments)}function Gi(E,A){return zt.apply(this,arguments)}function zt(){return(zt=(0,L.Z)(function*(E,A){const R=wo(E),Q=(yield nn()).transaction(Zs,"readwrite");return yield Q.objectStore(Zs).put(A,R),yield Q.complete,A})).apply(this,arguments)}function ia(E){return el.apply(this,arguments)}function el(){return(el=(0,L.Z)(function*(E){const A=wo(E),U=(yield nn()).transaction(Zs,"readwrite");yield U.objectStore(Zs).delete(A),yield U.complete})).apply(this,arguments)}function wo({appConfig:E}){return E.appId}const Wn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zs(E,A){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,L.Z)(function*(E,A){const R=yield Ya(E),U=ot(A),Q={method:"POST",headers:R,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(Ln(E.appConfig),Q)).json()}catch(Ce){throw Wn.create("token-subscribe-failed",{errorInfo:Ce})}if(le.error)throw Wn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Wn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function br(E,A){return tl.apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(E,A){const R=yield Ya(E),U=ot(A.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(U)};let le;try{le=yield(yield fetch(`${Ln(E.appConfig)}/${A.token}`,Q)).json()}catch(Ce){throw Wn.create("token-update-failed",{errorInfo:Ce})}if(le.error)throw Wn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Wn.create("token-update-no-token");return le.token})).apply(this,arguments)}function nl(E,A){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,L.Z)(function*(E,A){const U={method:"DELETE",headers:yield Ya(E)};try{const le=yield(yield fetch(`${Ln(E.appConfig)}/${A}`,U)).json();if(le.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Q){throw Wn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Ln({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ya(E){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,L.Z)(function*({appConfig:E,installations:A}){const R=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ot({p256dh:E,auth:A,endpoint:R,vapidKey:U}){const Q={web:{endpoint:R,auth:A,p256dh:E}};return U!==qa&&(Q.web.applicationPubKey=U),Q}const rl=6048e5;function Qd(E){return il.apply(this,arguments)}function il(){return(il=(0,L.Z)(function*(E){const A=yield sl(E.swRegistration,E.vapidKey),R={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:ss(A.getKey("auth")),p256dh:ss(A.getKey("p256dh"))},U=yield Jd(E.firebaseDependencies);if(U){if(ol(U.subscriptionOptions,R))return Date.now()>=U.createTime+rl?_c(E,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield nl(E.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return ve(E.firebaseDependencies,R)}return ve(E.firebaseDependencies,R)})).apply(this,arguments)}function Xd(E){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,L.Z)(function*(E){const A=yield Jd(E.firebaseDependencies);A&&(yield nl(E.firebaseDependencies,A.token),yield ia(E.firebaseDependencies));const R=yield E.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function _c(E,A){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,L.Z)(function*(E,A){try{const R=yield br(E.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:R,createTime:Date.now()});return yield Gi(E.firebaseDependencies,U),R}catch(R){throw yield Xd(E),R}})).apply(this,arguments)}function ve(E,A){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,L.Z)(function*(E,A){const U={token:yield zs(E,A),createTime:Date.now(),subscriptionOptions:A};return yield Gi(E,U),U.token})).apply(this,arguments)}function sl(E,A){return an.apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ju(A)})})).apply(this,arguments)}function ol(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}function as(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,A){if(!A.notification)return;E.notification={};const R=A.notification.title;R&&(E.notification.title=R);const U=A.notification.body;U&&(E.notification.body=U);const Q=A.notification.image;Q&&(E.notification.image=Q)}(A,E),function(E,A){!A.data||(E.data=A.data)}(A,E),function(E,A){if(!A.fcmOptions)return;E.fcmOptions={};const R=A.fcmOptions.link;R&&(E.fcmOptions.link=R);const U=A.fcmOptions.analytics_label;U&&(E.fcmOptions.analyticsLabel=U)}(A,E),A}function eh(E){return"object"==typeof E&&!!E&&is in E}function yc(E,A){const R=[];for(let U=0;U<E.length;U++)R.push(E.charAt(U)),U<A.length&&R.push(A.charAt(U));return R.join("")}function aa(E){return Wn.create("missing-app-config-values",{valueName:E})}yc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vn{constructor(A,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(E){if(!E||!E.options)throw aa("App Configuration Object");if(!E.name)throw aa("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:R}=E;for(const U of A)if(!R[U])throw aa(U);return{appName:E.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Q,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ii(E){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(na,{scope:Wg}),E.swRegistration.update().catch(()=>{})}catch(A){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function qi(E,A){return xr.apply(this,arguments)}function xr(){return(xr=(0,L.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield Ii(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function vc(E,A){return al.apply(this,arguments)}function al(){return(al=(0,L.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=qa)})).apply(this,arguments)}function bc(){return(bc=(0,L.Z)(function*(E,A){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield vc(E,null==A?void 0:A.vapidKey),yield qi(E,null==A?void 0:A.serviceWorkerRegistration),Qd(E)})).apply(this,arguments)}function tu(E,A,R){return nu.apply(this,arguments)}function nu(){return(nu=(0,L.Z)(function*(E,A,R){const U=ul(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[is],message_name:R[Za],message_time:R[mn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ul(E){switch(E){case Nr.NOTIFICATION_CLICKED:return"notification_open";case Nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,L.Z)(function*(E,A){const R=A.data;if(!R.isFirebaseMessaging)return;E.onMessageHandler&&R.messageType===Nr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(as(R)):E.onMessageHandler.next(as(R)));const U=R.data;eh(U)&&"1"===U[za]&&(yield tu(E,R.messageType,U))})).apply(this,arguments)}const wc="@firebase/messaging";function rh(){return Is.apply(this,arguments)}function Is(){return(Is=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("messaging",E=>{const A=new Vn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(E,A){return la.apply(this,arguments)}(A,R)),A},"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:U=>function(E,A){return bc.apply(this,arguments)}(A,U)}},"PRIVATE")),(0,ce.registerVersion)(wc,"0.9.4"),(0,ce.registerVersion)(wc,"0.9.4","esm2017");const da="analytics",Yf="firebase_id",Ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iu="https://www.googletagmanager.com/gtag/js",Sn=new oe.Yd("@firebase/analytics");function Tc(E){return Promise.all(E.map(A=>A.catch(R=>R)))}function Kf(E,A){const R=document.createElement("script");R.src=`${iu}?l=${E}&id=${A}`,R.async=!0,document.head.appendChild(R)}function ha(E,A,R,U,Q,le){return ih.apply(this,arguments)}function ih(){return(ih=(0,L.Z)(function*(E,A,R,U,Q,le){const Ce=U[Q];try{if(Ce)yield A[Ce];else{const Be=(yield Tc(R)).find(xt=>xt.measurementId===Q);Be&&(yield A[Be.appId])}}catch(Le){Sn.error(Le)}E("config",Q,le)})).apply(this,arguments)}function fa(E,A,R,U,Q){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(E,A,R,U,Q){try{let le=[];if(Q&&Q.send_to){let Ce=Q.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Le=yield Tc(R);for(const Be of Ce){const xt=Le.find(Bn=>Bn.measurementId===Be),rn=xt&&A[xt.appId];if(!rn){le=[];break}le.push(rn)}}0===le.length&&(le=Object.values(A)),yield Promise.all(le),E("event",U,Q||{})}catch(le){Sn.error(le)}})).apply(this,arguments)}function Kg(){const E=window.document.getElementsByTagName("script");for(const A of Object.values(E))if(A.src&&A.src.includes(iu))return A;return null}const Zi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class{constructor(A={},R=1e3){this.throttleMetadata=A,this.intervalMillis=R}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,R){this.throttleMetadata[A]=R}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Xf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Ac(E){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,L.Z)(function*(E){var A;const{appId:R,apiKey:U}=E,Q={method:"GET",headers:Xf(U)},le=Ks.replace("{app-id}",R),Ce=yield fetch(le,Q);if(200!==Ce.status&&304!==Ce.status){let Le="";try{const Be=yield Ce.json();(null===(A=Be.error)||void 0===A?void 0:A.message)&&(Le=Be.error.message)}catch(Be){}throw Zi.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Le})}return Ce.json()})).apply(this,arguments)}function oh(E){return ci.apply(this,arguments)}function ci(){return(ci=(0,L.Z)(function*(E,A=cl,R){const{appId:U,apiKey:Q,measurementId:le}=E.options;if(!U)throw Zi.create("no-app-id");if(!Q){if(le)return{measurementId:le,appId:U};throw Zi.create("no-api-key")}const Ce=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Le=new ep;return setTimeout((0,L.Z)(function*(){Le.abort()}),void 0!==R?R:6e4),su({appId:U,apiKey:Q,measurementId:le},Ce,Le,A)})).apply(this,arguments)}function su(E,A,R){return pa.apply(this,arguments)}function pa(){return(pa=(0,L.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:R},U,Q=cl){const{appId:le,measurementId:Ce}=E;try{yield Qy(U,A)}catch(Le){if(Ce)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Le.message}]`),{appId:le,measurementId:Ce};throw Le}try{const Le=yield Ac(E);return Q.deleteThrottleMetadata(le),Le}catch(Le){if(!ah(Le)){if(Q.deleteThrottleMetadata(le),Ce)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Le.message}]`),{appId:le,measurementId:Ce};throw Le}const Be=503===Number(Le.customData.httpStatus)?(0,ie.$s)(R,Q.intervalMillis,30):(0,ie.$s)(R,Q.intervalMillis),xt={throttleEndTimeMillis:Date.now()+Be,backoffCount:R+1};return Q.setThrottleMetadata(le,xt),Sn.debug(`Calling attemptFetch again in ${Be} millis`),su(E,xt,U,Q)}})).apply(this,arguments)}function Qy(E,A){return new Promise((R,U)=>{const Q=Math.max(A-Date.now(),0),le=setTimeout(R,Q);E.addEventListener(()=>{clearTimeout(le),U(Zi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function ah(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}class ep{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function uh(){return dl.apply(this,arguments)}function dl(){return(dl=(0,L.Z)(function*(){if(!(0,ie.hl)())return Sn.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(E){return Sn.warn(Zi.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Eo(){return(Eo=(0,L.Z)(function*(E,A,R,U,Q,le,Ce){var Le;const Be=oh(E);Be.then(tr=>{R[tr.measurementId]=tr.appId,E.options.measurementId&&tr.measurementId!==E.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>Sn.error(tr)),A.push(Be);const xt=uh().then(tr=>{if(tr)return U.getId()}),[rn,Bn]=yield Promise.all([Be,xt]);Kg()||Kf(le,rn.measurementId),Q("js",new Date);const Yr=null!==(Le=null==Ce?void 0:Ce.config)&&void 0!==Le?Le:{};return Yr.origin="firebase",Yr.update=!0,null!=Bn&&(Yr[Yf]=Bn),Q("config",rn.measurementId,Yr),rn.measurementId})).apply(this,arguments)}class Jt{constructor(A){this.app=A}_delete(){return delete Ue[this.app.options.appId],Promise.resolve()}}let Ue={},Qt=[];const Sc={};let Do,un,En="dataLayer",au=!1;function Nn(E,A,R){!function(){const E=[];if((0,ie.ru)()&&E.push("This is a browser extension environment."),(0,ie.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),R=Zi.create("invalid-analytics-context",{errorInfo:A});Sn.warn(R.message)}}();const U=E.options.appId;if(!U)throw Zi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Zi.create("no-api-key");Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ue[U])throw Zi.create("already-exists",{id:U});if(!au){!function(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(En);const{wrappedGtag:le,gtagCore:Ce}=function(E,A,R,U,Q){let le=function(...Ce){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(le=window[Q]),window[Q]=function(E,A,R,U){function le(){return(le=(0,L.Z)(function*(Ce,Le,Be){try{"event"===Ce?yield fa(E,A,R,Le,Be):"config"===Ce?yield ha(E,A,R,U,Le,Be):E("set",Le)}catch(xt){Sn.error(xt)}})).apply(this,arguments)}return function(Ce,Le,Be){return le.apply(this,arguments)}}(le,E,A,R),{gtagCore:le,wrappedGtag:window[Q]}}(Ue,Qt,Sc,En,"gtag");un=le,Do=Ce,au=!0}return Ue[U]=function(E,A,R,U,Q,le,Ce){return Eo.apply(this,arguments)}(E,Qt,Sc,A,Do,En,R),new Jt(E)}function ga(){return(ga=(0,L.Z)(function*(E,A,R,U,Q){if(Q&&Q.global)E("event",R,U);else{const le=yield A;E("event",R,Object.assign(Object.assign({},U),{send_to:le}))}})).apply(this,arguments)}function Wi(){return ch.apply(this,arguments)}function ch(){return(ch=(0,L.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(E){return!1}})).apply(this,arguments)}const dh="@firebase/analytics";(0,ce._registerComponent)(new J.wA(da,(A,{options:R})=>Nn(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function(A){try{const R=A.getProvider(da).getImmediate();return{logEvent:(U,Q,le)=>function(E,A,R,U){E=(0,ie.m9)(E),function(E,A,R,U,Q){return ga.apply(this,arguments)}(un,Ue[E.app.options.appId],A,R,U).catch(Q=>Sn.error(Q))}(R,U,Q,le)}}catch(R){throw Zi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ce.registerVersion)(dh,"0.7.4"),(0,ce.registerVersion)(dh,"0.7.4","esm2017");var Xy=F(7771),pl=F(3637),ma=F(8307),cu=F(9746),em=F(2639);const hh=new u.GfV("7.2.0"),Nc="__angularfire_symbol__analyticsIsSupported",to="__angularfire_symbol__remoteConfigIsSupported",xs="__angularfire_symbol__messagingIsSupported";function ls(E,A,R){if(A){if(1===A.length)return A[0];const le=A.filter(Ce=>Ce.app===R);if(1===le.length)return le[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[Nc]||(globalThis[Nc]=Wi().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[xs]||(globalThis[xs]=rh().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[to]||(globalThis[to]=mc().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const du=(E,A)=>{const R=A?[A]:(0,te.C6)(),U=[];return R.forEach(Q=>{Q.container.getProvider(E).instances.forEach(Ce=>{U.includes(Ce)||U.push(Ce)})}),U};function Ni(){}class Rs{constructor(A,R=Xy.N){this.zone=A,this.delegate=R}now(){return this.delegate.now()}schedule(A,R,U){const Q=this.zone;return this.delegate.schedule(function(Ce){Q.runGuarded(()=>{A.apply(this,[Ce])})},R,U)}}class ph{constructor(A){this.zone=A,this.task=null}call(A,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),R.pipe((0,ma.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xc=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Rs(Zone.current)),this.insideAngular=R.run(()=>new Rs(Zone.current,pl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Io(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function gl(E){return E.pipe((0,cu.QV)(Io().outsideAngular))}function Tn(E){return Io(),function(E){return function(R){return(R=R.lift(new ph(E.ngZone))).pipe((0,em.R)(E.outsideAngular),(0,cu.QV)(E.insideAngular))}}(Io())(E)}},3854:(He,_e,F)=>{"use strict";F.d(_e,{BH:()=>de,LL:()=>Ze,ZR:()=>Ft,zI:()=>ht,US:()=>J,tV:()=>z,$s:()=>Kt,r3:()=>ln,Sg:()=>xe,ne:()=>ur,vZ:()=>Lt,ZB:()=>B,pd:()=>rs,m9:()=>dc,z$:()=>Ne,jU:()=>X,ru:()=>re,d:()=>Se,xb:()=>bn,w1:()=>Tt,hl:()=>vn,uI:()=>be,UG:()=>fe,b$:()=>we,G6:()=>yt,Mn:()=>At,xO:()=>Yo,zd:()=>Ui,eu:()=>vt});const ce=function(Z){const j=[];let Y=0;for(let ye=0;ye<Z.length;ye++){let se=Z.charCodeAt(ye);se<128?j[Y++]=se:se<2048?(j[Y++]=se>>6|192,j[Y++]=63&se|128):55296==(64512&se)&&ye+1<Z.length&&56320==(64512&Z.charCodeAt(ye+1))?(se=65536+((1023&se)<<10)+(1023&Z.charCodeAt(++ye)),j[Y++]=se>>18|240,j[Y++]=se>>12&63|128,j[Y++]=se>>6&63|128,j[Y++]=63&se|128):(j[Y++]=se>>12|224,j[Y++]=se>>6&63|128,j[Y++]=63&se|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let se=0;se<Z.length;se+=3){const Ve=Z[se],pt=se+1<Z.length,Vt=pt?Z[se+1]:0,On=se+2<Z.length,Pn=On?Z[se+2]:0;let _r=(15&Vt)<<2|Pn>>6,go=63&Pn;On||(go=64,pt||(_r=64)),ye.push(Y[Ve>>2],Y[(3&Ve)<<4|Vt>>4],Y[_r],Y[go])}return ye.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(ce(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let Y=0,ye=0;for(;Y<Z.length;){const se=Z[Y++];if(se<128)j[ye++]=String.fromCharCode(se);else if(se>191&&se<224){const Ve=Z[Y++];j[ye++]=String.fromCharCode((31&se)<<6|63&Ve)}else if(se>239&&se<365){const On=((7&se)<<18|(63&Z[Y++])<<12|(63&Z[Y++])<<6|63&Z[Y++])-65536;j[ye++]=String.fromCharCode(55296+(On>>10)),j[ye++]=String.fromCharCode(56320+(1023&On))}else{const Ve=Z[Y++],pt=Z[Y++];j[ye++]=String.fromCharCode((15&se)<<12|(63&Ve)<<6|63&pt)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let se=0;se<Z.length;){const Ve=Y[Z.charAt(se++)],Vt=se<Z.length?Y[Z.charAt(se)]:0;++se;const Pn=se<Z.length?Y[Z.charAt(se)]:64;++se;const Pt=se<Z.length?Y[Z.charAt(se)]:64;if(++se,null==Ve||null==Vt||null==Pn||null==Pt)throw Error();ye.push(Ve<<2|Vt>>4),64!==Pn&&(ye.push(Vt<<4&240|Pn>>2),64!==Pt&&ye.push(Pn<<6&192|Pt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},K=function(Z){return function(Z){const j=ce(Z);return J.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},z=function(Z){try{return J.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function B(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const Y in j)!j.hasOwnProperty(Y)||!G(Y)||(Z[Y]=B(Z[Y],j[Y]));return Z}function G(Z){return"__proto__"!==Z}class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,ye)=>{Y?this.reject(Y):this.resolve(ye),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,ye))}}}function xe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=j||"demo-project",se=Z.iat||0,Ve=Z.sub||Z.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:se,exp:se+3600,auth_time:se,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(pt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function X(){return"object"==typeof self&&self.self===self}function re(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return Ne().indexOf("Electron/")>=0}function Tt(){const Z=Ne();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function At(){return Ne().indexOf("MSAppHost/")>=0}function yt(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vn(){return"object"==typeof indexedDB}function vt(){return new Promise((Z,j)=>{try{let Y=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ye);se.onsuccess=()=>{se.result.close(),Y||self.indexedDB.deleteDatabase(ye),Z(!0)},se.onupgradeneeded=()=>{Y=!1},se.onerror=()=>{var Ve;j((null===(Ve=se.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(Y){j(Y)}})}function ht(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ft extends Error{constructor(j,Y,ye){super(Y),this.code=j,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(j,Y,ye){this.service=j,this.serviceName=Y,this.errors=ye}create(j,...Y){const ye=Y[0]||{},se=`${this.service}/${j}`,Ve=this.errors[j],pt=Ve?function(Z,j){return Z.replace(Hs,(Y,ye)=>{const se=j[ye];return null!=se?String(se):`<${ye}?>`})}(Ve,ye):"Error";return new Ft(se,`${this.serviceName}: ${pt} (${se}).`,ye)}}const Hs=/\{\$([^}]+)}/g;function ln(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function bn(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Lt(Z,j){if(Z===j)return!0;const Y=Object.keys(Z),ye=Object.keys(j);for(const se of Y){if(!ye.includes(se))return!1;const Ve=Z[se],pt=j[se];if(wn(Ve)&&wn(pt)){if(!Lt(Ve,pt))return!1}else if(Ve!==pt)return!1}for(const se of ye)if(!Y.includes(se))return!1;return!0}function wn(Z){return null!==Z&&"object"==typeof Z}function Yo(Z){const j=[];for(const[Y,ye]of Object.entries(Z))Array.isArray(ye)?ye.forEach(se=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(se))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(ye));return j.length?"&"+j.join("&"):""}function Ui(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[se,Ve]=ye.split("=");j[decodeURIComponent(se)]=decodeURIComponent(Ve)}}),j}function rs(Z){const j=Z.indexOf("?");if(!j)return"";const Y=Z.indexOf("#",j);return Z.substring(j,Y>0?Y:void 0)}function ur(Z,j){const Y=new Zn(Z,j);return Y.subscribe.bind(Y)}class Zn{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(ye=>{this.error(ye)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,ye){let se;if(void 0===j&&void 0===Y&&void 0===ye)throw new Error("Missing Observer.");se=function(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const Y of["next","error","complete"])if(Y in Z&&"function"==typeof Z[Y])return!0;return!1}(j)?j:{next:j,error:Y,complete:ye},void 0===se.next&&(se.next=Bi),void 0===se.error&&(se.error=Bi),void 0===se.complete&&(se.complete=Bi);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(pt){}}),this.observers.push(se),Ve}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bi(){}function Kt(Z,j=1e3,Y=2){const ye=j*Math.pow(Y,Z),se=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+se)}function dc(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(He,_e,F)=>{"use strict";F.d(_e,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.6.0","app")},7841:(He,_e,F)=>{"use strict";F.d(_e,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.6.0","app-compat")},941:(He,_e,F)=>{"use strict";F.r(_e);var u=F(8239),te=F(3394),L=F(3854),ce=F(8026);function K(y,p){var g={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(g[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(b=Object.getOwnPropertySymbols(y);I<b.length;I++)p.indexOf(b[I])<0&&Object.prototype.propertyIsEnumerable.call(y,b[I])&&(g[b[I]]=y[b[I]])}return g}var Ft=F(5422),Ze=F(3910);const po=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Cs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ln=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new Ft.Yd("@firebase/auth");function ar(y,...p){bn.logLevel<=Ft.in.ERROR&&bn.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Lt(y,...p){throw rs(y,...p)}function wn(y,...p){return rs(y,...p)}function Yo(y,p,g){const b=Object.assign(Object.assign({},Cs()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ui(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Lt(y,"argument-error"),Yo(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rs(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return ln.create(y,...p)}function De(y,p,...g){if(!y)throw rs(p,...g)}function ur(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ar(p),new Error(p)}function Zn(y,p){y||ur(p)}const Ge=new Map;function Ht(y){Zn(y instanceof Function,"Expected a class definition");let p=Ge.get(y);return p?(Zn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ge.set(y,p),p)}function Qe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function it(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Zt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Zn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Oe(y,p){Zn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ye{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gs=new Zt(3e4,6e4);function Kt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function ft(y,p,g,b){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(y,p,g,b,I={}){return dc(y,I,()=>{let M={},q={};b&&("GET"===p?q=b:M={body:JSON.stringify(b)});const ae=(0,L.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Re=new(Ye.headers());return Re.set("Content-Type","application/json"),Re.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Re.set("X-Firebase-Locale",y.languageCode),Ye.fetch()(ye(y,y.config.apiHost,g,ae),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function dc(y,p,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},zu),p);try{const I=new se(y),M=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const q=yield M.json();if("needConfirmation"in q)throw Ve(y,"account-exists-with-different-credential",q);if(M.ok&&!("errorMessage"in q))return q;{const ae=M.ok?q.errorMessage:q.error.message,[Re,Ae]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Ve(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Re)throw Ve(y,"email-already-in-use",q);const je=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw Yo(y,je,Ae);Lt(y,je)}}catch(I){if(I instanceof L.ZR)throw I;Lt(y,"network-request-failed")}})).apply(this,arguments)}function j(y,p,g,b){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*(y,p,g,b,I={}){const M=yield ft(y,p,g,b,I);return"mfaPendingCredential"in M&&Lt(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function ye(y,p,g,b){const I=`${p}${g}?${b}`;return y.config.emulator?Oe(y.config,I):`${y.config.apiScheme}://${I}`}class se{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(wn(this.auth,"timeout")),Gs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=wn(y,p,b);return I.customData._tokenResponse=g,I}function Vt(){return(Vt=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function On(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ir(y,p){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function mo(){return(mo=(0,u.Z)(function*(y,p=!1){const g=(0,L.m9)(y),b=yield g.getIdToken(p),I=_o(b);De(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,q=null==M?void 0:M.sign_in_provider;return{claims:I,token:b,authTime:_r(Yu(I.auth_time)),issuedAtTime:_r(Yu(I.iat)),expirationTime:_r(Yu(I.exp)),signInProvider:q||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Yu(y){return 1e3*Number(y)}function _o(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return ar("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,L.tV)(g);return I?JSON.parse(I):(ar("Failed to decode base64 JWT payload"),null)}catch(I){return ar("Caught error parsing JWT payload as JSON",I),null}}function Ei(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&si(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function si({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ji{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Di{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yo(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),I=yield Ei(y,Ir(g,{idToken:b}));De(null==I?void 0:I.users.length,g,"internal-error");const M=I.users[0];y._notifyReloadListener(M);const q=(null===(p=M.providerUserInfo)||void 0===p?void 0:p.length)?qr(M.providerUserInfo):[],ae=en(y.providerData,q),je=!!y.isAnonymous&&!(y.email&&M.passwordHash||(null==ae?void 0:ae.length)),qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ae,metadata:new Di(M.createdAt,M.lastLoginAt),isAnonymous:je};Object.assign(y,qe)})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(y){const p=(0,L.m9)(y);yield yo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function en(y,p){return[...y.filter(b=>!p.some(I=>I.providerId===b.providerId)),...p]}function qr(y){return y.map(p=>{var{providerId:g}=p,b=K(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Fn(){return(Fn=(0,u.Z)(function*(y,p){const g=yield dc(y,{},()=>{const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:M}=y.config,q=ye(y,I,"/v1/token",`key=${M}`);return Ye.fetch()(q,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){De(p.idToken,"internal-error"),De(void 0!==p.idToken,"internal-error"),De(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=_o(y);return De(p,"internal-error"),De(void 0!==p.exp,"internal-error"),De(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return De(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:q}=yield function(y,p){return Fn.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(I,M,Number(q))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:I,expirationTime:M}=g,q=new oi;return b&&(De("string"==typeof b,"internal-error",{appName:p}),q.refreshToken=b),I&&(De("string"==typeof I,"internal-error",{appName:p}),q.accessToken=I),M&&(De("number"==typeof M,"internal-error",{appName:p}),q.expirationTime=M),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new oi,this.toJSON())}_performRefresh(){return ur("not implemented")}}function tn(y,p){De("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ai{constructor(p){var{uid:g,auth:b,stsTokenManager:I}=p,M=K(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new Di(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield Ei(g,g.stsTokenManager.getToken(g.auth,p));return De(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(y){return mo.apply(this,arguments)}(this,p)}reload(){return function(y){return bt.apply(this,arguments)}(this)}_assign(p){this!==p&&(De(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ai(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let I=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield yo(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Ei(p,function(y,p){return Vt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,I,M,q,ae,Re,Ae,je;const qe=null!==(b=g.displayName)&&void 0!==b?b:void 0,Et=null!==(I=g.email)&&void 0!==I?I:void 0,Yn=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Fo=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Sh=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,Wc=null!==(Re=g._redirectEventId)&&void 0!==Re?Re:void 0,Im=null!==(Ae=g.createdAt)&&void 0!==Ae?Ae:void 0,Am=null!==(je=g.lastLoginAt)&&void 0!==je?je:void 0,{uid:Yc,emailVerified:Sm,isAnonymous:Nm,providerData:Cp,stsTokenManager:Kc}=g;De(Yc&&Kc,p,"internal-error");const Nh=oi.fromJSON(this.name,Kc);De("string"==typeof Yc,p,"internal-error"),tn(qe,p.name),tn(Et,p.name),De("boolean"==typeof Sm,p,"internal-error"),De("boolean"==typeof Nm,p,"internal-error"),tn(Yn,p.name),tn(Fo,p.name),tn(Sh,p.name),tn(Wc,p.name),tn(Im,p.name),tn(Am,p.name);const Mh=new ai({uid:Yc,auth:p,email:Et,emailVerified:Sm,displayName:qe,isAnonymous:Nm,photoURL:Fo,phoneNumber:Yn,tenantId:Sh,stsTokenManager:Nh,createdAt:Im,lastLoginAt:Am});return Cp&&Array.isArray(Cp)&&(Mh.providerData=Cp.map(Ta=>Object.assign({},Ta))),Wc&&(Mh._redirectEventId=Wc),Mh}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const I=new oi;I.updateFromServerResponse(g);const M=new ai({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:b});return yield yo(M),M})()}}const at=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,u.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function Zr(y,p,g){return`firebase:${y}:${p}:${g}`}class Ti{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:I,name:M}=this.auth;this.fullUserKey=Zr(this.userKey,I.apiKey,M),this.fullPersistenceKey=Zr("persistence",I.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ai._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Ti(Ht(at),p,b);const I=(yield Promise.all(g.map(function(){var Ae=(0,u.Z)(function*(je){if(yield je._isAvailable())return je});return function(je){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let M=I[0]||Ht(at);const q=Zr(b,p.config.apiKey,p.name);let ae=null;for(const Ae of g)try{const je=yield Ae._get(q);if(je){const qe=ai._fromJSON(p,je);Ae!==M&&(ae=qe),M=Ae;break}}catch(je){}const Re=I.filter(Ae=>Ae._shouldAllowMigration);return M._shouldAllowMigration&&Re.length?(M=Re[0],ae&&(yield M._set(q,ae.toJSON())),yield Promise.all(g.map(function(){var Ae=(0,u.Z)(function*(je){if(je!==M)try{yield je._remove(q)}catch(qe){}});return function(je){return Ae.apply(this,arguments)}}())),new Ti(M,p,b)):new Ti(M,p,b)})()}}function lr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(qs(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Jo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wt(p))return"Blackberry";if(Bd(p))return"Webos";if(yr(p))return"Safari";if((p.includes("chrome/")||Qo(p))&&!p.includes("edge/"))return"Chrome";if(Sr(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Jo(y=(0,L.z$)()){return/firefox\//i.test(y)}function yr(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qo(y=(0,L.z$)()){return/crios\//i.test(y)}function qs(y=(0,L.z$)()){return/iemobile/i.test(y)}function Sr(y=(0,L.z$)()){return/android/i.test(y)}function wt(y=(0,L.z$)()){return/blackberry/i.test(y)}function Bd(y=(0,L.z$)()){return/webos/i.test(y)}function Xo(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Es(y=(0,L.z$)()){return Xo(y)||Sr(y)||Bd(y)||wt(y)||/windows phone/i.test(y)||qs(y)}function cr(y,p=[]){let g;switch(y){case"Browser":g=lr((0,L.z$)());break;case"Worker":g=`${lr((0,L.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${b}`}class $f{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ln,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=Ht(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var I,M;b._deleted||(b.persistenceManager=yield Ti.create(b,p),!b._deleted&&((null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,q=null==I?void 0:I._redirectEventId,ae=yield g.tryRedirectSignIn(p);(!M||M===q)&&(null==ae?void 0:ae.user)&&(I=ae.user)}return I?I._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield yo(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&De(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&De(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Ht(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&Ht(p)||g._popupRedirectResolver;De(b,g,"argument-error"),g.redirectPersistenceManager=yield Ti.create(g,[Ht(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,I){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return De(q,this,"internal-error"),q.then(()=>M(this.currentUser)),"function"==typeof g?p.addObserver(g,b,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function dn(y){return(0,L.m9)(y)}class vr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $a(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function $i(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ha{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ur("not implemented")}_getIdTokenResponse(p){return ur("not implemented")}_linkToIdToken(p,g){return ur("not implemented")}_getReauthenticationResolver(p){return ur("not implemented")}}function $d(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:resetPassword",Kt(y,p))})).apply(this,arguments)}function Hf(y,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qg(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",Kt(y,p))})).apply(this,arguments)}function Gd(){return(Gd=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPassword",Kt(y,p))})).apply(this,arguments)}function gc(y,p){return qd.apply(this,arguments)}function qd(){return(qd=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:sendOobCode",Kt(y,p))})).apply(this,arguments)}function Zg(y,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(y,p){return gc(y,p)})).apply(this,arguments)}function zg(y,p){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,u.Z)(function*(y,p){return gc(y,p)})).apply(this,arguments)}function zd(y,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,u.Z)(function*(y,p){return gc(y,p)})).apply(this,arguments)}function Ku(y,p){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(y,p){return gc(y,p)})).apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}class Za extends Ha{constructor(p,g,b,I=null){super("password",b),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Za(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Za(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return Gd.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return qa.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Lt(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Hf(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,p){return is.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Lt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function mn(y,p){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithIdp",Kt(y,p))})).apply(this,arguments)}class Nr extends Ha{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Nr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Lt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I}=g,M=K(g,["providerId","signInMethod"]);if(!b||!I)return null;const q=new Nr(b,I);return q.idToken=M.idToken||void 0,q.accessToken=M.accessToken||void 0,q.secret=M.secret,q.nonce=M.nonce,q.pendingToken=M.pendingToken||null,q}_getIdTokenResponse(p){return mn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,mn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,mn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function ss(y,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,p))})).apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p))})).apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(y,p){const g=yield j(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p));if(g.temporaryProof)throw Ve(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wa={USER_NOT_FOUND:"user-not-found"};function ra(){return(ra=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wa)})).apply(this,arguments)}class bo extends Ha{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new bo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new bo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return Xu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return ui.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return ra.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}=p;return b||g||I||M?new bo({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}):null}}class nn{constructor(p){var g,b,I,M,q,ae;const Re=(0,L.zd)((0,L.pd)(p)),Ae=null!==(g=Re.apiKey)&&void 0!==g?g:null,je=null!==(b=Re.oobCode)&&void 0!==b?b:null,qe=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Re.mode)&&void 0!==I?I:null);De(Ae&&je&&qe,"argument-error"),this.apiKey=Ae,this.operation=qe,this.code=je,this.continueUrl=null!==(M=Re.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(q=Re.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ae=Re.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const g=function(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||y}(p);try{return new nn(g)}catch(b){return null}}}let os=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Za._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=nn.parseLink(b);return De(I,"argument-error"),Za._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Gi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class zt extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ia extends zt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Nr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return De(p.idToken||p.accessToken,"argument-error"),Nr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ia.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ia.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:M,nonce:q,providerId:ae}=p;if(!b&&!I&&!g&&!M||!ae)return null;try{return new ia(ae)._credential({idToken:g,accessToken:b,nonce:q,pendingToken:M})}catch(Re){return null}}}let el=(()=>{class y extends zt{constructor(){super("facebook.com")}static credential(g){return Nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),wo=(()=>{class y extends zt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),li=(()=>{class y extends zt{constructor(){super("github.com")}static credential(g){return Nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zs extends Ha{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return mn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,mn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,mn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I,pendingToken:M}=g;return b&&I&&M&&b===I?new zs(b,M):null}static _create(p,g){return new zs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends Gi{constructor(p){De(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return br.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return br.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=zs.fromJSON(p);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return zs._create(b,g)}catch(I){return null}}}let tl=(()=>{class y extends zt{constructor(){super("twitter.com")}static credential(g,b){return Nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function nl(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signUp",Kt(y,p))})).apply(this,arguments)}class Ln{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,I=!1){return(0,u.Z)(function*(){const M=yield ai._fromIdTokenResponse(p,b,I),q=Ya(b);return new Ln({user:M,providerId:q,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const I=Ya(b);return new Ln({user:p,providerId:I,_tokenResponse:b,operationType:g})})()}}function Ya(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ot(){return(ot=(0,u.Z)(function*(y){var p;const g=dn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ln({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield nl(g,{returnSecureToken:!0}),I=yield Ln._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class rl extends L.ZR{constructor(p,g,b,I){var M;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,rl.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,I){return new rl(p,g,b,I)}}function Qd(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?rl._fromErrorAndOperation(y,M,p,b):M})}function il(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ja(){return(Ja=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);yield ve(!0,g,p);const{providerUserInfo:b}=yield On(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=il(b||[]);return g.providerData=g.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function _c(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(y,p,g=!1){const b=yield Ei(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Ln._forOperation(y,"link",b)})).apply(this,arguments)}function ve(y,p,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(y,p,g){yield yo(p);const I=!1===y?"provider-already-linked":"no-such-provider";De(il(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function sl(y,p){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(y,p,g=!1){const{auth:b}=y,I="reauthenticate";try{const M=yield Ei(y,Qd(b,I,p,y),g);De(M.idToken,b,"internal-error");const q=_o(M.idToken);De(q,b,"internal-error");const{sub:ae}=q;return De(y.uid===ae,b,"user-mismatch"),Ln._forOperation(y,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Lt(b,"user-mismatch"),M}})).apply(this,arguments)}function ol(y,p){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(y,p,g=!1){const b="signIn",I=yield Qd(y,b,p),M=yield Ln._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Mr(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(y,p){return ol(dn(y),p)})).apply(this,arguments)}function Qa(y,p){return eh.apply(this,arguments)}function eh(){return(eh=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);return yield ve(!1,g,p.providerId),_c(g,p)})).apply(this,arguments)}function yc(y,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(y,p){return sl((0,L.m9)(y),p)})).apply(this,arguments)}function aa(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,p))})).apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(y,p){const g=dn(y),b=yield aa(g,{token:p,returnSecureToken:!0}),I=yield Ln._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class qi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?xr._fromServerResponse(p,g):Lt(p,"internal-error")}}class xr extends qi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new xr(g)}}function vc(y,p,g){var b;De((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function eu(){return(eu=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&vc(b,I,g),yield zg(b,I)})).apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(y,p,g){yield $d((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(y,p){yield qg((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function ua(y,p){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),b=yield $d(g,{oobCode:p}),I=b.requestType;switch(De(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(b.mfaInfo,g,"internal-error");default:De(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=qi._fromServerResponse(dn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(y,p){const{data:g}=yield ua((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(y,p,g){const b=dn(y),I=yield nl(b,{returnSecureToken:!0,email:p,password:g}),M=yield Ln._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};De(g.handleCodeInApp,b,"argument-error"),g&&vc(b,I,g),yield zd(b,I)})).apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=os.credentialWithLink(p,g||Qe());return De(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Mr(b,I)})).apply(this,arguments)}function ca(y,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:createAuthUri",Kt(y,p))})).apply(this,arguments)}function zf(){return(zf=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:it()?Qe():"http://localhost"},{signinMethods:I}=yield ca((0,L.m9)(y),b);return I||[]})).apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&vc(g.auth,I,p);const{email:M}=yield Zg(g.auth,I);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&vc(b.auth,M,g);const{email:q}=yield Ku(b.auth,M);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function ll(y,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(y,p){return ft(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(y),M={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield Ei(b,ll(b.auth,M));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const ae=b.providerData.find(({providerId:Re})=>"password"===Re);ae&&(ae.displayName=b.displayName,ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function As(y,p,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(y,p,g){const{auth:b}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(M.email=p),g&&(M.password=g);const q=yield Ei(y,Hf(b,M));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class fa{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Js extends fa{constructor(p,g,b,I){super(p,g,b),this.username=I}}class Ic extends fa{constructor(p,g){super(p,"facebook.com",g)}}class Jf extends Js{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Kg extends fa{constructor(p,g){super(p,"google.com",g)}}class Jg extends Js{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Zi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=_o(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new fa(M,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new Ic(M,I);case"github.com":return new Jf(M,I);case"google.com":return new Kg(M,I);case"twitter.com":return new Jg(M,I,y.screenName||null);case"custom":case"anonymous":return new fa(M,null);default:return new fa(M,b,I)}}(g)}class ci{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new ci("enroll",p)}static _fromMfaPendingCredential(p){return new ci("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ci._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ci._fromIdtoken(p.multiFactorSession.idToken)}return null}}class su{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=dn(p),I=g.customData._serverResponse,M=(I.mfaInfo||[]).map(ae=>qi._fromServerResponse(b,ae));De(I.mfaPendingCredential,b,"internal-error");const q=ci._fromMfaPendingCredential(I.mfaPendingCredential);return new su(q,M,function(){var ae=(0,u.Z)(function*(Re){const Ae=yield Re._process(b,q);delete I.mfaInfo,delete I.mfaPendingCredential;const je=Object.assign(Object.assign({},I),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(g.operationType){case"signIn":const qe=yield Ln._fromIdTokenResponse(b,g.operationType,je);return yield b._updateCurrentUser(qe.user),qe;case"reauthenticate":return De(g.user,b,"internal-error"),Ln._forOperation(g.user,g.operationType,je);default:Lt(b,"internal-error")}});return function(Re){return ae.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Qy(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,p))}class uh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>qi._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new uh(p)}getSession(){var p=this;return(0,u.Z)(function*(){return ci._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const I=p,M=yield b.getSession(),q=yield Ei(b.user,I._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),M=yield Ei(g.user,function(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==b),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const dl=new WeakMap,Eo="__sak";class Jt{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Eo,"1"),this.storage.removeItem(Eo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ns=(()=>{class y extends Jt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,L.z$)();return yr(y)||Xo(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Es(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),M=this.localCache[b];I!==M&&g(b,M,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ae,Re,Ae)=>{this.notifyListeners(ae,Ae)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(I);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const M=()=>{const ae=this.storage.getItem(I);!b&&this.localCache[I]===ae||this.notifyListeners(I,ae)},q=this.storage.getItem(I);(0,L.w1)()&&10===document.documentMode&&q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,M=this;return(0,u.Z)(function*(){yield I().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,u.Z)(function*(){const M=yield b().call(I,g);return I.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,I=this;return(0,u.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),un=(()=>{class y extends Jt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Qg=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const I=g,{eventId:M,eventType:q,data:ae}=I.data,Re=b.handlersMap[q];if(!(null==Re?void 0:Re.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:q});const Ae=Array.from(Re).map(function(){var qe=(0,u.Z)(function*(Et){return Et(I.origin,ae)});return function(Et){return qe.apply(this,arguments)}}()),je=yield function(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Ae);I.ports[0].postMessage({status:"done",eventId:M,eventType:q,response:je})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xs(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Nn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var I=this;return(0,u.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let q,ae;return new Promise((Re,Ae)=>{const je=Xs("",20);M.port1.start();const qe=setTimeout(()=>{Ae(new Error("unsupported_event"))},b);ae={messageChannel:M,onMessage(Et){const Yn=Et;if(Yn.data.eventId===je)switch(Yn.data.status){case"ack":clearTimeout(qe),q=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Re(Yn.data.response);break;default:clearTimeout(qe),clearTimeout(q),Ae(new Error("invalid_response"))}}},I.handlers.add(ae),M.port1.addEventListener("message",ae.onMessage),I.target.postMessage({eventType:p,eventId:je,data:g},[M.port2])}).finally(()=>{ae&&I.removeMessageHandler(ae)})})()}}function Mn(){return window}function uu(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function hl(){return(hl=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",zi="firebaseLocalStorage",eo="fbase_key";class Rr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Wi(y,p){return y.transaction([zi],p?"readwrite":"readonly").objectStore(zi)}function et(){const y=indexedDB.open(Ai,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(zi,{keyPath:eo})}catch(I){g(I)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(zi)?p(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase(Ai);return new Rr(y).toPromise()}(),p(yield et()))}))})}function Si(y,p,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(y,p,g){const b=Wi(y,!0).put({[eo]:p,value:g});return new Rr(b).toPromise()})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y,p){const g=Wi(y,!1).get(p),b=yield new Rr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function dh(y,p){const g=Wi(y,!0).delete(p);return new Rr(g).toPromise()}const pl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield et()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let I=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(I++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return uu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Qg._getInstance(uu()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(I,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(I,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function(){return hl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nn(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield et();return yield Si(g,Eo,"1"),yield dh(g,Eo),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(M=>Si(M,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=yield b._withRetries(M=>function(y,p){return fn.apply(this,arguments)}(M,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(I=>dh(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(q=>{const ae=Wi(q,!1).getAll();return new Rr(ae).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:q,value:ae}of b)M.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ae)&&(g.notifyListeners(q,ae),I.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!M.has(q)&&(g.notifyListeners(q,null),I.push(q));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ma(y,p){return ft(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,p))}function hh(){return(hh=(0,u.Z)(function*(y){return(yield ft(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nc(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=I=>{const M=wn("internal-error");M.customData=I,g(M)},b.type="text/javascript",b.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function To(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xs=1e12;class Rn{constructor(p){this.auth=p,this.counter=xs,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Mc(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||xs;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||xs))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||xs))||void 0===b||b.execute(),""})()}}class Mc{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;De(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const di=To("rcb"),ls=new Zt(3e4,6e4);class Ni{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(p,g=""){return De((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Mn().grecaptcha):new Promise((b,I)=>{const M=Mn().setTimeout(()=>{I(wn(p,"network-request-failed"))},ls.get());Mn()[di]=()=>{Mn().clearTimeout(M),delete Mn()[di];const ae=Mn().grecaptcha;if(!ae)return void I(wn(p,"internal-error"));const Re=ae.render;ae.render=(Ae,je)=>{const qe=Re(Ae,je);return this.counter++,qe},this.hostLanguage=g,b(ae)},Nc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:di,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),I(wn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Mn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ph{load(p){return(0,u.Z)(function*(){return new Rn(p)})()}clearedOneInstance(){}}const xc="recaptcha",Io={theme:"light",type:"image"};class tm{constructor(p,g=Object.assign({},Io),b){this.parameters=g,this.type=xc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(b),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;De(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ph:new Ni,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const q=ae=>{!ae||(p.tokenChangeListeners.delete(q),M(ae))};p.tokenChangeListeners.add(q),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Mn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){De(it()&&!uu(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return hh.apply(this,arguments)}(p.auth);De(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gl{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=bo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Tn(){return(Tn=(0,u.Z)(function*(y,p,g){const b=dn(y),I=yield A(b,p,(0,L.m9)(g));return new gl(I,M=>Mr(b,M))})).apply(this,arguments)}function Rc(){return(Rc=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);yield ve(!1,b,"phone");const I=yield A(b.auth,p,(0,L.m9)(g));return new gl(I,M=>Qa(b,M))})).apply(this,arguments)}function E(){return(E=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=yield A(b.auth,p,(0,L.m9)(g));return new gl(I,M=>yc(b,M))})).apply(this,arguments)}function A(y,p,g){return R.apply(this,arguments)}function R(){return(R=(0,u.Z)(function*(y,p,g){var b;const I=yield g.verify();try{let M;if(De("string"==typeof I,y,"argument-error"),De(g.type===xc,y,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const q=M.session;if("phoneNumber"in M)return De("enroll"===q.type,y,"internal-error"),(yield Qy(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{De("signin"===q.type,y,"internal-error");const ae=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return De(ae,y,"missing-multi-factor-info"),(yield ma(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ss(y,{phoneNumber:M.phoneNumber,recaptchaToken:I});return q}}finally{g._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(y,p){yield _c((0,L.m9)(y),p)})).apply(this,arguments)}let le=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=dn(g)}verifyPhoneNumber(g,b){return A(this.auth,g,(0,L.m9)(b))}static credential(g,b){return bo._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?bo._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ce(y,p){return p?Ht(p):(De(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Le extends Ha{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return mn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return mn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return mn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Be(y){return ol(y.auth,new Le(y),y.bypassAuthState)}function xt(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),sl(g,new Le(y),y.bypassAuthState)}function rn(y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),_c(g,new Le(y),y.bypassAuthState)})).apply(this,arguments)}class Yr{constructor(p,g,b,I,M=!1){this.auth=p,this.resolver=b,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,I){p.pendingPromise={resolve:b,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:M,tenantId:q,error:ae,type:Re}=p;if(ae)return void g.reject(ae);const Ae={auth:g.auth,requestUri:b,sessionId:I,tenantId:q||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Re)(Ae))}catch(je){g.reject(je)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Be;case"linkViaPopup":case"linkViaRedirect":return rn;case"reauthViaPopup":case"reauthViaRedirect":return xt;default:Lt(this.auth,"internal-error")}}resolve(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tr=new Zt(2e3,1e4);function So(){return(So=(0,u.Z)(function*(y,p,g){const b=dn(y);Ui(y,p,Gi);const I=Ce(b,g);return new np(b,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Ui(b.auth,p,Gi);const I=Ce(b.auth,g);return new np(b.auth,"reauthViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Ui(b.auth,p,Gi);const I=Ce(b.auth,g);return new np(b.auth,"linkViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}let np=(()=>{class y extends Yr{constructor(g,b,I,M,q){super(g,b,M,q),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return De(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){Zn(1===g.filter.length,"Popup operations only handle one event");const b=Xs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(wn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,tr.get())};g()}}return y.currentPopupAction=null,y})();const yl=new Map;class nm extends Yr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=yl.get(g.auth._key());if(!b){try{const M=(yield function(y,p){return fu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(M)}catch(I){b=()=>Promise.reject(I)}yl.set(g.auth._key(),b)}return g.bypassAuthState||yl.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const I=yield b.auth._redirectUserForId(p.eventId);if(I)return b.user=I,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function fu(){return(fu=(0,u.Z)(function*(y,p){const g=ya(p),b=rm(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function rp(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(y,p){return rm(y)._set(ya(p),"true")})).apply(this,arguments)}function rm(y){return Ht(y._redirectPersistence)}function ya(y){return Zr("pendingRedirect",y.config.apiKey,y.name)}function dr(){return(dr=(0,u.Z)(function*(y,p,g){const b=dn(y);Ui(y,p,Gi);const I=Ce(b,g);return yield rp(I,b),I._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Ui(b.auth,p,Gi);const I=Ce(b.auth,g);yield rp(I,b.auth);const M=yield pu(b);return I._openRedirect(b.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function gh(){return(gh=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Ui(b.auth,p,Gi);const I=Ce(b.auth,g);yield ve(!1,b,p.providerId),yield rp(I,b.auth);const M=yield pu(b);return I._openRedirect(b.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(y,p){return yield dn(y)._initializationPromise,Mo(y,p,!1)})).apply(this,arguments)}function Mo(y,p){return bl.apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(y,p,g=!1){const b=dn(y),I=Ce(b,p),q=yield new nm(b,I,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,p)),q})).apply(this,arguments)}function pu(y){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(y){const p=Xs(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class n0{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return om(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!om(p)){const I=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(wn(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ba(p))}saveEventToCache(p){this.cachedEventUids.add(ba(p)),this.lastProcessedEventTime=Date.now()}}function ba(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function om({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function wl(y){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(y,p={}){return ft(y,"GET","/v1/projects",p)})).apply(this,arguments)}const xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fc=/^https?/;function Lc(){return(Lc=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield wl(y);for(const g of p)try{if(mh(g))return}catch(b){}Lt(y,"unauthorized-domain")})).apply(this,arguments)}function mh(y){const p=Qe(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===b}if(!Fc.test(g))return!1;if(xo.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Vc=new Zt(3e4,6e4);function Cl(){const y=Mn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let El=null;function gu(y){return El=El||function(y){return new Promise((p,g)=>{var b,I,M;function q(){Cl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Cl(),g(wn(y,"network-request-failed"))},timeout:Vc.get()})}if(null===(I=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(M=Mn().gapi)||void 0===M?void 0:M.load)){const ae=To("iframefcb");return Mn()[ae]=()=>{gapi.load?q():g(wn(y,"network-request-failed"))},Nc(`https://apis.google.com/js/api.js?onload=${ae}`)}q()}}).catch(p=>{throw El=null,p})}(y),El}const r0=new Zt(5e3,15e3),o0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(y){const p=y.config;De(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Oe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},I=a0.get(y.config.apiHost);I&&(b.eid=I);const M=y._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function yh(){return(yh=(0,u.Z)(function*(y){const p=yield gu(y),g=Mn().gapi;return De(g,y,"internal-error"),p.open({where:document.body,url:Ro(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o0,dontclear:!0},b=>new Promise(function(){var I=(0,u.Z)(function*(M,q){yield b.restyle({setHideOnLeave:!1});const ae=wn(y,"network-request-failed"),Re=Mn().setTimeout(()=>{q(ae)},r0.get());function Ae(){Mn().clearTimeout(Re),M(b)}b.ping(Ae).then(Ae,()=>{q(ae)})});return function(M,q){return I.apply(this,arguments)}}()))})).apply(this,arguments)}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function dm(y,p,g,b,I,M){De(y.config.authDomain,y,"auth-domain-config-required"),De(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ce.SDK_VERSION,eventId:I};if(p instanceof Gi){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Re,Ae]of Object.entries(M||{}))q[Re]=Ae}if(p instanceof zt){const Re=p.getScopes().filter(Ae=>""!==Ae);Re.length>0&&(q.scopes=Re.join(","))}y.tenantId&&(q.tid=y.tenantId);const ae=q;for(const Re of Object.keys(ae))void 0===ae[Re]&&delete ae[Re];return`${function({config:y}){return y.emulator?Oe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ae).slice(1)}`}const wa="webStorageSupport";class Il extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ur("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Il(p)}_finalizeEnroll(p,g,b){return function(y,p){return ft(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return ft(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hm=(()=>{class y{constructor(){}static assertion(g){return Il._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Al="@firebase/auth";class Q1{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var I;p((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qi(){return window}function jc(){return(jc=(0,u.Z)(function*(y,p,g){var b;const{BuildInfo:I}=Qi();Zn(p.sessionId,"AuthEvent did not contain a session ID");const M=yield Gc(p.sessionId),q={};return Xo()?q.ibi=I.packageName:Sr()?q.apn=I.packageName:Lt(y,"operation-not-supported-in-this-environment"),I.displayName&&(q.appDisplayName=I.displayName),q.sessionId=M,dm(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(y){const{BuildInfo:p}=Qi(),g={};Xo()?g.iosBundleId=p.packageName:Sr()?g.androidPackageName=p.packageName:Lt(y,"operation-not-supported-in-this-environment"),yield wl(y,g)})).apply(this,arguments)}function Ch(){return(Ch=(0,u.Z)(function*(y,p,g){const{cordova:b}=Qi();let I=()=>{};try{yield new Promise((M,q)=>{let ae=null;function Re(){var qe;M();const Et=null===(qe=b.plugins.browsertab)||void 0===qe?void 0:qe.close;"function"==typeof Et&&Et(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ae(){ae||(ae=window.setTimeout(()=>{q(wn(y,"redirect-cancelled-by-user"))},2e3))}function je(){"visible"===(null==document?void 0:document.visibilityState)&&Ae()}p.addPassiveListener(Re),document.addEventListener("resume",Ae,!1),Sr()&&document.addEventListener("visibilitychange",je,!1),I=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",Ae,!1),document.removeEventListener("visibilitychange",je,!1),ae&&window.clearTimeout(ae)}})}finally{I()}})).apply(this,arguments)}function Gc(y){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(y){const p=cp(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cp(y){if(Zn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}y="Browser",(0,ce._registerComponent)(new Ze.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:I,authDomain:M}=b.options;return(q=>{De(I&&!I.includes(":"),"invalid-api-key",{appName:q.name}),De(!(null==M?void 0:M.includes(":")),"argument-error",{appName:q.name});const ae={apiKey:I,authDomain:M,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(y)},Re=new $f(q,ae);return function(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(Ht);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Re,g),Re})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ze.wA("auth-internal",p=>{const g=dn(p.getProvider("auth").getImmediate());return new Q1(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Al,"0.19.3",void 0),(0,ce.registerVersion)(Al,"0.19.3","esm2017");class gm extends n0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function hp(y){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,u.Z)(function*(y){const p=yield no()._get(pp(y));return p&&(yield no()._remove(pp(y))),p})).apply(this,arguments)}function fp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function no(){return Ht(Ns)}function pp(y){return Zr("authEvent",y.config.apiKey,y.name)}function Ca(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function _u(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wn("no-auth-event")}}function xl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function _p(y=(0,L.z$)()){return!("file:"!==xl()&&"ionic:"!==xl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _m(){try{const y=self.localStorage,p=Xs();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return vp()&&(0,L.hl)()}return!1}function vp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Th(){return("http:"===xl()||"https:"===xl()||(0,L.ru)()||_p())&&!((0,L.b$)()||(0,L.UG)())&&_m()&&!vp()}function yu(){return _p()&&"undefined"!=typeof document}function Ih(){return(Ih=(0,u.Z)(function*(){return!!yu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Kr={LOCAL:"local",NONE:"none",SESSION:"session"},vu=De,Ea="persistence";function wp(y){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(y){yield y._initializationPromise;const p=vm(),g=Zr(Ea,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function vm(){return"undefined"!=typeof window?window:null}const _0=De;class ro{constructor(){this.browserResolver=Ht(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=un,this._completeRedirectFn=Mo}_openPopup(p,g,b,I){var M=this;return(0,u.Z)(function*(){var q;Zn(null===(q=M.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ae=dm(p,g,b,Qe(),I);return function(y,p,g,b=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let ae="";const Re=Object.assign(Object.assign({},um),{width:b.toString(),height:I.toString(),top:M,left:q}),Ae=(0,L.z$)().toLowerCase();g&&(ae=Qo(Ae)?"_blank":g),Jo(Ae)&&(p=p||"http://localhost",Re.scrollbars="yes");const je=Object.entries(Re).reduce((Et,[Yn,Fo])=>`${Et}${Yn}=${Fo},`,"");if(function(y=(0,L.z$)()){var p;return Xo(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ae)&&"_self"!==ae)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ae),new vh(null);const qe=window.open(p||"",ae,je);De(qe,y,"popup-blocked");try{qe.focus()}catch(Et){}return new vh(qe)}(p,ae,Xs())})()}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M._originValidation(p),y=dm(p,g,b,Qe(),I),Mn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:M}=this.eventManagers[g];return I?Promise.resolve(I):(Zn(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function(y){return yh.apply(this,arguments)}(p),I=new n0(p);return b.register("authEvent",M=>(De(null==M?void 0:M.authEvent,p,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=b,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(wa,{type:wa},I=>{var M;const q=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[wa];void 0!==q&&g(!!q),Lt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Lc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Es()||yr()||Xo()}}),this.cordovaResolver=Ht(class{constructor(){this._redirectPersistence=un,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mo}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let I=g.eventManagers.get(b);return I||(I=new gm(p),g.eventManagers.set(b,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Lt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){!function(y){var p,g,b,I,M,q,ae,Re,Ae,je;const qe=Qi();De("function"==typeof(null===(p=null==qe?void 0:qe.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==qe?void 0:qe.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(I=null===(b=null==qe?void 0:qe.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Re=null===(ae=null===(q=null==qe?void 0:qe.cordova)||void 0===q?void 0:q.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(je=null===(Ae=null==qe?void 0:qe.cordova)||void 0===Ae?void 0:Ae.InAppBrowser)||void 0===je?void 0:je.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield M._initialize(p);yield q.initialized(),q.resetRedirect(),yl.clear(),yield M._originValidation(p);const ae=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:fp(),postBody:null,tenantId:y.tenantId,error:wn(y,"no-auth-event")}}(p,b,I);yield function(y,p){return no()._set(pp(y),p)}(p,ae);const Re=yield function(y,p,g){return jc.apply(this,arguments)}(p,ae,g),Ae=yield function(y){const{cordova:p}=Qi();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let I=null;b?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(Re);return function(y,p,g){return Ch.apply(this,arguments)}(p,q,Ae)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return $c.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:M}=Qi(),q=setTimeout((0,u.Z)(function*(){yield hp(p),g.onEvent(_u())}),500),ae=function(){var je=(0,u.Z)(function*(qe){clearTimeout(q);const Et=yield hp(p);let Yn=null;Et&&(null==qe?void 0:qe.url)&&(Yn=function(y,p){var g,b;const I=function(y){const p=Ca(y),g=p.link?decodeURIComponent(p.link):void 0,b=Ca(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ca(I).link||I||b||g||y}(p);if(I.includes("/__/auth/callback")){const M=Ca(I),q=M.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(M.firebaseError)):null,ae=null===(b=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Re=ae?wn(ae):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Et,qe.url)),g.onEvent(Yn||_u())});return function(Et){return je.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ae);const Re=I,Ae=`${M.packageName.toLowerCase()}://`;Qi().handleOpenURL=function(){var je=(0,u.Z)(function*(qe){if(qe.toLowerCase().startsWith(Ae)&&ae({url:qe}),"function"==typeof Re)try{Re(qe)}catch(Et){console.error(Et)}});return function(qe){return je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=un,this._completeRedirectFn=Mo}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,g,b,I)})()}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,g,b,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return yu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Ih.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function bm(y){return y.unwrap()}function fi(y){return Cm(y)}function Cm(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return le.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=wo;break;case"facebook.com":b=el;break;case"github.com":b=li;break;case"twitter.com":b=tl;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:q,pendingToken:ae,nonce:Re}=p;return M||q||I||ae?ae?g.startsWith("saml.")?zs._create(g,ae):Nr._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:I,accessToken:M}):new ia(g).credential({idToken:I,accessToken:M,rawNonce:Re}):null}return y instanceof L.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Or(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Em(y,function(y,p){var g;const b=(0,L.m9)(y),I=p;return De(p.customData.operationType,b,"argument-error"),De(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),su._fromError(b,I)}(y,p));else if(b){const I=Cm(p),M=p;I&&(M.credential=I,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:fi(g),additionalUserInfo:Zi(g),user:Oo.getOrCreate(I)}})}function Ah(y,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Or(y,g.confirm(b))}})).apply(this,arguments)}class Em{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Or(bm(this.auth),this.resolver.resolveSignIn(p))}}class Oo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,L.m9)(y);return dl.has(p)||dl.set(p,uh._fromUser(p)),dl.get(p)}(p)}static getOrCreate(p){return Oo.USER_MAP.has(p)||Oo.USER_MAP.set(p,new Oo(p)),Oo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Or(g.auth,Qa(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return Ah(b.auth,function(y,p,g){return Rc.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Or(g.auth,function(y,p,g){return lt.apply(this,arguments)}(g._delegate,p,ro))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield wp(dn(g.auth)),function(y,p,g){return function(y,p,g){return gh.apply(this,arguments)}(y,p,g)}(g._delegate,p,ro)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Or(g.auth,yc(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Ah(this.auth,function(y,p,g){return E.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Or(this.auth,function(y,p,g){return Yi.apply(this,arguments)}(this._delegate,p,ro))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield wp(dn(g.auth)),function(y,p,g){return function(y,p,g){return vl.apply(this,arguments)}(y,p,g)}(g._delegate,p,ro)})()}sendEmailVerification(p){return function(y,p){return da.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(y,p){return Ja.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return As((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return As((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return Q.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return Sn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return ru.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oo.USER_MAP=new WeakMap;const Po=De;let Dm=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;Po(I,"invalid-api-key",{appName:g.name});let M=[at];if("undefined"!=typeof window){M=function(y,p){const g=vm();if(!(null==g?void 0:g.sessionStorage))return[];const b=Zr(Ea,y,p);switch(g.sessionStorage.getItem(b)){case Kr.NONE:return[at];case Kr.LOCAL:return[pl,un];case Kr.SESSION:return[un];default:return[]}}(I,g.name);for(const ae of[pl,Ns,un])M.includes(ae)||M.push(ae)}Po(I,"invalid-api-key",{appName:g.name});const q="undefined"!=typeof window?ro:void 0;this._delegate=b.initialize({options:{persistence:M,popupRedirectResolver:q}}),this._delegate._updateErrorMap(po),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(y,p,g){const b=dn(y);De(b._canInitEmulator,b,"emulator-config-failed"),De(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),M=$a(p),{host:q,port:ae}=function(y){const p=$a(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const M=I[1];return{host:M,port:$i(b.substr(M.length+1))}}{const[M,q]=b.split(":");return{host:M,port:$i(q)}}}(p);b.config.emulator={url:`${M}//${q}${null===ae?"":`:${ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:ae,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function(y,p){return ul.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ua(this._delegate,g)}confirmPasswordReset(g,b){return function(y,p,g){return tu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,u.Z)(function*(){return Or(I._delegate,function(y,p,g){return Cc.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return zf.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=nn.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Po(Th(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,p){return No.apply(this,arguments)}(g._delegate,ro);return b?Or(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){dn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:M,error:q,complete:ae}=bu(g,b,I);return this._delegate.onAuthStateChanged(M,q,ae)}onIdTokenChanged(g,b,I){const{next:M,error:q,complete:ae}=bu(g,b,I);return this._delegate.onIdTokenChanged(M,q,ae)}sendSignInLinkToEmail(g,b){return function(y,p,g){return Is.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(y,p,g){return eu.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let I;switch(function(y,p){vu(Object.values(Kr).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?vu(p!==Kr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?vu(p===Kr.NONE,y,"unsupported-persistence-type"):vp()?vu(p===Kr.NONE||p===Kr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):vu(p===Kr.NONE||_m(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Kr.SESSION:I=un;break;case Kr.LOCAL:I=(yield Ht(pl)._isAvailable())?pl:Ns;break;case Kr.NONE:I=at;break;default:return Lt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Or(this._delegate,function(y){return ot.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Or(this._delegate,Mr(this._delegate,g))}signInWithCustomToken(g){return Or(this._delegate,function(y,p){return Xa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Or(this._delegate,function(y,p,g){return Mr((0,L.m9)(y),os.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Or(this._delegate,function(y,p,g){return Xn.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Ah(this._delegate,function(y,p,g){return Tn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return Po(Th(),b._delegate,"operation-not-supported-in-this-environment"),Or(b._delegate,function(y,p,g){return So.apply(this,arguments)}(b._delegate,g,ro))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return Po(Th(),b._delegate,"operation-not-supported-in-this-environment"),yield wp(b._delegate),function(y,p,g){return function(y,p,g){return dr.apply(this,arguments)}(y,p,g)}(b._delegate,g,ro)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return Co.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Kr,y})();function bu(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const I=b;return{next:q=>I(q&&Oo.getOrCreate(q)),error:p,complete:g}}class ds{constructor(){this.providerId="phone",this._delegate=new le(bm(te.Z.auth()))}static credential(p,g){return le.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ds.PHONE_SIGN_IN_METHOD=le.PHONE_SIGN_IN_METHOD,ds.PROVIDER_ID=le.PROVIDER_ID;const tw=De;class nw{constructor(p,g,b=te.Z.app()){var I;tw(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new tm(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ze.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Dm(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:os,FacebookAuthProvider:el,GithubAuthProvider:li,GoogleAuthProvider:wo,OAuthProvider:ia,SAMLAuthProvider:br,PhoneAuthProvider:ds,PhoneMultiFactorGenerator:hm,RecaptchaVerifier:nw,TwitterAuthProvider:tl,Auth:Dm,AuthCredential:Ha,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(te.Z)},6676:function(He,_e){!function(F){"use strict";function u(fe){return Array.prototype.slice.call(fe)}function te(fe){return new Promise(function(X,re){fe.onsuccess=function(){X(fe.result)},fe.onerror=function(){re(fe.error)}})}function L(fe,X,re){var we,Se=new Promise(function(Tt,At){te(we=fe[X].apply(fe,re)).then(Tt,At)});return Se.request=we,Se}function ce(fe,X,re){var we=L(fe,X,re);return we.then(function(Se){if(Se)return new P(Se,we.request)})}function ie(fe,X,re){re.forEach(function(we){Object.defineProperty(fe.prototype,we,{get:function(){return this[X][we]},set:function(Se){this[X][we]=Se}})})}function J(fe,X,re,we){we.forEach(function(Se){Se in re.prototype&&(fe.prototype[Se]=function(){return L(this[X],Se,arguments)})})}function oe(fe,X,re,we){we.forEach(function(Se){Se in re.prototype&&(fe.prototype[Se]=function(){return this[X][Se].apply(this[X],arguments)})})}function K(fe,X,re,we){we.forEach(function(Se){Se in re.prototype&&(fe.prototype[Se]=function(){return ce(this[X],Se,arguments)})})}function z(fe){this._index=fe}function P(fe,X){this._cursor=fe,this._request=X}function B(fe){this._store=fe}function G(fe){this._tx=fe,this.complete=new Promise(function(X,re){fe.oncomplete=function(){X()},fe.onerror=function(){re(fe.error)},fe.onabort=function(){re(fe.error)}})}function de(fe,X,re){this._db=fe,this.oldVersion=X,this.transaction=new G(re)}function xe(fe){this._db=fe}ie(z,"_index",["name","keyPath","multiEntry","unique"]),J(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),K(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(P,"_cursor",["direction","key","primaryKey","value"]),J(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(fe){fe in IDBCursor.prototype&&(P.prototype[fe]=function(){var X=this,re=arguments;return Promise.resolve().then(function(){return X._cursor[fe].apply(X._cursor,re),te(X._request).then(function(we){if(we)return new P(we,X._request)})})})}),B.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ie(B,"_store",["name","keyPath","indexNames","autoIncrement"]),J(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),K(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(B,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ie(G,"_tx",["objectStoreNames","mode"]),oe(G,"_tx",IDBTransaction,["abort"]),de.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ie(de,"_db",["name","version","objectStoreNames"]),oe(de,"_db",IDBDatabase,["deleteObjectStore","close"]),xe.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ie(xe,"_db",["name","version","objectStoreNames"]),oe(xe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(fe){[B,z].forEach(function(X){fe in X.prototype&&(X.prototype[fe.replace("open","iterate")]=function(){var re=u(arguments),we=re[re.length-1],Se=this._store||this._index,Tt=Se[fe].apply(Se,re.slice(0,-1));Tt.onsuccess=function(){we(Tt.result)}})})}),[z,B].forEach(function(fe){fe.prototype.getAll||(fe.prototype.getAll=function(X,re){var we=this,Se=[];return new Promise(function(Tt){we.iterateCursor(X,function(At){At?(Se.push(At.value),void 0===re||Se.length!=re?At.continue():Tt(Se)):Tt(Se)})})})}),F.openDb=function(fe,X,re){var we=L(indexedDB,"open",[fe,X]),Se=we.request;return Se&&(Se.onupgradeneeded=function(Tt){re&&re(new de(Se.result,Tt.oldVersion,Se.transaction))}),we.then(function(Tt){return new xe(Tt)})},F.deleteDb=function(fe){return L(indexedDB,"deleteDatabase",[fe])},Object.defineProperty(F,"__esModule",{value:!0})}(_e)},1593:(He,_e,F)=>{"use strict";F.d(_e,{P:()=>oe});var u=F(9193),te=F(5917),L=F(7574);class oe{constructor(z,P,B){this.kind=z,this.value=P,this.error=B,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,P,B){switch(this.kind){case"N":return z&&z(this.value);case"E":return P&&P(this.error);case"C":return B&&B()}}accept(z,P,B){return z&&"function"==typeof z.next?this.observe(z):this.do(z,P,B)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return K=this.error,new L.y(P=>P.error(K));case"C":return(0,u.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new oe("N",z):oe.undefinedValueNotification}static createError(z){return new oe("E",void 0,z)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},7574:(He,_e,F)=>{"use strict";F.d(_e,{y:()=>B});var u=F(7393),L=F(9181),ce=F(6490),J=F(6554),oe=F(4487);var P=F(2494);let B=(()=>{class de{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const be=new de;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,fe){const{operator:X}=this,re=function(de,xe,Ne){if(de){if(de instanceof u.L)return de;if(de[L.b])return de[L.b]()}return de||xe||Ne?new u.L(de,xe,Ne):new u.L(ce.c)}(Ne,be,fe);if(re.add(X?X.call(re,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!re.syncErrorThrowable?this._subscribe(re):this._trySubscribe(re)),P.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable&&(re.syncErrorThrowable=!1,re.syncErrorThrown))throw re.syncErrorValue;return re}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){P.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=be),function(de){for(;de;){const{closed:xe,destination:Ne,isStopped:be}=de;if(xe||be)return!1;de=Ne&&Ne instanceof u.L?Ne:null}return!0}(Ne)?Ne.error(be):console.warn(be)}}forEach(Ne,be){return new(be=G(be))((fe,X)=>{let re;re=this.subscribe(we=>{try{Ne(we)}catch(Se){X(Se),re&&re.unsubscribe()}},X,fe)})}_subscribe(Ne){const{source:be}=this;return be&&be.subscribe(Ne)}[J.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(de){return 0===de.length?oe.y:1===de.length?de[0]:function(Ne){return de.reduce((be,fe)=>fe(be),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=G(Ne))((be,fe)=>{let X;this.subscribe(re=>X=re,re=>fe(re),()=>be(X))})}}return de.create=xe=>new de(xe),de})();function G(de){if(de||(de=P.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>L});var u=F(2494),te=F(4449);const L={closed:!0,next(ce){},error(ce){if(u.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,te.z)(ce)},complete(){}}},9765:(He,_e,F)=>{"use strict";F.d(_e,{Yc:()=>oe,xQ:()=>K});var u=F(7574),te=F(7393),L=F(5319),ce=F(7971),ie=F(8858),J=F(9181);class oe extends te.L{constructor(B){super(B),this.destination=B}}let K=(()=>{class P extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new oe(this)}lift(G){const de=new z(this,this);return de.operator=G,de}next(G){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:de}=this,xe=de.length,Ne=de.slice();for(let be=0;be<xe;be++)Ne[be].next(G)}}error(G){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:de}=this,xe=de.length,Ne=de.slice();for(let be=0;be<xe;be++)Ne[be].error(G);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:G}=this,de=G.length,xe=G.slice();for(let Ne=0;Ne<de;Ne++)xe[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new ce.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new ce.N;return this.hasError?(G.error(this.thrownError),L.w.EMPTY):this.isStopped?(G.complete(),L.w.EMPTY):(this.observers.push(G),new ie.W(this,G))}asObservable(){const G=new u.y;return G.source=this,G}}return P.create=(B,G)=>new z(B,G),P})();class z extends K{constructor(B,G){super(),this.destination=B,this.source=G}next(B){const{destination:G}=this;G&&G.next&&G.next(B)}error(B){const{destination:G}=this;G&&G.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:G}=this;return G?this.source.subscribe(B):L.w.EMPTY}}},8858:(He,_e,F)=>{"use strict";F.d(_e,{W:()=>te});var u=F(5319);class te extends u.w{constructor(ce,ie){super(),this.subject=ce,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ie=ce.observers;if(this.subject=null,!ie||0===ie.length||ce.isStopped||ce.closed)return;const J=ie.indexOf(this.subscriber);-1!==J&&ie.splice(J,1)}}},7393:(He,_e,F)=>{"use strict";F.d(_e,{L:()=>oe});var u=F(9105),te=F(6490),L=F(5319),ce=F(9181),ie=F(2494),J=F(4449);class oe extends L.w{constructor(P,B,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof oe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,P,B,G)}}[ce.b](){return this}static create(P,B,G){const de=new oe(P,B,G);return de.syncErrorThrowable=!1,de}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class K extends oe{constructor(P,B,G,de){super(),this._parentSubscriber=P;let xe,Ne=this;(0,u.m)(B)?xe=B:B&&(xe=B.next,G=B.error,de=B.complete,B!==te.c&&(Ne=Object.create(B),(0,u.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=xe,this._error=G,this._complete=de}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ie.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:G}=ie.v;if(this._error)G&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(B.syncErrorThrowable)G?(B.syncErrorValue=P,B.syncErrorThrown=!0):(0,J.z)(P),this.unsubscribe();else{if(this.unsubscribe(),G)throw P;(0,J.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const B=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,B){try{P.call(this._context,B)}catch(G){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw G;(0,J.z)(G)}}__tryOrSetError(P,B,G){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,G)}catch(de){return ie.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=de,P.syncErrorThrown=!0,!0):((0,J.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(He,_e,F)=>{"use strict";F.d(_e,{w:()=>J});var u=F(9796),te=F(1555),L=F(9105);const ie=(()=>{function K(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((P,B)=>`${B+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return K.prototype=Object.create(Error.prototype),K})();class J{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:B,_unsubscribe:G,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof J)P.remove(this);else if(null!==P)for(let xe=0;xe<P.length;++xe)P[xe].remove(this);if((0,L.m)(G)){B&&(this._unsubscribe=void 0);try{G.call(this)}catch(xe){z=xe instanceof ie?oe(xe.errors):[xe]}}if((0,u.k)(de)){let xe=-1,Ne=de.length;for(;++xe<Ne;){const be=de[xe];if((0,te.K)(be))try{be.unsubscribe()}catch(fe){z=z||[],fe instanceof ie?z=z.concat(oe(fe.errors)):z.push(fe)}}}if(z)throw new ie(z)}add(z){let P=z;if(!z)return J.EMPTY;switch(typeof z){case"function":P=new J(z);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof J)){const de=P;P=new J,P._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=P;if(null===B)P._parentOrParents=this;else if(B instanceof J){if(B===this)return P;P._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return P;B.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[P]:G.push(P),P}remove(z){const P=this._subscriptions;if(P){const B=P.indexOf(z);-1!==B&&P.splice(B,1)}}}var K;function oe(K){return K.reduce((z,P)=>z.concat(P instanceof ie?P.errors:P),[])}J.EMPTY=((K=new J).closed=!0,K)},2494:(He,_e,F)=>{"use strict";F.d(_e,{v:()=>te});let u=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(He,_e,F)=>{"use strict";F.d(_e,{IY:()=>ce,Ds:()=>J,ft:()=>K});var u=F(7393),te=F(7574),L=F(7444);class ce extends u.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends u.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function K(z,P){if(P.closed)return;if(z instanceof te.y)return z.subscribe(P);let B;try{B=(0,L.s)(z)(P)}catch(G){P.error(G)}return B}},2441:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>ie,N:()=>J});var u=F(9765),te=F(7574),L=F(5319),ce=F(1307);class ie extends te.y{constructor(B,G){super(),this.source=B,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new L.w,B.add(this.source.subscribe(new oe(this.getSubject(),this))),B.closed&&(this._connection=null,B=L.w.EMPTY)),B}refCount(){return(0,ce.x)()(this)}}const J=(()=>{const P=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class oe extends u.Yc{constructor(B,G){super(B),this.connectable=G}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const G=B._connection;B._refCount=0,B._subject=null,B._connection=null,G&&G.unsubscribe()}}}},9193:(He,_e,F)=>{"use strict";F.d(_e,{E:()=>te,c:()=>L});var u=F(7574);const te=new u.y(ie=>ie.complete());function L(ie){return ie?function(ie){return new u.y(J=>ie.schedule(()=>J.complete()))}(ie):te}},4402:(He,_e,F)=>{"use strict";F.d(_e,{D:()=>Ne});var u=F(7574),te=F(7444),L=F(5319),ce=F(6554),oe=F(4087),K=F(377),B=F(4072),G=F(9489);function Ne(be,fe){return fe?function(be,fe){if(null!=be){if(function(be){return be&&"function"==typeof be[ce.L]}(be))return function(be,fe){return new u.y(X=>{const re=new L.w;return re.add(fe.schedule(()=>{const we=be[ce.L]();re.add(we.subscribe({next(Se){re.add(fe.schedule(()=>X.next(Se)))},error(Se){re.add(fe.schedule(()=>X.error(Se)))},complete(){re.add(fe.schedule(()=>X.complete()))}}))})),re})}(be,fe);if((0,B.t)(be))return function(be,fe){return new u.y(X=>{const re=new L.w;return re.add(fe.schedule(()=>be.then(we=>{re.add(fe.schedule(()=>{X.next(we),re.add(fe.schedule(()=>X.complete()))}))},we=>{re.add(fe.schedule(()=>X.error(we)))}))),re})}(be,fe);if((0,G.z)(be))return(0,oe.r)(be,fe);if(function(be){return be&&"function"==typeof be[K.hZ]}(be)||"string"==typeof be)return function(be,fe){if(!be)throw new Error("Iterable cannot be null");return new u.y(X=>{const re=new L.w;let we;return re.add(()=>{we&&"function"==typeof we.return&&we.return()}),re.add(fe.schedule(()=>{we=be[K.hZ](),re.add(fe.schedule(function(){if(X.closed)return;let Se,Tt;try{const At=we.next();Se=At.value,Tt=At.done}catch(At){return void X.error(At)}Tt?X.complete():(X.next(Se),this.schedule())}))})),re})}(be,fe)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,fe):be instanceof u.y?be:new u.y((0,te.s)(be))}},6693:(He,_e,F)=>{"use strict";F.d(_e,{n:()=>ce});var u=F(7574),te=F(5015),L=F(4087);function ce(ie,J){return J?(0,L.r)(ie,J):new u.y((0,te.V)(ie))}},6682:(He,_e,F)=>{"use strict";F.d(_e,{T:()=>ie});var u=F(7574),te=F(4869),L=F(3282),ce=F(6693);function ie(...J){let oe=Number.POSITIVE_INFINITY,K=null,z=J[J.length-1];return(0,te.K)(z)?(K=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(oe=J.pop())):"number"==typeof z&&(oe=J.pop()),null===K&&1===J.length&&J[0]instanceof u.y?J[0]:(0,L.J)(oe)((0,ce.n)(J,K))}},5917:(He,_e,F)=>{"use strict";F.d(_e,{of:()=>ce});var u=F(4869),te=F(6693),L=F(4087);function ce(...ie){let J=ie[ie.length-1];return(0,u.K)(J)?(ie.pop(),(0,L.r)(ie,J)):(0,te.n)(ie)}},8002:(He,_e,F)=>{"use strict";F.d(_e,{U:()=>te});var u=F(7393);function te(ie,J){return function(K){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new L(ie,J))}}class L{constructor(J,oe){this.project=J,this.thisArg=oe}call(J,oe){return oe.subscribe(new ce(J,this.project,this.thisArg))}}class ce extends u.L{constructor(J,oe,K){super(J),this.project=oe,this.count=0,this.thisArg=K||this}_next(J){let oe;try{oe=this.project.call(this.thisArg,J,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(oe)}}},3282:(He,_e,F)=>{"use strict";F.d(_e,{J:()=>L});var u=F(9773),te=F(4487);function L(ce=Number.POSITIVE_INFINITY){return(0,u.zg)(te.y,ce)}},9773:(He,_e,F)=>{"use strict";F.d(_e,{zg:()=>ce});var u=F(8002),te=F(4402),L=F(5345);function ce(K,z,P=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(ce((G,de)=>(0,te.D)(K(G,de)).pipe((0,u.U)((xe,Ne)=>z(G,xe,de,Ne))),P)):("number"==typeof z&&(P=z),B=>B.lift(new ie(K,P)))}class ie{constructor(z,P=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=P}call(z,P){return P.subscribe(new J(z,this.project,this.concurrent))}}class J extends L.Ds{constructor(z,P,B=Number.POSITIVE_INFINITY){super(z),this.project=P,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let P;const B=this.index++;try{P=this.project(z,B)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(P)}_innerSub(z){const P=new L.IY(this),B=this.destination;B.add(P);const G=(0,L.ft)(z,P);G!==P&&B.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(He,_e,F)=>{"use strict";F.d(_e,{QV:()=>L,ht:()=>ie});var u=F(7393),te=F(1593);function L(oe,K=0){return function(P){return P.lift(new ce(oe,K))}}class ce{constructor(K,z=0){this.scheduler=K,this.delay=z}call(K,z){return z.subscribe(new ie(K,this.scheduler,this.delay))}}class ie extends u.L{constructor(K,z,P=0){super(K),this.scheduler=z,this.delay=P}static dispatch(K){const{notification:z,destination:P}=K;z.observe(P),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new J(K,this.destination)))}_next(K){this.scheduleMessage(te.P.createNext(K))}_error(K){this.scheduleMessage(te.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(te.P.createComplete()),this.unsubscribe()}}class J{constructor(K,z){this.notification=K,this.destination=z}}},1307:(He,_e,F)=>{"use strict";F.d(_e,{x:()=>te});var u=F(7393);function te(){return function(J){return J.lift(new L(J))}}class L{constructor(J){this.connectable=J}call(J,oe){const{connectable:K}=this;K._refCount++;const z=new ce(J,K),P=oe.subscribe(z);return z.closed||(z.connection=K.connect()),P}}class ce extends u.L{constructor(J,oe){super(J),this.connectable=oe}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const oe=J._refCount;if(oe<=0)return void(this.connection=null);if(J._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:K}=this,z=J._connection;this.connection=null,z&&(!K||z===K)&&z.unsubscribe()}}},8819:(He,_e,F)=>{"use strict";F.d(_e,{B:()=>oe});var u=F(2441);var ce=F(1307),ie=F(9765);function J(){return new ie.xQ}function oe(){return K=>(0,ce.x)()(function(K,z){return function(B){let G;G="function"==typeof K?K:function(){return K};const de=Object.create(B,u.N);return de.source=B,de.subjectFactory=G,de}}(J)(K))}},2639:(He,_e,F)=>{"use strict";F.d(_e,{R:()=>be});var u=F(7574);let te=1;const L=Promise.resolve(),ce={};function ie(X){return X in ce&&(delete ce[X],!0)}const J={setImmediate(X){const re=te++;return ce[re]=!0,L.then(()=>ie(re)&&X()),re},clearImmediate(X){ie(X)}};var K=F(6465),P=F(6102);const de=new class extends P.v{flush(re){this.active=!0,this.scheduled=void 0;const{actions:we}=this;let Se,Tt=-1,At=we.length;re=re||we.shift();do{if(Se=re.execute(re.state,re.delay))break}while(++Tt<At&&(re=we.shift()));if(this.active=!1,Se){for(;++Tt<At&&(re=we.shift());)re.unsubscribe();throw Se}}}(class extends K.o{constructor(re,we){super(re,we),this.scheduler=re,this.work=we}requestAsyncId(re,we,Se=0){return null!==Se&&Se>0?super.requestAsyncId(re,we,Se):(re.actions.push(this),re.scheduled||(re.scheduled=J.setImmediate(re.flush.bind(re,null))))}recycleAsyncId(re,we,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(re,we,Se);0===re.actions.length&&(J.clearImmediate(we),re.scheduled=void 0)}});var xe=F(6561);class Ne extends u.y{constructor(re,we=0,Se=de){super(),this.source=re,this.delayTime=we,this.scheduler=Se,(!(0,xe.k)(we)||we<0)&&(this.delayTime=0),(!Se||"function"!=typeof Se.schedule)&&(this.scheduler=de)}static create(re,we=0,Se=de){return new Ne(re,we,Se)}static dispatch(re){const{source:we,subscriber:Se}=re;return this.add(we.subscribe(Se))}_subscribe(re){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function be(X,re=0){return function(Se){return Se.lift(new fe(X,re))}}class fe{constructor(re,we){this.scheduler=re,this.delay=we}call(re,we){return new Ne(we,this.delay,this.scheduler).subscribe(re)}}},8307:(He,_e,F)=>{"use strict";F.d(_e,{b:()=>ce});var u=F(7393),te=F(8640),L=F(9105);function ce(oe,K,z){return function(B){return B.lift(new ie(oe,K,z))}}class ie{constructor(K,z,P){this.nextOrObserver=K,this.error=z,this.complete=P}call(K,z){return z.subscribe(new J(K,this.nextOrObserver,this.error,this.complete))}}class J extends u.L{constructor(K,z,P,B){super(K),this._tapNext=te.Z,this._tapError=te.Z,this._tapComplete=te.Z,this._tapError=P||te.Z,this._tapComplete=B||te.Z,(0,L.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||te.Z,this._tapError=z.error||te.Z,this._tapComplete=z.complete||te.Z)}_next(K){try{this._tapNext.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(He,_e,F)=>{"use strict";F.d(_e,{r:()=>L});var u=F(7574),te=F(5319);function L(ce,ie){return new u.y(J=>{const oe=new te.w;let K=0;return oe.add(ie.schedule(function(){K!==ce.length?(J.next(ce[K++]),J.closed||oe.add(this.schedule())):J.complete()})),oe})}},6465:(He,_e,F)=>{"use strict";F.d(_e,{o:()=>L});var u=F(5319);class te extends u.w{constructor(ie,J){super()}schedule(ie,J=0){return this}}class L extends te{constructor(ie,J){super(ie,J),this.scheduler=ie,this.work=J,this.pending=!1}schedule(ie,J=0){if(this.closed)return this;this.state=ie;const oe=this.id,K=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(K,oe,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(K,this.id,J),this}requestAsyncId(ie,J,oe=0){return setInterval(ie.flush.bind(ie,this),oe)}recycleAsyncId(ie,J,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return J;clearInterval(J)}execute(ie,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ie,J);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,J){let K,oe=!1;try{this.work(ie)}catch(z){oe=!0,K=!!z&&z||new Error(z)}if(oe)return this.unsubscribe(),K}_unsubscribe(){const ie=this.id,J=this.scheduler,oe=J.actions,K=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&oe.splice(K,1),null!=ie&&(this.id=this.recycleAsyncId(J,ie,null)),this.delay=null}}},6102:(He,_e,F)=>{"use strict";F.d(_e,{v:()=>te});let u=(()=>{class L{constructor(ie,J=L.now){this.SchedulerAction=ie,this.now=J}schedule(ie,J=0,oe){return new this.SchedulerAction(this,ie).schedule(oe,J)}}return L.now=()=>Date.now(),L})();class te extends u{constructor(ce,ie=u.now){super(ce,()=>te.delegate&&te.delegate!==this?te.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ie=0,J){return te.delegate&&te.delegate!==this?te.delegate.schedule(ce,ie,J):super.schedule(ce,ie,J)}flush(ce){const{actions:ie}=this;if(this.active)return void ie.push(ce);let J;this.active=!0;do{if(J=ce.execute(ce.state,ce.delay))break}while(ce=ie.shift());if(this.active=!1,J){for(;ce=ie.shift();)ce.unsubscribe();throw J}}}},3637:(He,_e,F)=>{"use strict";F.d(_e,{z:()=>L,P:()=>ce});var u=F(6465);const L=new(F(6102).v)(u.o),ce=L},7771:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>J,N:()=>ie});var u=F(6465),L=F(6102);const ie=new class extends L.v{}(class extends u.o{constructor(K,z){super(K,z),this.scheduler=K,this.work=z}schedule(K,z=0){return z>0?super.schedule(K,z):(this.delay=z,this.state=K,this.scheduler.flush(this),this)}execute(K,z){return z>0||this.closed?super.execute(K,z):this._execute(K,z)}requestAsyncId(K,z,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(K,z,P):K.flush(this)}}),J=ie},377:(He,_e,F)=>{"use strict";F.d(_e,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,_e,F)=>{"use strict";F.d(_e,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,_e,F)=>{"use strict";F.d(_e,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,_e,F)=>{"use strict";F.d(_e,{N:()=>te});const te=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(He,_e,F)=>{"use strict";function u(te){setTimeout(()=>{throw te},0)}F.d(_e,{z:()=>u})},4487:(He,_e,F)=>{"use strict";function u(te){return te}F.d(_e,{y:()=>u})},9796:(He,_e,F)=>{"use strict";F.d(_e,{k:()=>u});const u=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(He,_e,F)=>{"use strict";F.d(_e,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(He,_e,F)=>{"use strict";function u(te){return"function"==typeof te}F.d(_e,{m:()=>u})},6561:(He,_e,F)=>{"use strict";F.d(_e,{k:()=>te});var u=F(9796);function te(L){return!(0,u.k)(L)&&L-parseFloat(L)+1>=0}},1555:(He,_e,F)=>{"use strict";function u(te){return null!==te&&"object"==typeof te}F.d(_e,{K:()=>u})},4072:(He,_e,F)=>{"use strict";function u(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}F.d(_e,{t:()=>u})},4869:(He,_e,F)=>{"use strict";function u(te){return te&&"function"==typeof te.schedule}F.d(_e,{K:()=>u})},8640:(He,_e,F)=>{"use strict";function u(){}F.d(_e,{Z:()=>u})},7444:(He,_e,F)=>{"use strict";F.d(_e,{s:()=>B});var u=F(5015),te=F(4449),ce=F(377),J=F(6554),K=F(9489),z=F(4072),P=F(1555);const B=G=>{if(G&&"function"==typeof G[J.L])return(G=>de=>{const xe=G[J.L]();if("function"!=typeof xe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return xe.subscribe(de)})(G);if((0,K.z)(G))return(0,u.V)(G);if((0,z.t)(G))return(G=>de=>(G.then(xe=>{de.closed||(de.next(xe),de.complete())},xe=>de.error(xe)).then(null,te.z),de))(G);if(G&&"function"==typeof G[ce.hZ])return(G=>de=>{const xe=G[ce.hZ]();for(;;){let Ne;try{Ne=xe.next()}catch(be){return de.error(be),de}if(Ne.done){de.complete();break}if(de.next(Ne.value),de.closed)break}return"function"==typeof xe.return&&de.add(()=>{xe.return&&xe.return()}),de})(G);{const xe=`You provided ${(0,P.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(xe)}}},5015:(He,_e,F)=>{"use strict";F.d(_e,{V:()=>u});const u=te=>L=>{for(let ce=0,ie=te.length;ce<ie&&!L.closed;ce++)L.next(te[ce]);L.complete()}},6811:(He,_e,F)=>{"use strict";var u=F(7716);let te=null;function L(){return te}const oe=new u.OlP("DocumentToken");let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,u.LFG)(B)}const P=new u.OlP("Location Initialized");let B=(()=>{class n extends K{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){G()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){G()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=(0,u.Yz7)({factory:de,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function de(){return new B((0,u.LFG)(oe))}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:X,token:n,providedIn:"root"}),n})();function X(n){const e=(0,u.LFG)(oe).location;return new we((0,u.LFG)(K),e&&e.origin||"")}const re=new u.OlP("appBaseHref");let we=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+be(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const h=this.prepareExternalUrl(o+be(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){const h=this.prepareExternalUrl(o+be(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(K),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let h=this.prepareExternalUrl(o+be(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){let h=this.prepareExternalUrl(o+be(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(K),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Tt=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(yt(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,yt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(K))},n.normalizeQueryParams=be,n.joinWithSlash=xe,n.stripTrailingSlash=Ne,n.\u0275prov=(0,u.Yz7)({factory:At,token:n,providedIn:"root"}),n})();function At(){return new Tt((0,u.LFG)(fe),(0,u.LFG)(K))}function yt(n){return n.replace(/\/index.html$/,"")}var ht=(()=>((ht=ht||{})[ht.Zero=0]="Zero",ht[ht.One=1]="One",ht[ht.Two=2]="Two",ht[ht.Few=3]="Few",ht[ht.Many=4]="Many",ht[ht.Other=5]="Other",ht))();const rs=u.kL8;class Zr{}let lr=(()=>{class n extends Zr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(rs(r||this.locale)(t)){case ht.Zero:return"zero";case ht.One:return"one";case ht.Two:return"two";case ht.Few:return"few";case ht.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Es{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ds=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),cr=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new Es(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ds,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),$f=(()=>{class n{constructor(t,r,o){o._addDefault(new Es(t,r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ds,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),mn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Zr,useClass:lr}]}),n})();function Qu(n){return"server"===n}let Wa=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Yd((0,u.LFG)(oe),window)}),n})();class Yd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ra(this.window.history)||ra(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ra(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Jd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Jd,te||(te=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(os=os||document.querySelector("base"),os?os.getAttribute("href"):null);return null==t?null:function(n){zt=zt||document.createElement("a"),zt.setAttribute("href",n);const e=zt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){os=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let zt,os=null;const el=new u.OlP("TRANSITION_ID"),li=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[el,oe,u.zs3],multi:!0}];class Wn{static init(){(0,u.VLi)(new Wn)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const _=function(w){h=h||w,c--,0==c&&r(h)};o.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=new u.OlP("EventManagerPlugins");let ve=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ts),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ct{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let sl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),an=(()=>{class n extends sl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ol),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ol))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ol(n){L().remove(n)}const as={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mr=/%COMP%/g;function Vn(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Vn(n,o,t):(o=o.replace(Mr,n),t.push(o))}return t}function Ii(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new xr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new bc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new tu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Vn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ve),u.LFG(an),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(as[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=as[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=as[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ii(r)):this.eventManager.addEventListener(e,t,Ii(r))}}class bc extends xr{constructor(e,t,r,o){super(e),this.component=r;const c=Vn(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Mr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Mr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tu extends xr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Vn(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const _=document.createElement("style");_.textContent=c[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nu=(()=>{class n extends Ct{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=["alt","control","meta","shift"],Ec={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let da=(()=>{class n extends Ct{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(Is.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),h+=w+".")}),h+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xn.hasOwnProperty(e)&&(e=Xn[e]))}return Ec[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Is.forEach(c=>{c!=o&&Wf[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Jd.makeCurrent(),Wn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Ic=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Ts,useClass:nu,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:Ts,useClass:da,multi:!0,deps:[oe]},[],{provide:qi,useClass:qi,deps:[ve,an,u.AFp]},{provide:u.FYo,useExisting:qi},{provide:sl,useExisting:an},{provide:an,useClass:an,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ve,useClass:ve,deps:[Ts,u.R0b]},{provide:class{},useClass:zs,deps:[]},[]];let Jf=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:el,useExisting:u.AFp},li]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Ic,imports:[mn,u.hGG]}),n})();"undefined"!=typeof window&&window;var Jt=F(4402),Ue=F(5917),Qt=F(9765),Sc=F(7971);class En extends Qt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sc.N;return this._value}next(e){super.next(this._value=e)}}var Ns=F(4869),Do=F(9796),un=F(7393);class au extends un.L{notifyNext(e,t,r,o,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Qg extends un.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Xs=F(7444),Nn=F(7574);function Mn(n,e,t,r,o=new Qg(n,t,r)){if(!o.closed)return e instanceof Nn.y?e.subscribe(o):(0,Xs.s)(e)(o)}var ga=F(6693);const uu={};class hl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new lu(e,this.resultSelector))}}class lu extends au{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(uu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Mn(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===uu?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ai=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ms=F(3282);function eo(...n){return(0,Ms.J)(1)((0,Ue.of)(...n))}var Rr=F(9193);function Wi(n){return new Nn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Jt.D)(t):(0,Rr.c)()).subscribe(e)})}var ch=F(2441),et=F(8002),Si=F(5345);function xn(n,e){return"function"==typeof e?t=>t.pipe(xn((r,o)=>(0,Jt.D)(n(r,o)).pipe((0,et.U)((c,h)=>e(r,c,o,h))))):t=>t.lift(new Xg(n))}class Xg{constructor(e){this.project=e}call(e,t){return t.subscribe(new fn(e,this.project))}}class fn extends Si.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Si.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Si.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const fl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Wr(n){return e=>0===n?(0,Rr.c)():e.lift(new Xy(n))}class Xy{constructor(e){if(this.total=e,this.total<0)throw new fl}call(e,t){return t.subscribe(new pl(e,this.total))}}class pl extends un.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function ma(...n){const e=n[n.length-1];return(0,Ns.K)(e)?(n.pop(),t=>eo(n,t,e)):t=>eo(n,t)}function cu(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new em(n,e,t))}}class em{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new hh(e,this.accumulator,this.seed,this.hasSeed))}}class hh extends un.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Dn(n,e){return function(r){return r.lift(new Nc(n,e))}}class Nc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new To(e,this.predicate,this.thisArg))}}class To extends un.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function to(n){return function(t){const r=new Un(n),o=t.lift(r);return r.caught=o}}class Un{constructor(e){this.selector=e}call(e,t){return t.subscribe(new xs(e,this.selector,this.caught))}}class xs extends Si.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Si.IY(this);this.add(r);const o=(0,Si.ft)(t,r);o!==r&&this.add(o)}}}var Rn=F(9773);function Mc(n,e){return(0,Rn.zg)(n,e,1)}function fh(n){return function(t){return 0===n?(0,Rr.c)():t.lift(new di(n))}}class di{constructor(e){if(this.total=e,this.total<0)throw new fl}call(e,t){return t.subscribe(new ls(e,this.total))}}class ls extends un.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const h=t++%r;e.next(o[h])}}e.complete()}}function du(n=ph){return e=>e.lift(new Ni(n))}class Ni{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Rs(e,this.errorFactory))}}class Rs extends un.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ph(){return new Ai}function xc(n=null){return e=>e.lift(new Io(n))}class Io{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new tm(e,this.defaultValue))}}class tm extends un.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ao=F(4487);function er(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Dn((o,c)=>n(o,c,r)):Ao.y,Wr(1),t?xc(e):du(()=>new Ai))}var Tn=F(8307),_a=F(1307),Rc=F(5319);class E{constructor(e){this.callback=e}call(e,t){return t.subscribe(new A(e,this.callback))}}class A extends un.L{constructor(e,t){super(e),this.add(new Rc.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class U extends R{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class le extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends R{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ml{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _l{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yi{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const lt="primary";class np{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _n(n){return new np(n)}const yl="ngNavigationCancelingError";function nm(n){const e=Error("NavigationCancelingError: "+n);return e[yl]=!0,e}function fu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],_=n[c];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ji(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!ip(n[o],e[o]))return!1;return!0}function ip(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function rm(n){return Array.prototype.concat.apply([],n)}function ya(n){return n.length>0?n[n.length-1]:null}function nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function dr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Jt.D)(Promise.resolve(n)):(0,Ue.of)(n)}const im={exact:function gh(n,e,t){if(!ba(n.segments,e.segments)||!bl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gh(n.children[r],e.children[r],t))return!1;return!0},subset:No},vl={exact:function(n,e){return Ji(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ip(n[t],e[t]))},ignored:()=>!0};function kc(n,e,t){return im[t.paths](n.root,e.root,t.matrixParams)&&vl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function No(n,e,t){return Mo(n,e,e.segments,t)}function Mo(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ba(o,t)||e.hasChildren()||!bl(o,t,r))}if(n.segments.length===t.length){if(!ba(n.segments,t)||!bl(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!No(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ba(n.segments,o)&&bl(n.segments,o,r)&&n.children[lt])&&Mo(n.children[lt],e,c,r)}}function bl(n,e,t){return e.every((r,o)=>vl[t](n[o].parameters,r.parameters))}class pu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return Pc.serialize(this)}}class St{constructor(e,t){this.segments=e,this.children=t,this.parent=null,nr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xo(this)}}class Oc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return El(this)}}function ba(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class sp{}class wl{parse(e){const t=new yh(e);return new pu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Fc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Lc(t)}=${Lc(o)}`).join("&"):`${Lc(t)}=${Lc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Pc=new wl;function xo(n){return n.segments.map(e=>El(e)).join("/")}function Fc(n,e){if(!n.hasChildren())return xo(n);if(e){const t=n.children[lt]?Fc(n.children[lt],!1):"",r=[];return nr(n.children,(o,c)=>{c!==lt&&r.push(`${c}:${Fc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return nr(n.children,(r,o)=>{o===lt&&(t=t.concat(e(r,o)))}),nr(n.children,(r,o)=>{o!==lt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===lt?[Fc(n.children[lt],!1)]:[`${o}:${Fc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[lt]?`${xo(n)}/${t[0]}`:`${xo(n)}/(${t.join("//")})`}}function am(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(n){return am(n).replace(/%3B/gi,";")}function Vc(n){return am(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(n){return decodeURIComponent(n)}function op(n){return Cl(n.replace(/\+/g,"%20"))}function El(n){return`${Vc(n.path)}${function(n){return Object.keys(n).map(e=>`;${Vc(e)}=${Vc(n[e])}`).join("")}(n.parameters)}`}const s0=/^[^\/()?;=#]+/;function _h(n){const e=n.match(s0);return e?e[0]:""}const o0=/^[^=?&#]+/,Ro=/^[^?&#]+/;class yh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[lt]=new St(e,t)),r}parseSegment(){const e=_h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Oc(Cl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_h(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=_h(this.remaining);o&&(r=o,this.capture(r))}e[Cl(t)]=Cl(r)}parseQueryParam(e){const t=function(n){const e=n.match(o0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Ro);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=op(t),c=op(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_h(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=lt);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[lt]:new St([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class um{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ap(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ap(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=up(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return up(e,this._root).map(t=>t.value)}}function ap(n,e){if(n===e.value)return e;for(const t of e.children){const r=ap(n,t);if(r)return r}return null}function up(n,e){if(n===e.value)return[e];for(const t of e.children){const r=up(n,t);if(r.length)return r.unshift(e),r}return[]}class ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vh extends um{constructor(e,t){super(e),this.snapshot=t,wh(this,e)}toString(){return this.snapshot.toString()}}function lm(n,e){const t=function(n,e){const h=new bh([],{},{},"",{},lt,e,null,n.root,-1,{});return new wa("",new ko(h,[]))}(n,e),r=new En([new Oc("",{})]),o=new En({}),c=new En({}),h=new En({}),_=new En(""),w=new Tl(r,o,h,_,c,lt,e,t.root);return w.snapshot=t.root,new vh(new ko(w,[]),t)}class Tl{constructor(e,t,r,o,c,h,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(e=>_n(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(e=>_n(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bh{constructor(e,t,r,o,c,h,_,w,T,N,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=N,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wa extends um{constructor(e,t){super(t),this.url=e,wh(this,t)}toString(){return cs(this._root)}}function wh(n,e){e.value._routerState=n,e.children.forEach(t=>wh(n,t))}function cs(n){const e=n.children.length>0?` { ${n.children.map(cs).join(", ")} } `:"";return`${n.value}${e}`}function mu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ji(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ji(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ji(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ji(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Il(n,e){return Ji(n.params,e.params)&&function(n,e){return ba(n,e)&&n.every((t,r)=>Ji(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Il(n.parent,e.parent))}function Al(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Al(n,r,o);return Al(n,r)})}(n,e,t);return new ko(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return fm(e,h),h}}const r=function(n){return new Tl(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Al(n,c));return new ko(r,o)}}function fm(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)fm(n.children[t],e.children[t])}function Bc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qi(n){return"object"==typeof n&&null!=n&&n.outlets}function pm(n,e,t,r,o){let c={};return r&&nr(r,(h,_)=>{c[_]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),new pu(t.root===n?e:l0(t.root,n,e),c,o)}function l0(n,e,t){const r={};return nr(n.children,(o,c)=>{r[c]=o===e?t:l0(o,e,t)}),new St(n.segments,r)}class jc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Qi);if(o&&o!==ya(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $c{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hc(n,e,t){if(n||(n=new St([],{})),0===n.segments.length&&n.hasChildren())return Gc(n,e,t);const r=function(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const h=n.segments[o],_=t[r];if(Qi(_))break;const w=`${_}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!mm(w,T,h))return c;r+=2}else{if(!mm(w,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new St(n.segments.slice(0,r.pathIndex),{});return c.children[lt]=new St(n.segments.slice(r.pathIndex),n.children),Gc(c,0,o)}return r.match&&0===o.length?new St(n.segments,{}):r.match&&!n.hasChildren()?cp(n,e,t):r.match?Gc(n,0,o):cp(n,e,t)}function Gc(n,e,t){if(0===t.length)return new St(n.segments,{});{const r=function(n){return Qi(n[0])?n[0].outlets:{[lt]:n}}(t),o={};return nr(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=Hc(n.children[h],e,c))}),nr(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new St(n.segments,o)}}function cp(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(Qi(c)){const w=jn(c.outlets);return new St(r,w)}if(0===o&&Bc(t[0])){r.push(new Oc(n.segments[e].path,gm(t[0]))),o++;continue}const h=Qi(c)?c.outlets[lt]:`${c}`,_=o<t.length-1?t[o+1]:null;h&&_&&Bc(_)?(r.push(new Oc(h,gm(_))),o+=2):(r.push(new Oc(h,{})),o++)}return new St(r,{})}function jn(n){const e={};return nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=cp(new St([],{}),0,t))}),e}function gm(n){const e={};return nr(n,(t,r)=>e[r]=`${t}`),e}function mm(n,e,t){return n==t.path&&Ji(e,t.parameters)}class hp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Uc(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),nr(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Uc(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Uc(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Yi(c.value.snapshot))}),e.children.length&&this.forwardEvent(new So(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(mu(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),Eh(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),w=_?_.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=w,h.outlet&&h.outlet.activateWith(o,w),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Eh(n){mu(n.value),n.children.forEach(Eh)}class fp{constructor(e,t){this.routes=e,this.module=t}}function no(n){return"function"==typeof n}function Sl(n){return n instanceof pu}const Nl=Symbol("INITIAL_VALUE");function _u(){return xn(n=>function(...n){let e,t;return(0,Ns.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Do.k)(n[0])&&(n=n[0]),(0,ga.n)(n,t).lift(new hl(e))}(n.map(e=>e.pipe(Wr(1),ma(Nl)))).pipe(cu((e,t)=>{let r=!1;return t.reduce((o,c,h)=>o!==Nl?o:(c===Nl&&(r=!0),r||!1!==c&&h!==t.length-1&&!Sl(c)?o:c),e)},Nl),Dn(e=>e!==Nl),(0,et.U)(e=>Sl(e)?e:!0===e),Wr(1)))}let kr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[xh]},encapsulation:2}),n})();function Ml(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];mp(r,p0(e,r))}}function mp(n,e){n.children&&Ml(n.children,e)}function p0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xl(n){const e=n.children&&n.children.map(xl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==lt&&(t.component=kr),t}function Xi(n){return n.outlet||lt}function _p(n,e){const t=n.filter(r=>Xi(r)===e);return t.push(...n.filter(r=>Xi(r)!==e)),t}const yp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},yp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||fu)(t,n,e);if(!c)return Object.assign({},yp);const h={};nr(c.posParams,(w,T)=>{h[T]=w.path});const _=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Zc(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>yu(n,e,r)&&Xi(r)!==lt)}(n,t,r)){const h=new St(e,function(n,e,t,r){const o={};o[lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Xi(c)!==lt){const h=new St([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Xi(c)]=h}return o}(n,e,r,new St(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>yu(n,e,r))}(n,t,r)){const h=new St(n.segments,function(n,e,t,r,o,c){const h={};for(const _ of r)if(yu(n,t,_)&&!o[Xi(_)]){const w=new St([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[Xi(_)]=w}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new St(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function yu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bp(n,e,t,r){return!!(Xi(n)===r||r!==lt&&yu(e,t,n))&&("**"===n.path||Dh(e,n,t).matched)}function Ih(n,e,t){return 0===e.length&&!n.children[t]}class Kr{constructor(e){this.segmentGroup=e||null}}class vu{constructor(e){this.urlTree=e}}function Ea(n){return new Nn.y(e=>e.error(new Kr(n)))}function ym(n){return new Nn.y(e=>e.error(new vu(n)))}function wp(n){return new Nn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class vm{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Zc(this.urlTree.root,[],[],this.config).segmentGroup,t=new St(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,lt).pipe((0,et.U)(c=>this.createUrlTree(ro(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(to(c=>{if(c instanceof vu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Kr?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,lt).pipe((0,et.U)(o=>this.createUrlTree(ro(o),e.queryParams,e.fragment))).pipe(to(o=>{throw o instanceof Kr?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new St([],{[lt]:e}):e;return new pu(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,et.U)(c=>new St([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Jt.D)(o).pipe(Mc(c=>{const h=r.children[c],_=_p(t,c);return this.expandSegmentGroup(e,_,h,c).pipe((0,et.U)(w=>({segment:w,outlet:c})))}),cu((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Dn((o,c)=>n(o,c,r)):Ao.y,fh(1),t?xc(e):du(()=>new Ai))}())}expandSegment(e,t,r,o,c,h){return(0,Jt.D)(r).pipe(Mc(_=>this.expandSegmentAgainstRoute(e,t,r,_,o,c,h).pipe(to(T=>{if(T instanceof Kr)return(0,Ue.of)(null);throw T}))),er(_=>!!_),to((_,w)=>{if(_ instanceof Ai||"EmptyError"===_.name){if(Ih(t,o,c))return(0,Ue.of)(new St([],{}));throw new Kr(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,o,c,h,_){return bp(o,t,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h):Ea(t):Ea(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ym(c):this.lineralizeSegments(r,c).pipe((0,Rn.zg)(h=>{const _=new St(h,{});return this.expandSegment(e,_,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){const{matched:_,consumedSegments:w,lastChild:T,positionalParamSegments:N}=Dh(t,o,c);if(!_)return Ea(t);const x=this.applyRedirectCommands(w,o.redirectTo,N);return o.redirectTo.startsWith("/")?ym(x):this.lineralizeSegments(o,x).pipe((0,Rn.zg)(V=>this.expandSegment(e,t,r,V.concat(c.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,et.U)(V=>(r._loadedConfig=V,new St(o,{})))):(0,Ue.of)(new St(o,{}));const{matched:h,consumedSegments:_,lastChild:w}=Dh(t,r,o);if(!h)return Ea(t);const T=o.slice(w);return this.getChildConfig(e,r,o).pipe((0,Rn.zg)(x=>{const V=x.module,H=x.routes,{segmentGroup:ee,slicedSegments:ge}=Zc(t,_,T,H),Ie=new St(ee.segments,ee.children);if(0===ge.length&&Ie.hasChildren())return this.expandChildren(V,H,Ie).pipe((0,et.U)(nt=>new St(_,nt)));if(0===H.length&&0===ge.length)return(0,Ue.of)(new St(_,{}));const Je=Xi(r)===c;return this.expandSegment(V,Ie,H,ge,Je?lt:c,!0).pipe((0,et.U)(Dt=>new St(_.concat(Dt.segments),Dt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ue.of)(new fp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ue.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Rn.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,et.U)(c=>(t._loadedConfig=c,c))):(n=t,new Nn.y(e=>e.error(nm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ue.of)(new fp([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ue.of)(!0);const c=o.map(h=>{const _=e.get(h);let w;if((n=_)&&no(n.canLoad))w=_.canLoad(t,r);else{if(!no(_))throw new Error("Invalid CanLoad guard");w=_(t,r)}var n;return dr(w)});return(0,Ue.of)(c).pipe(_u(),(0,Tn.b)(h=>{if(!Sl(h))return;const _=nm(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw _.url=h,_}),(0,et.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ue.of)(r);if(o.numberOfChildren>1||!o.children[lt])return wp(e.redirectTo);o=o.children[lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new pu(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return nr(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=t[_]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let h={};return nr(t.children,(_,w)=>{h[w]=this.createSegmentGroup(e,_,r,o)}),new St(c,h)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function ro(n){const e={};for(const r of Object.keys(n.children)){const c=ro(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[lt]){const e=n.children[lt];return new St(n.segments.concat(e.segments),e.children)}return n}(new St(n.segments,e))}class zc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fi{constructor(e,t){this.component=e,this.route=t}}function wm(n,e,t){const r=n._root;return Rl(r,e?e._root:null,t,[r.value])}function Or(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Rl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Uc(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ba(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ba(n.url,e.url)||!Ji(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Il(n,e)||!Ji(n.queryParams,e.queryParams);case"paramsChange":default:return!Il(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new zc(r)):(c.data=h.data,c._resolvedData=h._resolvedData),Rl(n,e,c.component?_?_.children:null:t,r,o),w&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new fi(_.outlet.component,h))}else h&&Po(e,_,o),o.canActivateChecks.push(new zc(r)),Rl(n,null,c.component?_?_.children:null:t,r,o)})(h,c[h.value.outlet],t,r.concat([h.value]),o),delete c[h.value.outlet]}),nr(c,(h,_)=>Po(h,t.getContext(_),o)),o}function Po(n,e,t){const r=Uc(n),o=n.value;nr(r,(c,h)=>{Po(c,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new fi(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class p{}function g(n){return new Nn.y(e=>e.error(n))}class I{constructor(e,t,r,o,c,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Zc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,lt);if(null===t)return null;const r=new bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ko(r,t),c=new wa(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=cm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],_=_p(e,c),w=this.processSegmentGroup(_,h,c);if(null===w)return null;r.push(...w)}const o=Re(r);return o.sort((e,t)=>e.value.outlet===lt?-1:t.value.outlet===lt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,r,o);if(null!==h)return h}return Ih(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!bp(e,t,r,o))return null;let c,h=[],_=[];if("**"===e.path){const H=r.length>0?ya(r).parameters:{};c=new bh(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Et(e),Xi(e),e.component,e,je(t),qe(t)+r.length,Yn(e))}else{const H=Dh(t,e,r);if(!H.matched)return null;h=H.consumedSegments,_=r.slice(H.lastChild),c=new bh(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Et(e),Xi(e),e.component,e,je(t),qe(t)+h.length,Yn(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Zc(t,h,_,w.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const H=this.processChildren(w,T);return null===H?null:[new ko(c,H)]}if(0===w.length&&0===N.length)return[new ko(c,[])];const x=Xi(e)===o,V=this.processSegment(w,T,N,x?lt:o);return null===V?null:[new ko(c,V)]}}function ae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Re(n){const e=[],t=new Set;for(const r of n){if(!ae(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Re(r.children);e.push(new ko(r.value,o))}return e.filter(r=>!t.has(r))}function je(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qe(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Et(n){return n.data||{}}function Yn(n){return n.resolve||{}}function Yc(n){return xn(e=>{const t=n(e);return t?(0,Jt.D)(t).pipe((0,et.U)(()=>e)):(0,Ue.of)(e)})}class Cp extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Kc=new u.OlP("ROUTES");class Nh{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,et.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new fp(rm(h.injector.get(Kc,void 0,u.XFs.Self|u.XFs.Optional)).map(xl),h)}),to(c=>{throw t._loader$=void 0,c}));return t._loader$=new ch.c(o,()=>new Qt.xQ).pipe((0,_a.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Jt.D)(this.loader.load(e)):dr(e()).pipe((0,Rn.zg)(t=>t instanceof u.YKP?(0,Ue.of)(t):(0,Jt.D)(this.compiler.compileModuleAsync(t))))}}class Mh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ta,this.attachRef=null}}class Ta{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Mh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class aI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function iw(n){throw n}function sw(n,e,t){return e.parse("/")}function kl(n,e){return(0,Ue.of)(null)}const ow={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hs=(()=>{class n{constructor(t,r,o,c,h,_,w,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qt.xQ,this.errorHandler=iw,this.malformedUriErrorHandler=sw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kl,afterPreactivation:kl},this.urlHandlingStrategy=new aI,this.routeReuseStrategy=new Cp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const V=h.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new pu(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nh(_,w,H=>this.triggerEvent(new Yr(H)),H=>this.triggerEvent(new tr(H))),this.routerState=lm(this.currentUrlTree,this.rootComponentType),this.transitions=new En({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Dn(o=>0!==o.id),(0,et.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xn(o=>{let c=!1,h=!1;return(0,Ue.of)(o).pipe((0,Tn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(_=>{const w=this.browserUrlTree.toString(),T=!this.navigated||_.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return xm(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ue.of)(_).pipe(xn(x=>{const V=this.transitions.getValue();return r.next(new U(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Rr.E:Promise.resolve(x)}),function(n,e,t,r){return xn(o=>function(n,e,t,r,o){return new vm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,et.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Rn.zg)(c=>function(n,e,t,r,o="emptyOnly",c="legacy"){try{const h=new I(n,e,t,r,o,c).recognize();return null===h?g(new p):(0,Ue.of)(h)}catch(h){return g(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,et.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tn.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const V=new Le(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:ee,restoredState:ge,extras:Ie}=_,Je=new U(V,this.serializeUrl(H),ee,ge);r.next(Je);const ze=lm(H,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},_),{targetSnapshot:ze,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Rr.E}),Yc(_=>{const{targetSnapshot:w,id:T,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:H}}=_;return this.hooks.beforePreactivation(w,{navigationId:T,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!H})}),(0,Tn.b)(_=>{const w=new Be(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,et.U)(_=>Object.assign(Object.assign({},_),{guards:wm(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Rn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Ue.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Jt.D)(n).pipe((0,Rn.zg)(o=>function(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ue.of)(!0);const h=c.map(_=>{const w=Or(_,e,o);let T;if(function(n){return n&&no(n.canDeactivate)}(w))T=dr(w.canDeactivate(n,e,t,r));else{if(!no(w))throw new Error("Invalid CanDeactivate guard");T=dr(w(n,e,t,r))}return T.pipe(er())});return(0,Ue.of)(h).pipe(_u())}(o.component,o.route,t,e,r)),er(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Rn.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,Jt.D)(e).pipe(Mc(o=>eo(function(n,e){return null!==n&&e&&e(new ml(n)),(0,Ue.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new _l(n)),(0,Ue.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Wi(()=>{const _=h.guards.map(w=>{const T=Or(w,h.node,t);let N;if(function(n){return n&&no(n.canActivateChild)}(T))N=dr(T.canActivateChild(r,n));else{if(!no(T))throw new Error("Invalid CanActivateChild guard");N=dr(T(r,n))}return N.pipe(er())});return(0,Ue.of)(_).pipe(_u())}));return(0,Ue.of)(c).pipe(_u())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ue.of)(!0);const o=r.map(c=>Wi(()=>{const h=Or(c,e,t);let _;if(function(n){return n&&no(n.canActivate)}(h))_=dr(h.canActivate(e,n));else{if(!no(h))throw new Error("Invalid CanActivate guard");_=dr(h(e,n))}return _.pipe(er())}));return(0,Ue.of)(o).pipe(_u())}(n,o.route,t))),er(o=>!0!==o,!0))}(r,c,n,e):(0,Ue.of)(_)),(0,et.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Tn.b)(_=>{if(Sl(_.guardsResult)){const T=nm(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw T.url=_.guardsResult,T}const w=new xt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(w)}),Dn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Yc(_=>{if(_.guards.canActivateChecks.length)return(0,Ue.of)(_).pipe((0,Tn.b)(w=>{const T=new rn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),xn(w=>{let T=!1;return(0,Ue.of)(w).pipe(function(n,e){return(0,Rn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ue.of)(t);let c=0;return(0,Jt.D)(o).pipe(Mc(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ue.of)({});const c={};return(0,Jt.D)(o).pipe((0,Rn.zg)(h=>function(n,e,t,r){const o=Or(n,e,r);return dr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Tn.b)(_=>{c[h]=_}))),fh(1),(0,Rn.zg)(()=>Object.keys(c).length===o.length?(0,Ue.of)(c):Rr.E))}(n._resolve,n,e,r).pipe((0,et.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),cm(n,t).resolve),null)))}(h.route,r,n,e)),(0,Tn.b)(()=>c++),fh(1),(0,Rn.zg)(h=>c===o.length?(0,Ue.of)(t):Rr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Tn.b)(w=>{const T=new Bn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),Yc(_=>{const{targetSnapshot:w,id:T,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:H}}=_;return this.hooks.afterPreactivation(w,{navigationId:T,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!H})}),(0,et.U)(_=>{const w=function(n,e,t){const r=Al(n,e._root,t?t._root:void 0);return new vh(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:w})}),(0,Tn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,et.U)(r=>(new hp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Tn.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new E(n))}(()=>{var _;if(!c&&!h){const w=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,w)):this.cancelNavigationTransition(o,w)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===o.id&&(this.currentNavigation=null)}),to(_=>{if(h=!0,function(n){return n&&n[yl]}(_)){const w=Sl(_.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const T=new le(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(T),w?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xm(o.source)};this.scheduleNavigation(N,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Ce(o.id,this.serializeUrl(o.extractedUrl),_);r.next(w);try{o.resolve(this.errorHandler(_))}catch(T){o.reject(T)}}return Rr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:c,urlTree:h}=r,_={replaceUrl:!0};if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(_.state=w)}this.scheduleNavigation(h,o,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ml(t),this.config=t.map(xl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:_,preserveFragment:w}=r,T=o||this.routerState.root,N=w?this.currentUrlTree.fragment:h;let x=null;switch(_){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=c||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,o){if(0===t.length)return pm(e.root,e.root,e,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jc(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return nr(c.outlets,(w,T)=>{_[T]="string"==typeof w?w.split("/"):w}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new jc(t,e,r)}(t);if(c.toRoot())return pm(e.root,new St([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new $c(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new $c(c,c===e.root,0)}const r=Bc(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new $c(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=h.processChildren?Gc(h.segmentGroup,h.index,c.commands):Hc(h.segmentGroup,h.index,c.commands);return pm(h.segmentGroup,_,e,r,o)}(T,this.currentUrlTree,t,x,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Sl(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},ow):!1===r?Object.assign({},aw):r,Sl(t))return kc(this.currentUrlTree,t,o);const c=this.parseUrl(t);return kc(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,h){var _,w;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=xm(r)&&T&&!xm(T.source),H=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(N&&H)return Promise.resolve(!0);let ee,ge,Ie;h?(ee=h.resolve,ge=h.reject,Ie=h.promise):Ie=new Promise((Dt,nt)=>{ee=Dt,ge=nt});const Je=++this.navigationId;let ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ze=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):ze=0,this.setTransition({id:Je,targetPageId:ze,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:ee,reject:ge,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(Dt=>Promise.reject(Dt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new le(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(sp),u.LFG(Ta),u.LFG(Tt),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function xm(n){return"imperative"!==n}let xh=(()=>{class n{constructor(t,r,o,c,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,w=new Om(t,_,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ta),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Om{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tl?this.route:e===Ta?this.childContexts:this.parent.get(e,t)}}class v0{}class w0{preload(e,t){return(0,Ue.of)(null)}}let Pm=(()=>{class n{constructor(t,r,o,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new Nh(r,o,T=>t.triggerEvent(new Yr(T)),T=>t.triggerEvent(new tr(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(t=>t instanceof Q),Mc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,Jt.D)(o).pipe((0,Ms.J)(),(0,et.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Rn.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hs),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(v0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Qc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ki&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ki(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hs),u.LFG(Wa),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=new u.OlP("ROUTER_CONFIGURATION"),lw=new u.OlP("ROUTER_FORROOT_GUARD"),cw=[Tt,{provide:sp,useClass:wl},{provide:hs,useFactory:function(n,e,t,r,o,c,h,_={},w,T){const N=new hs(null,n,e,t,r,o,c,rm(h));return w&&(N.urlHandlingStrategy=w),T&&(N.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(x=>{var V,H;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),N},deps:[sp,Ta,Tt,u.zs3,u.v3s,u.Sil,Kc,Ol,[class{},new u.FiY],[class{},new u.FiY]]},Ta,{provide:Tl,useFactory:function(n){return n.routerState.root},deps:[hs]},{provide:u.v3s,useClass:u.EAV},Pm,w0,class{preload(e,t){return t().pipe(to(()=>(0,Ue.of)(null)))}},{provide:Ol,useValue:{enableTracing:!1}}];function C0(){return new u.PXZ("Router",hs)}let E0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[cw,D0(t),{provide:lw,useFactory:lI,deps:[[hs,new u.FiY,new u.tp0]]},{provide:Ol,useValue:r||{}},{provide:fe,useFactory:dw,deps:[K,[new u.tBr(re),new u.FiY],Ol]},{provide:Qc,useFactory:DR,deps:[hs,Wa,Ol]},{provide:v0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:w0},{provide:u.PXZ,multi:!0,useFactory:C0},[T0,{provide:u.ip1,multi:!0,useFactory:hw,deps:[T0]},{provide:fw,useFactory:hI,deps:[T0]},{provide:u.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[D0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lw,8),u.LFG(hs,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function DR(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qc(n,e,t)}function dw(n,e,t={}){return t.useHash?new Se(n,e):new we(n,e)}function lI(n){return"guarded"}function D0(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Kc,multi:!0,useValue:n}]}let T0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(hs),h=this.injector.get(Ol);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ol),o=this.injector.get(Pm),c=this.injector.get(Qc),h=this.injector.get(hs),_=this.injector.get(u.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function hw(n){return n.appInitializer.bind(n)}function hI(n){return n.bootstrapListener.bind(n)}const fw=new u.OlP("Router Initializer"),pw=[];let pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[E0.forRoot(pw)],E0]}),n})();function gI(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng generate component xyz"),u.qZA())}function mI(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng add @angular/material"),u.qZA())}function _t(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng add @angular/pwa"),u.qZA())}function gw(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng add _____"),u.qZA())}function mw(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng test"),u.qZA())}function Fm(n,e){1&n&&(u.TgZ(0,"pre"),u._uU(1,"ng build"),u.qZA())}let Vo=(()=>{class n{constructor(){this.title="Cargonaut"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:158,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Animations","href","https://angular.io/guide/animations","target","_blank","rel","noopener",1,"circle-link"],["id","Group_20","data-name","Group 20","xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 21.813 23.453"],["id","Path_15","data-name","Path 15","d","M4099.584,972.736h0l-10.882,3.9,1.637,14.4,9.245,5.153,9.245-5.153,1.686-14.4Z","transform","translate(-4088.702 -972.736)","fill","#ffa726"],["id","Path_16","data-name","Path 16","d","M4181.516,972.736v23.453l9.245-5.153,1.686-14.4Z","transform","translate(-4170.633 -972.736)","fill","#fb8c00"],["id","Path_17","data-name","Path 17","d","M4137.529,1076.127l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1058.315)","fill","#ffe0b2"],["id","Path_18","data-name","Path 18","d","M4137.529,1051.705l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1036.757)","fill","#fff3e0"],["id","Path_19","data-name","Path 19","d","M4137.529,1027.283l-7.7-3.723,4.417-2.721,7.753,3.723Z","transform","translate(-4125.003 -1015.199)","fill","#fff"],["title","CLI","href","https://cli.angular.io/","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","21.762","height","23.447","viewBox","0 0 21.762 23.447"],["id","Group_21","data-name","Group 21","transform","translate(0)"],["id","Path_20","data-name","Path 20","d","M2660.313,313.618h0l-10.833,3.9,1.637,14.4,9.2,5.152,9.244-5.152,1.685-14.4Z","transform","translate(-2649.48 -313.618)","fill","#37474f"],["id","Path_21","data-name","Path 21","d","M2741.883,313.618v23.447l9.244-5.152,1.685-14.4Z","transform","translate(-2731.05 -313.618)","fill","#263238"],["id","Path_22","data-name","Path 22","d","M2692.293,379.169h11.724V368.618h-11.724Zm11.159-.6h-10.608v-9.345h10.621v9.345Z","transform","translate(-2687.274 -362.17)","fill","#fff"],["id","Path_23","data-name","Path 23","d","M2709.331,393.688l.4.416,2.265-2.28-2.294-2.294-.4.4,1.893,1.893Z","transform","translate(-2702.289 -380.631)","fill","#fff"],["id","Rectangle_12","data-name","Rectangle 12","width","3.517","height","0.469","transform","translate(9.709 13.744)","fill","#fff"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"span"),u._uU(3,"Welcome"),u.qZA(),u._UZ(4,"div",2),u.TgZ(5,"a",3),u.O4$(),u.TgZ(6,"svg",4),u._UZ(7,"rect",5),u._UZ(8,"path",6),u.qZA(),u.qZA(),u.kcU(),u.TgZ(9,"a",7),u.O4$(),u.TgZ(10,"svg",8),u._UZ(11,"path",9),u._UZ(12,"path",10),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(13,"div",11),u.TgZ(14,"div",12),u.O4$(),u.TgZ(15,"svg",13),u.TgZ(16,"title"),u._uU(17,"Rocket Ship"),u.qZA(),u.TgZ(18,"g",14),u._UZ(19,"circle",15),u.TgZ(20,"g",16),u._UZ(21,"path",17),u._UZ(22,"path",18),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(23,"span"),u._uU(24),u.qZA(),u.O4$(),u.TgZ(25,"svg",19),u.TgZ(26,"title"),u._uU(27,"Rocket Ship Smoke"),u.qZA(),u._UZ(28,"path",20),u.qZA(),u.qZA(),u.kcU(),u.TgZ(29,"h2"),u._uU(30,"Resources"),u.qZA(),u.TgZ(31,"p"),u._uU(32,"Here are some links to help you get started:"),u.qZA(),u.TgZ(33,"div",21),u.TgZ(34,"a",22),u.O4$(),u.TgZ(35,"svg",23),u._UZ(36,"path",24),u.qZA(),u.kcU(),u.TgZ(37,"span"),u._uU(38,"Learn Angular"),u.qZA(),u.O4$(),u.TgZ(39,"svg",23),u._UZ(40,"path",25),u.qZA(),u.qZA(),u.kcU(),u.TgZ(41,"a",26),u.O4$(),u.TgZ(42,"svg",23),u._UZ(43,"path",27),u.qZA(),u.kcU(),u.TgZ(44,"span"),u._uU(45,"CLI Documentation"),u.qZA(),u.O4$(),u.TgZ(46,"svg",23),u._UZ(47,"path",25),u.qZA(),u.qZA(),u.kcU(),u.TgZ(48,"a",28),u.O4$(),u.TgZ(49,"svg",23),u._UZ(50,"path",29),u.qZA(),u.kcU(),u.TgZ(51,"span"),u._uU(52,"Angular Blog"),u.qZA(),u.O4$(),u.TgZ(53,"svg",23),u._UZ(54,"path",25),u.qZA(),u.qZA(),u.kcU(),u.TgZ(55,"a",30),u.O4$(),u.TgZ(56,"svg",31),u.TgZ(57,"g"),u._UZ(58,"rect",32),u.qZA(),u.TgZ(59,"g"),u.TgZ(60,"g"),u._UZ(61,"path",33),u._UZ(62,"polygon",34),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(63,"span"),u._uU(64,"Angular DevTools"),u.qZA(),u.O4$(),u.TgZ(65,"svg",23),u._UZ(66,"path",25),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(67,"h2"),u._uU(68,"Next Steps"),u.qZA(),u.TgZ(69,"p"),u._uU(70,"What do you want to do next with your app?"),u.qZA(),u._UZ(71,"input",35,36),u.TgZ(73,"div",21),u.TgZ(74,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="component"}),u.O4$(),u.TgZ(75,"svg",23),u._UZ(76,"path",38),u.qZA(),u.kcU(),u.TgZ(77,"span"),u._uU(78,"New Component"),u.qZA(),u.qZA(),u.TgZ(79,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="material"}),u.O4$(),u.TgZ(80,"svg",23),u._UZ(81,"path",38),u.qZA(),u.kcU(),u.TgZ(82,"span"),u._uU(83,"Angular Material"),u.qZA(),u.qZA(),u.TgZ(84,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="pwa"}),u.O4$(),u.TgZ(85,"svg",23),u._UZ(86,"path",38),u.qZA(),u.kcU(),u.TgZ(87,"span"),u._uU(88,"Add PWA Support"),u.qZA(),u.qZA(),u.TgZ(89,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="dependency"}),u.O4$(),u.TgZ(90,"svg",23),u._UZ(91,"path",38),u.qZA(),u.kcU(),u.TgZ(92,"span"),u._uU(93,"Add Dependency"),u.qZA(),u.qZA(),u.TgZ(94,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="test"}),u.O4$(),u.TgZ(95,"svg",23),u._UZ(96,"path",38),u.qZA(),u.kcU(),u.TgZ(97,"span"),u._uU(98,"Run and Watch Tests"),u.qZA(),u.qZA(),u.TgZ(99,"button",37),u.NdJ("click",function(){return u.CHM(o),u.MAs(72).value="build"}),u.O4$(),u.TgZ(100,"svg",23),u._UZ(101,"path",38),u.qZA(),u.kcU(),u.TgZ(102,"span"),u._uU(103,"Build for Production"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(104,"div",39),u.YNc(105,gI,2,0,"pre",40),u.YNc(106,mI,2,0,"pre",41),u.YNc(107,_t,2,0,"pre",41),u.YNc(108,gw,2,0,"pre",41),u.YNc(109,mw,2,0,"pre",41),u.YNc(110,Fm,2,0,"pre",41),u.qZA(),u.TgZ(111,"div",21),u.TgZ(112,"a",42),u.O4$(),u.TgZ(113,"svg",43),u._UZ(114,"path",44),u._UZ(115,"path",45),u._UZ(116,"path",46),u._UZ(117,"path",47),u._UZ(118,"path",48),u.qZA(),u.qZA(),u.kcU(),u.TgZ(119,"a",49),u.O4$(),u.TgZ(120,"svg",50),u.TgZ(121,"title"),u._uU(122,"Angular CLI Logo"),u.qZA(),u.TgZ(123,"g",51),u._UZ(124,"path",52),u._UZ(125,"path",53),u._UZ(126,"path",54),u._UZ(127,"path",55),u._UZ(128,"rect",56),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(129,"a",57),u.O4$(),u.TgZ(130,"svg",58),u.TgZ(131,"title"),u._uU(132,"Meetup Logo"),u.qZA(),u._UZ(133,"path",59),u.qZA(),u.qZA(),u.kcU(),u.TgZ(134,"a",60),u.O4$(),u.TgZ(135,"svg",61),u.TgZ(136,"title"),u._uU(137,"Discord Logo"),u.qZA(),u._UZ(138,"path",62),u._UZ(139,"path",63),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(140,"footer"),u._uU(141," Love Angular?\xa0 "),u.TgZ(142,"a",64),u._uU(143," Give our repo a star. "),u.TgZ(144,"div",65),u.O4$(),u.TgZ(145,"svg",23),u._UZ(146,"path",66),u._UZ(147,"path",67),u.qZA(),u._uU(148," Star "),u.qZA(),u.qZA(),u.kcU(),u.TgZ(149,"a",64),u.O4$(),u.TgZ(150,"svg",23),u._UZ(151,"path",68),u._UZ(152,"path",66),u.qZA(),u.qZA(),u.qZA(),u.TgZ(153,"svg",69),u.TgZ(154,"title"),u._uU(155,"Gray Clouds Background"),u.qZA(),u._UZ(156,"path",70),u.qZA(),u.qZA(),u.kcU(),u._UZ(157,"router-outlet")}if(2&t){const o=u.MAs(72);u.xp6(24),u.hij("",r.title," app is running!"),u.xp6(80),u.Q6J("ngSwitch",o.value),u.xp6(2),u.Q6J("ngSwitchCase","material"),u.xp6(1),u.Q6J("ngSwitchCase","pwa"),u.xp6(1),u.Q6J("ngSwitchCase","dependency"),u.xp6(1),u.Q6J("ngSwitchCase","test"),u.xp6(1),u.Q6J("ngSwitchCase","build")}},directives:[Ds,$f,cr,xh],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),n})();var _w=F(9105);function Pr(n,e,t,r){return(0,_w.m)(t)&&(r=t,t=void 0),r?Pr(n,e,t).pipe((0,et.U)(o=>(0,Do.k)(o)?r(...o):r(o))):new Nn.y(o=>{Ia(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function Ia(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),c=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),c=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),c=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,_=n.length;h<_;h++)Ia(n[h],e,t,r,o)}r.add(c)}var S0=F(3637),N0=F(6561);function wu(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}class Lm{call(e,t){return t.subscribe(new M0(e))}}class M0 extends au{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const c=Mn(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}var AR=F(8640);new Nn.y(AR.Z);var x0=F(377);function Vm(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,ga.n)(n,void 0).lift(new SR(e))}class SR{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bw(e,this.resultSelector))}}class bw extends un.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,Do.k)(e)?t.push(new vI(e)):t.push("function"==typeof e[x0.hZ]?new ww(e[x0.hZ]()):new R0(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let h=0;h<t;h++){let _=e[h];if("function"==typeof _.hasValue&&!_.hasValue())return}let o=!1;const c=[];for(let h=0;h<t;h++){let _=e[h],w=_.next();if(_.hasCompleted()&&(o=!0),w.done)return void r.complete();c.push(w.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class ww{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class vI{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[x0.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class R0 extends Si.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[x0.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,Si.ft)(this.observable,new Si.IY(this))}}var Cw=F(6682);function hr(n){return e=>e.lift(new MR(n))}class MR{constructor(e){this.notifier=e}call(e,t){const r=new xR(e),o=(0,Si.ft)(this.notifier,new Si.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class xR extends Si.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class RR{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new kR(e,this.compare,this.keySelector))}}class kR extends un.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function Ew(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new OR(n,t))}}class OR{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new PR(e,this.observables,this.project))}}class PR extends au{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(Mn(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}F(1593),F(8819),F(1555);let uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),so=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[uv]]}),n})(),Np=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[so]}),n})();const Uo=["*"],rk=["dialog"];function Su(n){return null!=n}function od(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const $C={animation:!0,transitionTimerDelayMs:5};let Fr=(()=>{class n{constructor(){this.animation=$C.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const HC=()=>{},{transitionTimerDelayMs:NA}=$C,Jh=new Map,Vr=(n,e,t,r)=>{let o=r.context||{};const c=Jh.get(e);if(c)switch(r.runningTransition){case"continue":return Rr.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),Jh.delete(e)}const h=t(e,r.animation,o)||HC;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),(0,Ue.of)(void 0).pipe(function(n){return e=>new Nn.y(t=>e.subscribe(h=>n.run(()=>t.next(h)),h=>n.run(()=>t.error(h)),()=>n.run(()=>t.complete())))}(n));const _=new Qt.xQ,w=new Qt.xQ,T=_.pipe(function(...n){return e=>eo(e,(0,Ue.of)(...n))}(!0));Jh.set(e,{transition$:_,complete:()=>{w.next(),w.complete()},context:o});const N=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const x=Pr(e,"transitionend").pipe(hr(T),Dn(({target:H})=>H===e));(function(...n){if(1===n.length){if(!(0,Do.k)(n[0]))return n[0];n=n[0]}return(0,ga.n)(n,void 0).lift(new Lm)})(function(n=0,e,t){let r=-1;return(0,N0.k)(e)?r=Number(e)<1?1:Number(e):(0,Ns.K)(e)&&(t=e),(0,Ns.K)(t)||(t=S0.P),new Nn.y(o=>{const c=(0,N0.k)(n)?n:+n-t.now();return t.schedule(wu,c,{index:0,period:r,subscriber:o})})}(N+NA).pipe(hr(T)),x,w).pipe(hr(T)).subscribe(()=>{Jh.delete(e),n.run(()=>{h(),_.next(),_.complete()})})}),_.asObservable()};let Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Vv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Rt=(()=>{return(n=Rt||(Rt={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Rt;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dE(n){const e=Array.from(n.querySelectorAll(cE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(e);r=this.offset(e,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(e,t,r,o){const[c="top",h="center"]=r.split("-"),_=o?this.offset(e,!1):this.position(e,!1),w=this.getAllStyles(t),T=parseFloat(w.marginTop),N=parseFloat(w.marginBottom),x=parseFloat(w.marginLeft),V=parseFloat(w.marginRight);let H=0,ee=0;switch(c){case"top":H=_.top-(t.offsetHeight+T+N);break;case"bottom":H=_.top+_.height;break;case"left":ee=_.left-(t.offsetWidth+x+V);break;case"right":ee=_.left+_.width}switch(h){case"top":H=_.top;break;case"bottom":H=_.top+_.height-t.offsetHeight;break;case"left":ee=_.left;break;case"right":ee=_.left+_.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?ee=_.left+_.width/2-t.offsetWidth/2:H=_.top+_.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(ee)}px, ${Math.round(H)}px)`;const ge=t.getBoundingClientRect(),Ie=document.documentElement,Je=window.innerHeight||Ie.clientHeight,ze=window.innerWidth||Ie.clientWidth;return ge.left>=0&&ge.top>=0&&ge.right<=ze&&ge.bottom<=Je}},new Date(1882,10,12),new Date(2174,10,25);let vE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn,Np]]}),n})(),Kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Jv=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Fr))},token:n,providedIn:"root"}),n})();class dd{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}const EE=()=>{};let DE=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):EE}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(oe))},token:n,providedIn:"root"}),n})(),Qv=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Wr(1)).subscribe(()=>{Vr(this._zone,this._el.nativeElement,(t,r)=>{r&&od(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class w_{close(e){}dismiss(e){}}class TE{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new Qt.xQ,this._dismissed=new Qt.xQ,this._hidden=new Qt.xQ,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ue.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Vm(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var hd=(()=>{return(n=hd||(hd={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",hd;var n})();let vS=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new Qt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Qt.xQ,this.hidden=new Qt.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Wr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Vm(Vr(this._zone,t,()=>t.classList.remove("show"),r),Vr(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};Vm(Vr(this._zone,this._elRef.nativeElement,(c,h)=>{h&&od(c),c.classList.add("show")},t),Vr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Pr(t,"keydown").pipe(hr(this._closed$),Dn(o=>o.which===Rt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(hd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Pr(this._dialogEl.nativeElement,"mousedown").pipe(hr(this._closed$),(0,Tn.b)(()=>r=!1),xn(()=>Pr(t,"mouseup").pipe(hr(this._closed$),Wr(1))),Dn(({target:o})=>t===o)).subscribe(()=>{r=!0}),Pr(t,"click").pipe(hr(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(hd.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=dE(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oe),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(rk,7),2&t){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Uo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),IE=(()=>{class n{constructor(t,r,o,c,h,_){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=h,this._ngZone=_,this._activeWindowCmptHasChanged=new Qt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const o=Pr(e,"focusin").pipe(hr(t),(0,et.U)(c=>c.target));Pr(e,"keydown").pipe(hr(t),Dn(c=>c.which===Rt.Tab),Ew(o)).subscribe(([c,h])=>{const[_,w]=dE(e);(h===_||h===e)&&c.shiftKey&&(w.focus(),c.preventDefault()),h===w&&!c.shiftKey&&(_.focus(),c.preventDefault())}),r&&Pr(e,"click").pipe(hr(t),Ew(o),(0,et.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}open(t,r,o,c){const h=c.container instanceof HTMLElement?c.container:Su(c.container)?this._document.querySelector(c.container):this._document.body,_=this._rendererFactory.createRenderer(null,null),w=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const N=new w_,x=this._getContentRef(t,c.injector||r,o,N,c);let V=!1!==c.backdrop?this._attachBackdrop(t,h):void 0,H=this._attachWindowComponent(t,h,x),ee=new TE(H,x,V,c.beforeDismiss);return this._registerModalRef(ee),this._registerWindowCmpt(H),ee.result.then(w,w),ee.result.then(T,T),N.close=ge=>{ee.close(ge)},N.dismiss=ge=>{ee.dismiss(ge)},this._applyWindowOptions(H.instance,c),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),ee}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(Qv).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,o){let h=t.resolveComponentFactory(vS).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{Su(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{Su(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,c,h){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,c,h):new dd([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(c),new dd([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new dd([[r]])}_createFromComponent(t,r,o,c,h){const _=t.resolveComponentFactory(o),w=u.zs3.create({providers:[{provide:w_,useValue:c}],parent:r}),T=_.create(w),N=T.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new dd([[N]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(oe),u.LFG(DE),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(oe),u.LFG(DE),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),Xv=(()=>{class n{constructor(t,r,o,c){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=c}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(IE),u.LFG(Jv))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(IE),u.LFG(Jv))},token:n,providedIn:"root"}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Xv]}),n})(),RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),FE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),ab=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),ub=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),$E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),HE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})(),Zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[mn]]}),n})();const db=[Bo,ao,QC,Vv,Uv,vE,Kv,AE,RE,FE,ab,ub,lb,$E,HE,Zp,cb];let zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[db,Bo,ao,QC,Vv,Uv,vE,Kv,AE,RE,FE,ab,ub,lb,$E,HE,Zp,cb]}),n})();var xi=F(8939),Gn=F(9396);function hb(){return n=>n.lift(new WE)}class WE{call(e,t){return t.subscribe(new BS(e))}}class BS extends un.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}F(941);var $e,zp=F(3394),pe=F(8239),Ma=F(8026),xa=F(3910),Ut=F(5422),st=F(3854),nf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ps={},gt=gt||{},tt=nf||self;function rf(){}function Ru(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function T_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var I_="closure_uid_"+(1e9*Math.random()>>>0),Jk=0;function $S(n,e,t){return n.call.apply(n.bind,arguments)}function HS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function pn(n,e,t){return(pn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$S:HS).apply(null,arguments)}function An(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[o].apply(r,h)}}function ku(){this.s=this.s,this.o=this.o}var KE={};ku.prototype.s=!1,ku.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,I_)&&n[I_]||(n[I_]=++Jk)}(this);delete KE[n]}},ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gd=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function JE(n){return Array.prototype.concat.apply([],arguments)}function Ou(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function S_(n){return/^[\s\xa0]*$/.test(n)}var mi,fb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gi(n,e){return-1!=n.indexOf(e)}function md(n,e){return n<e?-1:n>e?1:0}e:{var pb=tt.navigator;if(pb){var _d=pb.userAgent;if(_d){mi=_d;break e}}mi=""}function gb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Yp(n){const e={};for(const t in n)e[t]=n[t];return e}var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _b(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<mb.length;c++)t=mb[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function N_(n){return N_[" "](n),n}N_[" "]=rf;var ql,n,qS=gi(mi,"Opera"),Gl=gi(mi,"Trident")||gi(mi,"MSIE"),x_=gi(mi,"Edge"),QE=x_||Gl,ZS=gi(mi,"Gecko")&&!(gi(mi.toLowerCase(),"webkit")&&!gi(mi,"Edge"))&&!(gi(mi,"Trident")||gi(mi,"MSIE"))&&!gi(mi,"Edge"),mt=gi(mi.toLowerCase(),"webkit")&&!gi(mi,"Edge");function zS(){var n=tt.document;return n?n.documentMode:void 0}e:{var yb="",vb=(n=mi,ZS?/rv:([^\);]+)(\)|;)/.exec(n):x_?/Edge\/([\d\.]+)/.exec(n):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mt?/WebKit\/(\S+)/.exec(n):qS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vb&&(yb=vb?vb[1]:""),Gl){var bb=zS();if(null!=bb&&bb>parseFloat(yb)){ql=String(bb);break e}}ql=yb}var Qk={};function Xk(){return e=Qk,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=fb(String(ql)).split("."),t=fb("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",c=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=md(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||md(0==o[2].length,0==c[2].length)||md(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var WS=tt.document&&Gl&&(zS()||parseInt(ql,10))||void 0,YS=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tt.addEventListener("test",rf,e),tt.removeEventListener("test",rf,e)}catch(t){}return n}();function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Kp(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ZS){e:{try{N_(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kp.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},yn(Kp,Xr);var KS={2:"touch",3:"pen",4:"mouse"};Kp.prototype.h=function(){Kp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jp="closure_listenable_"+(1e6*Math.random()|0),JS=0;function QS(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++JS,this.ca=this.fa=!1}function R_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function sf(n){this.src=n,this.g={},this.h=0}function Cb(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=A_(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(R_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Eb(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}sf.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=Eb(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new QS(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var k_="closure_lm_"+(1e6*Math.random()|0),Qp={};function XE(n,e,t,r,o){if(r&&r.once)return eD(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)XE(n,e[c],t,r,o);return null}return t=Ib(t),n&&n[Jp]?n.N(e,t,T_(r)?!!r.capture:!!r,o):XS(n,e,t,!1,r,o)}function XS(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var h=T_(o)?!!o.capture:!!o,_=yd(n);if(_||(n[k_]=_=new sf(n)),(t=_.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=tN;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YS||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(nD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eD(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)eD(n,e[c],t,r,o);return null}return t=Ib(t),n&&n[Jp]?n.O(e,t,T_(r)?!!r.capture:!!r,o):XS(n,e,t,!0,r,o)}function tD(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)tD(n,e[c],t,r,o);else r=T_(r)?!!r.capture:!!r,t=Ib(t),n&&n[Jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Eb(c=n.g[e],t,r,o))&&(R_(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=yd(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Eb(e,t,r,o)),(t=-1<n?e[n]:null)&&Db(t))}function Db(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Jp])Cb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yd(e))?(Cb(t,n),0==t.h&&(t.src=null,e[k_]=null)):R_(n)}}}function nD(n){return n in Qp?Qp[n]:Qp[n]="on"+n}function tN(n,e){if(n.ca)n=!0;else{e=new Kp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Db(n),n=t.call(r,e)}return n}function yd(n){return(n=n[k_])instanceof sf?n:null}var Tb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ib(n){return"function"==typeof n?n:(n[Tb]||(n[Tb]=function(e){return n.handleEvent(e)}),n[Tb])}function Ur(){ku.call(this),this.i=new sf(this),this.P=this,this.I=null}function fr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var o=e;_b(e=new Xr(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=Ab(h,r,!0,e)&&o}if(o=Ab(h=e.g=n,r,!0,e)&&o,o=Ab(h,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=Ab(h=e.g=t[c],r,!1,e)&&o}function Ab(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var _=h.listener,w=h.ia||h.src;h.fa&&Cb(n.i,h),o=!1!==_.call(w,r)&&o}}return o&&!r.defaultPrevented}yn(Ur,ku),Ur.prototype[Jp]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){tD(this,n,e,t,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)R_(t[r]);delete n.g[e],n.h--}}this.I=null},Ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var O_=tt.JSON.stringify;function nN(){var n=aN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sb,rD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iN,n=>n.reset());class iN{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sN(n){tt.setTimeout(()=>{throw n},0)}function P_(n,e){Sb||function(){var n=tt.Promise.resolve(void 0);Sb=function(){n.then(eO)}}(),iD||(Sb(),iD=!0),aN.add(n,e)}var iD=!1,aN=new class{constructor(){this.h=this.g=null}add(e,t){const r=rD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function eO(){for(var n;n=nN();){try{n.h.call(n.g)}catch(t){sN(t)}var e=rD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}iD=!1}function af(n,e){Ur.call(this),this.h=n||1,this.g=e||tt,this.j=pn(this.kb,this),this.l=Date.now()}function Nb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Mb(n,e,t){if("function"==typeof n)t&&(n=pn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pn(n.handleEvent,n)}return 2147483647<Number(e)?-1:tt.setTimeout(n,e||0)}function sD(n){n.g=Mb(()=>{n.g=null,n.i&&(n.i=!1,sD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}yn(af,Ur),($e=af.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fr(this,"tick"),this.da&&(Nb(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){af.Z.M.call(this),Nb(this),delete this.g};class uN extends ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sD(this)}M(){super.M(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xp(n){ku.call(this),this.h=n,this.g={}}yn(Xp,ku);var oD=[];function xb(n,e,t,r){Array.isArray(t)||(t&&(oD[0]=t.toString()),t=oD);for(var o=0;o<t.length;o++){var c=XE(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function F_(n){gb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Db(e)},n),n.g={}}function L_(){this.g=!0}function vd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return O_(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}Xp.prototype.M=function(){Xp.Z.M.call(this),F_(this)},Xp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},L_.prototype.Aa=function(){this.g=!1},L_.prototype.info=function(){};var bd={},kb=null;function eg(){return kb=kb||new Ur}function Ob(n){Xr.call(this,bd.Ma,n)}function tg(n){const e=eg();fr(e,new Ob(e,n))}function aD(n,e){Xr.call(this,bd.STAT_EVENT,n),this.stat=e}function ts(n){const e=eg();fr(e,new aD(e,n))}function Pb(n,e){Xr.call(this,bd.Na,n),this.size=e}function ng(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){n()},e)}bd.Ma="serverreachability",yn(Ob,Xr),bd.STAT_EVENT="statevent",yn(aD,Xr),bd.Na="timingevent",yn(Pb,Xr);var Fb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lb(){}function lN(){}Lb.prototype.h=null;var V_,lf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vb(){Xr.call(this,"d")}function lD(){Xr.call(this,"c")}function U_(){}function Cd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Xp(this),this.P=dD,this.W=new af(n=QE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cD}function cD(){this.i=null,this.g="",this.h=!1}yn(Vb,Xr),yn(lD,Xr),yn(U_,Lb),U_.prototype.g=function(){return new XMLHttpRequest},U_.prototype.i=function(){return{}},V_=new U_;var dD=45e3,B_={},rg={};function Ub(n,e,t){n.K=1,n.v=Td(Fs(e)),n.s=t,n.U=!0,hD(n,null)}function hD(n,e){n.F=Date.now(),ig(n),n.A=Fs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),qb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new cD,n.g=EN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uN(pn(n.Ia,n,n.g),n.O)),xb(n.V,n.g,"readystatechange",n.gb),e=n.H?Yp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),tg(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var h="",_=c.split("&"),w=0;w<_.length;w++){var T=_[w].split("=");if(1<T.length){var N=T[0];T=T[1];var x=N.split("_");h=2<=x.length&&"type"==x[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function fD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function pD(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=cN(n,t),o==rg){4==e&&(n.o=4,ts(14),r=!1),vd(n.j,n.m,null,"[Incomplete Response]");break}if(o==B_){n.o=4,ts(15),vd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vd(n.j,n.m,o,null),j_(n,o)}fD(n)&&o!=rg&&o!=B_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ny(e),e.L=!0,ts(11))):(vd(n.j,n.m,t,"[Invalid Chunked Response]"),Zl(n),df(n))}function cN(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?rg:(t=Number(e.substring(t,r)),isNaN(t)?B_:(r+=1)+t>e.length?rg:(e=e.substr(r,t),n.C=r+t,e))}function ig(n){n.Y=Date.now()+n.P,cf(n,n.P)}function cf(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ng(pn(n.eb,n),e)}function sg(n){n.B&&(tt.clearTimeout(n.B),n.B=null)}function df(n){0==n.l.G||n.I||ID(n.l,n)}function Zl(n){sg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Nb(n.W),F_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function j_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||z_(t.i,n)))if(t.I=n.N,!n.J&&z_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=ng(pn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ry(t),Q_(t)}ty(t),ts(18)}if(1>=wD(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else mf(t,11)}else if((n.J||t.g==n)&&ry(t),!S_(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const N=T[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const x=T[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const ee=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var c=r.i;!c.g&&(gi(ee,"spdy")||gi(ee,"quic")||gi(ee,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(W_(c,c.h),c.h=null))}if(r.D){const ge=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.sa=ge,qn(r.F,r.D,ge))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=CN(r,r.H?r.la:null,r.W),h.J){mN(r.i,h);var _=h,w=r.K;w&&_.setTimeout(w),_.B&&(sg(_),ig(_)),r.g=h}else i1(r);0<t.l.length&&ey(t)}else"stop"!=T[0]&&"close"!=T[0]||mf(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?mf(t,7):J_(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}tg(4)}catch(T){}}function $_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ru(n)||"string"==typeof n)gd(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ru(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ru(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function hf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof hf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function H_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ed(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Ed(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Ed(n,e){return Object.prototype.hasOwnProperty.call(n,e)}($e=Cd.prototype).setTimeout=function(n){this.P=n},$e.gb=function(n){n=n.target;const e=this.L;e&&3==Go(n)?e.l():this.Ia(n)},$e.Ia=function(n){try{if(n==this.g)e:{const N=Go(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>N)&&(3!=N||QE||this.g&&(this.h.h||this.g.ga()||K_(this.g)))){this.I||4!=N||7==e||tg(8==e||0>=x?3:2),sg(this);var t=this.g.ba();this.N=t;t:if(fD(this)){var r=K_(this.g);n="";var o=r.length,c=4==Go(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zl(this),df(this);var h="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,w=this.g;if((_=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S_(_)){var T=_;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,ts(12),Zl(this),df(this);break e}vd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,j_(this,t)}this.U?(pD(this,N,h),QE&&this.i&&3==N&&(xb(this.V,this.W,"tick",this.fb),this.W.start())):(vd(this.j,this.m,h,null),j_(this,h)),4==N&&Zl(this),this.i&&!this.I&&(4==N?ID(this.l,this):(this.i=!1,ig(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),Zl(this),df(this)}}}catch(N){}},$e.fb=function(){if(this.g){var n=Go(this.g),e=this.g.ga();this.C<e.length&&(sg(this),pD(this,n,e),this.i&&4!=n&&ig(this))}},$e.cancel=function(){this.I=!0,Zl(this)},$e.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tg(3),ts(17)),Zl(this),this.o=2,df(this)):cf(this,this.Y-n)},($e=hf.prototype).R=function(){H_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},$e.T=function(){return H_(this),this.g.concat()},$e.get=function(n,e){return Ed(this.h,n)?this.h[n]:e},$e.set=function(n,e){Ed(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},$e.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var mD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Dd){this.g=void 0!==e?e:n.g,zl(this,n.j),this.s=n.s,G_(this,n.i),ff(this,n.m),this.l=n.l,e=n.h;var t=new og;t.i=e.i,e.g&&(t.g=new hf(e.g),t.h=e.h),Ho(this,t),this.o=n.o}else n&&(t=String(n).match(mD))?(this.g=!!e,zl(this,t[1]||"",!0),this.s=q_(t[2]||""),G_(this,t[3]||"",!0),ff(this,t[4]),this.l=q_(t[5]||"",!0),Ho(this,t[6]||"",!0),this.o=q_(t[7]||"")):(this.g=!!e,this.h=new og(null,this.g))}function Fs(n){return new Dd(n)}function zl(n,e,t){n.j=t?q_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function G_(n,e,t){n.i=t?q_(e,!0):e}function ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ho(n,e,t){e instanceof og?(n.h=e,function(n,e){e&&!n.j&&(Wl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Gb(this,r),qb(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Id(e,pN)),n.h=new og(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function Td(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function q_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Id(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Bb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Bb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Id(e,jb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Id(e,jb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Id(t,"/"==t.charAt(0)?Hb:$b,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Id(t,gN)),n.join("")};var jb=/[#\/\?@]/g,$b=/[#\?:]/g,Hb=/[#\?]/g,pN=/[#\?@]/g,gN=/#/g;function og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wl(n){n.g||(n.g=new hf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gb(n,e){Wl(n),e=Ad(n,e),Ed(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ed((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&H_(n)))}function Z_(n,e){return Wl(n),e=Ad(n,e),Ed(n.g.h,e)}function qb(n,e,t){Gb(n,e),0<t.length&&(n.i=null,n.g.set(Ad(n,e),Ou(t)),n.h+=t.length)}function Ad(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vD(n){this.l=n||bD,n=tt.PerformanceNavigationTiming?0<(n=tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tt.g&&tt.g.Ea&&tt.g.Ea()&&tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=og.prototype).add=function(n,e){Wl(this),this.i=null,n=Ad(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$e.forEach=function(n,e){Wl(this),this.g.forEach(function(t,r){gd(t,function(o){n.call(e,o,r,this)},this)},this)},$e.T=function(){Wl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},$e.R=function(n){Wl(this);var e=[];if("string"==typeof n)Z_(this,n)&&(e=JE(e,this.g.get(Ad(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=JE(e,n[t])}return e},$e.set=function(n,e){return Wl(this),this.i=null,Z_(this,n=Ad(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$e.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=o;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var bD=10;function Zb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wD(n){return n.h?1:n.g?n.g.size:0}function z_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function W_(n,e){n.g?n.g.add(e):n.h=e}function mN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ki(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ou(n.i)}function Yl(){}function _N(){this.g=new Yl}function yN(n,e,t){const r=t||"";try{$_(n,function(o,c){let h=o;T_(o)&&(h=O_(o)),e.push(r+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Kl(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function ag(n){this.l=n.$b||null,this.j=n.ib||!1}function pf(n,e){Ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=zb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vD.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yl.prototype.stringify=function(n){return tt.JSON.stringify(n,void 0)},Yl.prototype.parse=function(n){return tt.JSON.parse(n,void 0)},yn(ag,Lb),ag.prototype.g=function(){return new pf(this.l,this.j)},ag.prototype.i=function(n){return function(){return n}}({}),yn(pf,Ur);var zb=0;function Wb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ug(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lg(n)}function lg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($e=pf.prototype).open=function(n,e){if(this.readyState!=zb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lg(this)},$e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ug(this)),this.readyState=zb},$e.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lg(this)),this.g&&(this.readyState=3,lg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ug(this):lg(this),3==this.readyState&&Wb(this)}},$e.Ua=function(n){this.g&&(this.response=this.responseText=n,ug(this))},$e.Ta=function(n){this.g&&(this.response=n,ug(this))},$e.ha=function(){this.g&&ug(this)},$e.setRequestHeader=function(n,e){this.v.append(n,e)},$e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Yb=tt.JSON.parse;function pr(n){Ur.call(this),this.headers=new hf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Kb,this.K=this.L=!1}yn(pr,Ur);var Kb="",Y_=/^https?$/i,Jb=["POST","PUT"];function CD(n){return"content-type"==n.toLowerCase()}function ED(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Qb(n),dg(n)}function Qb(n){n.D||(n.D=!0,fr(n,"complete"),fr(n,"error"))}function cg(n){if(n.h&&void 0!==gt&&(!n.C[1]||4!=Go(n)||2!=n.ba()))if(n.v&&4==Go(n))Mb(n.Fa,0,n);else if(fr(n,"readystatechange"),4==Go(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var o=String(n.H).match(mD)[1]||null;if(!o&&tt.self&&tt.self.location){var c=tt.self.location.protocol;o=c.substr(0,c.length-1)}r=!Y_.test(o?o.toLowerCase():"")}t=r}if(t)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var h=2<Go(n)?n.g.statusText:""}catch(w){h=""}n.j=h+" ["+n.ba()+"]",Qb(n)}}finally{dg(n)}}}function dg(n,e){if(n.g){DD(n);const t=n.g,r=n.C[0]?rf:null;n.g=null,n.C=null,e||fr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function DD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(tt.clearTimeout(n.A),n.A=null)}function Go(n){return n.g?n.g.readyState:0}function K_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Kb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xb(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return gb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function gf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function e1(n){this.za=0,this.l=[],this.h=new L_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gf("baseRetryDelayMs",5e3,n),this.$a=gf("retryDelaySeedMs",1e4,n),this.Ya=gf("forwardChannelMaxRetries",2,n),this.ra=gf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vD(n&&n.concurrentRequestLimit),this.Ca=new _N,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function J_(n){if(t1(n),3==n.G){var e=n.V++,t=Fs(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),hg(n,t),(e=new Cd(n,n.h,e,void 0)).K=2,e.v=Td(Fs(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon&&(t=tt.navigator.sendBeacon(e.v.toString(),"")),!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=EN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ig(e)}wN(n)}function Q_(n){n.g&&(ny(n),n.g.cancel(),n.g=null)}function t1(n){Q_(n),n.u&&(tt.clearTimeout(n.u),n.u=null),ry(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tt.clearTimeout(n.m),n.m=null)}function X_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ey(n)}function ey(n){Zb(n.i)||n.m||(n.m=!0,P_(n.Ha,n),n.C=0)}function n1(n,e){var t;t=e?e.m:n.V++;const r=Fs(n.F);qn(r,"SID",n.J),qn(r,"RID",t),qn(r,"AID",n.U),hg(n,r),n.o&&n.s&&Xb(r,n.o,n.s),t=new Cd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=r1(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),W_(n.i,t),Ub(t,r,e)}function hg(n,e){n.j&&$_({},function(t,r){qn(e,r,t)})}function r1(n,e,t){t=Math.min(n.l.length,t);var r=n.j?pn(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let _=!0;for(let w=0;w<t;w++){let T=o[w].h;const N=o[w].g;if(T-=c,0>T)c=Math.max(0,o[w].h-100),_=!1;else try{yN(N,h,"req"+T+"_")}catch(x){r&&r(N)}}if(_){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function i1(n){n.g||n.u||(n.Y=1,P_(n.Ga,n),n.A=0)}function ty(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ng(pn(n.Ga,n),s1(n,n.A)),n.A++,0))}function ny(n){null!=n.B&&(tt.clearTimeout(n.B),n.B=null)}function TD(n){n.g=new Cd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Fs(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),hg(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&Xb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Td(Fs(e)),t.s=null,t.U=!0,hD(t,n)}function ry(n){null!=n.v&&(tt.clearTimeout(n.v),n.v=null)}function ID(n,e){var t=null;if(n.g==e){ry(n),ny(n),n.g=null;var r=2}else{if(!z_(n.i,e))return;t=e.D,mN(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;fr(r=eg(),new Pb(r,t,e,o)),ey(n)}else i1(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(wD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ng(pn(n.Ha,n,e),s1(n,n.C)),n.C++,0)))}(n,e)||2==r&&ty(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:mf(n,5);break;case 4:mf(n,10);break;case 3:mf(n,6);break;default:mf(n,2)}}function s1(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function mf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=pn(n.jb,n);t||(t=new Dd("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||zl(t,"https"),Td(t)),function(n,e){const t=new L_;if(tt.Image){const r=new Image;r.onload=An(Kl,t,r,"TestLoadImage: loaded",!0,e),r.onerror=An(Kl,t,r,"TestLoadImage: error",!1,e),r.onabort=An(Kl,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=An(Kl,t,r,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.G=0,n.j&&n.j.va(e),wN(n),t1(n)}function wN(n){n.G=0,n.I=-1,n.j&&((0!=ki(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ou(n.l),n.l.length=0),n.j.ua())}function CN(n,e,t){let r=function(n){return n instanceof Dd?Fs(n):new Dd(n,void 0)}(t);if(""!=r.i)e&&G_(r,e+"."+r.i),ff(r,r.m);else{const o=tt.location;r=function(n,e,t,r){var o=new Dd(null,void 0);return n&&zl(o,n),e&&G_(o,e),t&&ff(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&gb(n.aa,function(o,c){qn(r,c,o)}),t=n.sa,(e=n.D)&&t&&qn(r,e,t),qn(r,"VER",n.ma),hg(n,r),r}function EN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ba&&!n.qa?new ag({ib:!0}):n.qa)).L=n.H,e}function DN(){}function o1(){if(Gl&&!(10<=Number(WS)))throw Error("Environmental error: no available transport.")}function co(n,e){Ur.call(this),this.g=new e1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!S_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fg(this)}function TN(n){Vb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function IN(){lD.call(this),this.status=1}function fg(n){this.g=n}($e=pr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():V_.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:V_),this.g.onreadystatechange=pn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void ED(this,c)}n=t||"";const o=new hf(this.headers);r&&$_(r,function(c,h){o.set(h,c)}),r=function(n){e:{var e=CD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=tt.FormData&&n instanceof tt.FormData,!(0<=A_(Jb,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{DD(this),0<this.B&&((this.K=function(n){return Gl&&Xk()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pn(this.pa,this)):this.A=Mb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){ED(this,c)}},$e.pa=function(){void 0!==gt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},$e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),dg(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dg(this,!0)),pr.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?cg(this):this.cb())},$e.cb=function(){cg(this)},$e.ba=function(){try{return 2<Go(this)?this.g.status:-1}catch(n){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},$e.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Yb(e)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=e1.prototype).ma=8,$e.G=1,$e.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},$e.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Cd(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Yp(c),_b(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=r1(this,o,e),qn(t=Fs(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),hg(this,t),this.o&&c&&Xb(t,this.o,c),W_(this.i,o),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),o.$=!0,Ub(o,t,null)):Ub(o,t,e),this.G=2}}else 3==this.G&&(n?n1(this,n):0==this.l.length||Zb(this.i)||n1(this))},$e.Ga=function(){if(this.u=null,TD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ng(pn(this.bb,this),n)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),Q_(this),TD(this))},$e.ab=function(){null!=this.v&&(this.v=null,Q_(this),ty(this),ts(19))},$e.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},($e=DN.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},o1.prototype.g=function(n,e){return new co(n,e)},yn(co,Ur),co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),P_(pn(n.hb,n,e))),ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=CN(n,null,n.W),ey(n)},co.prototype.close=function(){J_(this.g)},co.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,X_(this.g,e)}else this.v?((e={}).__data__=O_(n),X_(this.g,e)):X_(this.g,n)},co.prototype.M=function(){this.g.j=null,delete this.j,J_(this.g),delete this.g,co.Z.M.call(this)},yn(TN,Vb),yn(IN,lD),yn(fg,DN),fg.prototype.xa=function(){fr(this.g,"a")},fg.prototype.wa=function(n){fr(this.g,new TN(n))},fg.prototype.va=function(n){fr(this.g,new IN(n))},fg.prototype.ua=function(){fr(this.g,"b")},o1.prototype.createWebChannel=o1.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,Fb.NO_ERROR=0,Fb.TIMEOUT=8,Fb.HTTP_ERROR=6,uD.COMPLETE="complete",lN.EventType=lf,lf.OPEN="a",lf.CLOSE="b",lf.ERROR="c",lf.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var rO=Ps.createWebChannelTransport=function(){return new o1},iO=Ps.getStatEventTarget=function(){return eg()},AD=Ps.ErrorCode=Fb,sO=Ps.EventType=uD,oO=Ps.Event=bd,AN=Ps.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aO=Ps.FetchXmlHttpFactory=ag,iy=Ps.WebChannel=lN,SN=Ps.XhrIo=pr;const SD="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let pg="9.6.0";const Sd=new Ut.Yd("@firebase/firestore");function a1(){return Sd.logLevel}function ke(n,...e){if(Sd.logLevel<=Ut.in.DEBUG){const t=e.map(ND);Sd.debug(`Firestore (${pg}): ${n}`,...t)}}function Br(n,...e){if(Sd.logLevel<=Ut.in.ERROR){const t=e.map(ND);Sd.error(`Firestore (${pg}): ${n}`,...t)}}function sy(n,...e){if(Sd.logLevel<=Ut.in.WARN){const t=e.map(ND);Sd.warn(`Firestore (${pg}): ${n}`,...t)}}function ND(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${pg}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function ct(n,e){n||Xe()}function Fe(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class MD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class u1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let h=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new jr,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const T=h;e.enqueueRetryable((0,pe.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},w=T=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new jr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new MD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new Oi(e)}}class RD{constructor(e,t,r){this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class kD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new RD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(c=o).error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const r=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),new xN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lO(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ps.I=-1;class RN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=lO(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function _f(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function kN(n){return n+"\0"}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new gr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ON(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends gg{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends gg{construct(e,t,r){return new yi(e,t,r)}static isValidIdentifier(e){return cO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const _=e[o];if("\\"===_){if(o+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===_?(h=!h,o++):"."!==_||h?(r+=_,o++):(c(),o++)}if(c(),h)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class mg{constructor(e){this.fields=e,e.sort(yi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new ei(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const dO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nd(n){if(ct(!!n),"string"==typeof n){let e=0;const t=dO.exec(n);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ra(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function c1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FD(n){const e=n.mapValue.fields.__previous_value__;return c1(e)?FD(e):e}function _g(n){const e=Nd(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}function Pu(n){return null==n}function ay(n){return 0===n&&1/n==-1/0}function gs(n){return"number"==typeof n&&Number.isInteger(n)&&!ay(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(e){this.path=e}static fromPath(e){return new We(cn.fromString(e))}static fromName(e){return new We(cn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new cn(e.slice()))}}function Fu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c1(n)?4:10:Xe()}function ka(n,e){const t=Fu(n);if(t!==Fu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _g(n).isEqual(_g(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Nd(r.timestampValue),h=Nd(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ra(n.bytesValue).isEqual(Ra(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Cr(r.geoPointValue.latitude)===Cr(o.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Cr(r.integerValue)===Cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Cr(r.doubleValue),h=Cr(o.doubleValue);return c===h?ay(c)===ay(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return _f(n.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(ON(c)!==ON(h))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===h[_]||!ka(c[_],h[_])))return!1;return!0}(n,e);default:return Xe()}var o}function yg(n,e){return void 0!==(n.values||[]).find(t=>ka(t,e))}function Jl(n,e){const t=Fu(n),r=Fu(e);if(t!==r)return Gt(t,r);switch(t){case 0:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=Cr(o.integerValue||o.doubleValue),_=Cr(c.integerValue||c.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(n,e);case 3:return d1(n.timestampValue,e.timestampValue);case 4:return d1(_g(n),_g(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,c){const h=Ra(o),_=Ra(c);return h.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),_=c.split("/");for(let w=0;w<h.length&&w<_.length;w++){const T=Gt(h[w],_[w]);if(0!==T)return T}return Gt(h.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Gt(Cr(o.latitude),Cr(c.latitude));return 0!==h?h:Gt(Cr(o.longitude),Cr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const h=o.values||[],_=c.values||[];for(let w=0;w<h.length&&w<_.length;++w){const T=Jl(h[w],_[w]);if(T)return T}return Gt(h.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const h=o.fields||{},_=Object.keys(h),w=c.fields||{},T=Object.keys(w);_.sort(),T.sort();for(let N=0;N<_.length&&N<T.length;++N){const x=Gt(_[N],T[N]);if(0!==x)return x;const V=Jl(h[_[N]],w[T[N]]);if(0!==V)return V}return Gt(_.length,T.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function d1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Nd(n),r=Nd(e),o=Gt(t.seconds,r.seconds);return 0!==o?o:Gt(t.nanos,r.nanos)}function uy(n){return h1(n)}function h1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Nd(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ra(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=h1(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const _ of o)h?h=!1:c+=",",c+=`${_}:${h1(r.fields[_])}`;return c+"}"}(n.mapValue):Xe();var e}function vg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ly(n){return!!n&&"integerValue"in n}function f1(n){return!!n&&"arrayValue"in n}function LD(n){return!!n&&"nullValue"in n}function cy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bg(n){return!!n&&"mapValue"in n}function vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=yi.emptyPath(),r={},o=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=_.popLast()}h?r[_.lastSegment()]=vf(h):o.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());bg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];bg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){yf(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new ti(vf(this.value))}}function VD(n){const e=[];return yf(n.fields,(t,r)=>{const o=new yi([t]);if(bg(r)){const c=VD(r.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new mg(e)}class Wt{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Wt(e,0,It.min(),ti.empty(),0)}static newFoundDocument(e,t,r){return new Wt(e,1,t,r,0)}static newNoDocument(e,t){return new Wt(e,2,t,ti.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Wt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class PN{constructor(e,t=null,r=[],o=[],c=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=_,this.R=null}}function FN(n,e=null,t=[],r=[],o=null,c=null,h=null){return new PN(n,e,t,r,o,c,h)}function wg(n){const e=Fe(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+uy(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Pu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=fy(e.startAt)),e.endAt&&(t+="|ub:",t+=fy(e.endAt)),e.R=t}return e.R}function dy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!HD(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ka(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!py(n.startAt,e.startAt)&&py(n.endAt,e.endAt)}function hy(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ns extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new LN(e,t,r):"array-contains"===t?new jD(e,r):"in"===t?new UN(e,r):"not-in"===t?new pO(e,r):"array-contains-any"===t?new $D(e,r):new ns(e,t,r)}static P(e,t,r){return"in"===t?new UD(e,r):new VN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Jl(t,this.value)):null!==t&&Fu(this.value)===Fu(t)&&this.v(Jl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LN extends ns{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.v(t)}}class UD extends ns{constructor(e,t){super(e,"in",t),this.keys=BD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VN extends ns{constructor(e,t){super(e,"not-in",t),this.keys=BD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class jD extends ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f1(t)&&yg(t.arrayValue,this.value)}}class UN extends ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yg(this.value.arrayValue,t)}}class pO extends ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yg(this.value.arrayValue,t)}}class $D extends ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yg(this.value.arrayValue,r))}}class bf{constructor(e,t){this.position=e,this.before=t}}function fy(n){return`${n.before?"b":"a"}:${n.position.map(e=>uy(e)).join(",")}`}class wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function HD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Cf(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(r=c.field.isKeyField()?We.comparator(We.fromName(h.referenceValue),t.key):Jl(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function py(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ka(n.position[t],e.position[t]))return!1;return!0}class Oa{constructor(e,t=null,r=[],o=[],c=null,h="F",_=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=_,this.endAt=w,this.S=null,this.D=null}}function GD(n,e,t,r,o,c,h,_){return new Oa(n,e,t,r,o,c,h,_)}function Ef(n){return new Oa(n)}function p1(n){return!Pu(n.limit)&&"F"===n.limitType}function g1(n){return!Pu(n.limit)&&"L"===n.limitType}function qD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gy(n){for(const e of n.filters)if(e.V())return e.field;return null}function my(n){return null!==n.collectionGroup}function Df(n){const e=Fe(n);if(null===e.S){e.S=[];const t=gy(e),r=qD(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new wf(t)),e.S.push(new wf(yi.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new wf(yi.keyField(),c))}}}return e.S}function ho(n){const e=Fe(n);if(!e.D)if("F"===e.limitType)e.D=FN(e.path,e.collectionGroup,Df(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Df(e))t.push(new wf(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new bf(e.endAt.position,!e.endAt.before):null,o=e.startAt?new bf(e.startAt.position,!e.startAt.before):null;e.D=FN(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function ZD(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cg(n,e){return dy(ho(n),ho(e))&&n.limitType===e.limitType}function m1(n){return`${wg(ho(n))}|lt:${n.limitType}`}function zD(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${uy(r.value)}`;var r}).join(", ")}]`),Pu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+fy(n.startAt)),n.endAt&&(e+=", endAt: "+fy(n.endAt)),`Target(${e})`}(ho(n))}; limitType=${n.limitType})`}function _y(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):We.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Cf(t.startAt,Df(t),r)||t.endAt&&Cf(t.endAt,Df(t),r)));var t,r}function WD(n){return(e,t)=>{let r=!1;for(const o of Df(n)){const c=_1(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function _1(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(o,c,h){const _=c.data.field(o),w=h.data.field(o);return null!==_&&null!==w?Jl(_,w):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function $r(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ay(e)?"-0":e}}function BN(n){return{integerValue:""+n}}function y1(n,e){return gs(e)?BN(e):$r(n,e)}class Eg{constructor(){this._=void 0}}function jN(n,e,t){return n instanceof Tf?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Ql?Xl(n,e):n instanceof ec?vy(n,e):function(r,o){const c=YD(r,o),h=KD(c)+KD(r.N);return ly(c)&&ly(r.N)?BN(h):$r(r.k,h)}(n,e)}function yy(n,e,t){return n instanceof Ql?Xl(n,e):n instanceof ec?vy(n,e):t}function YD(n,e){return n instanceof tc?ly(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Tf extends Eg{}class Ql extends Eg{constructor(e){super(),this.elements=e}}function Xl(n,e){const t=Dg(e);for(const r of n.elements)t.some(o=>ka(o,r))||t.push(r);return{arrayValue:{values:t}}}class ec extends Eg{constructor(e){super(),this.elements=e}}function vy(n,e){let t=Dg(e);for(const r of n.elements)t=t.filter(o=>!ka(o,r));return{arrayValue:{values:t}}}class tc extends Eg{constructor(e,t){super(),this.k=e,this.N=t}}function KD(n){return Cr(n.integerValue||n.doubleValue)}function Dg(n){return f1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tg{constructor(e,t){this.field=e,this.transform=t}}class JD{constructor(e,t){this.version=e,this.transformResults=t}}class Bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class by{}function $N(n,e,t){n instanceof Cy?function(r,o,c){const h=r.value.clone(),_=tT(r.fieldTransforms,o,c.transformResults);h.setAll(_),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Md?function(r,o,c){if(!b1(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=tT(r.fieldTransforms,o,c.transformResults),_=o.data;_.setAll(eT(r)),_.setAll(h),o.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function QD(n,e,t){var o;n instanceof Cy?function(r,o,c){if(!b1(r.precondition,o))return;const h=r.value.clone(),_=nT(r.fieldTransforms,c,o);h.setAll(_),o.convertToFoundDocument(HN(o),h).setHasLocalMutations()}(n,e,t):n instanceof Md?function(r,o,c){if(!b1(r.precondition,o))return;const h=nT(r.fieldTransforms,c,o),_=o.data;_.setAll(eT(r)),_.setAll(h),o.convertToFoundDocument(HN(o),_).setHasLocalMutations()}(n,e,t):b1(n.precondition,o=e)&&o.convertToNoDocument(It.min())}function wy(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=YD(r.transform,o||null);null!=c&&(null==t&&(t=ti.empty()),t.set(r.field,c))}return t||null}function XD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_f(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ql&&r instanceof Ql||t instanceof ec&&r instanceof ec?_f(t.elements,r.elements,ka):t instanceof tc&&r instanceof tc?ka(t.N,r.N):t instanceof Tf&&r instanceof Tf);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function HN(n){return n.isFoundDocument()?n.version:It.min()}class Cy extends by{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Md extends by{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function eT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tT(n,e,t){const r=new Map;ct(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,_=e.data.field(c.field);r.set(c.field,yy(h,_,t[o]))}return r}function nT(n,e,t){const r=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);r.set(o.field,jN(c,h,e))}return r}class Ig extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class w1 extends by{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class gO{constructor(e){this.count=e}}var Er,Yt;function rT(n){switch(n){default:return Xe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function GN(n){if(void 0===n)return Br("GRPC error has no .code"),he.UNKNOWN;switch(n){case Er.OK:return he.OK;case Er.CANCELLED:return he.CANCELLED;case Er.UNKNOWN:return he.UNKNOWN;case Er.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Er.INTERNAL:return he.INTERNAL;case Er.UNAVAILABLE:return he.UNAVAILABLE;case Er.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Er.NOT_FOUND:return he.NOT_FOUND;case Er.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Er.ABORTED:return he.ABORTED;case Er.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Er.DATA_LOSS:return he.DATA_LOSS;default:return Xe()}}(Yt=Er||(Er={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class ni{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ey(this.root,e,this.comparator,!0)}}class Ey{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:vi.RED,this.left=null!=o?o:vi.EMPTY,this.right=null!=c?c:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new vi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return vi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(e){return new iT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class iT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const qN=new ni(We.comparator);function ir(){return qN}const ZN=new ni(We.comparator);function C1(){return ZN}const zN=new ni(We.comparator);function sT(){return zN}const mO=new rr(We.comparator);function hn(...n){let e=mO;for(const t of n)e=e.add(t);return e}const WN=new rr(Gt);function Dy(){return WN}class Lu{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,If.createSynthesizedTargetChangeForCurrentChange(e,t)),new Lu(It.min(),r,Dy(),ir(),hn())}}class If{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new If(ei.EMPTY_BYTE_STRING,t,hn(),hn(),hn())}}class E1{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.F=o}}class oT{constructor(e,t){this.targetId=e,this.O=t}}class YN{constructor(e,t,r=ei.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class KN{constructor(){this.M=0,this.L=aT(),this.B=ei.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=hn(),t=hn(),r=hn();return this.L.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new If(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=aT()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class _O{constructor(e){this.et=e,this.nt=new Map,this.st=ir(),this.it=Ty(),this.rt=new rr(Gt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.O.count,o=this.wt(t);if(o){const c=o.target;if(hy(c))if(0===r){const h=new We(c.path);this.ct(t,h,Wt.newNoDocument(h,It.min()))}else ct(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,h)=>{const _=this.wt(h);if(_){if(c.current&&hy(_.target)){const w=new We(_.target.path);null!==this.st.get(w)||this.yt(h,w)||this.ct(h,w,Wt.newNoDocument(w,e))}c.j&&(t.set(h,c.G()),c.H())}});let r=hn();this.it.forEach((c,h)=>{let _=!0;h.forEachWhile(w=>{const T=this.wt(w);return!T||2===T.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const o=new Lu(e,t,this.rt,this.st,r);return this.st=ir(),this.it=Ty(),this.rt=new rr(Gt),o}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new KN,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new rr(Gt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new KN),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Ty(){return new ni(We.comparator)}function aT(){return new ni(We.comparator)}const JN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yO{constructor(e,t){this.databaseId=e,this.C=t}}function Ag(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uT(n,e){return n.C?e.toBase64():e.toUint8Array()}function XN(n,e){return Ag(n,e.toTimestamp())}function gn(n){return ct(!!n),It.fromTimestamp(function(e){const t=Nd(e);return new gr(t.seconds,t.nanos)}(n))}function lT(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function D1(n){const e=cn.fromString(n);return ct(mT(e)),e}function Sg(n,e){return lT(n.databaseId,e.path)}function qo(n,e){const t=D1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(Ay(t))}function Iy(n,e){return lT(n.databaseId,e)}function T1(n){const e=D1(n);return 4===e.length?cn.emptyPath():Ay(e)}function xd(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ay(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sy(n,e,t){return{name:Sg(n,e),fields:t.value.mapValue.fields}}function Ng(n,e,t){const r=qo(n,e.name),o=gn(e.updateTime),c=new ti({mapValue:{fields:e.fields}}),h=Wt.newFoundDocument(r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Mg(n,e){let t;if(e instanceof Cy)t={update:Sy(n,e.key,e.value)};else if(e instanceof Ig)t={delete:Sg(n,e.key)};else if(e instanceof Md)t={update:Sy(n,e.key,e.data),updateMask:Ry(e.fieldMask)};else{if(!(e instanceof w1))return Xe();t={verify:Sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof Tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ql)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tc)return{fieldPath:c.field.canonicalString(),increment:h.N};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:XN(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function dT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Bt.updateTime(gn(o.updateTime)):void 0!==o.exists?Bt.exists(o.exists):Bt.none():Bt.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,h){let _=null;"setToServerValue"in h?(ct("REQUEST_TIME"===h.setToServerValue),_=new Tf):"appendMissingElements"in h?_=new Ql(h.appendMissingElements.values||[]):"removeAllFromArray"in h?_=new ec(h.removeAllFromArray.values||[]):"increment"in h?_=new tc(c,h.increment):Xe();const w=yi.fromServerFormat(h.fieldPath);return new Tg(w,_)}(n,o)):[];var o;if(e.update){const o=qo(n,e.update.name),c=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new mg((e.updateMask.fieldPaths||[]).map(T=>yi.fromServerFormat(T)));return new Md(o,c,h,t,r)}return new Cy(o,c,t,r)}if(e.delete){const o=qo(n,e.delete);return new Ig(o,t)}if(e.verify){const o=qo(n,e.verify);return new w1(o,t)}return Xe()}function I1(n,e){return{documents:[Iy(n,e.path)]}}function hT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Iy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Iy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const w=_.map(T=>function(N){if("=="===N.op){if(cy(N.value))return{unaryFilter:{field:Rd(N.field),op:"IS_NAN"}};if(LD(N.value))return{unaryFilter:{field:Rd(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(cy(N.value))return{unaryFilter:{field:Rd(N.field),op:"IS_NOT_NAN"}};if(LD(N.value))return{unaryFilter:{field:Rd(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rd(N.field),op:xy(N.op),value:N.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(_){if(0!==_.length)return _.map(w=>{return{field:Rd((T=w).field),direction:xg(T.dir)};var T})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(w=e.limit,n.C||Pu(w)?w:{value:w});var w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=pT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=pT(e.endAt)),t}function fT(n){let e=T1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=My(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new wf(Vu((x=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let _=null;t.limit&&(_=function(N){let x;return x="object"==typeof N?N.value:N,Pu(x)?null:x}(t.limit));let w=null;t.startAt&&(w=Pi(t.startAt));let T=null;return t.endAt&&(T=Pi(t.endAt)),GD(e,o,h,c,_,"F",w,T)}function My(n){return n?void 0!==n.unaryFilter?[gT(n)]:void 0!==n.fieldFilter?[A1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>My(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function pT(n){return{before:n.before,values:n.position}}function Pi(n){return new bf(n.values||[],!!n.before)}function xg(n){return JN[n]}function xy(n){return QN[n]}function Rd(n){return{fieldPath:n.canonicalString()}}function Vu(n){return yi.fromServerFormat(n.fieldPath)}function A1(n){return ns.create(Vu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function gT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Vu(n.unaryFilter.field);return ns.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Vu(n.unaryFilter.field);return ns.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vu(n.unaryFilter.field);return ns.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vu(n.unaryFilter.field);return ns.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function Ry(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_T(e)),e=nM(n.get(t),e);return _T(e)}function nM(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function _T(n){return n+"\x01\x01"}function Pa(n){const e=n.length;if(ct(e>=2),2===e)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&Xe(),n.charAt(h+1)){case"\x01":const _=n.substring(c,h);let w;0===o.length?w=_:(o+=_,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:Xe()}c=h+2}return new cn(r)}class rM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ls{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Ls.store="owner",Ls.key="owner";class nc{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}nc.store="mutationQueues",nc.keyPath="userId";class sn{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}sn.store="mutations",sn.keyPath="batchId",sn.userMutationsIndex="userMutationsIndex",sn.userMutationsKeyPath=["userId","batchId"];class Dr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Zo(t)]}static key(e,t,r){return[e,Zo(t),r]}}Dr.store="documentMutations",Dr.PLACEHOLDER=new Dr;class S1{constructor(e,t){this.path=e,this.readTime=t}}class iM{constructor(e,t){this.path=e,this.version=t}}class sr{constructor(e,t,r,o,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=h}}sr.store="remoteDocuments",sr.readTimeIndex="readTimeIndex",sr.readTimeIndexPath="readTime",sr.collectionReadTimeIndex="collectionReadTimeIndex",sr.collectionReadTimeIndexPath=["parentPath","readTime"];class Fa{constructor(e){this.byteSize=e}}Fa.store="remoteDocumentGlobal",Fa.key="remoteDocumentGlobalKey";class Fi{constructor(e,t,r,o,c,h,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=_}}Fi.store="targets",Fi.keyPath="targetId",Fi.queryTargetsIndexName="queryTargetsIndex",Fi.queryTargetsKeyPath=["canonicalId","targetId"];class bi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}bi.store="targetDocuments",bi.keyPath=["targetId","path"],bi.documentTargetsIndex="documentTargetsIndex",bi.documentTargetsKeyPath=["path","targetId"];class ms{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}ms.key="targetGlobalKey",ms.store="targetGlobal";class rc{constructor(e,t){this.collectionId=e,this.parent=t}}rc.store="collectionParents",rc.keyPath=["collectionId","parent"];class Uu{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Uu.store="clientMetadata",Uu.keyPath="clientId";class Af{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Af.store="bundles",Af.keyPath="bundleId";class Sf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Sf.store="namedQueries",Sf.keyPath="name";const Bu=[nc.store,sn.store,Dr.store,sr.store,Fi.store,Ls.store,ms.store,bi.store,Uu.store,Fa.store,rc.store,Af.store,Sf.store],Nf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let o=0,c=0,h=!1;e.forEach(_=>{++o,_.next(()=>{++c,h&&c===o&&t()},w=>r(w))}),h=!0,c===o&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(o=>o?Ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class ju{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new jr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Rg(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=kg(r.target.error);this.It.reject(new Rg(e,o))}}static open(e,t,r,o){try{return new ju(t,e.transaction(o,r))}catch(c){throw new Rg(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new yT(t)}}class zo{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===zo.Pt((0,st.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),sc(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,st.hl)())return!1;if(zo.vt())return!0;const e=(0,st.z$)(),t=zo.Pt(e),r=0<t&&t<10,o=zo.Vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,pe.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{o(new Rg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const _=h.target.error;o("VersionError"===_.name?new Te(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Te(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Rg(e,_))},c.onupgradeneeded=h=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,pe.Z)(function*(){const h="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Ct(e);const w=ju.open(c.db,e,h?"readonly":"readwrite",r),T=o(w).catch(N=>(w.abort(N),Ee.reject(N))).toPromise();return T.catch(()=>{}),yield w.At,T}catch(w){const T="FirebaseError"!==w.name&&_<3;if(ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sM{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return sc(this.$t.delete())}}class Rg extends Te{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ic(n){return"IndexedDbTransactionError"===n.name}class yT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sc(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),sc(this.store.add(e))}get(e){return sc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),sc(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),sc(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(c,h)=>{o.push(h)}).next(()=>o)}qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(c,h,_)=>_.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Ee((r,o)=>{t.onerror=c=>{const h=kg(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(_=>{_?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ee((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const _=h.target.result;if(!_)return void o();const w=new sM(_),T=t(_.primaryKey,_.value,w);if(T instanceof Ee){const N=T.catch(x=>(w.done(),Ee.reject(x)));r.push(N)}w.isDone?o():null===w.Mt?_.continue():_.continue(w.Mt)}}).next(()=>Ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sc(n){return new Ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=kg(r.target.error);t(o)}})}let N1=!1;function kg(n){const e=zo.Pt((0,st.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return N1||(N1=!0,setTimeout(()=>{throw r},0)),r}}return n}class vT extends kd{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function _s(n,e){const t=Fe(n);return zo.Dt(t.Wt,e)}class ky{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&$N(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&QD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&QD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hn())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(t,r)=>XD(t,r))&&_f(this.baseMutations,e.baseMutations,(t,r)=>XD(t,r))}}class $u{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ct(e.mutations.length===r.length);let o=sT();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new $u(e,t,r,o)}}class La{constructor(e,t,r,o,c=It.min(),h=It.min(),_=ei.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bT{constructor(e){this.Gt=e}}function M1(n,e){if(e.document)return Ng(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=We.fromSegments(e.noDocument.path),r=Mf(e.noDocument.readTime),o=Wt.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=We.fromSegments(e.unknownDocument.path),r=Mf(e.unknownDocument.version);return Wt.newUnknownDocument(t,r)}return Xe()}function oM(n,e,t){const r=wT(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Sg(_=n.Gt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:Ag(_,w.version.toTimestamp())};return new sr(null,null,c,e.hasCommittedMutations,r,o)}var _,w;if(e.isNoDocument()){const c=e.key.path.toArray(),h=Og(e.version),_=e.hasCommittedMutations;return new sr(null,new S1(c,h),null,_,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=Og(e.version);return new sr(new iM(c,h),null,null,!0,r,o)}return Xe()}function wT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function aM(n){const e=new gr(n[0],n[1]);return It.fromTimestamp(e)}function Og(n){const e=n.toTimestamp();return new rM(e.seconds,e.nanoseconds)}function Mf(n){const e=new gr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function xf(n,e){const t=(e.baseMutations||[]).map(c=>dT(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>dT(n.Gt,c)),o=gr.fromMillis(e.localWriteTimeMs);return new ky(e.batchId,o,t,r)}function Oy(n){const e=Mf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Mf(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(ct(1===(o=n.query).documents.length),r=ho(Ef(T1(o.documents[0])))):r=ho(fT(n.query)),new La(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ei.fromBase64String(n.resumeToken))}function uM(n,e){const t=Og(e.snapshotVersion),r=Og(e.lastLimboFreeSnapshotVersion);let o;o=hy(e.target)?I1(n.Gt,e.target):hT(n.Gt,e.target);const c=e.resumeToken.toBase64();return new Fi(e.targetId,wg(e.target),t,c,e.sequenceNumber,r,o)}function CT(n){const e=fT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZD(e,e.limit,"L"):e}class vO{getBundleMetadata(e,t){return ET(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Mf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ET(e).put({bundleId:(r=t).id,createTime:Og(gn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return lM(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:CT(o.bundledQuery),readTime:Mf(o.readTime)};var o})}saveNamedQuery(e,t){return lM(e).put({name:(r=t).name,readTime:Og(gn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ET(n){return _s(n,Af.store)}function lM(n){return _s(n,Sf.store)}class bO{constructor(){this.zt=new DT}addToCollectionParentIndex(e,t){return this.zt.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.zt.getEntries(t))}}class DT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new rr(cn.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new rr(cn.comparator)).toArray()}}class wO{constructor(){this.Ht=new DT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:r,parent:Zo(o)};return i(e).put(c)}return Ee.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[kN(t),""],!1,!0);return i(e).Bt(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(Pa(h.parent))}return r})}}function i(n){return _s(n,rc.store)}const s={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class a{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new a(e,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l(n,e,t){const r=n.store(sn.store),o=n.store(Dr.store),c=[],h=IDBKeyRange.only(t.batchId);let _=0;const w=r.jt({range:h},(N,x,V)=>(_++,V.delete()));c.push(w.next(()=>{ct(1===_)}));const T=[];for(const N of t.mutations){const x=Dr.key(e,N.key.path,t.batchId);c.push(o.delete(x)),T.push(N.key)}return Ee.waitFor(c).next(()=>T)}function d(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}a.DEFAULT_COLLECTION_PERCENTILE=10,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,a.DEFAULT=new a(41943040,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),a.DISABLED=new a(-1,0,0);class f{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){ct(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new f(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return v(e).jt({index:sn.userMutationsIndex,range:r},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=C(e),h=v(e);return h.add({}).next(_=>{ct("number"==typeof _);const w=new ky(_,t,r,o),T=function(V,H,ee){const ge=ee.baseMutations.map(Je=>Mg(V.Gt,Je)),Ie=ee.mutations.map(Je=>Mg(V.Gt,Je));return new sn(H,ee.batchId,ee.localWriteTime.toMillis(),ge,Ie)}(this.k,this.userId,w),N=[];let x=new rr((V,H)=>Gt(V.canonicalString(),H.canonicalString()));for(const V of o){const H=Dr.key(this.userId,V.key.path,_);x=x.add(V.key.path.popLast()),N.push(h.put(T)),N.push(c.put(H,Dr.PLACEHOLDER))}return x.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[_]=w.keys()}),Ee.waitFor(N).next(()=>w)})}lookupMutationBatch(e,t){return v(e).get(t).next(r=>r?(ct(r.userId===this.userId),xf(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ee.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return v(e).jt({index:sn.userMutationsIndex,range:o},(h,_,w)=>{_.userId===this.userId&&(ct(_.batchId>=r),c=xf(this.k,_)),w.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return v(e).jt({index:sn.userMutationsIndex,range:t,reverse:!0},(o,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return v(e).Bt(sn.userMutationsIndex,t).next(r=>r.map(o=>xf(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Dr.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return C(e).jt({range:o},(h,_,w)=>{const[T,N,x]=h,V=Pa(N);if(T===this.userId&&t.path.isEqual(V))return v(e).get(x).next(H=>{if(!H)throw Xe();ct(H.userId===this.userId),c.push(xf(this.k,H))});w.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Gt);const o=[];return t.forEach(c=>{const h=Dr.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(h),w=C(e).jt({range:_},(T,N,x)=>{const[V,H,ee]=T,ge=Pa(H);V===this.userId&&c.path.isEqual(ge)?r=r.add(ee):x.done()});o.push(w)}),Ee.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=Dr.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let _=new rr(Gt);return C(e).jt({range:h},(w,T,N)=>{const[x,V,H]=w,ee=Pa(V);x===this.userId&&r.isPrefixOf(ee)?ee.length===o&&(_=_.add(H)):N.done()}).next(()=>this.te(e,_))}te(e,t){const r=[],o=[];return t.forEach(c=>{o.push(v(e).get(c).next(h=>{if(null===h)throw Xe();ct(h.userId===this.userId),r.push(xf(this.k,h))}))}),Ee.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return l(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ee.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ee.resolve();const r=IDBKeyRange.lowerBound(Dr.prefixForUser(this.userId)),o=[];return C(e).jt({range:r},(c,h,_)=>{if(c[0]===this.userId){const w=Pa(c[1]);o.push(w)}else _.done()}).next(()=>{ct(0===o.length)})})}containsKey(e,t){return m(e,this.userId,t)}ne(e){return D(e).get(this.userId).next(t=>t||new nc(this.userId,-1,""))}}function m(n,e,t){const r=Dr.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return C(n).jt({range:c,Kt:!0},(_,w,T)=>{const[N,x,V]=_;N===e&&x===o&&(h=!0),T.done()}).next(()=>h)}function v(n){return _s(n,sn.store)}function C(n){return _s(n,Dr.store)}function D(n){return _s(n,nc.store)}class S{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new S(0)}static re(){return new S(-1)}}class k{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new S(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>It.fromTimestamp(new gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ae(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>O(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return O(e).jt((h,_)=>{const w=Oy(_);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,c.push(this.removeTargetData(e,w)))}).next(()=>Ee.waitFor(c)).next(()=>o)}forEachTarget(e,t){return O(e).jt((r,o)=>{const c=Oy(o);t(c)})}oe(e){return $(e).get(ms.key).next(t=>(ct(null!==t),t))}ae(e,t){return $(e).put(ms.key,t)}ce(e,t){return O(e).put(uM(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wg(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return O(e).jt({range:o,index:Fi.queryTargetsIndexName},(h,_,w)=>{const T=Oy(_);dy(t,T.target)&&(c=T,w.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=W(e);return t.forEach(h=>{const _=Zo(h.path);o.push(c.put(new bi(r,_))),o.push(this.referenceDelegate.addReference(e,r,h))}),Ee.waitFor(o)}removeMatchingKeys(e,t,r){const o=W(e);return Ee.forEach(t,c=>{const h=Zo(c.path);return Ee.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=W(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=W(e);let c=hn();return o.jt({range:r,Kt:!0},(h,_,w)=>{const T=Pa(h[1]),N=new We(T);c=c.add(N)}).next(()=>c)}containsKey(e,t){const r=Zo(t.path),o=IDBKeyRange.bound([r],[kN(r)],!1,!0);let c=0;return W(e).jt({index:bi.documentTargetsIndex,Kt:!0,range:o},([h,_],w,T)=>{0!==h&&(c++,T.done())}).next(()=>c>0)}Et(e,t){return O(e).get(t).next(r=>r?Oy(r):null)}}function O(n){return _s(n,Fi.store)}function $(n){return _s(n,ms.store)}function W(n){return _s(n,bi.store)}function ue(n){return ne.apply(this,arguments)}function ne(){return(ne=(0,pe.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Nf)throw n;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Me([n,e],[t,r]){const o=Gt(n,t);return 0===o?Gt(e,r):o}class me{constructor(e){this.he=e,this.buffer=new rr(Me),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Me(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ke{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ic(o)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ue(o)}yield t.me(e)}))}}class dt{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ee.resolve(ps.I);const r=new me(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(s)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,c,h,_,w,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,_=Date.now(),this.removeTargets(e,r,t))).next(x=>(c=x,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(T=Date.now(),a1()<=Ut.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(_-h)+`ms\n\tRemoved ${c} targets in `+(w-_)+`ms\n\tRemoved ${x} documents in `+(T-w)+`ms\nTotal Duration: ${T-N}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x})))}}class jt{constructor(e,t){this.db=e,this.garbageCollector=new dt(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return or(e,r)}removeReference(e,t,r){return or(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return or(e,t)}Ae(e,t){return function(r,o){let c=!1;return D(r).Qt(h=>m(r,h,o).next(_=>(_&&(c=!0),Ee.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ie(e,(h,_)=>{if(_<=t){const w=this.Ae(e,h).next(T=>{if(!T)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),W(e).delete([0,Zo(h.path)])))});o.push(w)}}).next(()=>Ee.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return or(e,t)}Ie(e,t){const r=W(e);let o,c=ps.I;return r.jt({index:bi.documentTargetsIndex},([h,_],{path:w,sequenceNumber:T})=>{0===h?(c!==ps.I&&t(new We(Pa(o)),c),c=T,o=w):c=ps.I}).next(()=>{c!==ps.I&&t(new We(Pa(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function or(n,e){return W(n).put((r=n.currentSequenceNumber,new bi(0,Zo(e.path),r)));var r}class wi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){yf(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return oy(this.inner)}}class Rf{constructor(){this.changes=new wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:It.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Wt.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ee.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kf{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Va(e).put(Pf(t),r)}removeEntry(e,t){const r=Va(e),o=Pf(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Va(e).get(Pf(t)).next(r=>this.Pe(t,r))}be(e,t){return Va(e).get(Pf(t)).next(r=>({document:this.Pe(t,r),size:d(r)}))}getEntries(e,t){let r=ir();return this.ve(e,t,(o,c)=>{const h=this.Pe(o,c);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=ir(),o=new ni(We.comparator);return this.ve(e,t,(c,h)=>{const _=this.Pe(c,h);r=r.insert(c,_),o=o.insert(c,d(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Ee.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return Va(e).jt({range:o},(_,w,T)=>{const N=We.fromSegments(_);for(;h&&We.comparator(h,N)<0;)r(h,null),h=c.getNext();h&&h.isEqual(N)&&(r(h,w),h=c.hasNext()?c.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=ir();const c=t.path.length+1,h={};if(r.isEqual(It.min())){const _=t.path.toArray();h.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),w=wT(r);h.range=IDBKeyRange.lowerBound([_,w],!0),h.index=sr.collectionReadTimeIndex}return Va(e).jt(h,(_,w,T)=>{if(_.length!==c)return;const N=M1(this.k,w);t.path.isPrefixOf(N.key.path)?_y(t,N)&&(o=o.insert(N.key,N)):T.done()}).next(()=>o)}newChangeBuffer(e){return new Of(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Od(e).get(Fa.key).next(t=>(ct(!!t),t))}Re(e,t){return Od(e).put(Fa.key,t)}Pe(e,t){if(t){const r=M1(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Wt.newInvalidDocument(e)}}class Of extends Rf{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new wi(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new rr((c,h)=>Gt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const _=this.Ce.get(c);if(h.document.isValidDocument()){const w=oM(this.De.k,h.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=d(w)-_,t.push(this.De.addEntry(e,c,w))}else if(r-=_,this.trackRemovals){const w=oM(this.De.k,Wt.newNoDocument(c,It.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,w))}else t.push(this.De.removeEntry(e,c))}),o.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,r)),Ee.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((c,h)=>{this.Ce.set(c,h)}),r))}}function Od(n){return _s(n,Fa.store)}function Va(n){return _s(n,sr.store)}function Pf(n){return n.path.toArray()}class x1{constructor(e){this.k=e}Nt(e,t,r,o){ct(r<o&&r>=0&&o<=11);const c=new ju("createOrUpgrade",t);var _;r<1&&o>=1&&(e.createObjectStore(Ls.store),(_=e).createObjectStore(nc.store,{keyPath:nc.keyPath}),_.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Dr.store),Py(e),function(_){_.createObjectStore(sr.store)}(e));let h=Ee.resolve();return r<3&&o>=3&&(0!==r&&(function(_){_.deleteObjectStore(bi.store),_.deleteObjectStore(Fi.store),_.deleteObjectStore(ms.store)}(e),Py(e)),h=h.next(()=>function(_){const w=_.store(ms.store),T=new ms(0,0,It.min().toTimestamp(),0);return w.put(ms.key,T)}(c))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(_,w){return w.store(sn.store).Bt().next(T=>{_.deleteObjectStore(sn.store),_.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0});const N=w.store(sn.store),x=T.map(V=>N.put(V));return Ee.waitFor(x)})}(e,c))),h=h.next(()=>{!function(_){_.createObjectStore(Uu.store,{keyPath:Uu.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(c))),r<6&&o>=6&&(h=h.next(()=>(function(_){_.createObjectStore(Fa.store)}(e),this.ke(c)))),r<7&&o>=7&&(h=h.next(()=>this.xe(c))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,c))),r<9&&o>=9&&(h=h.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const w=_.objectStore(sr.store);w.createIndex(sr.readTimeIndex,sr.readTimeIndexPath,{unique:!1}),w.createIndex(sr.collectionReadTimeIndex,sr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Fe(c))),r<11&&o>=11&&(h=h.next(()=>{(function(_){_.createObjectStore(Af.store,{keyPath:Af.keyPath})})(e),function(_){_.createObjectStore(Sf.store,{keyPath:Sf.keyPath})}(e)})),h}ke(e){let t=0;return e.store(sr.store).jt((r,o)=>{t+=d(o)}).next(()=>{const r=new Fa(t);return e.store(Fa.store).put(Fa.key,r)})}Ne(e){const t=e.store(nc.store),r=e.store(sn.store);return t.Bt().next(o=>Ee.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Bt(sn.userMutationsIndex,h).next(_=>Ee.forEach(_,w=>{ct(w.userId===c.userId);const T=xf(this.k,w);return l(e,c.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(bi.store),r=e.store(sr.store);return e.store(ms.store).get(ms.key).next(o=>{const c=[];return r.jt((h,_)=>{const w=new cn(h),T=[0,Zo(w)];c.push(t.get(T).next(N=>N?Ee.resolve():t.put(new bi(0,Zo(w),o.highestListenSequenceNumber))))}).next(()=>Ee.waitFor(c))})}$e(e,t){e.createObjectStore(rc.store,{keyPath:rc.keyPath});const r=t.store(rc.store),o=new DT,c=h=>{if(o.add(h)){const _=h.lastSegment(),w=h.popLast();return r.put({collectionId:_,parent:Zo(w)})}};return t.store(sr.store).jt({Kt:!0},(h,_)=>{const w=new cn(h);return c(w.popLast())}).next(()=>t.store(Dr.store).jt({Kt:!0},([h,_,w],T)=>{const N=Pa(_);return c(N.popLast())}))}Fe(e){const t=e.store(Fi.store);return t.jt((r,o)=>{const c=Oy(o),h=uM(this.k,c);return t.put(h)})}}function Py(n){n.createObjectStore(bi.store,{keyPath:bi.keyPath}).createIndex(bi.documentTargetsIndex,bi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Fi.store,{keyPath:Fi.keyPath}).createIndex(Fi.queryTargetsIndexName,Fi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ms.store)}const Pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cM{constructor(e,t,r,o,c,h,_,w,T,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=_,this.Me=T,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=x=>Promise.resolve(),!cM.bt())throw new Te(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jt(this,o),this.Ge=t+"main",this.k=new bT(w),this.ze=new zo(this.Ge,11,new x1(this.k)),this.He=new k(this.referenceDelegate,this.k),this.Jt=new wO,this.Je=new kf(this.k,this.Jt),this.Ye=new vO,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(he.FAILED_PRECONDITION,Pg);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ps(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,pe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TT(e).put(new Uu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(ic(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return R1(e).get(Ls.key).next(t=>Ee.resolve(this.un(t)))}hn(e){return TT(e).delete(this.clientId)}ln(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=_s(r,Uu.store);return o.Bt().next(c=>{const h=e.dn(c,18e5),_=c.filter(w=>-1===h.indexOf(w));return Ee.forEach(_,w=>o.delete(w.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ee.resolve(!0):R1(e).get(Ls.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Te(he.FAILED_PRECONDITION,Pg);return!1}}return!(!this.networkEnabled||!this.inForeground)||TT(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Ls.store,Uu.store],t=>{const r=new vT(t,ps.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>TT(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return f.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let c;return ke("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",Bu,h=>(c=new vT(h,this.Be?this.Be.next():ps.I),"readwrite-primary"===t?this.rn(c).next(_=>!!_||this.on(c)).next(_=>{if(!_)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Te(he.FAILED_PRECONDITION,Nf);return r(c)}).next(_=>this.cn(c).next(()=>_)):this.En(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}En(e){return R1(e).get(Ls.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(he.FAILED_PRECONDITION,Pg)})}cn(e){const t=new Ls(this.clientId,this.allowTabSynchronization,Date.now());return R1(e).put(Ls.key,t)}static bt(){return zo.bt()}an(e){const t=R1(e);return t.get(Ls.key).next(r=>this.un(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete(Ls.key)):Ee.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Br(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,st.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function R1(n){return _s(n,Ls.store)}function TT(n){return _s(n,Uu.store)}function dM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class w2{constructor(e,t){this.progress=e,this.In=t}}class CO{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):my(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new We(t)).next(r=>{let o=C1();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let c=C1();return this.Jt.getCollectionParents(e,o).next(h=>Ee.forEach(h,_=>{const w=(T=t,N=_.child(o),new Oa(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Cn(e,w,r).next(T=>{T.forEach((N,x)=>{c=c.insert(N,x)})})}).next(()=>c))}Cn(e,t,r){let o,c;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Nn(e,c,o).next(_=>{o=_;for(const w of c)for(const T of w.mutations){const N=T.key;let x=o.get(N);null==x&&(x=Wt.newInvalidDocument(N),o=o.insert(N,x)),QD(T,x,w.localWriteTime),x.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((h,_)=>{_y(t,_)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=hn();for(const h of t)for(const _ of h.mutations)_ instanceof Md&&null===r.get(_.key)&&(o=o.add(_.key));let c=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((_,w)=>{w.isFoundDocument()&&(c=c.insert(_,w))}),c))}}class hM{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=hn(),o=hn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hM(e,t.fromCache,r,o)}}class EO{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.Mn(e,t):this.On.vn(e,o).next(c=>{const h=this.Ln(t,c);return(p1(t)||g1(t))&&this.Bn(t.limitType,h,o,r)?this.Mn(e,t):(a1()<=Ut.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zD(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(h.forEach(w=>{_=_.insert(w.key,w)}),_)))});var c}Ln(e,t){let r=new rr(WD(e));return t.forEach((o,c)=>{_y(e,c)&&(r=r.add(c))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Mn(e,t){return a1()<=Ut.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",zD(t)),this.On.getDocumentsMatchingQuery(e,t,It.min())}}class C2{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new ni(Gt),this.Kn=new wi(c=>wg(c),dy),this.jn=It.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new CO(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function DO(n,e,t,r){return new C2(n,e,t,r)}function TO(n,e){return fM.apply(this,arguments)}function fM(){return(fM=(0,pe.Z)(function*(n,e){const t=Fe(n);let r=t.An,o=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let _;return t.An.getAllMutationBatches(h).next(w=>(_=w,r=t.persistence.getMutationQueue(e),o=new CO(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(w=>{const T=[],N=[];let x=hn();for(const V of _){T.push(V.batchId);for(const H of V.mutations)x=x.add(H.key)}for(const V of w){N.push(V.batchId);for(const H of V.mutations)x=x.add(H.key)}return o.vn(h,x).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:N}))})});return t.An=r,t.Wn=o,t.Un.Fn(t.Wn),c})).apply(this,arguments)}function E2(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,_,w,T){const N=w.batch,x=N.keys();let V=Ee.resolve();return x.forEach(H=>{V=V.next(()=>T.getEntry(_,H)).next(ee=>{const ge=w.docVersions.get(H);ct(null!==ge),ee.version.compareTo(ge)<0&&(N.applyToRemoteDocument(ee,w),ee.isValidDocument()&&T.addEntry(ee,w.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(_,N))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function IO(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function D2(n,e){const t=Fe(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const _=[];e.targetChanges.forEach((T,N)=>{const x=o.get(N);if(!x)return;_.push(t.He.removeMatchingKeys(c,T.removedDocuments,N).next(()=>t.He.addMatchingKeys(c,T.addedDocuments,N)));const V=T.resumeToken;if(V.approximateByteSize()>0){const H=x.withResumeToken(V,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(N,H),ee=x,Ie=T,ct((ge=H).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||ge.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&_.push(t.He.updateTargetData(c,H))}var ee,ge,Ie});let w=ir();if(e.documentUpdates.forEach((T,N)=>{e.resolvedLimboDocuments.has(T)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),_.push(AO(c,h,e.documentUpdates,r,void 0).next(T=>{w=T})),!r.isEqual(It.min())){const T=t.He.getLastRemoteSnapshotVersion(c).next(N=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(T)}return Ee.waitFor(_).next(()=>h.apply(c)).next(()=>t.Wn.Vn(c,w)).next(()=>w)}).then(c=>(t.qn=o,c))}function AO(n,e,t,r,o){let c=hn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let _=ir();return t.forEach((w,T)=>{const N=h.get(w),x=(null==o?void 0:o.get(w))||r;T.isNoDocument()&&T.version.isEqual(It.min())?(e.removeEntry(w,x),_=_.insert(w,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(T,x),_=_.insert(w,T)):ke("LocalStore","Ignoring outdated watch update for ",w,". Current version:",N.version," Watch version:",T.version)}),_})}function T2(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Fy(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(c=>c?(o=c,Ee.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new La(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Ly(n,e,t){return pM.apply(this,arguments)}function pM(){return(pM=(0,pe.Z)(function*(n,e,t){const r=Fe(n),o=r.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ic(h))throw h;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function IT(n,e,t){const r=Fe(n);let o=It.min(),c=hn();return r.persistence.runTransaction("Execute query","readonly",h=>function(_,w,T){const N=Fe(_),x=N.Kn.get(T);return void 0!==x?Ee.resolve(N.qn.get(x)):N.He.getTargetData(w,T)}(r,h,ho(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,_.targetId).next(w=>{c=w})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:It.min(),t?c:hn())).next(_=>({documents:_,zn:c})))}function SO(n,e){const t=Fe(n),r=Fe(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Et(c,e).next(h=>h?h.target:null))}function NO(n){const e=Fe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const h=Fe(r);let _=ir(),w=wT(c);const T=Va(o),N=IDBKeyRange.lowerBound(w,!0);return T.jt({index:sr.readTimeIndex,range:N},(x,V)=>{const H=M1(h.k,V);_=_.insert(H.key,H),w=V.readTime}).next(()=>({In:_,readTime:aM(w)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function gM(){return(gM=(0,pe.Z)(function*(n){const e=Fe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Va(r);let c=It.min();return o.jt({index:sr.readTimeIndex,reverse:!0},(h,_,w)=>{_.readTime&&(c=aM(_.readTime)),w.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function mM(){return(mM=(0,pe.Z)(function*(n,e,t,r){const o=Fe(n);let c=hn(),h=ir(),_=sT();for(const N of t){const x=e.Hn(N.metadata.name);N.document&&(c=c.add(x)),h=h.insert(x,e.Jn(N)),_=_.insert(x,e.Yn(N.metadata.readTime))}const w=o.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Fy(o,(N=r,ho(Ef(cn.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>AO(N,w,h,It.min(),_).next(x=>(w.apply(N),x)).next(x=>o.He.removeMatchingKeysForTargetId(N,T.targetId).next(()=>o.He.addMatchingKeys(N,c,T.targetId)).next(()=>o.Wn.Vn(N,x)).next(()=>x)))})).apply(this,arguments)}function S2(n,e){return _M.apply(this,arguments)}function _M(){return(_M=(0,pe.Z)(function*(n,e,t=hn()){const r=yield Fy(n,ho(CT(e.bundledQuery))),o=Fe(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=gn(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(c,e);const _=r.withResumeToken(ei.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(_.targetId,_),o.He.updateTargetData(c,_).next(()=>o.He.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.He.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(c,e))})})).apply(this,arguments)}class N2{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:gn(r.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:CT(r.bundledQuery),readTime:gn(r.readTime)}),Ee.resolve();var r}}class yM{constructor(){this.ts=new rr(Li.es),this.ns=new rr(Li.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Li(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Li(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new We(new cn([])),r=new Li(t,e),o=new Li(t,e+1),c=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),c.push(h.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new We(new cn([])),r=new Li(t,e),o=new Li(t,e+1);let c=hn();return this.ns.forEachInRange([r,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Li(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return We.comparator(e.key,t.key)||Gt(e.fs,t.fs)}static ss(e,t){return Gt(e.fs,t.fs)||We.comparator(e.key,t.key)}}class M2{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new rr(Li.es)}checkEmpty(e){return Ee.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const c=this.ds;this.ds++;const h=new ky(c,t,r,o);this.An.push(h);for(const _ of o)this.ws=this.ws.add(new Li(_.key,c)),this.Jt.addToCollectionParentIndex(e,_.key.path.popLast());return Ee.resolve(h)}lookupMutationBatch(e,t){return Ee.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),c=o<0?0:o;return Ee.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ee.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),o=new Li(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([r,o],h=>{const _=this._s(h.fs);c.push(_)}),Ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Gt);return t.forEach(o=>{const c=new Li(o,0),h=new Li(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,h],_=>{r=r.add(_.fs)})}),Ee.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;We.isDocumentKey(c)||(c=c.child(""));const h=new Li(new We(c),0);let _=new rr(Gt);return this.ws.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(_=_.add(w.fs)),!0)},h),Ee.resolve(this.ys(_))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ct(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ee.forEach(t.mutations,o=>{const c=new Li(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Li(t,0),o=this.ws.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ee.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class x2{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ni(We.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),h=c?c.size:0,_=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:_,readTime:r}),this.size+=_-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.clone():Wt.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Wt.newInvalidDocument(o))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=ir();const c=new We(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:_,value:{document:w,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(_.path))break;T.compareTo(r)<=0||_y(t,w)&&(o=o.insert(w.key,w.clone()))}return Ee.resolve(o)}Es(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R2(this)}getSize(e){return Ee.resolve(this.size)}}class R2 extends Rf{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class k2{constructor(e){this.persistence=e,this.Is=new wi(t=>wg(t),dy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.As=0,this.Rs=new yM,this.targetCount=0,this.Ps=S.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ee.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new S(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.ce(t),Ee.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Is.forEach((h,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Is.delete(h),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),Ee.waitFor(c).next(()=>o)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Ee.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this.Rs.containsKey(t))}}class O2{constructor(e,t){this.bs={},this.Be=new ps(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new k2(this),this.Jt=new bO,this.Je=new x2(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new bT(t),this.Ye=new N2(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new M2(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new P2(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(c=>this.referenceDelegate.Ss(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ds(e,t){return Ee.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class P2 extends kd{constructor(e){super(),this.currentSequenceNumber=e}}class vM{constructor(e){this.persistence=e,this.Cs=new yM,this.Ns=null}static ks(e){return new vM(e)}get xs(){if(this.Ns)return this.Ns;throw Xe()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.xs,r=>{const o=We.fromPath(r);return this.$s(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ee.or([()=>Ee.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function MO(n,e){return`firestore_clients_${n}_${e}`}function xO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bM(n,e){return`firestore_targets_${n}_${e}`}class AT{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Fs(e,t,r){const o=JSON.parse(r);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Te(o.error.code,o.error.message))),h?new AT(e,t,o.state,c):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class k1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Te(r.error.code,r.error.message))),c?new k1(e,r.state,o):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ST{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Dy();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=gs(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return o?new ST(e,c):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wM{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wM(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class CM{constructor(){this.activeTargetIds=Dy()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EM{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ni(Gt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=MO(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new CM),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const c=e.getItem(MO(e.persistenceKey,o));if(c){const h=ST.Fs(o,c);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bM(this.persistenceKey,e));if(r){const o=k1.Fs(e,r);o&&(t=o.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bM(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(c){let h=ps.I;if(null!=c)try{const _=JSON.parse(c);ct("number"==typeof _),h=_}catch(_){Br("SharedClientState","Failed to read sequence number from WebStorage",_)}return h}(r.newValue);o!==ps.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const o=new AT(this.currentUser,e,t,r),c=xO(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}si(e){const t=xO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=bM(this.persistenceKey,e),c=new k1(e,t,r);this.setItem(o,c.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return ST.Fs(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return AT.Fs(new Oi(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return k1.Fs(o,t)}Zs(e){return wM.Fs(e)}fi(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),c=this.ei(r),h=[],_=[];return c.forEach(w=>{o.has(w)||h.push(w)}),o.forEach(w=>{c.has(w)||_.push(w)}),this.syncEngine.yi(h,_).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Dy();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class RO{constructor(){this.pi=new CM,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new CM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class F2{Ei(e){}shutdown(){}}class kO{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const L2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class V2{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class U2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,c){const h=this.Ui(e,t);ke("RestConnection","Sending: ",h,r);const _={};return this.qi(_,o,c),this.Ki(e,h,_,r).then(w=>(ke("RestConnection","Received: ",w),w),w=>{throw sy("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",r),w})}ji(e,t,r,o,c){return this.Bi(e,t,r,o,c)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}Ui(e,t){return`${this.Mi}/v1/${t}:${L2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((c,h)=>{const _=new SN;_.listenOnce(sO.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case AD.NO_ERROR:const T=_.getResponseJson();ke("Connection","XHR received:",JSON.stringify(T)),c(T);break;case AD.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),h(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case AD.HTTP_ERROR:const N=_.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const x=_.getResponseJson().error;if(x&&x.status&&x.message){const V=function(H){const ee=H.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ee)>=0?ee:he.UNKNOWN}(x.status);h(new Te(V,x.message))}else h(new Te(he.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);_.send(t,"POST",w,r,15)})}Qi(e,t,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rO(),h=iO(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new aO({})),this.qi(_.initMessageHeaders,t,r),(0,st.uI)()||(0,st.b$)()||(0,st.d)()||(0,st.w1)()||(0,st.Mn)()||(0,st.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const w=o.join("");ke("Connection","Creating WebChannel: "+w,_);const T=c.createWebChannel(w,_);let N=!1,x=!1;const V=new V2({Vi:ee=>{x?ke("Connection","Not sending because WebChannel is closed:",ee):(N||(ke("Connection","Opening WebChannel transport."),T.open(),N=!0),ke("Connection","WebChannel sending:",ee),T.send(ee))},Si:()=>T.close()}),H=(ee,ge,Ie)=>{ee.listen(ge,Je=>{try{Ie(Je)}catch(ze){setTimeout(()=>{throw ze},0)}})};return H(T,iy.EventType.OPEN,()=>{x||ke("Connection","WebChannel transport opened.")}),H(T,iy.EventType.CLOSE,()=>{x||(x=!0,ke("Connection","WebChannel transport closed"),V.Fi())}),H(T,iy.EventType.ERROR,ee=>{x||(x=!0,sy("Connection","WebChannel transport errored:",ee),V.Fi(new Te(he.UNAVAILABLE,"The operation could not be completed")))}),H(T,iy.EventType.MESSAGE,ee=>{var ge;if(!x){const Ie=ee.data[0];ct(!!Ie);const Je=Ie,ze=Je.error||(null===(ge=Je[0])||void 0===ge?void 0:ge.error);if(ze){ke("Connection","WebChannel received error:",ze);const Dt=ze.status;let nt=function(Hr){const qu=Er[Hr];if(void 0!==qu)return GN(qu)}(Dt),Xt=ze.message;void 0===nt&&(nt=he.INTERNAL,Xt="Unknown error status: "+Dt+" with message "+ze.message),x=!0,V.Fi(new Te(nt,Xt)),T.close()}else ke("Connection","WebChannel received:",Ie),V.Oi(Ie)}}),H(h,oO.STAT_EVENT,ee=>{ee.stat===AN.PROXY?ke("Connection","Detected buffering proxy"):ee.stat===AN.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function OO(){return"undefined"!=typeof window?window:null}function NT(){return"undefined"!=typeof document?document:null}function O1(n){return new yO(n,!0)}class DM{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class PO{constructor(e,t,r,o,c,h,_,w){this.Oe=e,this.nr=r,this.sr=o,this.ir=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=w,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new DM(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,pe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,pe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,pe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends PO{constructor(e,t,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Xe(),o=e.targetChange.targetIds||[],c=function(w,T){return w.C?(ct(void 0===T||"string"==typeof T),ei.fromBase64String(T||"")):(ct(void 0===T||T instanceof Uint8Array),ei.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(w){const T=void 0===w.code?he.UNKNOWN:GN(w.code);return new Te(T,w.message||"")}(h);t=new YN(r,o,c,_||null)}else if("documentChange"in e){const r=e.documentChange,o=qo(n,r.document.name),c=gn(r.document.updateTime),h=new ti({mapValue:{fields:r.document.fields}}),_=Wt.newFoundDocument(o,c,h);t=new E1(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=qo(n,r.document),c=r.readTime?gn(r.readTime):It.min(),h=Wt.newNoDocument(o,c);t=new E1([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=qo(n,r.document);t=new E1([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,c=new gO(r.count||0);t=new oT(r.targetId,c)}}var w;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return It.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?gn(c.readTime):It.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=xd(this.k),t.addTarget=function(o,c){let h;const _=c.target;return h=hy(_)?{documents:I1(o,_)}:{query:hT(o,_)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=uT(o,c.resumeToken):c.snapshotVersion.compareTo(It.min())>0&&(h.readTime=Ag(o,c.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=xd(this.k),t.removeTarget=e,this.gr(t)}}class j2 extends PO{constructor(e,t,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(r,o){let c=gn(r.updateTime?r.updateTime:o);return c.isEqual(It.min())&&(c=gn(o)),new JD(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.Cr(r,t)}return ct(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=xd(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mg(this.k,r))};this.gr(t)}}class $2 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.Bi(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(he.UNKNOWN,o.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.ji(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(he.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class H2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Br(t),this.Lr=!1):ke("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class G2{constructor(e,t,r,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(_=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Ff(h)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(T){const N=Fe(T);N.Gr.add(4),yield Vy(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield P1(N)}),function(T){return w.apply(this,arguments)})(h))}))}),this.Jr=new H2(r,o)}}function P1(n){return TM.apply(this,arguments)}function TM(){return(TM=(0,pe.Z)(function*(n){if(Ff(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function Vy(n){return IM.apply(this,arguments)}function IM(){return(IM=(0,pe.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function MT(n,e){const t=Fe(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),NM(t)?SM(t):By(t).lr()&&AM(t,e))}function F1(n,e){const t=Fe(n),r=By(t);t.Wr.delete(e),r.lr()&&FO(t,e),0===t.Wr.size&&(r.lr()?r._r():Ff(t)&&t.Jr.set("Unknown"))}function AM(n,e){n.Yr.X(e.targetId),By(n).br(e)}function FO(n,e){n.Yr.X(e),By(n).vr(e)}function SM(n){n.Yr=new _O({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),By(n).start(),n.Jr.Br()}function NM(n){return Ff(n)&&!By(n).hr()&&n.Wr.size>0}function Ff(n){return 0===Fe(n).Gr.size}function LO(n){n.Yr=void 0}function q2(n){return MM.apply(this,arguments)}function MM(){return(MM=(0,pe.Z)(function*(n){n.Wr.forEach((e,t)=>{AM(n,e)})})).apply(this,arguments)}function Z2(n,e){return xM.apply(this,arguments)}function xM(){return(xM=(0,pe.Z)(function*(n,e){LO(n),NM(n)?(n.Jr.Kr(e),SM(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function z2(n,e,t){return RM.apply(this,arguments)}function RM(){return(RM=(0,pe.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof YN&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(o,c){const h=c.cause;for(const _ of c.targetIds)o.Wr.has(_)&&(yield o.remoteSyncer.rejectListen(_,h),o.Wr.delete(_),o.Yr.removeTarget(_))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xT(n,r)}else if(e instanceof E1?n.Yr.ot(e):e instanceof oT?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(It.min()))try{const r=yield IO(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const h=o.Yr.gt(c);return h.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const T=o.Wr.get(w);T&&o.Wr.set(w,T.withResumeToken(_.resumeToken,c))}}),h.targetMismatches.forEach(_=>{const w=o.Wr.get(_);if(!w)return;o.Wr.set(_,w.withResumeToken(ei.EMPTY_BYTE_STRING,w.snapshotVersion)),FO(o,_);const T=new La(w.target,_,1,w.sequenceNumber);AM(o,T)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield xT(n,r)}var r})).apply(this,arguments)}function xT(n,e,t){return kM.apply(this,arguments)}function kM(){return(kM=(0,pe.Z)(function*(n,e,t){if(!ic(e))throw e;n.Gr.add(1),yield Vy(n),n.Jr.set("Offline"),t||(t=()=>IO(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield P1(n)}))})).apply(this,arguments)}function VO(n,e){return e().catch(t=>xT(n,t,e))}function Uy(n){return OM.apply(this,arguments)}function OM(){return(OM=(0,pe.Z)(function*(n){const e=Fe(n),t=Lf(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;W2(e);)try{const o=yield T2(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,Y2(e,o)}catch(o){yield xT(e,o)}UO(e)&&BO(e)})).apply(this,arguments)}function W2(n){return Ff(n)&&n.Qr.length<10}function Y2(n,e){n.Qr.push(e);const t=Lf(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function UO(n){return Ff(n)&&!Lf(n).hr()&&n.Qr.length>0}function BO(n){Lf(n).start()}function K2(n){return PM.apply(this,arguments)}function PM(){return(PM=(0,pe.Z)(function*(n){Lf(n).kr()})).apply(this,arguments)}function J2(n){return FM.apply(this,arguments)}function FM(){return(FM=(0,pe.Z)(function*(n){const e=Lf(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function Q2(n,e,t){return LM.apply(this,arguments)}function LM(){return(LM=(0,pe.Z)(function*(n,e,t){const r=n.Qr.shift(),o=$u.from(r,e,t);yield VO(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Uy(n)})).apply(this,arguments)}function X2(n,e){return VM.apply(this,arguments)}function VM(){return(VM=(0,pe.Z)(function*(n,e){var t;e&&Lf(n).Sr&&(yield(t=(0,pe.Z)(function*(r,o){if(rT(c=o.code)&&c!==he.ABORTED){const h=r.Qr.shift();Lf(r).wr(),yield VO(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Uy(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),UO(n)&&BO(n)})).apply(this,arguments)}function UM(n,e){return BM.apply(this,arguments)}function BM(){return(BM=(0,pe.Z)(function*(n,e){const t=Fe(n);e?(t.Gr.delete(2),yield P1(t)):e||(t.Gr.add(2),yield Vy(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function By(n){return n.Xr||(n.Xr=function(e,t,r){const o=Fe(e);return o.Fr(),new B2(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:q2.bind(null,n),Ni:Z2.bind(null,n),Pr:z2.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Xr.wr(),NM(n)?SM(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),LO(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Lf(n){return n.Zr||(n.Zr=function(e,t,r){const o=Fe(e);return o.Fr(),new j2(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:K2.bind(null,n),Ni:X2.bind(null,n),Nr:J2.bind(null,n),Cr:Q2.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Zr.wr(),yield Uy(n)):(yield n.Zr.stop(),n.Qr.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class jM{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,c){const h=Date.now()+r,_=new jM(e,t,h,o,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(n,e){if(Br("AsyncQueue",`${e}: ${n}`),ic(n))return new Te(he.UNAVAILABLE,`${e}: ${n}`);throw n}class $y{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=C1(),this.sortedSet=new ni(this.comparator)}static emptySet(e){return new $y(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $y)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $y;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jO{constructor(){this.eo=new ni(We.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Xe():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hy{constructor(e,t,r,o,c,h,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Hy(e,t,$y.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class eL{constructor(){this.so=void 0,this.listeners=[]}}class tL{constructor(){this.queries=new wi(e=>m1(e),Cg),this.onlineState="Unknown",this.io=new Set}}function $M(n,e){return HM.apply(this,arguments)}function HM(){return(HM=(0,pe.Z)(function*(n,e){const t=Fe(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new eL),o)try{c.so=yield t.onListen(r)}catch(h){const _=jy(h,`Initialization of query '${zD(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&ZM(t)})).apply(this,arguments)}function GM(n,e){return qM.apply(this,arguments)}function qM(){return(qM=(0,pe.Z)(function*(n,e){const t=Fe(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function nL(n,e){const t=Fe(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const _ of h.listeners)_.oo(o)&&(r=!0);h.so=o}}r&&ZM(t)}function rL(n,e,t){const r=Fe(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function ZM(n){n.io.forEach(e=>{e.next()})}class zM{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Hy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Hy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class iL{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class $O{constructor(e){this.k=e}Hn(e){return qo(this.k,e)}Jn(e){return e.metadata.exists?Ng(this.k,e.document,!1):Wt.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return gn(e)}}class sL{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=HO(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new $O(this.k);for(const o of e)if(o.metadata.queries){const c=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const _=(t.get(h)||hn()).add(c);t.set(h,_)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function(n,e,t,r){return mM.apply(this,arguments)}(e.localStore,new $O(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield S2(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new w2(Object.assign({},e.progress),t)})()}}function HO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GO{constructor(e){this.key=e}}class qO{constructor(e){this.key=e}}class ZO{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=hn(),this.mutatedKeys=hn(),this.Ao=WD(e),this.Ro=new $y(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new jO,o=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const w=p1(this.query)&&o.size===this.query.limit?o.last():null,T=g1(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,x)=>{const V=o.get(N),H=_y(this.query,x)?x:null,ee=!!V&&this.mutatedKeys.has(V.key),ge=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ie=!1;V&&H?V.data.isEqual(H.data)?ee!==ge&&(r.track({type:3,doc:H}),Ie=!0):this.Vo(V,H)||(r.track({type:2,doc:H}),Ie=!0,(w&&this.Ao(H,w)>0||T&&this.Ao(H,T)<0)&&(_=!0)):!V&&H?(r.track({type:0,doc:H}),Ie=!0):V&&!H&&(r.track({type:1,doc:V}),Ie=!0,(w||T)&&(_=!0)),Ie&&(H?(h=h.add(H),c=ge?c.add(N):c.delete(N)):(h=h.delete(N),c=c.delete(N)))}),p1(this.query)||g1(this.query))for(;h.size>this.query.limit;){const N=p1(this.query)?h.last():h.first();h=h.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:_,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((T,N)=>function(x,V){const H=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return H(x)-H(V)}(T.type,N.type)||this.Ao(T.doc,N.doc)),this.So(r);const h=t?this.Do():[],_=0===this.Io.size&&this.current?1:0,w=_!==this.Eo;return this.Eo=_,0!==c.length||w?{snapshot:new Hy(this.query,e.Ro,o,c,e.mutatedKeys,0===_,w,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new jO,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=hn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new qO(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new GO(r))}),t}ko(e){this.To=e.zn,this.Io=hn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Hy.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class oL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aL{constructor(e){this.key=e,this.$o=!1}}class uL{constructor(e,t,r,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new wi(_=>m1(_),Cg),this.Mo=new Map,this.Lo=new Set,this.Bo=new ni(We.comparator),this.Uo=new Map,this.qo=new yM,this.Ko={},this.jo=new Map,this.Qo=S.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function lL(n,e){return WM.apply(this,arguments)}function WM(){return(WM=(0,pe.Z)(function*(n,e){const t=_x(n);let r,o;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.xo();else{const h=yield Fy(t.localStore,ho(e)),_=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield YM(t,e,r,"current"===_),t.isPrimaryClient&&MT(t.remoteStore,h)}return o})).apply(this,arguments)}function YM(n,e,t,r){return KM.apply(this,arguments)}function KM(){return(KM=(0,pe.Z)(function*(n,e,t,r){n.Go=(N,x,V)=>{return(H=(0,pe.Z)(function*(ee,ge,Ie,Je){let ze=ge.view.bo(Ie);ze.Bn&&(ze=yield IT(ee.localStore,ge.query,!1).then(({documents:Xt})=>ge.view.bo(Xt,ze)));const Dt=Je&&Je.targetChanges.get(ge.targetId),nt=ge.view.applyChanges(ze,ee.isPrimaryClient,Dt);return ox(ee,ge.targetId,nt.Co),nt.snapshot}),function(ee,ge,Ie,Je){return H.apply(this,arguments)})(n,N,x,V);var H};const o=yield IT(n.localStore,e,!0),c=new ZO(e,o.zn),h=c.bo(o.documents),_=If.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=c.applyChanges(h,n.isPrimaryClient,_);ox(n,t,w.Co);const T=new oL(e,t,c);return n.Oo.set(e,T),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),w.snapshot})).apply(this,arguments)}function cL(n,e){return JM.apply(this,arguments)}function JM(){return(JM=(0,pe.Z)(function*(n,e){const t=Fe(n),r=t.Oo.get(e),o=t.Mo.get(r.targetId);if(o.length>1)return t.Mo.set(r.targetId,o.filter(c=>!Cg(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ly(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),F1(t.remoteStore,r.targetId),Gy(t,r.targetId)}).catch(ue))):(Gy(t,r.targetId),yield Ly(t.localStore,r.targetId,!0))})).apply(this,arguments)}function QM(){return(QM=(0,pe.Z)(function*(n,e,t){const r=yx(n);try{const o=yield function(c,h){const _=Fe(c),w=gr.now(),T=h.reduce((x,V)=>x.add(V.key),hn());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",x=>_.Wn.vn(x,T).next(V=>{N=V;const H=[];for(const ee of h){const ge=wy(ee,N.get(ee.key));null!=ge&&H.push(new Md(ee.key,ge,VD(ge.value.mapValue),Bt.exists(!0)))}return _.An.addMutationBatch(x,w,H,h)})).then(x=>(x.applyToLocalDocumentSet(N),{batchId:x.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,h,_){let w=c.Ko[c.currentUser.toKey()];w||(w=new ni(Gt)),w=w.insert(h,_),c.Ko[c.currentUser.toKey()]=w}(r,o.batchId,t),yield Pd(r,o.changes),yield Uy(r.remoteStore)}catch(o){const c=jy(o,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function zO(n,e){return XM.apply(this,arguments)}function XM(){return(XM=(0,pe.Z)(function*(n,e){const t=Fe(n);try{const r=yield D2(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Uo.get(c);h&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?ct(h.$o):o.removedDocuments.size>0&&(ct(h.$o),h.$o=!1))}),yield Pd(t,r,e)}catch(r){yield ue(r)}})).apply(this,arguments)}function WO(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((c,h)=>{const _=h.view.ro(e);_.snapshot&&o.push(_.snapshot)}),function(c,h){const _=Fe(c);_.onlineState=h;let w=!1;_.queries.forEach((T,N)=>{for(const x of N.listeners)x.ro(h)&&(w=!0)}),w&&ZM(_)}(r.eventManager,e),o.length&&r.Fo.Pr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hL(n,e,t){return ex.apply(this,arguments)}function ex(){return(ex=(0,pe.Z)(function*(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),c=o&&o.key;if(c){let h=new ni(We.comparator);h=h.insert(c,Wt.newNoDocument(c,It.min()));const _=hn().add(c),w=new Lu(It.min(),new Map,new rr(Gt),h,_);yield zO(r,w),r.Bo=r.Bo.remove(c),r.Uo.delete(e),ax(r)}else yield Ly(r.localStore,e,!1).then(()=>Gy(r,e,t)).catch(ue)})).apply(this,arguments)}function fL(n,e){return tx.apply(this,arguments)}function tx(){return(tx=(0,pe.Z)(function*(n,e){const t=Fe(n),r=e.batch.batchId;try{const o=yield E2(t.localStore,e);sx(t,r,null),ix(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pd(t,o)}catch(o){yield ue(o)}})).apply(this,arguments)}function pL(n,e,t){return nx.apply(this,arguments)}function nx(){return(nx=(0,pe.Z)(function*(n,e,t){const r=Fe(n);try{const o=yield function(c,h){const _=Fe(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return _.An.lookupMutationBatch(w,h).next(N=>(ct(null!==N),T=N.keys(),_.An.removeMutationBatch(w,N))).next(()=>_.An.performConsistencyCheck(w)).next(()=>_.Wn.vn(w,T))})}(r.localStore,e);sx(r,e,t),ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pd(r,o)}catch(o){yield ue(o)}})).apply(this,arguments)}function rx(){return(rx=(0,pe.Z)(function*(n,e){const t=Fe(n);Ff(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=Fe(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>h.An.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=jy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function ix(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function sx(n,e,t){const r=Fe(n);let o=r.Ko[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||YO(n,r)})}function YO(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(F1(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),ax(n))}function ox(n,e,t){for(const r of t)r instanceof GO?(n.qo.addReference(r.key,e),mL(n,r)):r instanceof qO?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||YO(n,r.key)):Xe()}function mL(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.Lo.add(r),ax(n))}function ax(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new We(cn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new aL(t)),n.Bo=n.Bo.insert(t,r),MT(n.remoteStore,new La(ho(Ef(t.path)),r,2,ps.I))}}function Pd(n,e,t){return ux.apply(this,arguments)}function ux(){return(ux=(0,pe.Z)(function*(n,e,t){const r=Fe(n),o=[],c=[],h=[];var _;r.Oo.isEmpty()||(r.Oo.forEach((_,w)=>{h.push(r.Go(w,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T.fromCache?"not-current":"current"),o.push(T);const N=hM.$n(w.targetId,T);c.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(o),yield(_=(0,pe.Z)(function*(w,T){const N=Fe(w);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ee.forEach(T,V=>Ee.forEach(V.kn,H=>N.persistence.referenceDelegate.addReference(x,V.targetId,H)).next(()=>Ee.forEach(V.xn,H=>N.persistence.referenceDelegate.removeReference(x,V.targetId,H)))))}catch(x){if(!ic(x))throw x;ke("LocalStore","Failed to update sequence numbers: "+x)}for(const x of T){const V=x.targetId;if(!x.fromCache){const H=N.qn.get(V),ge=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.qn=N.qn.insert(V,ge)}}}),function(w,T){return _.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function _L(n,e){return lx.apply(this,arguments)}function lx(){return(lx=(0,pe.Z)(function*(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield TO(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(_=>{_.reject(new Te(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pd(t,r.Gn)}var o})).apply(this,arguments)}function yL(n,e){const t=Fe(n),r=t.Uo.get(e);if(r&&r.$o)return hn().add(r.key);{let o=hn();const c=t.Mo.get(e);if(!c)return o;for(const h of c){const _=t.Oo.get(h);o=o.unionWith(_.view.Po)}return o}}function vL(n,e){return cx.apply(this,arguments)}function cx(){return(cx=(0,pe.Z)(function*(n,e){const t=Fe(n),r=yield IT(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&ox(t,e.targetId,o.Co),o})).apply(this,arguments)}function bL(n){return dx.apply(this,arguments)}function dx(){return(dx=(0,pe.Z)(function*(n){const e=Fe(n);return NO(e.localStore).then(t=>Pd(e,t))})).apply(this,arguments)}function wL(n,e,t,r){return hx.apply(this,arguments)}function hx(){return(hx=(0,pe.Z)(function*(n,e,t,r){const o=Fe(n),c=yield function(h,_){const w=Fe(h),T=Fe(w.An);return w.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Zt(N,_).next(x=>x?w.Wn.vn(N,x):Ee.resolve(null)))}(o.localStore,e);var _;null!==c?("pending"===t?yield Uy(o.remoteStore):"acknowledged"===t||"rejected"===t?(sx(o,e,r||null),ix(o,e),_=e,Fe(Fe(o.localStore).An).ee(_)):Xe(),yield Pd(o,c)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function fx(){return(fx=(0,pe.Z)(function*(n,e){const t=Fe(n);if(_x(t),yx(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield KO(t,r.toArray());t.Wo=!0,yield UM(t.remoteStore,!0);for(const c of o)MT(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Mo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Gy(t,h),Ly(t.localStore,h,!0))),F1(t.remoteStore,h)}),yield o,yield KO(t,r),function(c){const h=Fe(c);h.Uo.forEach((_,w)=>{F1(h.remoteStore,w)}),h.qo.hs(),h.Uo=new Map,h.Bo=new ni(We.comparator)}(t),t.Wo=!1,yield UM(t.remoteStore,!1)}})).apply(this,arguments)}function KO(n,e,t){return px.apply(this,arguments)}function px(){return(px=(0,pe.Z)(function*(n,e,t){const r=Fe(n),o=[],c=[];for(const h of e){let _;const w=r.Mo.get(h);if(w&&0!==w.length){_=yield Fy(r.localStore,ho(w[0]));for(const T of w){const N=r.Oo.get(T),x=yield vL(r,N);x.snapshot&&c.push(x.snapshot)}}else{const T=yield SO(r.localStore,h);_=yield Fy(r.localStore,T),yield YM(r,JO(T),h,!1)}o.push(_)}return r.Fo.Pr(c),o})).apply(this,arguments)}function JO(n){return GD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EL(n){const e=Fe(n);return Fe(Fe(e.localStore).persistence).Tn()}function DL(n,e,t,r){return gx.apply(this,arguments)}function gx(){return(gx=(0,pe.Z)(function*(n,e,t,r){const o=Fe(n);if(o.Wo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(e))switch(t){case"current":case"not-current":{const c=yield NO(o.localStore),h=Lu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Pd(o,c,h);break}case"rejected":yield Ly(o.localStore,e,!0),Gy(o,e,r);break;default:Xe()}})).apply(this,arguments)}function TL(n,e,t){return mx.apply(this,arguments)}function mx(){return(mx=(0,pe.Z)(function*(n,e,t){const r=_x(n);if(r.Wo){for(const o of e){if(r.Mo.has(o)){ke("SyncEngine","Adding an already active target "+o);continue}const c=yield SO(r.localStore,o),h=yield Fy(r.localStore,c);yield YM(r,JO(c),h.targetId,!1),MT(r.remoteStore,h)}for(const o of t)r.Mo.has(o)&&(yield Ly(r.localStore,o,!1).then(()=>{F1(r.remoteStore,o),Gy(r,o)}).catch(ue))}})).apply(this,arguments)}function _x(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hL.bind(null,e),e.Fo.Pr=nL.bind(null,e.eventManager),e.Fo.zo=rL.bind(null,e.eventManager),e}function yx(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pL.bind(null,e),e}class QO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.k=O1(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return DO(this.persistence,new EO,e.initialUser,this.k)}Yo(e){return new O2(vM.ks,this.k)}Jo(e){return new RO}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XO extends QO{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield function(n){return gM.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield yx(r.ta.syncEngine),yield Uy(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return DO(this.persistence,new EO,e.initialUser,this.k)}Xo(e){return new Ke(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=dM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?a.withCacheSize(this.cacheSizeBytes):a.DEFAULT;return new cM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OO(),NT(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new RO}}class AL extends XO{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const o=r.ta.syncEngine;r.sharedClientState instanceof EM&&(r.sharedClientState.syncEngine={mi:wL.bind(null,o),gi:DL.bind(null,o),yi:TL.bind(null,o),Tn:EL.bind(null,o),_i:bL.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var c=(0,pe.Z)(function*(h){yield function(n,e){return fx.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Jo(e){const t=OO();if(!EM.bt(t))throw new Te(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new EM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vx{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>WO(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,r.syncEngine),yield UM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tL}createDatastore(e){const t=O1(e.databaseInfo.databaseId),r=new U2(e.databaseInfo);return new $2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=_=>WO(this.syncEngine,_,0),h=kO.bt()?new kO:new F2,new G2(t,r,o,c,h);var t,r,o,c,h}createSyncEngine(e,t){return function(r,o,c,h,_,w,T){const N=new uL(r,o,c,h,_,w);return T&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Fe(t);ke("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Vy(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eP(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SL{constructor(e,t){this.sa=e,this.k=t,this.metadata=new jr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,pe.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),o=Number(r);isNaN(o)&&e.aa(`length string (${r}) is not valid number`);const c=yield e.ca(o);return new iL(JSON.parse(c),t.length+o)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,pe.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,pe.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class NL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,pe.Z)(function*(c,h){const _=Fe(c),w=xd(_.k)+"/documents",T={documents:h.map(H=>Sg(_.k,H))},N=yield _.ji("BatchGetDocuments",w,T),x=new Map;N.forEach(H=>{const ee=function(n,e){return"found"in e?function(t,r){ct(!!r.found);const o=qo(t,r.found.name),c=gn(r.found.updateTime),h=new ti({mapValue:{fields:r.found.fields}});return Wt.newFoundDocument(o,c,h)}(n,e):"missing"in e?function(t,r){ct(!!r.missing),ct(!!r.readTime);const o=qo(t,r.missing),c=gn(r.readTime);return Wt.newNoDocument(o,c)}(n,e):Xe()}(_.k,H);x.set(ee.key.toString(),ee)});const V=[];return h.forEach(H=>{const ee=x.get(H.toString());ct(!!ee),V.push(ee)}),V}),function(c,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ig(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=We.fromPath(o);e.mutations.push(new w1(c,e.precondition(c)))}),yield(r=(0,pe.Z)(function*(o,c){const h=Fe(o),_=xd(h.k)+"/documents",w={writes:c.map(T=>Mg(h.k,T))};yield h.Bi("Commit",_,w)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bt.updateTime(t):Bt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Te(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bt.updateTime(t)}return Bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ML{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new DM(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,pe.Z)(function*(){const t=new NL(e.datastore),r=e.da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.wa(c)}))}).catch(o=>{e.wa(o)})}))}da(e){try{const t=this.updateFunction(e);return!Pu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rT(t)}return!1}}class xL{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Oi.UNAUTHENTICATED,this.clientId=RN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,pe.Z)(function*(_){ke("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=jy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tP(n,e){return bx.apply(this,arguments)}function bx(){return(bx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,pe.Z)(function*(c){r.isEqual(c)||(yield TO(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function nP(n,e){return wx.apply(this,arguments)}function wx(){return(wx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Cx(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,pe.Z)(function*(h,_){const w=Fe(h);w.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const T=Ff(w);w.Gr.add(3),yield Vy(w),T&&w.Jr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(_),w.Gr.delete(3),yield P1(w)}),function(h,_){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e})).apply(this,arguments)}function Cx(n){return Ex.apply(this,arguments)}function Ex(){return(Ex=(0,pe.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield tP(n,new QO)),n.offlineComponents})).apply(this,arguments)}function kT(n){return Dx.apply(this,arguments)}function Dx(){return(Dx=(0,pe.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield nP(n,new vx)),n.onlineComponents})).apply(this,arguments)}function rP(n){return Cx(n).then(e=>e.persistence)}function Tx(n){return Cx(n).then(e=>e.localStore)}function iP(n){return kT(n).then(e=>e.remoteStore)}function Ix(n){return kT(n).then(e=>e.syncEngine)}function qy(n){return Ax.apply(this,arguments)}function Ax(){return(Ax=(0,pe.Z)(function*(n){const e=yield kT(n),t=e.eventManager;return t.onListen=lL.bind(null,e.syncEngine),t.onUnlisten=cL.bind(null,e.syncEngine),t})).apply(this,arguments)}function sP(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,h,_,w){const T=new RT({next:x=>{c.enqueueAndForget(()=>GM(o,N));const V=x.docs.has(h);!V&&x.fromCache?w.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&_&&"server"===_.source?w.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(x)},error:x=>w.reject(x)}),N=new zM(Ef(h.path),T,{includeMetadataChanges:!0,wo:!0});return $M(o,N)}(yield qy(n),n.asyncQueue,e,t,r)})),r.promise}function oP(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,h,_,w){const T=new RT({next:x=>{c.enqueueAndForget(()=>GM(o,N)),x.fromCache&&"server"===_.source?w.reject(new Te(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(x)},error:x=>w.reject(x)}),N=new zM(h,T,{includeMetadataChanges:!0,wo:!0});return $M(o,N)}(yield qy(n),n.asyncQueue,e,t,r)})),r.promise}class BL{constructor(e,t,r,o,c,h,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=w}}class Zy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zy&&e.projectId===this.projectId&&e.database===this.database}}const aP=new Map;function Sx(n,e,t){if(!t)throw new Te(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uP(n,e,t,r){if(!0===e&&!0===r)throw new Te(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lP(n){if(!We.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cP(n){if(We.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OT(n);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dP(n,e){if(e<=0)throw new Te(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L1{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hP({}),this._settingsFrozen=!1,e instanceof Zy?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zy(o.options.projectId)}(e))}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new MN;switch(t.type){case"gapi":const r=t.client;return ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new kD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aP.get(e);t&&(ke("ComponentProvider","Removing Datastore"),aP.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class ys{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class oc extends ys{constructor(e,t,r){super(e,t,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new We(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function fP(n,e,...t){if(n=(0,st.m9)(n),Sx("collection","path",e),n instanceof L1){const r=cn.fromString(e,...t);return cP(r),new oc(n,null,r)}{if(!(n instanceof Jn||n instanceof oc))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return cP(r),new oc(n.firestore,null,r)}}function PT(n,e,...t){if(n=(0,st.m9)(n),1===arguments.length&&(e=RN.A()),Sx("doc","path",e),n instanceof L1){const r=cn.fromString(e,...t);return lP(r),new Jn(n,null,new We(r))}{if(!(n instanceof Jn||n instanceof oc))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return lP(r),new Jn(n.firestore,n instanceof oc?n.converter:null,new We(r))}}function pP(n,e){return n=(0,st.m9)(n),e=(0,st.m9)(e),(n instanceof Jn||n instanceof oc)&&(e instanceof Jn||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gP(n,e){return n=(0,st.m9)(n),e=(0,st.m9)(e),n instanceof ys&&e instanceof ys&&n.firestore===e.firestore&&Cg(n._query,e._query)&&n.converter===e.converter}class HL{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new DM(this,"async_queue_retry"),this.Ra=()=>{const t=NT();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=NT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=NT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new jr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,pe.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!ic(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Br("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=jM.createAndSchedule(this,e,t,r,c=>this.Va(c));return this.pa.push(o),o}Pa(){this.Ta&&Xe()}verifyOperationInProgress(){}Sa(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Nx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class GL{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mr extends L1{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new HL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mP(this),this._firestoreClient.terminate()}}function Ci(n){return n._firestoreClient||mP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mP(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new BL(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new xL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function _P(n,e,t){const r=new jr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield tP(n,t),yield nP(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===he.FAILED_PRECONDITION||c.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function yP(n){if(n._initialized||n._terminated)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(ei.fromBase64String(e))}catch(t){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fg{constructor(e){this._methodName=e}}class FT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const e3=/^__.*__$/;class t3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Md(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cy(e,this.data,t,this.fieldTransforms)}}class vP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class LT{constructor(e,t,r,o,c,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ka(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new LT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.Ma(e),o}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return UT(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(bP(this.xa)&&e3.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class n3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||O1(e)}ja(e,t,r,o=!1){return new LT({xa:e,methodName:t,Ka:r,path:yi.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Lg(n){const e=n._freezeSettings(),t=O1(n._databaseId);return new n3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VT(n,e,t,r,o,c={}){const h=n.ja(c.merge||c.mergeFields?2:0,e,t,o);kx("Data must be an object, but it was:",h,r);const _=EP(r,h);let w,T;if(c.merge)w=new mg(h.fieldMask),T=h.fieldTransforms;else if(c.mergeFields){const N=[];for(const x of c.mergeFields){const V=Ox(e,x,t);if(!h.contains(V))throw new Te(he.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);TP(N,V)||N.push(V)}w=new mg(N),T=h.fieldTransforms.filter(x=>w.covers(x.field))}else w=null,T=h.fieldTransforms;return new t3(new ti(_),w,T)}class V1 extends Fg{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V1}}function wP(n,e,t){return new LT({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Mx extends Fg{_toFieldTransform(e){return new Tg(e.path,new Tf)}isEqual(e){return e instanceof Mx}}class r3 extends Fg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=wP(this,e,!0),r=this.Qa.map(c=>Vg(c,t)),o=new Ql(r);return new Tg(e.path,o)}isEqual(e){return this===e}}class i3 extends Fg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=wP(this,e,!0),r=this.Qa.map(c=>Vg(c,t)),o=new ec(r);return new Tg(e.path,o)}isEqual(e){return this===e}}class s3 extends Fg{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new tc(e.k,y1(e.k,this.Wa));return new Tg(e.path,t)}isEqual(e){return this===e}}function xx(n,e,t,r){const o=n.ja(1,e,t);kx("Data must be an object, but it was:",o,r);const c=[],h=ti.empty();yf(r,(w,T)=>{const N=Px(e,w,t);T=(0,st.m9)(T);const x=o.La(N);if(T instanceof V1)c.push(N);else{const V=Vg(T,x);null!=V&&(c.push(N),h.set(N,V))}});const _=new mg(c);return new vP(h,_,o.fieldTransforms)}function Rx(n,e,t,r,o,c){const h=n.ja(1,e,t),_=[Ox(e,r,t)],w=[o];if(c.length%2!=0)throw new Te(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)_.push(Ox(e,c[V])),w.push(c[V+1]);const T=[],N=ti.empty();for(let V=_.length-1;V>=0;--V)if(!TP(T,_[V])){const H=_[V];let ee=w[V];ee=(0,st.m9)(ee);const ge=h.La(H);if(ee instanceof V1)T.push(H);else{const Ie=Vg(ee,ge);null!=Ie&&(T.push(H),N.set(H,Ie))}}const x=new mg(T);return new vP(N,x,h.fieldTransforms)}function CP(n,e,t,r=!1){return Vg(t,n.ja(r?4:3,e))}function Vg(n,e){if(DP(n=(0,st.m9)(n)))return kx("Unsupported field value:",e,n),EP(n,e);if(n instanceof Fg)return function(t,r){if(!bP(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const h of t){let _=Vg(h,r.Ba(c));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,st.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return y1(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=gr.fromDate(t);return{timestampValue:Ag(r.k,o)}}if(t instanceof gr){const o=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ag(r.k,o)}}if(t instanceof FT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ac)return{bytesValue:uT(r.k,t._byteString)};if(t instanceof Jn){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Ua(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${OT(t)}`)}(n,e)}function EP(n,e){const t={};return oy(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yf(n,(r,o)=>{const c=Vg(o,e.Fa(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function DP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof FT||n instanceof ac||n instanceof Jn||n instanceof Fg)}function kx(n,e,t){if(!DP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OT(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Ox(n,e,t){if((e=(0,st.m9)(e))instanceof Fd)return e._internalPath;if("string"==typeof e)return Px(n,e);throw UT("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const o3=new RegExp("[~\\*/\\[\\]]");function Px(n,e,t){if(e.search(o3)>=0)throw UT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fd(...e.split("."))._internalPath}catch(r){throw UT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UT(n,e,t,r,o){const c=r&&!r.isEmpty(),h=void 0!==o;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let w="";return(c||h)&&(w+=" (found",c&&(w+=` in field ${r}`),h&&(w+=` in document ${o}`),w+=")"),new Te(he.INVALID_ARGUMENT,_+n+w)}function TP(n,e){return n.some(t=>t.isEqual(e))}class U1{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new a3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class a3 extends U1{data(){return super.data()}}function BT(n,e){return"string"==typeof e?Px(n,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}class Ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends U1{constructor(e,t,r,o,c,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new B1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class B1 extends Ld{data(e={}){return super.data(e)}}class Vf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ug(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new B1(this._firestore,this._userDataWriter,r.key,r,new Ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new B1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ug(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const _=new B1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Ug(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==h.type&&(w=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),T=c.indexOf(h.doc.key)),{type:u3(h.type),doc:_,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function IP(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vf&&e instanceof Vf&&n._firestore===e._firestore&&gP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AP(n){if(g1(n)&&0===n.explicitOrderBy.length)throw new Te(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j1{}function Uf(n,...e){for(const t of e)n=t._apply(n);return n}class l3 extends j1{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=Lg(e.firestore),r=function(o,c,h,_,w,T,N){let x;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){kP(N,T);const H=[];for(const ee of N)H.push(RP(_,o,ee));x={arrayValue:{values:H}}}else x=RP(_,o,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||kP(N,T),x=CP(h,"where",N,"in"===T||"not-in"===T);const V=ns.create(w,T,x);return function(H,ee){if(ee.V()){const Ie=gy(H);if(null!==Ie&&!Ie.isEqual(ee.field))throw new Te(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${ee.field.toString()}'`);const Je=qD(H);null!==Je&&OP(0,ee.field,Je)}const ge=function(Ie,Je){for(const ze of Ie.filters)if(Je.indexOf(ze.op)>=0)return ze.op;return null}(H,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==ge)throw new Te(he.INVALID_ARGUMENT,ge===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${ge.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ys(e.firestore,e.converter,function(o,c){const h=o.filters.concat([c]);return new Oa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class d3 extends j1{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new wf(o,c);return function(_,w){if(null===qD(_)){const T=gy(_);null!==T&&OP(0,T,w.field)}}(r,h),h}(e._query,this.Ga,this.Ja);return new ys(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Oa(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SP extends j1{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new ys(e.firestore,e.converter,ZD(e._query,this.Ya,this.Xa))}}class NP extends j1{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=xP(e,this.type,this.Za,this.tc);return new ys(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class MP extends j1{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=xP(e,this.type,this.Za,this.tc);return new ys(e.firestore,e.converter,(o=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function xP(n,e,t,r){if(t[0]=(0,st.m9)(t[0]),t[0]instanceof U1)return function(o,c,h,_,w){if(!_)throw new Te(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of Df(o))if(N.field.isKeyField())T.push(vg(c,_.key));else{const x=_.data.field(N.field);if(c1(x))throw new Te(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=N.field.canonicalString();throw new Te(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(x)}return new bf(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Lg(n.firestore);return function(c,h,_,w,T,N){const x=c.explicitOrderBy;if(T.length>x.length)throw new Te(he.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<T.length;H++){const ee=T[H];if(x[H].field.isKeyField()){if("string"!=typeof ee)throw new Te(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ee}`);if(!my(c)&&-1!==ee.indexOf("/"))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${ee}' contains a slash.`);const ge=c.path.child(cn.fromString(ee));if(!We.isDocumentKey(ge))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${ge}' is not because it contains an odd number of segments.`);const Ie=new We(ge);V.push(vg(h,Ie))}else{const ge=CP(_,w,ee);V.push(ge)}}return new bf(V,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function RP(n,e,t){if("string"==typeof(t=(0,st.m9)(t))){if(""===t)throw new Te(he.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!my(e)&&-1!==t.indexOf("/"))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!We.isDocumentKey(r))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vg(n,new We(r))}if(t instanceof Jn)return vg(n,t._key);throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(t)}.`)}function kP(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function OP(n,e,t){if(!t.isEqual(e))throw new Te(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Fx{convertValue(e,t="none"){switch(Fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return yf(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new FT(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=FD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_g(e));default:return null}}convertTimestamp(e){const t=Nd(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);ct(mT(r));const o=new Zy(r.get(1),r.get(3)),c=new We(r.popFirst(5));return o.isEqual(t)||Br(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function jT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class v3 extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class PP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lg(e)}set(e,t,r){this._verifyNotCommitted();const o=Bf(e,this._firestore),c=jT(o.converter,t,r),h=VT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Bt.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Bf(e,this._firestore);let h;return h="string"==typeof(t=(0,st.m9)(t))||t instanceof Fd?Rx(this._dataReader,"WriteBatch.update",c._key,t,r,o):xx(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,Bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bf(e,this._firestore);return this._mutations=this._mutations.concat(new Ig(t._key,Bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bf(n,e){if((n=(0,st.m9)(n)).firestore!==e)throw new Te(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bg extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function FP(n,e,t){n=on(n,Jn);const r=on(n.firestore,mr),o=jT(n.converter,e,t);return zy(r,[VT(Lg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Bt.none())])}function LP(n,e,t,...r){n=on(n,Jn);const o=on(n.firestore,mr),c=Lg(o);let h;return h="string"==typeof(e=(0,st.m9)(e))||e instanceof Fd?Rx(c,"updateDoc",n._key,e,t,r):xx(c,"updateDoc",n._key,e),zy(o,[h.toMutation(n._key,Bt.exists(!0))])}function VP(n,...e){var t,r,o;n=(0,st.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Nx(e[h])||(c=e[h],h++);const _={includeMetadataChanges:c.includeMetadataChanges};if(Nx(e[h])){const x=e[h];e[h]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[h+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[h+2]=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}let w,T,N;if(n instanceof Jn)T=on(n.firestore,mr),N=Ef(n._key.path),w={next:x=>{e[h]&&e[h](Lx(T,n,x))},error:e[h+1],complete:e[h+2]};else{const x=on(n,ys);T=on(x.firestore,mr),N=x._query;const V=new Bg(T);w={next:H=>{e[h]&&e[h](new Vf(T,V,x,H))},error:e[h+1],complete:e[h+2]},AP(n._query)}return function(x,V,H,ee){const ge=new RT(ee),Ie=new zM(V,ge,H);return x.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return $M(yield qy(x),Ie)})),()=>{ge.na(),x.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return GM(yield qy(x),Ie)}))}}(Ci(T),N,_,w)}function zy(n,e){return function(t,r){const o=new jr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e,t){return QM.apply(this,arguments)}(yield Ix(t),r,o)})),o.promise}(Ci(n),e)}function Lx(n,e,t){const r=t.docs.get(e._key),o=new Bg(n);return new Ld(n,o,e._key,r,new Ug(t.hasPendingWrites,t.fromCache),e.converter)}class N3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lg(e)}get(e){const t=Bf(e,this._firestore),r=new v3(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const c=o[0];if(c.isFoundDocument())return new U1(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new U1(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=Bf(e,this._firestore),c=jT(o.converter,t,r),h=VT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const c=Bf(e,this._firestore);let h;return h="string"==typeof(t=(0,st.m9)(t))||t instanceof Fd?Rx(this._dataReader,"Transaction.update",c._key,t,r,o):xx(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Bf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bf(e,this._firestore),r=new Bg(this._firestore);return super.get(e).then(o=>new Ld(this._firestore,r,t._key,o._document,new Ug(!1,!1),t.converter))}}function Vx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UP(){if("undefined"==typeof Uint8Array)throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function BP(){if("undefined"==typeof atob)throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){pg=Ma.SDK_VERSION,(0,Ma._registerComponent)(new xa.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new mr(o,new xD(t.getProvider("auth-internal")),new OD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Ma.registerVersion)(SD,"3.4.0",n),(0,Ma.registerVersion)(SD,"3.4.0","esm2017")}();class $1{constructor(e){this._delegate=e}static fromBase64String(e){return BP(),new $1(ac.fromBase64String(e))}static fromUint8Array(e){return UP(),new $1(ac.fromUint8Array(e))}toBase64(){return BP(),this._delegate.toBase64()}toUint8Array(){return UP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ux(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class U3{enableIndexedDbPersistence(e,t){return function(n,e){yP(n=on(n,mr));const t=Ci(n),r=n._freezeSettings(),o=new vx;return _P(t,o,new XO(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){yP(n=on(n,mr));const e=Ci(n),t=n._freezeSettings(),r=new vx;return _P(e,r,new AL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Te(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!zo.bt())return Promise.resolve();const o=r+"main";yield zo.delete(o)}),function(r){return t.apply(this,arguments)})(dM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&sy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=on(n,L1))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&sy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=Oi.MOCK_USER;else{h=(0,st.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Oi(w)}n._authCredentials=new u1(new MD(h,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield rP(n),t=yield iP(n);return e.setNetworkEnabled(!0),function(r){const o=Fe(r);return o.Gr.delete(0),P1(o)}(t)}))}(Ci(n=on(n,mr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield rP(n),t=yield iP(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(o){const c=Fe(o);c.Gr.add(0),yield Vy(c),c.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Ci(n=on(n,mr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new jr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e){return rx.apply(this,arguments)}(yield Ix(e),t)})),t.promise}(Ci(n=on(n,mr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new RT(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield qy(n),o=t,Fe(r).io.add(o),void o.next();var r,o})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield qy(n),o=t,void Fe(r).io.delete(o);var r,o}))}}(Ci(n=on(n,mr)),Nx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wy(this,fP(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ua(this,PT(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function(n,e){if(n=on(n,L1),Sx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(n,null,(t=e,new Oa(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const r=yield(o=n,kT(o).then(c=>c.datastore));var o;new ML(n.asyncQueue,r,e,t).run()})),t.promise}(Ci(n=on(n,mr)),t=>e(new N3(n,t)))}(this._delegate,t=>e(new $P(this,t)))}batch(){return Ci(this._delegate),new HP(new PP(this._delegate,e=>zy(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Ci(n=on(n,mr)),r=new GL;return function(n,e,t,r){const o=function(c,h){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,w=function(w,T){if(w instanceof Uint8Array)return eP(w,T);if(w instanceof ArrayBuffer)return eP(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new SL(w,h);var w}(t,O1(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(n,e,t){const r=Fe(n);var o;(o=(0,pe.Z)(function*(c,h,_){try{const w=yield h.getMetadata();if(yield function(V,H){const ee=Fe(V),ge=gn(H.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Ie=>ee.Ye.getBundleMetadata(Ie,H.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(ge)>=0)}(c.localStore,w))return yield h.close(),void _._completeWith((V=w,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));_._updateProgress(HO(w));const T=new sL(w,c.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield T.yo(N);V&&_._updateProgress(V),N=yield h.Ho()}const x=yield T.complete();yield Pd(c,x.In,void 0),yield function(V,H){const ee=Fe(V);return ee.persistence.runTransaction("Save bundle","readwrite",ge=>ee.Ye.saveBundleMetadata(ge,H))}(c.localStore,w),_._completeWith(x.progress)}catch(w){sy("SyncEngine",`Loading bundle failed with ${w}`),_._failWith(w)}var V}),function(c,h,_){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Ix(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const o=Fe(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ye.getNamedQuery(c,r))}(yield Tx(n),e)}))}(Ci(n=on(n,mr)),e).then(t=>t?new ys(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class $T extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $1(new ac(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ua.forKey(t,this.firestore,null)}}class $P{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}get(e){const t=$g(e);return this._delegate.get(t).then(r=>new H1(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=$g(e);return r?(Vx("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=$g(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}}class HP{constructor(e){this._delegate=e}set(e,t,r){const o=$g(e);return r?(Vx("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=$g(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new B1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new G1(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new jg(e,new $T(e),t),o.set(t,c)),c}}jg.INSTANCES=new WeakMap;class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ua(t,new Jn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new Ua(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wy(this.firestore,fP(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,st.m9)(e))instanceof Jn&&pP(this._delegate,e)}set(e,t){t=Vx("DocumentReference.set",t);try{return t?FP(this._delegate,e,t):FP(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LP(this._delegate,e):LP(this._delegate,e,t,...r)}catch(o){throw Vs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return zy(on(n.firestore,mr),[new Ig(n._key,Bt.none())])}(this._delegate)}onSnapshot(...e){const t=GP(e),r=qP(e,o=>new H1(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=on(n,Jn);const e=on(n.firestore,mr),t=Ci(e),r=new Bg(e);return function(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,h){try{const _=yield function(w,T){const N=Fe(w);return N.persistence.runTransaction("read document","readonly",x=>N.Wn.Rn(x,T))}(o,c);_.isFoundDocument()?h.resolve(_):_.isNoDocument()?h.resolve(null):h.reject(new Te(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const w=jy(_,`Failed to get document '${c} from cache`);h.reject(w)}}),function(o,c,h){return r.apply(this,arguments)})(yield Tx(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Ld(e,r,n._key,o,new Ug(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=on(n,Jn);const e=on(n.firestore,mr);return sP(Ci(e),n._key,{source:"server"}).then(t=>Lx(e,n,t))}(this._delegate):function(n){n=on(n,Jn);const e=on(n.firestore,mr);return sP(Ci(e),n._key).then(t=>Lx(e,n,t))}(this._delegate),t.then(r=>new H1(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?jg.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function GP(n){for(const e of n)if("object"==typeof e&&!Ux(e))return e;return{}}function qP(n,e){var t,r;let o;return o=Ux(n[0])?n[0]:Ux(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class H1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return IP(this._delegate,e._delegate)}}class G1 extends H1{data(e){const t=this._delegate.data(e);return function(n,e){n||Xe()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $T(e)}where(e,t,r){try{return new Us(this.firestore,Uf(this._delegate,function(n,e,t){const r=e,o=BT("where",n);return new l3(o,r,t)}(e,t,r)))}catch(o){throw Vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Uf(this._delegate,function(n,e="asc"){const t=e,r=BT("orderBy",n);return new d3(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Uf(this._delegate,function(n){return dP("limit",n),new SP("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Uf(this._delegate,function(n){return dP("limitToLast",n),new SP("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Uf(this._delegate,function(...n){return new NP("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Uf(this._delegate,function(...n){return new NP("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Uf(this._delegate,function(...n){return new MP("endBefore",n,!0)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Uf(this._delegate,function(...n){return new MP("endAt",n,!1)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return gP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=on(n,ys);const e=on(n.firestore,mr),t=Ci(e),r=new Bg(e);return function(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,h){try{const _=yield IT(o,c,!0),w=new ZO(c,_.zn),T=w.bo(_.documents),N=w.applyChanges(T,!1);h.resolve(N.snapshot)}catch(_){const w=jy(_,`Failed to execute query '${c} against cache`);h.reject(w)}}),function(o,c,h){return r.apply(this,arguments)})(yield Tx(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Vf(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=on(n,ys);const e=on(n.firestore,mr),t=Ci(e),r=new Bg(e);return oP(t,n._query,{source:"server"}).then(o=>new Vf(e,r,n,o))}(this._delegate):function(n){n=on(n,ys);const e=on(n.firestore,mr),t=Ci(e),r=new Bg(e);return AP(n._query),oP(t,n._query).then(o=>new Vf(e,r,n,o))}(this._delegate),t.then(r=>new Bx(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=GP(e),r=qP(e,o=>new Bx(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VP(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?jg.getInstance(this.firestore,e):null))}}class j3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new G1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new G1(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new j3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new G1(this._firestore,r))})}isEqual(e){return IP(this._delegate,e._delegate)}}class Wy extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ua(this.firestore,e):null}doc(e){try{return new Ua(this.firestore,void 0===e?PT(this._delegate):PT(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=on(n.firestore,mr),r=PT(n),o=jT(n.converter,e);return zy(t,[VT(Lg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Bt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ua(this.firestore,t))}isEqual(e){return pP(this._delegate,e._delegate)}withConverter(e){return new Wy(this.firestore,this._delegate.withConverter(e?jg.getInstance(this.firestore,e):null))}}function $g(n){return on(n,Jn)}class jx{constructor(...e){this._delegate=new Fd(...e)}static documentId(){return new jx(yi.keyField().canonicalString())}isEqual(e){return(e=(0,st.m9)(e))instanceof Fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Mx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Hg(e)}static delete(){const e=new V1("deleteField");return e._methodName="FieldValue.delete",new Hg(e)}static arrayUnion(...e){const t=function(...n){return new r3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hg(t)}static arrayRemove(...e){const t=function(...n){return new i3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hg(t)}static increment(e){const t=function(n){return new s3("increment",n)}(e);return t._methodName="FieldValue.increment",new Hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $3={Firestore:jP,GeoPoint:FT,Timestamp:gr,Blob:$1,Transaction:$P,WriteBatch:HP,DocumentReference:Ua,DocumentSnapshot:H1,Query:Us,QueryDocumentSnapshot:G1,QuerySnapshot:Bx,CollectionReference:Wy,FieldPath:jx,FieldValue:Hg,setLogLevel:function(n){!function(n){Sd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new xa.wA("firestore-compat",t=>((e,t)=>new jP(e,t,new U3))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},$3)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(zp.Z);var q1=F(9746),q3=F(7771),Z3=F(8858);class z3 extends Qt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new W3(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let h;if(this.closed)throw new Sc.N;if(this.isStopped||this.hasError?h=Rc.w.EMPTY:(this.observers.push(e),h=new Z3.W(this,e)),o&&e.add(e=new q1.ht(e,o)),t)for(let _=0;_<c&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<c&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||q3.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let h=0;for(;h<c&&!(e-o[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&o.splice(0,h),o}}class W3{constructor(e,t){this.time=e,this.value=t}}function ZP(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,c=0,_=!1,w=!1;return function(N){let x;c++,!o||_?(_=!1,o=new z3(n,e,r),x=o.subscribe(this),h=N.subscribe({next(V){o.next(V)},error(V){_=!0,o.error(V)},complete(){w=!0,h=void 0,o.complete()}}),w&&(h=void 0)):x=o.subscribe(this),this.add(()=>{c--,x.unsubscribe(),x=void 0,h&&!w&&t&&0===c&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function zP(n,e){return e?xn(()=>n,e):xn(()=>n)}var $x=F(2639);F(2329);const YP=new Map,eV={activated:!1,tokenObservers:[]},tV={initialized:!1,enabled:!1};function Vi(n){return YP.get(n)||eV}function Hu(n,e){YP.set(n,e)}function GT(){return tV}class oV{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new st.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new st.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bs=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JP(n){if(!Vi(n).activated)throw Bs.create("use-before-activation",{appName:n.name})}function Zx(n,e){return zx.apply(this,arguments)}function zx(){return(zx=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,_;try{h=yield fetch(n,c)}catch(x){throw Bs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==h.status)throw Bs.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(x){throw Bs.create("fetch-parse-error",{originalErrorMessage:x.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(w[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function hV(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Z1="firebase-app-check-store";let zT=null;function XP(){return zT||(zT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Bs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Z1,{keyPath:"compositeKey"})}}}catch(t){e(Bs.create("storage-open",{originalErrorMessage:t.message}))}}),zT)}function Wx(){return(Wx=(0,pe.Z)(function*(n,e){const r=(yield XP()).transaction(Z1,"readwrite"),c=r.objectStore(Z1).put({compositeKey:n,value:e});return new Promise((h,_)=>{c.onsuccess=w=>{h()},r.onerror=w=>{var T;_(Bs.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const z1=new Ut.Yd("@firebase/app-check");function rF(n,e){return(0,st.hl)()?function(n,e){return function(n,e){return Wx.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{z1.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iF(){return GT().enabled}function sF(){return Qx.apply(this,arguments)}function Qx(){return(Qx=(0,pe.Z)(function*(){const n=GT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const CV={error:"UNKNOWN_ERROR"};function EV(n){return st.US.encodeString(JSON.stringify(n),!1)}function WT(n){return Xx.apply(this,arguments)}function Xx(){return(Xx=(0,pe.Z)(function*(n,e=!1){const t=n.app;JP(t);const r=Vi(t);let c,o=r.token;if(!o){const w=yield r.cachedTokenPromise;w&&YT(w)&&(o=w)}if(!e&&o&&YT(o))return{token:o.token};let _,h=!1;if(iF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zx(hV(t,yield sF()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const w=yield r.exchangeTokenPromise;return yield rF(t,w),Hu(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),h=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?z1.warn(w.message):z1.error(w),c=w}return o?(_={token:o.token},Hu(t,Object.assign(Object.assign({},r),{token:o})),yield rF(t,o)):_=TV(c),h&&aF(t,_),_})).apply(this,arguments)}function tR(n,e){const t=Vi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Hu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function oF(n){const{app:e}=n,t=Vi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new oV((0,pe.Z)(function*(){let r;if(r=Vi(e).token?yield WT(n,!0):yield WT(n),r.error)throw r.error}),()=>!0,()=>{const t=Vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Hu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function aF(n,e){const t=Vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function YT(n){return n.expireTimeMillis-Date.now()>0}function TV(n){return{token:EV(CV),error:n}}class IV{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Vi(this.app);for(const t of e)tR(this.app,t.next);return Promise.resolve()}}const gF="app-check-internal";(0,Ma._registerComponent)(new xa.wA("app-check",n=>function(n,e){return new IV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gF).initialize()})),(0,Ma._registerComponent)(new xa.wA(gF,n=>function(n){return{getToken:e=>WT(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=Vi(o),h={next:t,error:r,type:e};if(Hu(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&YT(c.token)){const _=c.token;Promise.resolve().then(()=>{t({token:_.token}),oF(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>oF(n))}(n,"INTERNAL",e),removeTokenListener:e=>tR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ma.registerVersion)("@firebase/app-check","0.5.2");class JT{constructor(){return(0,Gn.vb)("app-check")}}"undefined"!=typeof window&&window;var oR=F(7841);const _F=new u.OlP("angularfire2.auth.use-emulator"),yF=new u.OlP("angularfire2.auth.settings"),vF=new u.OlP("angularfire2.auth.tenant-id"),bF=new u.OlP("angularfire2.auth.langugage-code"),wF=new u.OlP("angularfire2.auth.use-device-language"),CF=new u.OlP("angularfire.auth.persistence"),EF=(n,e,t,r,o,c,h,_)=>(0,xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,c&&w.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))w.settings[T]=N;return _&&w.setPersistence(_),w},[t,r,o,c,h,_]);let aR=(()=>{class n{constructor(t,r,o,c,h,_,w,T,N,x,V,H){const ee=new Qt.xQ,ge=(0,Ue.of)(void 0).pipe((0,q1.QV)(h.outsideAngular),xn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,941)))),(0,et.U)(()=>(0,xi.on)(t,c,r)),(0,et.U)(Ie=>EF(Ie,c,_,T,N,x,w,V)),ZP({bufferSize:1,refCount:!1}));if(Qu(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{ge.pipe(er()).subscribe();const Je=ge.pipe(xn(nt=>nt.getRedirectResult().then(Xt=>Xt,()=>null)),Gn.iC,ZP({bufferSize:1,refCount:!1})),ze=ge.pipe(xn(nt=>new Nn.y(Xt=>({unsubscribe:c.runOutsideAngular(()=>nt.onAuthStateChanged(Hr=>Xt.next(Hr),Hr=>Xt.error(Hr),()=>Xt.complete()))})))),Dt=ge.pipe(xn(nt=>new Nn.y(Xt=>({unsubscribe:c.runOutsideAngular(()=>nt.onIdTokenChanged(Hr=>Xt.next(Hr),Hr=>Xt.error(Hr),()=>Xt.complete()))}))));this.authState=Je.pipe(zP(ze),(0,$x.R)(h.outsideAngular),(0,q1.QV)(h.insideAngular)),this.user=Je.pipe(zP(Dt),(0,$x.R)(h.outsideAngular),(0,q1.QV)(h.insideAngular)),this.idToken=this.user.pipe(xn(nt=>nt?(0,Jt.D)(nt.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(xn(nt=>nt?(0,Jt.D)(nt.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,Cw.T)(Je,ee,this.authState.pipe(Dn(nt=>!nt))).pipe((0,et.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,$x.R)(h.outsideAngular),(0,q1.QV)(h.insideAngular))}return(0,xi.pX)(this,ge,c,{spy:{apply:(Ie,Je,ze)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&ze.then(Dt=>ee.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xi.Dh),u.LFG(xi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(_F,8),u.LFG(yF,8),u.LFG(vF,8),u.LFG(bF,8),u.LFG(wF,8),u.LFG(CF,8),u.LFG(JT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZV=(()=>{class n{constructor(){oR.Z.registerVersion("angularfire",Gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aR]}),n})();function DF(n,e){return function(n,e=S0.z){return new Nn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function uR(n,e){return DF(n,e).pipe((0,et.U)(t=>({payload:t,type:"query"})))}function QT(n,e){return uR(n,e).pipe(ma(void 0),hb(),(0,et.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,_)=>{const w=o.find(N=>N.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:h}})}),c}))}function TF(n,e,t){return QT(n,t).pipe(cu((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function(n,e){return t=>t.lift(new RR(n,e))}(),(0,et.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function lR(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function IF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=QT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,et.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(ma(void 0),hb(),Dn(([r,o])=>o.length>0||!r),(0,et.U)(([r,o])=>o),Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(cu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IF(e);return TF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return uR(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gn.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe(Gn.iC)}add(e){return this.ref.add(e)}doc(e){return new SF(this.ref.doc(e),this.afs)}}class SF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=xF(r,t);return new AF(o,c,this.afs)}snapshotChanges(){return function(n,e){return DF(n,e).pipe(ma(void 0),hb(),(0,et.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Jt.D)(this.ref.get(e)).pipe(Gn.iC)}}class JV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QT(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Dn(t=>t.length>0),Gn.iC):QT(this.query,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(cu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IF(e);return TF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return uR(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Gn.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe(Gn.iC)}}const NF=new u.OlP("angularfire2.enableFirestorePersistence"),MF=new u.OlP("angularfire2.firestore.persistenceSettings"),QV=new u.OlP("angularfire2.firestore.settings"),XV=new u.OlP("angularfire2.firestore.use-emulator");function xF(n,e=(t=>t)){return{query:e(n),ref:n}}let eU=(()=>{class n{constructor(t,r,o,c,h,_,w,T,N,x,V,H,ee,ge,Ie,Je,ze){this.schedulers=w;const Dt=(0,xi.on)(t,_,r),nt=N;x&&EF(Dt,_,V,ee,ge,Ie,H,Je),[this.firestore,this.persistenceEnabled$]=(0,xi.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Xt=_.runOutsideAngular(()=>Dt.firestore());if(c&&Xt.settings(c),nt&&Xt.useEmulator(...nt),o&&!Qu(h)){const Hr=()=>{try{return(0,Jt.D)(Xt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(qu){return"undefined"!=typeof console&&console.warn(qu),(0,Ue.of)(!1)}};return[Xt,_.runOutsideAngular(Hr)]}return[Xt,(0,Ue.of)(!1)]},[c,nt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=xF(o,r),_=this.schedulers.ngZone.run(()=>c);return new AF(_,h,this)}collectionGroup(t,r){const o=r||(h=>h),c=this.firestore.collectionGroup(t);return new JV(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new SF(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xi.Dh),u.LFG(xi.xv,8),u.LFG(NF,8),u.LFG(QV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(MF,8),u.LFG(XV,8),u.LFG(aR,8),u.LFG(_F,8),u.LFG(yF,8),u.LFG(vF,8),u.LFG(bF,8),u.LFG(wF,8),u.LFG(CF,8),u.LFG(JT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tU=(()=>{class n{constructor(){oR.Z.registerVersion("angularfire",Gn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NF,useValue:!0},{provide:MF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[eU]}),n})();class rU{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new iU(e,this.dueTime,this.scheduler))}}class iU extends un.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(sU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function sU(n){n.debouncedNext()}const RF="firebasestorage.googleapis.com",kF="storageBucket";class Tr extends st.ZR{constructor(e,t){super(cR(e),`Firebase Storage: ${t} (${cR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}_codeEquals(e){return cR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function cR(n){return"storage/"+n}function dR(){return new Tr("unknown","An unknown error occurred, please check the error payload for server response.")}function OF(){return new Tr("canceled","User canceled the upload/download.")}function PF(){return new Tr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yy(n){return new Tr("invalid-argument",n)}function FF(){return new Tr("app-deleted","The Firebase app was deleted.")}function LF(n){return new Tr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function W1(n,e){return new Tr("invalid-format","String does not match format '"+n+"': "+e)}function Y1(n){throw new Tr("internal-error","Internal error: "+n)}class vs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vs.makeFromUrl(e,t)}catch(o){return new vs(e,"")}if(""===r.path)return r;throw function(n){return new Tr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(nt){nt.path_=decodeURIComponent(nt.path)}const x=t.replace(/[.]/g,"\\."),Dt=[{regex:_,indices:{bucket:1,path:3},postModify:function(nt){"/"===nt.path.charAt(nt.path.length-1)&&(nt.path_=nt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===RF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let nt=0;nt<Dt.length;nt++){const Xt=Dt[nt],Hr=Xt.regex.exec(e);if(Hr){let fo=Hr[Xt.indices.path];fo||(fo=""),r=new vs(Hr[Xt.indices.bucket],fo),Xt.postModify(r);break}}if(null==r)throw function(n){return new Tr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class vU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function XT(n){return"string"==typeof n||n instanceof String}function VF(n){return hR()&&n instanceof Blob}function hR(){return"undefined"!=typeof Blob}function fR(n,e,t,r){if(r<e)throw Yy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Yy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Vd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function UF(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var jf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(jf||(jf={})),jf))();class TU{constructor(e,t,r,o,c,h,_,w,T,N,x){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=w,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const w=this.callback_(_,_.getResponse());!function(n){return void 0!==n}(w)?c():c(w)}catch(w){h(w)}else if(null!==_){const w=dR();w.serverResponse=_.getErrorText(),h(this.errorCallback_?this.errorCallback_(_,w):w)}else h(o.canceled?this.appDelete_?FF():OF():new Tr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new eI(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,c=null,h=!1,_=0;function w(){return 2===_}let T=!1;function N(...Ie){T||(T=!0,e.apply(null,Ie))}function x(Ie){o=setTimeout(()=>{o=null,n(H,w())},Ie)}function V(){c&&clearTimeout(c)}function H(Ie,...Je){if(T)return void V();if(Ie)return V(),void N.call(null,Ie,...Je);if(w()||h)return V(),void N.call(null,Ie,...Je);let Dt;r<64&&(r*=2),1===_?(_=2,Dt=0):Dt=1e3*(r+Math.random()),x(Dt)}let ee=!1;function ge(Ie){ee||(ee=!0,V(),!T&&(null!==o?(Ie||(_=2),clearTimeout(o),x(0)):Ie||(_=1)))}return x(0),c=setTimeout(()=>{h=!0,ge(!0)},t),ge}((r,o)=>{if(o)return void r(!1,new eI(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const h=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const _=c.getErrorCode()===jf.NO_ERROR,w=c.getStatus();if(!_||this.isRetryStatusCode_(w)){const N=c.getErrorCode()===jf.ABORT;return void r(!1,new eI(!1,null,N))}const T=-1!==this.successCodes_.indexOf(w);r(!0,new eI(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class eI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function RU(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(hR())return new Blob(n);throw new Tr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Wo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pR{constructor(e,t){this.data=e,this.contentType=t||null}}function gR(n,e){switch(n){case Wo.RAW:return new pR(BF(e));case Wo.BASE64:case Wo.BASE64URL:return new pR(jF(n,e));case Wo.DATA_URL:return new pR(function(n){const e=new $F(n);return e.base64?jF(Wo.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw W1(Wo.DATA_URL,"Malformed data URL.")}return BF(e)}(e.rest)}(e),function(n){return new $F(n).contentType}(e))}throw dR()}function BF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function jF(n,e){switch(n){case Wo.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw W1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Wo.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw W1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw W1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class $F{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw W1(Wo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class uc{constructor(e,t){let r=0,o="";VF(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(VF(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new uc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new uc(r,!0)}}static getBlob(...e){if(hR()){const t=e.map(r=>r instanceof uc?r.data_:r);return new uc(RU.apply(null,t))}{const t=e.map(h=>XT(h)?gR(Wo.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(h=>{for(let _=0;_<h.length;_++)o[c++]=h[_]}),new uc(o,!0)}}uploadData(){return this.data_}}function mR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function HF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function jU(n,e){return e}class js{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||jU}}let tI=null;function K1(){if(tI)return tI;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function(c,h){return function(n){return!XT(n)||n.length<2?n:HF(n)}(h)},n.push(t);const o=new js("size");return o.xform=function(c,h){return void 0!==h?Number(h):h},n.push(o),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),tI=n,tI}function GF(n,e,t){const r=mR(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const h=t[c];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new vs(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function _R(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const qF="prefixes";class lc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cc(n){if(!n)throw dR()}function nI(n,e){return function(r,o){const c=GF(n,o,e);return cc(null!==c),c}}function Ky(n){return function(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Tr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Tr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Tr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Tr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function J1(n){const e=Ky(n);return function(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function(n){return new Tr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function zF(n,e,t){const o=Vd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new lc(o,"GET",nI(n,t),h);return _.errorHandler=J1(e),_}function KU(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const _=Vd(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new lc(_,"GET",function(n,e){return function(r,o){const c=function(n,e,t){const r=mR(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[qF])for(const o of t[qF]){const c=o.replace(/\/$/,""),h=n._makeStorageReference(new vs(e,c));r.prefixes.push(h)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new vs(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return cc(null!==c),c}}(n,e.bucket),T);return N.urlParams=c,N.errorHandler=Ky(e),N}function YF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class rI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function yR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){cc(!1)}return cc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const iB={STATE_CHANGED:"state_changed"},$s={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vR(n){switch(n){case"running":case"pausing":case"canceling":return $s.RUNNING;case"paused":return $s.PAUSED;case"success":return $s.SUCCESS;case"canceled":return $s.CANCELED;case"error":default:return $s.ERROR}}class sB{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Jy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class aB extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw Y1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Y1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Y1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Y1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Y1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Gu(){return new aB}class XF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=K1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h=YF(e,r,o),_={name:h.fullPath},w=Vd(c,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},x=_R(h,t),ee=new lc(w,"POST",function(ge){let Ie;yR(ge);try{Ie=ge.getResponseHeader("X-Goog-Upload-URL")}catch(Je){cc(!1)}return cc(XT(Ie)),Ie},n.maxUploadRetryTime);return ee.urlParams=_,ee.headers=N,ee.body=x,ee.errorHandler=Ky(e),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Gu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const w=new lc(t,"POST",function(T){const N=yR(T,["active","final"]);let x=null;try{x=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){cc(!1)}x||cc(!1);const V=Number(x);return cc(!isNaN(V)),new rI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Ky(e),w}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,Gu,t,r);this._request=c,c.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new rI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let h;try{h=function(n,e,t,r,o,c,h,_){const w=new rI(0,0);if(h?(w.current=h.current,w.total=h.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw new Tr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=w.total-w.current;let N=T;o>0&&(N=Math.min(N,o));const x=w.current,ee={"X-Goog-Upload-Command":N===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},ge=r.slice(x,x+N);if(null===ge)throw PF();const Dt=new lc(t,"POST",function(nt,Xt){const Hr=yR(nt,["active","final"]),qu=w.current+N,fo=r.size();let CR;return CR="final"===Hr?nI(e,c)(nt,Xt):null,new rI(qu,fo,"final"===Hr,CR)},e.maxUploadRetryTime);return Dt.headers=ee,Dt.body=ge.uploadData(),Dt.progressCallback=_||null,Dt.errorHandler=Ky(n),Dt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const _=this._ref.storage._makeRequest(h,Gu,o,c);this._request=_,_.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=zF(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Gu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Dt="";for(let nt=0;nt<2;nt++)Dt+=Math.random().toString().slice(2);return Dt}();h["Content-Type"]="multipart/related; boundary="+w;const T=YF(e,r,o),N=_R(T,t),H=uc.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+w+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===H)throw PF();const ee={name:T.fullPath},ge=Vd(c,n.host,n._protocol),Je=n.maxUploadRetryTime,ze=new lc(ge,"POST",nI(n,t),Je);return ze.urlParams=ee,ze.headers=h,ze.body=H.uploadData(),ze.errorHandler=Ky(e),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Gu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OF(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=vR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new sB(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(vR(this._state)){case $s.SUCCESS:Jy(this._resolve.bind(null,this.snapshot))();break;case $s.CANCELED:case $s.ERROR:Jy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vR(this._state)){case $s.RUNNING:case $s.PAUSED:e.next&&Jy(e.next.bind(e,this.snapshot))();break;case $s.SUCCESS:e.complete&&Jy(e.complete.bind(e))();break;case $s.CANCELED:case $s.ERROR:e.error&&Jy(e.error.bind(e,this._error))();break;default:e.error&&Jy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Gg{constructor(e,t){this._service=e,this._location=t instanceof vs?t:vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gg(e,t)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HF(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vs(this._location.bucket,e);return new Gg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw LF(e)}}function t2(n,e,t){return bR.apply(this,arguments)}function bR(){return(bR=(0,pe.Z)(function*(n,e,t){const o=yield n2(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield t2(n,e,o.nextPageToken))})).apply(this,arguments)}function n2(n,e){null!=e&&"number"==typeof e.maxResults&&fR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=KU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Gu)}function vB(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=Vd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new lc(o,"GET",function(n,e){return function(r,o){const c=GF(n,o,e);return cc(null!==c),function(n,e,t,r){const o=mR(e);if(null===o||!XT(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const x=n.fullPath;return Vd("/b/"+h(n.bucket)+"/o/"+h(x),t,r)+UF({alt:"media",token:T})})[0]}(c,o,n.host,n._protocol)}}(n,t),h);return _.errorHandler=J1(e),_}(n.storage,n._location,K1());return n.storage.makeRequestWithTokens(e,Gu).then(t=>{if(null===t)throw new Tr("no-download-url","The given file does not have any download URLs.");return t})}function r2(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new vs(n._location.bucket,t);return new Gg(n.storage,r)}function i2(n,e){if(n instanceof wR){const t=n;if(null==t._bucket)throw new Tr("no-default-bucket","No default bucket found. Did you set the '"+kF+"' property when initializing the app?");const r=new Gg(t,t._bucket);return null!=e?i2(r,e):r}return void 0!==e?r2(n,e):n}function EB(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof wR)return function(n,e){return new Gg(n,e)}(n,e);throw Yy("To use ref(service, url), the first argument must be a Storage instance.")}return i2(n,e)}function s2(n,e){const t=null==e?void 0:e[kF];return null==t?null:vs.makeFromBucketSpec(t,n)}class wR{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=RF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?vs.makeFromBucketSpec(o,this._host):s2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vs.makeFromBucketSpec(this._url,e):s2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gg(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new vU(FF());{const c=function(n,e,t,r,o,c){const h=UF(n.urlParams),_=n.url+h,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new TU(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,c).getPromise()})()}}const o2="@firebase/storage";function l2(n,e){return EB(n=(0,st.m9)(n),e)}(0,Ma._registerComponent)(new xa.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new wR(t,r,o,e,Ma.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ma.registerVersion)(o2,"0.9.0",""),(0,Ma.registerVersion)(o2,"0.9.0","esm2017");class iI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class c2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new iI(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?h=>t(new iI(h,this,this._ref)):{next:t.next?h=>t.next(new iI(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class d2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ud(e,this._service))}get items(){return this._delegate.items.map(e=>new Ud(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ud{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return r2(n,e)}(this._delegate,e);return new Ud(t,this.storage)}get root(){return new Ud(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ud(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new c2(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new XF(n,new uc(e),t)}(n=(0,st.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Wo.RAW,r){this._throwIfRoot("putString");const o=gR(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new c2(new XF(this._delegate,new uc(o.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return t2(n,e).then(()=>e)}(n=(0,st.m9)(n))}(this._delegate).then(e=>new d2(e,this.storage))}list(e){return function(n,e){return n2(n=(0,st.m9)(n),e)}(this._delegate,e||void 0).then(t=>new d2(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=zF(n.storage,n._location,K1());return n.storage.makeRequestWithTokens(e,Gu)}(n=(0,st.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const c=Vd(e.fullServerUrl(),n.host,n._protocol),_=_R(t,r),T=n.maxOperationRetryTime,N=new lc(c,"PATCH",nI(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=_,N.errorHandler=J1(e),N}(n.storage,n._location,e,K1());return n.storage.makeRequestWithTokens(t,Gu)}(n=(0,st.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return vB(n=(0,st.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Vd(e.fullServerUrl(),n.host,n._protocol),_=new lc(r,"DELETE",function(w,T){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=J1(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Gu)}(n=(0,st.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw LF(e)}}class h2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(f2(e))throw Yy("ref() expected a child path but got a URL, use refFromURL instead.");return new Ud(l2(this._delegate,e),this)}refFromURL(e){if(!f2(e))throw Yy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vs.makeFromUrl(e,this._delegate.host)}catch(t){throw Yy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ud(l2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,st.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function f2(n){return/^[A-Za-z]+:\/\//.test(n)}function UB(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new h2(t,r)}function p2(n){const e=function(n){return new Nn.y(e=>{const t=h=>e.next(h);t(n.snapshot);const c=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){c()}}).pipe(function(n,e=S0.P){return t=>t.lift(new rU(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,et.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function sI(n){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(Gn.fc,xn(()=>n.getDownloadURL()),Gn.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(Gn.fc,xn(()=>n.getMetadata()),Gn.iC),delete:()=>(0,Jt.D)(n.delete()),child:e=>sI(n.child(e)),updateMetadata:e=>(0,Jt.D)(n.updateMetadata(e)),put:(e,t)=>p2(n.put(e,t)),putString:(e,t,r)=>p2(n.putString(e,t,r)),list:e=>(0,Jt.D)(n.list(e)),listAll:()=>(0,Jt.D)(n.listAll())}}!function(n){const e={TaskState:$s,TaskEvent:iB,StringFormat:Wo,Storage:h2,Reference:Ud};n.INTERNAL.registerComponent(new xa.wA("storage-compat",UB,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(zp.Z);const $B=new u.OlP("angularfire2.storageBucket"),HB=new u.OlP("angularfire2.storage.maxUploadRetryTime"),GB=new u.OlP("angularfire2.storage.maxOperationRetryTime"),qB=new u.OlP("angularfire2.storage.use-emulator");let ZB=(()=>{class n{constructor(t,r,o,c,h,_,w,T,N,x){const V=(0,xi.on)(t,h,r);this.storage=(0,xi.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const H=h.runOutsideAngular(()=>V.storage(o||void 0)),ee=N;return ee&&H.useEmulator(...ee),w&&H.setMaxUploadRetryTime(w),T&&H.setMaxOperationRetryTime(T),H},[w,T])}ref(t){return sI(this.storage.ref(t))}refFromURL(t){return sI(this.storage.refFromURL(t))}upload(t,r,o){return sI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xi.Dh),u.LFG(xi.xv,8),u.LFG($B,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(HB,8),u.LFG(GB,8),u.LFG(qB,8),u.LFG(JT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),WB=(()=>{class n{constructor(){oR.Z.registerVersion("angularfire",Gn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ZB],imports:[zB]}),n})();const g2_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Vo]}),n.\u0275inj=u.cJS({providers:[],imports:[[Jf,pI,zE,xi.hO.initializeApp(g2_firebaseConfig),tU,ZV,WB]]}),n})();(0,u.G48)(),Js().bootstrapModule(YB).catch(n=>console.error(n))},3394:(He,_e,F)=>{"use strict";F.d(_e,{Z:()=>Ne});var u=F(3854),te=F(3910),L=F(8026),ce=F(5422);class ie{constructor(fe,X){this._delegate=fe,this.firebase=X,(0,L._addComponent)(fe,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(fe,X=L._DEFAULT_ENTRY_NAME){var re;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(fe);return!we.isInitialized()&&"EXPLICIT"===(null===(re=we.getComponent())||void 0===re?void 0:re.instantiationMode)&&we.initialize(),we.getImmediate({identifier:X})}_removeServiceInstance(fe,X=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(X)}_addComponent(fe){(0,L._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,L._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function z(){const be=function(be){const fe={},X={__esModule:!0,initializeApp:function(yt,vn={}){const vt=L.initializeApp(yt,vn);if((0,u.r3)(fe,vt.name))return fe[vt.name];const ht=new be(vt,X);return fe[vt.name]=ht,ht},app:we,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const vn=yt.name,vt=vn.replace("-compat","");if(L._registerComponent(yt)&&"PUBLIC"===yt.type){const ht=(kt=we())=>{if("function"!=typeof kt[vt])throw oe.create("invalid-app-argument",{appName:vn});return kt[vt]()};void 0!==yt.serviceProps&&(0,u.ZB)(ht,yt.serviceProps),X[vt]=ht,be.prototype[vt]=function(...kt){return this._getService.bind(this,vn).apply(this,yt.multipleInstances?kt:[])}}return"PUBLIC"===yt.type?X[vt]:null},removeApp:function(yt){delete fe[yt]},useAsService:function(yt,vn){return"serverAuth"===vn?null:vn},modularAPIs:L}};function we(yt){if(!(0,u.r3)(fe,yt=yt||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:yt});return fe[yt]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(fe).map(yt=>fe[yt])}}),we.App=be,X}(ie);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(X){(0,u.ZB)(be,X)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),be}(),B=new ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=P;(0,L.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(He,_e,F)=>{"use strict";F.r(_e),F.d(_e,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>bs,_addComponent:()=>ws,_addOrOverwriteComponent:()=>po,_apps:()=>Ot,_clearComponents:()=>bn,_components:()=>$t,_getProvider:()=>ln,_registerComponent:()=>Cs,_removeServiceInstance:()=>ja,deleteApp:()=>ur,getApp:()=>rs,getApps:()=>De,initializeApp:()=>Ui,onLog:()=>Ht,registerVersion:()=>Ge,setLogLevel:()=>Bi});var u=F(8239),te=F(3910),L=F(5422),ce=F(3854);class ie{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(Qe){const it=Qe.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Nt)){const Mt=Nt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(Nt=>Nt).join(" ")}}const oe="@firebase/app",K="0.7.10",z=new L.Yd("@firebase/app"),bs="[DEFAULT]",Ba={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,$t=new Map;function ws(Qe,it){try{Qe.container.addComponent(it)}catch(Nt){z.debug(`Component ${it.name} failed to register with FirebaseApp ${Qe.name}`,Nt)}}function po(Qe,it){Qe.container.addOrOverwriteComponent(it)}function Cs(Qe){const it=Qe.name;if($t.has(it))return z.debug(`There were multiple attempts to register component ${it}.`),!1;$t.set(it,Qe);for(const Nt of Ot.values())ws(Nt,Qe);return!0}function ln(Qe,it){return Qe.container.getProvider(it)}function ja(Qe,it,Nt=bs){ln(Qe,it).clearInstance(Nt)}function bn(){$t.clear()}const Lt=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class wn{constructor(it,Nt,Mt){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const Yo="9.6.0";function Ui(Qe,it={}){"object"!=typeof it&&(it={name:it});const Nt=Object.assign({name:bs,automaticDataCollectionEnabled:!1},it),Mt=Nt.name;if("string"!=typeof Mt||!Mt)throw Lt.create("bad-app-name",{appName:String(Mt)});const ii=Ot.get(Mt);if(ii){if((0,ce.vZ)(Qe,ii.options)&&(0,ce.vZ)(Nt,ii.config))return ii;throw Lt.create("duplicate-app",{appName:Mt})}const Zt=new te.H0(Mt);for(const Ye of $t.values())Zt.addComponent(Ye);const Oe=new wn(Qe,Nt,Zt);return Ot.set(Mt,Oe),Oe}function rs(Qe=bs){const it=Ot.get(Qe);if(!it)throw Lt.create("no-app",{appName:Qe});return it}function De(){return Array.from(Ot.values())}function ur(Qe){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(Qe){const it=Qe.name;Ot.has(it)&&(Ot.delete(it),yield Promise.all(Qe.container.getProviders().map(Nt=>Nt.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Ge(Qe,it,Nt){var Mt;let ii=null!==(Mt=Ba[Qe])&&void 0!==Mt?Mt:Qe;Nt&&(ii+=`-${Nt}`);const Zt=ii.match(/\s|\//),Oe=it.match(/\s|\//);if(Zt||Oe){const Ye=[`Unable to register library "${ii}" with version "${it}":`];return Zt&&Ye.push(`library name "${ii}" contains illegal characters (whitespace or "/")`),Zt&&Oe&&Ye.push("and"),Oe&&Ye.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void z.warn(Ye.join(" "))}Cs(new te.wA(`${ii}-version`,()=>({library:ii,version:it}),"VERSION"))}function Ht(Qe,it){if(null!==Qe&&"function"!=typeof Qe)throw Lt.create("invalid-log-argument");(0,L.Am)(Qe,it)}function Bi(Qe){(0,L.Ub)(Qe)}Cs(new te.wA("platform-logger",it=>new ie(it),"PRIVATE")),Ge(oe,K,""),Ge(oe,K,"esm2017"),Ge("fire-js","")},3910:(He,_e,F)=>{"use strict";F.d(_e,{wA:()=>L,H0:()=>K});var u=F(8239),te=F(3854);class L{constructor(P,B,G){this.name=P,this.instanceFactory=B,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ce="[DEFAULT]";class ie{constructor(P,B){this.name=P,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const B=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(B)){const G=new te.BH;if(this.instancesDeferred.set(B,G),this.isInitialized(B)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:B});de&&G.resolve(de)}catch(de){}}return this.instancesDeferred.get(B).promise}getImmediate(P){var B;const G=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),de=null!==(B=null==P?void 0:P.optional)&&void 0!==B&&B;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(xe){if(de)return null;throw xe}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(B){}for(const[B,G]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(B);try{const xe=this.getOrInitializeService({instanceIdentifier:de});G.resolve(xe)}catch(xe){}}}}clearInstance(P=ce){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,u.Z)(function*(){const B=Array.from(P.instances.values());yield Promise.all([...B.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...B.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ce){return this.instances.has(P)}getOptions(P=ce){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:B={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:G,options:B});for(const[xe,Ne]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(xe)&&Ne.resolve(de);return de}onInit(P,B){var G;const de=this.normalizeInstanceIdentifier(B),xe=null!==(G=this.onInitCallbacks.get(de))&&void 0!==G?G:new Set;xe.add(P),this.onInitCallbacks.set(de,xe);const Ne=this.instances.get(de);return Ne&&P(Ne,de),()=>{xe.delete(P)}}invokeOnInitCallbacks(P,B){const G=this.onInitCallbacks.get(B);if(G)for(const de of G)try{de(P,B)}catch(xe){}}getOrInitializeService({instanceIdentifier:P,options:B={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(z=P,z===ce?void 0:z),options:B}),this.instances.set(P,G),this.instancesOptions.set(P,B),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch(de){}var z;return G||null}normalizeInstanceIdentifier(P=ce){return this.component?this.component.multipleInstances?P:ce:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const B=this.getProvider(P.name);if(B.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);B.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const B=new ie(P,this);return this.providers.set(P,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(He,_e,F)=>{"use strict";F.d(_e,{in:()=>te,Yd:()=>oe,Ub:()=>K,Am:()=>z});const u=[];var te=(()=>{return(P=te||(te={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",te;var P})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},J=(P,B,...G)=>{if(B<P.logLevel)return;const de=(new Date).toISOString(),xe=ie[B];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[xe](`[${de}]  ${P.name}:`,...G)};class oe{constructor(B){this.name=B,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in te))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?L[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...B),this._logHandler(this,te.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...B),this._logHandler(this,te.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,te.INFO,...B),this._logHandler(this,te.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,te.WARN,...B),this._logHandler(this,te.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...B),this._logHandler(this,te.ERROR,...B)}}function K(P){u.forEach(B=>{B.setLogLevel(P)})}function z(P,B){for(const G of u){let de=null;B&&B.level&&(de=L[B.level]),G.userLogHandler=null===P?null:(xe,Ne,...be)=>{const fe=be.map(X=>{if(null==X)return null;if("string"==typeof X)return X;if("number"==typeof X||"boolean"==typeof X)return X.toString();if(X instanceof Error)return X.message;try{return JSON.stringify(X)}catch(re){return null}}).filter(X=>X).join(" ");Ne>=(null!=de?de:xe.logLevel)&&P({level:te[Ne].toLowerCase(),message:fe,args:be,type:xe.name})}}}},8239:(He,_e,F)=>{"use strict";function u(L,ce,ie,J,oe,K,z){try{var P=L[K](z),B=P.value}catch(G){return void ie(G)}P.done?ce(B):Promise.resolve(B).then(J,oe)}function te(L){return function(){var ce=this,ie=arguments;return new Promise(function(J,oe){var K=L.apply(ce,ie);function z(B){u(K,J,oe,z,P,"next",B)}function P(B){u(K,J,oe,z,P,"throw",B)}z(void 0)})}}F.d(_e,{Z:()=>te})}},He=>{He(He.s=6811)}]);