(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:He=>{function _e(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}_e.keys=()=>[],_e.resolve=_e,_e.id=8255,He.exports=_e},7716:(He,_e,F)=>{"use strict";F.d(_e,{deG:()=>lh,tb:()=>ms,AFp:()=>XC,ip1:()=>gw,CZH:()=>lf,hGG:()=>mi,z2F:()=>Ga,sBO:()=>$A,Sil:()=>Xo,_Vd:()=>Kh,EJc:()=>bd,SBq:()=>Ru,qLn:()=>Oa,vpe:()=>Ua,gxx:()=>Pl,tBr:()=>Aa,XFs:()=>Ge,OlP:()=>cn,zs3:()=>Sn,ZZ4:()=>V_,aQg:()=>B_,soG:()=>kt,YKP:()=>YA,v3s:()=>Cw,h0i:()=>ad,PXZ:()=>FN,R0b:()=>gi,FiY:()=>Na,Lbi:()=>SN,g9A:()=>eT,Qsj:()=>MA,FYo:()=>L_,JOm:()=>y,Tiy:()=>ab,q3G:()=>Ln,tp0:()=>or,EAV:()=>dT,Rgc:()=>Jh,dDg:()=>vw,DyG:()=>Ms,q4F:()=>ub,GfV:()=>ZD,s_b:()=>H_,ifc:()=>Pe,eFA:()=>gf,G48:()=>Dg,Gpc:()=>U,X6Q:()=>Cy,_c5:()=>Mw,VLi:()=>xi,c2e:()=>mw,zSh:()=>Yc,wAp:()=>ot,vHH:()=>Ne,EiD:()=>Fc,mCW:()=>Ra,qzn:()=>wl,JVY:()=>ym,pB0:()=>Rc,eBb:()=>Qf,L6k:()=>Jf,LAX:()=>Uo,cg1:()=>E_,Tjo:()=>_T,kL8:()=>q0,yhl:()=>mh,dqk:()=>pt,sIi:()=>Ap,CqO:()=>A0,QGY:()=>S0,F4k:()=>QE,RDi:()=>So,AaK:()=>K,z3N:()=>Bo,qOj:()=>f0,TTD:()=>hn,_Bn:()=>sb,xp6:()=>Nv,uIk:()=>m0,Tol:()=>uD,DjV:()=>yD,ekj:()=>P0,Suo:()=>Jb,Xpm:()=>Sr,lG2:()=>sc,Yz7:()=>sn,cJS:()=>gn,oAB:()=>Do,Yjl:()=>bi,Y36:()=>Mp,_UZ:()=>KE,BQk:()=>I0,ynx:()=>T0,qZA:()=>C0,TgZ:()=>D0,EpF:()=>JE,n5z:()=>ll,Ikx:()=>b_,SDv:()=>tb,QtT:()=>VD,pQV:()=>sd,LFG:()=>fn,$8M:()=>ah,NdJ:()=>N0,CRH:()=>Qb,oxw:()=>Un,ALo:()=>qb,lcZ:()=>ql,Hsn:()=>XE,F$t:()=>Jc,Q6J:()=>w0,s9C:()=>f_,MGl:()=>p_,VKq:()=>$b,WLB:()=>Hb,kEZ:()=>Gb,iGM:()=>Kb,MAs:()=>VE,CHM:()=>nl,LSH:()=>tp,kYT:()=>Wu,Udp:()=>Pp,YNc:()=>LE,W1O:()=>UC,_uU:()=>$S,Oqu:()=>y_,hij:()=>er,Gf:()=>VC});var u=F(9765),te=F(5319),L=F(7574),ce=F(6682),ie=F(8819);function J(i){for(let s in i)if(i[s]===J)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function z(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const P=J({__forward_ref__:J});function U(i){return i.__forward_ref__=U,i.toString=function(){return K(this())},i}function G(i){return de(i)?i():i}function de(i){return"function"==typeof i&&i.hasOwnProperty(P)&&i.__forward_ref__===U}class Ne extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}function It(i,s){const a=s?` in ${s}`:"";throw new Ne("201",`No provider for ${re(i)} found${a}`)}function jt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function gn(i){return{providers:i.providers||[],imports:i.imports||[]}}function rr(i){return Vt(i,ss)||Vt(i,ir)}function Vt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Li(i){return i&&(i.hasOwnProperty(De)||i.hasOwnProperty($n))?i[De]:null}const ss=J({\u0275prov:J}),De=J({\u0275inj:J}),ir=J({ngInjectableDef:J}),$n=J({ngInjectorDef:J});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let $t;function ei(i){const s=$t;return $t=i,s}function et(i,s,a){const l=rr(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ge.Optional?null:void 0!==s?s:void It(K(i),"Injector")}function Nt(i){return{toString:i}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Je="undefined"!=typeof globalThis&&globalThis,Gu="undefined"!=typeof window&&window,Ws="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pt=Je||"undefined"!=typeof global&&global||Gu||Ws,W={},j=[],Z=J({\u0275cmp:J}),ye=J({\u0275dir:J}),se=J({\u0275pipe:J}),Be=J({\u0275mod:J}),gt=J({\u0275loc:J}),Bt=J({\u0275fac:J}),Mn=J({__NG_ELEMENT_ID__:J});let Rn=0;function Sr(i){return Nt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||j,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pe.Emulated,id:"c",styles:i.styles||j,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return l.id+=Rn++,l.inputs=Co(i.inputs,a),l.outputs=Co(i.outputs),h&&h.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(gr):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(Eo):null,l})}function gr(i){return Yn(i)||function(i){return i[ye]||null}(i)}function Eo(i){return function(i){return i[se]||null}(i)}const qu={};function Do(i){return Nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||j,declarations:i.declarations||j,imports:i.imports||j,exports:i.exports||j,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(qu[i.id]=i.type),s})}function Wu(i,s){return Nt(()=>{const a=wi(i,!0);a.declarations=s.declarations||j,a.imports=s.imports||j,a.exports=s.exports||j})}function Co(i,s){if(null==i)return W;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=l,s&&(s[d]=h)}return a}const sc=Sr;function bi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Yn(i){return i[Z]||null}function wi(i,s){const a=i[Be]||null;if(!a&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return a}function an(i){return Array.isArray(i)&&"object"==typeof i[1]}function yr(i){return Array.isArray(i)&&!0===i[1]}function Vd(i){return 0!=(8&i.flags)}function Za(i){return 2==(2&i.flags)}function Wr(i){return 1==(1&i.flags)}function Ui(i){return null!==i.template}function ji(i){return 0!=(512&i[2])}function os(i,s){return i.hasOwnProperty(Bt)?i[Bt]:null}class Qa{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function hn(){return Xa}function Xa(i){return i.type.prototype.ngOnChanges&&(i.setInput=Mr),im}function im(){const i=Zu(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Mr(i,s,a,l){const d=Zu(i)||function(i,s){return i[as]=s}(i,{previous:W,current:null}),h=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[a],E=m[v];h[v]=new Qa(E&&E.currentValue,s,m===W),i[l]=s}hn.ngInherit=!0;const as="__ngSimpleChanges__";function Zu(i){return i[as]||null}let fa;function So(i){fa=i}function Ys(){return void 0!==fa?fa:"undefined"!=typeof document?document:void 0}function Xt(i){return!!i.listen}const us={createRenderer:(i,s)=>Ys()};function qt(i){for(;Array.isArray(i);)i=i[0];return i}function Ao(i,s){return qt(s[i])}function oi(i,s){return qt(s[i.index])}function Ks(i,s){return i.data[s]}function Js(i,s){return i[s]}function vr(i,s){const a=s[i];return an(a)?a:a[0]}function Qu(i){return 4==(4&i[2])}function Xu(i){return 128==(128&i[2])}function kn(i,s){return null==s?null:i[s]}function tu(i){i[18]=0}function nu(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const st={lFrame:gc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ru(){return st.bindingsEnabled}function ve(){return st.lFrame.lView}function Et(){return st.lFrame.tView}function nl(i){return st.lFrame.contextLView=i,i[8]}function nn(){let i=rl();for(;null!==i&&64===i.type;)i=i.parent;return i}function rl(){return st.lFrame.currentTNode}function ls(){const i=st.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Rr(i,s){const a=st.lFrame;a.currentTNode=i,a.isParent=s}function ga(){return st.lFrame.isParent}function iu(){st.lFrame.isParent=!1}function ma(){return st.isInCheckNoChangesMode}function _a(i){st.isInCheckNoChangesMode=i}function On(){const i=st.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Di(){return st.lFrame.bindingIndex}function Hi(){return st.lFrame.bindingIndex++}function xr(i){const s=st.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function il(i){st.lFrame.inI18n=i}function ou(i,s){const a=st.lFrame;a.bindingIndex=a.bindingRootIndex=i,au(s)}function au(i){st.lFrame.currentDirectiveIndex=i}function sl(){return st.lFrame.currentQueryIndex}function ya(i){st.lFrame.currentQueryIndex=i}function va(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function pc(i,s,a){if(a&Ge.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&Ge.Host||(d=va(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const l=st.lFrame=Qd();return l.currentTNode=s,l.lView=i,!0}function No(i){const s=Qd(),a=i[1];st.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Qd(){const i=st.lFrame,s=null===i?null:i.child;return null===s?gc(i):s}function gc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xd(){const i=st.lFrame;return st.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const eh=Xd;function Ts(){const i=Xd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Kn(){return st.lFrame.selectedIndex}function ba(i){st.lFrame.selectedIndex=i}function _n(){const i=st.lFrame;return Ks(i.tView,i.selectedIndex)}function ol(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:A}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),C&&((i.viewHooks||(i.viewHooks=[])).push(a,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,C)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function Xs(i,s,a){_c(i,s,3,a)}function cu(i,s,a,l){(3&i[2])===a&&_c(i,s,a,l)}function En(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function _c(i,s,a,l){const h=null!=l?l:-1,m=s.length-1;let v=0;for(let E=void 0!==l?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(v=s[E],null!=l&&v>=l)break}else s[E]<0&&(i[18]+=65536),(v<h||-1==h)&&(Uf(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function Uf(i,s,a,l){const d=a[l]<0,h=a[l+1],v=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Ea{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function rh(i,s,a){const l=Xt(i);let d=0;for(;d<a.length;){const h=a[d];if("number"==typeof h){if(0!==h)break;d++;const m=a[d++],v=a[d++],E=a[d++];l?i.setAttribute(s,v,E,m):s.setAttributeNS(m,v,E)}else{const m=h,v=a[++d];Ss(m)?l&&i.setProperty(s,m,v):l?i.setAttribute(s,m,v):s.setAttribute(m,v),d++}}return d}function $f(i){return 3===i||4===i||6===i}function Ss(i){return 64===i.charCodeAt(0)}function al(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Hf(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Hf(i,s,a,l,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const v=i[h++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=h-1;break}}}for(;h<i.length;){const v=i[h];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==d&&(i[h+1]=d));if(l===i[h+1])return void(i[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,a),null!==l&&i.splice(h++,0,l),null!==d&&i.splice(h++,0,d)}function vc(i){return-1!==i}function to(i){return 32767&i}function ai(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let du=!0;function Ca(i){const s=du;return du=i,s}let oh=0;function hu(i,s){const a=Zt(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Mo(l.data,i),Mo(s,null),Mo(l.blueprint,null));const d=Ue(i,s),h=i.injectorIndex;if(vc(d)){const m=to(d),v=ai(d,s),E=v[1].data;for(let C=0;C<8;C++)s[h+C]=v[m+C]|E[m+C]}return s[h+8]=d,h}function Mo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Zt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ue(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(l=2===m?h.declTNode:1===m?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Yt(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Mn)&&(l=a[Mn]),null==l&&(l=a[Mn]=oh++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function yn(i,s,a){if(a&Ge.Optional)return i;It(s,"NodeInjector")}function As(i,s,a,l){if(a&Ge.Optional&&void 0===l&&(l=null),0==(a&(Ge.Self|Ge.Host))){const d=i[9],h=ei(void 0);try{return d?d.get(s,l,a&Ge.Optional):et(s,l,a&Ge.Optional)}finally{ei(h)}}return yn(l,s,a)}function Ro(i,s,a,l=Ge.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Mn)?i[Mn]:void 0;return"number"==typeof s?s>=0?255&s:fu:s}(a);if("function"==typeof h){if(!pc(s,i,l))return l&Ge.Host?yn(d,a,l):As(s,a,l,d);try{const m=h(l);if(null!=m||l&Ge.Optional)return m;It(a)}finally{eh()}}else if("number"==typeof h){let m=null,v=Zt(i,s),E=-1,C=l&Ge.Host?s[16][6]:null;for((-1===v||l&Ge.SkipSelf)&&(E=-1===v?Ue(i,s):s[v+8],-1!==E&&pu(l,!1)?(m=s[1],v=to(E),s=ai(E,s)):v=-1);-1!==v;){const A=s[1];if(Ta(h,v,A.data)){const k=um(v,s,a,m,l,C);if(k!==rn)return k}E=s[v+8],-1!==E&&pu(l,s[1].data[v+8]===C)&&Ta(h,v,s)?(m=A,v=to(E),s=ai(E,s)):v=-1}}}return As(s,a,l,d)}const rn={};function fu(){return new cs(nn(),ve())}function um(i,s,a,l,d,h){const m=s[1],v=m.data[i+8],A=no(v,m,a,null==l?Za(v)&&du:l!=m&&0!=(3&v.type),d&Ge.Host&&h===v);return null!==A?Dn(s,m,A,v):rn}function no(i,s,a,l,d){const h=i.providerIndexes,m=s.data,v=1048575&h,E=i.directiveStart,A=h>>20,O=d?v+A:i.directiveEnd;for(let $=l?v:v+A;$<O;$++){const Y=m[$];if($<E&&a===Y||$>=E&&Y.type===a)return $}if(d){const $=m[E];if($&&Ui($)&&$.type===a)return E}return null}function Dn(i,s,a,l){let d=i[a];const h=s.data;if(function(i){return i instanceof Ea}(d)){const m=d;m.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(re(h[a]));const v=Ca(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?ei(m.injectImpl):null;pc(i,l,Ge.Default);try{d=i[a]=m.factory(void 0,h,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const m=Xa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==E&&ei(E),Ca(v),m.resolving=!1,eh()}}return d}function Ta(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function pu(i,s){return!(i&Ge.Self||i&Ge.Host&&s)}class cs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Ro(this._tNode,this._lView,s,l,a)}}function ll(i){return Nt(()=>{const s=i.prototype.constructor,a=s[Bt]||gu(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const h=d[Bt]||gu(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function gu(i){return de(i)?()=>{const s=gu(G(i));return s&&s()}:os(i)}function ah(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const h=a[d];if($f(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(nn(),i)}const Ns="__parameters__";function Wi(i,s,a){return Nt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const m=new d(...h);return v.annotation=m,v;function v(E,C,A){const k=E.hasOwnProperty(Ns)?E[Ns]:Object.defineProperty(E,Ns,{value:[]})[Ns];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(m),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class cn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lh=new cn("AnalyzeForEntryComponents"),Ms=Function;function ui(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),ui(l,s)):s!==i&&s.push(l)}return s}function ds(i,s){i.forEach(a=>Array.isArray(a)?ds(a,s):s(a))}function _u(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ii(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Rs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function Jn(i,s,a){let l=Sa(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function bn(i,s){const a=Sa(i,s);if(a>=0)return i[1|a]}function Sa(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const h=l+(d-l>>1),m=i[h<<a];if(s===m)return h<<a;m>s?d=h:l=h+1}return~(d<<a)}(i,s,1)}const Rt={},en="__NG_DI_FLAG__",Fn="ngTempTokenPath",Qn=/\n/gm,Po="__source",zi=J({provide:String,useValue:J});let Zi;function ut(i){const s=Zi;return Zi=i,s}function Wf(i,s=Ge.Default){if(void 0===Zi)throw new Error("inject() must be called from an injection context");return null===Zi?et(i,void 0,s):Zi.get(i,s&Ge.Optional?null:void 0,s)}function fn(i,s=Ge.Default){return($t||Wf)(G(i),s)}function yu(i){const s=[];for(let a=0;a<i.length;a++){const l=G(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=Ge.Default;for(let m=0;m<l.length;m++){const v=l[m],E=zf(v);"number"==typeof E?-1===E?d=v.token:h|=E:d=v}s.push(fn(d,h))}else s.push(fn(l))}return s}function vu(i,s){return i[en]=s,i.prototype[en]=s,i}function zf(i){return i[en]}function Yi(i,s,a,l){const d=i[Fn];throw s[Po]&&d.unshift(s[Po]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):K(v)))}d=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Qn,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Fn]=null,i}const Aa=vu(Wi("Inject",i=>({token:i})),-1),Na=vu(Wi("Optional"),8),or=vu(Wi("SkipSelf"),4);let yl;function Vo(i){var s;return(null===(s=function(){if(void 0===yl&&(yl=null,pt.trustedTypes))try{yl=pt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return yl}())||void 0===s?void 0:s.createHTML(i))||i}class wu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class av extends wu{getTypeName(){return"HTML"}}class uv extends wu{getTypeName(){return"Style"}}class gh extends wu{getTypeName(){return"Script"}}class lv extends wu{getTypeName(){return"URL"}}class cv extends wu{getTypeName(){return"ResourceURL"}}function Bo(i){return i instanceof wu?i.changingThisBreaksApplicationSecurity:i}function wl(i,s){const a=mh(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function mh(i){return i instanceof wu&&i.getTypeName()||null}function ym(i){return new av(i)}function Jf(i){return new uv(i)}function Qf(i){return new gh(i)}function Uo(i){return new lv(i)}function Rc(i){return new cv(i)}function _h(i){const s=new dv(i);return function(){try{return!!(new window.DOMParser).parseFromString(Vo(""),"text/html")}catch(i){return!1}}()?new vm(s):s}class vm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Vo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class dv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Vo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Vo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const bm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ra(i){return(i=String(i)).match(bm)||i.match(yh)?i:"unsafe:"+i}function vh(i){return(i=String(i)).split(",").map(s=>Ra(s.trim())).join(", ")}function hs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Eu(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Dl=hs("area,br,col,hr,img,wbr"),Em=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cl=hs("rp,rt"),Xf=Eu(Dl,Eu(Em,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eu(Cl,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eu(Cl,Em)),xc=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ki=hs("srcset"),kc=Eu(xc,Ki,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fv=hs("script,style,template");class Oc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Xf.hasOwnProperty(a))return this.sanitizedSomething=!0,!fv.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),m=h.name,v=m.toLowerCase();if(!kc.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let E=h.value;xc[v]&&(E=Ra(E)),Ki[v]&&(E=vh(E)),this.buf.push(" ",m,'="',bh(E),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Xf.hasOwnProperty(a)&&!Dl.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(bh(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const pv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gv=/([^\#-~ |!])/g;function bh(i){return i.replace(/&/g,"&amp;").replace(pv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(gv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pc;function Fc(i,s){let a=null;try{Pc=Pc||_h(i);let l=s?String(s):"";a=Pc.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=a.innerHTML,a=Pc.getInertBodyElement(l)}while(l!==h);return Vo((new Oc).sanitizeChildren(Lc(a)||a))}finally{if(a){const l=Lc(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Lc(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function tp(i){const s=function(){const i=ve();return i&&i[12]}();return s?s.sanitize(Ln.URL,i)||"":wl(i,"URL")?Bo(i):Ra(X(i))}const Du="__ngContext__";function Or(i,s){i[Du]=s}function op(i){const s=function(i){return i[Du]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ka(i){return i.ngOriginalError}function dp(i,...s){i.error(...s)}class Oa{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||dp;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(ka(s)):null}_findOriginalError(s){let a=s&&ka(s);for(;a&&ka(a);)a=ka(a);return a||null}}const bv=/^>|^->|<!--|-->|--!>|<!-$/g,oo=/(<|>)/;const km=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pt))();function fs(i){return i instanceof Function?i():i}var y=(()=>((y=y||{})[y.Important=1]="Important",y[y.DashCase=2]="DashCase",y))();let p;function g(i,s){return p(i,s)}function M(i){const s=i[3];return yr(s)?s[3]:s}function ke(i){return $e(i[13])}function Se(i){return $e(i[4])}function $e(i){for(;null!==i&&!yr(i);)i=i[4];return i}function Dt(i,s,a,l,d){if(null!=l){let h,m=!1;yr(l)?h=l:an(l)&&(m=!0,l=l[0]);const v=qt(l);0===i&&null!==a?null==d?b1(s,a,v):Ml(s,a,v,d||null,!0):1===i&&null!==a?Ml(s,a,v,d||null,!0):2===i?Cv(s,v,m):3===i&&s.destroyNode(v),null!=h&&function(i,s,a,l,d){const h=a[7];h!==qt(a)&&Dt(s,i,l,h,d);for(let v=10;v<a.length;v++){const E=a[v];Gc(E[1],E,i,s,l,h)}}(s,i,h,a,d)}}function qn(i,s){return Xt(i)?i.createText(s):i.createTextNode(s)}function Ho(i,s,a){Xt(i)?i.setValue(s,a):s.textContent=a}function Ih(i,s){return i.createComment(function(i){return i.replace(bv,s=>s.replace(oo,"\u200b$1\u200b"))}(s))}function Uc(i,s,a){return Xt(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function $c(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,nu(d,-1)),a.splice(l,1)}function Sh(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&$c(d,l),s>0&&(i[a-1][4]=l[4]);const h=Ii(i,10+s);!function(i,s){Gc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Ah(i,s){if(!(256&s[2])){const a=s[11];Xt(a)&&a.destroyNode&&Gc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Pa(i[1],i);for(;s;){let a=null;if(an(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)an(s)&&Pa(s[1],s),s=s[3];null===s&&(s=i),an(s)&&Pa(s[1],s),a=s&&s[4]}s=a}}(s)}}function Pa(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Ea)){const h=a[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=d[h[m]],E=h[m+1];try{E.call(v)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const m=a[h+1],v="function"==typeof m?m(s):qt(s[m]),E=l[d=a[h+2]],C=a[h+3];"boolean"==typeof C?v.removeEventListener(a[h],E,C):C>=0?l[d=C]():l[d=-C].unsubscribe(),h+=2}else{const m=l[d=a[h+1]];a[h].call(m)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Xt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&yr(s[3])){a!==s[3]&&$c(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function y1(i,s,a){return v1(i,s.parent,a)}function v1(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return oi(l,a)}function Ml(i,s,a,l,d){Xt(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function b1(i,s,a){Xt(i)?i.appendChild(s,a):s.appendChild(a)}function w1(i,s,a,l,d){null!==l?Ml(i,s,a,l,d):b1(i,s,a)}function Um(i,s){return Xt(i)?i.parentNode(s):s.parentNode}function $m(i,s,a){return Hc(i,s,a)}function Hm(i,s,a){return 40&i.type?oi(i,a):null}let wv,Hc=Hm;function E1(i,s){Hc=i,wv=s}function fp(i,s,a,l){const d=y1(i,l,s),h=s[11],v=$m(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)w1(h,d,a[E],v,!1);else w1(h,d,a,v,!1);void 0!==wv&&wv(h,l,s,a,d)}function Gm(i,s){if(null!==s){const a=s.type;if(3&a)return oi(s,i);if(4&a)return Dv(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Gm(i,l);{const d=i[s.index];return yr(d)?Dv(-1,d):qt(d)}}if(32&a)return g(s,i)()||qt(i[s.index]);{const l=Ev(i,s);return null!==l?Array.isArray(l)?l[0]:Gm(M(i[16]),l):Gm(i,s.next)}}return null}function Ev(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Dv(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Gm(l,d)}return s[7]}function Cv(i,s,a){const l=Um(i,s);l&&function(i,s,a,l){Xt(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function qm(i,s,a,l,d,h,m){for(;null!=a;){const v=l[a.index],E=a.type;if(m&&0===s&&(v&&Or(qt(v),l),a.flags|=4),64!=(64&a.flags))if(8&E)qm(i,s,a.child,l,d,h,!1),Dt(s,i,d,v,h);else if(32&E){const C=g(a,l);let A;for(;A=C();)Dt(s,i,d,A,h);Dt(s,i,d,v,h)}else 16&E?Rl(i,s,l,a,d,h):Dt(s,i,d,v,h);a=m?a.projectionNext:a.next}}function Gc(i,s,a,l,d,h){qm(a,l,i.firstChild,s,d,h,!1)}function Rl(i,s,a,l,d,h){const m=a[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)Dt(s,i,d,E[C],h);else qm(i,s,E,m[3],d,h,!0)}function C1(i,s,a){Xt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Tv(i,s,a){Xt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Iv(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||i.charCodeAt(d+h)<=32)return d}a=d+1}}const T1="ng-template";function bI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Iv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Sv(i){return 4===i.type&&i.value!==T1}function wI(i,s,a){return s===(4!==i.type||a?i.value:T1)}function EI(i,s,a){let l=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if($f(i[s]))return s;return i.length}(d);let m=!1;for(let v=0;v<s.length;v++){const E=s[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!wI(i,E,a)||""===E&&1===s.length){if(Go(l))return!1;m=!0}}else{const C=8&l?E:s[++v];if(8&l&&null!==i.attrs){if(!bI(i.attrs,C,a)){if(Go(l))return!1;m=!0}continue}const k=Av(8&l?"class":E,d,Sv(i),a);if(-1===k){if(Go(l))return!1;m=!0;continue}if(""!==C){let O;O=k>h?"":d[k+1].toLowerCase();const $=8&l?O:null;if($&&-1!==Iv($,C,0)||2&l&&C!==O){if(Go(l))return!1;m=!0}}}}else{if(!m&&!Go(l)&&!Go(E))return!1;if(m&&Go(E))continue;m=!1,l=E|1&l}}return Go(l)||m}function Go(i){return 0==(1&i)}function Av(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function I1(i,s,a=!1){for(let l=0;l<s.length;l++)if(EI(i,s[l],a))return!0;return!1}function Ix(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function A1(i,s){return i?":not("+s.trim()+")":s}function TI(i){let s=i[0],a=1,l=2,d="",h=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const v=i[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!Go(m)&&(s+=A1(h,d),d=""),l=m,h=h||!Go(l);a++}return""!==d&&(s+=A1(h,d)),s}const Ye={};function Nv(i){N1(Et(),ve(),Kn()+i,ma())}function N1(i,s,a,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Xs(s,h,a)}else{const h=i.preOrderHooks;null!==h&&cu(s,h,0,a)}ba(a)}function Wm(i,s){return i<<17|s<<2}function qo(i){return i>>17&32767}function zm(i){return 2|i}function Su(i){return(131068&i)>>2}function Zm(i,s){return-131069&i|s<<2}function Mv(i){return 1|i}function Qm(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],h=a[l+1];if(-1!==h){const m=i.data[h];ya(d),m.contentQueries(2,s[h],h)}}}function ur(i,s,a,l,d,h,m,v,E,C){const A=s.blueprint.slice();return A[0]=d,A[2]=140|l,tu(A),A[3]=A[15]=i,A[8]=a,A[10]=m||i&&i[10],A[11]=v||i&&i[11],A[12]=E||i&&i[12]||null,A[9]=C||i&&i[9]||null,A[6]=h,A[16]=2==s.type?i[16]:A,A}function xs(i,s,a,l,d){let h=i.data[s];if(null===h)h=Lv(i,s,a,l,d),st.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=l,h.attrs=d;const m=ls();h.injectorIndex=null===m?-1:m.injectorIndex}return Rr(h,!0),h}function Lv(i,s,a,l,d){const h=rl(),m=ga(),E=i.data[s]=function(i,s,a,l,d,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}function mp(i,s,a,l){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Nh(i,s,a){No(s);try{const l=i.viewQuery;null!==l&&rE(1,l,a);const d=i.template;null!==d&&Vv(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Qm(i,s),i.staticViewQueries&&rE(2,i.viewQuery,a);const h=i.components;null!==h&&function(i,s){for(let a=0;a<s.length;a++)s_(i,s[a])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ts()}}function zc(i,s,a,l){const d=s[2];if(256==(256&d))return;No(s);const h=ma();try{tu(s),function(i){st.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Vv(i,s,a,2,l);const m=3==(3&d);if(!h)if(m){const C=i.preOrderCheckHooks;null!==C&&Xs(s,C,null)}else{const C=i.preOrderHooks;null!==C&&cu(s,C,0,null),En(s,0)}if(function(i){for(let s=ke(i);null!==s;s=Se(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],h=d[3];0==(1024&d[2])&&nu(h,1),d[2]|=1024}}}(s),function(i){for(let s=ke(i);null!==s;s=Se(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];Xu(l)&&zc(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Qm(i,s),!h)if(m){const C=i.contentCheckHooks;null!==C&&Xs(s,C)}else{const C=i.contentHooks;null!==C&&cu(s,C,1),En(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)ba(~d);else{const h=d,m=a[++l],v=a[++l];ou(m,h),v(2,s[h])}}}finally{ba(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)yp(i,s[a])}(s,v);const E=i.viewQuery;if(null!==E&&rE(2,E,l),!h)if(m){const C=i.viewCheckHooks;null!==C&&Xs(s,C)}else{const C=i.viewHooks;null!==C&&cu(s,C,2),En(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,nu(s[3],-1))}finally{Ts()}}function $1(i,s,a,l){const d=s[10],h=!ma(),m=Qu(s);try{h&&!m&&d.begin&&d.begin(),m&&Nh(i,s,l),zc(i,s,a,l)}finally{h&&!m&&d.end&&d.end()}}function Vv(i,s,a,l,d){const h=Kn(),m=2&l;try{ba(-1),m&&s.length>20&&N1(i,s,20,ma()),a(l,d)}finally{ba(h)}}function Bv(i,s,a){if(Vd(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,a[h],h)}}}function Xm(i,s,a){!ru()||(function(i,s,a,l){const d=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||hu(a,s),Or(l,s);const m=a.initialInputs;for(let v=d;v<h;v++){const E=i.data[v],C=Ui(E);C&&VI(s,a,E);const A=Dn(s,i,v,a);Or(A,s),null!==m&&Bx(0,v-d,A,E,0,m),C&&(vr(a.index,s)[8]=A)}}(i,s,a,oi(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,m=a.index,v=st.lFrame.currentDirectiveIndex;try{ba(m);for(let E=l;E<d;E++){const C=i.data[E],A=s[E];au(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&FI(C,A)}}finally{ba(-1),au(v)}}(i,s,a))}function e_(i,s,a=oi){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?a(s,i):i[m];i[d++]=v}}}function Uv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wo(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Wo(i,s,a,l,d,h,m,v,E,C){const A=20+l,k=A+d,O=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Ye);return a}(A,k),$="function"==typeof C?C():C;return O[1]={type:i,blueprint:O,template:a,queries:null,viewQuery:v,declTNode:s,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:$,incompleteFirstPass:!1}}function G1(i,s,a,l){const d=iE(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Zv(i).push(l,d.length-1))}function Hv(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Qi(i,s,a,l,d,h,m,v){const E=oi(s,a);let A,C=s.inputs;!v&&null!=C&&(A=C[l])?(GI(i,a,A,l,d),Za(s)&&function(i,s){const a=vr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,Xt(h)?h.setProperty(E,l,d):Ss(l)||(E.setProperty?E.setProperty(l,d):E[l]=d))}function t_(i,s,a,l){let d=!1;if(ru()){const h=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];I1(a,m.selectors,!1)&&(d||(d=[]),Yt(hu(a,s),i,m.type),Ui(m)?(Q1(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===l?null:{"":-1};if(null!==h){d=!0,X1(a,i.data.length,h.length);for(let A=0;A<h.length;A++){const k=h[A];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,C=mp(i,s,h.length,null);for(let A=0;A<h.length;A++){const k=h[A];a.mergedAttrs=al(a.mergedAttrs,k.hostAttrs),r_(i,a,s,C,k),n_(C,k,m),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const O=k.type.prototype;!v&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!E&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),C++}!function(i,s){const l=s.directiveEnd,d=i.data,h=s.attrs,m=[];let v=null,E=null;for(let C=s.directiveStart;C<l;C++){const A=d[C],k=A.inputs,O=null===h||Sv(s)?null:Ux(k,h);m.push(O),v=Hv(k,C,v),E=Hv(A.outputs,C,E)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=E}(i,a)}m&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(a,l,m)}return a.mergedAttrs=al(a.mergedAttrs,a.attrs),d}function Si(i,s,a,l,d,h){const m=h.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=E&&v.push(E),v.push(l,d,m)}}function FI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Q1(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function n_(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ui(s)&&(a[""]=i)}}function X1(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function r_(i,s,a,l,d){i.data[l]=d;const h=d.factory||(d.factory=os(d.type)),m=new Ea(h,Ui(d),null);i.blueprint[l]=m,a[l]=m,Si(i,s,0,l,mp(i,a,d.hostVars,Ye),d)}function VI(i,s,a){const l=oi(s,i),d=Uv(a),h=i[10],m=Rh(i,ur(i,d,null,a.onPush?64:16,l,s,h,h.createRenderer(l,a),null,null));i[s.index]=m}function eE(i,s,a,l,d,h,m){if(null==h)Xt(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==m?X(h):m(h,l||"",d);Xt(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}function Bx(i,s,a,l,d,h){const m=h[s];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const C=m[E++],A=m[E++],k=m[E++];null!==v?l.setInput(a,k,C,A):a[A]=k}}}function Ux(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function BI(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function yp(i,s){const a=vr(s,i);if(Xu(a)){const l=a[1];80&a[2]?zc(l,a,l.template,a[8]):a[5]>0&&Mh(a)}}function Mh(i){for(let l=ke(i);null!==l;l=Se(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const m=h[1];zc(m,h,m.template,h[8])}else h[5]>0&&Mh(h)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=vr(a[l],i);Xu(d)&&d[5]>0&&Mh(d)}}function s_(i,s){const a=vr(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Nh(l,a,a[8])}function Rh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function xh(i){for(;i;){i[2]|=64;const s=M(i);if(ji(i)&&!s)return i;i=s}return null}function o_(i,s,a){const l=s[10];l.begin&&l.begin();try{zc(i,s,i.template,a)}catch(d){throw vp(s,d),d}finally{l.end&&l.end()}}function tE(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=op(a),d=l[1];$1(d,l,d.template,a)}}(i[8])}function rE(i,s,a){ya(0),s(i,a)}const zv=(()=>Promise.resolve(null))();function iE(i){return i[7]||(i[7]=[])}function Zv(i){return i.cleanup||(i.cleanup=[])}function vp(i,s){const a=i[9],l=a?a.get(Oa,null):null;l&&l.handleError(s)}function GI(i,s,a,l,d){for(let h=0;h<a.length;){const m=a[h++],v=a[h++],E=s[m],C=i.data[m];null!==C.setInput?C.setInput(E,d,l,v):E[v]=d}}function Zc(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?h=v:1==h?d=z(d,v):2==h&&(l=z(l,v+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const Pl=new cn("INJECTOR",-1);class Yv{get(s,a=Rt){if(a===Rt){const l=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw l.name="NullInjectorError",l}return a}}const Yc=new cn("Set Injector scope."),Oh={},Kv={};let wp;function Ep(){return void 0===wp&&(wp=new Yv),wp}function sE(i,s=null,a=null,l){return new qI(i,a,s||Ep(),l)}class qI{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&ds(a,v=>this.processProvider(v,s,a)),ds([s],v=>this.processInjectorType(v,[],h)),this.records.set(Pl,Cp(void 0,this));const m=this.records.get(Yc);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Rt,l=Ge.Default){this.assertNotDestroyed();const d=ut(this),h=ei(void 0);try{if(!(l&Ge.SkipSelf)){let v=this.records.get(s);if(void 0===v){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof cn)&&rr(s);v=E&&this.injectableDefInScope(E)?Cp(oE(s),Oh):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&Ge.Self?Ep():this.parent).get(s,a=l&Ge.Optional&&a===Rt?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Fn]=m[Fn]||[]).unshift(K(s)),d)throw m;return Yi(m,s,"R3InjectorError",this.source)}throw m}finally{ei(h),ut(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(K(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=G(s)))return!1;let d=Li(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,v=-1!==l.indexOf(m);if(void 0!==h&&(d=Li(h)),null==d)return!1;if(null!=d.imports&&!v){let A;l.push(m);try{ds(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:O,providers:$}=A[k];ds($,Y=>this.processProvider(Y,O,$||j))}}this.injectorDefTypes.add(m);const E=os(m)||(()=>new m);this.records.set(m,Cp(E,Oh));const C=d.providers;if(null!=C&&!v){const A=s;ds(C,k=>this.processProvider(k,A,C))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,l){let d=Ph(s=G(s))?s:G(s&&s.provide);const h=WI(i=s)?Cp(void 0,i.useValue):Cp(Xv(i),Oh);var i;if(Ph(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Cp(void 0,Oh,!0),m.factory=()=>yu(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,a){return a.value===Oh&&(a.value=Kv,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=G(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function oE(i){const s=rr(i),a=null!==s?s.factory:os(i);if(null!==a)return a;if(i instanceof cn)throw new Error(`Token ${K(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Rs(s,"?");throw new Error(`Can't resolve all parameters for ${K(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[ss]||i[ir]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Xv(i,s,a){let l;if(Ph(i)){const d=G(i);return os(d)||oE(d)}if(WI(i))l=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...yu(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>fn(G(i.useExisting));else{const d=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return os(d)||oE(d);l=()=>new d(...yu(i.deps))}return l}function Cp(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function WI(i){return null!==i&&"object"==typeof i&&zi in i}function Ph(i){return"function"==typeof i}const lE=function(i,s,a){return function(i,s=null,a=null,l){const d=sE(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let Sn=(()=>{class i{static create(a,l){return Array.isArray(a)?lE(a,l,""):lE(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Rt,i.NULL=new Yv,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>fn(Pl)}),i.__NG_ELEMENT_ID__=-1,i})();function DE(i,s){ol(op(i)[1],nn())}function f0(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(Ui(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=TE(i.inputs),m.declaredInputs=TE(i.declaredInputs),m.outputs=TE(i.outputs);const v=d.hostBindings;v&&IE(i,v);const E=d.viewQuery,C=d.contentQueries;if(E&&Kx(i,E),C&&Jx(i,C),oe(i.inputs,d.inputs),oe(i.declaredInputs,d.declaredInputs),oe(i.outputs,d.outputs),Ui(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(i),v===f0&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=al(d.hostAttrs,a=al(a,d.hostAttrs))}}(l)}function TE(i){return i===W?{}:i===j?[]:i}function Kx(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function Jx(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,h)=>{s(l,d,h),a(l,d,h)}:s}function IE(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let p0=null;function Sp(){if(!p0){const i=pt.Symbol;if(i&&i.iterator)p0=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(p0=l)}}}return p0}class Zo{constructor(s){this.wrapped=s}static wrap(s){return new Zo(s)}static unwrap(s){return Zo.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Zo}}function Ap(i){return!!g0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Sp()in i)}function g0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function La(i,s,a){return i[s]=a}function lr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Kc(i,s,a,l){const d=lr(i,s,a);return lr(i,s+1,l)||d}function m0(i,s,a,l){const d=ve();return lr(d,Hi(),s)&&(Et(),function(i,s,a,l,d,h){const m=oi(i,s);eE(s[11],m,h,i.value,a,l,d)}(_n(),d,i,s,a,l)),m0}function Lh(i,s,a,l){return lr(i,Hi(),a)?s+X(a)+l:Ye}function Uh(i,s,a,l,d,h,m,v,E,C){const k=function(i,s,a,l,d,h){const m=Kc(i,s,a,l);return Kc(i,s+2,d,h)||m}(i,Di(),a,d,m,E);return xr(4),k?s+X(a)+l+X(d)+h+X(m)+v+X(E)+C:Ye}function LE(i,s,a,l,d,h,m,v){const E=ve(),C=Et(),A=i+20,k=C.firstCreatePass?function(i,s,a,l,d,h,m,v,E){const C=s.consts,A=xs(s,i,4,m||null,kn(C,v));t_(s,a,A,kn(C,E)),ol(s,A);const k=A.tViews=Wo(2,A,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,A),k.queries=s.queries.embeddedTView(A)),A}(A,C,E,s,a,l,d,h,m):C.data[A];Rr(k,!1);const O=E[11].createComment("");fp(C,E,O,k),Or(O,E),Rh(E,E[A]=BI(O,E,O,k)),Wr(k)&&Xm(C,E,k),null!=m&&e_(E,k,v)}function VE(i){return Js(st.lFrame.contextLView,20+i)}function Mp(i,s=Ge.Default){const a=ve();return null===a?fn(i,s):Ro(nn(),a,G(i),s)}function w0(i,s,a){const l=ve();return lr(l,Hi(),s)&&Qi(Et(),_n(),l,i,s,l[11],a,!1),w0}function E0(i,s,a,l,d){const m=d?"class":"style";GI(i,a,s.inputs[m],m,l)}function D0(i,s,a,l){const d=ve(),h=Et(),m=20+i,v=d[11],E=d[m]=Uc(v,s,st.lFrame.currentNamespace),C=h.firstCreatePass?function(i,s,a,l,d,h,m){const v=s.consts,C=xs(s,i,2,d,kn(v,h));return t_(s,a,C,kn(v,m)),null!==C.attrs&&Zc(C,C.attrs,!1),null!==C.mergedAttrs&&Zc(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(m,h,d,0,s,a,l):h.data[m];Rr(C,!0);const A=C.mergedAttrs;null!==A&&rh(v,E,A);const k=C.classes;null!==k&&Tv(v,E,k);const O=C.styles;null!==O&&C1(v,E,O),64!=(64&C.flags)&&fp(h,d,E,C),0===st.lFrame.elementDepthCount&&Or(E,d),st.lFrame.elementDepthCount++,Wr(C)&&(Xm(h,d,C),Bv(h,C,d)),null!==l&&e_(d,C)}function C0(){let i=nn();ga()?iu():(i=i.parent,Rr(i,!1));const s=i;st.lFrame.elementDepthCount--;const a=Et();a.firstCreatePass&&(ol(a,i),Vd(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&E0(a,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&E0(a,s,ve(),s.stylesWithoutHost,!1)}function KE(i,s,a,l){D0(i,s,a,l),C0()}function T0(i,s,a){const l=ve(),d=Et(),h=i+20,m=d.firstCreatePass?function(i,s,a,l,d){const h=s.consts,m=kn(h,l),v=xs(s,i,8,"ng-container",m);return null!==m&&Zc(v,m,!0),t_(s,a,v,kn(h,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(h,d,l,s,a):d.data[h];Rr(m,!0);const v=l[h]=l[11].createComment("");fp(d,l,v,m),Or(v,l),Wr(m)&&(Xm(d,l,m),Bv(d,m,l)),null!=a&&e_(l,m)}function I0(){let i=nn();const s=Et();ga()?iu():(i=i.parent,Rr(i,!1)),s.firstCreatePass&&(ol(s,i),Vd(i)&&s.queries.elementEnd(i))}function JE(){return ve()}function S0(i){return!!i&&"function"==typeof i.then}function QE(i){return!!i&&"function"==typeof i.subscribe}const A0=QE;function N0(i,s,a,l){const d=ve(),h=Et(),m=nn();return function(i,s,a,l,d,h,m,v){const E=Wr(l),A=i.firstCreatePass&&Zv(i),k=s[8],O=iE(s);let $=!0;if(3&l.type||v){const ne=oi(l,s),Me=v?v(ne):ne,ge=O.length,We=v?dt=>v(qt(dt[l.index])):l.index;if(Xt(a)){let dt=null;if(!v&&E&&(dt=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===a&&d[h+1]===l){const v=s[7],E=d[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,l.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=h,dt.__ngLastListenerFn__=h,$=!1;else{h=Bn(l,s,k,h,!1);const Ut=a.listen(Me,d,h);O.push(h,Ut),A&&A.push(d,We,ge,ge+1)}}else h=Bn(l,s,k,h,!0),Me.addEventListener(d,h,m),O.push(h),A&&A.push(d,We,ge,m)}else h=Bn(l,s,k,h,!1);const Y=l.outputs;let le;if($&&null!==Y&&(le=Y[d])){const ne=le.length;if(ne)for(let Me=0;Me<ne;Me+=2){const jr=s[le[Me]][le[Me+1]].subscribe(h),Bs=O.length;O.push(h,jr),A&&A.push(d,l.index,Bs,-(Bs+1))}}}(h,d,d[11],m,i,s,!!a,l),N0}function kp(i,s,a,l){try{return!1!==a(l)}catch(d){return vp(i,d),!1}}function Bn(i,s,a,l,d){return function h(m){if(m===Function)return l;const v=2&i.flags?vr(i.index,s):s;0==(32&s[2])&&xh(v);let E=kp(s,0,l,m),C=h.__ngNextListenerFn__;for(;C;)E=kp(s,0,C,m)&&E,C=C.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Un(i=1){return function(i){return(st.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,st.lFrame.contextLView))[8]}(i)}function Ll(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===l?I1(i,h,!0):Ix(l,h))return d}else a=d}return a}function Jc(i){const s=ve()[16][6];if(!s.projection){const l=s.projection=Rs(i?i.length:1,null),d=l.slice();let h=s.child;for(;null!==h;){const m=i?Ll(h,i):0;null!==m&&(d[m]?d[m].projectionNext=h:l[m]=h,d[m]=h),h=h.next}}}function XE(i,s=0,a){const l=ve(),d=Et(),h=xs(d,20+i,16,null,a||null);null===h.projection&&(h.projection=s),iu(),64!=(64&h.flags)&&function(i,s,a){Rl(s[11],0,s,a,y1(i,a,s),$m(a.parent||s[6],a,s))}(d,l,h)}function f_(i,s,a){return p_(i,"",s,"",a),f_}function p_(i,s,a,l,d){const h=ve(),m=Lh(h,s,a,l);return m!==Ye&&Qi(Et(),_n(),h,i,m,h[11],d,!1),p_}function br(i,s,a,l,d){const h=i[a+1],m=null===s;let v=l?qo(h):Su(h),E=!1;for(;0!==v&&(!1===E||m);){const A=i[v+1];FS(i[v],s)&&(E=!0,i[v+1]=l?Mv(A):zm(A)),v=l?qo(A):Su(A)}E&&(i[a+1]=l?zm(h):Mv(h))}function FS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Sa(i,s)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g_(i){return i.substring(Lr.key,Lr.keyEnd)}function k0(i,s){const a=Lr.textEnd;return a===s?-1:(s=Lr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Lr.key=s,a),Xc(i,s,a))}function Xc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Pp(i,s,a){return lo(i,s,a,!1),Pp}function P0(i,s){return lo(i,s,null,!0),P0}function uD(i){Yo(Jn,Nu,i,!0)}function Nu(i,s){for(let a=function(i){return function(i){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=i.length}(i),k0(i,Xc(i,0,Lr.textEnd))}(s);a>=0;a=k0(s,a))Jn(i,g_(s),!0)}function lo(i,s,a,l){const d=ve(),h=Et(),m=xr(2);h.firstUpdatePass&&F0(h,i,m,l),s!==Ye&&lr(d,m,s)&&hD(h,h.data[Kn()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(Bo(i)))),i}(s,a),l,m)}function Yo(i,s,a,l){const d=Et(),h=xr(2);d.firstUpdatePass&&F0(d,null,h,l);const m=ve();if(a!==Ye&&lr(m,h,a)){const v=d.data[Kn()];if(pD(v,l)&&!Mu(d,h)){let E=l?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(a=z(E,a||"")),E0(d,v,m,a,l)}else!function(i,s,a,l,d,h,m,v){d===Ye&&(d=j);let E=0,C=0,A=0<d.length?d[0]:null,k=0<h.length?h[0]:null;for(;null!==A||null!==k;){const O=E<d.length?d[E+1]:void 0,$=C<h.length?h[C+1]:void 0;let le,Y=null;A===k?(E+=2,C+=2,O!==$&&(Y=k,le=$)):null===k||null!==A&&A<k?(E+=2,Y=A):(C+=2,Y=k,le=$),null!==Y&&hD(i,s,a,l,Y,le,m,v),A=E<d.length?d[E]:null,k=C<h.length?h[C]:null}}(d,v,m,m[11],m[h+1],m[h+1]=function(i,s,a){if(null==a||""===a)return j;const l=[],d=Bo(a);if(Array.isArray(d))for(let h=0;h<d.length;h++)i(l,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&i(l,h,d[h]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,h)}}function Mu(i,s){return s>=i.expandoStartIndex}function F0(i,s,a,l){const d=i.data;if(null===d[a+1]){const h=d[Kn()],m=Mu(i,a);pD(h,l)&&null===s&&!m&&(s=!1),s=function(i,s,a,l){const d=function(i){const s=st.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Lp(a=lD(null,i,s,a,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=lD(d,i,s,a,l),null===h){let E=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Su(l))return i[qo(l)]}(i,s,l);void 0!==E&&Array.isArray(E)&&(E=lD(null,i,s,E[1],l),E=Lp(E,s.attrs,l),function(i,s,a,l){i[qo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,E))}else h=function(i,s,a){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=Lp(l,i[h].hostAttrs,a);return Lp(l,s.attrs,a)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,l),function(i,s,a,l,d,h){let m=h?s.classBindings:s.styleBindings,v=qo(m),E=Su(m);i[l]=a;let A,C=!1;if(Array.isArray(a)){const k=a;A=k[1],(null===A||Sa(k,A)>0)&&(C=!0)}else A=a;if(d)if(0!==E){const O=qo(i[v+1]);i[l+1]=Wm(O,v),0!==O&&(i[O+1]=Zm(i[O+1],l)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=Wm(v,0),0!==v&&(i[v+1]=Zm(i[v+1],l)),v=l;else i[l+1]=Wm(E,0),0===v?v=l:i[E+1]=Zm(i[E+1],l),E=l;C&&(i[l+1]=zm(i[l+1])),br(i,A,l,!0),br(i,A,l,!1),function(i,s,a,l,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Sa(h,s)>=0&&(a[l+1]=Mv(a[l+1]))}(s,A,i,l,h),m=Wm(v,E),h?s.classBindings=m:s.styleBindings=m}(d,h,s,a,m,l)}}function lD(i,s,a,l,d){let h=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(h=s[v],l=Lp(l,h.hostAttrs,d),h!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function Lp(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Jn(i,m,!!a||s[++h]))}return void 0===i?null:i}function hD(i,s,a,l,d,h,m,v){if(!(3&s.type))return;const E=i.data,C=E[v+1];L0(function(i){return 1==(1&i)}(C)?Vl(E,s,a,d,Su(C),m):void 0)||(L0(h)||function(i){return 2==(2&i)}(C)&&(h=Vl(E,null,a,d,v,m)),function(i,s,a,l,d){const h=Xt(i);if(s)d?h?i.addClass(a,l):a.classList.add(l):h?i.removeClass(a,l):a.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:y.DashCase;if(null==d)h?i.removeStyle(a,l,m):a.style.removeProperty(l);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=y.Important),h?i.setStyle(a,l,d,m):a.style.setProperty(l,d,v?"important":"")}}}(l,m,Ao(Kn(),a),d,h))}function Vl(i,s,a,l,d,h){const m=null===s;let v;for(;d>0;){const E=i[d],C=Array.isArray(E),A=C?E[1]:E,k=null===A;let O=a[d+1];O===Ye&&(O=k?j:void 0);let $=k?bn(O,l):A===l?O:void 0;if(C&&!L0($)&&($=bn(E,l)),L0($)&&(v=$,m))return v;const Y=i[d+1];d=m?qo(Y):Su(Y)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(v=bn(E,l))}return v}function L0(i){return void 0!==i}function pD(i,s){return 0!=(i.flags&(s?16:32))}function $S(i,s=""){const a=ve(),l=Et(),d=i+20,h=l.firstCreatePass?xs(l,d,1,s,null):l.data[d],m=a[d]=qn(a[11],s);fp(l,a,m,h),Rr(h,!1)}function y_(i){return er("",i,""),y_}function er(i,s,a){const l=ve(),d=Lh(l,i,s,a);return d!==Ye&&function(i,s,a){const l=Ao(s,i);Ho(i[11],l,a)}(l,Kn(),d),er}function yD(i,s,a,l,d,h,m,v,E){Yo(Jn,Nu,Uh(ve(),i,s,a,l,d,h,m,v,E),!0)}function b_(i,s,a){const l=ve();return lr(l,Hi(),s)&&Qi(Et(),_n(),l,i,s,l[11],a,!0),b_}const Wh=void 0;var nA=["en",[["a","p"],["AM","PM"],Wh],[["AM","PM"],Wh,Wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let jp={};function E_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=CD(s);if(a)return a;const l=s.split("-")[0];if(a=CD(l),a)return a;if("en"===l)return nA;throw new Error(`Missing locale data for the locale "${i}".`)}function q0(i){return E_(i)[ot.PluralCase]}function CD(i){return i in jp||(jp[i]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[i]),jp[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const iA=["zero","one","two","few","many"],D_="en-US",W0={marker:"element"},C_={marker:"ICU"};var tr=(()=>((tr=tr||{})[tr.SHIFT=2]="SHIFT",tr[tr.APPEND_EAGERLY=1]="APPEND_EAGERLY",tr[tr.COMMENT=2]="COMMENT",tr))();let sA=D_;function SD(i){(function(i,s){null==i&&jt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(sA=i.toLowerCase().replace(/_/g,"-"))}function oA(i,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Hm(i,0,a):qt(a[d])}function aA(i,s,a,l,d){const h=s.insertBeforeIndex;if(Array.isArray(h)){let m=l,v=null;if(3&s.type||(v=m,m=d),null!==m&&0==(2&s.flags))for(let E=1;E<h.length;E++)Ml(i,m,a[h[E]],v,!1)}}function uA(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];lA(l)||yk(l,s)&&null===vk(l)&&bk(l,s.index)}}function lA(i){return!(64&i.type)}function yk(i,s){return lA(s)||i.index>s.index}function vk(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function bk(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(E1(oA,aA),i.insertBeforeIndex=s)}function T_(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Ek(i,s,a){const l=Lv(i,a,64,null,null);return uA(s,l),l}function z0(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function dA(i){return i>>>17}function hA(i){return(131070&i)>>>1}let zh=0,I_=0;function Y0(i,s,a,l){const d=a[11];let m,h=null;for(let v=0;v<s.length;v++){const E=s[v];if("string"==typeof E){const C=s[++v];null===a[C]&&(a[C]=qn(d,E))}else if("number"==typeof E)switch(1&E){case 0:const C=dA(E);let A,k;if(null===h&&(h=C,m=Um(d,l)),C===h?(A=l,k=m):(A=null,k=qt(a[C])),null!==k){const le=hA(E);Ml(d,k,a[le],A,!1);const Me=T_(i,le);if(null!==Me&&"object"==typeof Me){const ge=z0(Me,a);null!==ge&&Y0(i,Me.create[ge],a,a[Me.anchorIdx])}}break;case 1:const $=s[++v],Y=s[++v];eE(d,Ao(E>>>1,a),null,null,$,Y,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${E}"`)}else switch(E){case C_:const C=s[++v],A=s[++v];null===a[A]&&Or(a[A]=Ih(d,C),a);break;case W0:const k=s[++v],O=s[++v];null===a[O]&&Or(a[O]=Uc(d,k,null),a)}}}function S_(i,s,a,l,d){for(let h=0;h<a.length;h++){const m=a[h],v=a[++h];if(m&d){let E="";for(let C=h+1;C<=h+v;C++){const A=a[C];if("string"==typeof A)E+=A;else if("number"==typeof A)if(A<0)E+=X(s[l-A]);else{const k=A>>>2;switch(3&A){case 1:const O=a[++C],$=a[++C],Y=i.data[k];"string"==typeof Y?eE(s[11],s[k],null,Y,O,E,$):Qi(i,Y,s,O,E,s[11],$,!1);break;case 0:const le=s[k];null!==le&&Ho(s[11],le,E);break;case 2:pA(i,T_(i,k),s,E);break;case 3:AD(i,T_(i,k),l,s)}}}}else{const E=a[h+1];if(E>0&&3==(3&E)){const A=T_(i,E>>>2);s[A.currentCaseLViewIndex]<0&&AD(i,A,l,s)}}h+=v}}function AD(i,s,a,l){let d=l[s.currentCaseLViewIndex];if(null!==d){let h=zh;d<0&&(d=l[s.currentCaseLViewIndex]=~d,h=-1),S_(i,l,s.update[d],a,h)}}function pA(i,s,a,l){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function(i,s){const a=q0(s)(parseInt(i,10)),l=iA[a];return void 0!==l?l:"other"}(s,sA);a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(z0(s,a)!==d&&(A_(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const m=a[s.anchorIdx];m&&Y0(i,s.create[d],a,m)}}function A_(i,s,a){let l=z0(s,a);if(null!==l){const d=s.remove[l];for(let h=0;h<d.length;h++){const m=d[h];if(m>0){const v=Ao(m,a);null!==v&&Cv(a[11],v)}else A_(i,T_(i,~m),a)}}}function Hp(){const i=[];let a,l,s=-1;function h(v,E){s=0;const C=z0(v,E);l=null!==C?v.remove[C]:j}function m(){if(s<l.length){const v=l[s++];return v>0?a[v]:(i.push(s,l),h(a[1].data[~v],a),m())}return 0===i.length?null:(l=i.pop(),s=i.pop(),m())}return function(v,E){for(a=E;i.length;)i.pop();return h(v.value,E),m}}const N_=/\ufffd(\d+):?\d*\ufffd/gi,nd=/\ufffd(\d+)\ufffd/,Yh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,MD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,M_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,rd=/\uE500/g;function mA(i,s,a,l,d,h,m){const v=mp(i,l,1,null);let E=v<<tr.SHIFT,C=ls();s===C&&(C=null),null===C&&(E|=tr.APPEND_EAGERLY),m&&(E|=tr.COMMENT,function(i){void 0===p&&(p=i())}(Hp)),d.push(E,null===h?"":h);const A=Lv(i,v,m?32:1,null===h?"":h,null);uA(a,A);const k=A.index;return Rr(A,!1),null!==C&&s!==C&&function(i,s){let a=i.insertBeforeIndex;null===a?(E1(oA,aA),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&jt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(C,k),A}function Ak(i,s,a,l,d,h,m){const v=m.match(N_),E=mA(i,s,a,h,l,v?null:m,!1);v&&Gp(d,m,E.index,null,0,null)}function Gp(i,s,a,l,d,h){const m=i.length,v=m+1;i.push(null,null);const E=m+2,C=s.split(N_);let A=0;for(let k=0;k<C.length;k++){const O=C[k];if(1&k){const $=d+parseInt(O,10);i.push(-1-$),A|=_A($)}else""!==O&&i.push(O)}return i.push(a<<2|(l?1:0)),l&&i.push(l,h),i[m]=A,i[v]=i.length-E,A}function _A(i){return 1<<Math.min(i,31)}function yA(i){let s,h,a="",l=0,d=!1;for(;null!==(s=MD.exec(i));)d?s[0]===`\ufffd/*${h}\ufffd`&&(l=s.index,d=!1):(a+=i.substring(l,s.index+s[0].length),h=s[1],d=!0);return a+=i.substr(l),a}function vA(i,s,a,l,d,h){let m=0;const v={type:d.type,currentCaseLViewIndex:mp(i,s,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(_A(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,h),function(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,h,v);const E=d.values;for(let C=0;C<E.length;C++){const A=E[C],k=[];for(let O=0;O<A.length;O++){const $=A[O];if("string"!=typeof $){const Y=k.push($)-1;A[O]=`\x3c!--\ufffd${Y}\ufffd--\x3e`}}m=Ok(i,v,s,a,l,d.cases[C],A.join(""),k)|m}m&&function(i,s,a){i.push(s,1,a<<2|3)}(a,m,h)}function kk(i){const s=[],a=[];let l=1,d=0;const h=xD(i=i.replace(Yh,function(m,v,E){return l="select"===E?0:1,d=parseInt(v.substr(1),10),""}));for(let m=0;m<h.length;){let v=h[m++].trim();1===l&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&s.push(v);const E=xD(h[m++]);s.length>a.length&&a.push(E)}return{type:l,mainBinding:d,cases:s,values:a}}function xD(i){if(!i)return[];let s=0;const a=[],l=[],d=/[{}]/g;let h;for(d.lastIndex=0;h=d.exec(i);){const v=h.index;if("}"==h[0]){if(a.pop(),0==a.length){const E=i.substring(s,v);Yh.test(E)?l.push(kk(E)):l.push(E),s=v+1}}else{if(0==a.length){const E=i.substring(s,v);l.push(E),s=v+1}a.push("{")}}const m=i.substring(s);return l.push(m),l}function Ok(i,s,a,l,d,h,m,v){const E=[],C=[],A=[];s.cases.push(h),s.create.push(E),s.remove.push(C),s.update.push(A);const O=_h(Ys()).getInertBodyElement(m),$=Lc(O)||O;return $?bA(i,s,a,l,E,C,A,$,d,v,0):0}function bA(i,s,a,l,d,h,m,v,E,C,A){let k=0,O=v.firstChild;for(;O;){const $=mp(i,a,1,null);switch(O.nodeType){case Node.ELEMENT_NODE:const Y=O,le=Y.tagName.toLowerCase();if(Xf.hasOwnProperty(le)){R_(d,W0,le,E,$),i.data[$]=le;const We=Y.attributes;for(let dt=0;dt<We.length;dt++){const Ut=We.item(dt),jr=Ut.name.toLowerCase();Ut.value.match(N_)?kc.hasOwnProperty(jr)&&Gp(m,Ut.value,$,Ut.name,0,xc[jr]?Ra:Ki[jr]?vh:null):x_(d,$,Ut)}k=bA(i,s,a,l,d,h,m,O,$,C,A+1)|k,J0(h,$,A)}break;case Node.TEXT_NODE:const ne=O.textContent||"",Me=ne.match(N_);R_(d,null,Me?"":ne,E,$),J0(h,$,A),Me&&(k=Gp(m,ne,$,null,0,null)|k);break;case Node.COMMENT_NODE:const ge=nd.exec(O.textContent||"");if(ge){const dt=C[parseInt(ge[1],10)];R_(d,C_,"",E,$),vA(i,a,l,E,dt,$),wA(h,$,A)}}O=O.nextSibling}return k}function J0(i,s,a){0===a&&i.push(s)}function wA(i,s,a){0===a&&(i.push(~s),i.push(s))}function R_(i,s,a,l,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,l,d))}function x_(i,s,a){i.push(s<<1|1,a.name,a.value)}function eb(i,s,a=-1){const l=Et(),d=ve(),h=20+i,m=kn(l.consts,s),v=ls();l.firstCreatePass&&function(i,s,a,l,d,h){const m=ls(),v=[],E=[],C=[[]],A=function(i){return i.replace(rd," ")}(d=function(i,s){if(function(i){return-1===i}(s))return yA(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return yA(i.substring(a,l))}}(d,h)).split(M_);for(let k=0;k<A.length;k++){let O=A[k];if(0==(1&k)){const $=xD(O);for(let Y=0;Y<$.length;Y++){let le=$[Y];if(0==(1&Y)){const ne=le;""!==ne&&Ak(i,m,C[0],v,E,a,ne)}else{const ne=le;if("object"!=typeof ne)throw new Error(`Unable to parse ICU expression in "${d}" message.`);vA(i,a,E,s,ne,mA(i,m,C[0],a,v,"",!0).index)}}}else{const $=47===O.charCodeAt(0),le=(O.charCodeAt($?1:0),20+Number.parseInt(O.substring($?2:1)));if($)C.shift(),Rr(ls(),!1);else{const ne=Ek(i,C[0],le);C.unshift([]),Rr(ne,!0)}}}i.data[l]={create:v,update:E}}(l,null===v?0:v.index,d,h,m,a);const E=l.data[h],A=v1(l,v===d[6]?null:v,d);(function(i,s,a,l){const d=i[11];for(let h=0;h<s.length;h++){const m=s[h++],v=s[h],E=(m&tr.COMMENT)===tr.COMMENT,C=(m&tr.APPEND_EAGERLY)===tr.APPEND_EAGERLY,A=m>>>tr.SHIFT;let k=i[A];null===k&&(k=i[A]=E?d.createComment(v):qn(d,v)),C&&null!==a&&Ml(d,a,k,l,!1)}})(d,E.create,A,v&&8&v.type?d[v.index]:null),il(!0)}function tb(i,s,a){eb(i,s,a),il(!1)}function sd(i){return function(i){i&&(zh|=1<<Math.min(I_,31)),I_++}(lr(ve(),Hi(),i)),sd}function VD(i){!function(i,s,a){if(I_>0){const l=i.data[a];S_(i,s,Array.isArray(l)?l:l.update,Di()-I_-1,zh)}zh=0,I_=0}(Et(),ve(),i+20)}function O_(i,s,a,l,d){if(i=G(i),Array.isArray(i))for(let h=0;h<i.length;h++)O_(i[h],s,a,l,d);else{const h=Et(),m=ve();let v=Ph(i)?i:G(i.provide),E=Xv(i);const C=nn(),A=1048575&C.providerIndexes,k=C.directiveStart,O=C.providerIndexes>>20;if(Ph(i)||!i.multi){const $=new Ea(E,d,Mp),Y=UD(v,s,d?A:A+O,k);-1===Y?(Yt(hu(C,m),h,v),nb(h,i,s.length),s.push(v),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push($),m.push($)):(a[Y]=$,m[Y]=$)}else{const $=UD(v,s,A+O,k),Y=UD(v,s,A,A+O),le=$>=0&&a[$],ne=Y>=0&&a[Y];if(d&&!ne||!d&&!le){Yt(hu(C,m),h,v);const Me=function(i,s,a,l,d){const h=new Ea(i,a,Mp);return h.multi=[],h.index=s,h.componentProviders=0,rb(h,d,l&&!a),h}(d?jD:TA,a.length,d,l,E);!d&&ne&&(a[Y].providerFactory=Me),nb(h,i,s.length,0),s.push(v),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(Me),m.push(Me)}else nb(h,i,$>-1?$:Y,rb(a[d?Y:$],E,!d&&l));!d&&l&&ne&&a[Y].componentProviders++}}}function nb(i,s,a,l){const d=Ph(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=v.indexOf(a);-1===E?v.push(a,[l,m]):v[E+1].push(l,m)}else v.push(a,m)}}}function rb(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function UD(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function TA(i,s,a,l){return qp(this.multi,[])}function jD(i,s,a,l){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Dn(a,a[1],this.providerFactory.index,l);h=v.slice(0,m),qp(d,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],qp(d,h);return h}function qp(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function sb(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=Et();if(l.firstCreatePass){const d=Ui(i);O_(a,l.data,l.blueprint,d,!0),O_(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class $D{}const HD="ngComponent";class GD{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s[HD]=i,s}(s)}}let Kh=(()=>{class i{}return i.NULL=new GD,i})();function Wp(...i){}function od(i,s){return new Ru(oi(i,s))}const NA=function(){return od(nn(),ve())};let Ru=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=NA,i})();function ob(i){return i instanceof Ru?i.nativeElement:i}class L_{}let MA=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Vk(),i})();const Vk=function(){const i=ve(),a=vr(nn().index,i);return function(i){return i[11]}(an(a)?a:i)};let ab=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class ZD{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ub=new ZD("12.2.13");class OA{constructor(){}supports(s){return Ap(s)}create(s){return new Uk(s)}}const YD=(i,s)=>s;class Uk{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||YD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,h=null;for(;a||l;){const m=!l||a&&a.currentIndex<lb(l,d,h)?a:l,v=lb(m,d,h),E=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{h||(h=[]);const C=v-d,A=E-d;if(C!=A){for(let O=0;O<C;O++){const $=O<h.length?h[O]:h[O]=0,Y=$+O;A<=Y&&Y<C&&(h[O]=$+1)}h[m.previousIndex]=A-C}}v!==E&&s(m,v,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ap(s))throw new Error(`Error trying to diff '${K(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],m=this._trackByFn(v,h),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,h,m,v)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,m,v),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Sp()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new KD(a,l),h,d),s}_verifyReinsertion(s,a,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new FA),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FA),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class KD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class FA{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new PA,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class cb{constructor(){}supports(s){return s instanceof Map||g0(s)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||g0(s)))throw new Error(`Error trying to diff '${K(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const l=new VA(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class VA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new V_([new OA])}let V_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||db()),deps:[[i,new or,new Na]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:db}),i})();function hb(){return new B_([new cb])}let B_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||hb()),deps:[[i,new or,new Na]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:hb}),i})();function U_(i,s,a,l,d=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&l.push(qt(h)),yr(h))for(let v=10;v<h.length;v++){const E=h[v],C=E[1].firstChild;null!==C&&U_(E[1],E,C,l)}const m=a.type;if(8&m)U_(i,s,a.child,l);else if(32&m){const v=g(a,s);let E;for(;E=v();)l.push(E)}else if(16&m){const v=Ev(s,a);if(Array.isArray(v))l.push(...v);else{const E=M(s[16]);U_(E[1],E,v,l,!0)}}a=d?a.projectionNext:a.next}return l}class j_{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return U_(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(yr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Sh(s,l),Ii(a,l))}this._attachedToViewContainer=!1}Ah(this._lView[1],this._lView)}onDestroy(s){G1(this._lView[1],this._lView,null,s)}markForCheck(){xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){o_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){_a(!0);try{o_(i,s,a)}finally{_a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Gc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class JD extends j_{constructor(s){super(s),this._view=s}detectChanges(){tE(this._view)}checkNoChanges(){!function(i){_a(!0);try{tE(i)}finally{_a(!1)}}(this._view)}get context(){return null}}const jA=function(i){return function(i,s,a){if(Za(i)&&!a){const l=vr(i.index,s);return new j_(l,l)}return 47&i.type?new j_(s[16],s):null}(nn(),ve(),16==(16&i))};let $A=(()=>{class i{}return i.__NG_ELEMENT_ID__=jA,i})();const HA=[new cb],qA=new V_([new OA]),Hk=new B_(HA),WA=function(){return $_(nn(),ve())};let Jh=(()=>{class i{}return i.__NG_ELEMENT_ID__=WA,i})();const zA=Jh,eC=class extends zA{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=ur(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(a)),Nh(a,l,s),new j_(l)}};function $_(i,s){return 4&i.type?new eC(s,i,od(i,s)):null}class ad{}class YA{}const KA=function(){return nC(nn(),ve())};let H_=(()=>{class i{}return i.__NG_ELEMENT_ID__=KA,i})();const QA=H_,Ai=class extends QA{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ue(this._hostTNode,this._hostLView);if(vc(s)){const a=ai(s,this._hostLView),l=to(s);return new cs(a[1].data[l+8],a)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=An(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,h){const m=l||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(ad,null);E&&(h=E)}const v=s.create(m,d,void 0,h);return this.insert(v.hostView,a),v}insert(s,a){const l=s._lView,d=l[1];if(yr(l[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const k=l[3],O=new Ai(k,k[6],k[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,l){const d=10+l,h=a.length;l>0&&(a[d-1][4]=s),l<h-10?(s[4]=a[d],_u(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,l,m,h);const v=Dv(h,m),E=l[11],C=Um(E,m[7]);return null!==C&&function(i,s,a,l,d,h){l[0]=d,l[6]=s,Gc(i,l,a,1,d,h)}(d,m[6],E,l,C,v),s.attachToViewContainerRef(),_u(zp(m),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=An(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Sh(this._lContainer,a);l&&(Ii(zp(this._lContainer),a),Ah(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Sh(this._lContainer,a);return l&&null!=Ii(zp(this._lContainer),a)?new j_(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function An(i){return i[8]}function zp(i){return i[8]||(i[8]=[])}function nC(i,s){let a;const l=s[i.index];if(yr(l))a=l;else{let d;if(8&i.type)d=qt(l);else{const h=s[11];d=h.createComment("");const m=oi(i,s);Ml(h,Um(h,m),d,function(i,s){return Xt(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=a=BI(l,s,d,i),Rh(s,a)}return new Ai(a,i,s)}const ef={};class Mi extends Kh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Yn(s);return new ny(a,this.ngModule)}}function Vb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const ty=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>km});class ny extends $D{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(TI).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Vb(this.componentDef.inputs)}get outputs(){return Vb(this.componentDef.outputs)}create(s,a,l,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const h=i.get(a,ef,d);return h!==ef||l===ef?h:s.get(a,l,d)}}}(s,d.injector):s,m=h.get(L_,us),v=h.get(ab,null),E=m.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",A=l?function(i,s,a){if(Xt(i))return i.selectRootElement(s,a===Pe.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(E,l,this.componentDef.encapsulation):Uc(m.createRenderer(null,this.componentDef),C,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),k=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||km,clean:zv,playerHandler:s||null,flags:0}}(),$=Wo(0,null,null,1,0,null,null,null,null,null),Y=ur(null,$,O,k,null,null,m,E,v,h);let le,ne;No(Y);try{const Me=function(i,s,a,l,d,h){const m=a[1];a[20]=i;const E=xs(m,20,2,"#host",null),C=E.mergedAttrs=s.hostAttrs;null!==C&&(Zc(E,C,!0),null!==i&&(rh(d,i,C),null!==E.classes&&Tv(d,i,E.classes),null!==E.styles&&C1(d,i,E.styles)));const A=l.createRenderer(i,s),k=ur(a,Uv(s),null,s.onPush?64:16,a[20],E,l,A,h||null,null);return m.firstCreatePass&&(Yt(hu(E,a),m,s.type),Q1(m,E),X1(E,a.length,1)),Rh(a,k),a[20]=k}(A,this.componentDef,Y,m,E);if(A)if(l)rh(E,A,["ng-version",ub.full]);else{const{attrs:ge,classes:We}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++l]):8===d&&a.push(h);else{if(!Go(d))break;d=h}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ge&&rh(E,A,ge),We&&We.length>0&&Tv(E,A,We.join(" "))}if(ne=Ks($,20),void 0!==a){const ge=ne.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const dt=a[We];ge.push(null!=dt?Array.from(dt):null)}}le=function(i,s,a,l,d){const h=a[1],m=function(i,s,a){const l=nn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),r_(i,l,s,mp(i,s,1,null),a));const d=Dn(s,i,l.directiveStart,l);Or(d,s);const h=oi(l,s);return h&&Or(h,s),d}(h,a,s);if(l.components.push(m),i[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=nn();s.contentQueries(1,m,E.directiveStart)}const v=nn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ba(v.index),Si(a[1],v,0,v.directiveStart,v.directiveEnd,s),FI(s,m)),m}(Me,this.componentDef,Y,O,[DE]),Nh($,Y,null)}finally{Ts()}return new rg(this.componentType,le,od(ne,Y),Y,ne)}}class rg extends class{}{constructor(s,a,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new JD(d),this.componentType=s}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Hl=new Map;class Ub extends ad{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mi(this);const l=wi(s),d=s[gt]||null;d&&SD(d),this._bootstrapComponents=fs(l.bootstrap),this._r3Injector=sE(s,a,[{provide:ad,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Sn.THROW_IF_NOT_FOUND,l=Ge.Default){return s===Sn||s===ad||s===Pl?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class tf extends YA{constructor(s){super(),this.moduleType=s,null!==wi(s)&&function(i){const s=new Set;!function a(l){const d=wi(l,!0),h=d.id;null!==h&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(h,Hl.get(h),l),Hl.set(h,l));const m=fs(d.imports);for(const v of m)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Ub(this.moduleType,s)}}function $b(i,s,a,l){return RC(ve(),On(),i,s,a,l)}function Hb(i,s,a,l,d){return function(i,s,a,l,d,h,m){const v=s+a;return Kc(i,v,d,h)?La(i,v+2,m?l.call(m,d,h):l(d,h)):pd(i,v+2)}(ve(),On(),i,s,a,l,d)}function Gb(i,s,a,l,d,h){return function(i,s,a,l,d,h,m,v){const E=s+a;return function(i,s,a,l,d){const h=Kc(i,s,a,l);return lr(i,s+2,d)||h}(i,E,d,h,m)?La(i,E+3,v?l.call(v,d,h,m):l(d,h,m)):pd(i,E+3)}(ve(),On(),i,s,a,l,d,h)}function pd(i,s){const a=i[s];return a===Ye?void 0:a}function RC(i,s,a,l,d,h){const m=s+a;return lr(i,m,d)?La(i,m+1,h?l.call(h,d):l(d)):pd(i,m+1)}function qb(i,s){const a=Et();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const h=l.factory||(l.factory=os(l.type)),m=ei(Mp);try{const v=Ca(!1),E=h();return Ca(v),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,ve(),d,E),E}finally{ei(m)}}function ql(i,s,a){const l=i+20,d=ve(),h=Js(d,l);return function(i,s){Zo.isWrapped(s)&&(s=Zo.unwrap(s),i[Di()]=Ye);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?RC(d,On(),s,h.transform,a,h):h.transform(a))}function Wb(i){return s=>{setTimeout(i,void 0,s)}}const Ua=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,h,m;let v=s,E=a||(()=>null),C=l;if(s&&"object"==typeof s){const k=s;v=null===(d=k.next)||void 0===d?void 0:d.bind(k),E=null===(h=k.error)||void 0===h?void 0:h.bind(k),C=null===(m=k.complete)||void 0===m?void 0:m.bind(k)}this.__isAsync&&(E=Wb(E),v&&(v=Wb(v)),C&&(C=Wb(C)));const A=super.subscribe({next:v,error:E,complete:C});return s instanceof te.w&&s.add(A),A}};function ug(){return this._results[Sp()]()}class Wl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sp(),l=Wl.prototype;l[a]||(l[a]=ug)}get changes(){return this._changes||(this._changes=new Ua)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=ui(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],h=s[l];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class zb{constructor(s){this.queryList=s,this.matches=null}clone(){return new zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<l;h++){const m=a.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new Zb(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==dy(s,a).matches&&this.queries[a].setDirty()}}class kC{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class md{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new md(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ja{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ja(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,a,OC(a,h)),this.matchTNodeWithReadOption(s,a,no(a,s,h,!1,!1))}else l===Jh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,no(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ru||d===H_||d===Jh&&4&a.type)this.addMatch(a.index,-2);else{const h=no(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OC(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function FC(i,s,a,l){return-1===a?function(i,s){return 11&i.type?od(i,s):4&i.type?$_(i,s):null}(s,i):-2===a?function(i,s,a){return a===Ru?od(s,i):a===Jh?$_(s,i):a===H_?nC(s,i):void 0}(i,s,l):Dn(i,i[1],a,s)}function LC(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const h=i.data,m=a.matches,v=[];for(let E=0;E<m.length;E+=2){const C=m[E];v.push(C<0?null:FC(s,h[C],m[E+1],a.metadata.read))}d.matches=v}return d.matches}function Yb(i,s,a,l){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const m=LC(i,s,d,a);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const C=h[v+1],A=s[-E];for(let k=10;k<A.length;k++){const O=A[k];O[17]===O[3]&&Yb(O[1],O,C,l)}if(null!==A[9]){const k=A[9];for(let O=0;O<k.length;O++){const $=k[O];Yb($[1],$,C,l)}}}}}return l}function Kb(i){const s=ve(),a=Et(),l=sl();ya(l+1);const d=dy(a,l);if(i.dirty&&Qu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?Yb(a,s,l,[]):LC(a,s,d,l);i.reset(h,ob),i.notifyOnChanges()}return!0}return!1}function VC(i,s,a){const l=Et();l.firstCreatePass&&(ew(l,new kC(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),cy(l,ve(),s)}function Jb(i,s,a,l){const d=Et();if(d.firstCreatePass){const h=nn();ew(d,new kC(s,a,l),h.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}cy(d,ve(),a)}function Qb(){return i=ve(),s=sl(),i[19].queries[s].queryList;var i,s}function cy(i,s,a){const l=new Wl(4==(4&a));G1(i,s,l,l.destroy),null===s[19]&&(s[19]=new Zb),s[19].queries.push(new zb(l))}function ew(i,s,a){null===i.queries&&(i.queries=new md),i.queries.track(new ja(s,a))}function dy(i,s){return i.queries.getByIndex(s)}function UC(i,s){return $_(i,s)}const gw=new cn("Application Initializer");let lf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Wp,this.reject=Wp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(S0(h))a.push(h);else if(A0(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});a.push(m)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(fn(gw,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const XC=new cn("AppId"),IN={provide:XC,useFactory:function(){return`${yy()}${yy()}${yy()}`},deps:[]};function yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eT=new cn("Platform Initializer"),SN=new cn("Platform ID"),ms=new cn("appBootstrapListener");let mw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const kt=new cn("LocaleId"),bd=new cn("DefaultCurrencyCode");class vg{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Br=function(i){return new tf(i)},df=Br,NN=function(i){return Promise.resolve(Br(i))},hr=function(i){const s=Br(i),l=fs(wi(i).declarations).reduce((d,h)=>{const m=Yn(h);return m&&d.push(new ny(m)),d},[]);return new vg(s,l)},hf=hr,bg=function(i){return Promise.resolve(hr(i))};let Xo=(()=>{class i{constructor(){this.compileModuleSync=df,this.compileModuleAsync=NN,this.compileModuleAndAllComponentsSync=hf,this.compileModuleAndAllComponentsAsync=bg}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const Ke=(()=>Promise.resolve(0))();function Fu(i){"undefined"==typeof Zone?Ke.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class gi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ua(!1),this.onMicrotaskEmpty=new Ua(!1),this.onStable=new Ua(!1),this.onError=new Ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=pt.requestAnimationFrame,s=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(pt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,pf(i),i.isCheckStableRunning=!0,by(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),pf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,h,m,v)=>{try{return wy(i),a.invokeTask(d,h,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Ey(i)}},onInvoke:(a,l,d,h,m,v,E)=>{try{return wy(i),a.invoke(d,h,m,v,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ey(i)}},onHasTask:(a,l,d,h)=>{a.hasTask(d,h),l===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,pf(i),by(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,ff,Wp,Wp);try{return h.runTask(m,a,l)}finally{h.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const ff={};function by(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function pf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ey(i){i._nesting--,by(i)}class iT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ua,this.onMicrotaskEmpty=new Ua,this.onStable=new Ua,this.onError=new Ua}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let vw=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gi.assertNotInAngularZone(),Fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(fn(gi))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),wg=(()=>{class i{constructor(){this._applications=new Map,Dy.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Dy.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class Eg{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function xi(i){Dy=i}let Dy=new Eg,Nn=!0,sT=!1;function Cy(){return sT=!0,Nn}function Dg(){if(sT)throw new Error("Cannot enable prod mode after platform setup.");Nn=!1}let ea;const oT=new cn("AllowMultipleToken");class FN{constructor(s,a){this.name=s,this.token=a}}function gf(i,s,a=[]){const l=`Platform: ${s}`,d=new cn(l);return(h=[])=>{let m=aT();if(!m||m.injector.get(oT,!1))if(i)i(a.concat(h).concat({provide:d,useValue:!0}));else{const v=a.concat(h).concat({provide:d,useValue:!0},{provide:Yc,useValue:"platform"});!function(i){if(ea&&!ea.destroyed&&!ea.injector.get(oT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ea=i.get(ww);const s=i.get(eT,null);s&&s.forEach(a=>a())}(Sn.create({providers:v,name:l}))}return function(i){const s=aT();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function aT(){return ea&&!ea.destroyed?ea:null}let ww=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function(i,s){let a;return a="noop"===i?new iT:("zone.js"===i?void 0:i)||new gi({enableLongStackTrace:Cy(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),E=[{provide:gi,useValue:v}];return v.run(()=>{const C=Sn.create({providers:E,parent:this.injector,name:a.moduleType.name}),A=a.create(C),k=A.injector.get(Oa,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const O=v.onError.subscribe({next:$=>{k.handleError($)}});A.onDestroy(()=>{mf(this._modules,A),O.unsubscribe()})}),function(i,s,a){try{const l=a();return S0(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,v,()=>{const O=A.injector.get(lf);return O.runInitializers(),O.donePromise.then(()=>(SD(A.injector.get(kt,D_)||D_),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,l=[]){const d=Ew({},l);return function(i,s,a){const l=new tf(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const l=a.injector.get(Ga);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${K(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(fn(Sn))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function Ew(i,s){return Array.isArray(s)?s.reduce(Ew,i):Object.assign(Object.assign({},i),s)}let Ga=(()=>{class i{constructor(a,l,d,h,m){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new L.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new L.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{gi.assertNotInAngularZone(),Fu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(v,E.pipe((0,ie.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof $D?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ad),v=d.create(Sn.NULL,[],l||d.selector,h),E=v.location.nativeElement,C=v.injector.get(vw,null),A=C&&v.injector.get(wg);return C&&A&&A.registerApplication(E,C),v.onDestroy(()=>{this.detachView(v.hostView),mf(this.components,v),A&&A.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;mf(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ms,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(fn(gi),fn(Sn),fn(Oa),fn(Kh),fn(lf))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function mf(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class Cw{}class Iw{}const Sg={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dT=(()=>{class i{constructor(a,l){this._compiler=a,this._config=l||Sg}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(l).then(h=>h[d]).then(h=>hT(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(a){let[l,d]=a.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>hT(m,l,d))}}return i.\u0275fac=function(a){return new(a||i)(fn(Xo),fn(Iw,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function hT(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const _T=function(i){return null},Mw=gf(null,"core",[{provide:SN,useValue:"unknown"},{provide:ww,deps:[Sn]},{provide:wg,deps:[]},{provide:mw,deps:[]}]),Ur=[{provide:Ga,useClass:Ga,deps:[gi,Sn,Oa,Kh,lf]},{provide:ty,deps:[gi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:lf,useClass:lf,deps:[[new Na,gw]]},{provide:Xo,useClass:Xo,deps:[]},IN,{provide:V_,useFactory:function(){return qA},deps:[]},{provide:B_,useFactory:function(){return Hk},deps:[]},{provide:kt,useFactory:function(i){return SD(i=i||"undefined"!=typeof $localize&&$localize.locale||D_),i},deps:[[new Aa(kt),new Na,new or]]},{provide:bd,useValue:"USD"}];let mi=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(fn(Ga))},i.\u0275mod=Do({type:i}),i.\u0275inj=gn({providers:Ur}),i})()},8939:(He,_e,F)=>{"use strict";F.d(_e,{hO:()=>de,xv:()=>z,Dh:()=>K,GT:()=>J,cc:()=>Re,on:()=>P,pX:()=>ie});var u=F(7716),te=F(7841),L=F(9396);He=F.hmd(He);const ce=["ngOnDestroy"],ie=(X,re,we,Ae={})=>new Proxy(X,{get:(Tt,It)=>we.runOutsideAngular(()=>{var Ht;if(X[It])return(null===(Ht=null==Ae?void 0:Ae.spy)||void 0===Ht?void 0:Ht.get)&&Ae.spy.get(It,X[It]),X[It];if(ce.indexOf(It)>-1)return()=>{};const yt=re.toPromise().then(pn=>{const vt=pn&&pn[It];return"function"==typeof vt?vt.bind(pn):vt&&vt.then?vt.then(ft=>we.run(()=>ft)):we.run(()=>vt)});return new Proxy(()=>{},{get:(pn,vt)=>yt[vt],apply:(pn,vt,ft)=>yt.then(Ot=>{var rt;const Lt=Ot&&Ot(...ft);return(null===(rt=null==Ae?void 0:Ae.spy)||void 0===rt?void 0:rt.apply)&&Ae.spy.apply(It,ft,Lt),Lt})})})}),J=(X,re)=>{re.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(Ae=>{Object.defineProperty(X.prototype,Ae,Object.getOwnPropertyDescriptor(we.prototype||we,Ae))})})};class oe{constructor(re){return re}}const K=new u.OlP("angularfire2.app.options"),z=new u.OlP("angularfire2.app.name");function P(X,re,we){const Tt="object"==typeof we&&we||{};Tt.name=Tt.name||"string"==typeof we&&we||"[DEFAULT]";const Ht=te.Z.apps.filter(yt=>yt&&yt.name===Tt.name)[0]||re.runOutsideAngular(()=>te.Z.initializeApp(X,Tt));try{JSON.stringify(X)!==JSON.stringify(Ht.options)&&U("error",`${Ht.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new oe(Ht)}const U=(X,...re)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[X](...re)},G={provide:oe,useFactory:P,deps:[K,u.R0b,[new u.FiY,z]]};let de=(()=>{class X{constructor(we){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,we.toString())}static initializeApp(we,Ae){return{ngModule:X,providers:[{provide:K,useValue:we},{provide:z,useValue:Ae}]}}}return X.\u0275fac=function(we){return new(we||X)(u.LFG(u.Lbi))},X.\u0275mod=u.oAB({type:X}),X.\u0275inj=u.cJS({providers:[G]}),X})();function Re(X,re,we,Ae,Tt){const[,It,Ht]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===X)||[];if(It)return function(X,re){try{return X.toString()===re.toString()}catch(we){return X===re}}(Tt,Ht)||(he("error",`${re} was already initialized on the ${we} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Tt,was:Ht})),It;{const yt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([X,yt,Tt]),yt}}const be=!!He.hot,he=(X,...re)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[X](...re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(He,_e,F)=>{"use strict";F.d(_e,{q4:()=>ch,iC:()=>bn,fc:()=>hl,HU:()=>Dc,vb:()=>_u,JM:()=>ds});var u=F(7716),te=F(2329),L=F(8239),ce=F(8026),ie=F(3854),J=F(3910),oe=F(5422),K=F(6676);const z="@firebase/installations",P="0.5.4",G=`w:${P}`,de="FIS_v2",re=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Tt(D){return{token:D.token,requestStatus:2,expiresIn:Ot(D.expiresIn),creationTime:Date.now()}}function It(D,S){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,L.Z)(function*(D,S){const B=(yield S.json()).error;return re.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function yt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function pn(D,{refreshToken:S}){const x=yt(D);return x.append("Authorization",function(D){return`${de} ${D}`}(S)),x}function vt(D){return ft.apply(this,arguments)}function ft(){return(ft=(0,L.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ot(D){return Number(D.replace("s","000"))}function Lt(D,S){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*(D,{fid:S}){const x=Ae(D),ue={method:"POST",headers:yt(D),body:JSON.stringify({fid:S,authVersion:de,appId:D.appId,sdkVersion:G})},Ee=yield vt(()=>fetch(x,ue));if(Ee.ok){const Ve=yield Ee.json();return{fid:Ve.fid||S,registrationStatus:2,refreshToken:Ve.refreshToken,authToken:Tt(Ve.authToken)}}throw yield It("Create Installation",Ee)})).apply(this,arguments)}function Hu(D){return new Promise(S=>{setTimeout(S,D)})}const bs=/^[cdef][\w-]{21}$/;function Pt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return bs.test(x)?x:""}catch(D){return""}}function ws(D){return`${D.appName}!${D.appId}`}const wo=new Map;function Es(D,S){const x=ws(D);gn(x,S),function(D,S){const x=(!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=D=>{gn(D.data.key,D.data.fid)}),Vt);x&&x.postMessage({key:D,fid:S}),0===wo.size&&Vt&&(Vt.close(),Vt=null)}(x,S)}function gn(D,S){const x=wo.get(D);if(x)for(const B of x)B(S)}let Vt=null;const De="firebase-installations-store";let ir=null;function $n(){return ir||(ir=(0,K.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(De)}})),ir}function Ge(D,S){return $t.apply(this,arguments)}function $t(){return($t=(0,L.Z)(function*(D,S){const x=ws(D),Q=(yield $n()).transaction(De,"readwrite"),ue=Q.objectStore(De),Ee=yield ue.get(x);return yield ue.put(S,x),yield Q.complete,(!Ee||Ee.fid!==S.fid)&&Es(D,S.fid),S})).apply(this,arguments)}function Vi(D){return ei.apply(this,arguments)}function ei(){return(ei=(0,L.Z)(function*(D){const S=ws(D),B=(yield $n()).transaction(De,"readwrite");yield B.objectStore(De).delete(S),yield B.complete})).apply(this,arguments)}function et(D,S){return it.apply(this,arguments)}function it(){return(it=(0,L.Z)(function*(D,S){const x=ws(D),Q=(yield $n()).transaction(De,"readwrite"),ue=Q.objectStore(De),Ee=yield ue.get(x),Ve=S(Ee);return void 0===Ve?yield ue.delete(x):yield ue.put(Ve,x),yield Q.complete,Ve&&(!Ee||Ee.fid!==Ve.fid)&&Es(D,Ve.fid),Ve})).apply(this,arguments)}function Nt(D){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,L.Z)(function*(D){let S;const x=yield et(D,B=>{const Q=ti(B),ue=Gt(D,Q);return S=ue.registrationPromise,ue.installationEntry});return""===x.fid?{installationEntry:yield S}:{installationEntry:x,registrationPromise:S}})).apply(this,arguments)}function ti(D){return pt(D||{fid:Pt(),registrationStatus:0})}function Gt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(re.create("app-offline"))};const x={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(D,S){return Je.apply(this,arguments)}(D,x)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Gu(D)}:{installationEntry:S}}function Je(){return(Je=(0,L.Z)(function*(D,S){try{return Ge(D,yield Lt(D,S))}catch(x){throw we(x)&&409===x.customData.serverCode?yield Vi(D):yield Ge(D,{fid:S.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Gu(D){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,L.Z)(function*(D){let S=yield zt(D);for(;1===S.registrationStatus;)yield Hu(100),S=yield zt(D);if(0===S.registrationStatus){const{installationEntry:x,registrationPromise:B}=yield Nt(D);return B||x}return S})).apply(this,arguments)}function zt(D){return et(D,S=>{if(!S)throw re.create("installation-not-found");return pt(S)})}function pt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ic(D,S){return W.apply(this,arguments)}function W(){return(W=(0,L.Z)(function*({appConfig:D,platformLoggerProvider:S},x){const B=j(D,x),Q=pn(D,x),ue=S.getImmediate({optional:!0});ue&&Q.append("x-firebase-client",ue.getPlatformInfoString());const Ve={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:G}})},je=yield vt(()=>fetch(B,Ve));if(je.ok)return Tt(yield je.json());throw yield It("Generate Auth Token",je)})).apply(this,arguments)}function j(D,{fid:S}){return`${Ae(D)}/${S}/authTokens:generate`}function Z(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,L.Z)(function*(D,S=!1){let x;const B=yield et(D.appConfig,ue=>{if(!Rn(ue))throw re.create("not-registered");const Ee=ue.authToken;if(!S&&Sr(Ee))return ue;if(1===Ee.requestStatus)return x=se(D,S),ue;{if(!navigator.onLine)throw re.create("app-offline");const Ve=gr(ue);return x=Bt(D,Ve),Ve}});return x?yield x:B.authToken})).apply(this,arguments)}function se(D,S){return Be.apply(this,arguments)}function Be(){return(Be=(0,L.Z)(function*(D,S){let x=yield gt(D.appConfig);for(;1===x.authToken.requestStatus;)yield Hu(100),x=yield gt(D.appConfig);const B=x.authToken;return 0===B.requestStatus?Z(D,S):B})).apply(this,arguments)}function gt(D){return et(D,S=>{if(!Rn(S))throw re.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Bt(D,S){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,L.Z)(function*(D,S){try{const x=yield ic(D,S),B=Object.assign(Object.assign({},S),{authToken:x});return yield Ge(D.appConfig,B),x}catch(x){if(!we(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ge(D.appConfig,B)}else yield Vi(D.appConfig);throw x}})).apply(this,arguments)}function Rn(D){return void 0!==D&&2===D.registrationStatus}function Sr(D){return 2===D.requestStatus&&!function(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function gr(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function Do(){return(Do=(0,L.Z)(function*(D){const S=D,{installationEntry:x,registrationPromise:B}=yield Nt(S.appConfig);return B?B.catch(console.error):Z(S).catch(console.error),x.fid})).apply(this,arguments)}function Co(){return(Co=(0,L.Z)(function*(D,S=!1){const x=D;return yield sc(x.appConfig),(yield Z(x,S)).token})).apply(this,arguments)}function sc(D){return bi.apply(this,arguments)}function bi(){return(bi=(0,L.Z)(function*(D){const{registrationPromise:S}=yield Nt(D);S&&(yield S)})).apply(this,arguments)}function Jt(D){return re.create("missing-app-config-values",{valueName:D})}const Gr="installations";(0,ce._registerComponent)(new J.wA(Gr,D=>{const S=D.getProvider("app").getImmediate();return{app:S,appConfig:function(D){if(!D||!D.options)throw Jt("App Configuration");if(!D.name)throw Jt("App Name");const S=["projectId","apiKey","appId"];for(const x of S)if(!D.options[x])throw Jt(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S),platformLoggerProvider:(0,ce._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",D=>{const S=D.getProvider("app").getImmediate(),x=(0,ce._getProvider)(S,Gr).getImmediate();return{getId:()=>function(D){return Do.apply(this,arguments)}(x),getToken:Q=>function(D){return Co.apply(this,arguments)}(x,Q)}},"PRIVATE")),(0,ce.registerVersion)(z,P),(0,ce.registerVersion)(z,P,"esm2017");const ii="@firebase/remote-config",sr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wr{constructor(S,x,B,Q){this.client=S,this.storage=x,this.storageCache=B,this.logger=Q}isCachedDataFresh(S,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-x,Q=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var x=this;return(0,L.Z)(function*(){const[B,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(S.cacheMaxAgeMillis,B))return Q;S.eTag=Q&&Q.eTag;const ue=yield x.client.fetch(S),Ee=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ee.push(x.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ee),ue})()}}function Ui(D=navigator){return D.languages&&D.languages[0]||D.language}class ji{constructor(S,x,B,Q,ue,Ee){this.firebaseInstallations=S,this.sdkVersion=x,this.namespace=B,this.projectId=Q,this.apiKey=ue,this.appId=Ee}fetch(S){var x=this;return(0,L.Z)(function*(){const[B,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},je={sdk_version:x.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:x.appId,language_code:Ui()},Rt={method:"POST",headers:Ve,body:JSON.stringify(je)},en=fetch(Ee,Rt),Fn=new Promise((zi,Zi)=>{S.signal.addEventListener(()=>{const ut=new Error("The operation was aborted.");ut.name="AbortError",Zi(ut)})});let Zr;try{yield Promise.race([en,Fn]),Zr=yield en}catch(zi){let Zi="fetch-client-network";throw"AbortError"===zi.name&&(Zi="fetch-timeout"),sr.create(Zi,{originalErrorMessage:zi.message})}let Qn=Zr.status;const fl=Zr.headers.get("ETag")||void 0;let Po,pl;if(200===Zr.status){let zi;try{zi=yield Zr.json()}catch(Zi){throw sr.create("fetch-client-parse",{originalErrorMessage:Zi.message})}Po=zi.entries,pl=zi.state}if("INSTANCE_STATE_UNSPECIFIED"===pl?Qn=500:"NO_CHANGE"===pl?Qn=304:("NO_TEMPLATE"===pl||"EMPTY_CONFIG"===pl)&&(Po={}),304!==Qn&&200!==Qn)throw sr.create("fetch-status",{httpStatus:Qn});return{status:Qn,eTag:fl,config:Po}})()}}class ac{constructor(S,x){this.client=S,this.storage=x}fetch(S){var x=this;return(0,L.Z)(function*(){const B=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:x,backoffCount:B}){var Q=this;return(0,L.Z)(function*(){yield function(D,S){return new Promise((x,B)=>{const Q=Math.max(S-Date.now(),0),ue=setTimeout(x,Q);D.addEventListener(()=>{clearTimeout(ue),B(sr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,x);try{const ue=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ue))throw ue;const Ee={throttleEndTimeMillis:Date.now()+(0,ie.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(Ee),Q.attemptFetch(S,Ee)}})()}}class em{constructor(S,x,B,Q,ue){this.app=S,this._client=x,this._storageCache=B,this._storage=Q,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ka(D,S){const x=D.target.error||void 0;return sr.create(S,{originalErrorMessage:x&&x.message})}const da="app_namespace_store";class tm{constructor(S,x,B,Q=function(){return new Promise((D,S)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=B=>{S(Ka(B,"storage-open"))},x.onsuccess=B=>{D(B.target.result)},x.onupgradeneeded=B=>{const Q=B.target.result;switch(B.oldVersion){case 0:Q.createObjectStore(da,{keyPath:"compositeKey"})}}}catch(x){S(sr.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=S,this.appName=x,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var x=this;return(0,L.Z)(function*(){const B=yield x.openDbPromise;return new Promise((Q,ue)=>{const Ve=B.transaction([da],"readonly").objectStore(da),je=x.createCompositeKey(S);try{const Rt=Ve.get(je);Rt.onerror=en=>{ue(Ka(en,"storage-get"))},Rt.onsuccess=en=>{const Fn=en.target.result;Q(Fn?Fn.value:void 0)}}catch(Rt){ue(sr.create("storage-get",{originalErrorMessage:Rt&&Rt.message}))}})})()}set(S,x){var B=this;return(0,L.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ue,Ee)=>{const je=Q.transaction([da],"readwrite").objectStore(da),Rt=B.createCompositeKey(S);try{const en=je.put({compositeKey:Rt,value:x});en.onerror=Fn=>{Ee(Ka(Fn,"storage-set"))},en.onsuccess=()=>{ue()}}catch(en){Ee(sr.create("storage-set",{originalErrorMessage:en&&en.message}))}})})()}delete(S){var x=this;return(0,L.Z)(function*(){const B=yield x.openDbPromise;return new Promise((Q,ue)=>{const Ve=B.transaction([da],"readwrite").objectStore(da),je=x.createCompositeKey(S);try{const Rt=Ve.delete(je);Rt.onerror=en=>{ue(Ka(en,"storage-delete"))},Rt.onsuccess=()=>{Q()}}catch(Rt){ue(sr.create("storage-delete",{originalErrorMessage:Rt&&Rt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Hd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const x=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ue=yield x;ue&&(S.lastFetchStatus=ue);const Ee=yield B;Ee&&(S.lastSuccessfulFetchTimestampMillis=Ee);const Ve=yield Q;Ve&&(S.activeConfig=Ve)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function lc(){return zu.apply(this,arguments)}function zu(){return(zu=(0,L.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("remote-config",function(S,{instanceIdentifier:x}){const B=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw sr.create("registration-window");if(!(0,ie.hl)())throw sr.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ee,appId:Ve}=B.options;if(!ue)throw sr.create("registration-project-id");if(!Ee)throw sr.create("registration-api-key");if(!Ve)throw sr.create("registration-app-id");const je=new tm(Ve,B.name,x=x||"firebase"),Rt=new Hd(je),en=new oe.Yd(ii);en.logLevel=oe.in.ERROR;const Fn=new ji(Q,ce.SDK_VERSION,x,ue,Ee,Ve),Zr=new ac(Fn,je),Qn=new Wr(Zr,je,Rt,en),fl=new em(B,Qn,Rt,je,en);return function(D){const S=(0,ie.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(fl),fl},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ii,"0.3.3"),(0,ce.registerVersion)(ii,"0.3.3","esm2017");const ha="/firebase-messaging-sw.js",rm="/firebase-cloud-messaging-push-scope",Ja="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",os="google.c.a.c_id",Qa="google.c.a.c_l",hn="google.c.a.ts",Xa="google.c.a.e";var Mr=(()=>{return(D=Mr||(Mr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Mr;var D})();function as(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zu(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(x),Q=new Uint8Array(B.length);for(let ue=0;ue<B.length;++ue)Q[ue]=B.charCodeAt(ue);return Q}const Yu="fcm_token_details_db",Ff="fcm_token_object_Store";function si(D){return eu.apply(this,arguments)}function eu(){return(eu=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Yu))return null;let S=null;return(yield(0,K.openDb)(Yu,5,function(){var B=(0,L.Z)(function*(Q){var ue;if(Q.oldVersion<2||!Q.objectStoreNames.contains(Ff))return;const Ee=Q.transaction.objectStore(Ff),Ve=yield Ee.index("fcmSenderId").get(D);if(yield Ee.clear(),Ve)if(2===Q.oldVersion){const je=Ve;if(!je.auth||!je.p256dh||!je.endpoint)return;S={token:je.fcmToken,createTime:null!==(ue=je.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:as(je.vapidKey)}}}else if(3===Q.oldVersion){const je=Ve;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:as(je.auth),p256dh:as(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:as(je.vapidKey)}}}else if(4===Q.oldVersion){const je=Ve;S={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:as(je.auth),p256dh:as(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:as(je.vapidKey)}}}});return function(Q){return B.apply(this,arguments)}}())).close(),yield(0,K.deleteDb)(Yu),yield(0,K.deleteDb)("fcm_vapid_details_db"),yield(0,K.deleteDb)("undefined"),Wd(S)?S:null})).apply(this,arguments)}function Wd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ys="firebase-messaging-store";let zd=null;function Xt(){return zd||(zd=(0,K.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Ys)}})),zd}function Zd(D){return us.apply(this,arguments)}function us(){return(us=(0,L.Z)(function*(D){const S=Ao(D),B=yield(yield Xt()).transaction(Ys).objectStore(Ys).get(S);if(B)return B;{const Q=yield si(D.appConfig.senderId);if(Q)return yield $i(D,Q),Q}})).apply(this,arguments)}function $i(D,S){return qt.apply(this,arguments)}function qt(){return(qt=(0,L.Z)(function*(D,S){const x=Ao(D),Q=(yield Xt()).transaction(Ys,"readwrite");return yield Q.objectStore(Ys).put(S,x),yield Q.complete,S})).apply(this,arguments)}function pa(D){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,L.Z)(function*(D){const S=Ao(D),B=(yield Xt()).transaction(Ys,"readwrite");yield B.objectStore(Ys).delete(S),yield B.complete})).apply(this,arguments)}function Ao({appConfig:D}){return D.appId}const Gn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ks(D,S){return Js.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(D,S){const x=yield tu(D),B=st(S),Q={method:"POST",headers:x,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(kn(D.appConfig),Q)).json()}catch(Ee){throw Gn.create("token-subscribe-failed",{errorInfo:Ee})}if(ue.error)throw Gn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw Gn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function vr(D,S){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,L.Z)(function*(D,S){const x=yield tu(D),B=st(S.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(`${kn(D.appConfig)}/${S.token}`,Q)).json()}catch(Ee){throw Gn.create("token-update-failed",{errorInfo:Ee})}if(ue.error)throw Gn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw Gn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Xu(D,S){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,L.Z)(function*(D,S){const B={method:"DELETE",headers:yield tu(D)};try{const ue=yield(yield fetch(`${kn(D.appConfig)}/${S}`,B)).json();if(ue.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(Q){throw Gn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function kn({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function tu(D){return nu.apply(this,arguments)}function nu(){return(nu=(0,L.Z)(function*({appConfig:D,installations:S}){const x=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function st({p256dh:D,auth:S,endpoint:x,vapidKey:B}){const Q={web:{endpoint:x,auth:S,p256dh:D}};return B!==Ja&&(Q.web.applicationPubKey=B),Q}const el=6048e5;function Yd(D){return tl.apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(D){const S=yield nl(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:as(S.getKey("auth")),p256dh:as(S.getKey("p256dh"))},B=yield Zd(D.firebaseDependencies);if(B){if(rl(B.subscriptionOptions,x))return Date.now()>=B.createTime+el?cc(D,{token:B.token,createTime:Date.now(),subscriptionOptions:x}):B.token;try{yield Xu(D.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return ve(D.firebaseDependencies,x)}return ve(D.firebaseDependencies,x)})).apply(this,arguments)}function Kd(D){return ru.apply(this,arguments)}function ru(){return(ru=(0,L.Z)(function*(D){const S=yield Zd(D.firebaseDependencies);S&&(yield Xu(D.firebaseDependencies,S.token),yield pa(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function cc(D,S){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,L.Z)(function*(D,S){try{const x=yield vr(D.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:x,createTime:Date.now()});return yield $i(D.firebaseDependencies,B),x}catch(x){throw yield Kd(D),x}})).apply(this,arguments)}function ve(D,S){return Et.apply(this,arguments)}function Et(){return(Et=(0,L.Z)(function*(D,S){const B={token:yield Ks(D,S),createTime:Date.now(),subscriptionOptions:S};return yield $i(D,B),B.token})).apply(this,arguments)}function nl(D,S){return nn.apply(this,arguments)}function nn(){return(nn=(0,L.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zu(S)})})).apply(this,arguments)}function rl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function ls(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,S){if(!S.notification)return;D.notification={};const x=S.notification.title;x&&(D.notification.title=x);const B=S.notification.body;B&&(D.notification.body=B);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function(D,S){!S.data||(D.data=S.data)}(S,D),function(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const x=S.fcmOptions.link;x&&(D.fcmOptions.link=x);const B=S.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(S,D),S}function Jd(D){return"object"==typeof D&&!!D&&os in D}function dc(D,S){const x=[];for(let B=0;B<D.length;B++)x.push(D.charAt(B)),B<S.length&&x.push(S.charAt(B));return x.join("")}function _a(D){return Gn.create("missing-app-config-values",{valueName:D})}dc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class On{constructor(S,x,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(D){if(!D||!D.options)throw _a("App Configuration Object");if(!D.name)throw _a("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const B of S)if(!x[B])throw _a(B);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:x,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Di(D){return su.apply(this,arguments)}function su(){return(su=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ha,{scope:rm}),D.swRegistration.update().catch(()=>{})}catch(S){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Hi(D,S){return xr.apply(this,arguments)}function xr(){return(xr=(0,L.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Di(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function hc(D,S){return il.apply(this,arguments)}function il(){return(il=(0,L.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Ja)})).apply(this,arguments)}function fc(){return(fc=(0,L.Z)(function*(D,S){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield hc(D,null==S?void 0:S.vapidKey),yield Hi(D,null==S?void 0:S.serviceWorkerRegistration),Yd(D)})).apply(this,arguments)}function au(D,S,x){return uu.apply(this,arguments)}function uu(){return(uu=(0,L.Z)(function*(D,S,x){const B=sl(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:x[os],message_name:x[Qa],message_time:x[hn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sl(D){switch(D){case Mr.NOTIFICATION_CLICKED:return"notification_open";case Mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function va(){return(va=(0,L.Z)(function*(D,S){const x=S.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===Mr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ls(x)):D.onMessageHandler.next(ls(x)));const B=x.data;Jd(B)&&"1"===B[Xa]&&(yield au(D,x.messageType,B))})).apply(this,arguments)}const pc="@firebase/messaging";function eh(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("messaging",D=>{const S=new On(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(D,S){return va.apply(this,arguments)}(S,x)),S},"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:B=>function(D,S){return fc.apply(this,arguments)}(S,B)}},"PRIVATE")),(0,ce.registerVersion)(pc,"0.9.4"),(0,ce.registerVersion)(pc,"0.9.4","esm2017");const wa="analytics",Bf="firebase_id",Xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js",En=new oe.Yd("@firebase/analytics");function _c(D){return Promise.all(D.map(S=>S.catch(x=>x)))}function Uf(D,S){const x=document.createElement("script");x.src=`${cu}?l=${D}&id=${S}`,x.async=!0,document.head.appendChild(x)}function Ea(D,S,x,B,Q,ue){return nh.apply(this,arguments)}function nh(){return(nh=(0,L.Z)(function*(D,S,x,B,Q,ue){const Ee=B[Q];try{if(Ee)yield S[Ee];else{const je=(yield _c(x)).find(Rt=>Rt.measurementId===Q);je&&(yield S[je.appId])}}catch(Ve){En.error(Ve)}D("config",Q,ue)})).apply(this,arguments)}function Da(D,S,x,B,Q){return eo.apply(this,arguments)}function eo(){return(eo=(0,L.Z)(function*(D,S,x,B,Q){try{let ue=[];if(Q&&Q.send_to){let Ee=Q.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Ve=yield _c(x);for(const je of Ee){const Rt=Ve.find(Fn=>Fn.measurementId===je),en=Rt&&S[Rt.appId];if(!en){ue=[];break}ue.push(en)}}0===ue.length&&(ue=Object.values(S)),yield Promise.all(ue),D("event",B,Q||{})}catch(ue){En.error(ue)}})).apply(this,arguments)}function om(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(cu))return S;return null}const Gi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),al=new class{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Hf(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function vc(D){return to.apply(this,arguments)}function to(){return(to=(0,L.Z)(function*(D){var S;const{appId:x,apiKey:B}=D,Q={method:"GET",headers:Hf(B)},ue=Xs.replace("{app-id}",x),Ee=yield fetch(ue,Q);if(200!==Ee.status&&304!==Ee.status){let Ve="";try{const je=yield Ee.json();(null===(S=je.error)||void 0===S?void 0:S.message)&&(Ve=je.error.message)}catch(je){}throw Gi.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Ve})}return Ee.json()})).apply(this,arguments)}function ih(D){return ai.apply(this,arguments)}function ai(){return(ai=(0,L.Z)(function*(D,S=al,x){const{appId:B,apiKey:Q,measurementId:ue}=D.options;if(!B)throw Gi.create("no-app-id");if(!Q){if(ue)return{measurementId:ue,appId:B};throw Gi.create("no-api-key")}const Ee=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new Gf;return setTimeout((0,L.Z)(function*(){Ve.abort()}),void 0!==x?x:6e4),du({appId:B,apiKey:Q,measurementId:ue},Ee,Ve,S)})).apply(this,arguments)}function du(D,S,x){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,L.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:x},B,Q=al){const{appId:ue,measurementId:Ee}=D;try{yield nv(B,S)}catch(Ve){if(Ee)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ue,measurementId:Ee};throw Ve}try{const Ve=yield vc(D);return Q.deleteThrottleMetadata(ue),Ve}catch(Ve){if(!sh(Ve)){if(Q.deleteThrottleMetadata(ue),Ee)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ue,measurementId:Ee};throw Ve}const je=503===Number(Ve.customData.httpStatus)?(0,ie.$s)(x,Q.intervalMillis,30):(0,ie.$s)(x,Q.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+je,backoffCount:x+1};return Q.setThrottleMetadata(ue,Rt),En.debug(`Calling attemptFetch again in ${je} millis`),du(D,Rt,B,Q)}})).apply(this,arguments)}function nv(D,S){return new Promise((x,B)=>{const Q=Math.max(S-Date.now(),0),ue=setTimeout(x,Q);D.addEventListener(()=>{clearTimeout(ue),B(Gi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function sh(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Gf{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function oh(){return ul.apply(this,arguments)}function ul(){return(ul=(0,L.Z)(function*(){if(!(0,ie.hl)())return En.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return En.warn(Gi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(D,S,x,B,Q,ue,Ee){var Ve;const je=ih(D);je.then(Qn=>{x[Qn.measurementId]=Qn.appId,D.options.measurementId&&Qn.measurementId!==D.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>En.error(Qn)),S.push(je);const Rt=oh().then(Qn=>{if(Qn)return B.getId()}),[en,Fn]=yield Promise.all([je,Rt]);om()||Uf(ue,en.measurementId),Q("js",new Date);const Zr=null!==(Ve=null==Ee?void 0:Ee.config)&&void 0!==Ve?Ve:{};return Zr.origin="firebase",Zr.update=!0,null!=Fn&&(Zr[Bf]=Fn),Q("config",en.measurementId,Zr),en.measurementId})).apply(this,arguments)}class Zt{constructor(S){this.app=S}_delete(){return delete Ue[this.app.options.appId],Promise.resolve()}}let Ue={},Yt=[];const bc={};let Ro,rn,yn="dataLayer",fu=!1;function Dn(D,S,x){!function(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),x=Gi.create("invalid-analytics-context",{errorInfo:S});En.warn(x.message)}}();const B=D.options.appId;if(!B)throw Gi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Gi.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ue[B])throw Gi.create("already-exists",{id:B});if(!fu){!function(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(yn);const{wrappedGtag:ue,gtagCore:Ee}=function(D,S,x,B,Q){let ue=function(...Ee){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ue=window[Q]),window[Q]=function(D,S,x,B){function ue(){return(ue=(0,L.Z)(function*(Ee,Ve,je){try{"event"===Ee?yield Da(D,S,x,Ve,je):"config"===Ee?yield Ea(D,S,x,B,Ve,je):D("set",Ve)}catch(Rt){En.error(Rt)}})).apply(this,arguments)}return function(Ee,Ve,je){return ue.apply(this,arguments)}}(ue,D,S,x),{gtagCore:ue,wrappedGtag:window[Q]}}(Ue,Yt,bc,yn,"gtag");rn=ue,Ro=Ee,fu=!0}return Ue[B]=function(D,S,x,B,Q,ue,Ee){return Mo.apply(this,arguments)}(D,Yt,bc,S,Ro,yn,x),new Zt(D)}function Ta(){return(Ta=(0,L.Z)(function*(D,S,x,B,Q){if(Q&&Q.global)D("event",x,B);else{const ue=yield S;D("event",x,Object.assign(Object.assign({},B),{send_to:ue}))}})).apply(this,arguments)}function Wi(){return uh.apply(this,arguments)}function uh(){return(uh=(0,L.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const lh="@firebase/analytics";(0,ce._registerComponent)(new J.wA(wa,(S,{options:x})=>Dn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function(S){try{const x=S.getProvider(wa).getImmediate();return{logEvent:(B,Q,ue)=>function(D,S,x,B){D=(0,ie.m9)(D),function(D,S,x,B,Q){return Ta.apply(this,arguments)}(rn,Ue[D.app.options.appId],S,x,B).catch(Q=>En.error(Q))}(x,B,Q,ue)}}catch(x){throw Gi.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(lh,"0.7.4"),(0,ce.registerVersion)(lh,"0.7.4","esm2017");var rv=F(7771),dl=F(3637),Ia=F(8307),mu=F(9746),cm=F(2639);const ch=new u.GfV("7.2.0"),wc="__angularfire_symbol__analyticsIsSupported",io="__angularfire_symbol__remoteConfigIsSupported",Ms="__angularfire_symbol__messagingIsSupported";function ds(D,S,x){if(S){if(1===S.length)return S[0];const ue=S.filter(Ee=>Ee.app===x);if(1===ue.length)return ue[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[wc]||(globalThis[wc]=Wi().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Ms]||(globalThis[Ms]=eh().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[io]||(globalThis[io]=lc().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const _u=(D,S)=>{const x=S?[S]:(0,te.C6)(),B=[];return x.forEach(Q=>{Q.container.getProvider(D).instances.forEach(Ee=>{B.includes(Ee)||B.push(Ee)})}),B};function Ii(){}class Rs{constructor(S,x=rv.N){this.zone=S,this.delegate=x}now(){return this.delegate.now()}schedule(S,x,B){const Q=this.zone;return this.delegate.schedule(function(Ee){Q.runGuarded(()=>{S.apply(this,[Ee])})},x,B)}}class hh{constructor(S){this.zone=S,this.task=null}call(S,x){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),x.pipe((0,Ia.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dc=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Rs(Zone.current)),this.insideAngular=x.run(()=>new Rs(Zone.current,dl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ko(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function hl(D){return D.pipe((0,mu.QV)(ko().outsideAngular))}function bn(D){return ko(),function(D){return function(x){return(x=x.lift(new hh(D.ngZone))).pipe((0,cm.R)(D.outsideAngular),(0,mu.QV)(D.insideAngular))}}(ko())(D)}},3854:(He,_e,F)=>{"use strict";F.d(_e,{BH:()=>de,LL:()=>ze,ZR:()=>Lt,zI:()=>ft,US:()=>J,tV:()=>z,$s:()=>zt,r3:()=>sn,Sg:()=>Re,ne:()=>ir,vZ:()=>Vt,ZB:()=>U,pd:()=>ss,m9:()=>ic,z$:()=>Ne,jU:()=>X,ru:()=>re,d:()=>Ae,xb:()=>gn,w1:()=>Tt,hl:()=>pn,uI:()=>be,UG:()=>he,b$:()=>we,G6:()=>yt,Mn:()=>It,xO:()=>sa,zd:()=>Li,eu:()=>vt});const ce=function(W){const j=[];let Z=0;for(let ye=0;ye<W.length;ye++){let se=W.charCodeAt(ye);se<128?j[Z++]=se:se<2048?(j[Z++]=se>>6|192,j[Z++]=63&se|128):55296==(64512&se)&&ye+1<W.length&&56320==(64512&W.charCodeAt(ye+1))?(se=65536+((1023&se)<<10)+(1023&W.charCodeAt(++ye)),j[Z++]=se>>18|240,j[Z++]=se>>12&63|128,j[Z++]=se>>6&63|128,j[Z++]=63&se|128):(j[Z++]=se>>12|224,j[Z++]=se>>6&63|128,j[Z++]=63&se|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,j){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let se=0;se<W.length;se+=3){const Be=W[se],gt=se+1<W.length,Bt=gt?W[se+1]:0,Mn=se+2<W.length,Rn=Mn?W[se+2]:0;let gr=(15&Bt)<<2|Rn>>6,Eo=63&Rn;Mn||(Eo=64,gt||(gr=64)),ye.push(Z[Be>>2],Z[(3&Be)<<4|Bt>>4],Z[gr],Z[Eo])}return ye.join("")},encodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(W):this.encodeByteArray(ce(W),j)},decodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(W):function(W){const j=[];let Z=0,ye=0;for(;Z<W.length;){const se=W[Z++];if(se<128)j[ye++]=String.fromCharCode(se);else if(se>191&&se<224){const Be=W[Z++];j[ye++]=String.fromCharCode((31&se)<<6|63&Be)}else if(se>239&&se<365){const Mn=((7&se)<<18|(63&W[Z++])<<12|(63&W[Z++])<<6|63&W[Z++])-65536;j[ye++]=String.fromCharCode(55296+(Mn>>10)),j[ye++]=String.fromCharCode(56320+(1023&Mn))}else{const Be=W[Z++],gt=W[Z++];j[ye++]=String.fromCharCode((15&se)<<12|(63&Be)<<6|63&gt)}}return j.join("")}(this.decodeStringToByteArray(W,j))},decodeStringToByteArray(W,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let se=0;se<W.length;){const Be=Z[W.charAt(se++)],Bt=se<W.length?Z[W.charAt(se)]:0;++se;const Rn=se<W.length?Z[W.charAt(se)]:64;++se;const Ft=se<W.length?Z[W.charAt(se)]:64;if(++se,null==Be||null==Bt||null==Rn||null==Ft)throw Error();ye.push(Be<<2|Bt>>4),64!==Rn&&(ye.push(Bt<<4&240|Rn>>2),64!==Ft&&ye.push(Rn<<6&192|Ft))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},K=function(W){return function(W){const j=ce(W);return J.encodeByteArray(j,!0)}(W).replace(/\./g,"")},z=function(W){try{return J.decodeString(W,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function U(W,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!G(Z)||(W[Z]=U(W[Z],j[Z]));return W}function G(W){return"__proto__"!==W}class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,ye)=>{Z?this.reject(Z):this.resolve(ye),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,ye))}}}function Re(W,j){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=j||"demo-project",se=W.iat||0,Be=W.sub||W.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:se,exp:se+3600,auth_time:se,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},W);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(gt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function X(){return"object"==typeof self&&self.self===self}function re(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ne().indexOf("Electron/")>=0}function Tt(){const W=Ne();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function It(){return Ne().indexOf("MSAppHost/")>=0}function yt(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pn(){return"object"==typeof indexedDB}function vt(){return new Promise((W,j)=>{try{let Z=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ye);se.onsuccess=()=>{se.result.close(),Z||self.indexedDB.deleteDatabase(ye),W(!0)},se.onupgradeneeded=()=>{Z=!1},se.onerror=()=>{var Be;j((null===(Be=se.error)||void 0===Be?void 0:Be.message)||"")}}catch(Z){j(Z)}})}function ft(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Lt extends Error{constructor(j,Z,ye){super(Z),this.code=j,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(j,Z,ye){this.service=j,this.serviceName=Z,this.errors=ye}create(j,...Z){const ye=Z[0]||{},se=`${this.service}/${j}`,Be=this.errors[j],gt=Be?function(W,j){return W.replace(qs,(Z,ye)=>{const se=j[ye];return null!=se?String(se):`<${ye}?>`})}(Be,ye):"Error";return new Lt(se,`${this.serviceName}: ${gt} (${se}).`,ye)}}const qs=/\{\$([^}]+)}/g;function sn(W,j){return Object.prototype.hasOwnProperty.call(W,j)}function gn(W){for(const j in W)if(Object.prototype.hasOwnProperty.call(W,j))return!1;return!0}function Vt(W,j){if(W===j)return!0;const Z=Object.keys(W),ye=Object.keys(j);for(const se of Z){if(!ye.includes(se))return!1;const Be=W[se],gt=j[se];if(mn(Be)&&mn(gt)){if(!Vt(Be,gt))return!1}else if(Be!==gt)return!1}for(const se of ye)if(!Z.includes(se))return!1;return!0}function mn(W){return null!==W&&"object"==typeof W}function sa(W){const j=[];for(const[Z,ye]of Object.entries(W))Array.isArray(ye)?ye.forEach(se=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(se))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(ye));return j.length?"&"+j.join("&"):""}function Li(W){const j={};return W.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[se,Be]=ye.split("=");j[decodeURIComponent(se)]=decodeURIComponent(Be)}}),j}function ss(W){const j=W.indexOf("?");if(!j)return"";const Z=W.indexOf("#",j);return W.substring(j,Z>0?Z:void 0)}function ir(W,j){const Z=new $n(W,j);return Z.subscribe.bind(Z)}class $n{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(ye=>{this.error(ye)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,ye){let se;if(void 0===j&&void 0===Z&&void 0===ye)throw new Error("Missing Observer.");se=function(W,j){if("object"!=typeof W||null===W)return!1;for(const Z of["next","error","complete"])if(Z in W&&"function"==typeof W[Z])return!0;return!1}(j)?j:{next:j,error:Z,complete:ye},void 0===se.next&&(se.next=Vi),void 0===se.error&&(se.error=Vi),void 0===se.complete&&(se.complete=Vi);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(gt){}}),this.observers.push(se),Be}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vi(){}function zt(W,j=1e3,Z=2){const ye=j*Math.pow(Z,W),se=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+se)}function ic(W){return W&&W._delegate?W._delegate:W}},2329:(He,_e,F)=>{"use strict";F.d(_e,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.6.0","app")},7841:(He,_e,F)=>{"use strict";F.d(_e,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.6.0","app-compat")},941:(He,_e,F)=>{"use strict";F.r(_e);var u=F(8239),te=F(3394),L=F(3854),ce=F(8026);function K(y,p){var g={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&p.indexOf(b)<0&&(g[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(b=Object.getOwnPropertySymbols(y);I<b.length;I++)p.indexOf(b[I])<0&&Object.prototype.propertyIsEnumerable.call(y,b[I])&&(g[b[I]]=y[b[I]])}return g}var Lt=F(5422),ze=F(3910);const wo=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Es=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},sn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new Lt.Yd("@firebase/auth");function rr(y,...p){gn.logLevel<=Lt.in.ERROR&&gn.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Vt(y,...p){throw ss(y,...p)}function mn(y,...p){return ss(y,...p)}function sa(y,p,g){const b=Object.assign(Object.assign({},Es()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:y.name})}function Li(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Vt(y,"argument-error"),sa(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ss(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return sn.create(y,...p)}function De(y,p,...g){if(!y)throw ss(p,...g)}function ir(y){const p="INTERNAL ASSERTION FAILED: "+y;throw rr(p),new Error(p)}function $n(y,p){y||ir(p)}const Ge=new Map;function $t(y){$n(y instanceof Function,"Expected a class definition");let p=Ge.get(y);return p?($n(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ge.set(y,p),p)}function et(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function it(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Gt{constructor(p,g){this.shortDelay=p,this.longDelay=g,$n(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pe(y,p){$n(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Je{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ws=new Gt(3e4,6e4);function zt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function pt(y,p,g,b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(y,p,g,b,I={}){return ic(y,I,()=>{let M={},q={};b&&("GET"===p?q=b:M={body:JSON.stringify(b)});const ae=(0,L.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),ke=new(Je.headers());return ke.set("Content-Type","application/json"),ke.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&ke.set("X-Firebase-Locale",y.languageCode),Je.fetch()(ye(y,y.config.apiHost,g,ae),Object.assign({method:p,headers:ke,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function ic(y,p,g){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Gu),p);try{const I=new se(y),M=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const q=yield M.json();if("needConfirmation"in q)throw Be(y,"account-exists-with-different-credential",q);if(M.ok&&!("errorMessage"in q))return q;{const ae=M.ok?q.errorMessage:q.error.message,[ke,Se]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Be(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===ke)throw Be(y,"email-already-in-use",q);const $e=b[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw sa(y,$e,Se);Vt(y,$e)}}catch(I){if(I instanceof L.ZR)throw I;Vt(y,"network-request-failed")}})).apply(this,arguments)}function j(y,p,g,b){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(y,p,g,b,I={}){const M=yield pt(y,p,g,b,I);return"mfaPendingCredential"in M&&Vt(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function ye(y,p,g,b){const I=`${p}${g}?${b}`;return y.config.emulator?Pe(y.config,I):`${y.config.apiScheme}://${I}`}class se{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(mn(this.auth,"timeout")),Ws.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Be(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=mn(y,p,b);return I.customData._tokenResponse=g,I}function Bt(){return(Bt=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(y,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sr(y,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Do(){return(Do=(0,u.Z)(function*(y,p=!1){const g=(0,L.m9)(y),b=yield g.getIdToken(p),I=Co(b);De(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,q=null==M?void 0:M.sign_in_provider;return{claims:I,token:b,authTime:gr(Wu(I.auth_time)),issuedAtTime:gr(Wu(I.iat)),expirationTime:gr(Wu(I.exp)),signInProvider:q||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Wu(y){return 1e3*Number(y)}function Co(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return rr("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,L.tV)(g);return I?JSON.parse(I):(rr("Failed to decode base64 JWT payload"),null)}catch(I){return rr("Caught error parsing JWT payload as JSON",I),null}}function bi(y,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&ni(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function ni({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Bi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class wi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function To(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),I=yield bi(y,Sr(g,{idToken:b}));De(null==I?void 0:I.users.length,g,"internal-error");const M=I.users[0];y._notifyReloadListener(M);const q=(null===(p=M.providerUserInfo)||void 0===p?void 0:p.length)?Gr(M.providerUserInfo):[],ae=Jt(y.providerData,q),$e=!!y.isAnonymous&&!(y.email&&M.passwordHash||(null==ae?void 0:ae.length)),qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ae,metadata:new wi(M.createdAt,M.lastLoginAt),isAnonymous:$e};Object.assign(y,qe)})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(y){const p=(0,L.m9)(y);yield To(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Jt(y,p){return[...y.filter(b=>!p.some(I=>I.providerId===b.providerId)),...p]}function Gr(y){return y.map(p=>{var{providerId:g}=p,b=K(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function xn(){return(xn=(0,u.Z)(function*(y,p){const g=yield ic(y,{},()=>{const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:M}=y.config,q=ye(y,I,"/v1/token",`key=${M}`);return Je.fetch()(q,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){De(p.idToken,"internal-error"),De(void 0!==p.idToken,"internal-error"),De(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Co(y);return De(p,"internal-error"),De(void 0!==p.exp,"internal-error"),De(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,u.Z)(function*(){return De(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,u.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:q}=yield function(y,p){return xn.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(I,M,Number(q))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:I,expirationTime:M}=g,q=new ri;return b&&(De("string"==typeof b,"internal-error",{appName:p}),q.refreshToken=b),I&&(De("string"==typeof I,"internal-error",{appName:p}),q.accessToken=I),M&&(De("number"==typeof M,"internal-error",{appName:p}),q.expirationTime=M),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ri,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Qt(y,p){De("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ii{constructor(p){var{uid:g,auth:b,stsTokenManager:I}=p,M=K(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new wi(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const b=yield bi(g,g.stsTokenManager.getToken(g.auth,p));return De(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(y){return Do.apply(this,arguments)}(this,p)}reload(){return function(y){return bt.apply(this,arguments)}(this)}_assign(p){this!==p&&(De(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ii(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,u.Z)(function*(){let I=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),I=!0),g&&(yield To(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield bi(p,function(y,p){return Bt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,I,M,q,ae,ke,Se,$e;const qe=null!==(b=g.displayName)&&void 0!==b?b:void 0,Dt=null!==(I=g.email)&&void 0!==I?I:void 0,qn=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Ho=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Ih=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,Uc=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,Fm=null!==(Se=g.createdAt)&&void 0!==Se?Se:void 0,Lm=null!==($e=g.lastLoginAt)&&void 0!==$e?$e:void 0,{uid:jc,emailVerified:Vm,isAnonymous:Bm,providerData:hp,stsTokenManager:$c}=g;De(jc&&$c,p,"internal-error");const Sh=ri.fromJSON(this.name,$c);De("string"==typeof jc,p,"internal-error"),Qt(qe,p.name),Qt(Dt,p.name),De("boolean"==typeof Vm,p,"internal-error"),De("boolean"==typeof Bm,p,"internal-error"),Qt(qn,p.name),Qt(Ho,p.name),Qt(Ih,p.name),Qt(Uc,p.name),Qt(Fm,p.name),Qt(Lm,p.name);const Ah=new ii({uid:jc,auth:p,email:Dt,emailVerified:Vm,displayName:qe,isAnonymous:Bm,photoURL:Ho,phoneNumber:qn,tenantId:Ih,stsTokenManager:Sh,createdAt:Fm,lastLoginAt:Lm});return hp&&Array.isArray(hp)&&(Ah.providerData=hp.map(Pa=>Object.assign({},Pa))),Uc&&(Ah._redirectEventId=Uc),Ah}static _fromIdTokenResponse(p,g,b=!1){return(0,u.Z)(function*(){const I=new ri;I.updateFromServerResponse(g);const M=new ii({uid:g.localId,auth:p,stsTokenManager:I,isAnonymous:b});return yield To(M),M})()}}const at=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,u.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function qr(y,p,g){return`firebase:${y}:${p}:${g}`}class Ei{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:I,name:M}=this.auth;this.fullUserKey=qr(this.userKey,I.apiKey,M),this.fullPersistenceKey=qr("persistence",I.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ii._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Ei($t(at),p,b);const I=(yield Promise.all(g.map(function(){var Se=(0,u.Z)(function*($e){if(yield $e._isAvailable())return $e});return function($e){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let M=I[0]||$t(at);const q=qr(b,p.config.apiKey,p.name);let ae=null;for(const Se of g)try{const $e=yield Se._get(q);if($e){const qe=ii._fromJSON(p,$e);Se!==M&&(ae=qe),M=Se;break}}catch($e){}const ke=I.filter(Se=>Se._shouldAllowMigration);return M._shouldAllowMigration&&ke.length?(M=ke[0],ae&&(yield M._set(q,ae.toJSON())),yield Promise.all(g.map(function(){var Se=(0,u.Z)(function*($e){if($e!==M)try{yield $e._remove(q)}catch(qe){}});return function($e){return Se.apply(this,arguments)}}())),new Ei(M,p,b)):new Ei(M,p,b)})()}}function sr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(zs(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(aa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wt(p))return"Blackberry";if(Ld(p))return"Webos";if(mr(p))return"Safari";if((p.includes("chrome/")||ua(p))&&!p.includes("edge/"))return"Chrome";if(Nr(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function aa(y=(0,L.z$)()){return/firefox\//i.test(y)}function mr(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ua(y=(0,L.z$)()){return/crios\//i.test(y)}function zs(y=(0,L.z$)()){return/iemobile/i.test(y)}function Nr(y=(0,L.z$)()){return/android/i.test(y)}function wt(y=(0,L.z$)()){return/blackberry/i.test(y)}function Ld(y=(0,L.z$)()){return/webos/i.test(y)}function la(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ds(y=(0,L.z$)()){return la(y)||Nr(y)||Ld(y)||wt(y)||/windows phone/i.test(y)||zs(y)}function _r(y,p=[]){let g;switch(y){case"Browser":g=sr((0,L.z$)());break;case"Worker":g=`${sr((0,L.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${b}`}class Xg{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=$t(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var I,M;b._deleted||(b.persistenceManager=yield Ei.create(b,p),!b._deleted&&((null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,q=null==I?void 0:I._redirectEventId,ae=yield g.tryRedirectSignIn(p);(!M||M===q)&&(null==ae?void 0:ae.user)&&(I=ae.user)}return I?I._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield To(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&De(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&De(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence($t(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,u.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&$t(p)||g._popupRedirectResolver;De(b,g,"argument-error"),g.redirectPersistenceManager=yield Ei.create(g,[$t(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,I){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return De(q,this,"internal-error"),q.then(()=>M(this.currentUser)),"function"==typeof g?p.addObserver(g,b,I):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=_r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function an(y){return(0,L.m9)(y)}class yr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Za(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ui(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ya{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ir("not implemented")}_getIdTokenResponse(p){return ir("not implemented")}_linkToIdToken(p,g){return ir("not implemented")}_getReauthenticationResolver(p){return ir("not implemented")}}function Bd(y,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:resetPassword",zt(y,p))})).apply(this,arguments)}function Of(y,p){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function em(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:update",zt(y,p))})).apply(this,arguments)}function jd(){return(jd=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPassword",zt(y,p))})).apply(this,arguments)}function uc(y,p){return $d.apply(this,arguments)}function $d(){return($d=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:sendOobCode",zt(y,p))})).apply(this,arguments)}function tm(y,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,u.Z)(function*(y,p){return uc(y,p)})).apply(this,arguments)}function nm(y,p){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,u.Z)(function*(y,p){return uc(y,p)})).apply(this,arguments)}function Gd(y,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(y,p){return uc(y,p)})).apply(this,arguments)}function zu(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(y,p){return uc(y,p)})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,p))})).apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,p))})).apply(this,arguments)}class Qa extends Ya{constructor(p,g,b,I=null){super("password",b),this._email=p,this._password=g,this._tenantId=I}static _fromEmailAndPassword(p,g){return new Qa(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Qa(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return jd.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return Ja.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Vt(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Of(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,p){return os.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Vt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function hn(y,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithIdp",zt(y,p))})).apply(this,arguments)}class Mr extends Ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Mr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Vt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I}=g,M=K(g,["providerId","signInMethod"]);if(!b||!I)return null;const q=new Mr(b,I);return q.idToken=M.idToken||void 0,q.accessToken=M.accessToken||void 0,q.secret=M.secret,q.nonce=M.nonce,q.pendingToken=M.pendingToken||null,q}_getIdTokenResponse(p){return hn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,hn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function as(y,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:sendVerificationCode",zt(y,p))})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,p))})).apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(y,p){const g=yield j(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,p));if(g.temporaryProof)throw Be(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const eu={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),eu)})).apply(this,arguments)}class So extends Ya{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new So({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new So({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return Ku.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return si.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return fa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}=p;return b||g||I||M?new So({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}):null}}class Xt{constructor(p){var g,b,I,M,q,ae;const ke=(0,L.zd)((0,L.pd)(p)),Se=null!==(g=ke.apiKey)&&void 0!==g?g:null,$e=null!==(b=ke.oobCode)&&void 0!==b?b:null,qe=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=ke.mode)&&void 0!==I?I:null);De(Se&&$e&&qe,"argument-error"),this.apiKey=Se,this.operation=qe,this.code=$e,this.continueUrl=null!==(M=ke.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(q=ke.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ae=ke.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const g=function(y){const p=(0,L.zd)((0,L.pd)(y)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||y}(p);try{return new Xt(g)}catch(b){return null}}}let us=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Qa._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=Xt.parseLink(b);return De(I,"argument-error"),Qa._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class $i{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qt extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class pa extends qt{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Mr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return De(p.idToken||p.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return pa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return pa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:M,nonce:q,providerId:ae}=p;if(!b&&!I&&!g&&!M||!ae)return null;try{return new pa(ae)._credential({idToken:g,accessToken:b,nonce:q,pendingToken:M})}catch(ke){return null}}}let Ju=(()=>{class y extends qt{constructor(){super("facebook.com")}static credential(g){return Mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ao=(()=>{class y extends qt{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),oi=(()=>{class y extends qt{constructor(){super("github.com")}static credential(g){return Mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ks extends Ya{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return hn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,hn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,hn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:I,pendingToken:M}=g;return b&&I&&M&&b===I?new Ks(b,M):null}static _create(p,g){return new Ks(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vr extends $i{constructor(p){De(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return vr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return vr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ks.fromJSON(p);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Ks._create(b,g)}catch(I){return null}}}let Qu=(()=>{class y extends qt{constructor(){super("twitter.com")}static credential(g,b){return Mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Xu(y,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signUp",zt(y,p))})).apply(this,arguments)}class kn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,I=!1){return(0,u.Z)(function*(){const M=yield ii._fromIdTokenResponse(p,b,I),q=tu(b);return new kn({user:M,providerId:q,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const I=tu(b);return new kn({user:p,providerId:I,_tokenResponse:b,operationType:g})})()}}function tu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function st(){return(st=(0,u.Z)(function*(y){var p;const g=an(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new kn({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Xu(g,{returnSecureToken:!0}),I=yield kn._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class el extends L.ZR{constructor(p,g,b,I){var M;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,el.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,I){return new el(p,g,b,I)}}function Yd(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?el._fromErrorAndOperation(y,M,p,b):M})}function tl(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ru(){return(ru=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);yield ve(!0,g,p);const{providerUserInfo:b}=yield Mn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),I=tl(b||[]);return g.providerData=g.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function cc(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(y,p,g=!1){const b=yield bi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return kn._forOperation(y,"link",b)})).apply(this,arguments)}function ve(y,p,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(y,p,g){yield To(p);const I=!1===y?"provider-already-linked":"no-such-provider";De(tl(p.providerData).has(g)===y,p.auth,I)})).apply(this,arguments)}function nl(y,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(y,p,g=!1){const{auth:b}=y,I="reauthenticate";try{const M=yield bi(y,Yd(b,I,p,y),g);De(M.idToken,b,"internal-error");const q=Co(M.idToken);De(q,b,"internal-error");const{sub:ae}=q;return De(y.uid===ae,b,"user-mismatch"),kn._forOperation(y,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Vt(b,"user-mismatch"),M}})).apply(this,arguments)}function rl(y,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(y,p,g=!1){const b="signIn",I=yield Yd(y,b,p),M=yield kn._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Rr(y,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(y,p){return rl(an(y),p)})).apply(this,arguments)}function iu(y,p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y);return yield ve(!1,g,p.providerId),cc(g,p)})).apply(this,arguments)}function dc(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(y,p){return nl((0,L.m9)(y),p)})).apply(this,arguments)}function _a(y,p){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(y,p){return j(y,"POST","/v1/accounts:signInWithCustomToken",zt(y,p))})).apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(y,p){const g=an(y),b=yield _a(g,{token:p,returnSecureToken:!0}),I=yield kn._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class Hi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?xr._fromServerResponse(p,g):Vt(p,"internal-error")}}class xr extends Hi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new xr(g)}}function hc(y,p,g){var b;De((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ou(){return(ou=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"PASSWORD_RESET",email:p};g&&hc(b,I,g),yield nm(b,I)})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(y,p,g){yield Bd((0,L.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(y,p){yield em((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function ya(y,p){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),b=yield Bd(g,{oobCode:p}),I=b.requestType;switch(De(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(b.mfaInfo,g,"internal-error");default:De(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=Hi._fromServerResponse(an(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(y,p){const{data:g}=yield ya((0,L.m9)(y),p);return g.email})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(y,p,g){const b=an(y),I=yield Xu(b,{returnSecureToken:!0,email:p,password:g}),M=yield kn._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};De(g.handleCodeInApp,b,"argument-error"),g&&hc(b,I,g),yield Gd(b,I)})).apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=us.credentialWithLink(p,g||et());return De(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Rr(b,I)})).apply(this,arguments)}function ba(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:createAuthUri",zt(y,p))})).apply(this,arguments)}function Vf(){return(Vf=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:it()?et():"http://localhost"},{signinMethods:I}=yield ba((0,L.m9)(y),b);return I||[]})).apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(y,p){const g=(0,L.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&hc(g.auth,I,p);const{email:M}=yield tm(g.auth,I);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&hc(b.auth,M,g);const{email:q}=yield zu(b.auth,M);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function ol(y,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(y,p){return pt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(y),M={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield bi(b,ol(b.auth,M));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const ae=b.providerData.find(({providerId:ke})=>"password"===ke);ae&&(ae.displayName=b.displayName,ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function Is(y,p,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(y,p,g){const{auth:b}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(M.email=p),g&&(M.password=g);const q=yield bi(y,Of(b,M));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Da{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class eo extends Da{constructor(p,g,b,I){super(p,g,b),this.username=I}}class yc extends Da{constructor(p,g){super(p,"facebook.com",g)}}class jf extends eo{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class om extends Da{constructor(p,g){super(p,"google.com",g)}}class am extends eo{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Gi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=Co(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new Da(M,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new yc(M,I);case"github.com":return new jf(M,I);case"google.com":return new om(M,I);case"twitter.com":return new am(M,I,y.screenName||null);case"custom":case"anonymous":return new Da(M,null);default:return new Da(M,b,I)}}(g)}class ai{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new ai("enroll",p)}static _fromMfaPendingCredential(p){return new ai("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ai._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ai._fromIdtoken(p.multiFactorSession.idToken)}return null}}class du{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=an(p),I=g.customData._serverResponse,M=(I.mfaInfo||[]).map(ae=>Hi._fromServerResponse(b,ae));De(I.mfaPendingCredential,b,"internal-error");const q=ai._fromMfaPendingCredential(I.mfaPendingCredential);return new du(q,M,function(){var ae=(0,u.Z)(function*(ke){const Se=yield ke._process(b,q);delete I.mfaInfo,delete I.mfaPendingCredential;const $e=Object.assign(Object.assign({},I),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(g.operationType){case"signIn":const qe=yield kn._fromIdTokenResponse(b,g.operationType,$e);return yield b._updateCurrentUser(qe.user),qe;case"reauthenticate":return De(g.user,b,"internal-error"),kn._forOperation(g.user,g.operationType,$e);default:Vt(b,"internal-error")}});return function(ke){return ae.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function nv(y,p){return pt(y,"POST","/v2/accounts/mfaEnrollment:start",zt(y,p))}class oh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Hi._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new oh(p)}getSession(){var p=this;return(0,u.Z)(function*(){return ai._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,u.Z)(function*(){const I=p,M=yield b.getSession(),q=yield bi(b.user,I._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,I=yield g.user.getIdToken(),M=yield bi(g.user,function(y,p){return pt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(y,p))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==b),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const ul=new WeakMap,Mo="__sak";class Zt{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const As=(()=>{class y extends Zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,L.z$)();return mr(y)||la(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ds(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),M=this.localCache[b];I!==M&&g(b,M,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ae,ke,Se)=>{this.notifyListeners(ae,Se)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(I);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const M=()=>{const ae=this.storage.getItem(I);!b&&this.localCache[I]===ae||this.notifyListeners(I,ae)},q=this.storage.getItem(I);(0,L.w1)()&&10===document.documentMode&&q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,M=this;return(0,u.Z)(function*(){yield I().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,u.Z)(function*(){const M=yield b().call(I,g);return I.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,I=this;return(0,u.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),rn=(()=>{class y extends Zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let um=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const I=g,{eventId:M,eventType:q,data:ae}=I.data,ke=b.handlersMap[q];if(!(null==ke?void 0:ke.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:q});const Se=Array.from(ke).map(function(){var qe=(0,u.Z)(function*(Dt){return Dt(I.origin,ae)});return function(Dt){return qe.apply(this,arguments)}}()),$e=yield function(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Se);I.ports[0].postMessage({status:"done",eventId:M,eventType:q,response:$e})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function no(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class Dn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var I=this;return(0,u.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let q,ae;return new Promise((ke,Se)=>{const $e=no("",20);M.port1.start();const qe=setTimeout(()=>{Se(new Error("unsupported_event"))},b);ae={messageChannel:M,onMessage(Dt){const qn=Dt;if(qn.data.eventId===$e)switch(qn.data.status){case"ack":clearTimeout(qe),q=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),ke(qn.data.response);break;default:clearTimeout(qe),clearTimeout(q),Se(new Error("invalid_response"))}}},I.handlers.add(ae),M.port1.addEventListener("message",ae.onMessage),I.target.postMessage({eventType:p,eventId:$e,data:g},[M.port2])}).finally(()=>{ae&&I.removeMessageHandler(ae)})})()}}function Cn(){return window}function pu(){return void 0!==Cn().WorkerGlobalScope&&"function"==typeof Cn().importScripts}function ll(){return(ll=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ci="firebaseLocalStorageDb",qi="firebaseLocalStorage",ro="fbase_key";class kr{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Wi(y,p){return y.transaction([qi],p?"readwrite":"readonly").objectStore(qi)}function tt(){const y=indexedDB.open(Ci,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(qi,{keyPath:ro})}catch(I){g(I)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(qi)?p(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase(Ci);return new kr(y).toPromise()}(),p(yield tt()))}))})}function Ti(y,p,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(y,p,g){const b=Wi(y,!0).put({[ro]:p,value:g});return new kr(b).toPromise()})).apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(y,p){const g=Wi(y,!1).get(p),b=yield new kr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function lh(y,p){const g=Wi(y,!0).delete(p);return new kr(g).toPromise()}const dl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield tt()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let I=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(I++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return pu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=um._getInstance(pu()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(I,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(I,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function(){return ll.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Dn(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield tt();return yield Ti(g,Mo,"1"),yield lh(g,Mo),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(M=>Ti(M,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const I=yield b._withRetries(M=>function(y,p){return cn.apply(this,arguments)}(M,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(I=>lh(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(q=>{const ae=Wi(q,!1).getAll();return new kr(ae).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:q,value:ae}of b)M.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ae)&&(g.notifyListeners(q,ae),I.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!M.has(q)&&(g.notifyListeners(q,null),I.push(q));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ia(y,p){return pt(y,"POST","/v2/accounts/mfaSignIn:start",zt(y,p))}function ch(){return(ch=(0,u.Z)(function*(y){return(yield pt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wc(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=I=>{const M=mn("internal-error");M.customData=I,g(M)},b.type="text/javascript",b.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function xo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ms=1e12;class In{constructor(p){this.auth=p,this.counter=Ms,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Ec(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Ms;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ms))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(p||Ms))||void 0===b||b.execute(),""})()}}class Ec{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;De(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ui=xo("rcb"),ds=new Gt(3e4,6e4);class Ii{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Cn().grecaptcha}load(p,g=""){return De((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((b,I)=>{const M=Cn().setTimeout(()=>{I(mn(p,"network-request-failed"))},ds.get());Cn()[ui]=()=>{Cn().clearTimeout(M),delete Cn()[ui];const ae=Cn().grecaptcha;if(!ae)return void I(mn(p,"internal-error"));const ke=ae.render;ae.render=(Se,$e)=>{const qe=ke(Se,$e);return this.counter++,qe},this.hostLanguage=g,b(ae)},wc(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ui,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),I(mn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Cn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hh{load(p){return(0,u.Z)(function*(){return new In(p)})()}clearedOneInstance(){}}const Dc="recaptcha",ko={theme:"light",type:"image"};class dm{constructor(p,g=Object.assign({},ko),b){this.parameters=g,this.type=Dc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(b),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;De(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hh:new Ii,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const q=ae=>{!ae||(p.tokenChangeListeners.delete(q),M(ae))};p.tokenChangeListeners.add(q),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Cn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){De(it()&&!pu(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return ch.apply(this,arguments)}(p.auth);De(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hl{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=So._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function bn(){return(bn=(0,u.Z)(function*(y,p,g){const b=an(y),I=yield S(b,p,(0,L.m9)(g));return new hl(I,M=>Rr(b,M))})).apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);yield ve(!1,b,"phone");const I=yield S(b.auth,p,(0,L.m9)(g));return new hl(I,M=>iu(b,M))})).apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y),I=yield S(b.auth,p,(0,L.m9)(g));return new hl(I,M=>dc(b,M))})).apply(this,arguments)}function S(y,p,g){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(y,p,g){var b;const I=yield g.verify();try{let M;if(De("string"==typeof I,y,"argument-error"),De(g.type===Dc,y,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const q=M.session;if("phoneNumber"in M)return De("enroll"===q.type,y,"internal-error"),(yield nv(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{De("signin"===q.type,y,"internal-error");const ae=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return De(ae,y,"missing-multi-factor-info"),(yield Ia(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield as(y,{phoneNumber:M.phoneNumber,recaptchaToken:I});return q}}finally{g._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(y,p){yield cc((0,L.m9)(y),p)})).apply(this,arguments)}let ue=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=an(g)}verifyPhoneNumber(g,b){return S(this.auth,g,(0,L.m9)(b))}static credential(g,b){return So._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?So._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ee(y,p){return p?$t(p):(De(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ve extends Ya{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return hn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return hn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return hn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function je(y){return rl(y.auth,new Ve(y),y.bypassAuthState)}function Rt(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),nl(g,new Ve(y),y.bypassAuthState)}function en(y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return De(g,p,"internal-error"),cc(g,new Ve(y),y.bypassAuthState)})).apply(this,arguments)}class Zr{constructor(p,g,b,I,M=!1){this.auth=p,this.resolver=b,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(b,I){p.pendingPromise={resolve:b,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:M,tenantId:q,error:ae,type:ke}=p;if(ae)return void g.reject(ae);const Se={auth:g.auth,requestUri:b,sessionId:I,tenantId:q||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(Se))}catch($e){g.reject($e)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return en;case"reauthViaPopup":case"reauthViaRedirect":return Rt;default:Vt(this.auth,"internal-error")}}resolve(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qn=new Gt(2e3,1e4);function Po(){return(Po=(0,u.Z)(function*(y,p,g){const b=an(y);Li(y,p,$i);const I=Ee(b,g);return new Wf(b,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Li(b.auth,p,$i);const I=Ee(b.auth,g);return new Wf(b.auth,"reauthViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Li(b.auth,p,$i);const I=Ee(b.auth,g);return new Wf(b.auth,"linkViaPopup",p,I,b).executeNotNull()})).apply(this,arguments)}let Wf=(()=>{class y extends Zr{constructor(g,b,I,M,q){super(g,b,M,q),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return De(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){$n(1===g.filter.length,"Popup operations only handle one event");const b=no();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(mn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Qn.get())};g()}}return y.currentPopupAction=null,y})();const gl=new Map;class hm extends Zr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=gl.get(g.auth._key());if(!b){try{const M=(yield function(y,p){return vu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(M)}catch(I){b=()=>Promise.reject(I)}gl.set(g.auth._key(),b)}return g.bypassAuthState||gl.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const I=yield b.auth._redirectUserForId(p.eventId);if(I)return b.user=I,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function vu(){return(vu=(0,u.Z)(function*(y,p){const g=Aa(p),b=fm(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function zf(y,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(y,p){return fm(y)._set(Aa(p),"true")})).apply(this,arguments)}function fm(y){return $t(y._redirectPersistence)}function Aa(y){return qr("pendingRedirect",y.config.apiKey,y.name)}function or(){return(or=(0,u.Z)(function*(y,p,g){const b=an(y);Li(y,p,$i);const I=Ee(b,g);return yield zf(I,b),I._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Li(b.auth,p,$i);const I=Ee(b.auth,g);yield zf(I,b.auth);const M=yield bu(b);return I._openRedirect(b.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function fh(){return(fh=(0,u.Z)(function*(y,p,g){const b=(0,L.m9)(y);Li(b.auth,p,$i);const I=Ee(b.auth,g);yield ve(!1,b,p.providerId),yield zf(I,b.auth);const M=yield bu(b);return I._openRedirect(b.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(y,p){return yield an(y)._initializationPromise,Lo(y,p,!1)})).apply(this,arguments)}function Lo(y,p){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(y,p,g=!1){const b=an(y),I=Ee(b,p),q=yield new hm(b,I,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,p)),q})).apply(this,arguments)}function bu(y){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(y){const p=no(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ov{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mm(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!mm(p)){const I=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(mn(this.auth,I))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(p))}saveEventToCache(p){this.cachedEventUids.add(Ma(p)),this.lastProcessedEventTime=Date.now()}}function Ma(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mm({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function yl(y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(y,p={}){return pt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac=/^https?/;function Nc(){return(Nc=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield yl(y);for(const g of p)try{if(ph(g))return}catch(b){}Vt(y,"unauthorized-domain")})).apply(this,arguments)}function ph(y){const p=et(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===b}if(!Ac.test(g))return!1;if(Vo.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Mc=new Gt(3e4,6e4);function vl(){const y=Cn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let bl=null;function wu(y){return bl=bl||function(y){return new Promise((p,g)=>{var b,I,M;function q(){vl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{vl(),g(mn(y,"network-request-failed"))},timeout:Mc.get()})}if(null===(I=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)p(gapi.iframes.getContext());else{if(!(null===(M=Cn().gapi)||void 0===M?void 0:M.load)){const ae=xo("iframefcb");return Cn()[ae]=()=>{gapi.load?q():g(mn(y,"network-request-failed"))},wc(`https://apis.google.com/js/api.js?onload=${ae}`)}q()}}).catch(p=>{throw bl=null,p})}(y),bl}const av=new Gt(5e3,15e3),lv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bo(y){const p=y.config;De(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Pe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},I=cv.get(y.config.apiHost);I&&(b.eid=I);const M=y._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function mh(){return(mh=(0,u.Z)(function*(y){const p=yield wu(y),g=Cn().gapi;return De(g,y,"internal-error"),p.open({where:document.body,url:Bo(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lv,dontclear:!0},b=>new Promise(function(){var I=(0,u.Z)(function*(M,q){yield b.restyle({setHideOnLeave:!1});const ae=mn(y,"network-request-failed"),ke=Cn().setTimeout(()=>{q(ae)},av.get());function Se(){Cn().clearTimeout(ke),M(b)}b.ping(Se).then(Se,()=>{q(ae)})});return function(M,q){return I.apply(this,arguments)}}()))})).apply(this,arguments)}const ym={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _h{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function wm(y,p,g,b,I,M){De(y.config.authDomain,y,"auth-domain-config-required"),De(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ce.SDK_VERSION,eventId:I};if(p instanceof $i){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ke,Se]of Object.entries(M||{}))q[ke]=Se}if(p instanceof qt){const ke=p.getScopes().filter(Se=>""!==Se);ke.length>0&&(q.scopes=ke.join(","))}y.tenantId&&(q.tid=y.tenantId);const ae=q;for(const ke of Object.keys(ae))void 0===ae[ke]&&delete ae[ke];return`${function({config:y}){return y.emulator?Pe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ae).slice(1)}`}const Ra="webStorageSupport";class Dl extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ir("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Dl(p)}_finalizeEnroll(p,g,b){return function(y,p){return pt(y,"POST","/v2/accounts/mfaEnrollment:finalize",zt(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return pt(y,"POST","/v2/accounts/mfaSignIn:finalize",zt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Em=(()=>{class y{constructor(){}static assertion(g){return Dl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Cl="@firebase/auth";class h1{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var I;p((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ki(){return window}function kc(){return(kc=(0,u.Z)(function*(y,p,g){var b;const{BuildInfo:I}=Ki();$n(p.sessionId,"AuthEvent did not contain a session ID");const M=yield Fc(p.sessionId),q={};return la()?q.ibi=I.packageName:Nr()?q.apn=I.packageName:Vt(y,"operation-not-supported-in-this-environment"),I.displayName&&(q.appDisplayName=I.displayName),q.sessionId=M,wm(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(y){const{BuildInfo:p}=Ki(),g={};la()?g.iosBundleId=p.packageName:Nr()?g.androidPackageName=p.packageName:Vt(y,"operation-not-supported-in-this-environment"),yield yl(y,g)})).apply(this,arguments)}function bh(){return(bh=(0,u.Z)(function*(y,p,g){const{cordova:b}=Ki();let I=()=>{};try{yield new Promise((M,q)=>{let ae=null;function ke(){var qe;M();const Dt=null===(qe=b.plugins.browsertab)||void 0===qe?void 0:qe.close;"function"==typeof Dt&&Dt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Se(){ae||(ae=window.setTimeout(()=>{q(mn(y,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}p.addPassiveListener(ke),document.addEventListener("resume",Se,!1),Nr()&&document.addEventListener("visibilitychange",$e,!1),I=()=>{p.removePassiveListener(ke),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",$e,!1),ae&&window.clearTimeout(ae)}})}finally{I()}})).apply(this,arguments)}function Fc(y){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(y){const p=ep(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ep(y){if($n(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}y="Browser",(0,ce._registerComponent)(new ze.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:I,authDomain:M}=b.options;return(q=>{De(I&&!I.includes(":"),"invalid-api-key",{appName:q.name}),De(!(null==M?void 0:M.includes(":")),"argument-error",{appName:q.name});const ae={apiKey:I,authDomain:M,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_r(y)},ke=new Xg(q,ae);return function(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map($t);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(ke,g),ke})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ze.wA("auth-internal",p=>{const g=an(p.getProvider("auth").getImmediate());return new h1(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Cl,"0.19.3",void 0),(0,ce.registerVersion)(Cl,"0.19.3","esm2017");class Tm extends ov{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function np(y){return wh.apply(this,arguments)}function wh(){return(wh=(0,u.Z)(function*(y){const p=yield so()._get(ip(y));return p&&(yield so()._remove(ip(y))),p})).apply(this,arguments)}function rp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function so(){return $t(As)}function ip(y){return qr("authEvent",y.config.apiKey,y.name)}function xa(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,L.zd)(g.join("?"))}function Du(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}function Al(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ap(y=(0,L.z$)()){return!("file:"!==Al()&&"ionic:"!==Al()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sm(){try{const y=self.localStorage,p=no();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch(y){return lp()&&(0,L.hl)()}return!1}function lp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dh(){return("http:"===Al()||"https:"===Al()||(0,L.ru)()||ap())&&!((0,L.b$)()||(0,L.UG)())&&Sm()&&!lp()}function Cu(){return ap()&&"undefined"!=typeof document}function Ch(){return(Ch=(0,u.Z)(function*(){return!!Cu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Yr={LOCAL:"local",NONE:"none",SESSION:"session"},Tu=De,ka="persistence";function dp(y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Nm(),g=qr(ka,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())})).apply(this,arguments)}function Nm(){return"undefined"!=typeof window?window:null}const bv=De;class oo{constructor(){this.browserResolver=$t(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rn,this._completeRedirectFn=Lo}_openPopup(p,g,b,I){var M=this;return(0,u.Z)(function*(){var q;$n(null===(q=M.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ae=wm(p,g,b,et(),I);return function(y,p,g,b=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let ae="";const ke=Object.assign(Object.assign({},ym),{width:b.toString(),height:I.toString(),top:M,left:q}),Se=(0,L.z$)().toLowerCase();g&&(ae=ua(Se)?"_blank":g),aa(Se)&&(p=p||"http://localhost",ke.scrollbars="yes");const $e=Object.entries(ke).reduce((Dt,[qn,Ho])=>`${Dt}${qn}=${Ho},`,"");if(function(y=(0,L.z$)()){var p;return la(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Se)&&"_self"!==ae)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ae),new _h(null);const qe=window.open(p||"",ae,$e);De(qe,y,"popup-blocked");try{qe.focus()}catch(Dt){}return new _h(qe)}(p,ae,no())})()}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M._originValidation(p),y=wm(p,g,b,et(),I),Cn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:I,promise:M}=this.eventManagers[g];return I?Promise.resolve(I):($n(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const b=yield function(y){return mh.apply(this,arguments)}(p),I=new ov(p);return b.register("authEvent",M=>(De(null==M?void 0:M.authEvent,p,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:I},g.iframes[p._key()]=b,I})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Ra,{type:Ra},I=>{var M;const q=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[Ra];void 0!==q&&g(!!q),Vt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Nc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ds()||mr()||la()}}),this.cordovaResolver=$t(class{constructor(){this._redirectPersistence=rn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lo}_initialize(p){var g=this;return(0,u.Z)(function*(){const b=p._key();let I=g.eventManagers.get(b);return I||(I=new Tm(p),g.eventManagers.set(b,I),g.attachCallbackListeners(p,I)),I})()}_openPopup(p){Vt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){!function(y){var p,g,b,I,M,q,ae,ke,Se,$e;const qe=Ki();De("function"==typeof(null===(p=null==qe?void 0:qe.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==qe?void 0:qe.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(I=null===(b=null==qe?void 0:qe.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ke=null===(ae=null===(q=null==qe?void 0:qe.cordova)||void 0===q?void 0:q.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===ke?void 0:ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===($e=null===(Se=null==qe?void 0:qe.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===$e?void 0:$e.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield M._initialize(p);yield q.initialized(),q.resetRedirect(),gl.clear(),yield M._originValidation(p);const ae=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:rp(),postBody:null,tenantId:y.tenantId,error:mn(y,"no-auth-event")}}(p,b,I);yield function(y,p){return so()._set(ip(y),p)}(p,ae);const ke=yield function(y,p,g){return kc.apply(this,arguments)}(p,ae,g),Se=yield function(y){const{cordova:p}=Ki();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let I=null;b?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(ke);return function(y,p,g){return bh.apply(this,arguments)}(p,q,Se)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Oc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:M}=Ki(),q=setTimeout((0,u.Z)(function*(){yield np(p),g.onEvent(Du())}),500),ae=function(){var $e=(0,u.Z)(function*(qe){clearTimeout(q);const Dt=yield np(p);let qn=null;Dt&&(null==qe?void 0:qe.url)&&(qn=function(y,p){var g,b;const I=function(y){const p=xa(y),g=p.link?decodeURIComponent(p.link):void 0,b=xa(g).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return xa(I).link||I||b||g||y}(p);if(I.includes("/__/auth/callback")){const M=xa(I),q=M.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(M.firebaseError)):null,ae=null===(b=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],ke=ae?mn(ae):null;return ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Dt,qe.url)),g.onEvent(qn||Du())});return function(Dt){return $e.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ae);const ke=I,Se=`${M.packageName.toLowerCase()}://`;Ki().handleOpenURL=function(){var $e=(0,u.Z)(function*(qe){if(qe.toLowerCase().startsWith(Se)&&ae({url:qe}),"function"==typeof ke)try{ke(qe)}catch(Dt){console.error(Dt)}});return function(qe){return $e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=rn,this._completeRedirectFn=Lo}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,g,b,I)})()}_openRedirect(p,g,b,I){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,g,b,I)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Cu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Ch.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Mm(y){return y.unwrap()}function ci(y){return xm(y)}function xm(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ue.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ao;break;case"facebook.com":b=Ju;break;case"github.com":b=oi;break;case"twitter.com":b=Qu;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:q,pendingToken:ae,nonce:ke}=p;return M||q||I||ae?ae?g.startsWith("saml.")?Ks._create(g,ae):Mr._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:I,accessToken:M}):new pa(g).credential({idToken:I,accessToken:M,rawNonce:ke}):null}return y instanceof L.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Pr(y,p){return p.catch(g=>{throw g instanceof L.ZR&&function(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new km(y,function(y,p){var g;const b=(0,L.m9)(y),I=p;return De(p.customData.operationType,b,"argument-error"),De(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),du._fromError(b,I)}(y,p));else if(b){const I=xm(p),M=p;I&&(M.credential=I,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:ci(g),additionalUserInfo:Gi(g),user:jo.getOrCreate(I)}})}function Th(y,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Pr(y,g.confirm(b))}})).apply(this,arguments)}class km{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Pr(Mm(this.auth),this.resolver.resolveSignIn(p))}}class jo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,L.m9)(y);return ul.has(p)||ul.set(p,oh._fromUser(p)),ul.get(p)}(p)}static getOrCreate(p){return jo.USER_MAP.has(p)||jo.USER_MAP.set(p,new jo(p)),jo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return Pr(g.auth,iu(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,u.Z)(function*(){return Th(b.auth,function(y,p,g){return Cc.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return Pr(g.auth,function(y,p,g){return ut.apply(this,arguments)}(g._delegate,p,oo))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield dp(an(g.auth)),function(y,p,g){return function(y,p,g){return fh.apply(this,arguments)}(y,p,g)}(g._delegate,p,oo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return Pr(g.auth,dc(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Th(this.auth,function(y,p,g){return D.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Pr(this.auth,function(y,p,g){return zi.apply(this,arguments)}(this._delegate,p,oo))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield dp(an(g.auth)),function(y,p,g){return function(y,p,g){return ml.apply(this,arguments)}(y,p,g)}(g._delegate,p,oo)})()}sendEmailVerification(p){return function(y,p){return wa.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(y,p){return ru.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return Is((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return Is((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return Q.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return En.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return lu.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jo.USER_MAP=new WeakMap;const $o=De;let Om=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;$o(I,"invalid-api-key",{appName:g.name});let M=[at];if("undefined"!=typeof window){M=function(y,p){const g=Nm();if(!(null==g?void 0:g.sessionStorage))return[];const b=qr(ka,y,p);switch(g.sessionStorage.getItem(b)){case Yr.NONE:return[at];case Yr.LOCAL:return[dl,rn];case Yr.SESSION:return[rn];default:return[]}}(I,g.name);for(const ae of[dl,As,rn])M.includes(ae)||M.push(ae)}$o(I,"invalid-api-key",{appName:g.name});const q="undefined"!=typeof window?oo:void 0;this._delegate=b.initialize({options:{persistence:M,popupRedirectResolver:q}}),this._delegate._updateErrorMap(wo),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(y,p,g){const b=an(y);De(b._canInitEmulator,b,"emulator-config-failed"),De(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),M=Za(p),{host:q,port:ae}=function(y){const p=Za(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const M=I[1];return{host:M,port:Ui(b.substr(M.length+1))}}{const[M,q]=b.split(":");return{host:M,port:Ui(q)}}}(p);b.config.emulator={url:`${M}//${q}${null===ae?"":`:${ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:ae,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function(y,p){return sl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ya(this._delegate,g)}confirmPasswordReset(g,b){return function(y,p,g){return au.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,u.Z)(function*(){return Pr(I._delegate,function(y,p,g){return gc.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Vf.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=Xt.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){$o(Dh(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,p){return Fo.apply(this,arguments)}(g._delegate,oo);return b?Pr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){an(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:M,error:q,complete:ae}=Iu(g,b,I);return this._delegate.onAuthStateChanged(M,q,ae)}onIdTokenChanged(g,b,I){const{next:M,error:q,complete:ae}=Iu(g,b,I);return this._delegate.onIdTokenChanged(M,q,ae)}sendSignInLinkToEmail(g,b){return function(y,p,g){return Ts.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(y,p,g){return ou.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let I;switch(function(y,p){Tu(Object.values(Yr).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Tu(p!==Yr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Tu(p===Yr.NONE,y,"unsupported-persistence-type"):lp()?Tu(p===Yr.NONE||p===Yr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Tu(p===Yr.NONE||Sm(),y,"unsupported-persistence-type")}(b._delegate,g),g){case Yr.SESSION:I=rn;break;case Yr.LOCAL:I=(yield $t(dl)._isAvailable())?dl:As;break;case Yr.NONE:I=at;break;default:return Vt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Pr(this._delegate,function(y){return st.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Pr(this._delegate,Rr(this._delegate,g))}signInWithCustomToken(g){return Pr(this._delegate,function(y,p){return su.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Pr(this._delegate,function(y,p,g){return Rr((0,L.m9)(y),us.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Pr(this._delegate,function(y,p,g){return Kn.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Th(this._delegate,function(y,p,g){return bn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return $o(Dh(),b._delegate,"operation-not-supported-in-this-environment"),Pr(b._delegate,function(y,p,g){return Po.apply(this,arguments)}(b._delegate,g,oo))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return $o(Dh(),b._delegate,"operation-not-supported-in-this-environment"),yield dp(b._delegate),function(y,p,g){return function(y,p,g){return or.apply(this,arguments)}(y,p,g)}(b._delegate,g,oo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return No.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Yr,y})();function Iu(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const I=b;return{next:q=>I(q&&jo.getOrCreate(q)),error:p,complete:g}}class fs{constructor(){this.providerId="phone",this._delegate=new ue(Mm(te.Z.auth()))}static credential(p,g){return ue.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}fs.PHONE_SIGN_IN_METHOD=ue.PHONE_SIGN_IN_METHOD,fs.PROVIDER_ID=ue.PROVIDER_ID;const g1=De;class m1{constructor(p,g,b=te.Z.app()){var I;g1(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new dm(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new ze.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Om(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:us,FacebookAuthProvider:Ju,GithubAuthProvider:oi,GoogleAuthProvider:Ao,OAuthProvider:pa,SAMLAuthProvider:vr,PhoneAuthProvider:fs,PhoneMultiFactorGenerator:Em,RecaptchaVerifier:m1,TwitterAuthProvider:Qu,Auth:Om,AuthCredential:Ya,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(te.Z)},6676:function(He,_e){!function(F){"use strict";function u(he){return Array.prototype.slice.call(he)}function te(he){return new Promise(function(X,re){he.onsuccess=function(){X(he.result)},he.onerror=function(){re(he.error)}})}function L(he,X,re){var we,Ae=new Promise(function(Tt,It){te(we=he[X].apply(he,re)).then(Tt,It)});return Ae.request=we,Ae}function ce(he,X,re){var we=L(he,X,re);return we.then(function(Ae){if(Ae)return new P(Ae,we.request)})}function ie(he,X,re){re.forEach(function(we){Object.defineProperty(he.prototype,we,{get:function(){return this[X][we]},set:function(Ae){this[X][we]=Ae}})})}function J(he,X,re,we){we.forEach(function(Ae){Ae in re.prototype&&(he.prototype[Ae]=function(){return L(this[X],Ae,arguments)})})}function oe(he,X,re,we){we.forEach(function(Ae){Ae in re.prototype&&(he.prototype[Ae]=function(){return this[X][Ae].apply(this[X],arguments)})})}function K(he,X,re,we){we.forEach(function(Ae){Ae in re.prototype&&(he.prototype[Ae]=function(){return ce(this[X],Ae,arguments)})})}function z(he){this._index=he}function P(he,X){this._cursor=he,this._request=X}function U(he){this._store=he}function G(he){this._tx=he,this.complete=new Promise(function(X,re){he.oncomplete=function(){X()},he.onerror=function(){re(he.error)},he.onabort=function(){re(he.error)}})}function de(he,X,re){this._db=he,this.oldVersion=X,this.transaction=new G(re)}function Re(he){this._db=he}ie(z,"_index",["name","keyPath","multiEntry","unique"]),J(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),K(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(P,"_cursor",["direction","key","primaryKey","value"]),J(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(P.prototype[he]=function(){var X=this,re=arguments;return Promise.resolve().then(function(){return X._cursor[he].apply(X._cursor,re),te(X._request).then(function(we){if(we)return new P(we,X._request)})})})}),U.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ie(U,"_store",["name","keyPath","indexNames","autoIncrement"]),J(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),K(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(U,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ie(G,"_tx",["objectStoreNames","mode"]),oe(G,"_tx",IDBTransaction,["abort"]),de.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ie(de,"_db",["name","version","objectStoreNames"]),oe(de,"_db",IDBDatabase,["deleteObjectStore","close"]),Re.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ie(Re,"_db",["name","version","objectStoreNames"]),oe(Re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[U,z].forEach(function(X){he in X.prototype&&(X.prototype[he.replace("open","iterate")]=function(){var re=u(arguments),we=re[re.length-1],Ae=this._store||this._index,Tt=Ae[he].apply(Ae,re.slice(0,-1));Tt.onsuccess=function(){we(Tt.result)}})})}),[z,U].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(X,re){var we=this,Ae=[];return new Promise(function(Tt){we.iterateCursor(X,function(It){It?(Ae.push(It.value),void 0===re||Ae.length!=re?It.continue():Tt(Ae)):Tt(Ae)})})})}),F.openDb=function(he,X,re){var we=L(indexedDB,"open",[he,X]),Ae=we.request;return Ae&&(Ae.onupgradeneeded=function(Tt){re&&re(new de(Ae.result,Tt.oldVersion,Ae.transaction))}),we.then(function(Tt){return new Re(Tt)})},F.deleteDb=function(he){return L(indexedDB,"deleteDatabase",[he])},Object.defineProperty(F,"__esModule",{value:!0})}(_e)},1593:(He,_e,F)=>{"use strict";F.d(_e,{P:()=>oe});var u=F(9193),te=F(5917),L=F(7574);class oe{constructor(z,P,U){this.kind=z,this.value=P,this.error=U,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,P,U){switch(this.kind){case"N":return z&&z(this.value);case"E":return P&&P(this.error);case"C":return U&&U()}}accept(z,P,U){return z&&"function"==typeof z.next?this.observe(z):this.do(z,P,U)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return K=this.error,new L.y(P=>P.error(K));case"C":return(0,u.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new oe("N",z):oe.undefinedValueNotification}static createError(z){return new oe("E",void 0,z)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},7574:(He,_e,F)=>{"use strict";F.d(_e,{y:()=>U});var u=F(7393),L=F(9181),ce=F(6490),J=F(6554),oe=F(4487);var P=F(2494);let U=(()=>{class de{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const be=new de;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,he){const{operator:X}=this,re=function(de,Re,Ne){if(de){if(de instanceof u.L)return de;if(de[L.b])return de[L.b]()}return de||Re||Ne?new u.L(de,Re,Ne):new u.L(ce.c)}(Ne,be,he);if(re.add(X?X.call(re,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!re.syncErrorThrowable?this._subscribe(re):this._trySubscribe(re)),P.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable&&(re.syncErrorThrowable=!1,re.syncErrorThrown))throw re.syncErrorValue;return re}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){P.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=be),function(de){for(;de;){const{closed:Re,destination:Ne,isStopped:be}=de;if(Re||be)return!1;de=Ne&&Ne instanceof u.L?Ne:null}return!0}(Ne)?Ne.error(be):console.warn(be)}}forEach(Ne,be){return new(be=G(be))((he,X)=>{let re;re=this.subscribe(we=>{try{Ne(we)}catch(Ae){X(Ae),re&&re.unsubscribe()}},X,he)})}_subscribe(Ne){const{source:be}=this;return be&&be.subscribe(Ne)}[J.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(de){return 0===de.length?oe.y:1===de.length?de[0]:function(Ne){return de.reduce((be,he)=>he(be),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=G(Ne))((be,he)=>{let X;this.subscribe(re=>X=re,re=>he(re),()=>be(X))})}}return de.create=Re=>new de(Re),de})();function G(de){if(de||(de=P.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>L});var u=F(2494),te=F(4449);const L={closed:!0,next(ce){},error(ce){if(u.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,te.z)(ce)},complete(){}}},9765:(He,_e,F)=>{"use strict";F.d(_e,{Yc:()=>oe,xQ:()=>K});var u=F(7574),te=F(7393),L=F(5319),ce=F(7971),ie=F(8858),J=F(9181);class oe extends te.L{constructor(U){super(U),this.destination=U}}let K=(()=>{class P extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new oe(this)}lift(G){const de=new z(this,this);return de.operator=G,de}next(G){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:de}=this,Re=de.length,Ne=de.slice();for(let be=0;be<Re;be++)Ne[be].next(G)}}error(G){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:de}=this,Re=de.length,Ne=de.slice();for(let be=0;be<Re;be++)Ne[be].error(G);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:G}=this,de=G.length,Re=G.slice();for(let Ne=0;Ne<de;Ne++)Re[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new ce.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new ce.N;return this.hasError?(G.error(this.thrownError),L.w.EMPTY):this.isStopped?(G.complete(),L.w.EMPTY):(this.observers.push(G),new ie.W(this,G))}asObservable(){const G=new u.y;return G.source=this,G}}return P.create=(U,G)=>new z(U,G),P})();class z extends K{constructor(U,G){super(),this.destination=U,this.source=G}next(U){const{destination:G}=this;G&&G.next&&G.next(U)}error(U){const{destination:G}=this;G&&G.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:G}=this;return G?this.source.subscribe(U):L.w.EMPTY}}},8858:(He,_e,F)=>{"use strict";F.d(_e,{W:()=>te});var u=F(5319);class te extends u.w{constructor(ce,ie){super(),this.subject=ce,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ie=ce.observers;if(this.subject=null,!ie||0===ie.length||ce.isStopped||ce.closed)return;const J=ie.indexOf(this.subscriber);-1!==J&&ie.splice(J,1)}}},7393:(He,_e,F)=>{"use strict";F.d(_e,{L:()=>oe});var u=F(9105),te=F(6490),L=F(5319),ce=F(9181),ie=F(2494),J=F(4449);class oe extends L.w{constructor(P,U,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof oe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,P,U,G)}}[ce.b](){return this}static create(P,U,G){const de=new oe(P,U,G);return de.syncErrorThrowable=!1,de}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class K extends oe{constructor(P,U,G,de){super(),this._parentSubscriber=P;let Re,Ne=this;(0,u.m)(U)?Re=U:U&&(Re=U.next,G=U.error,de=U.complete,U!==te.c&&(Ne=Object.create(U),(0,u.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=Re,this._error=G,this._complete=de}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ie.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:G}=ie.v;if(this._error)G&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(U.syncErrorThrowable)G?(U.syncErrorValue=P,U.syncErrorThrown=!0):(0,J.z)(P),this.unsubscribe();else{if(this.unsubscribe(),G)throw P;(0,J.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const U=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,U){try{P.call(this._context,U)}catch(G){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw G;(0,J.z)(G)}}__tryOrSetError(P,U,G){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,G)}catch(de){return ie.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=de,P.syncErrorThrown=!0,!0):((0,J.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(He,_e,F)=>{"use strict";F.d(_e,{w:()=>J});var u=F(9796),te=F(1555),L=F(9105);const ie=(()=>{function K(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((P,U)=>`${U+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return K.prototype=Object.create(Error.prototype),K})();class J{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:U,_unsubscribe:G,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof J)P.remove(this);else if(null!==P)for(let Re=0;Re<P.length;++Re)P[Re].remove(this);if((0,L.m)(G)){U&&(this._unsubscribe=void 0);try{G.call(this)}catch(Re){z=Re instanceof ie?oe(Re.errors):[Re]}}if((0,u.k)(de)){let Re=-1,Ne=de.length;for(;++Re<Ne;){const be=de[Re];if((0,te.K)(be))try{be.unsubscribe()}catch(he){z=z||[],he instanceof ie?z=z.concat(oe(he.errors)):z.push(he)}}}if(z)throw new ie(z)}add(z){let P=z;if(!z)return J.EMPTY;switch(typeof z){case"function":P=new J(z);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof J)){const de=P;P=new J,P._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:U}=P;if(null===U)P._parentOrParents=this;else if(U instanceof J){if(U===this)return P;P._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return P;U.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[P]:G.push(P),P}remove(z){const P=this._subscriptions;if(P){const U=P.indexOf(z);-1!==U&&P.splice(U,1)}}}var K;function oe(K){return K.reduce((z,P)=>z.concat(P instanceof ie?P.errors:P),[])}J.EMPTY=((K=new J).closed=!0,K)},2494:(He,_e,F)=>{"use strict";F.d(_e,{v:()=>te});let u=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(He,_e,F)=>{"use strict";F.d(_e,{IY:()=>ce,Ds:()=>J,ft:()=>K});var u=F(7393),te=F(7574),L=F(7444);class ce extends u.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends u.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function K(z,P){if(P.closed)return;if(z instanceof te.y)return z.subscribe(P);let U;try{U=(0,L.s)(z)(P)}catch(G){P.error(G)}return U}},2441:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>ie,N:()=>J});var u=F(9765),te=F(7574),L=F(5319),ce=F(1307);class ie extends te.y{constructor(U,G){super(),this.source=U,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new L.w,U.add(this.source.subscribe(new oe(this.getSubject(),this))),U.closed&&(this._connection=null,U=L.w.EMPTY)),U}refCount(){return(0,ce.x)()(this)}}const J=(()=>{const P=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class oe extends u.Yc{constructor(U,G){super(U),this.connectable=G}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const G=U._connection;U._refCount=0,U._subject=null,U._connection=null,G&&G.unsubscribe()}}}},9193:(He,_e,F)=>{"use strict";F.d(_e,{E:()=>te,c:()=>L});var u=F(7574);const te=new u.y(ie=>ie.complete());function L(ie){return ie?function(ie){return new u.y(J=>ie.schedule(()=>J.complete()))}(ie):te}},4402:(He,_e,F)=>{"use strict";F.d(_e,{D:()=>Ne});var u=F(7574),te=F(7444),L=F(5319),ce=F(6554),oe=F(4087),K=F(377),U=F(4072),G=F(9489);function Ne(be,he){return he?function(be,he){if(null!=be){if(function(be){return be&&"function"==typeof be[ce.L]}(be))return function(be,he){return new u.y(X=>{const re=new L.w;return re.add(he.schedule(()=>{const we=be[ce.L]();re.add(we.subscribe({next(Ae){re.add(he.schedule(()=>X.next(Ae)))},error(Ae){re.add(he.schedule(()=>X.error(Ae)))},complete(){re.add(he.schedule(()=>X.complete()))}}))})),re})}(be,he);if((0,U.t)(be))return function(be,he){return new u.y(X=>{const re=new L.w;return re.add(he.schedule(()=>be.then(we=>{re.add(he.schedule(()=>{X.next(we),re.add(he.schedule(()=>X.complete()))}))},we=>{re.add(he.schedule(()=>X.error(we)))}))),re})}(be,he);if((0,G.z)(be))return(0,oe.r)(be,he);if(function(be){return be&&"function"==typeof be[K.hZ]}(be)||"string"==typeof be)return function(be,he){if(!be)throw new Error("Iterable cannot be null");return new u.y(X=>{const re=new L.w;let we;return re.add(()=>{we&&"function"==typeof we.return&&we.return()}),re.add(he.schedule(()=>{we=be[K.hZ](),re.add(he.schedule(function(){if(X.closed)return;let Ae,Tt;try{const It=we.next();Ae=It.value,Tt=It.done}catch(It){return void X.error(It)}Tt?X.complete():(X.next(Ae),this.schedule())}))})),re})}(be,he)}throw new TypeError((null!==be&&typeof be||be)+" is not observable")}(be,he):be instanceof u.y?be:new u.y((0,te.s)(be))}},6693:(He,_e,F)=>{"use strict";F.d(_e,{n:()=>ce});var u=F(7574),te=F(5015),L=F(4087);function ce(ie,J){return J?(0,L.r)(ie,J):new u.y((0,te.V)(ie))}},6682:(He,_e,F)=>{"use strict";F.d(_e,{T:()=>ie});var u=F(7574),te=F(4869),L=F(3282),ce=F(6693);function ie(...J){let oe=Number.POSITIVE_INFINITY,K=null,z=J[J.length-1];return(0,te.K)(z)?(K=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(oe=J.pop())):"number"==typeof z&&(oe=J.pop()),null===K&&1===J.length&&J[0]instanceof u.y?J[0]:(0,L.J)(oe)((0,ce.n)(J,K))}},5917:(He,_e,F)=>{"use strict";F.d(_e,{of:()=>ce});var u=F(4869),te=F(6693),L=F(4087);function ce(...ie){let J=ie[ie.length-1];return(0,u.K)(J)?(ie.pop(),(0,L.r)(ie,J)):(0,te.n)(ie)}},8002:(He,_e,F)=>{"use strict";F.d(_e,{U:()=>te});var u=F(7393);function te(ie,J){return function(K){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new L(ie,J))}}class L{constructor(J,oe){this.project=J,this.thisArg=oe}call(J,oe){return oe.subscribe(new ce(J,this.project,this.thisArg))}}class ce extends u.L{constructor(J,oe,K){super(J),this.project=oe,this.count=0,this.thisArg=K||this}_next(J){let oe;try{oe=this.project.call(this.thisArg,J,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(oe)}}},3282:(He,_e,F)=>{"use strict";F.d(_e,{J:()=>L});var u=F(9773),te=F(4487);function L(ce=Number.POSITIVE_INFINITY){return(0,u.zg)(te.y,ce)}},9773:(He,_e,F)=>{"use strict";F.d(_e,{zg:()=>ce});var u=F(8002),te=F(4402),L=F(5345);function ce(K,z,P=Number.POSITIVE_INFINITY){return"function"==typeof z?U=>U.pipe(ce((G,de)=>(0,te.D)(K(G,de)).pipe((0,u.U)((Re,Ne)=>z(G,Re,de,Ne))),P)):("number"==typeof z&&(P=z),U=>U.lift(new ie(K,P)))}class ie{constructor(z,P=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=P}call(z,P){return P.subscribe(new J(z,this.project,this.concurrent))}}class J extends L.Ds{constructor(z,P,U=Number.POSITIVE_INFINITY){super(z),this.project=P,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let P;const U=this.index++;try{P=this.project(z,U)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(P)}_innerSub(z){const P=new L.IY(this),U=this.destination;U.add(P);const G=(0,L.ft)(z,P);G!==P&&U.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(He,_e,F)=>{"use strict";F.d(_e,{QV:()=>L,ht:()=>ie});var u=F(7393),te=F(1593);function L(oe,K=0){return function(P){return P.lift(new ce(oe,K))}}class ce{constructor(K,z=0){this.scheduler=K,this.delay=z}call(K,z){return z.subscribe(new ie(K,this.scheduler,this.delay))}}class ie extends u.L{constructor(K,z,P=0){super(K),this.scheduler=z,this.delay=P}static dispatch(K){const{notification:z,destination:P}=K;z.observe(P),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(ie.dispatch,this.delay,new J(K,this.destination)))}_next(K){this.scheduleMessage(te.P.createNext(K))}_error(K){this.scheduleMessage(te.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(te.P.createComplete()),this.unsubscribe()}}class J{constructor(K,z){this.notification=K,this.destination=z}}},1307:(He,_e,F)=>{"use strict";F.d(_e,{x:()=>te});var u=F(7393);function te(){return function(J){return J.lift(new L(J))}}class L{constructor(J){this.connectable=J}call(J,oe){const{connectable:K}=this;K._refCount++;const z=new ce(J,K),P=oe.subscribe(z);return z.closed||(z.connection=K.connect()),P}}class ce extends u.L{constructor(J,oe){super(J),this.connectable=oe}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const oe=J._refCount;if(oe<=0)return void(this.connection=null);if(J._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:K}=this,z=J._connection;this.connection=null,z&&(!K||z===K)&&z.unsubscribe()}}},8819:(He,_e,F)=>{"use strict";F.d(_e,{B:()=>oe});var u=F(2441);var ce=F(1307),ie=F(9765);function J(){return new ie.xQ}function oe(){return K=>(0,ce.x)()(function(K,z){return function(U){let G;G="function"==typeof K?K:function(){return K};const de=Object.create(U,u.N);return de.source=U,de.subjectFactory=G,de}}(J)(K))}},2639:(He,_e,F)=>{"use strict";F.d(_e,{R:()=>be});var u=F(7574);let te=1;const L=Promise.resolve(),ce={};function ie(X){return X in ce&&(delete ce[X],!0)}const J={setImmediate(X){const re=te++;return ce[re]=!0,L.then(()=>ie(re)&&X()),re},clearImmediate(X){ie(X)}};var K=F(6465),P=F(6102);const de=new class extends P.v{flush(re){this.active=!0,this.scheduled=void 0;const{actions:we}=this;let Ae,Tt=-1,It=we.length;re=re||we.shift();do{if(Ae=re.execute(re.state,re.delay))break}while(++Tt<It&&(re=we.shift()));if(this.active=!1,Ae){for(;++Tt<It&&(re=we.shift());)re.unsubscribe();throw Ae}}}(class extends K.o{constructor(re,we){super(re,we),this.scheduler=re,this.work=we}requestAsyncId(re,we,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(re,we,Ae):(re.actions.push(this),re.scheduled||(re.scheduled=J.setImmediate(re.flush.bind(re,null))))}recycleAsyncId(re,we,Ae=0){if(null!==Ae&&Ae>0||null===Ae&&this.delay>0)return super.recycleAsyncId(re,we,Ae);0===re.actions.length&&(J.clearImmediate(we),re.scheduled=void 0)}});var Re=F(6561);class Ne extends u.y{constructor(re,we=0,Ae=de){super(),this.source=re,this.delayTime=we,this.scheduler=Ae,(!(0,Re.k)(we)||we<0)&&(this.delayTime=0),(!Ae||"function"!=typeof Ae.schedule)&&(this.scheduler=de)}static create(re,we=0,Ae=de){return new Ne(re,we,Ae)}static dispatch(re){const{source:we,subscriber:Ae}=re;return this.add(we.subscribe(Ae))}_subscribe(re){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:re})}}function be(X,re=0){return function(Ae){return Ae.lift(new he(X,re))}}class he{constructor(re,we){this.scheduler=re,this.delay=we}call(re,we){return new Ne(we,this.delay,this.scheduler).subscribe(re)}}},8307:(He,_e,F)=>{"use strict";F.d(_e,{b:()=>ce});var u=F(7393),te=F(8640),L=F(9105);function ce(oe,K,z){return function(U){return U.lift(new ie(oe,K,z))}}class ie{constructor(K,z,P){this.nextOrObserver=K,this.error=z,this.complete=P}call(K,z){return z.subscribe(new J(K,this.nextOrObserver,this.error,this.complete))}}class J extends u.L{constructor(K,z,P,U){super(K),this._tapNext=te.Z,this._tapError=te.Z,this._tapComplete=te.Z,this._tapError=P||te.Z,this._tapComplete=U||te.Z,(0,L.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||te.Z,this._tapError=z.error||te.Z,this._tapComplete=z.complete||te.Z)}_next(K){try{this._tapNext.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(He,_e,F)=>{"use strict";F.d(_e,{r:()=>L});var u=F(7574),te=F(5319);function L(ce,ie){return new u.y(J=>{const oe=new te.w;let K=0;return oe.add(ie.schedule(function(){K!==ce.length?(J.next(ce[K++]),J.closed||oe.add(this.schedule())):J.complete()})),oe})}},6465:(He,_e,F)=>{"use strict";F.d(_e,{o:()=>L});var u=F(5319);class te extends u.w{constructor(ie,J){super()}schedule(ie,J=0){return this}}class L extends te{constructor(ie,J){super(ie,J),this.scheduler=ie,this.work=J,this.pending=!1}schedule(ie,J=0){if(this.closed)return this;this.state=ie;const oe=this.id,K=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(K,oe,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(K,this.id,J),this}requestAsyncId(ie,J,oe=0){return setInterval(ie.flush.bind(ie,this),oe)}recycleAsyncId(ie,J,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return J;clearInterval(J)}execute(ie,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(ie,J);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,J){let K,oe=!1;try{this.work(ie)}catch(z){oe=!0,K=!!z&&z||new Error(z)}if(oe)return this.unsubscribe(),K}_unsubscribe(){const ie=this.id,J=this.scheduler,oe=J.actions,K=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&oe.splice(K,1),null!=ie&&(this.id=this.recycleAsyncId(J,ie,null)),this.delay=null}}},6102:(He,_e,F)=>{"use strict";F.d(_e,{v:()=>te});let u=(()=>{class L{constructor(ie,J=L.now){this.SchedulerAction=ie,this.now=J}schedule(ie,J=0,oe){return new this.SchedulerAction(this,ie).schedule(oe,J)}}return L.now=()=>Date.now(),L})();class te extends u{constructor(ce,ie=u.now){super(ce,()=>te.delegate&&te.delegate!==this?te.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ie=0,J){return te.delegate&&te.delegate!==this?te.delegate.schedule(ce,ie,J):super.schedule(ce,ie,J)}flush(ce){const{actions:ie}=this;if(this.active)return void ie.push(ce);let J;this.active=!0;do{if(J=ce.execute(ce.state,ce.delay))break}while(ce=ie.shift());if(this.active=!1,J){for(;ce=ie.shift();)ce.unsubscribe();throw J}}}},3637:(He,_e,F)=>{"use strict";F.d(_e,{z:()=>L,P:()=>ce});var u=F(6465);const L=new(F(6102).v)(u.o),ce=L},7771:(He,_e,F)=>{"use strict";F.d(_e,{c:()=>J,N:()=>ie});var u=F(6465),L=F(6102);const ie=new class extends L.v{}(class extends u.o{constructor(K,z){super(K,z),this.scheduler=K,this.work=z}schedule(K,z=0){return z>0?super.schedule(K,z):(this.delay=z,this.state=K,this.scheduler.flush(this),this)}execute(K,z){return z>0||this.closed?super.execute(K,z):this._execute(K,z)}requestAsyncId(K,z,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(K,z,P):K.flush(this)}}),J=ie},377:(He,_e,F)=>{"use strict";F.d(_e,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,_e,F)=>{"use strict";F.d(_e,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,_e,F)=>{"use strict";F.d(_e,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,_e,F)=>{"use strict";F.d(_e,{N:()=>te});const te=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(He,_e,F)=>{"use strict";function u(te){setTimeout(()=>{throw te},0)}F.d(_e,{z:()=>u})},4487:(He,_e,F)=>{"use strict";function u(te){return te}F.d(_e,{y:()=>u})},9796:(He,_e,F)=>{"use strict";F.d(_e,{k:()=>u});const u=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(He,_e,F)=>{"use strict";F.d(_e,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(He,_e,F)=>{"use strict";function u(te){return"function"==typeof te}F.d(_e,{m:()=>u})},6561:(He,_e,F)=>{"use strict";F.d(_e,{k:()=>te});var u=F(9796);function te(L){return!(0,u.k)(L)&&L-parseFloat(L)+1>=0}},1555:(He,_e,F)=>{"use strict";function u(te){return null!==te&&"object"==typeof te}F.d(_e,{K:()=>u})},4072:(He,_e,F)=>{"use strict";function u(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}F.d(_e,{t:()=>u})},4869:(He,_e,F)=>{"use strict";function u(te){return te&&"function"==typeof te.schedule}F.d(_e,{K:()=>u})},8640:(He,_e,F)=>{"use strict";function u(){}F.d(_e,{Z:()=>u})},7444:(He,_e,F)=>{"use strict";F.d(_e,{s:()=>U});var u=F(5015),te=F(4449),ce=F(377),J=F(6554),K=F(9489),z=F(4072),P=F(1555);const U=G=>{if(G&&"function"==typeof G[J.L])return(G=>de=>{const Re=G[J.L]();if("function"!=typeof Re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Re.subscribe(de)})(G);if((0,K.z)(G))return(0,u.V)(G);if((0,z.t)(G))return(G=>de=>(G.then(Re=>{de.closed||(de.next(Re),de.complete())},Re=>de.error(Re)).then(null,te.z),de))(G);if(G&&"function"==typeof G[ce.hZ])return(G=>de=>{const Re=G[ce.hZ]();for(;;){let Ne;try{Ne=Re.next()}catch(be){return de.error(be),de}if(Ne.done){de.complete();break}if(de.next(Ne.value),de.closed)break}return"function"==typeof Re.return&&de.add(()=>{Re.return&&Re.return()}),de})(G);{const Re=`You provided ${(0,P.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Re)}}},5015:(He,_e,F)=>{"use strict";F.d(_e,{V:()=>u});const u=te=>L=>{for(let ce=0,ie=te.length;ce<ie&&!L.closed;ce++)L.next(te[ce]);L.complete()}},2887:(He,_e,F)=>{"use strict";var u=F(7716);let te=null;function L(){return te}const oe=new u.OlP("DocumentToken");let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,u.LFG)(U)}const P=new u.OlP("Location Initialized");let U=(()=>{class n extends K{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){G()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){G()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=(0,u.Yz7)({factory:de,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function de(){return new U((0,u.LFG)(oe))}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:X,token:n,providedIn:"root"}),n})();function X(n){const e=(0,u.LFG)(oe).location;return new we((0,u.LFG)(K),e&&e.origin||"")}const re=new u.OlP("appBaseHref");let we=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+be(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const f=this.prepareExternalUrl(o+be(c));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,c){const f=this.prepareExternalUrl(o+be(c));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(K),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let f=this.prepareExternalUrl(o+be(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,c){let f=this.prepareExternalUrl(o+be(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(K),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Tt=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(yt(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,yt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+be(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(K))},n.normalizeQueryParams=be,n.joinWithSlash=Re,n.stripTrailingSlash=Ne,n.\u0275prov=(0,u.Yz7)({factory:It,token:n,providedIn:"root"}),n})();function It(){return new Tt((0,u.LFG)(he),(0,u.LFG)(K))}function yt(n){return n.replace(/\/index.html$/,"")}var ft=(()=>((ft=ft||{})[ft.Zero=0]="Zero",ft[ft.One=1]="One",ft[ft.Two=2]="Two",ft[ft.Few=3]="Few",ft[ft.Many=4]="Many",ft[ft.Other=5]="Other",ft))();const ss=u.kL8;class qr{}let sr=(()=>{class n extends qr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ss(r||this.locale)(t)){case ft.Zero:return"zero";case ft.One:return"one";case ft.Two:return"two";case ft.Few:return"few";case ft.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:qr,useClass:sr}]}),n})();function Yu(n){return"server"===n}let eu=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Wd((0,u.LFG)(oe),window)}),n})();class Wd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Zd,te||(te=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(us=us||document.querySelector("base"),us?us.getAttribute("href"):null);return null==t?null:function(n){qt=qt||document.createElement("a"),qt.setAttribute("href",n);const e=qt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let qt,us=null;const Ju=new u.OlP("TRANSITION_ID"),oi=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Ju,oe,u.zs3],multi:!0}];class Gn{static init(){(0,u.VLi)(new Gn)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,f=!1;const _=function(w){f=f||w,c--,0==c&&r(f)};o.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ks=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=new u.OlP("EventManagerPlugins");let ve=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const f=o[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Cs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Et{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let nl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),nn=(()=>{class n extends nl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rl))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function rl(n){L().remove(n)}const ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rr=/%COMP%/g;function On(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?On(n,o,t):(o=o.replace(Rr,n),t.push(o))}return t}function Di(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new xr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new au(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=On(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ve),u.LFG(nn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ls[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=ls[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ls[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Di(r)):this.eventManager.addEventListener(e,t,Di(r))}}class fc extends xr{constructor(e,t,r,o){super(e),this.component=r;const c=On(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Rr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Rr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class au extends xr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=On(o.id,o.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let uu=(()=>{class n extends Et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=["alt","control","meta","shift"],mc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wa=(()=>{class n extends Et{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let f="";if(Ts.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),f+=w+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=f,_}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Kn.hasOwnProperty(e)&&(e=Kn[e]))}return mc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ts.forEach(c=>{c!=o&&sm[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eo=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Zd.makeCurrent(),Gn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),yc=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Cs,useClass:uu,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:Cs,useClass:wa,multi:!0,deps:[oe]},[],{provide:Hi,useClass:Hi,deps:[ve,nn,u.AFp]},{provide:u.FYo,useExisting:Hi},{provide:nl,useExisting:nn},{provide:nn,useClass:nn,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ve,useClass:ve,deps:[Cs,u.R0b]},{provide:class{},useClass:Ks,deps:[]},[]];let jf=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ju,useExisting:u.AFp},oi]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:yc,imports:[hn,u.hGG]}),n})();"undefined"!=typeof window&&window;var Zt=F(4402),Ue=F(5917),Yt=F(9765),bc=F(7971);class yn extends Yt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bc.N;return this._value}next(e){super.next(this._value=e)}}var As=F(4869),Ro=F(9796),rn=F(7393);class fu extends rn.L{notifyNext(e,t,r,o,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class um extends rn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var no=F(7444),Dn=F(7574);function Cn(n,e,t,r,o=new um(n,t,r)){if(!o.closed)return e instanceof Dn.y?e.subscribe(o):(0,no.s)(e)(o)}var Ta=F(6693);const pu={};class ll{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new gu(e,this.resultSelector))}}class gu extends fu{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(pu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Cn(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,f=this.toRespond?o[r]===pu?--this.toRespond:this.toRespond:0;o[r]=t,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ci=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ns=F(3282);function ro(...n){return(0,Ns.J)(1)((0,Ue.of)(...n))}var kr=F(9193);function Wi(n){return new Dn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Zt.D)(t):(0,kr.c)()).subscribe(e)})}var uh=F(2441),tt=F(8002),Ti=F(5345);function Tn(n,e){return"function"==typeof e?t=>t.pipe(Tn((r,o)=>(0,Zt.D)(n(r,o)).pipe((0,tt.U)((c,f)=>e(r,c,o,f))))):t=>t.lift(new lm(n))}class lm{constructor(e){this.project=e}call(e,t){return t.subscribe(new cn(e,this.project))}}class cn extends Ti.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ti.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Ti.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const cl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function zr(n){return e=>0===n?(0,kr.c)():e.lift(new rv(n))}class rv{constructor(e){if(this.total=e,this.total<0)throw new cl}call(e,t){return t.subscribe(new dl(e,this.total))}}class dl extends rn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Ia(...n){const e=n[n.length-1];return(0,As.K)(e)?(n.pop(),t=>ro(n,t,e)):t=>ro(n,t)}function mu(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new cm(n,e,t))}}class cm{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new ch(e,this.accumulator,this.seed,this.hasSeed))}}class ch extends rn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function vn(n,e){return function(r){return r.lift(new wc(n,e))}}class wc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new xo(e,this.predicate,this.thisArg))}}class xo extends rn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function io(n){return function(t){const r=new Pn(n),o=t.lift(r);return r.caught=o}}class Pn{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ms(e,this.selector,this.caught))}}class Ms extends Ti.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Ti.IY(this);this.add(r);const o=(0,Ti.ft)(t,r);o!==r&&this.add(o)}}}var In=F(9773);function Ec(n,e){return(0,In.zg)(n,e,1)}function dh(n){return function(t){return 0===n?(0,kr.c)():t.lift(new ui(n))}}class ui{constructor(e){if(this.total=e,this.total<0)throw new cl}call(e,t){return t.subscribe(new ds(e,this.total))}}class ds extends rn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const f=t++%r;e.next(o[f])}}e.complete()}}function _u(n=hh){return e=>e.lift(new Ii(n))}class Ii{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Rs(e,this.errorFactory))}}class Rs extends rn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hh(){return new Ci}function Dc(n=null){return e=>e.lift(new ko(n))}class ko{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new dm(e,this.defaultValue))}}class dm extends rn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Oo=F(4487);function Jn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((o,c)=>n(o,c,r)):Oo.y,zr(1),t?Dc(e):_u(()=>new Ci))}var bn=F(8307),Sa=F(1307),Cc=F(5319);class D{constructor(e){this.callback=e}call(e,t){return t.subscribe(new S(e,this.callback))}}class S extends rn.L{constructor(e,t){super(e),this.add(new Cc.w(t))}}class x{constructor(e,t){this.id=e,this.url=t}}class B extends x{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends x{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ue extends x{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends x{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends x{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class en extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends x{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class Wf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fn(n){return new Wf(n)}const gl="ngNavigationCancelingError";function hm(n){const e=Error("NavigationCancelingError: "+n);return e[gl]=!0,e}function vu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))o[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!Zf(n[o],e[o]))return!1;return!0}function Zf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function fm(n){return Array.prototype.concat.apply([],n)}function Aa(n){return n.length>0?n[n.length-1]:null}function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function or(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Zt.D)(Promise.resolve(n)):(0,Ue.of)(n)}const pm={exact:function fh(n,e,t){if(!Ma(n.segments,e.segments)||!_l(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!fh(n.children[r],e.children[r],t))return!1;return!0},subset:Fo},ml={exact:function(n,e){return Yi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zf(n[t],e[t]))},ignored:()=>!0};function Tc(n,e,t){return pm[t.paths](n.root,e.root,t.matrixParams)&&ml[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fo(n,e,t){return Lo(n,e,e.segments,t)}function Lo(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ma(o,t)||e.hasChildren()||!_l(o,t,r))}if(n.segments.length===t.length){if(!Ma(n.segments,t)||!_l(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Fo(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ma(n.segments,o)&&_l(n.segments,o,r)&&n.children[ut])&&Lo(n.children[ut],e,c,r)}}function _l(n,e,t){return e.every((r,o)=>ml[t](n[o].parameters,r.parameters))}class bu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Sc.serialize(this)}}class St{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vo(this)}}class Ic{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return bl(this)}}function Ma(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Yf{}class yl{parse(e){const t=new mh(e);return new bu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ac(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Nc(t)}=${Nc(o)}`).join("&"):`${Nc(t)}=${Nc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Sc=new yl;function Vo(n){return n.segments.map(e=>bl(e)).join("/")}function Ac(n,e){if(!n.hasChildren())return Vo(n);if(e){const t=n.children[ut]?Ac(n.children[ut],!1):"",r=[];return Xn(n.children,(o,c)=>{c!==ut&&r.push(`${c}:${Ac(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Xn(n.children,(r,o)=>{o===ut&&(t=t.concat(e(r,o)))}),Xn(n.children,(r,o)=>{o!==ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===ut?[Ac(n.children[ut],!1)]:[`${o}:${Ac(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${Vo(n)}/${t[0]}`:`${Vo(n)}/(${t.join("//")})`}}function _m(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(n){return _m(n).replace(/%3B/gi,";")}function Mc(n){return _m(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vl(n){return decodeURIComponent(n)}function Kf(n){return vl(n.replace(/\+/g,"%20"))}function bl(n){return`${Mc(n.path)}${function(n){return Object.keys(n).map(e=>`;${Mc(e)}=${Mc(n[e])}`).join("")}(n.parameters)}`}const uv=/^[^\/()?;=#]+/;function gh(n){const e=n.match(uv);return e?e[0]:""}const lv=/^[^=?&#]+/,Bo=/^[^?&#]+/;class mh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new St(e,t)),r}parseSegment(){const e=gh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ic(vl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=gh(this.remaining);o&&(r=o,this.capture(r))}e[vl(t)]=vl(r)}parseQueryParam(e){const t=function(n){const e=n.match(lv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(Bo);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=Kf(t),c=Kf(r);if(e.hasOwnProperty(o)){let f=e[o];Array.isArray(f)||(f=[f],e[o]=f),f.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gh(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=ut);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[ut]:new St([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ym{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Qf(e,this._root).map(t=>t.value)}}function Jf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jf(n,t);if(r)return r}return null}function Qf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qf(n,t);if(r.length)return r.unshift(e),r}return[]}class Uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _h extends ym{constructor(e,t){super(e),this.snapshot=t,vh(this,e)}toString(){return this.snapshot.toString()}}function vm(n,e){const t=function(n,e){const f=new yh([],{},{},"",{},ut,e,null,n.root,-1,{});return new Ra("",new Uo(f,[]))}(n,e),r=new yn([new Ic("",{})]),o=new yn({}),c=new yn({}),f=new yn({}),_=new yn(""),w=new El(r,o,f,_,c,ut,e,t.root);return w.snapshot=t.root,new _h(new Uo(w,[]),t)}class El{constructor(e,t,r,o,c,f,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>fn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>fn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yh{constructor(e,t,r,o,c,f,_,w,T,N,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=f,this.component=_,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=N,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ra extends ym{constructor(e,t){super(t),this.url=e,vh(this,t)}toString(){return hs(this._root)}}function vh(n,e){e.value._routerState=n,e.children.forEach(t=>vh(n,t))}function hs(n){const e=n.children.length>0?` { ${n.children.map(hs).join(", ")} } `:"";return`${n.value}${e}`}function Eu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dl(n,e){return Yi(n.params,e.params)&&function(n,e){return Ma(n,e)&&n.every((t,r)=>Yi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Dl(n.parent,e.parent))}function Cl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Cl(n,r,o);return Cl(n,r)})}(n,e,t);return new Uo(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const f=c.route;return Dm(e,f),f}}const r=function(n){return new El(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Cl(n,c));return new Uo(r,o)}}function Dm(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Dm(n.children[t],e.children[t])}function xc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ki(n){return"object"==typeof n&&null!=n&&n.outlets}function Cm(n,e,t,r,o){let c={};return r&&Xn(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new bu(t.root===n?e:hv(t.root,n,e),c,o)}function hv(n,e,t){const r={};return Xn(n.children,(o,c)=>{r[c]=o===e?t:hv(o,e,t)}),new St(n.segments,r)}class kc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xc(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Ki);if(o&&o!==Aa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pc(n,e,t){if(n||(n=new St([],{})),0===n.segments.length&&n.hasChildren())return Fc(n,e,t);const r=function(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const f=n.segments[o],_=t[r];if(Ki(_))break;const w=`${_}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!Im(w,T,f))return c;r+=2}else{if(!Im(w,{},f))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new St(n.segments.slice(0,r.pathIndex),{});return c.children[ut]=new St(n.segments.slice(r.pathIndex),n.children),Fc(c,0,o)}return r.match&&0===o.length?new St(n.segments,{}):r.match&&!n.hasChildren()?ep(n,e,t):r.match?Fc(n,0,o):ep(n,e,t)}function Fc(n,e,t){if(0===t.length)return new St(n.segments,{});{const r=function(n){return Ki(n[0])?n[0].outlets:{[ut]:n}}(t),o={};return Xn(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[f]=Pc(n.children[f],e,c))}),Xn(n.children,(c,f)=>{void 0===r[f]&&(o[f]=c)}),new St(n.segments,o)}}function ep(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(Ki(c)){const w=Ln(c.outlets);return new St(r,w)}if(0===o&&xc(t[0])){r.push(new Ic(n.segments[e].path,Tm(t[0]))),o++;continue}const f=Ki(c)?c.outlets[ut]:`${c}`,_=o<t.length-1?t[o+1]:null;f&&_&&xc(_)?(r.push(new Ic(f,Tm(_))),o+=2):(r.push(new Ic(f,{})),o++)}return new St(r,{})}function Ln(n){const e={};return Xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ep(new St([],{}),0,t))}),e}function Tm(n){const e={};return Xn(n,(t,r)=>e[r]=`${t}`),e}function Im(n,e,t){return n==t.path&&Yi(e,t.parameters)}class np{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Eu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Rc(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,o[f],r),delete o[f]}),Xn(o,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Rc(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Rc(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new zi(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Po(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Eu(o),o===c)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),wh(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),w=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=w,f.outlet&&f.outlet.activateWith(o,w),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}function wh(n){Eu(n.value),n.children.forEach(wh)}class rp{constructor(e,t){this.routes=e,this.module=t}}function so(n){return"function"==typeof n}function Tl(n){return n instanceof bu}const Il=Symbol("INITIAL_VALUE");function Du(){return Tn(n=>function(...n){let e,t;return(0,As.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ro.k)(n[0])&&(n=n[0]),(0,Ta.n)(n,t).lift(new ll(e))}(n.map(e=>e.pipe(zr(1),Ia(Il)))).pipe(mu((e,t)=>{let r=!1;return t.reduce((o,c,f)=>o!==Il?o:(c===Il&&(r=!0),r||!1!==c&&f!==t.length-1&&!Tl(c)?o:c),e)},Il),vn(e=>e!==Il),(0,tt.U)(e=>Tl(e)?e:!0===e),zr(1)))}let Or=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[fp]},encapsulation:2}),n})();function Sl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];op(r,_v(e,r))}}function op(n,e){n.children&&Sl(n.children,e)}function _v(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Al(n){const e=n.children&&n.children.map(Al),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=Or),t}function Ji(n){return n.outlet||ut}function ap(n,e){const t=n.filter(r=>Ji(r)===e);return t.push(...n.filter(r=>Ji(r)!==e)),t}const up={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Eh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},up):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||vu)(t,n,e);if(!c)return Object.assign({},up);const f={};Xn(c.posParams,(w,T)=>{f[T]=w.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Vc(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Cu(n,e,r)&&Ji(r)!==ut)}(n,t,r)){const f=new St(e,function(n,e,t,r){const o={};o[ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Ji(c)!==ut){const f=new St([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[Ji(c)]=f}return o}(n,e,r,new St(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Cu(n,e,r))}(n,t,r)){const f=new St(n.segments,function(n,e,t,r,o,c){const f={};for(const _ of r)if(Cu(n,t,_)&&!o[Ji(_)]){const w=new St([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:e.length,f[Ji(_)]=w}return Object.assign(Object.assign({},o),f)}(n,e,t,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new St(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Cu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cp(n,e,t,r){return!!(Ji(n)===r||r!==ut&&Cu(e,t,n))&&("**"===n.path||Eh(e,n,t).matched)}function Ch(n,e,t){return 0===e.length&&!n.children[t]}class Yr{constructor(e){this.segmentGroup=e||null}}class Tu{constructor(e){this.urlTree=e}}function ka(n){return new Dn.y(e=>e.error(new Yr(n)))}function Am(n){return new Dn.y(e=>e.error(new Tu(n)))}function dp(n){return new Dn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Nm{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Vc(this.urlTree.root,[],[],this.config).segmentGroup,t=new St(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ut).pipe((0,tt.U)(c=>this.createUrlTree(oo(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(io(c=>{if(c instanceof Tu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Yr?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ut).pipe((0,tt.U)(o=>this.createUrlTree(oo(o),e.queryParams,e.fragment))).pipe(io(o=>{throw o instanceof Yr?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new St([],{[ut]:e}):e;return new bu(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,tt.U)(c=>new St([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Zt.D)(o).pipe(Ec(c=>{const f=r.children[c],_=ap(t,c);return this.expandSegmentGroup(e,_,f,c).pipe((0,tt.U)(w=>({segment:w,outlet:c})))}),mu((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((o,c)=>n(o,c,r)):Oo.y,dh(1),t?Dc(e):_u(()=>new Ci))}())}expandSegment(e,t,r,o,c,f){return(0,Zt.D)(r).pipe(Ec(_=>this.expandSegmentAgainstRoute(e,t,r,_,o,c,f).pipe(io(T=>{if(T instanceof Yr)return(0,Ue.of)(null);throw T}))),Jn(_=>!!_),io((_,w)=>{if(_ instanceof Ci||"EmptyError"===_.name){if(Ch(t,o,c))return(0,Ue.of)(new St([],{}));throw new Yr(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,o,c,f,_){return cp(o,t,c,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f):ka(t):ka(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Am(c):this.lineralizeSegments(r,c).pipe((0,In.zg)(f=>{const _=new St(f,{});return this.expandSegment(e,_,t,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,f){const{matched:_,consumedSegments:w,lastChild:T,positionalParamSegments:N}=Eh(t,o,c);if(!_)return ka(t);const R=this.applyRedirectCommands(w,o.redirectTo,N);return o.redirectTo.startsWith("/")?Am(R):this.lineralizeSegments(o,R).pipe((0,In.zg)(V=>this.expandSegment(e,t,r,V.concat(c.slice(T)),f,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,tt.U)(V=>(r._loadedConfig=V,new St(o,{})))):(0,Ue.of)(new St(o,{}));const{matched:f,consumedSegments:_,lastChild:w}=Eh(t,r,o);if(!f)return ka(t);const T=o.slice(w);return this.getChildConfig(e,r,o).pipe((0,In.zg)(R=>{const V=R.module,H=R.routes,{segmentGroup:ee,slicedSegments:me}=Vc(t,_,T,H),Ce=new St(ee.segments,ee.children);if(0===me.length&&Ce.hasChildren())return this.expandChildren(V,H,Ce).pipe((0,tt.U)(nt=>new St(_,nt)));if(0===H.length&&0===me.length)return(0,Ue.of)(new St(_,{}));const Xe=Ji(r)===c;return this.expandSegment(V,Ce,H,me,Xe?ut:c,!0).pipe((0,tt.U)(Ct=>new St(_.concat(Ct.segments),Ct.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ue.of)(new rp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ue.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,In.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,tt.U)(c=>(t._loadedConfig=c,c))):(n=t,new Dn.y(e=>e.error(hm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ue.of)(new rp([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ue.of)(!0);const c=o.map(f=>{const _=e.get(f);let w;if((n=_)&&so(n.canLoad))w=_.canLoad(t,r);else{if(!so(_))throw new Error("Invalid CanLoad guard");w=_(t,r)}var n;return or(w)});return(0,Ue.of)(c).pipe(Du(),(0,bn.b)(f=>{if(!Tl(f))return;const _=hm(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,tt.U)(f=>!0===f))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ue.of)(r);if(o.numberOfChildren>1||!o.children[ut])return dp(e.redirectTo);o=o.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new bu(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=t[_]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let f={};return Xn(t.children,(_,w)=>{f[w]=this.createSegmentGroup(e,_,r,o)}),new St(c,f)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function oo(n){const e={};for(const r of Object.keys(n.children)){const c=oo(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new St(n.segments.concat(e.segments),e.children)}return n}(new St(n.segments,e))}class Bc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ci{constructor(e,t){this.component=e,this.route=t}}function Rm(n,e,t){const r=n._root;return Nl(r,e?e._root:null,t,[r.value])}function Pr(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Nl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Rc(e);return n.children.forEach(f=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ma(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ma(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dl(n,e)||!Yi(n.queryParams,e.queryParams);case"paramsChange":default:return!Dl(n,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Bc(r)):(c.data=f.data,c._resolvedData=f._resolvedData),Nl(n,e,c.component?_?_.children:null:t,r,o),w&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new ci(_.outlet.component,f))}else f&&$o(e,_,o),o.canActivateChecks.push(new Bc(r)),Nl(n,null,c.component?_?_.children:null:t,r,o)})(f,c[f.value.outlet],t,r.concat([f.value]),o),delete c[f.value.outlet]}),Xn(c,(f,_)=>$o(f,t.getContext(_),o)),o}function $o(n,e,t){const r=Rc(n),o=n.value;Xn(r,(c,f)=>{$o(c,o.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new ci(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class p{}function g(n){return new Dn.y(e=>e.error(n))}class I{constructor(e,t,r,o,c,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=Vc(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ut);if(null===t)return null;const r=new yh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Uo(r,t),c=new Ra(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=bm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const f=t.children[c],_=ap(e,c),w=this.processSegmentGroup(_,f,c);if(null===w)return null;r.push(...w)}const o=ke(r);return o.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,r,o);if(null!==f)return f}return Ch(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!cp(e,t,r,o))return null;let c,f=[],_=[];if("**"===e.path){const H=r.length>0?Aa(r).parameters:{};c=new yh(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dt(e),Ji(e),e.component,e,$e(t),qe(t)+r.length,qn(e))}else{const H=Eh(t,e,r);if(!H.matched)return null;f=H.consumedSegments,_=r.slice(H.lastChild),c=new yh(f,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dt(e),Ji(e),e.component,e,$e(t),qe(t)+f.length,qn(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Vc(t,f,_,w.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const H=this.processChildren(w,T);return null===H?null:[new Uo(c,H)]}if(0===w.length&&0===N.length)return[new Uo(c,[])];const R=Ji(e)===o,V=this.processSegment(w,T,N,R?ut:o);return null===V?null:[new Uo(c,V)]}}function ae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ke(n){const e=[],t=new Set;for(const r of n){if(!ae(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ke(r.children);e.push(new Uo(r.value,o))}return e.filter(r=>!t.has(r))}function $e(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qe(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Dt(n){return n.data||{}}function qn(n){return n.resolve||{}}function jc(n){return Tn(e=>{const t=n(e);return t?(0,Zt.D)(t).pipe((0,tt.U)(()=>e)):(0,Ue.of)(e)})}class hp extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $c=new u.OlP("ROUTES");class Sh{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,tt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new rp(fm(f.injector.get($c,void 0,u.XFs.Self|u.XFs.Optional)).map(Al),f)}),io(c=>{throw t._loader$=void 0,c}));return t._loader$=new uh.c(o,()=>new Yt.xQ).pipe((0,Sa.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Zt.D)(this.loader.load(e)):or(e()).pipe((0,In.zg)(t=>t instanceof u.YKP?(0,Ue.of)(t):(0,Zt.D)(this.compiler.compileModuleAsync(t))))}}class Ah{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pa,this.attachRef=null}}class Pa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ah,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function y1(n){throw n}function v1(n,e,t){return e.parse("/")}function Ml(n,e){return(0,Ue.of)(null)}const b1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{class n{constructor(t,r,o,c,f,_,w,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.xQ,this.errorHandler=y1,this.malformedUriErrorHandler=v1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ml,afterPreactivation:Ml},this.urlHandlingStrategy=new yI,this.routeReuseStrategy=new hp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(u.h0i),this.console=f.get(u.c2e);const V=f.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new bu(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sh(_,w,H=>this.triggerEvent(new Zr(H)),H=>this.triggerEvent(new Qn(H))),this.routerState=vm(this.currentUrlTree,this.rootComponentType),this.transitions=new yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(vn(o=>0!==o.id),(0,tt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tn(o=>{let c=!1,f=!1;return(0,Ue.of)(o).pipe((0,bn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tn(_=>{const w=this.browserUrlTree.toString(),T=!this.navigated||_.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return jm(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ue.of)(_).pipe(Tn(R=>{const V=this.transitions.getValue();return r.next(new B(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?kr.E:Promise.resolve(R)}),function(n,e,t,r){return Tn(o=>function(n,e,t,r,o){return new Nm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,tt.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,o){return(0,In.zg)(c=>function(n,e,t,r,o="emptyOnly",c="legacy"){try{const f=new I(n,e,t,r,o,c).recognize();return null===f?g(new p):(0,Ue.of)(f)}catch(f){return g(f)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,tt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const V=new Ve(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:ee,restoredState:me,extras:Ce}=_,Xe=new B(V,this.serializeUrl(H),ee,me);r.next(Xe);const Ze=vm(H,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},_),{targetSnapshot:Ze,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),kr.E}),jc(_=>{const{targetSnapshot:w,id:T,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:H}}=_;return this.hooks.beforePreactivation(w,{navigationId:T,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!H})}),(0,bn.b)(_=>{const w=new je(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,tt.U)(_=>Object.assign(Object.assign({},_),{guards:Rm(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,In.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?(0,Ue.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Zt.D)(n).pipe((0,In.zg)(o=>function(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ue.of)(!0);const f=c.map(_=>{const w=Pr(_,e,o);let T;if(function(n){return n&&so(n.canDeactivate)}(w))T=or(w.canDeactivate(n,e,t,r));else{if(!so(w))throw new Error("Invalid CanDeactivate guard");T=or(w(n,e,t,r))}return T.pipe(Jn())});return(0,Ue.of)(f).pipe(Du())}(o.component,o.route,t,e,r)),Jn(o=>!0!==o,!0))}(f,r,o,n).pipe((0,In.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,Zt.D)(e).pipe(Ec(o=>ro(function(n,e){return null!==n&&e&&e(new fl(n)),(0,Ue.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new pl(n)),(0,Ue.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Wi(()=>{const _=f.guards.map(w=>{const T=Pr(w,f.node,t);let N;if(function(n){return n&&so(n.canActivateChild)}(T))N=or(T.canActivateChild(r,n));else{if(!so(T))throw new Error("Invalid CanActivateChild guard");N=or(T(r,n))}return N.pipe(Jn())});return(0,Ue.of)(_).pipe(Du())}));return(0,Ue.of)(c).pipe(Du())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ue.of)(!0);const o=r.map(c=>Wi(()=>{const f=Pr(c,e,t);let _;if(function(n){return n&&so(n.canActivate)}(f))_=or(f.canActivate(e,n));else{if(!so(f))throw new Error("Invalid CanActivate guard");_=or(f(e,n))}return _.pipe(Jn())}));return(0,Ue.of)(o).pipe(Du())}(n,o.route,t))),Jn(o=>!0!==o,!0))}(r,c,n,e):(0,Ue.of)(_)),(0,tt.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,bn.b)(_=>{if(Tl(_.guardsResult)){const T=hm(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw T.url=_.guardsResult,T}const w=new Rt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(w)}),vn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),jc(_=>{if(_.guards.canActivateChecks.length)return(0,Ue.of)(_).pipe((0,bn.b)(w=>{const T=new en(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),Tn(w=>{let T=!1;return(0,Ue.of)(w).pipe(function(n,e){return(0,In.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ue.of)(t);let c=0;return(0,Zt.D)(o).pipe(Ec(f=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ue.of)({});const c={};return(0,Zt.D)(o).pipe((0,In.zg)(f=>function(n,e,t,r){const o=Pr(n,e,r);return or(o.resolve?o.resolve(e,t):o(e,t))}(n[f],e,t,r).pipe((0,bn.b)(_=>{c[f]=_}))),dh(1),(0,In.zg)(()=>Object.keys(c).length===o.length?(0,Ue.of)(c):kr.E))}(n._resolve,n,e,r).pipe((0,tt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),bm(n,t).resolve),null)))}(f.route,r,n,e)),(0,bn.b)(()=>c++),dh(1),(0,In.zg)(f=>c===o.length?(0,Ue.of)(t):kr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(w=>{const T=new Fn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),jc(_=>{const{targetSnapshot:w,id:T,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:V,replaceUrl:H}}=_;return this.hooks.afterPreactivation(w,{navigationId:T,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!V,replaceUrl:!!H})}),(0,tt.U)(_=>{const w=function(n,e,t){const r=Cl(n,e._root,t?t._root:void 0);return new _h(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:w})}),(0,bn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(r=>(new np(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,bn.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new D(n))}(()=>{var _;if(!c&&!f){const w=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,w)):this.cancelNavigationTransition(o,w)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===o.id&&(this.currentNavigation=null)}),io(_=>{if(f=!0,function(n){return n&&n[gl]}(_)){const w=Tl(_.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const T=new ue(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(T),w?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jm(o.source)};this.scheduleNavigation(N,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Ee(o.id,this.serializeUrl(o.extractedUrl),_);r.next(w);try{o.resolve(this.errorHandler(_))}catch(T){o.reject(T)}}return kr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(_.state=w)}this.scheduleNavigation(f,o,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sl(t),this.config=t.map(Al),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:w}=r,T=o||this.routerState.root,N=w?this.currentUrlTree.fragment:f;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,o){if(0===t.length)return Cm(e.root,e.root,e,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kc(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Xn(c.outlets,(w,T)=>{_[T]="string"==typeof w?w.split("/"):w}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===f?(c.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new kc(t,e,r)}(t);if(c.toRoot())return Cm(e.root,new St([],{}),e,r,o);const f=function(n,e,t){if(n.isAbsolute)return new Oc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new Oc(c,c===e.root,0)}const r=xc(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Oc(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=f.processChildren?Fc(f.segmentGroup,f.index,c.commands):Pc(f.segmentGroup,f.index,c.commands);return Cm(f.segmentGroup,_,e,r,o)}(T,this.currentUrlTree,t,R,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Tl(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},b1):!1===r?Object.assign({},w1):r,Tl(t))return Tc(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Tc(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,f){var _,w;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=jm(r)&&T&&!jm(T.source),H=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(N&&H)return Promise.resolve(!0);let ee,me,Ce;f?(ee=f.resolve,me=f.reject,Ce=f.promise):Ce=new Promise((Ct,nt)=>{ee=Ct,me=nt});const Xe=++this.navigationId;let Ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ze=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Ze=0,this.setTransition({id:Xe,targetPageId:Ze,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:ee,reject:me,promise:Ce,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ce.catch(Ct=>Promise.reject(Ct))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new ue(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(Yf),u.LFG(Pa),u.LFG(Tt),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jm(n){return"imperative"!==n}let fp=(()=>{class n{constructor(t,r,o,c,f){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,w=new Gm(t,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pa),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Gm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===El?this.route:e===Pa?this.childContexts:this.parent.get(e,t)}}class Ev{}class Cv{preload(e,t){return(0,Ue.of)(null)}}let qm=(()=>{class n{constructor(t,r,o,c,f){this.router=t,this.injector=c,this.preloadingStrategy=f,this.loader=new Sh(r,o,T=>t.triggerEvent(new Zr(T)),T=>t.triggerEvent(new Qn(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof Q),Ec(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,Zt.D)(o).pipe((0,Ns.J)(),(0,tt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,In.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ps),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Ev))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Gc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof B?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Zi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ps),u.LFG(eu),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Rl=new u.OlP("ROUTER_CONFIGURATION"),D1=new u.OlP("ROUTER_FORROOT_GUARD"),C1=[Tt,{provide:Yf,useClass:yl},{provide:ps,useFactory:function(n,e,t,r,o,c,f,_={},w,T){const N=new ps(null,n,e,t,r,o,c,fm(f));return w&&(N.urlHandlingStrategy=w),T&&(N.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(R=>{var V,H;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(H=console.groupEnd)||void 0===H||H.call(console)}),N},deps:[Yf,Pa,Tt,u.zs3,u.v3s,u.Sil,$c,Rl,[class{},new u.FiY],[class{},new u.FiY]]},Pa,{provide:El,useFactory:function(n){return n.routerState.root},deps:[ps]},{provide:u.v3s,useClass:u.EAV},qm,Cv,class{preload(e,t){return t().pipe(io(()=>(0,Ue.of)(null)))}},{provide:Rl,useValue:{enableTracing:!1}}];function Tv(){return new u.PXZ("Router",ps)}let Iv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[C1,Sv(t),{provide:D1,useFactory:bI,deps:[[ps,new u.FiY,new u.tp0]]},{provide:Rl,useValue:r||{}},{provide:he,useFactory:T1,deps:[K,[new u.tBr(re),new u.FiY],Rl]},{provide:Gc,useFactory:Tx,deps:[ps,eu,Rl]},{provide:Ev,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Cv},{provide:u.PXZ,multi:!0,useFactory:Tv},[Av,{provide:u.ip1,multi:!0,useFactory:I1,deps:[Av]},{provide:S1,useFactory:DI,deps:[Av]},{provide:u.tb,multi:!0,useExisting:S1}]]}}static forChild(t){return{ngModule:n,providers:[Sv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D1,8),u.LFG(ps,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Tx(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Gc(n,e,t)}function T1(n,e,t={}){return t.useHash?new Ae(n,e):new we(n,e)}function bI(n){return"guarded"}function Sv(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:$c,multi:!0,useValue:n}]}let Av=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Yt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(ps),f=this.injector.get(Rl);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Rl),o=this.injector.get(qm),c=this.injector.get(Gc),f=this.injector.get(ps),_=this.injector.get(u.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function I1(n){return n.appInitializer.bind(n)}function DI(n){return n.bootstrapListener.bind(n)}const S1=new u.OlP("Router Initializer"),A1=[];let TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Iv.forRoot(A1)],Iv]}),n})();var II=F(9105);function Ye(n,e,t,r){return(0,II.m)(t)&&(r=t,t=void 0),r?Ye(n,e,t).pipe((0,tt.U)(o=>(0,Ro.k)(o)?r(...o):r(o))):new Dn.y(o=>{Nv(n,e,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,t)})}function Nv(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const f=n;n.addEventListener(e,t,o),c=()=>f.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const f=n;n.on(e,t),c=()=>f.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const f=n;n.addListener(e,t),c=()=>f.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let f=0,_=n.length;f<_;f++)Nv(n[f],e,t,r,o)}r.add(c)}var pp=F(3637),M1=F(6561);function Su(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}class R1{call(e,t){return t.subscribe(new Mv(e))}}class Mv extends fu{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const c=Cn(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}var Ax=F(8640);new Dn.y(Ax.Z);var ao=F(377);function qc(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,Ta.n)(n,void 0).lift(new Ym(e))}class Ym{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new xv(e,this.resultSelector))}}class xv extends rn.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,Ro.k)(e)?t.push(new SI(e)):t.push("function"==typeof e[ao.hZ]?new Nx(e[ao.hZ]()):new x1(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let f=0;f<t;f++){let _=e[f];if("function"==typeof _.hasValue&&!_.hasValue())return}let o=!1;const c=[];for(let f=0;f<t;f++){let _=e[f],w=_.next();if(_.hasCompleted()&&(o=!0),w.done)return void r.complete();c.push(w.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class Nx{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class SI{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[ao.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class x1 extends Ti.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ao.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,Ti.ft)(this.observable,new Ti.IY(this))}}var k1=F(6682);function ar(n){return e=>e.lift(new O1(n))}class O1{constructor(e){this.notifier=e}call(e,t){const r=new P1(e),o=(0,Ti.ft)(this.notifier,new Ti.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class P1 extends Ti.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class kv{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Mx(e,this.compare,this.keySelector))}}class Mx extends rn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function F1(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new Rx(n,t))}}class Rx{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new xx(e,this.observables,this.project))}}class xx extends fu{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(Cn(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}F(1593),F(8819),F(1555);let Fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),IE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fa]]}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[IE]}),n})();const lr=["*"],hS=["dialog"];function Ll(n){return null!=n}function Qc(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const R0={animation:!0,transitionTimerDelayMs:5};let Fr=(()=>{class n{constructor(){this.animation=R0.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const rD=()=>{},{transitionTimerDelayMs:PS}=R0,Op=new Map,br=(n,e,t,r)=>{let o=r.context||{};const c=Op.get(e);if(c)switch(r.runningTransition){case"continue":return kr.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),Op.delete(e)}const f=t(e,r.animation,o)||rD;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>f()),(0,Ue.of)(void 0).pipe(function(n){return e=>new Dn.y(t=>e.subscribe(f=>n.run(()=>t.next(f)),f=>n.run(()=>t.error(f)),()=>n.run(()=>t.complete())))}(n));const _=new Yt.xQ,w=new Yt.xQ,T=_.pipe(function(...n){return e=>ro(e,(0,Ue.of)(...n))}(!0));Op.set(e,{transition$:_,complete:()=>{w.next(),w.complete()},context:o});const N=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=Ye(e,"transitionend").pipe(ar(T),vn(({target:H})=>H===e));(function(...n){if(1===n.length){if(!(0,Ro.k)(n[0]))return n[0];n=n[0]}return(0,Ta.n)(n,void 0).lift(new R1)})(function(n=0,e,t){let r=-1;return(0,M1.k)(e)?r=Number(e)<1?1:Number(e):(0,As.K)(e)&&(t=e),(0,As.K)(t)||(t=pp.P),new Dn.y(o=>{const c=(0,M1.k)(n)?n:+n-t.now();return t.schedule(Su,c,{index:0,period:r,subscriber:o})})}(N+PS).pipe(ar(T)),R,w).pipe(ar(T)).subscribe(()=>{Op.delete(e),n.run(()=>{f(),_.next(),_.complete()})})}),_.asObservable()};let sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),US=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),fD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var xt=(()=>{return(n=xt||(xt={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",xt;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const E_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rA(n){const e=Array.from(n.querySelectorAll(E_)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(e);r=this.offset(e,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(e,t,r,o){const[c="top",f="center"]=r.split("-"),_=o?this.offset(e,!1):this.position(e,!1),w=this.getAllStyles(t),T=parseFloat(w.marginTop),N=parseFloat(w.marginBottom),R=parseFloat(w.marginLeft),V=parseFloat(w.marginRight);let H=0,ee=0;switch(c){case"top":H=_.top-(t.offsetHeight+T+N);break;case"bottom":H=_.top+_.height;break;case"left":ee=_.left-(t.offsetWidth+R+V);break;case"right":ee=_.left+_.width}switch(f){case"top":H=_.top;break;case"bottom":H=_.top+_.height-t.offsetHeight;break;case"left":ee=_.left;break;case"right":ee=_.left+_.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?ee=_.left+_.width/2-t.offsetWidth/2:H=_.top+_.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(ee)}px, ${Math.round(H)}px)`;const me=t.getBoundingClientRect(),Ce=document.documentElement,Xe=window.innerHeight||Ce.clientHeight,Ze=window.innerWidth||Ce.clientWidth;return me.left>=0&&me.top>=0&&me.right<=Ze&&me.bottom<=Xe}},new Date(1882,10,12),new Date(2174,10,25);let J0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn,iS]]}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),FD=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Fr))},token:n,providedIn:"root"}),n})();class id{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}const EA=()=>{};let eb=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):EA}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(oe))},token:n,providedIn:"root"}),n})(),LD=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(zr(1)).subscribe(()=>{br(this._zone,this._el.nativeElement,(t,r)=>{r&&Qc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return br(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class tb{close(e){}dismiss(e){}}class DA{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new Yt.xQ,this._dismissed=new Yt.xQ,this._hidden=new Yt.xQ,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,f)=>{this._resolve=c,this._reject=f}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ar(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ar(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ue.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qc(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sd=(()=>{return(n=sd||(sd={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",sd;var n})();let VD=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new Yt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Yt.xQ,this.hidden=new Yt.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},f=qc(br(this._zone,t,()=>t.classList.remove("show"),r),br(this._zone,this._dialogEl.nativeElement,()=>{},r));return f.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),f}_show(){const t={animation:this.animation,runningTransition:"continue"};qc(br(this._zone,this._elRef.nativeElement,(c,f)=>{f&&Qc(c),c.classList.add("show")},t),br(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ye(t,"keydown").pipe(ar(this._closed$),vn(o=>o.which===xt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(sd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Ye(this._dialogEl.nativeElement,"mousedown").pipe(ar(this._closed$),(0,bn.b)(()=>r=!1),Tn(()=>Ye(t,"mouseup").pipe(ar(this._closed$),zr(1))),vn(({target:o})=>t===o)).subscribe(()=>{r=!0}),Ye(t,"click").pipe(ar(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(sd.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=rA(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&br(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oe),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(hS,7),2&t){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),BD=(()=>{class n{constructor(t,r,o,c,f,_){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=_,this._activeWindowCmptHasChanged=new Yt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const o=Ye(e,"focusin").pipe(ar(t),(0,tt.U)(c=>c.target));Ye(e,"keydown").pipe(ar(t),vn(c=>c.which===xt.Tab),F1(o)).subscribe(([c,f])=>{const[_,w]=rA(e);(f===_||f===e)&&c.shiftKey&&(w.focus(),c.preventDefault()),f===w&&!c.shiftKey&&(_.focus(),c.preventDefault())}),r&&Ye(e,"click").pipe(ar(t),F1(o),(0,tt.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}open(t,r,o,c){const f=c.container instanceof HTMLElement?c.container:Ll(c.container)?this._document.querySelector(c.container):this._document.body,_=this._rendererFactory.createRenderer(null,null),w=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!f)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const N=new tb,R=this._getContentRef(t,c.injector||r,o,N,c);let V=!1!==c.backdrop?this._attachBackdrop(t,f):void 0,H=this._attachWindowComponent(t,f,R),ee=new DA(H,R,V,c.beforeDismiss);return this._registerModalRef(ee),this._registerWindowCmpt(H),ee.result.then(w,w),ee.result.then(T,T),N.close=me=>{ee.close(me)},N.dismiss=me=>{ee.dismiss(me)},this._applyWindowOptions(H.instance,c),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),ee}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(LD).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,o){let f=t.resolveComponentFactory(VD).create(this._injector,o.nodes);return this._applicationRef.attachView(f.hostView),r.appendChild(f.location.nativeElement),f}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{Ll(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{Ll(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,c,f){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,c,f):new id([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(f){r.close(f)},dismiss(f){r.dismiss(f)}});return this._applicationRef.attachView(c),new id([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new id([[r]])}_createFromComponent(t,r,o,c,f){const _=t.resolveComponentFactory(o),w=u.zs3.create({providers:[{provide:tb,useValue:c}],parent:r}),T=_.create(w),N=T.location.nativeElement;return f.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new id([[N]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(oe),u.LFG(eb),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(oe),u.LFG(eb),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),CA=(()=>{class n{constructor(t,r,o,c){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=c}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(BD),u.LFG(FD))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(BD),u.LFG(FD))},token:n,providedIn:"root"}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[CA]}),n})(),GD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),YD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),KD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),JD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let tC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hn]]}),n})();const qk=[sD,US,lo,fD,y_,J0,PD,O_,GD,ob,YD,KD,lb,JD,QD,XD,tC];let KA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qk,sD,US,lo,fD,y_,J0,PD,O_,GD,ob,YD,KD,lb,JD,QD,XD,tC]}),n})(),H_=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","py-2"],[1,"container-fluid",2,"margin-left","15em","margin-right","15em"],[2,"border","none","background-color","Transparent"],["src","../../assets/img/SVG/LKW.svg","width","180","height","75"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mr-auto"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],["href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],[1,"navbar-nav","me-auto","my-2","my-lg-0"],["href","#",1,"nav-item",2,"margin-right","14px"],["src","../../assets/img/Icons/search_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],[1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],[1,"nav-item",2,"margin-right","12px"],["src","../../assets/img/Icons/add_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],["href","#",1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],["src","../../assets/img/Icons/user_icon.png","width","43","height","43",2,"float","left"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"button",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6),u.TgZ(7,"ul",7),u.TgZ(8,"li",8),u.TgZ(9,"a",9),u._uU(10,"Mitfahrgelegenheit"),u.qZA(),u.qZA(),u.TgZ(11,"li",8),u.TgZ(12,"a",10),u._uU(13,"Meine Angebote & Anfragen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"ul",11),u.TgZ(15,"li",12),u.TgZ(16,"button",2),u._UZ(17,"img",13),u.TgZ(18,"a",14),u._uU(19,"Suchen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"li",15),u.TgZ(21,"button",2),u._UZ(22,"img",16),u.TgZ(23,"a",17),u._uU(24,"Angebot & Anfrage erstellen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"li"),u.TgZ(26,"button",2),u._UZ(27,"img",18),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[Q0],styles:[""]}),n})(),JA=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-suchleiste"]],decls:29,vars:0,consts:[[1,"masthead"],[1,"container","position-relative"],[1,"row","justify-content-center"],[1,"col-xl-6"],[1,"text-center","text-white"],[1,"mb-5",2,"color","#005B51"],["id","contactForm","data-sb-form-api-token","API_TOKEN",1,"form-subscribe"],[1,"row"],[1,"col"],["id","emailAddress","type","email","placeholder","Email Address","data-sb-validations","required,email",1,"form-control","form-control-lg"],["data-sb-feedback","emailAddress:required",1,"invalid-feedback","text-white"],["data-sb-feedback","emailAddress:email",1,"invalid-feedback","text-white"],[1,"col-auto"],["id","submitButton","type","submit",1,"btn","btn-primary","btn-lg","disabled"],["id","submitSuccessMessage",1,"d-none"],[1,"text-center","mb-3"],[1,"fw-bolder"],["href","https://startbootstrap.com/solution/contact-forms",1,"text-white"],["id","submitErrorMessage",1,"d-none"],[1,"text-center","text-danger","mb-3"]],template:function(t,r){1&t&&(u.TgZ(0,"header",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h1",5),u._uU(6,"Wir fahren, du sparst!"),u.qZA(),u.TgZ(7,"form",6),u.TgZ(8,"div",7),u.TgZ(9,"div",8),u._UZ(10,"input",9),u.TgZ(11,"div",10),u._uU(12,"Email Address is required."),u.qZA(),u.TgZ(13,"div",11),u._uU(14,"Email Address Email is not valid."),u.qZA(),u.qZA(),u.TgZ(15,"div",12),u.TgZ(16,"button",13),u._uU(17,"Submit"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div",14),u.TgZ(19,"div",15),u.TgZ(20,"div",16),u._uU(21,"Form submission successful!"),u.qZA(),u.TgZ(22,"p"),u._uU(23,"To activate this form, sign up at"),u.qZA(),u.TgZ(24,"a",17),u._uU(25,"https://startbootstrap.com/solution/contact-forms"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"div",18),u.TgZ(27,"div",19),u._uU(28,"Error sending message!"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:["header.masthead[_ngcontent-%COMP%]{position:relative;background-color:#343a40;background:url(Zeichenflache_4.661da432fc963621ee16.svg) no-repeat center center;background-size:cover;padding-top:8rem;padding-bottom:8rem}"]}),n})(),QA=(()=>{class n{constructor(){this.title="Cargonaut"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u._UZ(1,"app-suchleiste"))},directives:[H_,JA],styles:[""]}),n})();var Ai=F(8939),An=F(9396);function zp(){return n=>n.lift(new nC)}class nC{call(e,t){return t.subscribe(new rC(e))}}class rC extends rn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}F(941);var xe,iC=F(3394),pe=F(8239),Jo=F(8026),ud=F(3910),Qo=F(5422),lt=F(3854),zk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Os={},Ba=Ba||{},ct=zk||self;function Ul(){}function sC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ht(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zp="closure_uid_"+(1e9*Math.random()>>>0),ld=0;function Zk(n,e,t){return n.call.apply(n.bind,arguments)}function oC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zk:oC).apply(null,arguments)}function fb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function di(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return e.prototype[o].apply(r,f)}}function jl(){this.s=this.s,this.o=this.o}var Wn={};jl.prototype.s=!1,jl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Zp)&&n[Zp]||(n[Zp]=++ld)}(this);delete Wn[n]}},jl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fo=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},pb=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function gb(n){return Array.prototype.concat.apply([],arguments)}function Yp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function xu(n){return/^[\s\xa0]*$/.test(n)}var es,Qh=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xi(n,e){return-1!=n.indexOf(e)}function ku(n,e){return n<e?-1:n>e?1:0}e:{var mb=ct.navigator;if(mb){var G_=mb.userAgent;if(G_){es=G_;break e}}es=""}function cd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function q_(n){const e={};for(const t in n)e[t]=n[t];return e}var _b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dd(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<_b.length;c++)t=_b[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yb(n){return yb[" "](n),n}yb[" "]=Ul;var wb,n,aC=Xi(es,"Opera"),hd=Xi(es,"Trident")||Xi(es,"MSIE"),vb=Xi(es,"Edge"),Xh=vb||hd,uC=Xi(es,"Gecko")&&!(Xi(es.toLowerCase(),"webkit")&&!Xi(es,"Edge"))&&!(Xi(es,"Trident")||Xi(es,"MSIE"))&&!Xi(es,"Edge"),bb=Xi(es.toLowerCase(),"webkit")&&!Xi(es,"Edge");function z_(){var n=ct.document;return n?n.documentMode:void 0}e:{var lC="",mt=(n=es,uC?/rv:([^\);]+)(\)|;)/.exec(n):vb?/Edge\/([\d\.]+)/.exec(n):hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bb?/WebKit\/(\S+)/.exec(n):aC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mt&&(lC=mt?mt[1]:""),hd){var cC=z_();if(null!=cC&&cC>parseFloat(lC)){wb=String(cC);break e}}wb=lC}var Kp={};function eN(){return e=Kp,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Qh(String(wb)).split("."),t=Qh("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",c=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=ku(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||ku(0==o[2].length,0==c[2].length)||ku(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var Yk=ct.document&&hd&&(z_()||parseInt(wb,10))||void 0,Kk=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ct.addEventListener("test",Ul,e),ct.removeEventListener("test",Ul,e)}catch(t){}return n}();function Ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function wr(n,e){if(Ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uC){e:{try{yb(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wr.Z.h.call(this)}}Ni.prototype.h=function(){this.defaultPrevented=!0},di(wr,Ni);var tN={2:"touch",3:"pen",4:"mouse"};wr.prototype.h=function(){wr.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jp="closure_listenable_"+(1e6*Math.random()|0),Db=0;function nN(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Db,this.ca=this.fa=!1}function Z_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Y_(n){this.src=n,this.g={},this.h=0}function Cb(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=fo(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Z_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tb(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}Y_.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=Tb(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new nN(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var Ib="closure_lm_"+(1e6*Math.random()|0),Qp={};function hC(n,e,t,r,o){if(r&&r.once)return K_(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)hC(n,e[c],t,r,o);return null}return t=Nb(t),n&&n[Jp]?n.N(e,t,ht(r)?!!r.capture:!!r,o):fC(n,e,t,!1,r,o)}function fC(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var f=ht(o)?!!o.capture:!!o,_=Sb(n);if(_||(n[Ib]=_=new Y_(n)),(t=_.add(e,t,r,f,c)).proxy)return t;if(r=function(){var e=rN;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Kk||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(_C(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function K_(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)K_(n,e[c],t,r,o);return null}return t=Nb(t),n&&n[Jp]?n.O(e,t,ht(r)?!!r.capture:!!r,o):fC(n,e,t,!0,r,o)}function gC(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)gC(n,e[c],t,r,o);else r=ht(r)?!!r.capture:!!r,t=Nb(t),n&&n[Jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tb(c=n.g[e],t,r,o))&&(Z_(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Sb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tb(e,t,r,o)),(t=-1<n?e[n]:null)&&mC(t))}function mC(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Jp])Cb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_C(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Sb(e))?(Cb(t,n),0==t.h&&(t.src=null,e[Ib]=null)):Z_(n)}}}function _C(n){return n in Qp?Qp[n]:Qp[n]="on"+n}function rN(n,e){if(n.ca)n=!0;else{e=new wr(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&mC(n),n=t.call(r,e)}return n}function Sb(n){return(n=n[Ib])instanceof Y_?n:null}var Ab="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nb(n){return"function"==typeof n?n:(n[Ab]||(n[Ab]=function(e){return n.handleEvent(e)}),n[Ab])}function Qr(){jl.call(this),this.i=new Y_(this),this.P=this,this.I=null}function cr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ni(e,n);else if(e instanceof Ni)e.target=e.target||n;else{var o=e;dd(e=new Ni(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];o=J_(f,r,!0,e)&&o}if(o=J_(f=e.g=n,r,!0,e)&&o,o=J_(f,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=J_(f=e.g=t[c],r,!1,e)&&o}function J_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var _=f.listener,w=f.ia||f.src;f.fa&&Cb(n.i,f),o=!1!==_.call(w,r)&&o}}return o&&!r.defaultPrevented}di(Qr,jl),Qr.prototype[Jp]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){gC(this,n,e,t,r)},Qr.prototype.M=function(){if(Qr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Z_(t[r]);delete n.g[e],n.h--}}this.I=null},Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Mb=ct.JSON.stringify;function yC(){var n=Ob;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xb,iN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vC,n=>n.reset());class vC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sN(n){ct.setTimeout(()=>{throw n},0)}function Rb(n,e){xb||function(){var n=ct.Promise.resolve(void 0);xb=function(){n.then(aN)}}(),kb||(xb(),kb=!0),Ob.add(n,e)}var kb=!1,Ob=new class{constructor(){this.h=this.g=null}add(e,t){const r=iN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function aN(){for(var n;n=yC();){try{n.h.call(n.g)}catch(t){sN(t)}var e=iN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kb=!1}function Q_(n,e){Qr.call(this),this.h=n||1,this.g=e||ct,this.j=Jr(this.kb,this),this.l=Date.now()}function bC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function wC(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ct.setTimeout(n,e||0)}function uN(n){n.g=wC(()=>{n.g=null,n.i&&(n.i=!1,uN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}di(Q_,Qr),(xe=Q_.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cr(this,"tick"),this.da&&(bC(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){Q_.Z.M.call(this),bC(this),delete this.g};class Pb extends jl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uN(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eg(n){jl.call(this),this.h=n,this.g={}}di(eg,jl);var EC=[];function DC(n,e,t,r){Array.isArray(t)||(t&&(EC[0]=t.toString()),t=EC);for(var o=0;o<t.length;o++){var c=hC(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function CC(n){cd(n.g,function(e,t){this.g.hasOwnProperty(t)&&mC(e)},n),n.g={}}function X_(){this.g=!0}function $l(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<o.length;f++)o[f]=""}}}return Mb(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}eg.prototype.M=function(){eg.Z.M.call(this),CC(this)},eg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},X_.prototype.Aa=function(){this.g=!1},X_.prototype.info=function(){};var nr={},Fb=null;function gs(){return Fb=Fb||new Qr}function ey(n){Ni.call(this,nr.Ma,n)}function tg(n){const e=gs();cr(e,new ey(e,n))}function Lb(n,e){Ni.call(this,nr.STAT_EVENT,n),this.stat=e}function Mi(n){const e=gs();cr(e,new Lb(e,n))}function Vb(n,e){Ni.call(this,nr.Na,n),this.size=e}function ng(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){n()},e)}nr.Ma="serverreachability",di(ey,Ni),nr.STAT_EVENT="statevent",di(Lb,Ni),nr.Na="timingevent",di(Vb,Ni);var ty={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},IC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ny(){}function dN(){}ny.prototype.h=null;var AC,rg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bb(){Ni.call(this,"d")}function Hl(){Ni.call(this,"c")}function ig(){}function sg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new eg(this),this.P=NC,this.W=new Q_(n=Xh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hN}function hN(){this.i=null,this.g="",this.h=!1}di(Bb,Ni),di(Hl,Ni),di(ig,ny),ig.prototype.g=function(){return new XMLHttpRequest},ig.prototype.i=function(){return{}},AC=new ig;var NC=45e3,Ub={},tf={};function jb(n,e,t){n.K=1,n.v=ly(Ou(e)),n.s=t,n.U=!0,$b(n,null)}function $b(n,e){n.F=Date.now(),og(n),n.A=Ou(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),FC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new hN,n.g=cw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Pb(Jr(n.Ia,n,n.g),n.O)),DC(n.V,n.g,"readystatechange",n.gb),e=n.H?q_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),tg(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var f="",_=c.split("&"),w=0;w<_.length;w++){var T=_[w].split("=");if(1<T.length){var N=T[0];T=T[1];var R=N.split("_");f=2<=R.length&&"type"==R[1]?f+(N+"=")+T+"&":f+(N+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Hb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Gb(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=fN(n,t),o==tf){4==e&&(n.o=4,Mi(14),r=!1),$l(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ub){n.o=4,Mi(15),$l(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}$l(n.j,n.m,o,null),pd(n,o)}Hb(n)&&o!=tf&&o!=Ub&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ow(e),e.L=!0,Mi(11))):($l(n.j,n.m,t,"[Invalid Chunked Response]"),fd(n),ag(n))}function fN(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tf:(t=Number(e.substring(t,r)),isNaN(t)?Ub:(r+=1)+t>e.length?tf:(e=e.substr(r,t),n.C=r+t,e))}function og(n){n.Y=Date.now()+n.P,MC(n,n.P)}function MC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ng(Jr(n.eb,n),e)}function ry(n){n.B&&(ct.clearTimeout(n.B),n.B=null)}function ag(n){0==n.l.G||n.I||uw(n.l,n)}function fd(n){ry(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,bC(n.W),CC(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function pd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Xb(t.i,n)))if(t.I=n.N,!n.J&&Xb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=ng(Jr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;gg(t),gy(t)}_y(t),Mi(18)}if(1>=Qb(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else vd(t,11)}else if((n.J||t.g==n)&&gg(t),!xu(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const N=T[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const R=T[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const ee=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var c=r.i;!c.g&&(Xi(ee,"spdy")||Xi(ee,"quic")||Xi(ee,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(cy(c,c.h),c.h=null))}if(r.D){const me=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,dn(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=KC(r,r.H?r.la:null,r.W),f.J){ew(r.i,f);var _=f,w=r.K;w&&_.setTimeout(w),_.B&&(ry(_),og(_)),r.g=f}else ZC(r);0<t.l.length&&pg(t)}else"stop"!=T[0]&&"close"!=T[0]||vd(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?vd(t,7):rw(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}tg(4)}catch(T){}}function iy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sC(n)||"string"==typeof n)pb(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(sC(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(sC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function gd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof gd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function sy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Gl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Gl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Gl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(xe=sg.prototype).setTimeout=function(n){this.P=n},xe.gb=function(n){n=n.target;const e=this.L;e&&3==$a(n)?e.l():this.Ia(n)},xe.Ia=function(n){try{if(n==this.g)e:{const N=$a(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>N)&&(3!=N||Xh||this.g&&(this.h.h||this.g.ga()||fg(this.g)))){this.I||4!=N||7==e||tg(8==e||0>=R?3:2),ry(this);var t=this.g.ba();this.N=t;t:if(Hb(this)){var r=fg(this.g);n="";var o=r.length,c=4==$a(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fd(this),ag(this);var f="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,w=this.g;if((_=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xu(_)){var T=_;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Mi(12),fd(this),ag(this);break e}$l(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pd(this,t)}this.U?(Gb(this,N,f),Xh&&this.i&&3==N&&(DC(this.V,this.W,"tick",this.fb),this.W.start())):($l(this.j,this.m,f,null),pd(this,f)),4==N&&fd(this),this.i&&!this.I&&(4==N?uw(this.l,this):(this.i=!1,og(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Mi(12)):(this.o=0,Mi(13)),fd(this),ag(this)}}}catch(N){}},xe.fb=function(){if(this.g){var n=$a(this.g),e=this.g.ga();this.C<e.length&&(ry(this),Gb(this,n,e),this.i&&4!=n&&og(this))}},xe.cancel=function(){this.I=!0,fd(this)},xe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tg(3),Mi(17)),fd(this),this.o=2,ag(this)):MC(this,this.Y-n)},(xe=gd.prototype).R=function(){sy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},xe.T=function(){return sy(this),this.g.concat()},xe.get=function(n,e){return Gl(this.h,n)?this.h[n]:e},xe.set=function(n,e){Gl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},xe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var qb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ql(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ql){this.g=void 0!==e?e:n.g,oy(this,n.j),this.s=n.s,ay(this,n.i),uy(this,n.m),this.l=n.l,e=n.h;var t=new md;t.i=e.i,e.g&&(t.g=new gd(e.g),t.h=e.h),nf(this,t),this.o=n.o}else n&&(t=String(n).match(qb))?(this.g=!!e,oy(this,t[1]||"",!0),this.s=ug(t[2]||""),ay(this,t[3]||"",!0),uy(this,t[4]),this.l=ug(t[5]||"",!0),nf(this,t[6]||"",!0),this.o=ug(t[7]||"")):(this.g=!!e,this.h=new md(null,this.g))}function Ou(n){return new ql(n)}function oy(n,e,t){n.j=t?ug(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ay(n,e,t){n.i=t?ug(e,!0):e}function uy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nf(n,e,t){e instanceof md?(n.h=e,function(n,e){e&&!n.j&&(ja(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(OC(this,r),FC(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Wl(e,Zb)),n.h=new md(e,n.g))}function dn(n,e,t){n.h.set(e,t)}function ly(n){return dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ug(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ql.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wl(e,xC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wl(e,xC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wl(t,"/"==t.charAt(0)?zb:Jk,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wl(t,kC)),n.join("")};var xC=/[#\/\?@]/g,Jk=/[#\?:]/g,zb=/[#\?]/g,Zb=/[#\?@]/g,kC=/#/g;function md(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ja(n){n.g||(n.g=new gd,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OC(n,e){ja(n),e=rf(n,e),Gl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Gl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&sy(n)))}function PC(n,e){return ja(n),e=rf(n,e),Gl(n.g.h,e)}function FC(n,e,t){OC(n,e),0<t.length&&(n.i=null,n.g.set(rf(n,e),Yp(t)),n.h+=t.length)}function rf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kb(n){this.l=n||VC,n=ct.PerformanceNavigationTiming?0<(n=ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=md.prototype).add=function(n,e){ja(this),this.i=null,n=rf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},xe.forEach=function(n,e){ja(this),this.g.forEach(function(t,r){pb(t,function(o){n.call(e,o,r,this)},this)},this)},xe.T=function(){ja(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},xe.R=function(n){ja(this);var e=[];if("string"==typeof n)PC(this,n)&&(e=gb(e,this.g.get(rf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=gb(e,n[t])}return e},xe.set=function(n,e){return ja(this),this.i=null,PC(this,n=rf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},xe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=o;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var VC=10;function Jb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Qb(n){return n.h?1:n.g?n.g.size:0}function Xb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cy(n,e){n.g?n.g.add(e):n.h=e}function ew(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function BC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Yp(n.i)}function dy(){}function UC(){this.g=new dy}function Qk(n,e,t){const r=t||"";try{iy(n,function(o,c){let f=o;ht(o)&&(f=Mb(o)),e.push(r+c+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Pu(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function lg(n){this.l=n.$b||null,this.j=n.ib||!1}function hy(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kb.prototype.cancel=function(){if(this.i=BC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dy.prototype.stringify=function(n){return ct.JSON.stringify(n,void 0)},dy.prototype.parse=function(n){return ct.JSON.parse(n,void 0)},di(lg,ny),lg.prototype.g=function(){return new hy(this.l,this.j)},lg.prototype.i=function(n){return function(){return n}}({}),di(hy,Qr);var jC=0;function sf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_d(n)}function _d(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(xe=hy.prototype).open=function(n,e){if(this.readyState!=jC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_d(this)},xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cg(this)),this.readyState=jC},xe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sf(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cg(this):_d(this),3==this.readyState&&sf(this)}},xe.Ua=function(n){this.g&&(this.response=this.responseText=n,cg(this))},xe.Ta=function(n){this.g&&(this.response=n,cg(this))},xe.ha=function(){this.g&&cg(this)},xe.setRequestHeader=function(n,e){this.v.append(n,e)},xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mN=ct.JSON.parse;function dr(n){Qr.call(this),this.headers=new gd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$C,this.K=this.L=!1}di(dr,Qr);var $C="",_N=/^https?$/i,tw=["POST","PUT"];function GC(n){return"content-type"==n.toLowerCase()}function dg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fy(n),hg(n)}function fy(n){n.D||(n.D=!0,cr(n,"complete"),cr(n,"error"))}function yN(n){if(n.h&&void 0!==Ba&&(!n.C[1]||4!=$a(n)||2!=n.ba()))if(n.v&&4==$a(n))wC(n.Fa,0,n);else if(cr(n,"readystatechange"),4==$a(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var o=String(n.H).match(qb)[1]||null;if(!o&&ct.self&&ct.self.location){var c=ct.self.location.protocol;o=c.substr(0,c.length-1)}r=!_N.test(o?o.toLowerCase():"")}t=r}if(t)cr(n,"complete"),cr(n,"success");else{n.m=6;try{var f=2<$a(n)?n.g.statusText:""}catch(w){f=""}n.j=f+" ["+n.ba()+"]",fy(n)}}finally{hg(n)}}}function hg(n,e){if(n.g){qC(n);const t=n.g,r=n.C[0]?Ul:null;n.g=null,n.C=null,e||cr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function qC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ct.clearTimeout(n.A),n.A=null)}function $a(n){return n.g?n.g.readyState:0}function fg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $C:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return cd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dn(n,e,t))}function yd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function py(n){this.za=0,this.l=[],this.h=new X_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yd("baseRetryDelayMs",5e3,n),this.$a=yd("retryDelaySeedMs",1e4,n),this.Ya=yd("forwardChannelMaxRetries",2,n),this.ra=yd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Kb(n&&n.concurrentRequestLimit),this.Ca=new UC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function rw(n){if(iw(n),3==n.G){var e=n.V++,t=Ou(n.F);dn(t,"SID",n.J),dn(t,"RID",e),dn(t,"TYPE","terminate"),af(n,t),(e=new sg(n,n.h,e,void 0)).K=2,e.v=ly(Ou(t)),t=!1,ct.navigator&&ct.navigator.sendBeacon&&(t=ct.navigator.sendBeacon(e.v.toString(),"")),!t&&ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=cw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),og(e)}YC(n)}function gy(n){n.g&&(ow(n),n.g.cancel(),n.g=null)}function iw(n){gy(n),n.u&&(ct.clearTimeout(n.u),n.u=null),gg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ct.clearTimeout(n.m),n.m=null)}function my(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&pg(n)}function pg(n){Jb(n.i)||n.m||(n.m=!0,Rb(n.Ha,n),n.C=0)}function sw(n,e){var t;t=e?e.m:n.V++;const r=Ou(n.F);dn(r,"SID",n.J),dn(r,"RID",t),dn(r,"AID",n.U),af(n,r),n.o&&n.s&&nw(r,n.o,n.s),t=new sg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=zC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cy(n.i,t),jb(t,r,e)}function af(n,e){n.j&&iy({},function(t,r){dn(e,r,t)})}function zC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=o[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let _=!0;for(let w=0;w<t;w++){let T=o[w].h;const N=o[w].g;if(T-=c,0>T)c=Math.max(0,o[w].h-100),_=!1;else try{Qk(N,f,"req"+T+"_")}catch(R){r&&r(N)}}if(_){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ZC(n){n.g||n.u||(n.Y=1,Rb(n.Ga,n),n.A=0)}function _y(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ng(Jr(n.Ga,n),lw(n,n.A)),n.A++,0))}function ow(n){null!=n.B&&(ct.clearTimeout(n.B),n.B=null)}function aw(n){n.g=new sg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ou(n.oa);dn(e,"RID","rpc"),dn(e,"SID",n.J),dn(e,"CI",n.N?"0":"1"),dn(e,"AID",n.U),af(n,e),dn(e,"TYPE","xmlhttp"),n.o&&n.s&&nw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ly(Ou(e)),t.s=null,t.U=!0,$b(t,n)}function gg(n){null!=n.v&&(ct.clearTimeout(n.v),n.v=null)}function uw(n,e){var t=null;if(n.g==e){gg(n),ow(n),n.g=null;var r=2}else{if(!Xb(n.i,e))return;t=e.D,ew(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;cr(r=gs(),new Vb(r,t,e,o)),pg(n)}else ZC(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(Qb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ng(Jr(n.Ha,n,e),lw(n,n.C)),n.C++,0)))}(n,e)||2==r&&_y(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:vd(n,5);break;case 4:vd(n,10);break;case 3:vd(n,6);break;default:vd(n,2)}}function lw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Jr(n.jb,n);t||(t=new ql("//www.google.com/images/cleardot.gif"),ct.location&&"http"==ct.location.protocol||oy(t,"https"),ly(t)),function(n,e){const t=new X_;if(ct.Image){const r=new Image;r.onload=fb(Pu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fb(Pu,t,r,"TestLoadImage: error",!1,e),r.onabort=fb(Pu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fb(Pu,t,r,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Mi(2);n.G=0,n.j&&n.j.va(e),YC(n),iw(n)}function YC(n){n.G=0,n.I=-1,n.j&&((0!=BC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Yp(n.l),n.l.length=0),n.j.ua())}function KC(n,e,t){let r=function(n){return n instanceof ql?Ou(n):new ql(n,void 0)}(t);if(""!=r.i)e&&ay(r,e+"."+r.i),uy(r,r.m);else{const o=ct.location;r=function(n,e,t,r){var o=new ql(null,void 0);return n&&oy(o,n),e&&ay(o,e),t&&uy(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&cd(n.aa,function(o,c){dn(r,c,o)}),t=n.sa,(e=n.D)&&t&&dn(r,e,t),dn(r,"VER",n.ma),af(n,r),r}function cw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ba&&!n.qa?new lg({ib:!0}):n.qa)).L=n.H,e}function bN(){}function dw(){if(hd&&!(10<=Number(Yk)))throw Error("Environmental error: no available transport.")}function po(n,e){Qr.call(this),this.g=new py(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!xu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mg(this)}function wN(n){Bb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function EN(){Hl.call(this),this.status=1}function mg(n){this.g=n}(xe=dr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AC.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:AC),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void dg(this,c)}n=t||"";const o=new gd(this.headers);r&&iy(r,function(c,f){o.set(f,c)}),r=function(n){e:{var e=GC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=ct.FormData&&n instanceof ct.FormData,!(0<=fo(tw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qC(this),0<this.B&&((this.K=function(n){return hd&&eN()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=wC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){dg(this,c)}},xe.pa=function(){void 0!==Ba&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cr(this,"timeout"),this.abort(8))},xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cr(this,"complete"),cr(this,"abort"),hg(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hg(this,!0)),dr.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?yN(this):this.cb())},xe.cb=function(){yN(this)},xe.ba=function(){try{return 2<$a(this)?this.g.status:-1}catch(n){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},xe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mN(e)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=py.prototype).ma=8,xe.G=1,xe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},xe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new sg(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=q_(c),dd(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zC(this,o,e),dn(t=Ou(this.F),"RID",n),dn(t,"CVER",22),this.D&&dn(t,"X-HTTP-Session-Id",this.D),af(this,t),this.o&&c&&nw(t,this.o,c),cy(this.i,o),this.Ra&&dn(t,"TYPE","init"),this.ja?(dn(t,"$req",e),dn(t,"SID","null"),o.$=!0,jb(o,t,null)):jb(o,t,e),this.G=2}}else 3==this.G&&(n?sw(this,n):0==this.l.length||Jb(this.i)||sw(this))},xe.Ga=function(){if(this.u=null,aw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ng(Jr(this.bb,this),n)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mi(10),gy(this),aw(this))},xe.ab=function(){null!=this.v&&(this.v=null,gy(this),_y(this),Mi(19))},xe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Mi(2)):(this.h.info("Failed to ping google.com"),Mi(1))},(xe=bN.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},dw.prototype.g=function(n,e){return new po(n,e)},di(po,Qr),po.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Rb(Jr(n.hb,n,e))),Mi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=KC(n,null,n.W),pg(n)},po.prototype.close=function(){rw(this.g)},po.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,my(this.g,e)}else this.v?((e={}).__data__=Mb(n),my(this.g,e)):my(this.g,n)},po.prototype.M=function(){this.g.j=null,delete this.j,rw(this.g),delete this.g,po.Z.M.call(this)},di(wN,Bb),di(EN,Hl),di(mg,bN),mg.prototype.xa=function(){cr(this.g,"a")},mg.prototype.wa=function(n){cr(this.g,new wN(n))},mg.prototype.va=function(n){cr(this.g,new EN(n))},mg.prototype.ua=function(){cr(this.g,"b")},dw.prototype.createWebChannel=dw.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,IC.COMPLETE="complete",dN.EventType=rg,rg.OPEN="a",rg.CLOSE="b",rg.ERROR="c",rg.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.La,dr.prototype.getLastErrorCode=dr.prototype.Da,dr.prototype.getStatus=dr.prototype.ba,dr.prototype.getResponseJson=dr.prototype.Qa,dr.prototype.getResponseText=dr.prototype.ga,dr.prototype.send=dr.prototype.ea;var Xk=Os.createWebChannelTransport=function(){return new dw},eO=Os.getStatEventTarget=function(){return gs()},JC=Os.ErrorCode=ty,tO=Os.EventType=IC,nO=Os.Event=nr,DN=Os.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rO=Os.FetchXmlHttpFactory=lg,hw=Os.WebChannel=dN,iO=Os.XhrIo=dr;const CN="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let uf="9.6.0";const zl=new Qo.Yd("@firebase/firestore");function fw(){return zl.logLevel}function Oe(n,...e){if(zl.logLevel<=Qo.in.DEBUG){const t=e.map(pw);zl.debug(`Firestore (${uf}): ${n}`,...t)}}function Vr(n,...e){if(zl.logLevel<=Qo.in.ERROR){const t=e.map(pw);zl.error(`Firestore (${uf}): ${n}`,...t)}}function _g(n,...e){if(zl.logLevel<=Qo.in.WARN){const t=e.map(pw);zl.warn(`Firestore (${uf}): ${n}`,...t)}}function pw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Qe(n="Unexpected state"){const e=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function _t(n,e){n||Qe()}function Le(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class lf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XC{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let f=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new hi,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const T=f;e.enqueueRetryable((0,pe.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},w=T=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new hi)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new QC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Ri(e)}}class TN{constructor(e,t,r){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class IN{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new TN(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(c=o).error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const r=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),new yy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function aO(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ms.I=-1;class mw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=aO(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function bd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function AN(n){return n+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new fi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function tT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Qe(),void 0===r?r=e.length-t:r>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),f=t.get(o);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends vg{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends vg{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const _=e[o];if("\\"===_){if(o+1===e.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===_?(f=!f,o++):"."!==_||f?(r+=_,o++):(c(),o++)}if(c(),f)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class df{constructor(e){this.fields=e,e.sort(Br.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new pi(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wd(n){if(_t(!!n),"string"==typeof n){let e=0;const t=NN.exec(n);if(_t(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hf(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}function nT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function MN(n){const e=n.mapValue.fields.__previous_value__;return nT(e)?MN(e):e}function bg(n){const e=wd(n.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}function Xo(n){return null==n}function vy(n){return 0===n&&1/n==-1/0}function rT(n){return"number"==typeof n&&Number.isInteger(n)&&!vy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(on.fromString(e))}static fromName(e){return new Ke(on.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new on(e.slice()))}}function Fu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nT(n)?4:10:Qe()}function Ha(n,e){const t=Fu(n);if(t!==Fu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bg(n).isEqual(bg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=wd(r.timestampValue),f=wd(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,hf(n.bytesValue).isEqual(hf(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return hr(r.geoPointValue.latitude)===hr(o.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return hr(r.integerValue)===hr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=hr(r.doubleValue),f=hr(o.doubleValue);return c===f?vy(c)===vy(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return bd(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(r,o){const c=r.mapValue.fields||{},f=o.mapValue.fields||{};if(tT(c)!==tT(f))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===f[_]||!Ha(c[_],f[_])))return!1;return!0}(n,e);default:return Qe()}var o}function gi(n,e){return void 0!==(n.values||[]).find(t=>Ha(t,e))}function ff(n,e){const t=Fu(n),r=Fu(e);if(t!==r)return kt(t,r);switch(t){case 0:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const f=hr(o.integerValue||o.doubleValue),_=hr(c.integerValue||c.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,e);case 3:return by(n.timestampValue,e.timestampValue);case 4:return by(bg(n),bg(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(o,c){const f=hf(o),_=hf(c);return f.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const f=o.split("/"),_=c.split("/");for(let w=0;w<f.length&&w<_.length;w++){const T=kt(f[w],_[w]);if(0!==T)return T}return kt(f.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const f=kt(hr(o.latitude),hr(c.latitude));return 0!==f?f:kt(hr(o.longitude),hr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const f=o.values||[],_=c.values||[];for(let w=0;w<f.length&&w<_.length;++w){const T=ff(f[w],_[w]);if(T)return T}return kt(f.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const f=o.fields||{},_=Object.keys(f),w=c.fields||{},T=Object.keys(w);_.sort(),T.sort();for(let N=0;N<_.length&&N<T.length;++N){const R=kt(_[N],T[N]);if(0!==R)return R;const V=ff(f[_[N]],w[T[N]]);if(0!==V)return V}return kt(_.length,T.length)}(n.mapValue,e.mapValue);default:throw Qe()}}function by(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=wd(n),r=wd(e),o=kt(t.seconds,r.seconds);return 0!==o?o:kt(t.nanos,r.nanos)}function _w(n){return yw(n)}function yw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=wd(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hf(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const f of r.values||[])c?c=!1:o+=",",o+=yw(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const _ of o)f?f=!1:c+=",",c+=`${_}:${yw(r.fields[_])}`;return c+"}"}(n.mapValue):Qe();var e}function pf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wy(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function iT(n){return!!n&&"nullValue"in n}function vw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wg(n){return!!n&&"mapValue"in n}function Eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=Br.emptyPath(),r={},o=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=_.popLast()}f?r[_.lastSegment()]=Eg(f):o.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];wg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){cf(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new xi(Eg(this.value))}}function Dy(n){const e=[];return cf(n.fields,(t,r)=>{const o=new Br([t]);if(wg(r)){const c=Dy(r.mapValue).fields;if(0===c.length)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new df(e)}class Nn{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,At.min(),xi.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,r,0)}static newNoDocument(e,t){return new Nn(e,2,t,xi.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sT{constructor(e,t=null,r=[],o=[],c=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=_,this.R=null}}function Cy(n,e=null,t=[],r=[],o=null,c=null,f=null){return new sT(n,e,t,r,o,c,f)}function Dg(n){const e=Le(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+_w(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Xo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Iy(e.startAt)),e.endAt&&(t+="|ub:",t+=Iy(e.endAt)),e.R=t}return e.R}function Ty(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!aT(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ha(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uT(n.startAt,e.startAt)&&uT(n.endAt,e.endAt)}function bw(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ns extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new RN(e,t,r):"array-contains"===t?new PN(e,r):"in"===t?new oT(e,r):"not-in"===t?new FN(e,r):"array-contains-any"===t?new LN(e,r):new ns(e,t,r)}static P(e,t,r){return"in"===t?new xN(e,r):new kN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ff(t,this.value)):null!==t&&Fu(this.value)===Fu(t)&&this.v(ff(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qe()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class RN extends ns{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.v(t)}}class xN extends ns{constructor(e,t){super(e,"in",t),this.keys=ON(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kN extends ns{constructor(e,t){super(e,"not-in",t),this.keys=ON(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ON(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class PN extends ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&gi(t.arrayValue,this.value)}}class oT extends ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gi(this.value.arrayValue,t)}}class FN extends ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gi(this.value.arrayValue,t)}}class LN extends ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gi(this.value.arrayValue,r))}}class gf{constructor(e,t){this.position=e,this.before=t}}function Iy(n){return`${n.before?"b":"a"}:${n.position.map(e=>_w(e)).join(",")}`}class Cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function aT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ww(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],f=n.position[o];if(r=c.field.isKeyField()?Ke.comparator(Ke.fromName(f.referenceValue),t.key):ff(f,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function uT(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}class Lu{constructor(e,t=null,r=[],o=[],c=null,f="F",_=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=w,this.S=null,this.D=null}}function Ew(n,e,t,r,o,c,f,_){return new Lu(n,e,t,r,o,c,f,_)}function Ga(n){return new Lu(n)}function mf(n){return!Xo(n.limit)&&"F"===n.limitType}function Tg(n){return!Xo(n.limit)&&"L"===n.limitType}function Dw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cw(n){for(const e of n.filters)if(e.V())return e.field;return null}function lT(n){return null!==n.collectionGroup}function Ig(n){const e=Le(n);if(null===e.S){e.S=[];const t=Cw(e),r=Dw(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Cg(t)),e.S.push(new Cg(Br.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Cg(Br.keyField(),c))}}}return e.S}function ta(n){const e=Le(n);if(!e.D)if("F"===e.limitType)e.D=Cy(e.path,e.collectionGroup,Ig(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ig(e))t.push(new Cg(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new gf(e.endAt.position,!e.endAt.before):null,o=e.startAt?new gf(e.startAt.position,!e.startAt.before):null;e.D=Cy(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function Tw(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _f(n,e){return Ty(ta(n),ta(e))&&n.limitType===e.limitType}function cT(n){return`${Dg(ta(n))}|lt:${n.limitType}`}function Iw(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${_w(r.value)}`;var r}).join(", ")}]`),Xo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Iy(n.startAt)),n.endAt&&(e+=", endAt: "+Iy(n.endAt)),`Target(${e})`}(ta(n))}; limitType=${n.limitType})`}function Sg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!ww(t.startAt,Ig(t),r)||t.endAt&&ww(t.endAt,Ig(t),r)));var t,r}function dT(n){return(e,t)=>{let r=!1;for(const o of Ig(n)){const c=hT(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function hT(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,c,f){const _=c.data.field(o),w=f.data.field(o);return null!==_&&null!==w?ff(_,w):Qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}function VN(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vy(e)?"-0":e}}function BN(n){return{integerValue:""+n}}function fT(n,e){return rT(e)?BN(e):VN(n,e)}class yf{constructor(){this._=void 0}}function Xr(n,e,t){return n instanceof Ed?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Dd?Ag(n,e):n instanceof Cd?pT(n,e):function(r,o){const c=Sw(r,o),f=Zl(c)+Zl(r.N);return wy(c)&&wy(r.N)?BN(f):VN(r.k,f)}(n,e)}function dO(n,e,t){return n instanceof Dd?Ag(n,e):n instanceof Cd?pT(n,e):t}function Sw(n,e){return n instanceof Td?wy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ed extends yf{}class Dd extends yf{constructor(e){super(),this.elements=e}}function Ag(n,e){const t=Aw(e);for(const r of n.elements)t.some(o=>Ha(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cd extends yf{constructor(e){super(),this.elements=e}}function pT(n,e){let t=Aw(e);for(const r of n.elements)t=t.filter(o=>!Ha(o,r));return{arrayValue:{values:t}}}class Td extends yf{constructor(e,t){super(),this.k=e,this.N=t}}function Zl(n){return hr(n.integerValue||n.doubleValue)}function Aw(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Id{constructor(e,t){this.field=e,this.transform=t}}class UN{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vf{}function gT(n,e,t){n instanceof Ay?function(r,o,c){const f=r.value.clone(),_=jN(r.fieldTransforms,o,c.transformResults);f.setAll(_),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof na?function(r,o,c){if(!Sy(r.precondition,o))return void o.convertToUnknownDocument(c.version);const f=jN(r.fieldTransforms,o,c.transformResults),_=o.data;_.setAll(yT(r)),_.setAll(f),o.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Er(n,e,t){var o;n instanceof Ay?function(r,o,c){if(!Sy(r.precondition,o))return;const f=r.value.clone(),_=$N(r.fieldTransforms,c,o);f.setAll(_),o.convertToFoundDocument(_T(o),f).setHasLocalMutations()}(n,e,t):n instanceof na?function(r,o,c){if(!Sy(r.precondition,o))return;const f=$N(r.fieldTransforms,c,o),_=o.data;_.setAll(yT(r)),_.setAll(f),o.convertToFoundDocument(_T(o),_).setHasLocalMutations()}(n,e,t):Sy(n.precondition,o=e)&&o.convertToNoDocument(At.min())}function hO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=Sw(r.transform,o||null);null!=c&&(null==t&&(t=xi.empty()),t.set(r.field,c))}return t||null}function mT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&bd(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dd&&r instanceof Dd||t instanceof Cd&&r instanceof Cd?bd(t.elements,r.elements,Ha):t instanceof Td&&r instanceof Td?Ha(t.N,r.N):t instanceof Ed&&r instanceof Ed);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _T(n){return n.isFoundDocument()?n.version:At.min()}class Ay extends vf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class na extends vf{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function yT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jN(n,e,t){const r=new Map;_t(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],f=c.transform,_=e.data.field(c.field);r.set(c.field,dO(f,_,t[o]))}return r}function $N(n,e,t){const r=new Map;for(const o of n){const c=o.transform,f=t.data.field(o.field);r.set(o.field,Xr(c,f,e))}return r}class Ny extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Mw extends vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class HN{constructor(e){this.count=e}}var Dr,Wt;function vT(n){switch(n){default:return Qe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function GN(n){if(void 0===n)return Vr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Dr.OK:return fe.OK;case Dr.CANCELLED:return fe.CANCELLED;case Dr.UNKNOWN:return fe.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return fe.INTERNAL;case Dr.UNAVAILABLE:return fe.UNAVAILABLE;case Dr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Dr.NOT_FOUND:return fe.NOT_FOUND;case Dr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Dr.ABORTED:return fe.ABORTED;case Dr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Dr.DATA_LOSS:return fe.DATA_LOSS;default:return Qe()}}(Wt=Dr||(Dr={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class Ur{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new My(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new My(this.root,e,this.comparator,!1)}getReverseIterator(){return new My(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new My(this.root,e,this.comparator,!0)}}class My{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:mi.RED,this.left=null!=o?o:mi.EMPTY,this.right=null!=c?c:mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new mi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return mi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1,mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qN(this.data.getIterator())}getIteratorFrom(e){return new qN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class qN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const WN=new Ur(Ke.comparator);function go(){return WN}const zN=new Ur(Ke.comparator);function Rw(){return zN}const ZN=new Ur(Ke.comparator);function mo(){return ZN}const YN=new fr(Ke.comparator);function un(...n){let e=YN;for(const t of n)e=e.add(t);return e}const KN=new fr(kt);function Ry(){return KN}class xy{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ng.createSynthesizedTargetChangeForCurrentChange(e,t)),new xy(At.min(),r,Ry(),go(),un())}}class Ng{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ng(pi.EMPTY_BYTE_STRING,t,un(),un(),un())}}class ky{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.F=o}}class bT{constructor(e,t){this.targetId=e,this.O=t}}class bf{constructor(e,t,r=pi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class xw{constructor(){this.M=0,this.L=JN(),this.B=pi.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=un(),t=un(),r=un();return this.L.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Qe()}}),new Ng(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=JN()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class fO{constructor(e){this.et=e,this.nt=new Map,this.st=go(),this.it=wT(),this.rt=new fr(kt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.O.count,o=this.wt(t);if(o){const c=o.target;if(bw(c))if(0===r){const f=new Ke(c.path);this.ct(t,f,Nn.newNoDocument(f,At.min()))}else _t(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,f)=>{const _=this.wt(f);if(_){if(c.current&&bw(_.target)){const w=new Ke(_.target.path);null!==this.st.get(w)||this.yt(f,w)||this.ct(f,w,Nn.newNoDocument(w,e))}c.j&&(t.set(f,c.G()),c.H())}});let r=un();this.it.forEach((c,f)=>{let _=!0;f.forEachWhile(w=>{const T=this.wt(w);return!T||2===T.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const o=new xy(e,t,this.rt,this.st,r);return this.st=go(),this.it=wT(),this.rt=new fr(kt),o}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new xw,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new fr(kt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new xw),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function wT(){return new Ur(Ke.comparator)}function JN(){return new Ur(Ke.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kw{constructor(e,t){this.databaseId=e,this.C=t}}function Mg(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(n,e){return n.C?e.toBase64():e.toUint8Array()}function QN(n,e){return Mg(n,e.toTimestamp())}function _i(n){return _t(!!n),At.fromTimestamp(function(e){const t=wd(e);return new fi(t.seconds,t.nanos)}(n))}function Ow(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DT(n){const e=on.fromString(n);return _t(Pg(e)),e}function Rg(n,e){return Ow(n.databaseId,e.path)}function Cr(n,e){const t=DT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(Fw(t))}function CT(n,e){return Ow(n.databaseId,e)}function Pw(n){const e=DT(n);return 4===e.length?on.emptyPath():Fw(e)}function xg(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fw(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Lw(n,e,t){return{name:Rg(n,e),fields:t.value.mapValue.fields}}function Vw(n,e,t){const r=Cr(n,e.name),o=_i(e.updateTime),c=new xi({mapValue:{fields:e.fields}}),f=Nn.newFoundDocument(r,o,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function wf(n,e){let t;if(e instanceof Ay)t={update:Lw(n,e.key,e.value)};else if(e instanceof Ny)t={delete:Rg(n,e.key)};else if(e instanceof na)t={update:Lw(n,e.key,e.data),updateMask:AT(e.fieldMask)};else{if(!(e instanceof Mw))return Qe();t={verify:Rg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const f=c.transform;if(f instanceof Ed)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Dd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Td)return{fieldPath:c.field.canonicalString(),increment:f.N};throw Qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:QN(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Qe()),t;var o}function kg(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?zn.updateTime(_i(o.updateTime)):void 0!==o.exists?zn.exists(o.exists):zn.none():zn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,f){let _=null;"setToServerValue"in f?(_t("REQUEST_TIME"===f.setToServerValue),_=new Ed):"appendMissingElements"in f?_=new Dd(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new Cd(f.removeAllFromArray.values||[]):"increment"in f?_=new Td(c,f.increment):Qe();const w=Br.fromServerFormat(f.fieldPath);return new Id(w,_)}(n,o)):[];var o;if(e.update){const o=Cr(n,e.update.name),c=new xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new df((e.updateMask.fieldPaths||[]).map(T=>Br.fromServerFormat(T)));return new na(o,c,f,t,r)}return new Ay(o,c,t,r)}if(e.delete){const o=Cr(n,e.delete);return new Ny(o,t)}if(e.verify){const o=Cr(n,e.verify);return new Mw(o,t)}return Qe()}function jw(n,e){return{documents:[CT(n,e.path)]}}function $w(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=CT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=CT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const w=_.map(T=>function(N){if("=="===N.op){if(vw(N.value))return{unaryFilter:{field:Ef(N.field),op:"IS_NAN"}};if(iT(N.value))return{unaryFilter:{field:Ef(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(vw(N.value))return{unaryFilter:{field:Ef(N.field),op:"IS_NOT_NAN"}};if(iT(N.value))return{unaryFilter:{field:Ef(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(N.field),op:Gw(N.op),value:N.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(_){if(0!==_.length)return _.map(w=>{return{field:Ef((T=w).field),direction:eM(T.dir)};var T})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=(w=e.limit,n.C||Xo(w)?w:{value:w});var w;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=IT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=IT(e.endAt)),t}function TT(n){let e=Pw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){_t(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=Hw(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(N=>{return new Cg(Tr((R=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let _=null;t.limit&&(_=function(N){let R;return R="object"==typeof N?N.value:N,Xo(R)?null:R}(t.limit));let w=null;t.startAt&&(w=ST(t.startAt));let T=null;return t.endAt&&(T=ST(t.endAt)),Ew(e,o,f,c,_,"F",w,T)}function Hw(n){return n?void 0!==n.unaryFilter?[Py(n)]:void 0!==n.fieldFilter?[Og(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Hw(e)).reduce((e,t)=>e.concat(t)):Qe():[]}function IT(n){return{before:n.before,values:n.position}}function ST(n){return new gf(n.values||[],!!n.before)}function eM(n){return pO[n]}function Gw(n){return gO[n]}function Ef(n){return{fieldPath:n.canonicalString()}}function Tr(n){return Br.fromServerFormat(n.fieldPath)}function Og(n){return ns.create(Tr(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(n.fieldFilter.op),n.fieldFilter.value)}function Py(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tr(n.unaryFilter.field);return ns.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tr(n.unaryFilter.field);return ns.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tr(n.unaryFilter.field);return ns.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tr(n.unaryFilter.field);return ns.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function AT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pg(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ps(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fg(e)),e=NT(n.get(t),e);return Fg(e)}function NT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Fg(n){return n+"\x01\x01"}function Vu(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const f=n.indexOf("\x01",c);switch((f<0||f>t)&&Qe(),n.charAt(f+1)){case"\x01":const _=n.substring(c,f);let w;0===o.length?w=_:(o+=_,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(c,f),o+="\0";break;case"\x11":o+=n.substring(c,f+1);break;default:Qe()}c=f+2}return new on(r)}class tM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Fs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Fs.store="owner",Fs.key="owner";class Yl{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Yl.store="mutationQueues",Yl.keyPath="userId";class wn{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}wn.store="mutations",wn.keyPath="batchId",wn.userMutationsIndex="userMutationsIndex",wn.userMutationsKeyPath=["userId","batchId"];class ki{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ps(t)]}static key(e,t,r){return[e,Ps(t),r]}}ki.store="documentMutations",ki.PLACEHOLDER=new ki;class nM{constructor(e,t){this.path=e,this.readTime=t}}class rM{constructor(e,t){this.path=e,this.version=t}}class ln{constructor(e,t,r,o,c,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=f}}ln.store="remoteDocuments",ln.readTimeIndex="readTimeIndex",ln.readTimeIndexPath="readTime",ln.collectionReadTimeIndex="collectionReadTimeIndex",ln.collectionReadTimeIndexPath=["parentPath","readTime"];class _s{constructor(e){this.byteSize=e}}_s.store="remoteDocumentGlobal",_s.key="remoteDocumentGlobalKey";class Oi{constructor(e,t,r,o,c,f,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Oi.store="targets",Oi.keyPath="targetId",Oi.queryTargetsIndexName="queryTargetsIndex",Oi.queryTargetsKeyPath=["canonicalId","targetId"];class yi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}yi.store="targetDocuments",yi.keyPath=["targetId","path"],yi.documentTargetsIndex="documentTargetsIndex",yi.documentTargetsKeyPath=["path","targetId"];class Ls{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Ls.key="targetGlobalKey",Ls.store="targetGlobal";class Sd{constructor(e,t){this.collectionId=e,this.parent=t}}Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];class ra{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}ra.store="clientMetadata",ra.keyPath="clientId";class Df{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Df.store="bundles",Df.keyPath="bundleId";class Ad{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Ad.store="namedQueries",Ad.keyPath="name";const MT=[Yl.store,wn.store,ki.store,ln.store,Oi.store,Fs.store,Ls.store,yi.store,ra.store,_s.store,Sd.store,Df.store,Ad.store],RT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,r)=>{t(e)})}static reject(e){return new Te((t,r)=>{r(e)})}static waitFor(e){return new Te((t,r)=>{let o=0,c=0,f=!1;e.forEach(_=>{++o,_.next(()=>{++c,f&&c===o&&t()},w=>r(w))}),f=!0,c===o&&t()})}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next(o=>o?Te.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class _o{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new hi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Kl(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=Fy(r.target.error);this.It.reject(new Kl(e,o))}}static open(e,t,r,o){try{return new _o(t,e.transaction(o,r))}catch(c){throw new Kl(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new iM(t)}}class rs{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===rs.Pt((0,lt.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,lt.hl)())return!1;if(rs.vt())return!0;const e=(0,lt.z$)(),t=rs.Pt(e),r=0<t&&t<10,o=rs.Vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{o(new Kl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const _=f.target.error;o("VersionError"===_.name?new Ie(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ie(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Kl(e,_))},c.onupgradeneeded=f=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Rt.Nt(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,pe.Z)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Ct(e);const w=_o.open(c.db,e,f?"readonly":"readwrite",r),T=o(w).catch(N=>(w.abort(N),Te.reject(N))).toPromise();return T.catch(()=>{}),yield w.At,T}catch(w){const T="FirebaseError"!==w.name&&_<3;if(Oe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Cf{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Nd(this.$t.delete())}}class Kl extends Ie{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yo(n){return"IndexedDbTransactionError"===n.name}class iM{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nd(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}get(e){return Nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(c,f)=>{o.push(f)}).next(()=>o)}qt(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(c,f,_)=>_.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Te((r,o)=>{t.onerror=c=>{const f=Fy(c.target.error);o(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():r()}):r()}})}Ut(e,t){const r=[];return new Te((o,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void o();const w=new Cf(_),T=t(_.primaryKey,_.value,w);if(T instanceof Te){const N=T.catch(R=>(w.done(),Te.reject(R)));r.push(N)}w.isDone?o():null===w.Mt?_.continue():_.continue(w.Mt)}}).next(()=>Te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nd(n){return new Te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Fy(r.target.error);t(o)}})}let kT=!1;function Fy(n){const e=rs.Pt((0,lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kT||(kT=!0,setTimeout(()=>{throw r},0)),r}}return n}class qw extends xT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function is(n,e){const t=Le(n);return rs.Dt(t.Wt,e)}class Ly{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&gT(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Er(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Er(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),un())}isEqual(e){return this.batchId===e.batchId&&bd(this.mutations,e.mutations,(t,r)=>mT(t,r))&&bd(this.baseMutations,e.baseMutations,(t,r)=>mT(t,r))}}class Lg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){_t(e.mutations.length===r.length);let o=mo();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Lg(e,t,r,o)}}class Jl{constructor(e,t,r,o,c=At.min(),f=At.min(),_=pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class OT{constructor(e){this.Gt=e}}function Vy(n,e){if(e.document)return Vw(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Ke.fromSegments(e.noDocument.path),r=Bg(e.noDocument.readTime),o=Nn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Ke.fromSegments(e.unknownDocument.path),r=Bg(e.unknownDocument.version);return Nn.newUnknownDocument(t,r)}return Qe()}function Ql(n,e,t){const r=Vg(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Rg(_=n.Gt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:Mg(_,w.version.toTimestamp())};return new ln(null,null,c,e.hasCommittedMutations,r,o)}var _,w;if(e.isNoDocument()){const c=e.key.path.toArray(),f=Tf(e.version),_=e.hasCommittedMutations;return new ln(null,new nM(c,f),null,_,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),f=Tf(e.version);return new ln(new rM(c,f),null,null,!0,r,o)}return Qe()}function Vg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function PT(n){const e=new fi(n[0],n[1]);return At.fromTimestamp(e)}function Tf(n){const e=n.toTimestamp();return new tM(e.seconds,e.nanoseconds)}function Bg(n){const e=new fi(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Ug(n,e){const t=(e.baseMutations||[]).map(c=>kg(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>kg(n.Gt,c)),o=fi.fromMillis(e.localWriteTimeMs);return new Ly(e.batchId,o,t,r)}function By(n){const e=Bg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bg(n.lastLimboFreeSnapshotVersion):At.min();let r;var o;return void 0!==n.query.documents?(_t(1===(o=n.query).documents.length),r=ta(Ga(Pw(o.documents[0])))):r=ta(TT(n.query)),new Jl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,pi.fromBase64String(n.resumeToken))}function sM(n,e){const t=Tf(e.snapshotVersion),r=Tf(e.lastLimboFreeSnapshotVersion);let o;o=bw(e.target)?jw(n.Gt,e.target):$w(n.Gt,e.target);const c=e.resumeToken.toBase64();return new Oi(e.targetId,Dg(e.target),t,c,e.sequenceNumber,r,o)}function Ww(n){const e=TT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tw(e,e.limit,"L"):e}class oM{getBundleMetadata(e,t){return aM(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Bg(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return aM(e).put({bundleId:(r=t).id,createTime:Tf(_i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return uM(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Ww(o.bundledQuery),readTime:Bg(o.readTime)};var o})}saveNamedQuery(e,t){return uM(e).put({name:(r=t).name,readTime:Tf(_i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function aM(n){return is(n,Df.store)}function uM(n){return is(n,Ad.store)}class mO{constructor(){this.zt=new FT}addToCollectionParentIndex(e,t){return this.zt.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.zt.getEntries(t))}}class FT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new fr(on.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new fr(on.comparator)).toArray()}}class lM{constructor(){this.Ht=new FT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:r,parent:Ps(o)};return cM(e).put(c)}return Te.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[AN(t),""],!1,!0);return cM(e).Bt(o).next(c=>{for(const f of c){if(f.collectionId!==t)break;r.push(Vu(f.parent))}return r})}}function cM(n){return is(n,Sd.store)}const dM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vs(e,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hM(n,e,t){const r=n.store(wn.store),o=n.store(ki.store),c=[],f=IDBKeyRange.only(t.batchId);let _=0;const w=r.jt({range:f},(N,R,V)=>(_++,V.delete()));c.push(w.next(()=>{_t(1===_)}));const T=[];for(const N of t.mutations){const R=ki.key(e,N.key.path,t.batchId);c.push(o.delete(R)),T.push(N.key)}return Te.waitFor(c).next(()=>T)}function i(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Qe();e=n.noDocument}return JSON.stringify(e).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class s{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){_t(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new s(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return l(e).jt({index:wn.userMutationsIndex,range:r},(o,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=d(e),f=l(e);return f.add({}).next(_=>{_t("number"==typeof _);const w=new Ly(_,t,r,o),T=function(V,H,ee){const me=ee.baseMutations.map(Xe=>wf(V.Gt,Xe)),Ce=ee.mutations.map(Xe=>wf(V.Gt,Xe));return new wn(H,ee.batchId,ee.localWriteTime.toMillis(),me,Ce)}(this.k,this.userId,w),N=[];let R=new fr((V,H)=>kt(V.canonicalString(),H.canonicalString()));for(const V of o){const H=ki.key(this.userId,V.key.path,_);R=R.add(V.key.path.popLast()),N.push(f.put(T)),N.push(c.put(H,ki.PLACEHOLDER))}return R.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[_]=w.keys()}),Te.waitFor(N).next(()=>w)})}lookupMutationBatch(e,t){return l(e).get(t).next(r=>r?(_t(r.userId===this.userId),Ug(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Te.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return l(e).jt({index:wn.userMutationsIndex,range:o},(f,_,w)=>{_.userId===this.userId&&(_t(_.batchId>=r),c=Ug(this.k,_)),w.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return l(e).jt({index:wn.userMutationsIndex,range:t,reverse:!0},(o,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return l(e).Bt(wn.userMutationsIndex,t).next(r=>r.map(o=>Ug(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ki.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return d(e).jt({range:o},(f,_,w)=>{const[T,N,R]=f,V=Vu(N);if(T===this.userId&&t.path.isEqual(V))return l(e).get(R).next(H=>{if(!H)throw Qe();_t(H.userId===this.userId),c.push(Ug(this.k,H))});w.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(kt);const o=[];return t.forEach(c=>{const f=ki.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(f),w=d(e).jt({range:_},(T,N,R)=>{const[V,H,ee]=T,me=Vu(H);V===this.userId&&c.path.isEqual(me)?r=r.add(ee):R.done()});o.push(w)}),Te.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=ki.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let _=new fr(kt);return d(e).jt({range:f},(w,T,N)=>{const[R,V,H]=w,ee=Vu(V);R===this.userId&&r.isPrefixOf(ee)?ee.length===o&&(_=_.add(H)):N.done()}).next(()=>this.te(e,_))}te(e,t){const r=[],o=[];return t.forEach(c=>{o.push(l(e).get(c).next(f=>{if(null===f)throw Qe();_t(f.userId===this.userId),r.push(Ug(this.k,f))}))}),Te.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return hM(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Te.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound(ki.prefixForUser(this.userId)),o=[];return d(e).jt({range:r},(c,f,_)=>{if(c[0]===this.userId){const w=Vu(c[1]);o.push(w)}else _.done()}).next(()=>{_t(0===o.length)})})}containsKey(e,t){return a(e,this.userId,t)}ne(e){return h(e).get(this.userId).next(t=>t||new Yl(this.userId,-1,""))}}function a(n,e,t){const r=ki.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return d(n).jt({range:c,Kt:!0},(_,w,T)=>{const[N,R,V]=_;N===e&&R===o&&(f=!0),T.done()}).next(()=>f)}function l(n){return is(n,wn.store)}function d(n){return is(n,ki.store)}function h(n){return is(n,Yl.store)}class m{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new m(0)}static re(){return new m(-1)}}class v{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new m(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>At.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ae(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>E(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return E(e).jt((f,_)=>{const w=By(_);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,c.push(this.removeTargetData(e,w)))}).next(()=>Te.waitFor(c)).next(()=>o)}forEachTarget(e,t){return E(e).jt((r,o)=>{const c=By(o);t(c)})}oe(e){return C(e).get(Ls.key).next(t=>(_t(null!==t),t))}ae(e,t){return C(e).put(Ls.key,t)}ce(e,t){return E(e).put(sM(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Dg(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return E(e).jt({range:o,index:Oi.queryTargetsIndexName},(f,_,w)=>{const T=By(_);Ty(t,T.target)&&(c=T,w.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=A(e);return t.forEach(f=>{const _=Ps(f.path);o.push(c.put(new yi(r,_))),o.push(this.referenceDelegate.addReference(e,r,f))}),Te.waitFor(o)}removeMatchingKeys(e,t,r){const o=A(e);return Te.forEach(t,c=>{const f=Ps(c.path);return Te.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=A(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=A(e);let c=un();return o.jt({range:r,Kt:!0},(f,_,w)=>{const T=Vu(f[1]),N=new Ke(T);c=c.add(N)}).next(()=>c)}containsKey(e,t){const r=Ps(t.path),o=IDBKeyRange.bound([r],[AN(r)],!1,!0);let c=0;return A(e).jt({index:yi.documentTargetsIndex,Kt:!0,range:o},([f,_],w,T)=>{0!==f&&(c++,T.done())}).next(()=>c>0)}Et(e,t){return E(e).get(t).next(r=>r?By(r):null)}}function E(n){return is(n,Oi.store)}function C(n){return is(n,Ls.store)}function A(n){return is(n,yi.store)}function k(n){return O.apply(this,arguments)}function O(){return(O=(0,pe.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==RT)throw n;Oe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function $([n,e],[t,r]){const o=kt(n,t);return 0===o?kt(e,r):o}class Y{constructor(e){this.he=e,this.buffer=new fr($),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class le{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Oe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){yo(o)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield k(o)}yield t.me(e)}))}}class ne{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(ms.I);const r=new Y(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(dM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dM):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,c,f,_,w,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,_=Date.now(),this.removeTargets(e,r,t))).next(R=>(c=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(T=Date.now(),fw()<=Qo.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-N}ms\n\tDetermined least recently used ${o} in `+(_-f)+`ms\n\tRemoved ${c} targets in `+(w-_)+`ms\n\tRemoved ${R} documents in `+(T-w)+`ms\nTotal Duration: ${T-N}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class Me{constructor(e,t){this.db=e,this.garbageCollector=new ne(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return ge(e,r)}removeReference(e,t,r){return ge(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ge(e,t)}Ae(e,t){return function(r,o){let c=!1;return h(r).Qt(f=>a(r,f,o).next(_=>(_&&(c=!0),Te.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ie(e,(f,_)=>{if(_<=t){const w=this.Ae(e,f).next(T=>{if(!T)return c++,r.getEntry(e,f).next(()=>(r.removeEntry(f),A(e).delete([0,Ps(f.path)])))});o.push(w)}}).next(()=>Te.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ge(e,t)}Ie(e,t){const r=A(e);let o,c=ms.I;return r.jt({index:yi.documentTargetsIndex},([f,_],{path:w,sequenceNumber:T})=>{0===f?(c!==ms.I&&t(new Ke(Vu(o)),c),c=T,o=w):c=ms.I}).next(()=>{c!==ms.I&&t(new Ke(Vu(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ge(n,e){return A(n).put((r=n.currentSequenceNumber,new yi(0,Ps(e.path),r)));var r}class We{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){cf(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return yg(this.inner)}}class dt{constructor(){this.changes=new We(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:At.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Nn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Te.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ut{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return vo(e).put(Bu(t),r)}removeEntry(e,t){const r=vo(e),o=Bu(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return vo(e).get(Bu(t)).next(r=>this.Pe(t,r))}be(e,t){return vo(e).get(Bu(t)).next(r=>({document:this.Pe(t,r),size:i(r)}))}getEntries(e,t){let r=go();return this.ve(e,t,(o,c)=>{const f=this.Pe(o,c);r=r.insert(o,f)}).next(()=>r)}Ve(e,t){let r=go(),o=new Ur(Ke.comparator);return this.ve(e,t,(c,f)=>{const _=this.Pe(c,f);r=r.insert(c,_),o=o.insert(c,i(f))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Te.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let f=c.getNext();return vo(e).jt({range:o},(_,w,T)=>{const N=Ke.fromSegments(_);for(;f&&Ke.comparator(f,N)<0;)r(f,null),f=c.getNext();f&&f.isEqual(N)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?T.Lt(f.path.toArray()):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=go();const c=t.path.length+1,f={};if(r.isEqual(At.min())){const _=t.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),w=Vg(r);f.range=IDBKeyRange.lowerBound([_,w],!0),f.index=ln.collectionReadTimeIndex}return vo(e).jt(f,(_,w,T)=>{if(_.length!==c)return;const N=Vy(this.k,w);t.path.isPrefixOf(N.key.path)?Sg(t,N)&&(o=o.insert(N.key,N)):T.done()}).next(()=>o)}newChangeBuffer(e){return new jr(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bs(e).get(_s.key).next(t=>(_t(!!t),t))}Re(e,t){return Bs(e).put(_s.key,t)}Pe(e,t){if(t){const r=Vy(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return Nn.newInvalidDocument(e)}}class jr extends dt{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new We(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new fr((c,f)=>kt(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const _=this.Ce.get(c);if(f.document.isValidDocument()){const w=Ql(this.De.k,f.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=i(w)-_,t.push(this.De.addEntry(e,c,w))}else if(r-=_,this.trackRemovals){const w=Ql(this.De.k,Nn.newNoDocument(c,At.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,w))}else t.push(this.De.removeEntry(e,c))}),o.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((c,f)=>{this.Ce.set(c,f)}),r))}}function Bs(n){return is(n,_s.store)}function vo(n){return is(n,ln.store)}function Bu(n){return n.path.toArray()}class If{constructor(e){this.k=e}Nt(e,t,r,o){_t(r<o&&r>=0&&o<=11);const c=new _o("createOrUpgrade",t);var _;r<1&&o>=1&&(e.createObjectStore(Fs.store),(_=e).createObjectStore(Yl.store,{keyPath:Yl.keyPath}),_.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(ki.store),Md(e),function(_){_.createObjectStore(ln.store)}(e));let f=Te.resolve();return r<3&&o>=3&&(0!==r&&(function(_){_.deleteObjectStore(yi.store),_.deleteObjectStore(Oi.store),_.deleteObjectStore(Ls.store)}(e),Md(e)),f=f.next(()=>function(_){const w=_.store(Ls.store),T=new Ls(0,0,At.min().toTimestamp(),0);return w.put(Ls.key,T)}(c))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(_,w){return w.store(wn.store).Bt().next(T=>{_.deleteObjectStore(wn.store),_.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0});const N=w.store(wn.store),R=T.map(V=>N.put(V));return Te.waitFor(R)})}(e,c))),f=f.next(()=>{!function(_){_.createObjectStore(ra.store,{keyPath:ra.keyPath})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Ne(c))),r<6&&o>=6&&(f=f.next(()=>(function(_){_.createObjectStore(_s.store)}(e),this.ke(c)))),r<7&&o>=7&&(f=f.next(()=>this.xe(c))),r<8&&o>=8&&(f=f.next(()=>this.$e(e,c))),r<9&&o>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const w=_.objectStore(ln.store);w.createIndex(ln.readTimeIndex,ln.readTimeIndexPath,{unique:!1}),w.createIndex(ln.collectionReadTimeIndex,ln.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(f=f.next(()=>this.Fe(c))),r<11&&o>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(Df.store,{keyPath:Df.keyPath})})(e),function(_){_.createObjectStore(Ad.store,{keyPath:Ad.keyPath})}(e)})),f}ke(e){let t=0;return e.store(ln.store).jt((r,o)=>{t+=i(o)}).next(()=>{const r=new _s(t);return e.store(_s.store).put(_s.key,r)})}Ne(e){const t=e.store(Yl.store),r=e.store(wn.store);return t.Bt().next(o=>Te.forEach(o,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Bt(wn.userMutationsIndex,f).next(_=>Te.forEach(_,w=>{_t(w.userId===c.userId);const T=Ug(this.k,w);return hM(e,c.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(yi.store),r=e.store(ln.store);return e.store(Ls.store).get(Ls.key).next(o=>{const c=[];return r.jt((f,_)=>{const w=new on(f),T=[0,Ps(w)];c.push(t.get(T).next(N=>N?Te.resolve():t.put(new yi(0,Ps(w),o.highestListenSequenceNumber))))}).next(()=>Te.waitFor(c))})}$e(e,t){e.createObjectStore(Sd.store,{keyPath:Sd.keyPath});const r=t.store(Sd.store),o=new FT,c=f=>{if(o.add(f)){const _=f.lastSegment(),w=f.popLast();return r.put({collectionId:_,parent:Ps(w)})}};return t.store(ln.store).jt({Kt:!0},(f,_)=>{const w=new on(f);return c(w.popLast())}).next(()=>t.store(ki.store).jt({Kt:!0},([f,_,w],T)=>{const N=Vu(_);return c(N.popLast())}))}Fe(e){const t=e.store(Oi.store);return t.jt((r,o)=>{const c=By(o),f=sM(this.k,c);return t.put(f)})}}function Md(n){n.createObjectStore(yi.store,{keyPath:yi.keyPath}).createIndex(yi.documentTargetsIndex,yi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Oi.store,{keyPath:Oi.keyPath}).createIndex(Oi.queryTargetsIndexName,Oi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ls.store)}const jg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $g{constructor(e,t,r,o,c,f,_,w,T,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=f,this.document=_,this.Me=T,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=R=>Promise.resolve(),!$g.bt())throw new Ie(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Me(this,o),this.Ge=t+"main",this.k=new OT(w),this.ze=new rs(this.Ge,11,new If(this.k)),this.He=new v(this.referenceDelegate,this.k),this.Jt=new lM,this.Je=new Ut(this.k,this.Jt),this.Ye=new oM,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(fe.FAILED_PRECONDITION,jg);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ms(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,pe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sf(e).put(new ra(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(yo(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Rd(e).get(Fs.key).next(t=>Te.resolve(this.un(t)))}hn(e){return Sf(e).delete(this.clientId)}ln(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=is(r,ra.store);return o.Bt().next(c=>{const f=e.dn(c,18e5),_=c.filter(w=>-1===f.indexOf(w));return Te.forEach(_,w=>o.delete(w.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Te.resolve(!0):Rd(e).get(Fs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ie(fe.FAILED_PRECONDITION,jg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sf(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Fs.store,ra.store],t=>{const r=new qw(t,ms.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Sf(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return s.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let c;return Oe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",MT,f=>(c=new qw(f,this.Be?this.Be.next():ms.I),"readwrite-primary"===t?this.rn(c).next(_=>!!_||this.on(c)).next(_=>{if(!_)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Ie(fe.FAILED_PRECONDITION,RT);return r(c)}).next(_=>this.cn(c).next(()=>_)):this.En(c).next(()=>r(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}En(e){return Rd(e).get(Fs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ie(fe.FAILED_PRECONDITION,jg)})}cn(e){const t=new Fs(this.clientId,this.allowTabSynchronization,Date.now());return Rd(e).put(Fs.key,t)}static bt(){return rs.bt()}an(e){const t=Rd(e);return t.get(Fs.key).next(r=>this.un(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete(Fs.key)):Te.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rd(n){return is(n,Fs.store)}function Sf(n){return is(n,ra.store)}function Hg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _L{constructor(e,t){this.progress=e,this.In=t}}class _O{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):lT(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new Ke(t)).next(r=>{let o=Rw();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let c=Rw();return this.Jt.getCollectionParents(e,o).next(f=>Te.forEach(f,_=>{const w=(T=t,N=_.child(o),new Lu(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Cn(e,w,r).next(T=>{T.forEach((N,R)=>{c=c.insert(N,R)})})}).next(()=>c))}Cn(e,t,r){let o,c;return this.Je.getDocumentsMatchingQuery(e,t,r).next(f=>(o=f,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(c=f,this.Nn(e,c,o).next(_=>{o=_;for(const w of c)for(const T of w.mutations){const N=T.key;let R=o.get(N);null==R&&(R=Nn.newInvalidDocument(N),o=o.insert(N,R)),Er(T,R,w.localWriteTime),R.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((f,_)=>{Sg(t,_)||(o=o.remove(f))}),o))}Nn(e,t,r){let o=un();for(const f of t)for(const _ of f.mutations)_ instanceof na&&null===r.get(_.key)&&(o=o.add(_.key));let c=r;return this.Je.getEntries(e,o).next(f=>(f.forEach((_,w)=>{w.isFoundDocument()&&(c=c.insert(_,w))}),c))}}class fM{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=un(),o=un();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new fM(e,t.fromCache,r,o)}}class yO{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.Mn(e,t):this.On.vn(e,o).next(c=>{const f=this.Ln(t,c);return(mf(t)||Tg(t))&&this.Bn(t.limitType,f,o,r)?this.Mn(e,t):(fw()<=Qo.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Iw(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(f.forEach(w=>{_=_.insert(w.key,w)}),_)))});var c}Ln(e,t){let r=new fr(dT(e));return t.forEach((o,c)=>{Sg(e,c)&&(r=r.add(c))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Mn(e,t){return fw()<=Qo.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Iw(t)),this.On.getDocumentsMatchingQuery(e,t,At.min())}}class yL{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new Ur(kt),this.Kn=new We(c=>Dg(c),Ty),this.jn=At.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new _O(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function vO(n,e,t,r){return new yL(n,e,t,r)}function bO(n,e){return pM.apply(this,arguments)}function pM(){return(pM=(0,pe.Z)(function*(n,e){const t=Le(n);let r=t.An,o=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let _;return t.An.getAllMutationBatches(f).next(w=>(_=w,r=t.persistence.getMutationQueue(e),o=new _O(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(w=>{const T=[],N=[];let R=un();for(const V of _){T.push(V.batchId);for(const H of V.mutations)R=R.add(H.key)}for(const V of w){N.push(V.batchId);for(const H of V.mutations)R=R.add(H.key)}return o.vn(f,R).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:N}))})});return t.An=r,t.Wn=o,t.Un.Fn(t.Wn),c})).apply(this,arguments)}function vL(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(f,_,w,T){const N=w.batch,R=N.keys();let V=Te.resolve();return R.forEach(H=>{V=V.next(()=>T.getEntry(_,H)).next(ee=>{const me=w.docVersions.get(H);_t(null!==me),ee.version.compareTo(me)<0&&(N.applyToRemoteDocument(ee,w),ee.isValidDocument()&&T.addEntry(ee,w.commitVersion))})}),V.next(()=>f.An.removeMutationBatch(_,N))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function wO(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function bL(n,e){const t=Le(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const _=[];e.targetChanges.forEach((T,N)=>{const R=o.get(N);if(!R)return;_.push(t.He.removeMatchingKeys(c,T.removedDocuments,N).next(()=>t.He.addMatchingKeys(c,T.addedDocuments,N)));const V=T.resumeToken;if(V.approximateByteSize()>0){const H=R.withResumeToken(V,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(N,H),ee=R,Ce=T,_t((me=H).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Ce.addedDocuments.size+Ce.modifiedDocuments.size+Ce.removedDocuments.size>0)&&_.push(t.He.updateTargetData(c,H))}var ee,me,Ce});let w=go();if(e.documentUpdates.forEach((T,N)=>{e.resolvedLimboDocuments.has(T)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),_.push(EO(c,f,e.documentUpdates,r,void 0).next(T=>{w=T})),!r.isEqual(At.min())){const T=t.He.getLastRemoteSnapshotVersion(c).next(N=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(T)}return Te.waitFor(_).next(()=>f.apply(c)).next(()=>t.Wn.Vn(c,w)).next(()=>w)}).then(c=>(t.qn=o,c))}function EO(n,e,t,r,o){let c=un();return t.forEach(f=>c=c.add(f)),e.getEntries(n,c).next(f=>{let _=go();return t.forEach((w,T)=>{const N=f.get(w),R=(null==o?void 0:o.get(w))||r;T.isNoDocument()&&T.version.isEqual(At.min())?(e.removeEntry(w,R),_=_.insert(w,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(T,R),_=_.insert(w,T)):Oe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",N.version," Watch version:",T.version)}),_})}function wL(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Uy(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(c=>c?(o=c,Te.resolve(o)):t.He.allocateTargetId(r).next(f=>(o=new Jl(e,f,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function jy(n,e,t){return gM.apply(this,arguments)}function gM(){return(gM=(0,pe.Z)(function*(n,e,t){const r=Le(n),o=r.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yo(f))throw f;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function LT(n,e,t){const r=Le(n);let o=At.min(),c=un();return r.persistence.runTransaction("Execute query","readonly",f=>function(_,w,T){const N=Le(_),R=N.Kn.get(T);return void 0!==R?Te.resolve(N.qn.get(R)):N.He.getTargetData(w,T)}(r,f,ta(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(f,_.targetId).next(w=>{c=w})}).next(()=>r.Un.getDocumentsMatchingQuery(f,e,t?o:At.min(),t?c:un())).next(_=>({documents:_,zn:c})))}function DO(n,e){const t=Le(n),r=Le(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Et(c,e).next(f=>f?f.target:null))}function CO(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const f=Le(r);let _=go(),w=Vg(c);const T=vo(o),N=IDBKeyRange.lowerBound(w,!0);return T.jt({index:ln.readTimeIndex,range:N},(R,V)=>{const H=Vy(f.k,V);_=_.insert(H.key,H),w=V.readTime}).next(()=>({In:_,readTime:PT(w)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function mM(){return(mM=(0,pe.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=vo(r);let c=At.min();return o.jt({index:ln.readTimeIndex,reverse:!0},(f,_,w)=>{_.readTime&&(c=PT(_.readTime)),w.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function _M(){return(_M=(0,pe.Z)(function*(n,e,t,r){const o=Le(n);let c=un(),f=go(),_=mo();for(const N of t){const R=e.Hn(N.metadata.name);N.document&&(c=c.add(R)),f=f.insert(R,e.Jn(N)),_=_.insert(R,e.Yn(N.metadata.readTime))}const w=o.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Uy(o,(N=r,ta(Ga(on.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>EO(N,w,f,At.min(),_).next(R=>(w.apply(N),R)).next(R=>o.He.removeMatchingKeysForTargetId(N,T.targetId).next(()=>o.He.addMatchingKeys(N,c,T.targetId)).next(()=>o.Wn.Vn(N,R)).next(()=>R)))})).apply(this,arguments)}function CL(n,e){return yM.apply(this,arguments)}function yM(){return(yM=(0,pe.Z)(function*(n,e,t=un()){const r=yield Uy(n,ta(Ww(e.bundledQuery))),o=Le(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const f=_i(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.Ye.saveNamedQuery(c,e);const _=r.withResumeToken(pi.EMPTY_BYTE_STRING,f);return o.qn=o.qn.insert(_.targetId,_),o.He.updateTargetData(c,_).next(()=>o.He.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.He.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(c,e))})})).apply(this,arguments)}class TL{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:_i(r.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:Ww(r.bundledQuery),readTime:_i(r.readTime)}),Te.resolve();var r}}class vM{constructor(){this.ts=new fr(Pi.es),this.ns=new fr(Pi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Pi(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Pi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Ke(new on([])),r=new Pi(t,e),o=new Pi(t,e+1),c=[];return this.ns.forEachInRange([r,o],f=>{this.os(f),c.push(f.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Ke(new on([])),r=new Pi(t,e),o=new Pi(t,e+1);let c=un();return this.ns.forEachInRange([r,o],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Pi(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Ke.comparator(e.key,t.key)||kt(e.fs,t.fs)}static ss(e,t){return kt(e.fs,t.fs)||Ke.comparator(e.key,t.key)}}class IL{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new fr(Pi.es)}checkEmpty(e){return Te.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const c=this.ds;this.ds++;const f=new Ly(c,t,r,o);this.An.push(f);for(const _ of o)this.ws=this.ws.add(new Pi(_.key,c)),this.Jt.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(f)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),c=o<0?0:o;return Te.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Te.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pi(t,0),o=new Pi(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([r,o],f=>{const _=this._s(f.fs);c.push(_)}),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(kt);return t.forEach(o=>{const c=new Pi(o,0),f=new Pi(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,f],_=>{r=r.add(_.fs)})}),Te.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Ke.isDocumentKey(c)||(c=c.child(""));const f=new Pi(new Ke(c),0);let _=new fr(kt);return this.ws.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(_=_.add(w.fs)),!0)},f),Te.resolve(this.ys(_))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){_t(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Te.forEach(t.mutations,o=>{const c=new Pi(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Pi(t,0),o=this.ws.firstAfterOrEqual(r);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Te.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class SL{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Ur(Ke.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),f=c?c.size:0,_=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:_,readTime:r}),this.size+=_-f,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.clone():Nn.newInvalidDocument(t))}getEntries(e,t){let r=go();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Nn.newInvalidDocument(o))}),Te.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=go();const c=new Ke(t.path.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:_,value:{document:w,readTime:T}}=f.getNext();if(!t.path.isPrefixOf(_.path))break;T.compareTo(r)<=0||Sg(t,w)&&(o=o.insert(w.key,w.clone()))}return Te.resolve(o)}Es(e,t){return Te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AL(this)}getSize(e){return Te.resolve(this.size)}}class AL extends dt{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Te.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class NL{constructor(e){this.persistence=e,this.Is=new We(t=>Dg(t),Ty),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.As=0,this.Rs=new vM,this.targetCount=0,this.Ps=m.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Te.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new m(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.ce(t),Te.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Is.forEach((f,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Is.delete(f),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),Te.waitFor(c).next(()=>o)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.Rs.containsKey(t))}}class ML{constructor(e,t){this.bs={},this.Be=new ms(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new NL(this),this.Jt=new mO,this.Je=new SL(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new OT(t),this.Ye=new TL(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new IL(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new RL(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(c=>this.referenceDelegate.Ss(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ds(e,t){return Te.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class RL extends xT{constructor(e){super(),this.currentSequenceNumber=e}}class bM{constructor(e){this.persistence=e,this.Cs=new vM,this.Ns=null}static ks(e){return new bM(e)}get xs(){if(this.Ns)return this.Ns;throw Qe()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,r=>{const o=Ke.fromPath(r);return this.$s(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function TO(n,e){return`firestore_clients_${n}_${e}`}function IO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wM(n,e){return`firestore_targets_${n}_${e}`}class VT{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Fs(e,t,r){const o=JSON.parse(r);let c,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(c=new Ie(o.error.code,o.error.message))),f?new VT(e,t,o.state,c):(Vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ie(r.error.code,r.error.message))),c?new zw(e,r.state,o):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Ry();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=rT(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return o?new BT(e,c):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class EM{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new EM(t.clientId,t.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DM{constructor(){this.activeTargetIds=Ry()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ur(kt),this.started=!1,this.js=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=TO(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new DM),this.Gs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const c=e.getItem(TO(e.persistenceKey,o));if(c){const f=BT.Fs(o,c);f&&(e.Ks=e.Ks.insert(f.clientId,f))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wM(this.persistenceKey,e));if(r){const o=zw.Fs(e,r);o&&(t=o.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wM(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(c){let f=ms.I;if(null!=c)try{const _=JSON.parse(c);_t("number"==typeof _),f=_}catch(_){Vr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(r.newValue);o!==ms.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const o=new VT(this.currentUser,e,t,r),c=IO(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}si(e){const t=IO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=wM(this.persistenceKey,e),c=new zw(e,t,r);this.setItem(o,c.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return BT.Fs(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return VT.Fs(new Ri(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return zw.Fs(o,t)}Zs(e){return EM.Fs(e)}fi(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),c=this.ei(r),f=[],_=[];return c.forEach(w=>{o.has(w)||f.push(w)}),o.forEach(w=>{c.has(w)||_.push(w)}),this.syncEngine.yi(f,_).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Ry();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class SO{constructor(){this.pi=new DM,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new DM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class xL{Ei(e){}shutdown(){}}class AO{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class OL{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class PL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,c){const f=this.Ui(e,t);Oe("RestConnection","Sending: ",f,r);const _={};return this.qi(_,o,c),this.Ki(e,f,_,r).then(w=>(Oe("RestConnection","Received: ",w),w),w=>{throw _g("RestConnection",`${e} failed with error: `,w,"url: ",f,"request:",r),w})}ji(e,t,r,o,c){return this.Bi(e,t,r,o,c)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}Ui(e,t){return`${this.Mi}/v1/${t}:${kL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((c,f)=>{const _=new iO;_.listenOnce(tO.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case JC.NO_ERROR:const T=_.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(T)),c(T);break;case JC.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),f(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case JC.HTTP_ERROR:const N=_.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const R=_.getResponseJson().error;if(R&&R.status&&R.message){const V=function(H){const ee=H.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(ee)>=0?ee:fe.UNKNOWN}(R.status);f(new Ie(V,R.message))}else f(new Ie(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);_.send(t,"POST",w,r,15)})}Qi(e,t,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Xk(),f=eO(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new rO({})),this.qi(_.initMessageHeaders,t,r),(0,lt.uI)()||(0,lt.b$)()||(0,lt.d)()||(0,lt.w1)()||(0,lt.Mn)()||(0,lt.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const w=o.join("");Oe("Connection","Creating WebChannel: "+w,_);const T=c.createWebChannel(w,_);let N=!1,R=!1;const V=new OL({Vi:ee=>{R?Oe("Connection","Not sending because WebChannel is closed:",ee):(N||(Oe("Connection","Opening WebChannel transport."),T.open(),N=!0),Oe("Connection","WebChannel sending:",ee),T.send(ee))},Si:()=>T.close()}),H=(ee,me,Ce)=>{ee.listen(me,Xe=>{try{Ce(Xe)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return H(T,hw.EventType.OPEN,()=>{R||Oe("Connection","WebChannel transport opened.")}),H(T,hw.EventType.CLOSE,()=>{R||(R=!0,Oe("Connection","WebChannel transport closed"),V.Fi())}),H(T,hw.EventType.ERROR,ee=>{R||(R=!0,_g("Connection","WebChannel transport errored:",ee),V.Fi(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))}),H(T,hw.EventType.MESSAGE,ee=>{var me;if(!R){const Ce=ee.data[0];_t(!!Ce);const Xe=Ce,Ze=Xe.error||(null===(me=Xe[0])||void 0===me?void 0:me.error);if(Ze){Oe("Connection","WebChannel received error:",Ze);const Ct=Ze.status;let nt=function($r){const $u=Dr[$r];if(void 0!==$u)return GN($u)}(Ct),Kt=Ze.message;void 0===nt&&(nt=fe.INTERNAL,Kt="Unknown error status: "+Ct+" with message "+Ze.message),R=!0,V.Fi(new Ie(nt,Kt)),T.close()}else Oe("Connection","WebChannel received:",Ce),V.Oi(Ce)}}),H(f,nO.STAT_EVENT,ee=>{ee.stat===DN.PROXY?Oe("Connection","Detected buffering proxy"):ee.stat===DN.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function NO(){return"undefined"!=typeof window?window:null}function UT(){return"undefined"!=typeof document?document:null}function Zw(n){return new kw(n,!0)}class TM{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class MO{constructor(e,t,r,o,c,f,_,w){this.Oe=e,this.nr=r,this.sr=o,this.ir=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=w,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new TM(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,pe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,pe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,pe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FL extends MO{constructor(e,t,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Qe(),o=e.targetChange.targetIds||[],c=function(w,T){return w.C?(_t(void 0===T||"string"==typeof T),pi.fromBase64String(T||"")):(_t(void 0===T||T instanceof Uint8Array),pi.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(w){const T=void 0===w.code?fe.UNKNOWN:GN(w.code);return new Ie(T,w.message||"")}(f);t=new bf(r,o,c,_||null)}else if("documentChange"in e){const r=e.documentChange,o=Cr(n,r.document.name),c=_i(r.document.updateTime),f=new xi({mapValue:{fields:r.document.fields}}),_=Nn.newFoundDocument(o,c,f);t=new ky(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Cr(n,r.document),c=r.readTime?_i(r.readTime):At.min(),f=Nn.newNoDocument(o,c);t=new ky([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=Cr(n,r.document);t=new ky([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Qe();{const r=e.filter,c=new HN(r.count||0);t=new bT(r.targetId,c)}}var w;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return At.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?_i(c.readTime):At.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=xg(this.k),t.addTarget=function(o,c){let f;const _=c.target;return f=bw(_)?{documents:jw(o,_)}:{query:$w(o,_)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=ET(o,c.resumeToken):c.snapshotVersion.compareTo(At.min())>0&&(f.readTime=Mg(o,c.snapshotVersion.toTimestamp())),f}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=xg(this.k),t.removeTarget=e,this.gr(t)}}class LL extends MO{constructor(e,t,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,o){let c=_i(r.updateTime?r.updateTime:o);return c.isEqual(At.min())&&(c=_i(o)),new UN(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.Cr(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=xg(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wf(this.k,r))};this.gr(t)}}class VL extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.Bi(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(fe.UNKNOWN,o.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.ji(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(fe.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class BL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Vr(t),this.Lr=!1):Oe("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class UL{constructor(e,t,r,o,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(_=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Af(f)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(T){const N=Le(T);N.Gr.add(4),yield $y(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield Yw(N)}),function(T){return w.apply(this,arguments)})(f))}))}),this.Jr=new BL(r,o)}}function Yw(n){return IM.apply(this,arguments)}function IM(){return(IM=(0,pe.Z)(function*(n){if(Af(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function $y(n){return SM.apply(this,arguments)}function SM(){return(SM=(0,pe.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function jT(n,e){const t=Le(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),MM(t)?NM(t):Gy(t).lr()&&AM(t,e))}function Kw(n,e){const t=Le(n),r=Gy(t);t.Wr.delete(e),r.lr()&&RO(t,e),0===t.Wr.size&&(r.lr()?r._r():Af(t)&&t.Jr.set("Unknown"))}function AM(n,e){n.Yr.X(e.targetId),Gy(n).br(e)}function RO(n,e){n.Yr.X(e),Gy(n).vr(e)}function NM(n){n.Yr=new fO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Gy(n).start(),n.Jr.Br()}function MM(n){return Af(n)&&!Gy(n).hr()&&n.Wr.size>0}function Af(n){return 0===Le(n).Gr.size}function xO(n){n.Yr=void 0}function jL(n){return RM.apply(this,arguments)}function RM(){return(RM=(0,pe.Z)(function*(n){n.Wr.forEach((e,t)=>{AM(n,e)})})).apply(this,arguments)}function $L(n,e){return xM.apply(this,arguments)}function xM(){return(xM=(0,pe.Z)(function*(n,e){xO(n),MM(n)?(n.Jr.Kr(e),NM(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function HL(n,e,t){return kM.apply(this,arguments)}function kM(){return(kM=(0,pe.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof bf&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(o,c){const f=c.cause;for(const _ of c.targetIds)o.Wr.has(_)&&(yield o.remoteSyncer.rejectListen(_,f),o.Wr.delete(_),o.Yr.removeTarget(_))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $T(n,r)}else if(e instanceof ky?n.Yr.ot(e):e instanceof bT?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(At.min()))try{const r=yield wO(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const f=o.Yr.gt(c);return f.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const T=o.Wr.get(w);T&&o.Wr.set(w,T.withResumeToken(_.resumeToken,c))}}),f.targetMismatches.forEach(_=>{const w=o.Wr.get(_);if(!w)return;o.Wr.set(_,w.withResumeToken(pi.EMPTY_BYTE_STRING,w.snapshotVersion)),RO(o,_);const T=new Jl(w.target,_,1,w.sequenceNumber);AM(o,T)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield $T(n,r)}var r})).apply(this,arguments)}function $T(n,e,t){return OM.apply(this,arguments)}function OM(){return(OM=(0,pe.Z)(function*(n,e,t){if(!yo(e))throw e;n.Gr.add(1),yield $y(n),n.Jr.set("Offline"),t||(t=()=>wO(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Yw(n)}))})).apply(this,arguments)}function kO(n,e){return e().catch(t=>$T(n,t,e))}function Hy(n){return PM.apply(this,arguments)}function PM(){return(PM=(0,pe.Z)(function*(n){const e=Le(n),t=Nf(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;GL(e);)try{const o=yield wL(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,qL(e,o)}catch(o){yield $T(e,o)}OO(e)&&PO(e)})).apply(this,arguments)}function GL(n){return Af(n)&&n.Qr.length<10}function qL(n,e){n.Qr.push(e);const t=Nf(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function OO(n){return Af(n)&&!Nf(n).hr()&&n.Qr.length>0}function PO(n){Nf(n).start()}function WL(n){return FM.apply(this,arguments)}function FM(){return(FM=(0,pe.Z)(function*(n){Nf(n).kr()})).apply(this,arguments)}function zL(n){return LM.apply(this,arguments)}function LM(){return(LM=(0,pe.Z)(function*(n){const e=Nf(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function ZL(n,e,t){return VM.apply(this,arguments)}function VM(){return(VM=(0,pe.Z)(function*(n,e,t){const r=n.Qr.shift(),o=Lg.from(r,e,t);yield kO(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Hy(n)})).apply(this,arguments)}function YL(n,e){return BM.apply(this,arguments)}function BM(){return(BM=(0,pe.Z)(function*(n,e){var t;e&&Nf(n).Sr&&(yield(t=(0,pe.Z)(function*(r,o){if(vT(c=o.code)&&c!==fe.ABORTED){const f=r.Qr.shift();Nf(r).wr(),yield kO(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield Hy(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),OO(n)&&PO(n)})).apply(this,arguments)}function UM(n,e){return jM.apply(this,arguments)}function jM(){return(jM=(0,pe.Z)(function*(n,e){const t=Le(n);e?(t.Gr.delete(2),yield Yw(t)):e||(t.Gr.add(2),yield $y(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Gy(n){return n.Xr||(n.Xr=function(e,t,r){const o=Le(e);return o.Fr(),new FL(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:jL.bind(null,n),Ni:$L.bind(null,n),Pr:HL.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Xr.wr(),MM(n)?NM(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),xO(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Nf(n){return n.Zr||(n.Zr=function(e,t,r){const o=Le(e);return o.Fr(),new LL(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:WL.bind(null,n),Ni:YL.bind(null,n),Nr:zL.bind(null,n),Cr:ZL.bind(null,n)}),n.zr.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Zr.wr(),yield Hy(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class $M{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,c){const f=Date.now()+r,_=new $M(e,t,f,o,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),yo(n))return new Ie(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Wy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=Rw(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new Wy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class FO{constructor(){this.eo=new Ur(Ke.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Qe():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class zy{constructor(e,t,r,o,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new zy(e,t,Wy.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class KL{constructor(){this.so=void 0,this.listeners=[]}}class JL{constructor(){this.queries=new We(e=>cT(e),_f),this.onlineState="Unknown",this.io=new Set}}function HM(n,e){return GM.apply(this,arguments)}function GM(){return(GM=(0,pe.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new KL),o)try{c.so=yield t.onListen(r)}catch(f){const _=qy(f,`Initialization of query '${Iw(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&zM(t)})).apply(this,arguments)}function qM(n,e){return WM.apply(this,arguments)}function WM(){return(WM=(0,pe.Z)(function*(n,e){const t=Le(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function QL(n,e){const t=Le(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const _ of f.listeners)_.oo(o)&&(r=!0);f.so=o}}r&&zM(t)}function XL(n,e,t){const r=Le(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function zM(n){n.io.forEach(e=>{e.next()})}class ZM{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new zy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=zy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class e2{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class LO{constructor(e){this.k=e}Hn(e){return Cr(this.k,e)}Jn(e){return e.metadata.exists?Vw(this.k,e.document,!1):Nn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return _i(e)}}class t2{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=VO(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new LO(this.k);for(const o of e)if(o.metadata.queries){const c=r.Hn(o.metadata.name);for(const f of o.metadata.queries){const _=(t.get(f)||un()).add(c);t.set(f,_)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function(n,e,t,r){return _M.apply(this,arguments)}(e.localStore,new LO(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield CL(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new _L(Object.assign({},e.progress),t)})()}}function VO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BO{constructor(e){this.key=e}}class UO{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=un(),this.mutatedKeys=un(),this.Ao=dT(e),this.Ro=new Wy(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new FO,o=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,f=o,_=!1;const w=mf(this.query)&&o.size===this.query.limit?o.last():null,T=Tg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,R)=>{const V=o.get(N),H=Sg(this.query,R)?R:null,ee=!!V&&this.mutatedKeys.has(V.key),me=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Ce=!1;V&&H?V.data.isEqual(H.data)?ee!==me&&(r.track({type:3,doc:H}),Ce=!0):this.Vo(V,H)||(r.track({type:2,doc:H}),Ce=!0,(w&&this.Ao(H,w)>0||T&&this.Ao(H,T)<0)&&(_=!0)):!V&&H?(r.track({type:0,doc:H}),Ce=!0):V&&!H&&(r.track({type:1,doc:V}),Ce=!0,(w||T)&&(_=!0)),Ce&&(H?(f=f.add(H),c=me?c.add(N):c.delete(N)):(f=f.delete(N),c=c.delete(N)))}),mf(this.query)||Tg(this.query))for(;f.size>this.query.limit;){const N=mf(this.query)?f.last():f.first();f=f.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{Ro:f,vo:r,Bn:_,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((T,N)=>function(R,V){const H=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return H(R)-H(V)}(T.type,N.type)||this.Ao(T.doc,N.doc)),this.So(r);const f=t?this.Do():[],_=0===this.Io.size&&this.current?1:0,w=_!==this.Eo;return this.Eo=_,0!==c.length||w?{snapshot:new zy(this.query,e.Ro,o,c,e.mutatedKeys,0===_,w,!1),Co:f}:{Co:f}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new FO,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=un(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new UO(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new BO(r))}),t}ko(e){this.To=e.zn,this.Io=un();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return zy.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class n2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class r2{constructor(e){this.key=e,this.$o=!1}}class i2{constructor(e,t,r,o,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Fo={},this.Oo=new We(_=>cT(_),_f),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ur(Ke.comparator),this.Uo=new Map,this.qo=new vM,this.Ko={},this.jo=new Map,this.Qo=m.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function s2(n,e){return YM.apply(this,arguments)}function YM(){return(YM=(0,pe.Z)(function*(n,e){const t=yR(n);let r,o;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.xo();else{const f=yield Uy(t.localStore,ta(e)),_=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield KM(t,e,r,"current"===_),t.isPrimaryClient&&jT(t.remoteStore,f)}return o})).apply(this,arguments)}function KM(n,e,t,r){return JM.apply(this,arguments)}function JM(){return(JM=(0,pe.Z)(function*(n,e,t,r){n.Go=(N,R,V)=>{return(H=(0,pe.Z)(function*(ee,me,Ce,Xe){let Ze=me.view.bo(Ce);Ze.Bn&&(Ze=yield LT(ee.localStore,me.query,!1).then(({documents:Kt})=>me.view.bo(Kt,Ze)));const Ct=Xe&&Xe.targetChanges.get(me.targetId),nt=me.view.applyChanges(Ze,ee.isPrimaryClient,Ct);return aR(ee,me.targetId,nt.Co),nt.snapshot}),function(ee,me,Ce,Xe){return H.apply(this,arguments)})(n,N,R,V);var H};const o=yield LT(n.localStore,e,!0),c=new jO(e,o.zn),f=c.bo(o.documents),_=Ng.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=c.applyChanges(f,n.isPrimaryClient,_);aR(n,t,w.Co);const T=new n2(e,t,c);return n.Oo.set(e,T),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),w.snapshot})).apply(this,arguments)}function o2(n,e){return QM.apply(this,arguments)}function QM(){return(QM=(0,pe.Z)(function*(n,e){const t=Le(n),r=t.Oo.get(e),o=t.Mo.get(r.targetId);if(o.length>1)return t.Mo.set(r.targetId,o.filter(c=>!_f(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Kw(t.remoteStore,r.targetId),Zy(t,r.targetId)}).catch(k))):(Zy(t,r.targetId),yield jy(t.localStore,r.targetId,!0))})).apply(this,arguments)}function XM(){return(XM=(0,pe.Z)(function*(n,e,t){const r=vR(n);try{const o=yield function(c,f){const _=Le(c),w=fi.now(),T=f.reduce((R,V)=>R.add(V.key),un());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",R=>_.Wn.vn(R,T).next(V=>{N=V;const H=[];for(const ee of f){const me=hO(ee,N.get(ee.key));null!=me&&H.push(new na(ee.key,me,Dy(me.value.mapValue),zn.exists(!0)))}return _.An.addMutationBatch(R,w,H,f)})).then(R=>(R.applyToLocalDocumentSet(N),{batchId:R.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,f,_){let w=c.Ko[c.currentUser.toKey()];w||(w=new Ur(kt)),w=w.insert(f,_),c.Ko[c.currentUser.toKey()]=w}(r,o.batchId,t),yield xd(r,o.changes),yield Hy(r.remoteStore)}catch(o){const c=qy(o,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function $O(n,e){return eR.apply(this,arguments)}function eR(){return(eR=(0,pe.Z)(function*(n,e){const t=Le(n);try{const r=yield bL(t.localStore,e);e.targetChanges.forEach((o,c)=>{const f=t.Uo.get(c);f&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.$o=!0:o.modifiedDocuments.size>0?_t(f.$o):o.removedDocuments.size>0&&(_t(f.$o),f.$o=!1))}),yield xd(t,r,e)}catch(r){yield k(r)}})).apply(this,arguments)}function HO(n,e,t){const r=Le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((c,f)=>{const _=f.view.ro(e);_.snapshot&&o.push(_.snapshot)}),function(c,f){const _=Le(c);_.onlineState=f;let w=!1;_.queries.forEach((T,N)=>{for(const R of N.listeners)R.ro(f)&&(w=!0)}),w&&zM(_)}(r.eventManager,e),o.length&&r.Fo.Pr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function u2(n,e,t){return tR.apply(this,arguments)}function tR(){return(tR=(0,pe.Z)(function*(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),c=o&&o.key;if(c){let f=new Ur(Ke.comparator);f=f.insert(c,Nn.newNoDocument(c,At.min()));const _=un().add(c),w=new xy(At.min(),new Map,new fr(kt),f,_);yield $O(r,w),r.Bo=r.Bo.remove(c),r.Uo.delete(e),uR(r)}else yield jy(r.localStore,e,!1).then(()=>Zy(r,e,t)).catch(k)})).apply(this,arguments)}function l2(n,e){return nR.apply(this,arguments)}function nR(){return(nR=(0,pe.Z)(function*(n,e){const t=Le(n),r=e.batch.batchId;try{const o=yield vL(t.localStore,e);oR(t,r,null),sR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(t,o)}catch(o){yield k(o)}})).apply(this,arguments)}function c2(n,e,t){return rR.apply(this,arguments)}function rR(){return(rR=(0,pe.Z)(function*(n,e,t){const r=Le(n);try{const o=yield function(c,f){const _=Le(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return _.An.lookupMutationBatch(w,f).next(N=>(_t(null!==N),T=N.keys(),_.An.removeMutationBatch(w,N))).next(()=>_.An.performConsistencyCheck(w)).next(()=>_.Wn.vn(w,T))})}(r.localStore,e);oR(r,e,t),sR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xd(r,o)}catch(o){yield k(o)}})).apply(this,arguments)}function iR(){return(iR=(0,pe.Z)(function*(n,e){const t=Le(n);Af(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=Le(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.An.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=qy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function sR(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function oR(n,e,t){const r=Le(n);let o=r.Ko[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Zy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||GO(n,r)})}function GO(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Kw(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),uR(n))}function aR(n,e,t){for(const r of t)r instanceof BO?(n.qo.addReference(r.key,e),h2(n,r)):r instanceof UO?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||GO(n,r.key)):Qe()}function h2(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.Lo.add(r),uR(n))}function uR(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Ke(on.fromString(e)),r=n.Qo.next();n.Uo.set(r,new r2(t)),n.Bo=n.Bo.insert(t,r),jT(n.remoteStore,new Jl(ta(Ga(t.path)),r,2,ms.I))}}function xd(n,e,t){return lR.apply(this,arguments)}function lR(){return(lR=(0,pe.Z)(function*(n,e,t){const r=Le(n),o=[],c=[],f=[];var _;r.Oo.isEmpty()||(r.Oo.forEach((_,w)=>{f.push(r.Go(w,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T.fromCache?"not-current":"current"),o.push(T);const N=fM.$n(w.targetId,T);c.push(N)}}))}),yield Promise.all(f),r.Fo.Pr(o),yield(_=(0,pe.Z)(function*(w,T){const N=Le(w);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Te.forEach(T,V=>Te.forEach(V.kn,H=>N.persistence.referenceDelegate.addReference(R,V.targetId,H)).next(()=>Te.forEach(V.xn,H=>N.persistence.referenceDelegate.removeReference(R,V.targetId,H)))))}catch(R){if(!yo(R))throw R;Oe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of T){const V=R.targetId;if(!R.fromCache){const H=N.qn.get(V),me=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.qn=N.qn.insert(V,me)}}}),function(w,T){return _.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function f2(n,e){return cR.apply(this,arguments)}function cR(){return(cR=(0,pe.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield bO(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(f=>{f.forEach(_=>{_.reject(new Ie(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xd(t,r.Gn)}var o})).apply(this,arguments)}function p2(n,e){const t=Le(n),r=t.Uo.get(e);if(r&&r.$o)return un().add(r.key);{let o=un();const c=t.Mo.get(e);if(!c)return o;for(const f of c){const _=t.Oo.get(f);o=o.unionWith(_.view.Po)}return o}}function g2(n,e){return dR.apply(this,arguments)}function dR(){return(dR=(0,pe.Z)(function*(n,e){const t=Le(n),r=yield LT(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&aR(t,e.targetId,o.Co),o})).apply(this,arguments)}function m2(n){return hR.apply(this,arguments)}function hR(){return(hR=(0,pe.Z)(function*(n){const e=Le(n);return CO(e.localStore).then(t=>xd(e,t))})).apply(this,arguments)}function _2(n,e,t,r){return fR.apply(this,arguments)}function fR(){return(fR=(0,pe.Z)(function*(n,e,t,r){const o=Le(n),c=yield function(f,_){const w=Le(f),T=Le(w.An);return w.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Zt(N,_).next(R=>R?w.Wn.vn(N,R):Te.resolve(null)))}(o.localStore,e);var _;null!==c?("pending"===t?yield Hy(o.remoteStore):"acknowledged"===t||"rejected"===t?(oR(o,e,r||null),sR(o,e),_=e,Le(Le(o.localStore).An).ee(_)):Qe(),yield xd(o,c)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function pR(){return(pR=(0,pe.Z)(function*(n,e){const t=Le(n);if(yR(t),vR(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield qO(t,r.toArray());t.Wo=!0,yield UM(t.remoteStore,!0);for(const c of o)jT(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Mo.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(Zy(t,f),jy(t.localStore,f,!0))),Kw(t.remoteStore,f)}),yield o,yield qO(t,r),function(c){const f=Le(c);f.Uo.forEach((_,w)=>{Kw(f.remoteStore,w)}),f.qo.hs(),f.Uo=new Map,f.Bo=new Ur(Ke.comparator)}(t),t.Wo=!1,yield UM(t.remoteStore,!1)}})).apply(this,arguments)}function qO(n,e,t){return gR.apply(this,arguments)}function gR(){return(gR=(0,pe.Z)(function*(n,e,t){const r=Le(n),o=[],c=[];for(const f of e){let _;const w=r.Mo.get(f);if(w&&0!==w.length){_=yield Uy(r.localStore,ta(w[0]));for(const T of w){const N=r.Oo.get(T),R=yield g2(r,N);R.snapshot&&c.push(R.snapshot)}}else{const T=yield DO(r.localStore,f);_=yield Uy(r.localStore,T),yield KM(r,WO(T),f,!1)}o.push(_)}return r.Fo.Pr(c),o})).apply(this,arguments)}function WO(n){return Ew(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function v2(n){const e=Le(n);return Le(Le(e.localStore).persistence).Tn()}function b2(n,e,t,r){return mR.apply(this,arguments)}function mR(){return(mR=(0,pe.Z)(function*(n,e,t,r){const o=Le(n);if(o.Wo)Oe("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(e))switch(t){case"current":case"not-current":{const c=yield CO(o.localStore),f=xy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xd(o,c,f);break}case"rejected":yield jy(o.localStore,e,!0),Zy(o,e,r);break;default:Qe()}})).apply(this,arguments)}function w2(n,e,t){return _R.apply(this,arguments)}function _R(){return(_R=(0,pe.Z)(function*(n,e,t){const r=yR(n);if(r.Wo){for(const o of e){if(r.Mo.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const c=yield DO(r.localStore,o),f=yield Uy(r.localStore,c);yield KM(r,WO(c),f.targetId,!1),jT(r.remoteStore,f)}for(const o of t)r.Mo.has(o)&&(yield jy(r.localStore,o,!1).then(()=>{Kw(r.remoteStore,o),Zy(r,o)}).catch(k))}})).apply(this,arguments)}function yR(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$O.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u2.bind(null,e),e.Fo.Pr=QL.bind(null,e.eventManager),e.Fo.zo=XL.bind(null,e.eventManager),e}function vR(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class zO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.k=Zw(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return vO(this.persistence,new yO,e.initialUser,this.k)}Yo(e){return new ML(bM.ks,this.k)}Jo(e){return new SO}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZO extends zO{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield function(n){return mM.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield vR(r.ta.syncEngine),yield Hy(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return vO(this.persistence,new yO,e.initialUser,this.k)}Xo(e){return new le(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new $g(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,NO(),UT(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new SO}}class D2 extends ZO{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const o=r.ta.syncEngine;r.sharedClientState instanceof CM&&(r.sharedClientState.syncEngine={mi:_2.bind(null,o),gi:b2.bind(null,o),yi:w2.bind(null,o),Tn:v2.bind(null,o),_i:m2.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var c=(0,pe.Z)(function*(f){yield function(n,e){return pR.apply(this,arguments)}(r.ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Jo(e){const t=NO();if(!CM.bt(t))throw new Ie(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new CM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bR{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>HO(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,r.syncEngine),yield UM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JL}createDatastore(e){const t=Zw(e.databaseInfo.databaseId),r=new PL(e.databaseInfo);return new VL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=_=>HO(this.syncEngine,_,0),f=AO.bt()?new AO:new xL,new UL(t,r,o,c,f);var t,r,o,c,f}createSyncEngine(e,t){return function(r,o,c,f,_,w,T){const N=new i2(r,o,c,f,_,w);return T&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Le(t);Oe("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield $y(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YO(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class C2{constructor(e,t){this.sa=e,this.k=t,this.metadata=new hi,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,pe.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),o=Number(r);isNaN(o)&&e.aa(`length string (${r}) is not valid number`);const c=yield e.ca(o);return new e2(JSON.parse(c),t.length+o)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,pe.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,pe.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class T2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ie(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,pe.Z)(function*(c,f){const _=Le(c),w=xg(_.k)+"/documents",T={documents:f.map(H=>Rg(_.k,H))},N=yield _.ji("BatchGetDocuments",w,T),R=new Map;N.forEach(H=>{const ee=function(n,e){return"found"in e?function(t,r){_t(!!r.found);const o=Cr(t,r.found.name),c=_i(r.found.updateTime),f=new xi({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(o,c,f)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const o=Cr(t,r.missing),c=_i(r.readTime);return Nn.newNoDocument(o,c)}(n,e):Qe()}(_.k,H);R.set(ee.key.toString(),ee)});const V=[];return f.forEach(H=>{const ee=R.get(H.toString());_t(!!ee),V.push(ee)}),V}),function(c,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ny(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Ke.fromPath(o);e.mutations.push(new Mw(c,e.precondition(c)))}),yield(r=(0,pe.Z)(function*(o,c){const f=Le(o),_=xg(f.k)+"/documents",w={writes:c.map(T=>wf(f.k,T))};yield f.Bi("Commit",_,w)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qe();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ie(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zn.updateTime(t):zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Ie(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zn.updateTime(t)}return zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class I2{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new TM(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,pe.Z)(function*(){const t=new T2(e.datastore),r=e.da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.wa(c)}))}).catch(o=>{e.wa(o)})}))}da(e){try{const t=this.updateFunction(e);return!Xo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!vT(t)}return!1}}class S2{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ri.UNAUTHENTICATED,this.clientId=mw.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,pe.Z)(function*(_){Oe("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=qy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function KO(n,e){return wR.apply(this,arguments)}function wR(){return(wR=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,pe.Z)(function*(c){r.isEqual(c)||(yield bO(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function JO(n,e){return ER.apply(this,arguments)}function ER(){return(ER=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DR(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,pe.Z)(function*(f,_){const w=Le(f);w.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const T=Af(w);w.Gr.add(3),yield $y(w),T&&w.Jr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(_),w.Gr.delete(3),yield Yw(w)}),function(f,_){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e})).apply(this,arguments)}function DR(n){return CR.apply(this,arguments)}function CR(){return(CR=(0,pe.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield KO(n,new zO)),n.offlineComponents})).apply(this,arguments)}function GT(n){return TR.apply(this,arguments)}function TR(){return(TR=(0,pe.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield JO(n,new bR)),n.onlineComponents})).apply(this,arguments)}function QO(n){return DR(n).then(e=>e.persistence)}function IR(n){return DR(n).then(e=>e.localStore)}function XO(n){return GT(n).then(e=>e.remoteStore)}function SR(n){return GT(n).then(e=>e.syncEngine)}function Yy(n){return AR.apply(this,arguments)}function AR(){return(AR=(0,pe.Z)(function*(n){const e=yield GT(n),t=e.eventManager;return t.onListen=s2.bind(null,e.syncEngine),t.onUnlisten=o2.bind(null,e.syncEngine),t})).apply(this,arguments)}function eP(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,f,_,w){const T=new HT({next:R=>{c.enqueueAndForget(()=>qM(o,N));const V=R.docs.has(f);!V&&R.fromCache?w.reject(new Ie(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&_&&"server"===_.source?w.reject(new Ie(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),N=new ZM(Ga(f.path),T,{includeMetadataChanges:!0,wo:!0});return HM(o,N)}(yield Yy(n),n.asyncQueue,e,t,r)})),r.promise}function tP(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,c,f,_,w){const T=new HT({next:R=>{c.enqueueAndForget(()=>qM(o,N)),R.fromCache&&"server"===_.source?w.reject(new Ie(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),N=new ZM(f,T,{includeMetadataChanges:!0,wo:!0});return HM(o,N)}(yield Yy(n),n.asyncQueue,e,t,r)})),r.promise}class F2{constructor(e,t,r,o,c,f,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=w}}class Ky{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ky&&e.projectId===this.projectId&&e.database===this.database}}const nP=new Map;function NR(n,e,t){if(!t)throw new Ie(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rP(n,e,t,r){if(!0===e&&!0===r)throw new Ie(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iP(n){if(!Ke.isDocumentKey(n))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sP(n){if(Ke.isDocumentKey(n))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Qe()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qT(n);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oP(n,e){if(e<=0)throw new Ie(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class aP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1,e instanceof Ky?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ky(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gw;switch(t.type){case"gapi":const r=t.client;return _t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new IN(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nP.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),nP.delete(e),t.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class ys{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Xl extends ys{constructor(e,t,r){super(e,t,Ga(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ke(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function uP(n,e,...t){if(n=(0,lt.m9)(n),NR("collection","path",e),n instanceof Jw){const r=on.fromString(e,...t);return sP(r),new Xl(n,null,r)}{if(!(n instanceof Zn||n instanceof Xl))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return sP(r),new Xl(n.firestore,null,r)}}function WT(n,e,...t){if(n=(0,lt.m9)(n),1===arguments.length&&(e=mw.A()),NR("doc","path",e),n instanceof Jw){const r=on.fromString(e,...t);return iP(r),new Zn(n,null,new Ke(r))}{if(!(n instanceof Zn||n instanceof Xl))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return iP(r),new Zn(n.firestore,n instanceof Xl?n.converter:null,new Ke(r))}}function lP(n,e){return n=(0,lt.m9)(n),e=(0,lt.m9)(e),(n instanceof Zn||n instanceof Xl)&&(e instanceof Zn||e instanceof Xl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cP(n,e){return n=(0,lt.m9)(n),e=(0,lt.m9)(e),n instanceof ys&&e instanceof ys&&n.firestore===e.firestore&&_f(n._query,e._query)&&n.converter===e.converter}class B2{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new TM(this,"async_queue_retry"),this.Ra=()=>{const t=UT();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=UT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=UT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new hi;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,pe.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!yo(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=$M.createAndSchedule(this,e,t,r,c=>this.Va(c));return this.pa.push(o),o}Pa(){this.Ta&&Qe()}verifyOperationInProgress(){}Sa(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function MR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class U2{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends Jw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new B2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dP(this),this._firestoreClient.terminate()}}function vi(n){return n._firestoreClient||dP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dP(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new F2(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new S2(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hP(n,e,t){const r=new hi;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield KO(n,t),yield JO(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function fP(n){if(n._initialized||n._terminated)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(pi.fromBase64String(e))}catch(t){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ec(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gg{constructor(e){this._methodName=e}}class zT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const K2=/^__.*__$/;class J2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ay(e,this.data,t,this.fieldTransforms)}}class pP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class ZT{constructor(e,t,r,o,c,f){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ka(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new ZT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.Ma(e),o}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return KT(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(gP(this.xa)&&K2.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Q2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Zw(e)}ja(e,t,r,o=!1){return new ZT({xa:e,methodName:t,Ka:r,path:Br.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function qg(n){const e=n._freezeSettings(),t=Zw(n._databaseId);return new Q2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YT(n,e,t,r,o,c={}){const f=n.ja(c.merge||c.mergeFields?2:0,e,t,o);OR("Data must be an object, but it was:",f,r);const _=yP(r,f);let w,T;if(c.merge)w=new df(f.fieldMask),T=f.fieldTransforms;else if(c.mergeFields){const N=[];for(const R of c.mergeFields){const V=PR(e,R,t);if(!f.contains(V))throw new Ie(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);bP(N,V)||N.push(V)}w=new df(N),T=f.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,T=f.fieldTransforms;return new J2(new xi(_),w,T)}class Qw extends Gg{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qw}}function mP(n,e,t){return new ZT({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class RR extends Gg{_toFieldTransform(e){return new Id(e.path,new Ed)}isEqual(e){return e instanceof RR}}class X2 extends Gg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=mP(this,e,!0),r=this.Qa.map(c=>Wg(c,t)),o=new Dd(r);return new Id(e.path,o)}isEqual(e){return this===e}}class eV extends Gg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=mP(this,e,!0),r=this.Qa.map(c=>Wg(c,t)),o=new Cd(r);return new Id(e.path,o)}isEqual(e){return this===e}}class tV extends Gg{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Td(e.k,fT(e.k,this.Wa));return new Id(e.path,t)}isEqual(e){return this===e}}function xR(n,e,t,r){const o=n.ja(1,e,t);OR("Data must be an object, but it was:",o,r);const c=[],f=xi.empty();cf(r,(w,T)=>{const N=FR(e,w,t);T=(0,lt.m9)(T);const R=o.La(N);if(T instanceof Qw)c.push(N);else{const V=Wg(T,R);null!=V&&(c.push(N),f.set(N,V))}});const _=new df(c);return new pP(f,_,o.fieldTransforms)}function kR(n,e,t,r,o,c){const f=n.ja(1,e,t),_=[PR(e,r,t)],w=[o];if(c.length%2!=0)throw new Ie(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)_.push(PR(e,c[V])),w.push(c[V+1]);const T=[],N=xi.empty();for(let V=_.length-1;V>=0;--V)if(!bP(T,_[V])){const H=_[V];let ee=w[V];ee=(0,lt.m9)(ee);const me=f.La(H);if(ee instanceof Qw)T.push(H);else{const Ce=Wg(ee,me);null!=Ce&&(T.push(H),N.set(H,Ce))}}const R=new df(T);return new pP(N,R,f.fieldTransforms)}function _P(n,e,t,r=!1){return Wg(t,n.ja(r?4:3,e))}function Wg(n,e){if(vP(n=(0,lt.m9)(n)))return OR("Unsupported field value:",e,n),yP(n,e);if(n instanceof Gg)return function(t,r){if(!gP(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const f of t){let _=Wg(f,r.Ba(c));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fT(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=fi.fromDate(t);return{timestampValue:Mg(r.k,o)}}if(t instanceof fi){const o=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mg(r.k,o)}}if(t instanceof zT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ec)return{bytesValue:ET(r.k,t._byteString)};if(t instanceof Zn){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Ua(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ow(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${qT(t)}`)}(n,e)}function yP(n,e){const t={};return yg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cf(n,(r,o)=>{const c=Wg(o,e.Fa(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function vP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fi||n instanceof zT||n instanceof ec||n instanceof Zn||n instanceof Gg)}function OR(n,e,t){if(!vP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qT(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function PR(n,e,t){if((e=(0,lt.m9)(e))instanceof kd)return e._internalPath;if("string"==typeof e)return FR(n,e);throw KT("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const nV=new RegExp("[~\\*/\\[\\]]");function FR(n,e,t){if(e.search(nV)>=0)throw KT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kd(...e.split("."))._internalPath}catch(r){throw KT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KT(n,e,t,r,o){const c=r&&!r.isEmpty(),f=void 0!==o;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let w="";return(c||f)&&(w+=" (found",c&&(w+=` in field ${r}`),f&&(w+=` in document ${o}`),w+=")"),new Ie(fe.INVALID_ARGUMENT,_+n+w)}function bP(n,e){return n.some(t=>t.isEqual(e))}class Xw{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rV extends Xw{data(){return super.data()}}function JT(n,e){return"string"==typeof e?FR(n,e):e instanceof kd?e._internalPath:e._delegate._internalPath}class zg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Od extends Xw{constructor(e,t,r,o,c,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new e1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(JT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class e1 extends Od{data(e={}){return super.data(e)}}class Mf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new e1(this._firestore,this._userDataWriter,r.key,r,new zg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new e1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new zg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const _=new e1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new zg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==f.type&&(w=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),T=c.indexOf(f.doc.key)),{type:iV(f.type),doc:_,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function wP(n,e){return n instanceof Od&&e instanceof Od?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mf&&e instanceof Mf&&n._firestore===e._firestore&&cP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function EP(n){if(Tg(n)&&0===n.explicitOrderBy.length)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t1{}function Rf(n,...e){for(const t of e)n=t._apply(n);return n}class sV extends t1{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=qg(e.firestore),r=function(o,c,f,_,w,T,N){let R;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){AP(N,T);const H=[];for(const ee of N)H.push(SP(_,o,ee));R={arrayValue:{values:H}}}else R=SP(_,o,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||AP(N,T),R=_P(f,"where",N,"in"===T||"not-in"===T);const V=ns.create(w,T,R);return function(H,ee){if(ee.V()){const Ce=Cw(H);if(null!==Ce&&!Ce.isEqual(ee.field))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${ee.field.toString()}'`);const Xe=Dw(H);null!==Xe&&NP(0,ee.field,Xe)}const me=function(Ce,Xe){for(const Ze of Ce.filters)if(Xe.indexOf(Ze.op)>=0)return Ze.op;return null}(H,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==me)throw new Ie(fe.INVALID_ARGUMENT,me===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${me.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ys(e.firestore,e.converter,function(o,c){const f=o.filters.concat([c]);return new Lu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class aV extends t1{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Cg(o,c);return function(_,w){if(null===Dw(_)){const T=Cw(_);null!==T&&NP(0,T,w.field)}}(r,f),f}(e._query,this.Ga,this.Ja);return new ys(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Lu(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class DP extends t1{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new ys(e.firestore,e.converter,Tw(e._query,this.Ya,this.Xa))}}class CP extends t1{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=IP(e,this.type,this.Za,this.tc);return new ys(e.firestore,e.converter,(o=t,new Lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class TP extends t1{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=IP(e,this.type,this.Za,this.tc);return new ys(e.firestore,e.converter,(o=t,new Lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function IP(n,e,t,r){if(t[0]=(0,lt.m9)(t[0]),t[0]instanceof Xw)return function(o,c,f,_,w){if(!_)throw new Ie(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const T=[];for(const N of Ig(o))if(N.field.isKeyField())T.push(pf(c,_.key));else{const R=_.data.field(N.field);if(nT(R))throw new Ie(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=N.field.canonicalString();throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(R)}return new gf(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=qg(n.firestore);return function(c,f,_,w,T,N){const R=c.explicitOrderBy;if(T.length>R.length)throw new Ie(fe.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<T.length;H++){const ee=T[H];if(R[H].field.isKeyField()){if("string"!=typeof ee)throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ee}`);if(!lT(c)&&-1!==ee.indexOf("/"))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${ee}' contains a slash.`);const me=c.path.child(on.fromString(ee));if(!Ke.isDocumentKey(me))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Ce=new Ke(me);V.push(pf(f,Ce))}else{const me=_P(_,w,ee);V.push(me)}}return new gf(V,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function SP(n,e,t){if("string"==typeof(t=(0,lt.m9)(t))){if(""===t)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(e)&&-1!==t.indexOf("/"))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ke.isDocumentKey(r))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pf(n,new Ke(r))}if(t instanceof Zn)return pf(n,t._key);throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${qT(t)}.`)}function AP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NP(n,e,t){if(!t.isEqual(e))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class LR{convertValue(e,t="none"){switch(Fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qe()}}convertObject(e,t){const r={};return cf(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new zT(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=MN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bg(e));default:return null}}convertTimestamp(e){const t=wd(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);_t(Pg(r));const o=new Ky(r.get(1),r.get(3)),c=new Ke(r.popFirst(5));return o.isEqual(t)||Vr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function QT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gV extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}class MP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qg(e)}set(e,t,r){this._verifyNotCommitted();const o=xf(e,this._firestore),c=QT(o.converter,t,r),f=YT(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,zn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=xf(e,this._firestore);let f;return f="string"==typeof(t=(0,lt.m9)(t))||t instanceof kd?kR(this._dataReader,"WriteBatch.update",c._key,t,r,o):xR(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xf(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(t._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xf(n,e){if((n=(0,lt.m9)(n)).firestore!==e)throw new Ie(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Zg extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function RP(n,e,t){n=tn(n,Zn);const r=tn(n.firestore,pr),o=QT(n.converter,e,t);return Jy(r,[YT(qg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,zn.none())])}function xP(n,e,t,...r){n=tn(n,Zn);const o=tn(n.firestore,pr),c=qg(o);let f;return f="string"==typeof(e=(0,lt.m9)(e))||e instanceof kd?kR(c,"updateDoc",n._key,e,t,r):xR(c,"updateDoc",n._key,e),Jy(o,[f.toMutation(n._key,zn.exists(!0))])}function kP(n,...e){var t,r,o;n=(0,lt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||MR(e[f])||(c=e[f],f++);const _={includeMetadataChanges:c.includeMetadataChanges};if(MR(e[f])){const R=e[f];e[f]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[f+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[f+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let w,T,N;if(n instanceof Zn)T=tn(n.firestore,pr),N=Ga(n._key.path),w={next:R=>{e[f]&&e[f](VR(T,n,R))},error:e[f+1],complete:e[f+2]};else{const R=tn(n,ys);T=tn(R.firestore,pr),N=R._query;const V=new Zg(T);w={next:H=>{e[f]&&e[f](new Mf(T,V,R,H))},error:e[f+1],complete:e[f+2]},EP(n._query)}return function(R,V,H,ee){const me=new HT(ee),Ce=new ZM(V,me,H);return R.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return HM(yield Yy(R),Ce)})),()=>{me.na(),R.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return qM(yield Yy(R),Ce)}))}}(vi(T),N,_,w)}function Jy(n,e){return function(t,r){const o=new hi;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e,t){return XM.apply(this,arguments)}(yield SR(t),r,o)})),o.promise}(vi(n),e)}function VR(n,e,t){const r=t.docs.get(e._key),o=new Zg(n);return new Od(n,o,e._key,r,new zg(t.hasPendingWrites,t.fromCache),e.converter)}class TV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qg(e)}get(e){const t=xf(e,this._firestore),r=new gV(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Qe();const c=o[0];if(c.isFoundDocument())return new Xw(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Xw(this._firestore,r,t._key,null,t.converter);throw Qe()})}set(e,t,r){const o=xf(e,this._firestore),c=QT(o.converter,t,r),f=YT(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const c=xf(e,this._firestore);let f;return f="string"==typeof(t=(0,lt.m9)(t))||t instanceof kd?kR(this._dataReader,"Transaction.update",c._key,t,r,o):xR(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=xf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xf(e,this._firestore),r=new Zg(this._firestore);return super.get(e).then(o=>new Od(this._firestore,r,t._key,o._document,new zg(!1,!1),t.converter))}}function BR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OP(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function PP(){if("undefined"==typeof atob)throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){uf=Jo.SDK_VERSION,(0,Jo._registerComponent)(new ud.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new pr(o,new XC(t.getProvider("auth-internal")),new eT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Jo.registerVersion)(CN,"3.4.0",n),(0,Jo.registerVersion)(CN,"3.4.0","esm2017")}();class n1{constructor(e){this._delegate=e}static fromBase64String(e){return PP(),new n1(ec.fromBase64String(e))}static fromUint8Array(e){return OP(),new n1(ec.fromUint8Array(e))}toBase64(){return PP(),this._delegate.toBase64()}toUint8Array(){return OP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UR(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class PV{enableIndexedDbPersistence(e,t){return function(n,e){fP(n=tn(n,pr));const t=vi(n),r=n._freezeSettings(),o=new bR;return hP(t,o,new ZO(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){fP(n=tn(n,pr));const e=vi(n),t=n._freezeSettings(),r=new bR;return hP(e,r,new D2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ie(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!rs.bt())return Promise.resolve();const o=r+"main";yield rs.delete(o)}),function(r){return t.apply(this,arguments)})(Hg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ky||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=tn(n,Jw))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&_g("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=Ri.MOCK_USER;else{f=(0,lt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ri(w)}n._authCredentials=new lf(new QC(f,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield QO(n),t=yield XO(n);return e.setNetworkEnabled(!0),function(r){const o=Le(r);return o.Gr.delete(0),Yw(o)}(t)}))}(vi(n=tn(n,pr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield QO(n),t=yield XO(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(o){const c=Le(o);c.Gr.add(0),yield $y(c),c.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(vi(n=tn(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new hi;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e){return iR.apply(this,arguments)}(yield SR(e),t)})),t.promise}(vi(n=tn(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new HT(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Yy(n),o=t,Le(r).io.add(o),void o.next();var r,o})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Yy(n),o=t,void Le(r).io.delete(o);var r,o}))}}(vi(n=tn(n,pr)),MR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qy(this,uP(this._delegate,e))}catch(t){throw Us(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,WT(this._delegate,e))}catch(t){throw Us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new js(this,function(n,e){if(n=tn(n,Jw),NR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(n,null,(t=e,new Lu(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const r=yield(o=n,GT(o).then(c=>c.datastore));var o;new I2(n.asyncQueue,r,e,t).run()})),t.promise}(vi(n=tn(n,pr)),t=>e(new TV(n,t)))}(this._delegate,t=>e(new LP(this,t)))}batch(){return vi(this._delegate),new VP(new MP(this._delegate,e=>Jy(this._delegate,e)))}loadBundle(e){return function(n,e){const t=vi(n=tn(n,pr)),r=new U2;return function(n,e,t,r){const o=function(c,f){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,w=function(w,T){if(w instanceof Uint8Array)return YO(w,T);if(w instanceof ArrayBuffer)return YO(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new C2(w,f);var w}(t,Zw(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(n,e,t){const r=Le(n);var o;(o=(0,pe.Z)(function*(c,f,_){try{const w=yield f.getMetadata();if(yield function(V,H){const ee=Le(V),me=_i(H.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Ce=>ee.Ye.getBundleMetadata(Ce,H.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(me)>=0)}(c.localStore,w))return yield f.close(),void _._completeWith((V=w,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));_._updateProgress(VO(w));const T=new t2(w,c.localStore,f.k);let N=yield f.Ho();for(;N;){const V=yield T.yo(N);V&&_._updateProgress(V),N=yield f.Ho()}const R=yield T.complete();yield xd(c,R.In,void 0),yield function(V,H){const ee=Le(V);return ee.persistence.runTransaction("Save bundle","readwrite",me=>ee.Ye.saveBundleMetadata(me,H))}(c.localStore,w),_._completeWith(R.progress)}catch(w){_g("SyncEngine",`Loading bundle failed with ${w}`),_._failWith(w)}var V}),function(c,f,_){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield SR(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const o=Le(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ye.getNamedQuery(c,r))}(yield IR(n),e)}))}(vi(n=tn(n,pr)),e).then(t=>t?new ys(n,null,t.query):null)}(this._delegate,e).then(t=>t?new js(this,t):null)}}class XT extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new n1(new ec(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class LP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}get(e){const t=Kg(e);return this._delegate.get(t).then(r=>new r1(this._firestore,new Od(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Kg(e);return r?(BR("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Kg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Kg(e);return this._delegate.delete(t),this}}class VP{constructor(e){this._delegate=e}set(e,t,r){const o=Kg(e);return r?(BR("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Kg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Kg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new e1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new i1(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new Yg(e,new XT(e),t),o.set(t,c)),c}}Yg.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new Zn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new qa(t,new Zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qy(this.firestore,uP(this._delegate,e))}catch(t){throw Us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,lt.m9)(e))instanceof Zn&&lP(this._delegate,e)}set(e,t){t=BR("DocumentReference.set",t);try{return t?RP(this._delegate,e,t):RP(this._delegate,e)}catch(r){throw Us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xP(this._delegate,e):xP(this._delegate,e,t,...r)}catch(o){throw Us(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Jy(tn(n.firestore,pr),[new Ny(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=BP(e),r=UP(e,o=>new r1(this.firestore,new Od(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return kP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,Zn);const e=tn(n.firestore,pr),t=vi(e),r=new Zg(e);return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,f){try{const _=yield function(w,T){const N=Le(w);return N.persistence.runTransaction("read document","readonly",R=>N.Wn.Rn(R,T))}(o,c);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Ie(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const w=qy(_,`Failed to get document '${c} from cache`);f.reject(w)}}),function(o,c,f){return r.apply(this,arguments)})(yield IR(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Od(e,r,n._key,o,new zg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,Zn);const e=tn(n.firestore,pr);return eP(vi(e),n._key,{source:"server"}).then(t=>VR(e,n,t))}(this._delegate):function(n){n=tn(n,Zn);const e=tn(n.firestore,pr);return eP(vi(e),n._key).then(t=>VR(e,n,t))}(this._delegate),t.then(r=>new r1(this.firestore,new Od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Us(n,e,t){return n.message=n.message.replace(e,t),n}function BP(n){for(const e of n)if("object"==typeof e&&!UR(e))return e;return{}}function UP(n,e){var t,r;let o;return o=UR(n[0])?n[0]:UR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class r1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wP(this._delegate,e._delegate)}}class i1 extends r1{data(e){const t=this._delegate.data(e);return function(n,e){n||Qe()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XT(e)}where(e,t,r){try{return new js(this.firestore,Rf(this._delegate,function(n,e,t){const r=e,o=JT("where",n);return new sV(o,r,t)}(e,t,r)))}catch(o){throw Us(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,Rf(this._delegate,function(n,e="asc"){const t=e,r=JT("orderBy",n);return new aV(r,t)}(e,t)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,Rf(this._delegate,function(n){return oP("limit",n),new DP("limit",n,"F")}(e)))}catch(t){throw Us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,Rf(this._delegate,function(n){return oP("limitToLast",n),new DP("limitToLast",n,"L")}(e)))}catch(t){throw Us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,Rf(this._delegate,function(...n){return new CP("startAt",n,!0)}(...e)))}catch(t){throw Us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,Rf(this._delegate,function(...n){return new CP("startAfter",n,!1)}(...e)))}catch(t){throw Us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,Rf(this._delegate,function(...n){return new TP("endBefore",n,!0)}(...e)))}catch(t){throw Us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,Rf(this._delegate,function(...n){return new TP("endAt",n,!1)}(...e)))}catch(t){throw Us(t,"endAt()","Query.endAt()")}}isEqual(e){return cP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,ys);const e=tn(n.firestore,pr),t=vi(e),r=new Zg(e);return function(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,c,f){try{const _=yield LT(o,c,!0),w=new jO(c,_.zn),T=w.bo(_.documents),N=w.applyChanges(T,!1);f.resolve(N.snapshot)}catch(_){const w=qy(_,`Failed to execute query '${c} against cache`);f.reject(w)}}),function(o,c,f){return r.apply(this,arguments)})(yield IR(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Mf(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,ys);const e=tn(n.firestore,pr),t=vi(e),r=new Zg(e);return tP(t,n._query,{source:"server"}).then(o=>new Mf(e,r,n,o))}(this._delegate):function(n){n=tn(n,ys);const e=tn(n.firestore,pr),t=vi(e),r=new Zg(e);return EP(n._query),tP(t,n._query).then(o=>new Mf(e,r,n,o))}(this._delegate),t.then(r=>new jR(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BP(e),r=UP(e,o=>new jR(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return kP(this._delegate,t,r)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}class LV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new i1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new i1(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new i1(this._firestore,r))})}isEqual(e){return wP(this._delegate,e._delegate)}}class Qy extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?WT(this._delegate):WT(this._delegate,e))}catch(t){throw Us(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=tn(n.firestore,pr),r=WT(n),o=QT(n.converter,e);return Jy(t,[YT(qg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return lP(this._delegate,e._delegate)}withConverter(e){return new Qy(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Kg(n){return tn(n,Zn)}class $R{constructor(...e){this._delegate=new kd(...e)}static documentId(){return new $R(Br.keyField().canonicalString())}isEqual(e){return(e=(0,lt.m9)(e))instanceof kd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new RR("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=new Qw("deleteField");return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const t=function(...n){return new X2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jg(t)}static arrayRemove(...e){const t=function(...n){return new eV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jg(t)}static increment(e){const t=function(n){return new tV("increment",n)}(e);return t._methodName="FieldValue.increment",new Jg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VV={Firestore:FP,GeoPoint:zT,Timestamp:fi,Blob:n1,Transaction:LP,WriteBatch:VP,DocumentReference:qa,DocumentSnapshot:r1,Query:js,QueryDocumentSnapshot:i1,QuerySnapshot:jR,CollectionReference:Qy,FieldPath:$R,FieldValue:Jg,setLogLevel:function(n){!function(n){zl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new ud.wA("firestore-compat",t=>((e,t)=>new FP(e,t,new PV))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},VV)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(iC.Z);var s1=F(9746),jV=F(7771),$V=F(8858);class HV extends Yt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new GV(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let f;if(this.closed)throw new bc.N;if(this.isStopped||this.hasError?f=Cc.w.EMPTY:(this.observers.push(e),f=new $V.W(this,e)),o&&e.add(e=new s1.ht(e,o)),t)for(let _=0;_<c&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<c&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||jV.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let f=0;for(;f<c&&!(e-o[f].time<r);)f++;return c>t&&(f=Math.max(f,c-t)),f>0&&o.splice(0,f),o}}class GV{constructor(e,t){this.time=e,this.value=t}}function jP(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,f,c=0,_=!1,w=!1;return function(N){let R;c++,!o||_?(_=!1,o=new HV(n,e,r),R=o.subscribe(this),f=N.subscribe({next(V){o.next(V)},error(V){_=!0,o.error(V)},complete(){w=!0,f=void 0,o.complete()}}),w&&(f=void 0)):R=o.subscribe(this),this.add(()=>{c--,R.unsubscribe(),R=void 0,f&&!w&&t&&0===c&&(f.unsubscribe(),f=void 0,o=void 0)})}}(r))}function $P(n,e){return e?Tn(()=>n,e):Tn(()=>n)}var HR=F(2639);F(2329);const GP=new Map,KV={activated:!1,tokenObservers:[]},JV={initialized:!1,enabled:!1};function Fi(n){return GP.get(n)||KV}function Uu(n,e){GP.set(n,e)}function tI(){return JV}class nB{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new lt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new lt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $s=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WP(n){if(!Fi(n).activated)throw $s.create("use-before-activation",{appName:n.name})}function zR(n,e){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let f,_;try{f=yield fetch(n,c)}catch(R){throw $s.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==f.status)throw $s.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(R){throw $s.create("fetch-parse-error",{originalErrorMessage:R.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw $s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(w[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function uB(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const o1="firebase-app-check-store";let iI=null;function ZP(){return iI||(iI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e($s.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(o1,{keyPath:"compositeKey"})}}}catch(t){e($s.create("storage-open",{originalErrorMessage:t.message}))}}),iI)}function YR(){return(YR=(0,pe.Z)(function*(n,e){const r=(yield ZP()).transaction(o1,"readwrite"),c=r.objectStore(o1).put({compositeKey:n,value:e});return new Promise((f,_)=>{c.onsuccess=w=>{f()},r.onerror=w=>{var T;_($s.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const a1=new Qo.Yd("@firebase/app-check");function QP(n,e){return(0,lt.hl)()?function(n,e){return function(n,e){return YR.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{a1.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XP(){return tI().enabled}function eF(){return XR.apply(this,arguments)}function XR(){return(XR=(0,pe.Z)(function*(){const n=tI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yB={error:"UNKNOWN_ERROR"};function vB(n){return lt.US.encodeString(JSON.stringify(n),!1)}function sI(n){return ex.apply(this,arguments)}function ex(){return(ex=(0,pe.Z)(function*(n,e=!1){const t=n.app;WP(t);const r=Fi(t);let c,o=r.token;if(!o){const w=yield r.cachedTokenPromise;w&&oI(w)&&(o=w)}if(!e&&o&&oI(o))return{token:o.token};let _,f=!1;if(XP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zR(uB(t,yield eF()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),f=!0);const w=yield r.exchangeTokenPromise;return yield QP(t,w),Uu(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),f=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?a1.warn(w.message):a1.error(w),c=w}return o?(_={token:o.token},Uu(t,Object.assign(Object.assign({},r),{token:o})),yield QP(t,o)):_=wB(c),f&&nF(t,_),_})).apply(this,arguments)}function nx(n,e){const t=Fi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Uu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function tF(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new nB((0,pe.Z)(function*(){let r;if(r=Fi(e).token?yield sI(n,!0):yield sI(n),r.error)throw r.error}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Uu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nF(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function oI(n){return n.expireTimeMillis-Date.now()>0}function wB(n){return{token:vB(yB),error:n}}class EB{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)nx(this.app,t.next);return Promise.resolve()}}const cF="app-check-internal";(0,Jo._registerComponent)(new ud.wA("app-check",n=>function(n,e){return new EB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cF).initialize()})),(0,Jo._registerComponent)(new ud.wA(cF,n=>function(n){return{getToken:e=>sI(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=Fi(o),f={next:t,error:r,type:e};if(Uu(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]})),c.token&&oI(c.token)){const _=c.token;Promise.resolve().then(()=>{t({token:_.token}),tF(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>tF(n))}(n,"INTERNAL",e),removeTokenListener:e=>nx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Jo.registerVersion)("@firebase/app-check","0.5.2");class uI{constructor(){return(0,An.vb)("app-check")}}"undefined"!=typeof window&&window;var ax=F(7841);const hF=new u.OlP("angularfire2.auth.use-emulator"),fF=new u.OlP("angularfire2.auth.settings"),pF=new u.OlP("angularfire2.auth.tenant-id"),gF=new u.OlP("angularfire2.auth.langugage-code"),mF=new u.OlP("angularfire2.auth.use-device-language"),_F=new u.OlP("angularfire.auth.persistence"),yF=(n,e,t,r,o,c,f,_)=>(0,Ai.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,c&&w.useDeviceLanguage(),f)for(const[T,N]of Object.entries(f))w.settings[T]=N;return _&&w.setPersistence(_),w},[t,r,o,c,f,_]);let ux=(()=>{class n{constructor(t,r,o,c,f,_,w,T,N,R,V,H){const ee=new Yt.xQ,me=(0,Ue.of)(void 0).pipe((0,s1.QV)(f.outsideAngular),Tn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,941)))),(0,tt.U)(()=>(0,Ai.on)(t,c,r)),(0,tt.U)(Ce=>yF(Ce,c,_,T,N,R,w,V)),jP({bufferSize:1,refCount:!1}));if(Yu(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{me.pipe(Jn()).subscribe();const Xe=me.pipe(Tn(nt=>nt.getRedirectResult().then(Kt=>Kt,()=>null)),An.iC,jP({bufferSize:1,refCount:!1})),Ze=me.pipe(Tn(nt=>new Dn.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>nt.onAuthStateChanged($r=>Kt.next($r),$r=>Kt.error($r),()=>Kt.complete()))})))),Ct=me.pipe(Tn(nt=>new Dn.y(Kt=>({unsubscribe:c.runOutsideAngular(()=>nt.onIdTokenChanged($r=>Kt.next($r),$r=>Kt.error($r),()=>Kt.complete()))}))));this.authState=Xe.pipe($P(Ze),(0,HR.R)(f.outsideAngular),(0,s1.QV)(f.insideAngular)),this.user=Xe.pipe($P(Ct),(0,HR.R)(f.outsideAngular),(0,s1.QV)(f.insideAngular)),this.idToken=this.user.pipe(Tn(nt=>nt?(0,Zt.D)(nt.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(Tn(nt=>nt?(0,Zt.D)(nt.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,k1.T)(Xe,ee,this.authState.pipe(vn(nt=>!nt))).pipe((0,tt.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,HR.R)(f.outsideAngular),(0,s1.QV)(f.insideAngular))}return(0,Ai.pX)(this,me,c,{spy:{apply:(Ce,Xe,Ze)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&Ze.then(Ct=>ee.next(Ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ai.Dh),u.LFG(Ai.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(An.HU),u.LFG(hF,8),u.LFG(fF,8),u.LFG(pF,8),u.LFG(gF,8),u.LFG(mF,8),u.LFG(_F,8),u.LFG(uI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$B=(()=>{class n{constructor(){ax.Z.registerVersion("angularfire",An.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ux]}),n})();function vF(n,e){return function(n,e=pp.z){return new Dn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function lx(n,e){return vF(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function lI(n,e){return lx(n,e).pipe(Ia(void 0),zp(),(0,tt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,_)=>{const w=o.find(N=>N.doc.ref.isEqual(f.ref)),T=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),c}))}function bF(n,e,t){return lI(n,t).pipe(mu((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function(n,e){return t=>t.lift(new kv(n,e))}(),(0,tt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function cx(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function wF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ia(void 0),zp(),vn(([r,o])=>o.length>0||!r),(0,tt.U)(([r,o])=>o),An.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wF(e);return bF(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return lx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),An.iC)}get(e){return(0,Zt.D)(this.query.get(e)).pipe(An.iC)}add(e){return this.ref.add(e)}doc(e){return new DF(this.ref.doc(e),this.afs)}}class DF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=IF(r,t);return new EF(o,c,this.afs)}snapshotChanges(){return function(n,e){return vF(n,e).pipe(Ia(void 0),zp(),(0,tt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Zt.D)(this.ref.get(e)).pipe(An.iC)}}class zB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lI(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vn(t=>t.length>0),An.iC):lI(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wF(e);return bF(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return lx(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),An.iC)}get(e){return(0,Zt.D)(this.query.get(e)).pipe(An.iC)}}const CF=new u.OlP("angularfire2.enableFirestorePersistence"),TF=new u.OlP("angularfire2.firestore.persistenceSettings"),ZB=new u.OlP("angularfire2.firestore.settings"),YB=new u.OlP("angularfire2.firestore.use-emulator");function IF(n,e=(t=>t)){return{query:e(n),ref:n}}let KB=(()=>{class n{constructor(t,r,o,c,f,_,w,T,N,R,V,H,ee,me,Ce,Xe,Ze){this.schedulers=w;const Ct=(0,Ai.on)(t,_,r),nt=N;R&&yF(Ct,_,V,ee,me,Ce,H,Xe),[this.firestore,this.persistenceEnabled$]=(0,Ai.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Kt=_.runOutsideAngular(()=>Ct.firestore());if(c&&Kt.settings(c),nt&&Kt.useEmulator(...nt),o&&!Yu(f)){const $r=()=>{try{return(0,Zt.D)(Kt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch($u){return"undefined"!=typeof console&&console.warn($u),(0,Ue.of)(!1)}};return[Kt,_.runOutsideAngular($r)]}return[Kt,(0,Ue.of)(!1)]},[c,nt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=IF(o,r),_=this.schedulers.ngZone.run(()=>c);return new EF(_,f,this)}collectionGroup(t,r){const o=r||(f=>f),c=this.firestore.collectionGroup(t);return new zB(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new DF(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ai.Dh),u.LFG(Ai.xv,8),u.LFG(CF,8),u.LFG(ZB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(An.HU),u.LFG(TF,8),u.LFG(YB,8),u.LFG(ux,8),u.LFG(hF,8),u.LFG(fF,8),u.LFG(pF,8),u.LFG(gF,8),u.LFG(mF,8),u.LFG(_F,8),u.LFG(uI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JB=(()=>{class n{constructor(){ax.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CF,useValue:!0},{provide:TF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[KB]}),n})();class XB{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new eU(e,this.dueTime,this.scheduler))}}class eU extends rn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function tU(n){n.debouncedNext()}const SF="firebasestorage.googleapis.com",AF="storageBucket";class Ir extends lt.ZR{constructor(e,t){super(dx(e),`Firebase Storage: ${t} (${dx(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ir.prototype)}_codeEquals(e){return dx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function dx(n){return"storage/"+n}function hx(){return new Ir("unknown","An unknown error occurred, please check the error payload for server response.")}function NF(){return new Ir("canceled","User canceled the upload/download.")}function MF(){return new Ir("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xy(n){return new Ir("invalid-argument",n)}function RF(){return new Ir("app-deleted","The Firebase app was deleted.")}function xF(n){return new Ir("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function u1(n,e){return new Ir("invalid-format","String does not match format '"+n+"': "+e)}function l1(n){throw new Ir("internal-error","Internal error: "+n)}class vs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vs.makeFromUrl(e,t)}catch(o){return new vs(e,"")}if(""===r.path)return r;throw function(n){return new Ir("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(nt){nt.path_=decodeURIComponent(nt.path)}const R=t.replace(/[.]/g,"\\."),Ct=[{regex:_,indices:{bucket:1,path:3},postModify:function(nt){"/"===nt.path.charAt(nt.path.length-1)&&(nt.path_=nt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===SF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let nt=0;nt<Ct.length;nt++){const Kt=Ct[nt],$r=Kt.regex.exec(e);if($r){let bo=$r[Kt.indices.path];bo||(bo=""),r=new vs($r[Kt.indices.bucket],bo),Kt.postModify(r);break}}if(null==r)throw function(n){return new Ir("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class gU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cI(n){return"string"==typeof n||n instanceof String}function kF(n){return fx()&&n instanceof Blob}function fx(){return"undefined"!=typeof Blob}function px(n,e,t,r){if(r<e)throw Xy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Xy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Pd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function OF(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var kf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(kf||(kf={})),kf))();class wU{constructor(e,t,r,o,c,f,_,w,T,N,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=w,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,f=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const w=this.callback_(_,_.getResponse());!function(n){return void 0!==n}(w)?c():c(w)}catch(w){f(w)}else if(null!==_){const w=hx();w.serverResponse=_.getErrorText(),f(this.errorCallback_?this.errorCallback_(_,w):w)}else f(o.canceled?this.appDelete_?RF():NF():new Ir("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new dI(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,c=null,f=!1,_=0;function w(){return 2===_}let T=!1;function N(...Ce){T||(T=!0,e.apply(null,Ce))}function R(Ce){o=setTimeout(()=>{o=null,n(H,w())},Ce)}function V(){c&&clearTimeout(c)}function H(Ce,...Xe){if(T)return void V();if(Ce)return V(),void N.call(null,Ce,...Xe);if(w()||f)return V(),void N.call(null,Ce,...Xe);let Ct;r<64&&(r*=2),1===_?(_=2,Ct=0):Ct=1e3*(r+Math.random()),R(Ct)}let ee=!1;function me(Ce){ee||(ee=!0,V(),!T&&(null!==o?(Ce||(_=2),clearTimeout(o),R(0)):Ce||(_=1)))}return R(0),c=setTimeout(()=>{f=!0,me(!0)},t),me}((r,o)=>{if(o)return void r(!1,new dI(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const f=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const _=c.getErrorCode()===kf.NO_ERROR,w=c.getStatus();if(!_||this.isRetryStatusCode_(w)){const N=c.getErrorCode()===kf.ABORT;return void r(!1,new dI(!1,null,N))}const T=-1!==this.successCodes_.indexOf(w);r(!0,new dI(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class dI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AU(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(fx())return new Blob(n);throw new Ir("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gx{constructor(e,t){this.data=e,this.contentType=t||null}}function mx(n,e){switch(n){case ia.RAW:return new gx(PF(e));case ia.BASE64:case ia.BASE64URL:return new gx(FF(n,e));case ia.DATA_URL:return new gx(function(n){const e=new LF(n);return e.base64?FF(ia.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw u1(ia.DATA_URL,"Malformed data URL.")}return PF(e)}(e.rest)}(e),function(n){return new LF(n).contentType}(e))}throw hx()}function PF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function FF(n,e){switch(n){case ia.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw u1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ia.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw u1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw u1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class LF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw u1(ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class tc{constructor(e,t){let r=0,o="";kF(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(kF(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new tc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new tc(r,!0)}}static getBlob(...e){if(fx()){const t=e.map(r=>r instanceof tc?r.data_:r);return new tc(AU.apply(null,t))}{const t=e.map(f=>cI(f)?mx(ia.RAW,f).data:f.data_);let r=0;t.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(f=>{for(let _=0;_<f.length;_++)o[c++]=f[_]}),new tc(o,!0)}}uploadData(){return this.data_}}function _x(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function VF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function LU(n,e){return e}class Hs{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||LU}}let hI=null;function c1(){if(hI)return hI;const n=[];n.push(new Hs("bucket")),n.push(new Hs("generation")),n.push(new Hs("metageneration")),n.push(new Hs("name","fullPath",!0));const t=new Hs("name");t.xform=function(c,f){return function(n){return!cI(n)||n.length<2?n:VF(n)}(f)},n.push(t);const o=new Hs("size");return o.xform=function(c,f){return void 0!==f?Number(f):f},n.push(o),n.push(new Hs("timeCreated")),n.push(new Hs("updated")),n.push(new Hs("md5Hash",null,!0)),n.push(new Hs("cacheControl",null,!0)),n.push(new Hs("contentDisposition",null,!0)),n.push(new Hs("contentEncoding",null,!0)),n.push(new Hs("contentLanguage",null,!0)),n.push(new Hs("contentType",null,!0)),n.push(new Hs("metadata","customMetadata",!0)),hI=n,hI}function BF(n,e,t){const r=_x(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const f=t[c];r[f.local]=f.xform(r,e[f.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new vs(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function yx(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const UF="prefixes";class nc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rc(n){if(!n)throw hx()}function fI(n,e){return function(r,o){const c=BF(n,o,e);return rc(null!==c),c}}function ev(n){return function(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Ir("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ir("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Ir("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Ir("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function d1(n){const e=ev(n);return function(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function(n){return new Ir("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function $F(n,e,t){const o=Pd(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new nc(o,"GET",fI(n,t),f);return _.errorHandler=d1(e),_}function WU(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const _=Pd(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new nc(_,"GET",function(n,e){return function(r,o){const c=function(n,e,t){const r=_x(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[UF])for(const o of t[UF]){const c=o.replace(/\/$/,""),f=n._makeStorageReference(new vs(e,c));r.prefixes.push(f)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new vs(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return rc(null!==c),c}}(n,e.bucket),T);return N.urlParams=c,N.errorHandler=ev(e),N}function GF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class pI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function vx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){rc(!1)}return rc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const e3={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bx(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;case"error":default:return Gs.ERROR}}class t3{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function tv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class r3 extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw l1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw l1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw l1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw l1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw l1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ju(){return new r3}class ZF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=c1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),f=GF(e,r,o),_={name:f.fullPath},w=Pd(c,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},R=yx(f,t),ee=new nc(w,"POST",function(me){let Ce;vx(me);try{Ce=me.getResponseHeader("X-Goog-Upload-URL")}catch(Xe){rc(!1)}return rc(cI(Ce)),Ce},n.maxUploadRetryTime);return ee.urlParams=_,ee.headers=N,ee.body=R,ee.errorHandler=ev(e),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ju,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const w=new nc(t,"POST",function(T){const N=vx(T,["active","final"]);let R=null;try{R=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){rc(!1)}R||rc(!1);const V=Number(R);return rc(!isNaN(V)),new pI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=ev(e),w}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,ju,t,r);this._request=c,c.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new pI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let f;try{f=function(n,e,t,r,o,c,f,_){const w=new pI(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw new Ir("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=w.total-w.current;let N=T;o>0&&(N=Math.min(N,o));const R=w.current,ee={"X-Goog-Upload-Command":N===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},me=r.slice(R,R+N);if(null===me)throw MF();const Ct=new nc(t,"POST",function(nt,Kt){const $r=vx(nt,["active","final"]),$u=w.current+N,bo=r.size();let Dx;return Dx="final"===$r?fI(e,c)(nt,Kt):null,new pI($u,bo,"final"===$r,Dx)},e.maxUploadRetryTime);return Ct.headers=ee,Ct.body=me.uploadData(),Ct.progressCallback=_||null,Ct.errorHandler=ev(n),Ct}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const _=this._ref.storage._makeRequest(f,ju,o,c);this._request=_,_.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=$F(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,ju,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Ct="";for(let nt=0;nt<2;nt++)Ct+=Math.random().toString().slice(2);return Ct}();f["Content-Type"]="multipart/related; boundary="+w;const T=GF(e,r,o),N=yx(T,t),H=tc.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+w+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===H)throw MF();const ee={name:T.fullPath},me=Pd(c,n.host,n._protocol),Xe=n.maxUploadRetryTime,Ze=new nc(me,"POST",fI(n,t),Xe);return Ze.urlParams=ee,Ze.headers=f,Ze.body=H.uploadData(),Ze.errorHandler=ev(e),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ju,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=NF(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=bx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new t3(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(bx(this._state)){case Gs.SUCCESS:tv(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:tv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bx(this._state)){case Gs.RUNNING:case Gs.PAUSED:e.next&&tv(e.next.bind(e,this.snapshot))();break;case Gs.SUCCESS:e.complete&&tv(e.complete.bind(e))();break;case Gs.CANCELED:case Gs.ERROR:e.error&&tv(e.error.bind(e,this._error))();break;default:e.error&&tv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Qg{constructor(e,t){this._service=e,this._location=t instanceof vs?t:vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qg(e,t)}get root(){const e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VF(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vs(this._location.bucket,e);return new Qg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw xF(e)}}function KF(n,e,t){return wx.apply(this,arguments)}function wx(){return(wx=(0,pe.Z)(function*(n,e,t){const o=yield JF(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield KF(n,e,o.nextPageToken))})).apply(this,arguments)}function JF(n,e){null!=e&&"number"==typeof e.maxResults&&px("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=WU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ju)}function g3(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=Pd(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new nc(o,"GET",function(n,e){return function(r,o){const c=BF(n,o,e);return rc(null!==c),function(n,e,t,r){const o=_x(e);if(null===o||!cI(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const f=encodeURIComponent;return c.split(",").map(T=>{const R=n.fullPath;return Pd("/b/"+f(n.bucket)+"/o/"+f(R),t,r)+OF({alt:"media",token:T})})[0]}(c,o,n.host,n._protocol)}}(n,t),f);return _.errorHandler=d1(e),_}(n.storage,n._location,c1());return n.storage.makeRequestWithTokens(e,ju).then(t=>{if(null===t)throw new Ir("no-download-url","The given file does not have any download URLs.");return t})}function QF(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new vs(n._location.bucket,t);return new Qg(n.storage,r)}function XF(n,e){if(n instanceof Ex){const t=n;if(null==t._bucket)throw new Ir("no-default-bucket","No default bucket found. Did you set the '"+AF+"' property when initializing the app?");const r=new Qg(t,t._bucket);return null!=e?XF(r,e):r}return void 0!==e?QF(n,e):n}function v3(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Ex)return function(n,e){return new Qg(n,e)}(n,e);throw Xy("To use ref(service, url), the first argument must be a Storage instance.")}return XF(n,e)}function eL(n,e){const t=null==e?void 0:e[AF];return null==t?null:vs.makeFromBucketSpec(t,n)}class Ex{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=SF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?vs.makeFromBucketSpec(o,this._host):eL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vs.makeFromBucketSpec(this._url,e):eL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qg(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new gU(RF());{const c=function(n,e,t,r,o,c){const f=OF(n.urlParams),_=n.url+f,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new wU(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,c).getPromise()})()}}const tL="@firebase/storage";function iL(n,e){return v3(n=(0,lt.m9)(n),e)}(0,Jo._registerComponent)(new ud.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Ex(t,r,o,e,Jo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Jo.registerVersion)(tL,"0.9.0",""),(0,Jo.registerVersion)(tL,"0.9.0","esm2017");class gI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sL{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new gI(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?f=>t(new gI(f,this,this._ref)):{next:t.next?f=>t.next(new gI(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class oL{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Fd(e,this._service))}get items(){return this._delegate.items.map(e=>new Fd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return QF(n,e)}(this._delegate,e);return new Fd(t,this.storage)}get root(){return new Fd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Fd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sL(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ZF(n,new tc(e),t)}(n=(0,lt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ia.RAW,r){this._throwIfRoot("putString");const o=mx(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new sL(new ZF(this._delegate,new tc(o.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return KF(n,e).then(()=>e)}(n=(0,lt.m9)(n))}(this._delegate).then(e=>new oL(e,this.storage))}list(e){return function(n,e){return JF(n=(0,lt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oL(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=$F(n.storage,n._location,c1());return n.storage.makeRequestWithTokens(e,ju)}(n=(0,lt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const c=Pd(e.fullServerUrl(),n.host,n._protocol),_=yx(t,r),T=n.maxOperationRetryTime,N=new nc(c,"PATCH",fI(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=_,N.errorHandler=d1(e),N}(n.storage,n._location,e,c1());return n.storage.makeRequestWithTokens(t,ju)}(n=(0,lt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return g3(n=(0,lt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Pd(e.fullServerUrl(),n.host,n._protocol),_=new nc(r,"DELETE",function(w,T){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=d1(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ju)}(n=(0,lt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw xF(e)}}class aL{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(uL(e))throw Xy("ref() expected a child path but got a URL, use refFromURL instead.");return new Fd(iL(this._delegate,e),this)}refFromURL(e){if(!uL(e))throw Xy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vs.makeFromUrl(e,this._delegate.host)}catch(t){throw Xy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fd(iL(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,lt.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function uL(n){return/^[A-Za-z]+:\/\//.test(n)}function P3(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new aL(t,r)}function lL(n){const e=function(n){return new Dn.y(e=>{const t=f=>e.next(f);t(n.snapshot);const c=n.on("state_changed",t);return n.then(f=>{t(f),e.complete()},f=>{t(n.snapshot),(f=>{e.error(f)})(f)}),function(){c()}}).pipe(function(n,e=pp.P){return t=>t.lift(new XB(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function mI(n){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(An.fc,Tn(()=>n.getDownloadURL()),An.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(An.fc,Tn(()=>n.getMetadata()),An.iC),delete:()=>(0,Zt.D)(n.delete()),child:e=>mI(n.child(e)),updateMetadata:e=>(0,Zt.D)(n.updateMetadata(e)),put:(e,t)=>lL(n.put(e,t)),putString:(e,t,r)=>lL(n.putString(e,t,r)),list:e=>(0,Zt.D)(n.list(e)),listAll:()=>(0,Zt.D)(n.listAll())}}!function(n){const e={TaskState:Gs,TaskEvent:e3,StringFormat:ia,Storage:aL,Reference:Fd};n.INTERNAL.registerComponent(new ud.wA("storage-compat",P3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(iC.Z);const V3=new u.OlP("angularfire2.storageBucket"),B3=new u.OlP("angularfire2.storage.maxUploadRetryTime"),U3=new u.OlP("angularfire2.storage.maxOperationRetryTime"),j3=new u.OlP("angularfire2.storage.use-emulator");let $3=(()=>{class n{constructor(t,r,o,c,f,_,w,T,N,R){const V=(0,Ai.on)(t,f,r);this.storage=(0,Ai.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const H=f.runOutsideAngular(()=>V.storage(o||void 0)),ee=N;return ee&&H.useEmulator(...ee),w&&H.setMaxUploadRetryTime(w),T&&H.setMaxOperationRetryTime(T),H},[w,T])}ref(t){return mI(this.storage.ref(t))}refFromURL(t){return mI(this.storage.refFromURL(t))}upload(t,r,o){return mI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ai.Dh),u.LFG(Ai.xv,8),u.LFG(V3,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(An.HU),u.LFG(B3,8),u.LFG(U3,8),u.LFG(j3,8),u.LFG(uI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),G3=(()=>{class n{constructor(){ax.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$3],imports:[H3]}),n})();const cL_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[QA]}),n.\u0275inj=u.cJS({providers:[],imports:[[jf,TI,KA,Ai.hO.initializeApp(cL_firebaseConfig),JB,$B,G3]]}),n})();(0,u.G48)(),eo().bootstrapModule(q3).catch(n=>console.error(n))},3394:(He,_e,F)=>{"use strict";F.d(_e,{Z:()=>Ne});var u=F(3854),te=F(3910),L=F(8026),ce=F(5422);class ie{constructor(he,X){this._delegate=he,this.firebase=X,(0,L._addComponent)(he,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(he,X=L._DEFAULT_ENTRY_NAME){var re;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(he);return!we.isInitialized()&&"EXPLICIT"===(null===(re=we.getComponent())||void 0===re?void 0:re.instantiationMode)&&we.initialize(),we.getImmediate({identifier:X})}_removeServiceInstance(he,X=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(X)}_addComponent(he){(0,L._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,L._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function z(){const be=function(be){const he={},X={__esModule:!0,initializeApp:function(yt,pn={}){const vt=L.initializeApp(yt,pn);if((0,u.r3)(he,vt.name))return he[vt.name];const ft=new be(vt,X);return he[vt.name]=ft,ft},app:we,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const pn=yt.name,vt=pn.replace("-compat","");if(L._registerComponent(yt)&&"PUBLIC"===yt.type){const ft=(Ot=we())=>{if("function"!=typeof Ot[vt])throw oe.create("invalid-app-argument",{appName:pn});return Ot[vt]()};void 0!==yt.serviceProps&&(0,u.ZB)(ft,yt.serviceProps),X[vt]=ft,be.prototype[vt]=function(...Ot){return this._getService.bind(this,pn).apply(this,yt.multipleInstances?Ot:[])}}return"PUBLIC"===yt.type?X[vt]:null},removeApp:function(yt){delete he[yt]},useAsService:function(yt,pn){return"serverAuth"===pn?null:pn},modularAPIs:L}};function we(yt){if(!(0,u.r3)(he,yt=yt||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:yt});return he[yt]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(he).map(yt=>he[yt])}}),we.App=be,X}(ie);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(X){(0,u.ZB)(be,X)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),be}(),U=new ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=P;(0,L.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(He,_e,F)=>{"use strict";F.r(_e),F.d(_e,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>sa,_DEFAULT_ENTRY_NAME:()=>bs,_addComponent:()=>ws,_addOrOverwriteComponent:()=>wo,_apps:()=>Pt,_clearComponents:()=>gn,_components:()=>jt,_getProvider:()=>sn,_registerComponent:()=>Es,_removeServiceInstance:()=>za,deleteApp:()=>ir,getApp:()=>ss,getApps:()=>De,initializeApp:()=>Li,onLog:()=>$t,registerVersion:()=>Ge,setLogLevel:()=>Vi});var u=F(8239),te=F(3910),L=F(5422),ce=F(3854);class ie{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(et){const it=et.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Nt)){const Mt=Nt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(Nt=>Nt).join(" ")}}const oe="@firebase/app",K="0.7.10",z=new L.Yd("@firebase/app"),bs="[DEFAULT]",Wa={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,jt=new Map;function ws(et,it){try{et.container.addComponent(it)}catch(Nt){z.debug(`Component ${it.name} failed to register with FirebaseApp ${et.name}`,Nt)}}function wo(et,it){et.container.addOrOverwriteComponent(it)}function Es(et){const it=et.name;if(jt.has(it))return z.debug(`There were multiple attempts to register component ${it}.`),!1;jt.set(it,et);for(const Nt of Pt.values())ws(Nt,et);return!0}function sn(et,it){return et.container.getProvider(it)}function za(et,it,Nt=bs){sn(et,it).clearInstance(Nt)}function gn(){jt.clear()}const Vt=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(it,Nt,Mt){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const sa="9.6.0";function Li(et,it={}){"object"!=typeof it&&(it={name:it});const Nt=Object.assign({name:bs,automaticDataCollectionEnabled:!1},it),Mt=Nt.name;if("string"!=typeof Mt||!Mt)throw Vt.create("bad-app-name",{appName:String(Mt)});const ti=Pt.get(Mt);if(ti){if((0,ce.vZ)(et,ti.options)&&(0,ce.vZ)(Nt,ti.config))return ti;throw Vt.create("duplicate-app",{appName:Mt})}const Gt=new te.H0(Mt);for(const Je of jt.values())Gt.addComponent(Je);const Pe=new mn(et,Nt,Gt);return Pt.set(Mt,Pe),Pe}function ss(et=bs){const it=Pt.get(et);if(!it)throw Vt.create("no-app",{appName:et});return it}function De(){return Array.from(Pt.values())}function ir(et){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(et){const it=et.name;Pt.has(it)&&(Pt.delete(it),yield Promise.all(et.container.getProviders().map(Nt=>Nt.delete())),et.isDeleted=!0)})).apply(this,arguments)}function Ge(et,it,Nt){var Mt;let ti=null!==(Mt=Wa[et])&&void 0!==Mt?Mt:et;Nt&&(ti+=`-${Nt}`);const Gt=ti.match(/\s|\//),Pe=it.match(/\s|\//);if(Gt||Pe){const Je=[`Unable to register library "${ti}" with version "${it}":`];return Gt&&Je.push(`library name "${ti}" contains illegal characters (whitespace or "/")`),Gt&&Pe&&Je.push("and"),Pe&&Je.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void z.warn(Je.join(" "))}Es(new te.wA(`${ti}-version`,()=>({library:ti,version:it}),"VERSION"))}function $t(et,it){if(null!==et&&"function"!=typeof et)throw Vt.create("invalid-log-argument");(0,L.Am)(et,it)}function Vi(et){(0,L.Ub)(et)}Es(new te.wA("platform-logger",it=>new ie(it),"PRIVATE")),Ge(oe,K,""),Ge(oe,K,"esm2017"),Ge("fire-js","")},3910:(He,_e,F)=>{"use strict";F.d(_e,{wA:()=>L,H0:()=>K});var u=F(8239),te=F(3854);class L{constructor(P,U,G){this.name=P,this.instanceFactory=U,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ce="[DEFAULT]";class ie{constructor(P,U){this.name=P,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const U=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(U)){const G=new te.BH;if(this.instancesDeferred.set(U,G),this.isInitialized(U)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:U});de&&G.resolve(de)}catch(de){}}return this.instancesDeferred.get(U).promise}getImmediate(P){var U;const G=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),de=null!==(U=null==P?void 0:P.optional)&&void 0!==U&&U;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Re){if(de)return null;throw Re}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(U){}for(const[U,G]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(U);try{const Re=this.getOrInitializeService({instanceIdentifier:de});G.resolve(Re)}catch(Re){}}}}clearInstance(P=ce){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,u.Z)(function*(){const U=Array.from(P.instances.values());yield Promise.all([...U.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...U.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ce){return this.instances.has(P)}getOptions(P=ce){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:U={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:G,options:U});for(const[Re,Ne]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Re)&&Ne.resolve(de);return de}onInit(P,U){var G;const de=this.normalizeInstanceIdentifier(U),Re=null!==(G=this.onInitCallbacks.get(de))&&void 0!==G?G:new Set;Re.add(P),this.onInitCallbacks.set(de,Re);const Ne=this.instances.get(de);return Ne&&P(Ne,de),()=>{Re.delete(P)}}invokeOnInitCallbacks(P,U){const G=this.onInitCallbacks.get(U);if(G)for(const de of G)try{de(P,U)}catch(Re){}}getOrInitializeService({instanceIdentifier:P,options:U={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(z=P,z===ce?void 0:z),options:U}),this.instances.set(P,G),this.instancesOptions.set(P,U),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch(de){}var z;return G||null}normalizeInstanceIdentifier(P=ce){return this.component?this.component.multipleInstances?P:ce:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const U=this.getProvider(P.name);if(U.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);U.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const U=new ie(P,this);return this.providers.set(P,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(He,_e,F)=>{"use strict";F.d(_e,{in:()=>te,Yd:()=>oe,Ub:()=>K,Am:()=>z});const u=[];var te=(()=>{return(P=te||(te={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",te;var P})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},J=(P,U,...G)=>{if(U<P.logLevel)return;const de=(new Date).toISOString(),Re=ie[U];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Re](`[${de}]  ${P.name}:`,...G)};class oe{constructor(U){this.name=U,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in te))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?L[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...U),this._logHandler(this,te.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...U),this._logHandler(this,te.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,te.INFO,...U),this._logHandler(this,te.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,te.WARN,...U),this._logHandler(this,te.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...U),this._logHandler(this,te.ERROR,...U)}}function K(P){u.forEach(U=>{U.setLogLevel(P)})}function z(P,U){for(const G of u){let de=null;U&&U.level&&(de=L[U.level]),G.userLogHandler=null===P?null:(Re,Ne,...be)=>{const he=be.map(X=>{if(null==X)return null;if("string"==typeof X)return X;if("number"==typeof X||"boolean"==typeof X)return X.toString();if(X instanceof Error)return X.message;try{return JSON.stringify(X)}catch(re){return null}}).filter(X=>X).join(" ");Ne>=(null!=de?de:Re.logLevel)&&P({level:te[Ne].toLowerCase(),message:he,args:be,type:Re.name})}}}},8239:(He,_e,F)=>{"use strict";function u(L,ce,ie,J,oe,K,z){try{var P=L[K](z),U=P.value}catch(G){return void ie(G)}P.done?ce(U):Promise.resolve(U).then(J,oe)}function te(L){return function(){var ce=this,ie=arguments;return new Promise(function(J,oe){var K=L.apply(ce,ie);function z(U){u(K,J,oe,z,P,"next",U)}function P(U){u(K,J,oe,z,P,"throw",U)}z(void 0)})}}F.d(_e,{Z:()=>te})}},He=>{He(He.s=2887)}]);