(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:Ke=>{function be(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}be.keys=()=>[],be.resolve=be,be.id=8255,Ke.exports=be},7716:(Ke,be,F)=>{"use strict";F.d(be,{deG:()=>hp,tb:()=>zD,AFp:()=>yw,ip1:()=>_w,CZH:()=>jf,hGG:()=>Ly,z2F:()=>ic,sBO:()=>uS,Sil:()=>ju,_Vd:()=>Zl,EJc:()=>KD,SBq:()=>Ga,qLn:()=>Ph,vpe:()=>Ot,gxx:()=>Jc,tBr:()=>_u,XFs:()=>Be,OlP:()=>xn,zs3:()=>Ln,ZZ4:()=>Fu,aQg:()=>Nd,soG:()=>Iy,YKP:()=>Af,v3s:()=>vN,h0i:()=>qa,PXZ:()=>dx,R0b:()=>jr,FiY:()=>Ra,Lbi:()=>WD,g9A:()=>ZD,Qsj:()=>X_,FYo:()=>ia,JOm:()=>La,Tiy:()=>Ef,q3G:()=>yn,tp0:()=>Fr,EAV:()=>wN,Rgc:()=>Rg,dDg:()=>tT,DyG:()=>Sa,q4F:()=>db,GfV:()=>ey,s_b:()=>Sf,ifc:()=>Pe,eFA:()=>mN,G48:()=>My,Gpc:()=>B,X6Q:()=>Ny,_c5:()=>EN,VLi:()=>rT,c2e:()=>YD,zSh:()=>Cu,wAp:()=>ft,vHH:()=>Me,EiD:()=>qt,mCW:()=>Cl,qzn:()=>Pa,JVY:()=>Pm,pB0:()=>vl,eBb:()=>Cp,L6k:()=>wp,LAX:()=>Yo,cg1:()=>$_,Tjo:()=>CN,kL8:()=>cE,yhl:()=>Om,dqk:()=>Kt,sIi:()=>Yh,CqO:()=>jl,QGY:()=>To,F4k:()=>ef,RDi:()=>ip,AaK:()=>Q,z3N:()=>zo,qOj:()=>id,TTD:()=>gr,_Bn:()=>ob,xp6:()=>r_,uIk:()=>Kp,Tol:()=>Ys,Gre:()=>JC,DjV:()=>cf,ekj:()=>dg,Suo:()=>BS,Xpm:()=>Xn,lG2:()=>Tt,Yz7:()=>on,cJS:()=>gn,oAB:()=>Ve,Yjl:()=>Mn,Y36:()=>tg,_UZ:()=>P0,BQk:()=>R_,ynx:()=>Xh,qZA:()=>ng,TgZ:()=>Ul,EpF:()=>Bl,n5z:()=>hh,Ikx:()=>vn,SDv:()=>nb,QtT:()=>Y_,pQV:()=>rb,LFG:()=>Cn,$8M:()=>xc,NdJ:()=>x_,CRH:()=>Sr,oxw:()=>L0,ALo:()=>ED,lcZ:()=>DD,Hsn:()=>tf,F$t:()=>sg,Q6J:()=>O0,s9C:()=>Qr,MGl:()=>og,VKq:()=>Gg,WLB:()=>_y,kEZ:()=>Qb,iGM:()=>Qn,MAs:()=>dd,CHM:()=>nu,LSH:()=>Sh,kYT:()=>ht,Udp:()=>cg,YNc:()=>S0,W1O:()=>FD,_uU:()=>bd,Oqu:()=>V_,hij:()=>fg,Gf:()=>US});var u=F(9765),j=F(5319),O=F(7574),le=F(6682),ae=F(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function W(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=ee({__forward_ref__:ee});function B(i){return i.__forward_ref__=B,i.toString=function(){return Q(this())},i}function G(i){return he(i)?i():i}function he(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===B}class Me extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function ne(i){return"string"==typeof i?i:null==i?"":String(i)}function oe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ne(i)}function Nt(i,s){const a=s?` in ${s}`:"";throw new Me("201",`No provider for ${oe(i)} found${a}`)}function jt(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}function on(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function gn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xt(i){return Qt(i,ke)||Qt(i,jn)}function Qt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zi(i){return i&&(i.hasOwnProperty(bn)||i.hasOwnProperty(Ri))?i[bn]:null}const ke=ee({\u0275prov:ee}),bn=ee({\u0275inj:ee}),jn=ee({ngInjectableDef:ee}),Ri=ee({ngInjectorDef:ee});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let Ht;function $n(i){const s=Ht;return Ht=i,s}function st(i,s,a){const c=Xt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Be.Optional?null:void 0!==s?s:void Nt(Q(i),"Injector")}function Mt(i){return{toString:i}.toString()}var Ft=(()=>((Ft=Ft||{})[Ft.OnPush=0]="OnPush",Ft[Ft.Default=1]="Default",Ft))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const et="undefined"!=typeof globalThis&&globalThis,da="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=et||"undefined"!=typeof global&&global||da||cn,Z={},q=[],z=ee({\u0275cmp:ee}),ve=ee({\u0275dir:ee}),ue=ee({\u0275pipe:ee}),qe=ee({\u0275mod:ee}),ct=ee({\u0275loc:ee}),Gt=ee({\u0275fac:ee}),Tn=ee({__NG_ELEMENT_ID__:ee});let Gn=0;function Xn(i){return Mt(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pe.Emulated,id:"c",styles:i.styles||q,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,g=i.pipes;return c.id+=Gn++,c.inputs=Vt(i.inputs,a),c.outputs=Vt(i.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(K):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y):null,c})}function K(i){return hn(i)||function(i){return i[ve]||null}(i)}function Y(i){return function(i){return i[ue]||null}(i)}const Ce={};function Ve(i){return Mt(()=>{const s={type:i.type,bootstrap:i.bootstrap||q,declarations:i.declarations||q,imports:i.imports||q,exports:i.exports||q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ce[i.id]=i.type),s})}function ht(i,s){return Mt(()=>{const a=An(i,!0);a.declarations=s.declarations||q,a.imports=s.imports||q,a.exports=s.exports||q})}function Vt(i,s){if(null==i)return Z;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const Tt=Xn;function Mn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[z]||null}function An(i,s){const a=i[qe]||null;if(!a&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return a}function Os(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function lc(i){return 0!=(8&i.flags)}function zu(i){return 2==(2&i.flags)}function Pr(i){return 1==(1&i.flags)}function ds(i){return null!==i.template}function wr(i){return 0!=(512&i[2])}function ki(i,s){return i.hasOwnProperty(Gt)?i[Gt]:null}class Ps{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function gr(){return pc}function pc(i){return i.type.prototype.ngOnChanges&&(i.setInput=ga),Fs}function Fs(){const i=Xd(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Z)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function ga(i,s,a,c){const d=Xd(i)||function(i,s){return i[Oi]=s}(i,{previous:Z,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[a],w=g[y];f[y]=new Ps(w&&w.currentValue,s,g===Z),i[c]=s}gr.ngInherit=!0;const Oi="__ngSimpleChanges__";function Xd(i){return i[Oi]||null}let hs;function ip(i){hs=i}function co(){return void 0!==hs?hs:"undefined"!=typeof document?document:void 0}function Rn(i){return!!i.listen}const Cr={createRenderer:(i,s)=>co()};function an(i){for(;Array.isArray(i);)i=i[0];return i}function ya(i,s){return an(s[i])}function Pi(i,s){return an(s[i.index])}function _c(i,s){return i.data[s]}function zi(i,s){return i[s]}function li(i,s){const a=s[i];return Os(a)?a:a[0]}function Xu(i){return 4==(4&i[2])}function eu(i){return 128==(128&i[2])}function fs(i,s){return null==s?null:i[s]}function el(i){i[18]=0}function Lo(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const dt={lFrame:ap(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tu(){return dt.bindingsEnabled}function Te(){return dt.lFrame.lView}function Rt(){return dt.lFrame.tView}function nu(i){return dt.lFrame.contextLView=i,i[8]}function wn(){let i=ru();for(;null!==i&&64===i.type;)i=i.parent;return i}function ru(){return dt.lFrame.currentTNode}function Yi(){const i=dt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Gr(i,s){const a=dt.lFrame;a.currentTNode=i,a.isParent=s}function iu(){return dt.lFrame.isParent}function va(){dt.lFrame.isParent=!1}function rl(){return dt.isInCheckNoChangesMode}function fo(i){dt.isInCheckNoChangesMode=i}function or(){const i=dt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function qr(){return dt.lFrame.bindingIndex}function gs(){return dt.lFrame.bindingIndex++}function Er(i){const s=dt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function wa(i){dt.lFrame.inI18n=i}function bc(i,s){const a=dt.lFrame;a.bindingIndex=a.bindingRootIndex=i,wc(s)}function wc(i){dt.lFrame.currentDirectiveIndex=i}function Cc(){return dt.lFrame.currentQueryIndex}function Uo(i){dt.lFrame.currentQueryIndex=i}function il(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ou(i,s,a){if(a&Be.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Be.Host||(d=il(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=dt.lFrame=sl();return c.currentTNode=s,c.lView=i,!0}function au(i){const s=sl(),a=i[1];dt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function sl(){const i=dt.lFrame,s=null===i?null:i.child;return null===s?ap(i):s}function ap(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function rh(){const i=dt.lFrame;return dt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ol=rh;function Bo(){const i=rh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Dr(){return dt.lFrame.selectedIndex}function po(i){dt.lFrame.selectedIndex=i}function qn(){const i=dt.lFrame;return _c(i.tView,i.selectedIndex)}function Ca(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:A}=f;g&&(i.contentHooks||(i.contentHooks=[])).push(-a,g),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),E&&((i.viewHooks||(i.viewHooks=[])).push(a,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,E)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function Ea(i,s,a){Tc(i,s,3,a)}function jo(i,s,a,c){(3&i[2])===a&&Tc(i,s,a,c)}function er(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Tc(i,s,a,c){const f=null!=c?c:-1,g=s.length-1;let y=0;for(let w=void 0!==c?65535&i[18]:0;w<g;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=c&&y>=c)break}else s[w]<0&&(i[18]+=65536),(y<f||-1==f)&&(sh(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function sh(i,s,a,c){const d=a[c]<0,f=a[c+1],y=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ll{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ah(i,s,a){const c=Rn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const g=a[d++],y=a[d++],w=a[d++];c?i.setAttribute(s,y,w,g):s.setAttributeNS(g,y,w)}else{const g=f,y=a[++d];Ls(g)?c&&i.setProperty(s,g,y):c?i.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function cp(i){return 3===i||4===i||6===i}function Ls(i){return 64===i.charCodeAt(0)}function cl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||dp(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function dp(i,s,a,c,d){let f=0,g=i.length;if(-1===s)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,s),f=g+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function Ac(i){return-1!==i}function Ki(i){return 32767&i}function Vs(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Sc=!0;function Ta(i){const s=Sc;return Sc=i,s}let lh=0;function go(i,s){const a=pn(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,lu(c.data,i),lu(s,null),lu(c.blueprint,null));const d=Ze(i,s),f=i.injectorIndex;if(Ac(d)){const g=Ki(d),y=Vs(d,s),w=y[1].data;for(let E=0;E<8;E++)s[f+E]=y[g+E]|w[g+E]}return s[f+8]=d,f}function lu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function pn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ze(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const f=d[1],g=f.type;if(c=2===g?f.declTNode:1===g?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function un(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Tn)&&(c=a[Tn]),null==c&&(c=a[Tn]=lh++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Nn(i,s,a){if(a&Be.Optional)return i;Nt(s,"NodeInjector")}function cu(i,s,a,c){if(a&Be.Optional&&void 0===c&&(c=null),0==(a&(Be.Self|Be.Host))){const d=i[9],f=$n(void 0);try{return d?d.get(s,c,a&Be.Optional):st(s,c,a&Be.Optional)}finally{$n(f)}}return Nn(c,s,a)}function ys(i,s,a,c=Be.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Tn)?i[Tn]:void 0;return"number"==typeof s?s>=0?255&s:du:s}(a);if("function"==typeof f){if(!ou(s,i,c))return c&Be.Host?Nn(d,a,c):cu(s,a,c,d);try{const g=f(c);if(null!=g||c&Be.Optional)return g;Nt(a)}finally{ol()}}else if("number"==typeof f){let g=null,y=pn(i,s),w=-1,E=c&Be.Host?s[16][6]:null;for((-1===y||c&Be.SkipSelf)&&(w=-1===y?Ze(i,s):s[y+8],-1!==w&&Rc(c,!1)?(g=s[1],y=Ki(w),s=Vs(w,s)):y=-1);-1!==y;){const A=s[1];if(mo(f,y,A.data)){const k=dl(y,s,a,g,c,E);if(k!==Zn)return k}w=s[y+8],-1!==w&&Rc(c,s[1].data[y+8]===E)&&mo(f,y,s)?(g=A,y=Ki(w),s=Vs(w,s)):y=-1}}}return cu(s,a,c,d)}const Zn={};function du(){return new Fi(wn(),Te())}function dl(i,s,a,c,d,f){const g=s[1],y=g.data[i+8],A=hl(y,g,a,null==c?zu(y)&&Sc:c!=g&&0!=(3&y.type),d&Be.Host&&f===y);return null!==A?xt(s,g,A,y):Zn}function hl(i,s,a,c,d){const f=i.providerIndexes,g=s.data,y=1048575&f,w=i.directiveStart,A=f>>20,P=d?y+A:i.directiveEnd;for(let H=c?y:y+A;H<P;H++){const J=g[H];if(H<w&&a===J||H>=w&&J.type===a)return H}if(d){const H=g[w];if(H&&ds(H)&&H.type===a)return w}return null}function xt(i,s,a,c){let d=i[a];const f=s.data;if(function(i){return i instanceof ll}(d)){const g=d;g.resolving&&function(i,s){throw new Me("200",`Circular dependency in DI detected for ${i}`)}(oe(f[a]));const y=Ta(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?$n(g.injectImpl):null;ou(i,c,Be.Default);try{d=i[a]=g.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const g=pc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&$n(w),Ta(y),g.resolving=!1,ol()}}return d}function mo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Rc(i,s){return!(i&Be.Self||i&Be.Host&&s)}class Fi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ys(this._tNode,this._lView,s,c,a)}}function hh(i){return Mt(()=>{const s=i.prototype.constructor,a=s[Gt]||hu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Gt]||hu(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function hu(i){return he(i)?()=>{const s=hu(G(i));return s&&s()}:ki(i)}function xc(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(cp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(wn(),i)}const Li="__parameters__";function _o(i,s,a){return Mt(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(w,E,A){const k=w.hasOwnProperty(Li)?w[Li]:Object.defineProperty(w,Li,{value:[]})[Li];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(g),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class xn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=on({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hp=new xn("AnalyzeForEntryComponents"),Sa=Function;function Xi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Xi(c,s)):s!==i&&s.push(c)}return s}function vs(i,s){i.forEach(a=>Array.isArray(a)?vs(a,s):s(a))}function pu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Vi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Bs(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function Wn(i,s,a){let c=vo(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function zn(i,s){const a=vo(i,s);if(a>=0)return i[1|a]}function vo(i,s){return function(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<a];if(s===g)return f<<a;g>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const Ut={},nn="__NG_DI_FLAG__",nr="ngTempTokenPath",ar=/\n/gm,gu="__source",$s=ee({provide:String,useValue:ee});let fi;function _t(i){const s=fi;return fi=i,s}function av(i,s=Be.Default){if(void 0===fi)throw new Error("inject() must be called from an injection context");return null===fi?st(i,void 0,s):fi.get(i,s&Be.Optional?null:void 0,s)}function Cn(i,s=Be.Default){return(Ht||av)(G(i),s)}function qo(i){const s=[];for(let a=0;a<i.length;a++){const c=G(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Be.Default;for(let g=0;g<c.length;g++){const y=c[g],w=mp(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(Cn(d,f))}else s.push(Cn(c))}return s}function mu(i,s){return i[nn]=s,i.prototype[nn]=s,i}function mp(i){return i[nn]}function Hs(i,s,a,c){const d=i[nr];throw s[gu]&&d.unshift(s[gu]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(ar,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[nr]=null,i}const _u=mu(_o("Inject",i=>({token:i})),-1),Ra=mu(_o("Optional"),8),Fr=mu(_o("SkipSelf"),4);let yu;function Wo(i){var s;return(null===(s=function(){if(void 0===yu&&(yu=null,Kt.trustedTypes))try{yu=Kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return yu}())||void 0===s?void 0:s.createHTML(i))||i}class vu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dv extends vu{getTypeName(){return"HTML"}}class hv extends vu{getTypeName(){return"Style"}}class Dh extends vu{getTypeName(){return"Script"}}class fv extends vu{getTypeName(){return"URL"}}class pv extends vu{getTypeName(){return"ResourceURL"}}function zo(i){return i instanceof vu?i.changingThisBreaksApplicationSecurity:i}function Pa(i,s){const a=Om(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Om(i){return i instanceof vu&&i.getTypeName()||null}function Pm(i){return new dv(i)}function wp(i){return new hv(i)}function Cp(i){return new Dh(i)}function Yo(i){return new fv(i)}function vl(i){return new pv(i)}function Ep(i){const s=new gv(i);return function(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch(i){return!1}}()?new Fm(s):s}class Fm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class gv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Wo(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Wo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const g=a.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Th=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cl(i){return(i=String(i)).match(Th)||i.match(wl)?i:"unsafe:"+i}function jc(i){return(i=String(i)).split(",").map(s=>Cl(s.trim())).join(", ")}function Gs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ko(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Ih=Gs("area,br,col,hr,img,wbr"),Dp=Gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),El=Gs("rp,rt"),Tp=Ko(Ih,Ko(Dp,Gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko(El,Gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ko(El,Dp)),v=Gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=Gs("srcset"),S=Ko(v,p,Gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),x=Gs("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Tp.hasOwnProperty(a))return this.sanitizedSomething=!0,!x.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,y=g.toLowerCase();if(!S.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=Cl(w)),p[y]&&(w=jc(w)),this.buf.push(" ",g,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Tp.hasOwnProperty(a)&&!Ih.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Fe(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,He=/([^\#-~ |!])/g;function Fe(i){return i.replace(/&/g,"&amp;").replace(_e,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(He,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ot;function qt(i,s){let a=null;try{ot=ot||Ep(i);let c=s?String(s):"";a=ot.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=a.innerHTML,a=ot.getInertBodyElement(c)}while(c!==f);return Wo((new X).sanitizeChildren(_n(a)||a))}finally{if(a){const c=_n(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _n(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function Sh(i){const s=function(){const i=Te();return i&&i[12]}();return s?s.sanitize(yn.URL,i)||"":Pa(i,"URL")?zo(i):Cl(ne(i))}const xh="__ngContext__";function pi(i,s){i[xh]=s}function yv(i){const s=function(i){return i[xh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Gc(i){return i.ngOriginalError}function DI(i,...s){i.error(...s)}class Ph{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||DI;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Gc(s)):null}_findOriginalError(s){let a=s&&Gc(s);for(;a&&Gc(a);)a=Gc(a);return a||null}}const AI=/^>|^->|<!--|-->|--!>|<!-$/g,Ev=/(<|>)/;const T1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function Fa(i){return i instanceof Function?i():i}var La=(()=>((La=La||{})[La.Important=1]="Important",La[La.DashCase=2]="DashCase",La))();let Dv;function Gm(i,s){return Dv(i,s)}function Mp(i){const s=i[3];return Or(s)?s[3]:s}function qm(i){return Tv(i[13])}function M1(i){return Tv(i[4])}function Tv(i){for(;null!==i&&!Or(i);)i=i[4];return i}function qc(i,s,a,c,d){if(null!=c){let f,g=!1;Or(c)?f=c:Os(c)&&(g=!0,c=c[0]);const y=an(c);0===i&&null!==a?null==d?P1(s,a,y):Il(s,a,y,d||null,!0):1===i&&null!==a?Il(s,a,y,d||null,!0):2===i?Rv(s,y,g):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,c,d){const f=a[7];f!==an(a)&&qc(s,i,c,f,d);for(let y=10;y<a.length;y++){const w=a[y];Wc(w[1],w,i,s,c,f)}}(s,i,f,a,d)}}function Zm(i,s){return Rn(i)?i.createText(s):i.createTextNode(s)}function R1(i,s,a){Rn(i)?i.setValue(s,a):s.textContent=a}function OI(i,s){return i.createComment(function(i){return i.replace(AI,s=>s.replace(Ev,"\u200b$1\u200b"))}(s))}function Iv(i,s,a){return Rn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Wm(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Lo(d,-1)),a.splice(c,1)}function zm(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Wm(d,c),s>0&&(i[a-1][4]=c[4]);const f=Vi(i,10+s);!function(i,s){Wc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const g=f[19];null!==g&&g.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function x1(i,s){if(!(256&s[2])){const a=s[11];Rn(a)&&a.destroyNode&&Wc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Tl(i[1],i);for(;s;){let a=null;if(Os(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Os(s)&&Tl(s[1],s),s=s[3];null===s&&(s=i),Os(s)&&Tl(s[1],s),a=s&&s[4]}s=a}}(s)}}function Tl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof ll)){const f=a[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],w=f[g+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+1],y="function"==typeof g?g(s):an(s[g]),w=c[d=a[f+2]],E=a[f+3];"boolean"==typeof E?y.removeEventListener(a[f],w,E):E>=0?c[d=E]():c[d=-E].unsubscribe(),f+=2}else{const g=c[d=a[f+1]];a[f].call(g)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Rn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Or(s[3])){a!==s[3]&&Wm(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function k1(i,s,a){return O1(i,s.parent,a)}function O1(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Pi(c,a)}function Il(i,s,a,c,d){Rn(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function P1(i,s,a){Rn(i)?i.appendChild(s,a):s.appendChild(a)}function F1(i,s,a,c,d){null!==c?Il(i,s,a,c,d):P1(i,s,a)}function Ym(i,s){return Rn(i)?i.parentNode(s):s.parentNode}function Jm(i,s,a){return Zc(i,s,a)}function Qm(i,s,a){return 40&i.type?Pi(i,a):null}let Sv,Zc=Qm;function L1(i,s){Zc=i,Sv=s}function Lh(i,s,a,c){const d=k1(i,c,s),f=s[11],y=Jm(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)F1(f,d,a[w],y,!1);else F1(f,d,a,y,!1);void 0!==Sv&&Sv(f,c,s,a,d)}function Xm(i,s){if(null!==s){const a=s.type;if(3&a)return Pi(s,i);if(4&a)return Mv(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Xm(i,c);{const d=i[s.index];return Or(d)?Mv(-1,d):an(d)}}if(32&a)return Gm(s,i)()||an(i[s.index]);{const c=Nv(i,s);return null!==c?Array.isArray(c)?c[0]:Xm(Mp(i[16]),c):Xm(i,s.next)}}return null}function Nv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Mv(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Xm(c,d)}return s[7]}function Rv(i,s,a){const c=Ym(i,s);c&&function(i,s,a,c){Rn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}function e_(i,s,a,c,d,f,g){for(;null!=a;){const y=c[a.index],w=a.type;if(g&&0===s&&(y&&pi(an(y),c),a.flags|=4),64!=(64&a.flags))if(8&w)e_(i,s,a.child,c,d,f,!1),qc(s,i,d,y,f);else if(32&w){const E=Gm(a,c);let A;for(;A=E();)qc(s,i,d,A,f);qc(s,i,d,y,f)}else 16&w?Al(i,s,c,a,d,f):qc(s,i,d,y,f);a=g?a.projectionNext:a.next}}function Wc(i,s,a,c,d,f){e_(a,c,i.firstChild,s,d,f,!1)}function Al(i,s,a,c,d,f){const g=a[16],w=g[6].projection[c.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)qc(s,i,d,w[E],f);else e_(i,s,w,g[3],d,f,!0)}function U1(i,s,a){Rn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function xv(i,s,a){Rn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function kv(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const B1="ng-template";function HI(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==kv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Ov(i){return 4===i.type&&i.value!==B1}function GI(i,s,a){return s===(4!==i.type||a?i.value:B1)}function qI(i,s,a){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(cp(i[s]))return s;return i.length}(d);let g=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!GI(i,w,a)||""===w&&1===s.length){if(Jo(c))return!1;g=!0}}else{const E=8&c?w:s[++y];if(8&c&&null!==i.attrs){if(!HI(i.attrs,E,a)){if(Jo(c))return!1;g=!0}continue}const k=Pv(8&c?"class":w,d,Ov(i),a);if(-1===k){if(Jo(c))return!1;g=!0;continue}if(""!==E){let P;P=k>f?"":d[k+1].toLowerCase();const H=8&c?P:null;if(H&&-1!==kv(H,E,0)||2&c&&E!==P){if(Jo(c))return!1;g=!0}}}}else{if(!g&&!Jo(c)&&!Jo(w))return!1;if(g&&Jo(w))continue;g=!1,c=w|1&c}}return Jo(c)||g}function Jo(i){return 0==(1&i)}function Pv(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function j1(i,s,a=!1){for(let c=0;c<s.length;c++)if(qI(i,s[c],a))return!0;return!1}function dR(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function de(i,s){return i?":not("+s.trim()+")":s}function H1(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&c){const y=i[++a];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!Jo(g)&&(s+=de(f,d),d=""),c=g,f=f||!Jo(c);a++}return""!==d&&(s+=de(f,d)),s}const Ye={};function r_(i){G1(Rt(),Te(),Dr()+i,rl())}function G1(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ea(s,f,a)}else{const f=i.preOrderHooks;null!==f&&jo(s,f,0,a)}po(a)}function i_(i,s){return i<<17|s<<2}function bs(i){return i>>17&32767}function mi(i){return 2|i}function Sl(i){return(131068&i)>>2}function s_(i,s){return-131069&i|s<<2}function Nl(i){return 1|i}function c_(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const g=i.data[f];Uo(d),g.contentQueries(2,s[f],f)}}}function jh(i,s,a,c,d,f,g,y,w,E){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,el(A),A[3]=A[15]=i,A[8]=a,A[10]=g||i&&i[10],A[11]=y||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=E||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function wu(i,s,a,c,d){let f=i.data[s];if(null===f)f=xp(i,s,a,c,d),dt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const g=Yi();f.injectorIndex=null===g?-1:g.injectorIndex}return Gr(f,!0),f}function xp(i,s,a,c,d){const f=ru(),g=iu(),w=i.data[s]=function(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function Rl(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Kc(i,s,a){au(s);try{const c=i.viewQuery;null!==c&&t0(1,c,a);const d=i.template;null!==d&&d_(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&c_(i,s),i.staticViewQueries&&t0(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)lA(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Bo()}}function $h(i,s,a,c){const d=s[2];if(256==(256&d))return;au(s);const f=rl();try{el(s),function(i){dt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&d_(i,s,a,2,c);const g=3==(3&d);if(!f)if(g){const E=i.preOrderCheckHooks;null!==E&&Ea(s,E,null)}else{const E=i.preOrderHooks;null!==E&&jo(s,E,0,null),er(s,0)}if(function(i){for(let s=qm(i);null!==s;s=M1(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(1024&d[2])&&Lo(f,1),d[2]|=1024}}}(s),function(i){for(let s=qm(i);null!==s;s=M1(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];eu(c)&&$h(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&c_(i,s),!f)if(g){const E=i.contentCheckHooks;null!==E&&Ea(s,E)}else{const E=i.contentHooks;null!==E&&jo(s,E,1),er(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)po(~d);else{const f=d,g=a[++c],y=a[++c];bc(g,f),y(2,s[f])}}}finally{po(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)Xv(i,s[a])}(s,y);const w=i.viewQuery;if(null!==w&&t0(2,w,c),!f)if(g){const E=i.viewCheckHooks;null!==E&&Ea(s,E)}else{const E=i.viewHooks;null!==E&&jo(s,E,2),er(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Lo(s[3],-1))}finally{Bo()}}function tA(i,s,a,c){const d=s[10],f=!rl(),g=Xu(s);try{f&&!g&&d.begin&&d.begin(),g&&Kc(i,s,c),$h(i,s,a,c)}finally{f&&!g&&d.end&&d.end()}}function d_(i,s,a,c,d){const f=Dr(),g=2&c;try{po(-1),g&&s.length>20&&G1(i,s,20,rl()),a(c,d)}finally{po(f)}}function jv(i,s,a){if(lc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const g=i.data[f];g.contentQueries&&g.contentQueries(1,a[f],f)}}}function $v(i,s,a){!tu()||(function(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||go(a,s),pi(c,s);const g=a.initialInputs;for(let y=d;y<f;y++){const w=i.data[y],E=ds(w);E&&oA(s,a,w);const A=xt(s,i,y,a);pi(A,s),null!==g&&aA(0,y-d,A,w,0,g),E&&(li(a.index,s)[8]=A)}}(i,s,a,Pi(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,d=a.directiveEnd,g=a.index,y=dt.lFrame.currentDirectiveIndex;try{po(g);for(let w=c;w<d;w++){const E=i.data[w],A=s[w];wc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&zr(E,A)}}finally{po(-1),wc(y)}}(i,s,a))}function Hv(i,s,a=Pi){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?a(s,i):i[g];i[d++]=y}}}function vi(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=xl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function xl(i,s,a,c,d,f,g,y,w,E){const A=20+c,k=A+d,P=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ye);return a}(A,k),H="function"==typeof E?E():E;return P[1]={type:i,blueprint:P,template:a,queries:null,viewQuery:y,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function kp(i,s,a,c){const d=Lp(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&n0(i).push(c,d.length-1))}function f_(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function rs(i,s,a,c,d,f,g,y){const w=Pi(s,a);let A,E=s.inputs;!y&&null!=E&&(A=E[c])?(Bi(i,a,A,c,d),zu(s)&&function(i,s){const a=li(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,s.value||"",c):d,Rn(f)?f.setProperty(w,c,d):Ls(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function Wv(i,s,a,c){let d=!1;if(tu()){const f=function(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const g=c[f];j1(a,g.selectors,!1)&&(d||(d=[]),un(go(a,s),i,g.type),ds(g)?(m_(i,a),d.unshift(g)):d.push(g))}return d}(i,s,a),g=null===c?null:{"":-1};if(null!==f){d=!0,Kv(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const k=f[A];k.providersResolver&&k.providersResolver(k)}let y=!1,w=!1,E=Rl(i,s,f.length,null);for(let A=0;A<f.length;A++){const k=f[A];a.mergedAttrs=cl(a.mergedAttrs,k.hostAttrs),rC(i,a,s,E,k),sA(E,k,g),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const P=k.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),E++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,g=[];let y=null,w=null;for(let E=s.directiveStart;E<c;E++){const A=d[E],k=A.inputs,P=null===f||Ov(s)?null:Jv(k,f);g.push(P),y=f_(k,E,y),w=f_(A.outputs,E,w)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=w}(i,a)}g&&function(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Me("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(a,c,g)}return a.mergedAttrs=cl(a.mergedAttrs,a.attrs),d}function p_(i,s,a,c,d,f){const g=f.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(c,d,g)}}function zr(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function m_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function sA(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ds(s)&&(a[""]=i)}}function Kv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function rC(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=ki(d.type)),g=new ll(f,ds(d),null);i.blueprint[c]=g,a[c]=g,p_(i,s,0,c,Rl(i,a,d.hostVars,Ye),d)}function oA(i,s,a){const c=Pi(s,i),d=vi(a),f=i[10],g=Fp(i,jh(i,d,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=g}function Op(i,s,a,c,d,f,g){if(null==f)Rn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==g?ne(f):g(f,c||"",d);Rn(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}function aA(i,s,a,c,d,f){const g=f[s];if(null!==g){const y=c.setInput;for(let w=0;w<g.length;){const E=g[w++],A=g[w++],k=g[w++];null!==y?c.setInput(a,k,E,A):a[A]=k}}}function Jv(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function iC(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function Xv(i,s){const a=li(s,i);if(eu(a)){const c=a[1];80&a[2]?$h(c,a,c.template,a[8]):a[5]>0&&y_(a)}}function y_(i){for(let c=qm(i);null!==c;c=M1(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const g=f[1];$h(g,f,g.template,f[8])}else f[5]>0&&y_(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=li(a[c],i);eu(d)&&d[5]>0&&y_(d)}}function lA(i,s){const a=li(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Kc(c,a,a[8])}function Fp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function v_(i){for(;i;){i[2]|=64;const s=Mp(i);if(wr(i)&&!s)return i;i=s}return null}function e0(i,s,a){const c=s[10];c.begin&&c.begin();try{$h(i,s,i.template,a)}catch(d){throw r0(s,d),d}finally{c.end&&c.end()}}function oC(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=yv(a),d=c[1];tA(d,c,d.template,a)}}(i[8])}function t0(i,s,a){Uo(0),s(i,a)}const aC=(()=>Promise.resolve(null))();function Lp(i){return i[7]||(i[7]=[])}function n0(i){return i.cleanup||(i.cleanup=[])}function r0(i,s){const a=i[9],c=a?a.get(Ph,null):null;c&&c.handleError(s)}function Bi(i,s,a,c,d){for(let f=0;f<a.length;){const g=a[f++],y=a[f++],w=s[g],E=i.data[g];null!==E.setInput?E.setInput(w,d,c,y):w[y]=d}}function kl(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?f=y:1==f?d=W(d,y):2==f&&(c=W(c,y+": "+s[++g]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const Jc=new xn("INJECTOR",-1);class s0{get(s,a=Ut){if(a===Ut){const c=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw c.name="NullInjectorError",c}return a}}const Cu=new xn("Set Injector scope."),Qc={},o0={};let Vp;function Up(){return void 0===Vp&&(Vp=new s0),Vp}function a0(i,s=null,a=null,c){return new dA(i,a,s||Up(),c)}class dA{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&vs(a,y=>this.processProvider(y,s,a)),vs([s],y=>this.processInjectorType(y,[],f)),this.records.set(Jc,Xc(void 0,this));const g=this.records.get(Cu);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Ut,c=Be.Default){this.assertNotDestroyed();const d=_t(this),f=$n(void 0);try{if(!(c&Be.SkipSelf)){let y=this.records.get(s);if(void 0===y){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof xn)&&Xt(s);y=w&&this.injectableDefInScope(w)?Xc(jp(s),Qc):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&Be.Self?Up():this.parent).get(s,a=c&Be.Optional&&a===Ut?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[nr]=g[nr]||[]).unshift(Q(s)),d)throw g;return Hs(g,s,"R3InjectorError",this.source)}throw g}finally{$n(f),_t(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=G(s)))return!1;let d=Zi(s);const f=null==d&&s.ngModule||void 0,g=void 0===f?s:f,y=-1!==c.indexOf(g);if(void 0!==f&&(d=Zi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;c.push(g);try{vs(d.imports,k=>{this.processInjectorType(k,a,c)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:P,providers:H}=A[k];vs(H,J=>this.processProvider(J,P,H||q))}}this.injectorDefTypes.add(g);const w=ki(g)||(()=>new g);this.records.set(g,Xc(w,Qc));const E=d.providers;if(null!=E&&!y){const A=s;vs(E,k=>this.processProvider(k,A,E))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let d=ed(s=G(s))?s:G(s&&s.provide);const f=c0(i=s)?Xc(void 0,i.useValue):Xc(l0(i),Qc);var i;if(ed(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Xc(void 0,Qc,!0),g.factory=()=>qo(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Qc&&(a.value=o0,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=G(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function jp(i){const s=Xt(i),a=null!==s?s.factory:ki(i);if(null!==a)return a;if(i instanceof xn)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Bs(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[ke]||i[jn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function l0(i,s,a){let c;if(ed(i)){const d=G(i);return ki(d)||jp(d)}if(c0(i))c=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...qo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Cn(G(i.useExisting));else{const d=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ki(d)||jp(d);c=()=>new d(...qo(i.deps))}return c}function Xc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function c0(i){return null!==i&&"object"==typeof i&&$s in i}function ed(i){return"function"==typeof i}const nd=function(i,s,a){return function(i,s=null,a=null,c){const d=a0(i,s,a,c);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let Ln=(()=>{class i{static create(a,c){return Array.isArray(a)?nd(a,c,""):nd(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Ut,i.NULL=new s0,i.\u0275prov=on({token:i,providedIn:"any",factory:()=>Cn(Jc)}),i.__NG_ELEMENT_ID__=-1,i})();function S_(i,s){Ca(yv(i)[1],wn())}function id(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ds(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){c.push(d);const g=i;g.inputs=v0(i.inputs),g.declaredInputs=v0(i.declaredInputs),g.outputs=v0(i.outputs);const y=d.hostBindings;y&&wA(i,y);const w=d.viewQuery,E=d.contentQueries;if(w&&Tr(i,w),E&&vC(i,E),ce(i.inputs,d.inputs),ce(i.declaredInputs,d.declaredInputs),ce(i.outputs,d.outputs),ds(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===id&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=cl(d.hostAttrs,a=cl(a,d.hostAttrs))}}(c)}function v0(i){return i===Z?{}:i===q?[]:i}function Tr(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function vC(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function wA(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Yp=null;function sd(){if(!Yp){const i=Kt.Symbol;if(i&&i.iterator)Yp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Yp=c)}}}return Yp}class ws{constructor(s){this.wrapped=s}static wrap(s){return new ws(s)}static unwrap(s){return ws.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof ws}}function Yh(i){return!!w0(i)&&(Array.isArray(i)||!(i instanceof Map)&&sd()in i)}function w0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Do(i,s,a){return i[s]=a}function bi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Nu(i,s,a,c){const d=bi(i,s,a);return bi(i,s+1,c)||d}function Kp(i,s,a,c){const d=Te();return bi(d,gs(),s)&&(Rt(),function(i,s,a,c,d,f){const g=Pi(i,s);Op(s[11],g,f,i.value,a,c,d)}(qn(),d,i,s,a,c)),Kp}function Kh(i,s,a,c){return bi(i,gs(),a)?s+ne(a)+c:Ye}function ud(i,s,a,c,d,f,g,y,w,E){const k=function(i,s,a,c,d,f){const g=Nu(i,s,a,c);return Nu(i,s+2,d,f)||g}(i,qr(),a,d,g,w);return Er(4),k?s+ne(a)+c+ne(d)+f+ne(g)+y+ne(w)+E:Ye}function S0(i,s,a,c,d,f,g,y){const w=Te(),E=Rt(),A=i+20,k=E.firstCreatePass?function(i,s,a,c,d,f,g,y,w){const E=s.consts,A=wu(s,i,4,g||null,fs(E,y));Wv(s,a,A,fs(E,w)),Ca(s,A);const k=A.tViews=xl(2,A,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E);return null!==s.queries&&(s.queries.template(s,A),k.queries=s.queries.embeddedTView(A)),A}(A,E,w,s,a,c,d,f,g):E.data[A];Gr(k,!1);const P=w[11].createComment("");Lh(E,w,P,k),pi(P,w),Fp(w,w[A]=iC(P,w,P,k)),Pr(k)&&$v(E,w,k),null!=g&&Hv(w,k,y)}function dd(i){return zi(dt.lFrame.contextLView,20+i)}function tg(i,s=Be.Default){const a=Te();return null===a?Cn(i,s):ys(wn(),a,G(i),s)}function O0(i,s,a){const c=Te();return bi(c,gs(),s)&&rs(Rt(),qn(),c,i,s,c[11],a,!1),O0}function Ba(i,s,a,c,d){const g=d?"class":"style";Bi(i,a,s.inputs[g],g,c)}function Ul(i,s,a,c){const d=Te(),f=Rt(),g=20+i,y=d[11],w=d[g]=Iv(y,s,dt.lFrame.currentNamespace),E=f.firstCreatePass?function(i,s,a,c,d,f,g){const y=s.consts,E=wu(s,i,2,d,fs(y,f));return Wv(s,a,E,fs(y,g)),null!==E.attrs&&kl(E,E.attrs,!1),null!==E.mergedAttrs&&kl(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(g,f,d,0,s,a,c):f.data[g];Gr(E,!0);const A=E.mergedAttrs;null!==A&&ah(y,w,A);const k=E.classes;null!==k&&xv(y,w,k);const P=E.styles;null!==P&&U1(y,w,P),64!=(64&E.flags)&&Lh(f,d,w,E),0===dt.lFrame.elementDepthCount&&pi(w,d),dt.lFrame.elementDepthCount++,Pr(E)&&($v(f,d,E),jv(f,E,d)),null!==c&&Hv(d,E)}function ng(){let i=wn();iu()?va():(i=i.parent,Gr(i,!1));const s=i;dt.lFrame.elementDepthCount--;const a=Rt();a.firstCreatePass&&(Ca(a,i),lc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Ba(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Ba(a,s,Te(),s.stylesWithoutHost,!1)}function P0(i,s,a,c){Ul(i,s,a,c),ng()}function Xh(i,s,a){const c=Te(),d=Rt(),f=i+20,g=d.firstCreatePass?function(i,s,a,c,d){const f=s.consts,g=fs(f,c),y=wu(s,i,8,"ng-container",g);return null!==g&&kl(y,g,!0),Wv(s,a,y,fs(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,c,s,a):d.data[f];Gr(g,!0);const y=c[f]=c[11].createComment("");Lh(d,c,y,g),pi(y,c),Pr(g)&&($v(d,c,g),jv(d,g,c)),null!=a&&Hv(c,g)}function R_(){let i=wn();const s=Rt();iu()?va():(i=i.parent,Gr(i,!1)),s.firstCreatePass&&(Ca(s,i),lc(i)&&s.queries.elementEnd(i))}function Bl(){return Te()}function To(i){return!!i&&"function"==typeof i.then}function ef(i){return!!i&&"function"==typeof i.subscribe}const jl=ef;function x_(i,s,a,c){const d=Te(),f=Rt(),g=wn();return function(i,s,a,c,d,f,g,y){const w=Pr(c),A=i.firstCreatePass&&n0(i),k=s[8],P=Lp(s);let H=!0;if(3&c.type||y){const se=Pi(c,s),Ne=y?y(se):se,we=P.length,$e=y?at=>y(an(at[c.index])):c.index;if(Rn(a)){let at=null;if(!y&&w&&(at=function(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===c){const y=s[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof g&&(f+=2)}return null}(i,s,d,c.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=f,at.__ngLastListenerFn__=f,H=!1;else{f=ig(c,s,k,f,!1);const Zt=a.listen(Ne,d,f);P.push(f,Zt),A&&A.push(d,$e,we,we+1)}}else f=ig(c,s,k,f,!0),Ne.addEventListener(d,f,g),P.push(f),A&&A.push(d,$e,we,g)}else f=ig(c,s,k,f,!1);const J=c.outputs;let pe;if(H&&null!==J&&(pe=J[d])){const se=pe.length;if(se)for(let Ne=0;Ne<se;Ne+=2){const oi=s[pe[Ne]][pe[Ne+1]].subscribe(f),eo=P.length;P.push(f,oi),A&&A.push(d,c.index,eo,-(eo+1))}}}(f,d,d[11],g,i,s,!!a,c),x_}function O_(i,s,a,c){try{return!1!==a(c)}catch(d){return r0(i,d),!1}}function ig(i,s,a,c,d){return function f(g){if(g===Function)return c;const y=2&i.flags?li(i.index,s):s;0==(32&s[2])&&v_(y);let w=O_(s,0,c,g),E=f.__ngNextListenerFn__;for(;E;)w=O_(s,0,E,g)&&w,E=E.__ngNextListenerFn__;return d&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function L0(i=1){return function(i){return(dt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,dt.lFrame.contextLView))[8]}(i)}function PC(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?j1(i,f,!0):dR(c,f))return d}else a=d}return a}function sg(i){const s=Te()[16][6];if(!s.projection){const c=s.projection=Bs(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const g=i?PC(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function tf(i,s=0,a){const c=Te(),d=Rt(),f=wu(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),va(),64!=(64&f.flags)&&function(i,s,a){Al(s[11],0,s,a,k1(i,a,s),Jm(a.parent||s[6],a,s))}(d,c,f)}function Qr(i,s,a){return og(i,"",s,"",a),Qr}function og(i,s,a,c,d){const f=Te(),g=Kh(f,s,a,c);return g!==Ye&&rs(Rt(),qn(),f,i,g,f[11],d,!1),og}function VC(i,s,a,c,d){const f=i[a+1],g=null===s;let y=c?bs(f):Sl(f),w=!1;for(;0!==y&&(!1===w||g);){const A=i[y+1];UC(i[y],s)&&(w=!0,i[y+1]=c?Nl(A):mi(A)),y=c?bs(A):Sl(A)}w&&(i[a+1]=c?mi(f):Nl(f))}function UC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&vo(i,s)>=0}const Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BC(i){return i.substring(Ur.key,Ur.keyEnd)}function rf(i,s){const a=Ur.textEnd;return a===s?-1:(s=Ur.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Ur.key=s,a),_d(i,s,a))}function _d(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function cg(i,s,a){return is(i,s,a,!1),cg}function dg(i,s){return is(i,s,null,!0),dg}function Ys(i){Ao(Wn,Xo,i,!0)}function Xo(i,s){for(let a=function(i){return function(i){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=i.length}(i),rf(i,_d(i,0,Ur.textEnd))}(s);a>=0;a=rf(s,a))Wn(i,BC(s),!0)}function is(i,s,a,c){const d=Te(),f=Rt(),g=Er(2);f.firstUpdatePass&&uf(f,i,g,c),s!==Ye&&bi(d,g,s)&&yd(f,f.data[Dr()],d,d[11],i,d[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(zo(i)))),i}(s,a),c,g)}function Ao(i,s,a,c){const d=Rt(),f=Er(2);d.firstUpdatePass&&uf(d,null,f,c);const g=Te();if(a!==Ye&&bi(g,f,a)){const y=d.data[Dr()];if(j0(y,c)&&!F_(d,f)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(a=W(w,a||"")),Ba(d,y,g,a,c)}else!function(i,s,a,c,d,f,g,y){d===Ye&&(d=q);let w=0,E=0,A=0<d.length?d[0]:null,k=0<f.length?f[0]:null;for(;null!==A||null!==k;){const P=w<d.length?d[w+1]:void 0,H=E<f.length?f[E+1]:void 0;let pe,J=null;A===k?(w+=2,E+=2,P!==H&&(J=k,pe=H)):null===k||null!==A&&A<k?(w+=2,J=A):(E+=2,J=k,pe=H),null!==J&&yd(i,s,a,c,J,pe,g,y),A=w<d.length?d[w]:null,k=E<f.length?f[E]:null}}(d,y,g,g[11],g[f+1],g[f+1]=function(i,s,a){if(null==a||""===a)return q;const c=[],d=zo(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,a),c,f)}}function F_(i,s){return s>=i.expandoStartIndex}function uf(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Dr()],g=F_(i,a);j0(f,c)&&null===s&&!g&&(s=!1),s=function(i,s,a,c){const d=function(i){const s=dt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=$l(a=L_(null,i,s,a,c),s.attrs,c),f=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(a=L_(d,i,s,a,c),null===f){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Sl(c))return i[bs(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=L_(null,i,s,w[1],c),w=$l(w,s.attrs,c),function(i,s,a,c){i[bs(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=$l(c,i[f].hostAttrs,a);return $l(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function(i,s,a,c,d,f){let g=f?s.classBindings:s.styleBindings,y=bs(g),w=Sl(g);i[c]=a;let A,E=!1;if(Array.isArray(a)){const k=a;A=k[1],(null===A||vo(k,A)>0)&&(E=!0)}else A=a;if(d)if(0!==w){const P=bs(i[y+1]);i[c+1]=i_(P,y),0!==P&&(i[P+1]=s_(i[P+1],c)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],c)}else i[c+1]=i_(y,0),0!==y&&(i[y+1]=s_(i[y+1],c)),y=c;else i[c+1]=i_(w,0),0===y?y=c:i[w+1]=s_(i[w+1],c),w=c;E&&(i[c+1]=mi(i[c+1])),VC(i,A,c,!0),VC(i,A,c,!1),function(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&vo(f,s)>=0&&(a[c+1]=Nl(a[c+1]))}(s,A,i,c,f),g=i_(y,w),f?s.classBindings=g:s.styleBindings=g}(d,f,s,a,g,c)}}function L_(i,s,a,c,d){let f=null;const g=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<g&&(f=s[y],c=$l(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),c}function $l(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const g=s[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Wn(i,g,!!a||s[++f]))}return void 0===i?null:i}function yd(i,s,a,c,d,f,g,y){if(!(3&s.type))return;const w=i.data,E=w[y+1];hg(function(i){return 1==(1&i)}(E)?Hl(w,s,a,d,Sl(E),g):void 0)||(hg(f)||function(i){return 2==(2&i)}(E)&&(f=Hl(w,null,a,d,y,g)),function(i,s,a,c,d){const f=Rn(i);if(s)d?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let g=-1===c.indexOf("-")?void 0:La.DashCase;if(null==d)f?i.removeStyle(a,c,g):a.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=La.Important),f?i.setStyle(a,c,d,g):a.style.setProperty(c,d,y?"important":"")}}}(c,g,ya(Dr(),a),d,f))}function Hl(i,s,a,c,d,f){const g=null===s;let y;for(;d>0;){const w=i[d],E=Array.isArray(w),A=E?w[1]:w,k=null===A;let P=a[d+1];P===Ye&&(P=k?q:void 0);let H=k?zn(P,c):A===c?P:void 0;if(E&&!hg(H)&&(H=zn(w,c)),hg(H)&&(y=H,g))return y;const J=i[d+1];d=g?bs(J):Sl(J)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=zn(w,c))}return y}function hg(i){return void 0!==i}function j0(i,s){return 0!=(i.flags&(s?16:32))}function bd(i,s=""){const a=Te(),c=Rt(),d=i+20,f=c.firstCreatePass?wu(c,d,1,s,null):c.data[d],g=a[d]=Zm(a[11],s);Lh(c,a,g,f),Gr(f,!1)}function V_(i){return fg("",i,""),V_}function fg(i,s,a){const c=Te(),d=Kh(c,i,s,a);return d!==Ye&&function(i,s,a){const c=ya(s,i);R1(i[11],c,a)}(c,Dr(),d),fg}function JC(i,s,a){Ao(Wn,Xo,Kh(Te(),i,s,a),!0)}function cf(i,s,a,c,d,f,g,y,w){Ao(Wn,Xo,ud(Te(),i,s,a,c,d,f,g,y,w),!0)}function vn(i,s,a){const c=Te();return bi(c,gs(),s)&&rs(Rt(),qn(),c,i,s,c[11],a,!0),vn}const ja=void 0;var yg=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let xu={};function $_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=q0(s);if(a)return a;const c=s.split("-")[0];if(a=q0(c),a)return a;if("en"===c)return yg;throw new Error(`Missing locale data for the locale "${i}".`)}function cE(i){return $_(i)[ft.PluralCase]}function q0(i){return i in xu||(xu[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),xu[i]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const HA=["zero","one","two","few","many"],bg="en-US",yr={marker:"element"},df={marker:"ICU"};var ir=(()=>((ir=ir||{})[ir.SHIFT=2]="SHIFT",ir[ir.APPEND_EAGERLY=1]="APPEND_EAGERLY",ir[ir.COMMENT=2]="COMMENT",ir))();let ea=bg;function wg(i){(function(i,s){null==i&&jt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(ea=i.toLowerCase().replace(/_/g,"-"))}function hf(i,s,a){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Qm(i,0,a):an(a[d])}function Z0(i,s,a,c,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let g=c,y=null;if(3&s.type||(y=g,g=d),null!==g&&0==(2&s.flags))for(let w=1;w<f.length;w++)Il(i,g,a[f[w]],y,!1)}}function W0(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const c=i[a];z0(c)||qA(c,s)&&null===ZA(c)&&G_(c,s.index)}}function z0(i){return!(64&i.type)}function qA(i,s){return z0(s)||i.index>s.index}function ZA(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function G_(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(L1(hf,Z0),i.insertBeforeIndex=s)}function ff(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function fE(i,s,a){const c=xp(i,a,64,null,null);return W0(s,c),c}function Cg(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function pE(i){return i>>>17}function Y0(i){return(131070&i)>>>1}let Eg=0,Dg=0;function mE(i,s,a,c){const d=a[11];let g,f=null;for(let y=0;y<s.length;y++){const w=s[y];if("string"==typeof w){const E=s[++y];null===a[E]&&(a[E]=Zm(d,w))}else if("number"==typeof w)switch(1&w){case 0:const E=pE(w);let A,k;if(null===f&&(f=E,g=Ym(d,c)),E===f?(A=c,k=g):(A=null,k=an(a[E])),null!==k){const pe=Y0(w);Il(d,k,a[pe],A,!1);const Ne=ff(i,pe);if(null!==Ne&&"object"==typeof Ne){const we=Cg(Ne,a);null!==we&&mE(i,Ne.create[we],a,a[Ne.anchorIdx])}}break;case 1:const H=s[++y],J=s[++y];Op(d,ya(w>>>1,a),null,null,H,J,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case df:const E=s[++y],A=s[++y];null===a[A]&&pi(a[A]=OI(d,E),a);break;case yr:const k=s[++y],P=s[++y];null===a[P]&&pi(a[P]=Iv(d,k,null),a)}}}function _E(i,s,a,c,d){for(let f=0;f<a.length;f++){const g=a[f],y=a[++f];if(g&d){let w="";for(let E=f+1;E<=f+y;E++){const A=a[E];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=ne(s[c-A]);else{const k=A>>>2;switch(3&A){case 1:const P=a[++E],H=a[++E],J=i.data[k];"string"==typeof J?Op(s[11],s[k],null,J,P,w,H):rs(i,J,s,P,w,s[11],H,!1);break;case 0:const pe=s[k];null!==pe&&R1(s[11],pe,w);break;case 2:ta(i,ff(i,k),s,w);break;case 3:J0(i,ff(i,k),c,s)}}}}else{const w=a[f+1];if(w>0&&3==(3&w)){const A=ff(i,w>>>2);s[A.currentCaseLViewIndex]<0&&J0(i,A,c,s)}}f+=y}}function J0(i,s,a,c){let d=c[s.currentCaseLViewIndex];if(null!==d){let f=Eg;d<0&&(d=c[s.currentCaseLViewIndex]=~d,f=-1),_E(i,c,s.update[d],a,f)}}function ta(i,s,a,c){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const c=function(i,s){const a=cE(s)(parseInt(i,10)),c=HA[a];return void 0!==c?c:"other"}(s,ea);a=i.cases.indexOf(c),-1===a&&"other"!==c&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,c);if(Cg(s,a)!==d&&(yE(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const g=a[s.anchorIdx];g&&mE(i,s.create[d],a,g)}}function yE(i,s,a){let c=Cg(s,a);if(null!==c){const d=s.remove[c];for(let f=0;f<d.length;f++){const g=d[f];if(g>0){const y=ya(g,a);null!==y&&Rv(a[11],y)}else yE(i,ff(i,~g),a)}}}function ku(){const i=[];let a,c,s=-1;function f(y,w){s=0;const E=Cg(y,w);c=null!==E?y.remove[E]:q}function g(){if(s<c.length){const y=c[s++];return y>0?a[y]:(i.push(s,c),f(a[1].data[~y],a),g())}return 0===i.length?null:(c=i.pop(),s=i.pop(),g())}return function(y,w){for(a=w;i.length;)i.pop();return f(y.value,w),g}}const q_=/\ufffd(\d+):?\d*\ufffd/gi,lr=/\ufffd(\d+)\ufffd/,na=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ti=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Js=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Cd=/\uE500/g;function Ed(i,s,a,c,d,f,g){const y=Rl(i,c,1,null);let w=y<<ir.SHIFT,E=Yi();s===E&&(E=null),null===E&&(w|=ir.APPEND_EAGERLY),g&&(w|=ir.COMMENT,function(i){void 0===Dv&&(Dv=i())}(ku)),d.push(w,null===f?"":f);const A=xp(i,y,g?32:1,null===f?"":f,null);W0(a,A);const k=A.index;return Gr(A,!1),null!==E&&s!==E&&function(i,s){let a=i.insertBeforeIndex;null===a?(L1(hf,Z0),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&jt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(E,k),A}function KA(i,s,a,c,d,f,g){const y=g.match(q_),w=Ed(i,s,a,f,c,y?null:g,!1);y&&Dd(d,g,w.index,null,0,null)}function Dd(i,s,a,c,d,f){const g=i.length,y=g+1;i.push(null,null);const w=g+2,E=s.split(q_);let A=0;for(let k=0;k<E.length;k++){const P=E[k];if(1&k){const H=d+parseInt(P,10);i.push(-1-H),A|=Tg(H)}else""!==P&&i.push(P)}return i.push(a<<2|(c?1:0)),c&&i.push(c,f),i[g]=A,i[y]=i.length-w,A}function Tg(i){return 1<<Math.min(i,31)}function wE(i){let s,f,a="",c=0,d=!1;for(;null!==(s=Ti.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(c=s.index,d=!1):(a+=i.substring(c,s.index+s[0].length),f=s[1],d=!0);return a+=i.substr(c),a}function ql(i,s,a,c,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:Rl(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(Tg(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function(i,s,a){const c=i.data[s];null===c?i.data[s]=a:c.value=a}(i,f,y);const w=d.values;for(let E=0;E<w.length;E++){const A=w[E],k=[];for(let P=0;P<A.length;P++){const H=A[P];if("string"!=typeof H){const J=k.push(H)-1;A[P]=`\x3c!--\ufffd${J}\ufffd--\x3e`}}g=CE(i,y,s,a,c,d.cases[E],A.join(""),k)|g}g&&function(i,s,a){i.push(s,1,a<<2|3)}(a,g,f)}function JA(i){const s=[],a=[];let c=1,d=0;const f=Pu(i=i.replace(na,function(g,y,w){return c="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const w=Pu(f[g++]);s.length>a.length&&a.push(w)}return{type:c,mainBinding:d,cases:s,values:a}}function Pu(i){if(!i)return[];let s=0;const a=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const w=i.substring(s,y);na.test(w)?c.push(JA(w)):c.push(w),s=y+1}}else{if(0==a.length){const w=i.substring(s,y);c.push(w),s=y+1}a.push("{")}}const g=i.substring(s);return c.push(g),c}function CE(i,s,a,c,d,f,g,y){const w=[],E=[],A=[];s.cases.push(f),s.create.push(w),s.remove.push(E),s.update.push(A);const P=Ep(co()).getInertBodyElement(g),H=_n(P)||P;return H?Z_(i,s,a,c,w,E,A,H,d,y,0):0}function Z_(i,s,a,c,d,f,g,y,w,E,A){let k=0,P=y.firstChild;for(;P;){const H=Rl(i,a,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const J=P,pe=J.tagName.toLowerCase();if(Tp.hasOwnProperty(pe)){$a(d,yr,pe,w,H),i.data[H]=pe;const $e=J.attributes;for(let at=0;at<$e.length;at++){const Zt=$e.item(at),oi=Zt.name.toLowerCase();Zt.value.match(q_)?S.hasOwnProperty(oi)&&Dd(g,Zt.value,H,Zt.name,0,v[oi]?Cl:p[oi]?jc:null):EE(d,H,Zt)}k=Z_(i,s,a,c,d,f,g,P,H,E,A+1)|k,Q0(f,H,A)}break;case Node.TEXT_NODE:const se=P.textContent||"",Ne=se.match(q_);$a(d,null,Ne?"":se,w,H),Q0(f,H,A),Ne&&(k=Dd(g,se,H,null,0,null)|k);break;case Node.COMMENT_NODE:const we=lr.exec(P.textContent||"");if(we){const at=E[parseInt(we[1],10)];$a(d,df,"",w,H),ql(i,a,c,w,at,H),Cs(f,H,A)}}P=P.nextSibling}return k}function Q0(i,s,a){0===a&&i.push(s)}function Cs(i,s,a){0===a&&(i.push(~s),i.push(s))}function $a(i,s,a,c,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,c,d))}function EE(i,s,a){i.push(s<<1|1,a.name,a.value)}function z_(i,s,a=-1){const c=Rt(),d=Te(),f=20+i,g=fs(c.consts,s),y=Yi();c.firstCreatePass&&function(i,s,a,c,d,f){const g=Yi(),y=[],w=[],E=[[]],A=function(i){return i.replace(Cd," ")}(d=function(i,s){if(function(i){return-1===i}(s))return wE(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,c=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return wE(i.substring(a,c))}}(d,f)).split(Js);for(let k=0;k<A.length;k++){let P=A[k];if(0==(1&k)){const H=Pu(P);for(let J=0;J<H.length;J++){let pe=H[J];if(0==(1&J)){const se=pe;""!==se&&KA(i,g,E[0],y,w,a,se)}else{const se=pe;if("object"!=typeof se)throw new Error(`Unable to parse ICU expression in "${d}" message.`);ql(i,a,w,s,se,Ed(i,g,E[0],a,y,"",!0).index)}}}else{const H=47===P.charCodeAt(0),pe=(P.charCodeAt(H?1:0),20+Number.parseInt(P.substring(H?2:1)));if(H)E.shift(),Gr(Yi(),!1);else{const se=fE(i,E[0],pe);E.unshift([]),Gr(se,!0)}}}i.data[c]={create:y,update:w}}(c,null===y?0:y.index,d,f,g,a);const w=c.data[f],A=O1(c,y===d[6]?null:y,d);(function(i,s,a,c){const d=i[11];for(let f=0;f<s.length;f++){const g=s[f++],y=s[f],w=(g&ir.COMMENT)===ir.COMMENT,E=(g&ir.APPEND_EAGERLY)===ir.APPEND_EAGERLY,A=g>>>ir.SHIFT;let k=i[A];null===k&&(k=i[A]=w?d.createComment(y):Zm(d,y)),E&&null!==a&&Il(d,a,k,c,!1)}})(d,w.create,A,y&&8&y.type?d[y.index]:null),wa(!0)}function nb(i,s,a){z_(i,s,a),wa(!1)}function rb(i){return function(i){i&&(Eg|=1<<Math.min(Dg,31)),Dg++}(bi(Te(),gs(),i)),rb}function Y_(i){!function(i,s,a){if(Dg>0){const c=i.data[a];_E(i,s,Array.isArray(c)?c:c.update,qr()-Dg-1,Eg)}Eg=0,Dg=0}(Rt(),Te(),i+20)}function K_(i,s,a,c,d){if(i=G(i),Array.isArray(i))for(let f=0;f<i.length;f++)K_(i[f],s,a,c,d);else{const f=Rt(),g=Te();let y=ed(i)?i:G(i.provide),w=l0(i);const E=wn(),A=1048575&E.providerIndexes,k=E.directiveStart,P=E.providerIndexes>>20;if(ed(i)||!i.multi){const H=new ll(w,d,tg),J=bf(y,s,d?A:A+P,k);-1===J?(un(go(E,g),f,y),$i(f,i,s.length),s.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(H),g.push(H)):(a[J]=H,g[J]=H)}else{const H=bf(y,s,A+P,k),J=bf(y,s,A,A+P),pe=H>=0&&a[H],se=J>=0&&a[J];if(d&&!se||!d&&!pe){un(go(E,g),f,y);const Ne=function(i,s,a,c,d){const f=new ll(i,a,tg);return f.multi=[],f.index=s,f.componentProviders=0,ib(f,d,c&&!a),f}(d?ME:sb,a.length,d,c,w);!d&&se&&(a[J].providerFactory=Ne),$i(f,i,s.length,0),s.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(Ne),g.push(Ne)}else $i(f,i,H>-1?H:J,ib(a[d?J:H],w,!d&&c));!d&&c&&se&&a[J].componentProviders++}}}function $i(i,s,a,c){const d=ed(s);if(d||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=y.indexOf(a);-1===w?y.push(a,[c,g]):y[w+1].push(c,g)}else y.push(a,g)}}}function ib(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function bf(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function sb(i,s,a,c){return Ha(this.multi,[])}function ME(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=xt(a,a[1],this.providerFactory.index,c);f=y.slice(0,g),Ha(d,f);for(let w=g;w<y.length;w++)f.push(y[w])}else f=[],Ha(d,f);return f}function Ha(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ob(i,s=[]){return a=>{a.providersResolver=(c,d)=>function(i,s,a){const c=Rt();if(c.firstCreatePass){const d=ds(i);K_(a,c.data,c.blueprint,d,!0),K_(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class RE{}const ab="ngComponent";class Sd{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[ab]=i,s}(s)}}let Zl=(()=>{class i{}return i.NULL=new Sd,i})();function J_(...i){}function Cf(i,s){return new Ga(Pi(i,s))}const xE=function(){return Cf(wn(),Te())};let Ga=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=xE,i})();function kE(i){return i instanceof Ga?i.nativeElement:i}class ia{}let X_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>lb(),i})();const lb=function(){const i=Te(),a=li(wn().index,i);return function(i){return i[11]}(Os(a)?a:i)};let Ef=(()=>{class i{}return i.\u0275prov=on({token:i,providedIn:"root",factory:()=>null}),i})();class ey{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const db=new ey("12.2.13");class hb{constructor(){}supports(s){return Yh(s)}create(s){return new sS(s)}}const fb=(i,s)=>s;class sS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||fb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const g=!c||a&&a.currentIndex<FE(c,d,f)?a:c,y=FE(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const E=y-d,A=w-d;if(E!=A){for(let P=0;P<E;P++){const H=P<f.length?f[P]:f[P]=0,J=H+P;A<=J&&J<E&&(f[P]=H+1)}f[g.previousIndex]=A-E}}y!==w&&s(g,y,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Yh(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,g,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],g=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,f,g,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,y),c=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[sd()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,y=>{g=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,y,g,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new OE(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ty),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ty),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class OE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class ty{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new PE,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FE(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class pb{constructor(){}supports(s){return s instanceof Map||w0(s)}create(){return new oS}}class oS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||w0(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new LE(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class LE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new Fu([new hb])}let Fu=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||VE()),deps:[[i,new Fr,new Ra]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:VE}),i})();function ny(){return new Nd([new pb])}let Nd=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ny()),deps:[[i,new Fr,new Ra]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:ny}),i})();function Mg(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(an(f)),Or(f))for(let y=10;y<f.length;y++){const w=f[y],E=w[1].firstChild;null!==E&&Mg(w[1],w,E,c)}const g=a.type;if(8&g)Mg(i,s,a.child,c);else if(32&g){const y=Gm(a,s);let w;for(;w=y();)c.push(w)}else if(16&g){const y=Nv(s,a);if(Array.isArray(y))c.push(...y);else{const w=Mp(s[16]);Mg(w[1],w,y,c,!0)}}a=d?a.projectionNext:a.next}return c}class Tf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Mg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(zm(s,c),Vi(a,c))}this._attachedToViewContainer=!1}x1(this._lView[1],this._lView)}onDestroy(s){kp(this._lView[1],this._lView,null,s)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){e0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){fo(!0);try{e0(i,s,a)}finally{fo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Wc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class aS extends Tf{constructor(s){super(s),this._view=s}detectChanges(){oC(this._view)}checkNoChanges(){!function(i){fo(!0);try{oC(i)}finally{fo(!1)}}(this._view)}get context(){return null}}const mb=function(i){return function(i,s,a){if(zu(i)&&!a){const c=li(i.index,s);return new Tf(c,c)}return 47&i.type?new Tf(s[16],s):null}(wn(),Te(),16==(16&i))};let uS=(()=>{class i{}return i.__NG_ELEMENT_ID__=mb,i})();const yb=[new pb],cS=new Fu([new hb]),dS=new Nd(yb),fS=function(){return If(wn(),Te())};let Rg=(()=>{class i{}return i.__NG_ELEMENT_ID__=fS,i})();const vb=Rg,UE=class extends vb{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=jh(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Kc(a,c,s),new Tf(c)}};function If(i,s){return 4&i.type?new UE(s,i,Cf(i,s)):null}class qa{}class Af{}const bb=function(){return GE(wn(),Te())};let Sf=(()=>{class i{}return i.__NG_ELEMENT_ID__=bb,i})();const pS=Sf,wb=class extends pS{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ze(this._hostTNode,this._hostLView);if(Ac(s)){const a=Vs(s,this._hostLView),c=Ki(s);return new Fi(a[1].data[c+8],a)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=HE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,f){const g=c||this.parentInjector;if(!f&&null==s.ngModule&&g){const w=g.get(qa,null);w&&(f=w)}const y=s.create(g,d,void 0,f);return this.insert(y.hostView,a),y}insert(s,a){const c=s._lView,d=c[1];if(Or(c[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const k=c[3],P=new wb(k,k[6],k[3]);P.detach(P.indexOf(s))}}const f=this._adjustIndex(a),g=this._lContainer;!function(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],pu(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const g=s[17];null!==g&&a!==g&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,c,g,f);const y=Mv(f,g),w=c[11],E=Ym(w,g[7]);return null!==E&&function(i,s,a,c,d,f){c[0]=d,c[6]=s,Wc(i,c,a,1,d,f)}(d,g[6],w,c,E,y),s.attachToViewContainerRef(),pu(Cb(g),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=HE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=zm(this._lContainer,a);c&&(Vi(Cb(this._lContainer),a),x1(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=zm(this._lContainer,a);return c&&null!=Vi(Cb(this._lContainer),a)?new Tf(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function HE(i){return i[8]}function Cb(i){return i[8]||(i[8]=[])}function GE(i,s){let a;const c=s[i.index];if(Or(c))a=c;else{let d;if(8&i.type)d=an(c);else{const f=s[11];d=f.createComment("");const g=Pi(i,s);Il(f,Ym(f,g),d,function(i,s){return Rn(i)?i.nextSibling(s):s.nextSibling}(f,g),!1)}s[i.index]=a=iC(c,s,d,i),Fp(s,a)}return new wb(a,i,s)}const Xl={};class py extends Zl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=hn(s);return new gD(a,this.ngModule)}}function gy(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const fD=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>T1});class gD extends RE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(H1).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return gy(this.componentDef.inputs)}get outputs(){return gy(this.componentDef.outputs)}create(s,a,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,c,d)=>{const f=i.get(a,Xl,d);return f!==Xl||c===Xl?f:s.get(a,c,d)}}}(s,d.injector):s,g=f.get(ia,Cr),y=f.get(Ef,null),w=g.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=c?function(i,s,a){if(Rn(i))return i.selectRootElement(s,a===Pe.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):Iv(g.createRenderer(null,this.componentDef),E,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(E)),k=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||T1,clean:aC,playerHandler:s||null,flags:0}}(),H=xl(0,null,null,1,0,null,null,null,null,null),J=jh(null,H,P,k,null,null,g,w,y,f);let pe,se;au(J);try{const Ne=function(i,s,a,c,d,f){const g=a[1];a[20]=i;const w=wu(g,20,2,"#host",null),E=w.mergedAttrs=s.hostAttrs;null!==E&&(kl(w,E,!0),null!==i&&(ah(d,i,E),null!==w.classes&&xv(d,i,w.classes),null!==w.styles&&U1(d,i,w.styles)));const A=c.createRenderer(i,s),k=jh(a,vi(s),null,s.onPush?64:16,a[20],w,c,A,f||null,null);return g.firstCreatePass&&(un(go(w,a),g,s.type),m_(g,w),Kv(w,a.length,1)),Fp(a,k),a[20]=k}(A,this.componentDef,J,g,w);if(A)if(c)ah(w,A,["ng-version",db.full]);else{const{attrs:we,classes:$e}=function(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Jo(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&ah(w,A,we),$e&&$e.length>0&&xv(w,A,$e.join(" "))}if(se=_c(H,20),void 0!==a){const we=se.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const at=a[$e];we.push(null!=at?Array.from(at):null)}}pe=function(i,s,a,c,d){const f=a[1],g=function(i,s,a){const c=wn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),rC(i,c,s,Rl(i,s,1,null),a));const d=xt(s,i,c.directiveStart,c);pi(d,s);const f=Pi(c,s);return f&&pi(f,s),d}(f,a,s);if(c.components.push(g),i[8]=g,d&&d.forEach(w=>w(g,s)),s.contentQueries){const w=wn();s.contentQueries(1,g,w.directiveStart)}const y=wn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(po(y.index),p_(a[1],y,0,y.directiveStart,y.directiveEnd,s),zr(s,g)),g}(Ne,this.componentDef,J,P,[S_]),Kc(H,J,null)}finally{Bo()}return new my(this.componentType,pe,Cf(se,J),J,se)}}class my extends class{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new aS(d),this.componentType=s}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Rf=new Map;class Kb extends qa{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new py(this);const c=An(s),d=s[ct]||null;d&&wg(d),this._bootstrapComponents=Fa(c.bootstrap),this._r3Injector=a0(s,a,[{provide:qa,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ln.THROW_IF_NOT_FOUND,c=Be.Default){return s===Ln||s===qa||s===Jc?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Hg extends Af{constructor(s){super(),this.moduleType=s,null!==An(s)&&function(i){const s=new Set;!function a(c){const d=An(c,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,Rf.get(f),c),Rf.set(f,c));const g=Fa(d.imports);for(const y of g)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new Kb(this.moduleType,s)}}function Gg(i,s,a,c){return bD(Te(),or(),i,s,a,c)}function _y(i,s,a,c,d){return function(i,s,a,c,d,f,g){const y=s+a;return Nu(i,y,d,f)?Do(i,y+2,g?c.call(g,d,f):c(d,f)):qg(i,y+2)}(Te(),or(),i,s,a,c,d)}function Qb(i,s,a,c,d,f){return function(i,s,a,c,d,f,g,y){const w=s+a;return function(i,s,a,c,d){const f=Nu(i,s,a,c);return bi(i,s+2,d)||f}(i,w,d,f,g)?Do(i,w+3,y?c.call(y,d,f,g):c(d,f,g)):qg(i,w+3)}(Te(),or(),i,s,a,c,d,f)}function qg(i,s){const a=i[s];return a===Ye?void 0:a}function bD(i,s,a,c,d,f){const g=s+a;return bi(i,g,d)?Do(i,g+1,f?c.call(f,d):c(d)):qg(i,g+1)}function ED(i,s){const a=Rt();let c;const d=i+20;a.firstCreatePass?(c=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}throw new Me("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=ki(c.type)),g=$n(tg);try{const y=Ta(!1),w=f();return Ta(y),function(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Te(),d,w),w}finally{$n(g)}}function DD(i,s,a){const c=i+20,d=Te(),f=zi(d,c);return function(i,s){ws.isWrapped(s)&&(s=ws.unwrap(s),i[qr()]=Ye);return s}(d,function(i,s){return i[1].data[s].pure}(d,c)?bD(d,or(),s,f.transform,a,f):f.transform(a))}function Ff(i){return s=>{setTimeout(i,void 0,s)}}const Ot=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,f,g;let y=s,w=a||(()=>null),E=c;if(s&&"object"==typeof s){const k=s;y=null===(d=k.next)||void 0===d?void 0:d.bind(k),w=null===(f=k.error)||void 0===f?void 0:f.bind(k),E=null===(g=k.complete)||void 0===g?void 0:g.bind(k)}this.__isAsync&&(w=Ff(w),y&&(y=Ff(y)),E&&(E=Ff(E)));const A=super.subscribe({next:y,error:w,complete:E});return s instanceof j.w&&s.add(A),A}};function AD(){return this._results[sd()]()}class Zg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=sd(),c=Zg.prototype;c[a]||(c[a]=AD)}get changes(){return this._changes||(this._changes=new Ot)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=Xi(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ni{constructor(s){this.queryList=s,this.matches=null}clone(){return new ni(this.queryList)}setDirty(){this.queryList.setDirty()}}class No{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new No(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==PD(s,a).matches&&this.queries[a].setDirty()}}class sw{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class ow{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new ow(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Lf{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Lf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,SD(a,f)),this.matchTNodeWithReadOption(s,a,hl(a,s,f,!1,!1))}else c===Rg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,hl(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ga||d===Sf||d===Rg&&4&a.type)this.addMatch(a.index,-2);else{const f=hl(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function SD(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function VS(i,s,a,c){return-1===a?function(i,s){return 11&i.type?Cf(i,s):4&i.type?If(i,s):null}(s,i):-2===a?function(i,s,a){return a===Ga?Cf(s,i):a===Rg?If(s,i):a===Sf?GE(s,i):void 0}(i,s,c):xt(i,i[1],a,s)}function MD(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,g=a.matches,y=[];for(let w=0;w<g.length;w+=2){const E=g[w];y.push(E<0?null:VS(s,f[E],g[w+1],a.metadata.read))}d.matches=y}return d.matches}function uw(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const g=MD(i,s,d,a);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)c.push(g[y/2]);else{const E=f[y+1],A=s[-w];for(let k=10;k<A.length;k++){const P=A[k];P[17]===P[3]&&uw(P[1],P,E,c)}if(null!==A[9]){const k=A[9];for(let P=0;P<k.length;P++){const H=k[P];uw(H[1],H,E,c)}}}}}return c}function Qn(i){const s=Te(),a=Rt(),c=Cc();Uo(c+1);const d=PD(a,c);if(i.dirty&&Xu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?uw(a,s,c,[]):MD(a,s,d,c);i.reset(f,kE),i.notifyOnChanges()}return!0}return!1}function US(i,s,a){const c=Rt();c.firstCreatePass&&(kD(c,new sw(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),xD(c,Te(),s)}function BS(i,s,a,c){const d=Rt();if(d.firstCreatePass){const f=wn();kD(d,new sw(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}xD(d,Te(),a)}function Sr(){return i=Te(),s=Cc(),i[19].queries[s].queryList;var i,s}function xD(i,s,a){const c=new Zg(4==(4&a));kp(i,s,c,c.destroy),null===s[19]&&(s[19]=new No),s[19].queries.push(new ni(c))}function kD(i,s,a){null===i.queries&&(i.queries=new ow),i.queries.track(new Lf(s,a))}function PD(i,s){return i.queries.getByIndex(s)}function FD(i,s){return If(i,s)}const _w=new xn("Application Initializer");let jf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=J_,this.reject=J_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(To(f))a.push(f);else if(jl(f)){const g=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});a.push(g)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Cn(_w,8))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const yw=new xn("AppId"),$f={provide:yw,useFactory:function(){return`${em()}${em()}${em()}`},deps:[]};function em(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZD=new xn("Platform Initializer"),WD=new xn("Platform ID"),zD=new xn("appBootstrapListener");let YD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const Iy=new xn("LocaleId"),KD=new xn("DefaultCurrencyCode");class nm{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const bw=function(i){return new Hg(i)},QD=bw,XD=function(i){return Promise.resolve(bw(i))},rc=function(i){const s=bw(i),c=Fa(An(i).declarations).reduce((d,f)=>{const g=hn(f);return g&&d.push(new gD(g)),d},[]);return new nm(s,c)},Ro=rc,eT=function(i){return Promise.resolve(rc(i))};let ju=(()=>{class i{constructor(){this.compileModuleSync=QD,this.compileModuleAsync=XD,this.compileModuleAndAllComponentsSync=Ro,this.compileModuleAndAllComponentsAsync=eT}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const uN=(()=>Promise.resolve(0))();function im(i){"undefined"==typeof Zone?uN.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class jr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Kt.requestAnimationFrame,s=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ew(i),i.isCheckStableRunning=!0,$u(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ew(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,g,y)=>{try{return Ay(i),a.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Gf(i)}},onInvoke:(a,c,d,f,g,y,w)=>{try{return Ay(i),a.invoke(d,f,g,y,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Gf(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Ew(i),$u(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,s,Cw,J_,J_);try{return f.runTask(g,a,c)}finally{f.cancelTask(g)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const Cw={};function $u(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ew(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ay(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Gf(i){i._nesting--,$u(i)}class dN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot,this.onMicrotaskEmpty=new Ot,this.onStable=new Ot,this.onError=new Ot}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let tT=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),im(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())im(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Cn(jr))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})(),nT=(()=>{class i{constructor(){this._applications=new Map,Dw.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Dw.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();class hN{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function rT(i){Dw=i}let Dw=new hN,Tw=!0,Sy=!1;function Ny(){return Sy=!0,Tw}function My(){if(Sy)throw new Error("Cannot enable prod mode after platform setup.");Tw=!1}let ua;const gN=new xn("AllowMultipleToken");class dx{constructor(s,a){this.name=s,this.token=a}}function mN(i,s,a=[]){const c=`Platform: ${s}`,d=new xn(c);return(f=[])=>{let g=Aw();if(!g||g.injector.get(gN,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:Cu,useValue:"platform"});!function(i){if(ua&&!ua.destroyed&&!ua.injector.get(gN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ua=i.get(iT);const s=i.get(ZD,null);s&&s.forEach(a=>a())}(Ln.create({providers:y,name:c}))}return function(i){const s=Aw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function Aw(){return ua&&!ua.destroyed?ua:null}let iT=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const y=function(i,s){let a;return a="noop"===i?new dN:("zone.js"===i?void 0:i)||new jr({enableLongStackTrace:Ny(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:jr,useValue:y}];return y.run(()=>{const E=Ln.create({providers:w,parent:this.injector,name:a.moduleType.name}),A=a.create(E),k=A.injector.get(Ph,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:H=>{k.handleError(H)}});A.onDestroy(()=>{sm(this._modules,A),P.unsubscribe()})}),function(i,s,a){try{const c=a();return To(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(k,y,()=>{const P=A.injector.get(jf);return P.runInitializers(),P.donePromise.then(()=>(wg(A.injector.get(Iy,bg)||bg),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,c=[]){const d=xo({},c);return function(i,s,a){const c=new Hg(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(ic);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${Q(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Cn(Ln))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function xo(i,s){return Array.isArray(s)?s.reduce(xo,i):Object.assign(Object.assign({},i),s)}let ic=(()=>{class i{constructor(a,c,d,f,g){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new O.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{jr.assertNotInAngularZone(),im(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{jr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(y,w.pipe((0,ae.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof RE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(qa),y=d.create(Ln.NULL,[],c||d.selector,f),w=y.location.nativeElement,E=y.injector.get(tT,null),A=E&&y.injector.get(nT);return E&&A&&A.registerApplication(w,E),y.onDestroy(()=>{this.detachView(y.hostView),sm(this.components,y),A&&A.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;sm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(zD,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Cn(jr),Cn(Ln),Cn(Ph),Cn(Zl),Cn(jf))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function sm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class vN{}class Ry{}const uT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let wN=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||uT}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>xy(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>xy(g,c,d))}}return i.\u0275fac=function(a){return new(a||i)(Cn(ju),Cn(Ry,8))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function xy(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const CN=function(i){return null},EN=mN(null,"core",[{provide:WD,useValue:"unknown"},{provide:iT,deps:[Ln]},{provide:nT,deps:[]},{provide:YD,deps:[]}]),TN=[{provide:ic,useClass:ic,deps:[jr,Ln,Ph,Zl,jf]},{provide:fD,deps:[jr],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:jf,useClass:jf,deps:[[new Ra,_w]]},{provide:ju,useClass:ju,deps:[]},$f,{provide:Fu,useFactory:function(){return cS},deps:[]},{provide:Nd,useFactory:function(){return dS},deps:[]},{provide:Iy,useFactory:function(i){return wg(i=i||"undefined"!=typeof $localize&&$localize.locale||bg),i},deps:[[new _u(Iy),new Ra,new Fr]]},{provide:KD,useValue:"USD"}];let Ly=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Cn(ic))},i.\u0275mod=Ve({type:i}),i.\u0275inj=gn({providers:TN}),i})()},8939:(Ke,be,F)=>{"use strict";F.d(be,{hO:()=>he,xv:()=>W,Dh:()=>Q,GT:()=>ee,cc:()=>Oe,on:()=>L,pX:()=>ae});var u=F(7716),j=F(7841),O=F(9396);Ke=F.hmd(Ke);const le=["ngOnDestroy"],ae=(ne,oe,Ee,xe={})=>new Proxy(ne,{get:(It,Nt)=>Ee.runOutsideAngular(()=>{var zt;if(ne[Nt])return(null===(zt=null==xe?void 0:xe.spy)||void 0===zt?void 0:zt.get)&&xe.spy.get(Nt,ne[Nt]),ne[Nt];if(le.indexOf(Nt)>-1)return()=>{};const vt=oe.toPromise().then(Dn=>{const Et=Dn&&Dn[Nt];return"function"==typeof Et?Et.bind(Dn):Et&&Et.then?Et.then(mt=>Ee.run(()=>mt)):Ee.run(()=>Et)});return new Proxy(()=>{},{get:(Dn,Et)=>vt[Et],apply:(Dn,Et,mt)=>vt.then(Pt=>{var Xe;const Bt=Pt&&Pt(...mt);return(null===(Xe=null==xe?void 0:xe.spy)||void 0===Xe?void 0:Xe.apply)&&xe.spy.apply(Nt,mt,Bt),Bt})})})}),ee=(ne,oe)=>{oe.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(xe=>{Object.defineProperty(ne.prototype,xe,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,xe))})})};class ce{constructor(oe){return oe}}const Q=new u.OlP("angularfire2.app.options"),W=new u.OlP("angularfire2.app.name");function L(ne,oe,Ee){const It="object"==typeof Ee&&Ee||{};It.name=It.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const zt=j.Z.apps.filter(vt=>vt&&vt.name===It.name)[0]||oe.runOutsideAngular(()=>j.Z.initializeApp(ne,It));try{JSON.stringify(ne)!==JSON.stringify(zt.options)&&B("error",`${zt.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new ce(zt)}const B=(ne,...oe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ne](...oe)},G={provide:ce,useFactory:L,deps:[Q,u.R0b,[new u.FiY,W]]};let he=(()=>{class ne{constructor(Ee){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,Ee.toString())}static initializeApp(Ee,xe){return{ngModule:ne,providers:[{provide:Q,useValue:Ee},{provide:W,useValue:xe}]}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(u.LFG(u.Lbi))},ne.\u0275mod=u.oAB({type:ne}),ne.\u0275inj=u.cJS({providers:[G]}),ne})();function Oe(ne,oe,Ee,xe,It){const[,Nt,zt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===ne)||[];if(Nt)return function(ne,oe){try{return ne.toString()===oe.toString()}catch(Ee){return ne===oe}}(It,zt)||(ge("error",`${oe} was already initialized on the ${Ee} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:It,was:zt})),Nt;{const vt=xe();return globalThis.\u0275AngularfireInstanceCache.push([ne,vt,It]),vt}}const De=!!Ke.hot,ge=(ne,...oe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ne](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(Ke,be,F)=>{"use strict";F.d(be,{q4:()=>Nm,iC:()=>zn,fc:()=>mh,HU:()=>gh,vb:()=>pu,JM:()=>vs});var u=F(7716),j=F(2329),O=F(8239),le=F(8026),ae=F(3854),ee=F(3910),ce=F(5422),Q=F(6676);const W="@firebase/installations",L="0.5.4",G=`w:${L}`,he="FIS_v2",oe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function xe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function It(D){return{token:D.token,requestStatus:2,expiresIn:Pt(D.expiresIn),creationTime:Date.now()}}function Nt(D,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(D,I){const U=(yield I.json()).error;return oe.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function vt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Dn(D,{refreshToken:I}){const R=vt(D);return R.append("Authorization",function(D){return`${he} ${D}`}(I)),R}function Et(D){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function Pt(D){return Number(D.replace("s","000"))}function Bt(D,I){return Je.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(D,{fid:I}){const R=xe(D),fe={method:"POST",headers:vt(D),body:JSON.stringify({fid:I,authVersion:he,appId:D.appId,sdkVersion:G})},Ie=yield Et(()=>fetch(R,fe));if(Ie.ok){const Ge=yield Ie.json();return{fid:Ge.fid||I,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:It(Ge.authToken)}}throw yield Nt("Create Installation",Ie)})).apply(this,arguments)}function ls(D){return new Promise(I=>{setTimeout(I,D)})}const qi=/^[cdef][\w-]{21}$/;function Yt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return qi.test(R)?R:""}catch(D){return""}}function cs(D){return`${D.appName}!${D.appId}`}const As=new Map;function Ni(D,I){const R=cs(D);gn(R,I),function(D,I){const R=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=D=>{gn(D.data.key,D.data.fid)}),Qt);R&&R.postMessage({key:D,fid:I}),0===As.size&&Qt&&(Qt.close(),Qt=null)}(R,I)}function gn(D,I){const R=As.get(D);if(R)for(const U of R)U(I)}let Qt=null;const bn="firebase-installations-store";let jn=null;function Ri(){return jn||(jn=(0,Q.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(bn)}})),jn}function Be(D,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(D,I){const R=cs(D),te=(yield Ri()).transaction(bn,"readwrite"),fe=te.objectStore(bn),Ie=yield fe.get(R);return yield fe.put(I,R),yield te.complete,(!Ie||Ie.fid!==I.fid)&&Ni(D,I.fid),I})).apply(this,arguments)}function fr(D){return $n.apply(this,arguments)}function $n(){return($n=(0,O.Z)(function*(D){const I=cs(D),U=(yield Ri()).transaction(bn,"readwrite");yield U.objectStore(bn).delete(I),yield U.complete})).apply(this,arguments)}function st(D,I){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(D,I){const R=cs(D),te=(yield Ri()).transaction(bn,"readwrite"),fe=te.objectStore(bn),Ie=yield fe.get(R),Ge=I(Ie);return void 0===Ge?yield fe.delete(R):yield fe.put(Ge,R),yield te.complete,Ge&&(!Ie||Ie.fid!==Ge.fid)&&Ni(D,Ge.fid),Ge})).apply(this,arguments)}function Mt(D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,O.Z)(function*(D){let I;const R=yield st(D,U=>{const te=Hn(U),fe=en(D,te);return I=fe.registrationPromise,fe.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Hn(D){return Kt(D||{fid:Yt(),registrationStatus:0})}function en(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(oe.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(D,I){return et.apply(this,arguments)}(D,R)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:da(D)}:{installationEntry:I}}function et(){return(et=(0,O.Z)(function*(D,I){try{return Be(D,yield Bt(D,I))}catch(R){throw Ee(R)&&409===R.customData.serverCode?yield fr(D):yield Be(D,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function da(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(D){let I=yield tn(D);for(;1===I.registrationStatus;)yield ls(100),I=yield tn(D);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Mt(D);return U||R}return I})).apply(this,arguments)}function tn(D){return st(D,I=>{if(!I)throw oe.create("installation-not-found");return Kt(I)})}function Kt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function so(D,I){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:I},R){const U=q(D,R),te=Dn(D,R),fe=I.getImmediate({optional:!0});fe&&te.append("x-firebase-client",fe.getPlatformInfoString());const Ge={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:G}})},We=yield Et(()=>fetch(U,Ge));if(We.ok)return It(yield We.json());throw yield Nt("Generate Auth Token",We)})).apply(this,arguments)}function q(D,{fid:I}){return`${xe(D)}/${I}/authTokens:generate`}function z(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(D,I=!1){let R;const U=yield st(D.appConfig,fe=>{if(!Gn(fe))throw oe.create("not-registered");const Ie=fe.authToken;if(!I&&Xn(Ie))return fe;if(1===Ie.requestStatus)return R=ue(D,I),fe;{if(!navigator.onLine)throw oe.create("app-offline");const Ge=K(fe);return R=Gt(D,Ge),Ge}});return R?yield R:U.authToken})).apply(this,arguments)}function ue(D,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(D,I){let R=yield ct(D.appConfig);for(;1===R.authToken.requestStatus;)yield ls(100),R=yield ct(D.appConfig);const U=R.authToken;return 0===U.requestStatus?z(D,I):U})).apply(this,arguments)}function ct(D){return st(D,I=>{if(!Gn(I))throw oe.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Gt(D,I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,O.Z)(function*(D,I){try{const R=yield so(D,I),U=Object.assign(Object.assign({},I),{authToken:R});return yield Be(D.appConfig,U),R}catch(R){if(!Ee(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Be(D.appConfig,U)}else yield fr(D.appConfig);throw R}})).apply(this,arguments)}function Gn(D){return void 0!==D&&2===D.registrationStatus}function Xn(D){return 2===D.requestStatus&&!function(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function K(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ve(){return(Ve=(0,O.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:U}=yield Mt(I.appConfig);return U?U.catch(console.error):z(I).catch(console.error),R.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(D,I=!1){const R=D;return yield Tt(R.appConfig),(yield z(R,I)).token})).apply(this,arguments)}function Tt(D){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(D){const{registrationPromise:I}=yield Mt(D);I&&(yield I)})).apply(this,arguments)}function fn(D){return oe.create("missing-app-config-values",{valueName:D})}const Hr="installations";(0,le._registerComponent)(new ee.wA(Hr,D=>{const I=D.getProvider("app").getImmediate();return{app:I,appConfig:function(D){if(!D||!D.options)throw fn("App Configuration");if(!D.name)throw fn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw fn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I),platformLoggerProvider:(0,le._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ee.wA("installations-internal",D=>{const I=D.getProvider("app").getImmediate(),R=(0,le._getProvider)(I,Hr).getImmediate();return{getId:()=>function(D){return Ve.apply(this,arguments)}(R),getToken:te=>function(D){return Vt.apply(this,arguments)}(R,te)}},"PRIVATE")),(0,le.registerVersion)(W,L),(0,le.registerVersion)(W,L,"esm2017");const ha="@firebase/remote-config",pr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pr{constructor(I,R,U,te){this.client=I,this.storage=R,this.storageCache=U,this.logger=te}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,te=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var R=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(te&&R.isCachedDataFresh(I.cacheMaxAgeMillis,U))return te;I.eTag=te&&te.eTag;const fe=yield R.client.fetch(I),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ie),fe})()}}function ds(D=navigator){return D.languages&&D.languages[0]||D.language}class wr{constructor(I,R,U,te,fe,Ie){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=U,this.projectId=te,this.apiKey=fe,this.appId=Ie}fetch(I){var R=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},We={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:R.appId,language_code:ds()},Ut={method:"POST",headers:Ge,body:JSON.stringify(We)},nn=fetch(Ie,Ut),nr=new Promise(($s,fi)=>{I.signal.addEventListener(()=>{const _t=new Error("The operation was aborted.");_t.name="AbortError",fi(_t)})});let hi;try{yield Promise.race([nn,nr]),hi=yield nn}catch($s){let fi="fetch-client-network";throw"AbortError"===$s.name&&(fi="fetch-timeout"),pr.create(fi,{originalErrorMessage:$s.message})}let ar=hi.status;const Na=hi.headers.get("ETag")||void 0;let gu,Ma;if(200===hi.status){let $s;try{$s=yield hi.json()}catch(fi){throw pr.create("fetch-client-parse",{originalErrorMessage:fi.message})}gu=$s.entries,Ma=$s.state}if("INSTANCE_STATE_UNSPECIFIED"===Ma?ar=500:"NO_CHANGE"===Ma?ar=304:("NO_TEMPLATE"===Ma||"EMPTY_CONFIG"===Ma)&&(gu={}),304!==ar&&200!==ar)throw pr.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:Na,config:gu}})()}}class Zd{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:U}){var te=this;return(0,O.Z)(function*(){yield function(D,I){return new Promise((R,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(R,te);D.addEventListener(()=>{clearTimeout(fe),U(pr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const fe=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(fe))throw fe;const Ie={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Ie),te.attemptFetch(I,Ie)}})()}}class zd{constructor(I,R,U,te,fe){this.app=I,this._client=R,this._storageCache=U,this._storage=te,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dc(D,I){const R=D.target.error||void 0;return pr.create(I,{originalErrorMessage:R&&R.message})}const lo="app_namespace_store";class Kd{constructor(I,R,U,te=function(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{I(dc(U,"storage-open"))},R.onsuccess=U=>{D(U.target.result)},R.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(lo,{keyPath:"compositeKey"})}}}catch(R){I(pr.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,fe)=>{const Ge=U.transaction([lo],"readonly").objectStore(lo),We=R.createCompositeKey(I);try{const Ut=Ge.get(We);Ut.onerror=nn=>{fe(dc(nn,"storage-get"))},Ut.onsuccess=nn=>{const nr=nn.target.result;te(nr?nr.value:void 0)}}catch(Ut){fe(pr.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(I,R){var U=this;return(0,O.Z)(function*(){const te=yield U.openDbPromise;return new Promise((fe,Ie)=>{const We=te.transaction([lo],"readwrite").objectStore(lo),Ut=U.createCompositeKey(I);try{const nn=We.put({compositeKey:Ut,value:R});nn.onerror=nr=>{Ie(dc(nr,"storage-set"))},nn.onsuccess=()=>{fe()}}catch(nn){Ie(pr.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,fe)=>{const Ge=U.transaction([lo],"readwrite").objectStore(lo),We=R.createCompositeKey(I);try{const Ut=Ge.delete(We);Ut.onerror=nn=>{fe(dc(nn,"storage-delete"))},Ut.onsuccess=()=>{te()}}catch(Ut){fe(pr.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Dm{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),fe=yield R;fe&&(I.lastFetchStatus=fe);const Ie=yield U;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const Ge=yield te;Ge&&(I.activeConfig=Ge)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function rp(){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("remote-config",function(I,{instanceIdentifier:R}){const U=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pr.create("registration-window");if(!(0,ae.hl)())throw pr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ie,appId:Ge}=U.options;if(!fe)throw pr.create("registration-project-id");if(!Ie)throw pr.create("registration-api-key");if(!Ge)throw pr.create("registration-app-id");const We=new Kd(Ge,U.name,R=R||"firebase"),Ut=new Dm(We),nn=new ce.Yd(ha);nn.logLevel=ce.in.ERROR;const nr=new wr(te,le.SDK_VERSION,R,fe,Ie,Ge),hi=new Zd(nr,We),ar=new Pr(hi,We,Ut,nn),Na=new zd(U,ar,Ut,We,nn);return function(D){const I=(0,ae.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ha,"0.3.3"),(0,le.registerVersion)(ha,"0.3.3","esm2017");const Ku="/firebase-messaging-sw.js",Qd="/firebase-cloud-messaging-push-scope",fc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ki="google.c.a.c_id",Ps="google.c.a.c_l",gr="google.c.a.ts",pc="google.c.a.e";var ga=(()=>{return(D=ga||(ga={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ga;var D})();function Oi(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xd(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),te=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)te[fe]=U.charCodeAt(fe);return te}const ma="fcm_token_details_db",gc="fcm_token_object_Store";function Wi(D){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(ma))return null;let I=null;return(yield(0,Q.openDb)(ma,5,function(){var U=(0,O.Z)(function*(te){var fe;if(te.oldVersion<2||!te.objectStoreNames.contains(gc))return;const Ie=te.transaction.objectStore(gc),Ge=yield Ie.index("fcmSenderId").get(D);if(yield Ie.clear(),Ge)if(2===te.oldVersion){const We=Ge;if(!We.auth||!We.p256dh||!We.endpoint)return;I={token:We.fcmToken,createTime:null!==(fe=We.createTime)&&void 0!==fe?fe:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:Oi(We.vapidKey)}}}else if(3===te.oldVersion){const We=Ge;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:Oi(We.auth),p256dh:Oi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:Oi(We.vapidKey)}}}else if(4===te.oldVersion){const We=Ge;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:Oi(We.auth),p256dh:Oi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:Oi(We.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(ma),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Qu(I)?I:null})).apply(this,arguments)}function Qu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const co="firebase-messaging-store";let _a=null;function Rn(){return _a||(_a=(0,Q.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(co)}})),_a}function Xa(D){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,O.Z)(function*(D){const I=ya(D),U=yield(yield Rn()).transaction(co).objectStore(co).get(I);if(U)return U;{const te=yield Wi(D.appConfig.senderId);if(te)return yield ho(D,te),te}})).apply(this,arguments)}function ho(D,I){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(D,I){const R=ya(D),te=(yield Rn()).transaction(co,"readwrite");return yield te.objectStore(co).put(I,R),yield te.complete,I})).apply(this,arguments)}function sp(D){return mc.apply(this,arguments)}function mc(){return(mc=(0,O.Z)(function*(D){const I=ya(D),U=(yield Rn()).transaction(co,"readwrite");yield U.objectStore(co).delete(I),yield U.complete})).apply(this,arguments)}function ya({appConfig:D}){return D.appId}const Sn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _c(D,I){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(D,I){const R=yield el(D),U=dt(I),te={method:"POST",headers:R,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(fs(D.appConfig),te)).json()}catch(Ie){throw Sn.create("token-subscribe-failed",{errorInfo:Ie})}if(fe.error)throw Sn.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Sn.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function li(D,I){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,O.Z)(function*(D,I){const R=yield el(D),U=dt(I.subscriptionOptions),te={method:"PATCH",headers:R,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(`${fs(D.appConfig)}/${I.token}`,te)).json()}catch(Ie){throw Sn.create("token-update-failed",{errorInfo:Ie})}if(fe.error)throw Sn.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Sn.create("token-update-no-token");return fe.token})).apply(this,arguments)}function eu(D,I){return mr.apply(this,arguments)}function mr(){return(mr=(0,O.Z)(function*(D,I){const U={method:"DELETE",headers:yield el(D)};try{const fe=yield(yield fetch(`${fs(D.appConfig)}/${I}`,U)).json();if(fe.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(te){throw Sn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function fs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function el(D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function dt({p256dh:D,auth:I,endpoint:R,vapidKey:U}){const te={web:{endpoint:R,auth:I,p256dh:D}};return U!==fc&&(te.web.applicationPubKey=U),te}const th=6048e5;function nh(D){return yc.apply(this,arguments)}function yc(){return(yc=(0,O.Z)(function*(D){const I=yield nu(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Oi(I.getKey("auth")),p256dh:Oi(I.getKey("p256dh"))},U=yield Xa(D.firebaseDependencies);if(U){if(ru(U.subscriptionOptions,R))return Date.now()>=U.createTime+th?vc(D,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield eu(D.firebaseDependencies,U.token)}catch(te){console.warn(te)}return Te(D.firebaseDependencies,R)}return Te(D.firebaseDependencies,R)})).apply(this,arguments)}function tl(D){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(D){const I=yield Xa(D.firebaseDependencies);I&&(yield eu(D.firebaseDependencies,I.token),yield sp(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function vc(D,I){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(D,I){try{const R=yield li(D.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield ho(D.firebaseDependencies,U),R}catch(R){throw yield tl(D),R}})).apply(this,arguments)}function Te(D,I){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,O.Z)(function*(D,I){const U={token:yield _c(D,I),createTime:Date.now(),subscriptionOptions:I};return yield ho(D,U),U.token})).apply(this,arguments)}function nu(D,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xd(I)})})).apply(this,arguments)}function ru(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Yi(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const U=I.notification.body;U&&(D.notification.body=U);const te=I.notification.image;te&&(D.notification.image=te)}(I,D),function(D,I){!I.data||(D.data=I.data)}(I,D),function(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const R=I.fcmOptions.link;R&&(D.fcmOptions.link=R);const U=I.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(I,D),I}function op(D){return"object"==typeof D&&!!D&&ki in D}function nl(D,I){const R=[];for(let U=0;U<D.length;U++)R.push(D.charAt(U)),U<I.length&&R.push(I.charAt(U));return R.join("")}function fo(D){return Sn.create("missing-app-config-values",{valueName:D})}nl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(I,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(D){if(!D||!D.options)throw fo("App Configuration Object");if(!D.name)throw fo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const U of I)if(!R[U])throw fo(U);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function qr(D){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ku,{scope:Qd}),D.swRegistration.update().catch(()=>{})}catch(I){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function gs(D,I){return Er.apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield qr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Tm(D,I){return wa.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=fc)})).apply(this,arguments)}function su(){return(su=(0,O.Z)(function*(D,I){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield Tm(D,null==I?void 0:I.vapidKey),yield gs(D,null==I?void 0:I.serviceWorkerRegistration),nh(D)})).apply(this,arguments)}function wc(D,I,R){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,O.Z)(function*(D,I,R){const U=Cc(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[ki],message_name:R[Ps],message_time:R[gr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cc(D){switch(D){case ga.NOTIFICATION_CLICKED:return"notification_open";case ga.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function il(){return(il=(0,O.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===ga.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Yi(R)):D.onMessageHandler.next(Yi(R)));const U=R.data;op(U)&&"1"===U[pc]&&(yield wc(D,R.messageType,U))})).apply(this,arguments)}const ou="@firebase/messaging";function ol(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("messaging",D=>{const I=new or(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(D,I){return il.apply(this,arguments)}(I,R)),I},"PUBLIC")),(0,le._registerComponent)(new ee.wA("messaging-internal",D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,I){return su.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,le.registerVersion)(ou,"0.9.4"),(0,le.registerVersion)(ou,"0.9.4","esm2017");const ul="analytics",Ec="firebase_id",Ea="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",er=new ce.Yd("@firebase/analytics");function Tc(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function sh(D,I){const R=document.createElement("script");R.src=`${jo}?l=${D}&id=${I}`,R.async=!0,document.head.appendChild(R)}function ll(D,I,R,U,te,fe){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(D,I,R,U,te,fe){const Ie=U[te];try{if(Ie)yield I[Ie];else{const We=(yield Tc(R)).find(Ut=>Ut.measurementId===te);We&&(yield I[We.appId])}}catch(Ge){er.error(Ge)}D("config",te,fe)})).apply(this,arguments)}function oh(D,I,R,U,te){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(D,I,R,U,te){try{let fe=[];if(te&&te.send_to){let Ie=te.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ge=yield Tc(R);for(const We of Ie){const Ut=Ge.find(nr=>nr.measurementId===We),nn=Ut&&I[Ut.appId];if(!nn){fe=[];break}fe.push(nn)}}0===fe.length&&(fe=Object.values(I)),yield Promise.all(fe),D("event",U,te||{})}catch(fe){er.error(fe)}})).apply(this,arguments)}function Im(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(jo))return I;return null}const _s=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function dp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ac(D){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(D){var I;const{appId:R,apiKey:U}=D,te={method:"GET",headers:dp(U)},fe=Ea.replace("{app-id}",R),Ie=yield fetch(fe,te);if(200!==Ie.status&&304!==Ie.status){let Ge="";try{const We=yield Ie.json();(null===(I=We.error)||void 0===I?void 0:I.message)&&(Ge=We.error.message)}catch(We){}throw _s.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ge})}return Ie.json()})).apply(this,arguments)}function Da(D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(D,I=cl,R){const{appId:U,apiKey:te,measurementId:fe}=D.options;if(!U)throw _s.create("no-app-id");if(!te){if(fe)return{measurementId:fe,appId:U};throw _s.create("no-api-key")}const Ie=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Nc;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==R?R:6e4),Sc({appId:U,apiKey:te,measurementId:fe},Ie,Ge,I)})).apply(this,arguments)}function Sc(D,I,R){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},U,te=cl){const{appId:fe,measurementId:Ie}=D;try{yield ov(U,I)}catch(Ge){if(Ie)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:fe,measurementId:Ie};throw Ge}try{const Ge=yield Ac(D);return te.deleteThrottleMetadata(fe),Ge}catch(Ge){if(!uh(Ge)){if(te.deleteThrottleMetadata(fe),Ie)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:fe,measurementId:Ie};throw Ge}const We=503===Number(Ge.customData.httpStatus)?(0,ae.$s)(R,te.intervalMillis,30):(0,ae.$s)(R,te.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+We,backoffCount:R+1};return te.setThrottleMetadata(fe,Ut),er.debug(`Calling attemptFetch again in ${We} millis`),Sc(D,Ut,U,te)}})).apply(this,arguments)}function ov(D,I){return new Promise((R,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(R,te);D.addEventListener(()=>{clearTimeout(fe),U(_s.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function uh(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Nc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function lh(){return ch.apply(this,arguments)}function ch(){return(ch=(0,O.Z)(function*(){if(!(0,ae.hl)())return er.warn(_s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return er.warn(_s.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(D,I,R,U,te,fe,Ie){var Ge;const We=Da(D);We.then(ar=>{R[ar.measurementId]=ar.appId,D.options.measurementId&&ar.measurementId!==D.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>er.error(ar)),I.push(We);const Ut=lh().then(ar=>{if(ar)return U.getId()}),[nn,nr]=yield Promise.all([We,Ut]);Im()||sh(fe,nn.measurementId),te("js",new Date);const hi=null!==(Ge=null==Ie?void 0:Ie.config)&&void 0!==Ge?Ge:{};return hi.origin="firebase",hi.update=!0,null!=nr&&(hi[Ec]=nr),te("config",nn.measurementId,hi),nn.measurementId})).apply(this,arguments)}class pn{constructor(I){this.app=I}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},un=[];const dh={};let ys,Zn,Nn="dataLayer",du=!1;function xt(D,I,R){!function(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((U,te)=>`(${te+1}) ${U}`).join(" "),R=_s.create("invalid-analytics-context",{errorInfo:I});er.warn(R.message)}}();const U=D.options.appId;if(!U)throw _s.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw _s.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[U])throw _s.create("already-exists",{id:U});if(!du){!function(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Nn);const{wrappedGtag:fe,gtagCore:Ie}=function(D,I,R,U,te){let fe=function(...Ie){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(fe=window[te]),window[te]=function(D,I,R,U){function fe(){return(fe=(0,O.Z)(function*(Ie,Ge,We){try{"event"===Ie?yield oh(D,I,R,Ge,We):"config"===Ie?yield ll(D,I,R,U,Ge,We):D("set",Ge)}catch(Ut){er.error(Ut)}})).apply(this,arguments)}return function(Ie,Ge,We){return fe.apply(this,arguments)}}(fe,D,I,R),{gtagCore:fe,wrappedGtag:window[te]}}(Ze,un,dh,Nn,"gtag");Zn=fe,ys=Ie,du=!0}return Ze[U]=function(D,I,R,U,te,fe,Ie){return lu.apply(this,arguments)}(D,un,dh,I,ys,Nn,R),new pn(D)}function mo(){return(mo=(0,O.Z)(function*(D,I,R,U,te){if(te&&te.global)D("event",R,U);else{const fe=yield I;D("event",R,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function _o(){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const hp="@firebase/analytics";(0,le._registerComponent)(new ee.wA(ul,(I,{options:R})=>xt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ee.wA("analytics-internal",function(I){try{const R=I.getProvider(ul).getImmediate();return{logEvent:(U,te,fe)=>function(D,I,R,U){D=(0,ae.m9)(D),function(D,I,R,U,te){return mo.apply(this,arguments)}(Zn,Ze[D.app.options.appId],I,R,U).catch(te=>er.error(te))}(R,U,te,fe)}}catch(R){throw _s.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(hp,"0.7.4"),(0,le.registerVersion)(hp,"0.7.4","esm2017");var fp=F(7771),Sm=F(3637),Ia=F(8307),fu=F(9746),ph=F(2639);const Nm=new u.GfV("7.2.0"),kc="__angularfire_symbol__analyticsIsSupported",yo="__angularfire_symbol__remoteConfigIsSupported",Sa="__angularfire_symbol__messagingIsSupported";function vs(D,I,R){if(I){if(1===I.length)return I[0];const fe=I.filter(Ie=>Ie.app===R);if(1===fe.length)return fe[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[kc]||(globalThis[kc]=_o().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Sa]||(globalThis[Sa]=ol().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[yo]||(globalThis[yo]=rp().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const pu=(D,I)=>{const R=I?[I]:(0,j.C6)(),U=[];return R.forEach(te=>{te.container.getProvider(D).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function Vi(){}class Bs{constructor(I,R=fp.N){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,U){const te=this.zone;return this.delegate.schedule(function(Ie){te.runGuarded(()=>{I.apply(this,[Ie])})},R,U)}}class Pc{constructor(I){this.zone=I,this.task=null}call(I,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),R.pipe((0,Ia.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gh=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Bs(Zone.current)),this.insideAngular=R.run(()=>new Bs(Zone.current,Sm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Go(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function mh(D){return D.pipe((0,fu.QV)(Go().outsideAngular))}function zn(D){return Go(),function(D){return function(R){return(R=R.lift(new Pc(D.ngZone))).pipe((0,ph.R)(D.outsideAngular),(0,fu.QV)(D.insideAngular))}}(Go())(D)}},2476:(Ke,be,F)=>{"use strict";F.d(be,{$:()=>Tm,A:()=>io,E:()=>Or,G:()=>wr,I:()=>Fs,K:()=>Rs,L:()=>Xa,M:()=>sp,N:()=>mc,P:()=>te,Q:()=>ya,R:()=>Go,T:()=>an,U:()=>zi,V:()=>li,W:()=>el,X:()=>Yi,Y:()=>iu,Z:()=>op,_:()=>or,a:()=>ys,a0:()=>bc,a1:()=>wc,a2:()=>Cc,a3:()=>il,a4:()=>au,a5:()=>ap,a6:()=>rh,a7:()=>Bo,a8:()=>up,a9:()=>qn,aA:()=>Zo,aB:()=>Hs,aC:()=>kr,aG:()=>dl,aJ:()=>Sn,aa:()=>sv,ab:()=>ul,ae:()=>Ea,af:()=>er,ag:()=>Tc,aj:()=>yc,ak:()=>Am,am:()=>Sc,an:()=>ch,ao:()=>tp,ap:()=>jn,aq:()=>Ja,ar:()=>xs,as:()=>Xt,at:()=>Th,au:()=>wh,av:()=>Qt,aw:()=>ke,ax:()=>Be,ay:()=>pt,az:()=>ml,b:()=>Nn,c:()=>ar,d:()=>$s,e:()=>gu,f:()=>_u,g:()=>vh,h:()=>Fr,i:()=>fp,j:()=>km,k:()=>jc,l:()=>zn,m:()=>Ih,n:()=>Tp,o:()=>ls,r:()=>pp,s:()=>mh,u:()=>R,z:()=>cs});var u=F(8239),j=F(3854),O=F(8026);function ce(v,p){var _={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(_[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(_[C[S]]=v[C[S]])}return _}var Xe=F(5422),Bt=F(3910);const ls={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},io={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const cs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},As=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ni=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ss=new Xe.Yd("@firebase/auth");function gn(v,...p){Ss.logLevel<=Xe.in.ERROR&&Ss.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Xt(v,...p){throw Zi(v,...p)}function Qt(v,...p){return Zi(v,...p)}function Ns(v,p,_){const C=Object.assign(Object.assign({},As()),{[p]:_});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function Mi(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Xt(v,"argument-error"),Ns(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zi(v,...p){if("string"!=typeof v){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ni.create(v,...p)}function ke(v,p,..._){if(!v)throw Zi(p,..._)}function bn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw gn(p),new Error(p)}function jn(v,p){v||bn(p)}const Ri=new Map;function Be(v){jn(v instanceof Function,"Expected a class definition");let p=Ri.get(v);return p?(jn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ri.set(v,p),p)}function $n(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function st(){return"http:"===rt()||"https:"===rt()}function rt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Hn{constructor(p,_){this.shortDelay=p,this.longDelay=_,jn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){jn(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},da=new Hn(3e4,6e4);function cn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,_,C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(v,p,_,C,S={}){return dn(v,S,()=>{let x={},X={};C&&("GET"===p?X=C:x={body:JSON.stringify(C)});const _e=(0,j.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),He=new(Pe.headers());return He.set("Content-Type","application/json"),He.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&He.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(z(v,v.config.apiHost,_,_e),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function dn(v,p,_){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(v,p,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},et),p);try{const S=new ve(v),x=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const X=yield x.json();if("needConfirmation"in X)throw ue(v,"account-exists-with-different-credential",X);if(x.ok&&!("errorMessage"in X))return X;{const _e=x.ok?X.errorMessage:X.error.message,[He,Fe]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ue(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===He)throw ue(v,"email-already-in-use",X);const ot=C[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Ns(v,ot,Fe);Xt(v,ot)}}catch(S){if(S instanceof j.ZR)throw S;Xt(v,"network-request-failed")}})).apply(this,arguments)}function Z(v,p,_,C){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(v,p,_,C,S={}){const x=yield tn(v,p,_,C,S);return"mfaPendingCredential"in x&&Xt(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function z(v,p,_,C){const S=`${p}${_}?${C}`;return v.config.emulator?en(v.config,S):`${v.config.apiScheme}://${S}`}class ve{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Qt(this.auth,"timeout")),da.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ue(v,p,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Qt(v,p,C);return S.customData._tokenResponse=_,S}function ct(){return(ct=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gt(v,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gn(v,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ie(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,u.Z)(function*(v,p=!1){const _=(0,j.m9)(v),C=yield _.getIdToken(p),S=ht(C);ke(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,X=null==x?void 0:x.sign_in_provider;return{claims:S,token:C,authTime:ie(Ve(S.auth_time)),issuedAtTime:ie(Ve(S.iat)),expirationTime:ie(Ve(S.exp)),signInProvider:X||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Ve(v){return 1e3*Number(v)}function ht(v){const[p,_,C]=v.split(".");if(void 0===p||void 0===_||void 0===C)return gn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,j.tV)(_);return S?JSON.parse(S):(gn("Failed to decode base64 JWT payload"),null)}catch(S){return gn("Caught error parsing JWT payload as JSON",S),null}}function Tt(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&hn(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function hn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class In{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class wt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(v){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(v){var p;const _=v.auth,C=yield v.getIdToken(),S=yield Tt(v,Gn(_,{idToken:C}));ke(null==S?void 0:S.users.length,_,"internal-error");const x=S.users[0];v._notifyReloadListener(x);const X=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?fn(x.providerUserInfo):[],_e=Lt(v.providerData,X),ot=!!v.isAnonymous&&!(v.email&&x.passwordHash||(null==_e?void 0:_e.length)),qt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:_e,metadata:new wt(x.createdAt,x.lastLoginAt),isAnonymous:ot};Object.assign(v,qt)})).apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(v){const p=(0,j.m9)(v);yield An(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Lt(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function fn(v){return v.map(p=>{var{providerId:_}=p,C=ce(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ms(){return(Ms=(0,u.Z)(function*(v,p){const _=yield dn(v,{},()=>{const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:x}=v.config,X=z(v,S,"/v1/token",`key=${x}`);return Pe.fetch()(X,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Pn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ke(p.idToken,"internal-error"),ke(void 0!==p.idToken,"internal-error"),ke(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=ht(v);return ke(p,"internal-error"),ke(void 0!==p.exp,"internal-error"),ke(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,u.Z)(function*(){return ke(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:X}=yield function(v,p){return Ms.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(S,x,Number(X))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:S,expirationTime:x}=_,X=new Pn;return C&&(ke("string"==typeof C,"internal-error",{appName:p}),X.refreshToken=C),S&&(ke("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),x&&(ke("number"==typeof x,"internal-error",{appName:p}),X.expirationTime=x),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Pn,this.toJSON())}_performRefresh(){return bn("not implemented")}}function br(v,p){ke("string"==typeof v||void 0===v,"internal-error",{appName:p})}class mn{constructor(p){var{uid:_,auth:C,stsTokenManager:S}=p,x=ce(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new In(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new wt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,u.Z)(function*(){const C=yield Tt(_,_.stsTokenManager.getToken(_.auth,p));return ke(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(ke(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new mn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield An(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const _=yield p.getIdToken();return yield Tt(p,function(v,p){return ct.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,S,x,X,_e,He,Fe,ot;const qt=null!==(C=_.displayName)&&void 0!==C?C:void 0,_n=null!==(S=_.email)&&void 0!==S?S:void 0,Lr=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,yn=null!==(X=_.photoURL)&&void 0!==X?X:void 0,$c=null!==(_e=_.tenantId)&&void 0!==_e?_e:void 0,Ah=null!==(He=_._redirectEventId)&&void 0!==He?He:void 0,Sh=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Ip=null!==(ot=_.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Nh,emailVerified:Lm,isAnonymous:Mh,providerData:bo,stsTokenManager:Vm}=_;ke(Nh&&Vm,p,"internal-error");const Dl=Pn.fromJSON(this.name,Vm);ke("string"==typeof Nh,p,"internal-error"),br(qt,p.name),br(_n,p.name),ke("boolean"==typeof Lm,p,"internal-error"),ke("boolean"==typeof Mh,p,"internal-error"),br(Lr,p.name),br(yn,p.name),br($c,p.name),br(Ah,p.name),br(Sh,p.name),br(Ip,p.name);const Um=new mn({uid:Nh,auth:p,email:_n,emailVerified:Lm,displayName:qt,isAnonymous:Mh,photoURL:yn,phoneNumber:Lr,tenantId:$c,stsTokenManager:Dl,createdAt:Sh,lastLoginAt:Ip});return bo&&Array.isArray(bo)&&(Um.providerData=bo.map(Hc=>Object.assign({},Hc))),Ah&&(Um._redirectEventId=Ah),Um}static _fromIdTokenResponse(p,_,C=!1){return(0,u.Z)(function*(){const S=new Pn;S.updateFromServerResponse(_);const x=new mn({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield An(x),x})()}}const Rs=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,u.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,u.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,u.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function pt(v,p,_){return`firebase:${v}:${p}:${_}`}class ui{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:S,name:x}=this.auth;this.fullUserKey=pt(this.userKey,S.apiKey,x),this.fullPersistenceKey=pt("persistence",S.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?mn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,u.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,u.Z)(function*(){if(!_.length)return new ui(Be(Rs),p,C);const S=(yield Promise.all(_.map(function(){var Fe=(0,u.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let x=S[0]||Be(Rs);const X=pt(C,p.config.apiKey,p.name);let _e=null;for(const Fe of _)try{const ot=yield Fe._get(X);if(ot){const qt=mn._fromJSON(p,ot);Fe!==x&&(_e=qt),x=Fe;break}}catch(ot){}const He=S.filter(Fe=>Fe._shouldAllowMigration);return x._shouldAllowMigration&&He.length?(x=He[0],_e&&(yield x._set(X,_e.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,u.Z)(function*(ot){if(ot!==x)try{yield ot._remove(X)}catch(qt){}});return function(ot){return Fe.apply(this,arguments)}}())),new ui(x,p,C)):new ui(x,p,C)})()}}function ao(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(fa(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(pr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(xi(p))return"Blackberry";if(At(p))return"Webos";if(Po(p))return"Safari";if((p.includes("chrome/")||Rr(p))&&!p.includes("edge/"))return"Chrome";if(xs(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function pr(v=(0,j.z$)()){return/firefox\//i.test(v)}function Po(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Rr(v=(0,j.z$)()){return/crios\//i.test(v)}function fa(v=(0,j.z$)()){return/iemobile/i.test(v)}function xs(v=(0,j.z$)()){return/android/i.test(v)}function xi(v=(0,j.z$)()){return/blackberry/i.test(v)}function At(v=(0,j.z$)()){return/webos/i.test(v)}function Ja(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function tp(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Fo(v=(0,j.z$)()){return Ja(v)||xs(v)||At(v)||xi(v)||/windows phone/i.test(v)||fa(v)}function ks(v,p=[]){let _;switch(v){case"Browser":_=ao((0,j.z$)());break;case"Worker":_=`${ao((0,j.z$)())}-${v}`;break;default:_=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class xr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Os(this),this.idTokenSubscription=new Os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ni,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=Be(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,x;C._deleted||(C.persistenceManager=yield ui.create(C,p),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(x=C.currentUser)||void 0===x?void 0:x.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,u.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const x=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==S?void 0:S._redirectEventId,_e=yield _.tryRedirectSignIn(p);(!x||x===X)&&(null==_e?void 0:_e.user)&&(S=_e.user)}return S?S._redirectEventId?(ke(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,u.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,u.Z)(function*(){try{yield An(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,u.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&ke(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return p&&ke(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(Be(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,u.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&Be(p)||_._popupRedirectResolver;ke(C,_,"argument-error"),_.redirectPersistenceManager=yield ui.create(_,[Be(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,u.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,u.Z)(function*(){if(p===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,S){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(X,this,"internal-error"),X.then(()=>x(this.currentUser)),"function"==typeof _?p.addObserver(_,C,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ks(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function kr(v){return(0,j.m9)(v)}class Os{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(v,p,_){const C=kr(v);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),x=lc(p),{host:X,port:_e}=function(v){const p=lc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const x=S[1];return{host:x,port:Pr(C.substr(x.length+1))}}{const[x,X]=C.split(":");return{host:x,port:Pr(X)}}}(p);C.config.emulator={url:`${x}//${X}${null===_e?"":`:${_e}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:_e,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function lc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Pr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class wr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return bn("not implemented")}_getIdTokenResponse(p){return bn("not implemented")}_linkToIdToken(p,_){return bn("not implemented")}_getReauthenticationResolver(p){return bn("not implemented")}}function np(v,p){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",cn(v,p))})).apply(this,arguments)}function Zd(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cm(v,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",cn(v,p))})).apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPassword",cn(v,p))})).apply(this,arguments)}function hc(v,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",cn(v,p))})).apply(this,arguments)}function Em(v,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,u.Z)(function*(v,p){return hc(v,p)})).apply(this,arguments)}function Dm(v,p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,u.Z)(function*(v,p){return hc(v,p)})).apply(this,arguments)}function iv(v,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(v,p){return hc(v,p)})).apply(this,arguments)}function rp(v,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(v,p){return hc(v,p)})).apply(this,arguments)}function Qd(){return(Qd=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}class ki extends wr{constructor(p,_,C,S=null){super("password",C),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new ki(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new ki(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return lo.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return Qd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Xt(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Zd(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Ju.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Xt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ps(v,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithIdp",cn(v,p))})).apply(this,arguments)}class Fs extends wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Fs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=_,x=ce(_,["providerId","signInMethod"]);if(!C||!S)return null;const X=new Fs(C,S);return X.idToken=x.idToken||void 0,X.accessToken=x.accessToken||void 0,X.secret=x.secret,X.nonce=x.nonce,X.pendingToken=x.pendingToken||null,X}_getIdTokenResponse(p){return Ps(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Ps(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Ps(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function ga(v,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",cn(v,p))})).apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p))})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(v,p){const _=yield Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p));if(_.temporaryProof)throw ue(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wi={USER_NOT_FOUND:"user-not-found"};function Qu(){return(Qu=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wi)})).apply(this,arguments)}class hs extends wr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new hs({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new hs({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ma.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return gc.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Qu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:x}=p;return C||_||S||x?new hs({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:x}):null}}class _a{constructor(p){var _,C,S,x,X,_e;const He=(0,j.zd)((0,j.pd)(p)),Fe=null!==(_=He.apiKey)&&void 0!==_?_:null,ot=null!==(C=He.oobCode)&&void 0!==C?C:null,qt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=He.mode)&&void 0!==S?S:null);ke(Fe&&ot&&qt,"argument-error"),this.apiKey=Fe,this.operation=qt,this.code=ot,this.continueUrl=null!==(x=He.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(X=He.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(_e=He.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const _=function(v){const p=(0,j.zd)((0,j.pd)(v)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||p||v}(p);try{return new _a(_)}catch(C){return null}}}let Xa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return ki._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=_a.parseLink(C);return ke(S,"argument-error"),ki._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Cr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ho extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class an extends ho{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ke("providerId"in _&&"signInMethod"in _,"argument-error"),Fs._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ke(p.idToken||p.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return an.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return an.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:x,nonce:X,providerId:_e}=p;if(!C&&!S&&!_&&!x||!_e)return null;try{return new an(_e)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:x})}catch(He){return null}}}let sp=(()=>{class v extends ho{constructor(){super("facebook.com")}static credential(_){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),mc=(()=>{class v extends ho{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return v.credential(C,S)}catch(x){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ya=(()=>{class v extends ho{constructor(){super("github.com")}static credential(_){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Sn extends wr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Ps(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Ps(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Ps(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:x}=_;return C&&S&&x&&C===S?new Sn(C,x):null}static _create(p,_){return new Sn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends Cr{constructor(p){ke(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return zi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return zi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Sn.fromJSON(p);return ke(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Sn._create(C,_)}catch(S){return null}}}let li=(()=>{class v extends ho{constructor(){super("twitter.com")}static credential(_,C){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return v.credential(C,S)}catch(x){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xu(v,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signUp",cn(v,p))})).apply(this,arguments)}class mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,S=!1){return(0,u.Z)(function*(){const x=yield mn._fromIdTokenResponse(p,C,S),X=fs(C);return new mr({user:x,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=fs(C);return new mr({user:p,providerId:S,_tokenResponse:C,operationType:_})})()}}function fs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function el(v){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(v){var p;const _=kr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new mr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Xu(_,{returnSecureToken:!0}),S=yield mr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class dt extends j.ZR{constructor(p,_,C,S){var x;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,dt.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,S){return new dt(p,_,C,S)}}function th(v,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?dt._fromErrorAndOperation(v,x,p,C):x})}function nh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function yc(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v);yield ps(!0,_,p);const{providerUserInfo:C}=yield Gt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=nh(C||[]);return _.providerData=_.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function tu(v,p){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(v,p,_=!1){const C=yield Tt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return mr._forOperation(v,"link",C)})).apply(this,arguments)}function ps(v,p,_){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(v,p,_){yield An(p);const S=!1===v?"provider-already-linked":"no-such-provider";ke(nh(p.providerData).has(_)===v,p.auth,S)})).apply(this,arguments)}function Rt(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,u.Z)(function*(v,p,_=!1){const{auth:C}=v,S="reauthenticate";try{const x=yield Tt(v,th(C,S,p,v),_);ke(x.idToken,C,"internal-error");const X=ht(x.idToken);ke(X,C,"internal-error");const{sub:_e}=X;return ke(v.uid===_e,C,"user-mismatch"),mr._forOperation(v,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Xt(C,"user-mismatch"),x}})).apply(this,arguments)}function wn(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(v,p,_=!1){const C="signIn",S=yield th(v,C,p),x=yield mr._fromIdTokenResponse(v,C,S);return _||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Yi(v,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(v,p){return wn(kr(v),p)})).apply(this,arguments)}function iu(v,p){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v);return yield ps(!1,_,p.providerId),tu(_,p)})).apply(this,arguments)}function op(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(v,p){return Rt((0,j.m9)(v),p)})).apply(this,arguments)}function rl(v,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithCustomToken",cn(v,p))})).apply(this,arguments)}function or(v,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(v,p){const _=kr(v),C=yield rl(_,{token:p,returnSecureToken:!0}),S=yield mr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class ba{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?gs._fromServerResponse(p,_):Xt(p,"internal-error")}}class gs extends ba{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new gs(_)}}function Er(v,p,_){var C;ke((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ke(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ke(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ke(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Tm(v,p,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"PASSWORD_RESET",email:p};_&&Er(C,S,_),yield Dm(C,S)})).apply(this,arguments)}function bc(v,p,_){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(v,p,_){yield np((0,j.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function wc(v,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(v,p){yield Cm((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function Cc(v,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v),C=yield np(_,{oobCode:p}),S=C.requestType;switch(ke(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,_,"internal-error");default:ke(C.email,_,"internal-error")}let x=null;return C.mfaInfo&&(x=ba._fromServerResponse(kr(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function il(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(v,p){const{data:_}=yield Cc((0,j.m9)(v),p);return _.email})).apply(this,arguments)}function au(v,p,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(v,p,_){const C=kr(v),S=yield Xu(C,{returnSecureToken:!0,email:p,password:_}),x=yield mr._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(x.user),x})).apply(this,arguments)}function ap(v,p,_){return Yi((0,j.m9)(v),Xa.credential(p,_))}function rh(v,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};ke(_.handleCodeInApp,C,"argument-error"),_&&Er(C,S,_),yield iv(C,S)})).apply(this,arguments)}function Bo(v,p){const _=_a.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function up(v,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=Xa.credentialWithLink(p,_||$n());return ke(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Yi(C,S)})).apply(this,arguments)}function Dr(v,p){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",cn(v,p))})).apply(this,arguments)}function qn(v,p){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(v,p){const C={identifier:p,continueUri:st()?$n():"http://localhost"},{signinMethods:S}=yield Dr((0,j.m9)(v),C);return S||[]})).apply(this,arguments)}function sv(v,p){return ih.apply(this,arguments)}function ih(){return(ih=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Er(_.auth,S,p);const{email:x}=yield Em(_.auth,S);x!==v.email&&(yield v.reload())})).apply(this,arguments)}function ul(v,p,_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Er(C.auth,x,_);const{email:X}=yield rp(C.auth,x);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function Dc(v,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ea(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,j.m9)(v),x={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield Tt(C,Dc(C.auth,x));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const _e=C.providerData.find(({providerId:He})=>"password"===He);_e&&(_e.displayName=C.displayName,_e.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function er(v,p){return sh((0,j.m9)(v),p,null)}function Tc(v,p){return sh((0,j.m9)(v),null,p)}function sh(v,p,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(v,p,_){const{auth:C}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(x.email=p),_&&(x.password=_);const X=yield Tt(v,Zd(C,x));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class $o{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class oh extends $o{constructor(p,_,C,S){super(p,_,C),this.username=S}}class Ho extends $o{constructor(p,_){super(p,"facebook.com",_)}}class Ic extends oh{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class lp extends $o{constructor(p,_){super(p,"google.com",_)}}class Im extends oh{constructor(p,_,C){super(p,"twitter.com",_,C)}}function Am(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(p=ht(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new $o(x,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new Ho(x,S);case"github.com":return new Ic(x,S);case"google.com":return new lp(x,S);case"twitter.com":return new Im(x,S,v.screenName||null);case"custom":case"anonymous":return new $o(x,null);default:return new $o(x,C,S)}}(_)}class Da{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Da("enroll",p)}static _fromMfaPendingCredential(p){return new Da("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Da._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Da._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vs{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=kr(p),S=_.customData._serverResponse,x=(S.mfaInfo||[]).map(_e=>ba._fromServerResponse(C,_e));ke(S.mfaPendingCredential,C,"internal-error");const X=Da._fromMfaPendingCredential(S.mfaPendingCredential);return new Vs(X,x,function(){var _e=(0,u.Z)(function*(He){const Fe=yield He._process(C,X);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const qt=yield mr._fromIdTokenResponse(C,_.operationType,ot);return yield C._updateCurrentUser(qt.user),qt;case"reauthenticate":return ke(_.user,C,"internal-error"),mr._forOperation(_.user,_.operationType,ot);default:Xt(C,"internal-error")}});return function(He){return _e.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,u.Z)(function*(){return _.signInResolver(p)})()}}function Sc(v,p){var _;const C=(0,j.m9)(v),S=p;return ke(p.customData.operationType,C,"argument-error"),ke(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Vs._fromError(C,S)}function Ta(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",cn(v,p))}class Nc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>ba._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Nc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Da._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,u.Z)(function*(){const S=p,x=yield C.getSession(),X=yield Tt(C.user,S._process(C.user.auth,x,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(p){var _=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),x=yield Tt(_.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(v,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(x);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const lh=new WeakMap;function ch(v){const p=(0,j.m9)(v);return lh.has(p)||lh.set(p,Nc._fromUser(p)),lh.get(p)}const go="__sak";class lu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(go,"1"),this.storage.removeItem(go),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nn=(()=>{class v extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,j.z$)();return Po(v)||Ja(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Fo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),x=this.localCache[C];S!==x&&_(C,x,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((_e,He,Fe)=>{this.notifyListeners(_e,Fe)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(S);if(_.newValue!==_e)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const x=()=>{const _e=this.storage.getItem(S);!C&&this.localCache[S]===_e||this.notifyListeners(S,_e)},X=this.storage.getItem(S);(0,j.w1)()&&10===document.documentMode&&X!==_.newValue&&_.newValue!==_.oldValue?setTimeout(x,10):x()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,x=this;return(0,u.Z)(function*(){yield S().call(x,_,C),x.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,u.Z)(function*(){const x=yield C().call(S,_);return S.localCache[_]=JSON.stringify(x),x})()}_remove(_){var C=()=>super._remove,S=this;return(0,u.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),ys=(()=>{class v extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let du=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(x=>x.isListeningto(_));if(C)return C;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,u.Z)(function*(){const S=_,{eventId:x,eventType:X,data:_e}=S.data,He=C.handlersMap[X];if(!(null==He?void 0:He.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:X});const Fe=Array.from(He).map(function(){var qt=(0,u.Z)(function*(_n){return _n(S.origin,_e)});return function(_n){return qt.apply(this,arguments)}}()),ot=yield function(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:x,eventType:X,response:ot})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dl(v="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return v+_}class hl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var S=this;return(0,u.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let X,_e;return new Promise((He,Fe)=>{const ot=dl("",20);x.port1.start();const qt=setTimeout(()=>{Fe(new Error("unsupported_event"))},C);_e={messageChannel:x,onMessage(_n){const Lr=_n;if(Lr.data.eventId===ot)switch(Lr.data.status){case"ack":clearTimeout(qt),X=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),He(Lr.data.response);break;default:clearTimeout(qt),clearTimeout(X),Fe(new Error("invalid_response"))}}},S.handlers.add(_e),x.port1.addEventListener("message",_e.onMessage),S.target.postMessage({eventType:p,eventId:ot,data:_},[x.port2])}).finally(()=>{_e&&S.removeMessageHandler(_e)})})()}}function xt(){return window}function mo(){return void 0!==xt().WorkerGlobalScope&&"function"==typeof xt().importScripts}function Fi(){return(Fi=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const xc="firebaseLocalStorageDb",Li="firebaseLocalStorage",Us="fbase_key";class Qi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zr(v,p){return v.transaction([Li],p?"readwrite":"readonly").objectStore(Li)}function fl(){const v=indexedDB.open(xc,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Li,{keyPath:Us})}catch(S){_(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Li)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(xc);return new Qi(v).toPromise()}(),p(yield fl()))}))})}function lt(v,p,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(v,p,_){const C=Zr(v,!0).put({[Us]:p,value:_});return new Qi(C).toPromise()})).apply(this,arguments)}function fh(){return(fh=(0,u.Z)(function*(v,p){const _=Zr(v,!1).get(p),C=yield new Qi(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function xn(v,p){const _=Zr(v,!0).delete(p);return new Qi(_).toPromise()}const fp=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield fl()),_.db})()}_withRetries(_){var C=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const x=yield C._openDb();return yield _(x)}catch(x){if(S++>3)throw x;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return mo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=du._getInstance(mo()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(S,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(S,x){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return Fi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hl(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);!x||(null===(C=x[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fl();return yield lt(_,go,"1"),yield xn(_,go),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(x=>lt(x,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,u.Z)(function*(){const S=yield C._withRetries(x=>function(v,p){return fh.apply(this,arguments)}(x,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(S=>xn(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const C=yield _._withRetries(X=>{const _e=Zr(X,!1).getAll();return new Qi(_e).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:X,value:_e}of C)x.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(_e)&&(_.notifyListeners(X,_e),S.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!x.has(X)&&(_.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Sm(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",cn(v,p))}function ph(){return(ph=(0,u.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kn(v){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const x=Qt("internal-error");x.customData=S,_(x)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function kc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const On=1e12;class Sa{constructor(p){this.auth=p,this.counter=On,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new Vn(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||On;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||On))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,u.Z)(function*(){var C;return null===(C=_._widgets.get(p||On))||void 0===C||C.execute(),""})()}}class Vn{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ke(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=kc("rcb"),Xi=new Hn(3e4,6e4);class pu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xt().grecaptcha}load(p,_=""){return ke((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(xt().grecaptcha):new Promise((C,S)=>{const x=xt().setTimeout(()=>{S(Qt(p,"network-request-failed"))},Xi.get());xt()[gl]=()=>{xt().clearTimeout(x),delete xt()[gl];const _e=xt().grecaptcha;if(!_e)return void S(Qt(p,"internal-error"));const He=_e.render;_e.render=(Fe,ot)=>{const qt=He(Fe,ot);return this.counter++,qt},this.hostLanguage=_,C(_e)},kn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:gl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),S(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!xt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bs{load(p){return(0,u.Z)(function*(){return new Sa(p)})()}clearedOneInstance(){}}const Pc="recaptcha",gh={theme:"light",type:"image"};class Go{constructor(p,_=Object.assign({},gh),C){this.parameters=_,this.type=Pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kr(C),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ke(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bs:new pu,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(x=>{const X=_e=>{!_e||(p.tokenChangeListeners.delete(X),x(_e))};p.tokenChangeListeners.add(X),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=xt()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){ke(st()&&!mo(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return ph.apply(this,arguments)}(p.auth);ke(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class js{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=hs._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function mh(v,p,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(v,p,_){const C=kr(v),S=yield D(C,p,(0,j.m9)(_));return new js(S,x=>Yi(C,x))})).apply(this,arguments)}function zn(v,p,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);yield ps(!1,C,"phone");const S=yield D(C.auth,p,(0,j.m9)(_));return new js(S,x=>iu(C,x))})).apply(this,arguments)}function pp(v,p,_){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=yield D(C.auth,p,(0,j.m9)(_));return new js(S,x=>op(C,x))})).apply(this,arguments)}function D(v,p,_){return I.apply(this,arguments)}function I(){return(I=(0,u.Z)(function*(v,p,_){var C;const S=yield _.verify();try{let x;if(ke("string"==typeof S,v,"argument-error"),ke(_.type===Pc,v,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const X=x.session;if("phoneNumber"in x)return ke("enroll"===X.type,v,"internal-error"),(yield Ta(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ke("signin"===X.type,v,"internal-error");const _e=(null===(C=x.multiFactorHint)||void 0===C?void 0:C.uid)||x.multiFactorUid;return ke(_e,v,"missing-multi-factor-info"),(yield Sm(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ga(v,{phoneNumber:x.phoneNumber,recaptchaToken:S});return X}}finally{_._reset()}})).apply(this,arguments)}function R(v,p){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(v,p){yield tu((0,j.m9)(v),p)})).apply(this,arguments)}let te=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=kr(_)}verifyPhoneNumber(_,C){return D(this.auth,_,(0,j.m9)(C))}static credential(_,C){return hs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?hs._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function fe(v,p){return p?Be(p):(ke(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ie extends wr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ps(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Ps(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Ps(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ge(v){return wn(v.auth,new Ie(v),v.bypassAuthState)}function We(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),Rt(_,new Ie(v),v.bypassAuthState)}function Ut(v){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),tu(_,new Ie(v),v.bypassAuthState)})).apply(this,arguments)}class nr{constructor(p,_,C,S,x=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,u.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:x,tenantId:X,error:_e,type:He}=p;if(_e)return void _.reject(_e);const Fe={auth:_.auth,requestUri:C,sessionId:S,tenantId:X||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(He)(Fe))}catch(ot){_.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return We;default:Xt(this.auth,"internal-error")}}resolve(p){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hi=new Hn(2e3,1e4);function ar(v,p,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,p,_){const C=kr(v);Mi(v,p,Cr);const S=fe(C,_);return new _t(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function gu(v,p,_){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Mi(C.auth,p,Cr);const S=fe(C.auth,_);return new _t(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function $s(v,p,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Mi(C.auth,p,Cr);const S=fe(C.auth,_);return new _t(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let _t=(()=>{class v extends nr{constructor(_,C,S,x,X){super(_,C,x,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const C=yield _.execute();return ke(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,u.Z)(function*(){jn(1===_.filter.length,"Popup operations only handle one event");const C=dl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hi.get())};_()}}return v.currentPopupAction=null,v})();const Cn=new Map;class gp extends nr{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,u.Z)(function*(){let C=Cn.get(_.auth._key());if(!C){try{const x=(yield function(v,p){return qo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(x)}catch(S){C=()=>Promise.reject(S)}Cn.set(_.auth._key(),C)}return _.bypassAuthState||Cn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function qo(){return(qo=(0,u.Z)(function*(v,p){const _=xm(p),C=_h(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function mu(v,p){return mp.apply(this,arguments)}function mp(){return(mp=(0,u.Z)(function*(v,p){return _h(v)._set(xm(p),"true")})).apply(this,arguments)}function Hs(){Cn.clear()}function _h(v){return Be(v._redirectPersistence)}function xm(v){return pt("pendingRedirect",v.config.apiKey,v.name)}function _u(v,p,_){return function(v,p,_){return Yn.apply(this,arguments)}(v,p,_)}function Yn(){return(Yn=(0,u.Z)(function*(v,p,_){const C=kr(v);Mi(v,p,Cr);const S=fe(C,_);return yield mu(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Fr(v,p,_){return function(v,p,_){return yh.apply(this,arguments)}(v,p,_)}function yh(){return(yh=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Mi(C.auth,p,Cr);const S=fe(C.auth,_);yield mu(S,C.auth);const x=yield Vc(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function vh(v,p,_){return function(v,p,_){return bh.apply(this,arguments)}(v,p,_)}function bh(){return(bh=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Mi(C.auth,p,Cr);const S=fe(C.auth,_);yield ps(!1,C,p.providerId),yield mu(S,C.auth);const x=yield Vc(C);return S._openRedirect(C.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function km(v,p){return _p.apply(this,arguments)}function _p(){return(_p=(0,u.Z)(function*(v,p){return yield kr(v)._initializationPromise,Zo(v,p,!1)})).apply(this,arguments)}function Zo(v,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(v,p,_=!1){const C=kr(v),S=fe(C,p),X=yield new gp(C,S,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,p)),X})).apply(this,arguments)}function Vc(v){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v){const p=dl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ml{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!Oa(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(p))}saveEventToCache(p){this.cachedEventUids.add(lv(p)),this.lastProcessedEventTime=Date.now()}}function lv(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Oa({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function wh(v){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const yp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function Ch(){return(Ch=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield wh(v);for(const _ of p)try{if(vp(_))return}catch(C){}Xt(v,"unauthorized-domain")})).apply(this,arguments)}function vp(v){const p=$n(),{protocol:_,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!Wo.test(_))return!1;if(yp.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const Eh=new Hn(3e4,6e4);function _l(){const v=xt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let yl=null;function bp(v){return yl=yl||function(v){return new Promise((p,_)=>{var C,S,x;function X(){_l(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_l(),_(Qt(v,"network-request-failed"))},timeout:Eh.get()})}if(null===(S=null===(C=xt().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=xt().gapi)||void 0===x?void 0:x.load)){const _e=kc("iframefcb");return xt()[_e]=()=>{gapi.load?X():_(Qt(v,"network-request-failed"))},kn(`https://apis.google.com/js/api.js?onload=${_e}`)}X()}}).catch(p=>{throw yl=null,p})}(v),yl}const vu=new Hn(5e3,15e3),Dh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pv(v){const p=v.config;ke(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=fv.get(v.config.apiHost);S&&(C.eid=S);const x=v._getFrameworks();return x.length&&(C.fw=x.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Pa(){return(Pa=(0,u.Z)(function*(v){const p=yield bp(v),_=xt().gapi;return ke(_,v,"internal-error"),p.open({where:document.body,url:pv(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dh,dontclear:!0},C=>new Promise(function(){var S=(0,u.Z)(function*(x,X){yield C.restyle({setHideOnLeave:!1});const _e=Qt(v,"network-request-failed"),He=xt().setTimeout(()=>{X(_e)},vu.get());function Fe(){xt().clearTimeout(He),x(C)}C.ping(Fe).then(Fe,()=>{X(_e)})});return function(x,X){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Om={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Th(v,p,_,C,S,x){ke(v.config.authDomain,v,"auth-domain-config-required"),ke(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:S};if(p instanceof Cr){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,Fe]of Object.entries(x||{}))X[He]=Fe}if(p instanceof ho){const He=p.getScopes().filter(Fe=>""!==Fe);He.length>0&&(X.scopes=He.join(","))}v.tenantId&&(X.tid=v.tenantId);const _e=X;for(const He of Object.keys(_e))void 0===_e[He]&&delete _e[He];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(_e).slice(1)}`}const wl="webStorageSupport",jc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=Zo}_openPopup(p,_,C,S){var x=this;return(0,u.Z)(function*(){var X;jn(null===(X=x.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const _e=Th(p,_,C,$n(),S);return function(v,p,_,C=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let _e="";const He=Object.assign(Object.assign({},Om),{width:C.toString(),height:S.toString(),top:x,left:X}),Fe=(0,j.z$)().toLowerCase();_&&(_e=Rr(Fe)?"_blank":_),pr(Fe)&&(p=p||"http://localhost",He.scrollbars="yes");const ot=Object.entries(He).reduce((_n,[Lr,yn])=>`${_n}${Lr}=${yn},`,"");if(function(v=(0,j.z$)()){var p;return Ja(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==_e)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",_e),new vl(null);const qt=window.open(p||"",_e,ot);ke(qt,v,"popup-blocked");try{qt.focus()}catch(_n){}return new vl(qt)}(p,_e,dl())})()}_openRedirect(p,_,C,S){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(p),v=Th(p,_,C,$n(),S),xt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:x}=this.eventManagers[_];return S?Promise.resolve(S):(jn(x,"If manager is not set, promise should be"),x)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C}initAndGetManager(p){var _=this;return(0,u.Z)(function*(){const C=yield function(v){return Pa.apply(this,arguments)}(p),S=new ml(p);return C.register("authEvent",x=>(ke(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(wl,{type:wl},S=>{var x;const X=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[wl];void 0!==X&&_(!!X),Xt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return Ch.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Fo()||Po()||Ja()}};class Ko extends class{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return bn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ko(p)}_finalizeEnroll(p,_,C){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",cn(v,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",cn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ih=(()=>{class v{constructor(){}static assertion(_){return Ko._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Dp="@firebase/auth";class mv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tp(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const S=_.getImmediate(),x=_.getOptions();if((0,j.vZ)(x,null!=p?p:{}))return S;Xt(S,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:jc,persistence:[fp,Nn,ys]})}v="Browser",(0,O._registerComponent)(new Bt.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:x}=C.options;return(X=>{ke(S&&!S.includes(":"),"invalid-api-key",{appName:X.name}),ke(!(null==x?void 0:x.includes(":")),"argument-error",{appName:X.name});const _e={apiKey:S,authDomain:x,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ks(v)},He=new xr(X,_e);return function(v,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(Be);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(He,_),He})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Bt.wA("auth-internal",p=>{const _=kr(p.getProvider("auth").getImmediate());return new mv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Dp,"0.19.3",void 0),(0,O.registerVersion)(Dp,"0.19.3","esm2017")},3854:(Ke,be,F)=>{"use strict";F.d(be,{BH:()=>he,LL:()=>Je,ZR:()=>Bt,zI:()=>mt,US:()=>ee,tV:()=>W,$s:()=>tn,r3:()=>on,Sg:()=>Oe,ne:()=>jn,vZ:()=>Qt,ZB:()=>B,pd:()=>ke,m9:()=>so,z$:()=>Me,jU:()=>ne,ru:()=>oe,d:()=>xe,xb:()=>gn,w1:()=>It,hl:()=>Dn,uI:()=>De,UG:()=>ge,b$:()=>Ee,G6:()=>vt,Mn:()=>Nt,xO:()=>Mi,zd:()=>Zi,eu:()=>Et});const le=function(Z){const q=[];let z=0;for(let ve=0;ve<Z.length;ve++){let ue=Z.charCodeAt(ve);ue<128?q[z++]=ue:ue<2048?(q[z++]=ue>>6|192,q[z++]=63&ue|128):55296==(64512&ue)&&ve+1<Z.length&&56320==(64512&Z.charCodeAt(ve+1))?(ue=65536+((1023&ue)<<10)+(1023&Z.charCodeAt(++ve)),q[z++]=ue>>18|240,q[z++]=ue>>12&63|128,q[z++]=ue>>6&63|128,q[z++]=63&ue|128):(q[z++]=ue>>12|224,q[z++]=ue>>6&63|128,q[z++]=63&ue|128)}return q},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let ue=0;ue<Z.length;ue+=3){const qe=Z[ue],ct=ue+1<Z.length,Gt=ct?Z[ue+1]:0,Tn=ue+2<Z.length,Gn=Tn?Z[ue+2]:0;let K=(15&Gt)<<2|Gn>>6,Y=63&Gn;Tn||(Y=64,ct||(K=64)),ve.push(z[qe>>2],z[(3&qe)<<4|Gt>>4],z[K],z[Y])}return ve.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(le(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let z=0,ve=0;for(;z<Z.length;){const ue=Z[z++];if(ue<128)q[ve++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const qe=Z[z++];q[ve++]=String.fromCharCode((31&ue)<<6|63&qe)}else if(ue>239&&ue<365){const Tn=((7&ue)<<18|(63&Z[z++])<<12|(63&Z[z++])<<6|63&Z[z++])-65536;q[ve++]=String.fromCharCode(55296+(Tn>>10)),q[ve++]=String.fromCharCode(56320+(1023&Tn))}else{const qe=Z[z++],ct=Z[z++];q[ve++]=String.fromCharCode((15&ue)<<12|(63&qe)<<6|63&ct)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const z=q?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let ue=0;ue<Z.length;){const qe=z[Z.charAt(ue++)],Gt=ue<Z.length?z[Z.charAt(ue)]:0;++ue;const Gn=ue<Z.length?z[Z.charAt(ue)]:64;++ue;const ie=ue<Z.length?z[Z.charAt(ue)]:64;if(++ue,null==qe||null==Gt||null==Gn||null==ie)throw Error();ve.push(qe<<2|Gt>>4),64!==Gn&&(ve.push(Gt<<4&240|Gn>>2),64!==ie&&ve.push(Gn<<6&192|ie))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},Q=function(Z){return function(Z){const q=le(Z);return ee.encodeByteArray(q,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return ee.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function B(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const z in q)!q.hasOwnProperty(z)||!G(z)||(Z[z]=B(Z[z],q[z]));return Z}function G(Z){return"__proto__"!==Z}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,z)=>{this.resolve=q,this.reject=z})}wrapCallback(q){return(z,ve)=>{z?this.reject(z):this.resolve(ve),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(z):q(z,ve))}}}function Oe(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=q||"demo-project",ue=Z.iat||0,qe=Z.sub||Z.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:ue,exp:ue+3600,auth_time:ue,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(ct)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ne(){return"object"==typeof self&&self.self===self}function oe(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return Me().indexOf("Electron/")>=0}function It(){const Z=Me();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Nt(){return Me().indexOf("MSAppHost/")>=0}function vt(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dn(){return"object"==typeof indexedDB}function Et(){return new Promise((Z,q)=>{try{let z=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(ve);ue.onsuccess=()=>{ue.result.close(),z||self.indexedDB.deleteDatabase(ve),Z(!0)},ue.onupgradeneeded=()=>{z=!1},ue.onerror=()=>{var qe;q((null===(qe=ue.error)||void 0===qe?void 0:qe.message)||"")}}catch(z){q(z)}})}function mt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bt extends Error{constructor(q,z,ve){super(z),this.code=q,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(q,z,ve){this.service=q,this.serviceName=z,this.errors=ve}create(q,...z){const ve=z[0]||{},ue=`${this.service}/${q}`,qe=this.errors[q],ct=qe?function(Z,q){return Z.replace(Ka,(z,ve)=>{const ue=q[ve];return null!=ue?String(ue):`<${ve}?>`})}(qe,ve):"Error";return new Bt(ue,`${this.serviceName}: ${ct} (${ue}).`,ve)}}const Ka=/\{\$([^}]+)}/g;function on(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function gn(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function Qt(Z,q){if(Z===q)return!0;const z=Object.keys(Z),ve=Object.keys(q);for(const ue of z){if(!ve.includes(ue))return!1;const qe=Z[ue],ct=q[ue];if(Ns(qe)&&Ns(ct)){if(!Qt(qe,ct))return!1}else if(qe!==ct)return!1}for(const ue of ve)if(!z.includes(ue))return!1;return!0}function Ns(Z){return null!==Z&&"object"==typeof Z}function Mi(Z){const q=[];for(const[z,ve]of Object.entries(Z))Array.isArray(ve)?ve.forEach(ue=>{q.push(encodeURIComponent(z)+"="+encodeURIComponent(ue))}):q.push(encodeURIComponent(z)+"="+encodeURIComponent(ve));return q.length?"&"+q.join("&"):""}function Zi(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[ue,qe]=ve.split("=");q[decodeURIComponent(ue)]=decodeURIComponent(qe)}}),q}function ke(Z){const q=Z.indexOf("?");if(!q)return"";const z=Z.indexOf("#",q);return Z.substring(q,z>0?z:void 0)}function jn(Z,q){const z=new Ri(Z,q);return z.subscribe.bind(z)}class Ri{constructor(q,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{q(this)}).catch(ve=>{this.error(ve)})}next(q){this.forEachObserver(z=>{z.next(q)})}error(q){this.forEachObserver(z=>{z.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,z,ve){let ue;if(void 0===q&&void 0===z&&void 0===ve)throw new Error("Missing Observer.");ue=function(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const z of["next","error","complete"])if(z in Z&&"function"==typeof Z[z])return!0;return!1}(q)?q:{next:q,error:z,complete:ve},void 0===ue.next&&(ue.next=fr),void 0===ue.error&&(ue.error=fr),void 0===ue.complete&&(ue.complete=fr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(ct){}}),this.observers.push(ue),qe}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,q)}sendOne(q,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{z(this.observers[q])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fr(){}function tn(Z,q=1e3,z=2){const ve=q*Math.pow(z,Z),ue=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+ue)}function so(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(Ke,be,F)=>{"use strict";F.d(be,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.6.0","app")},7841:(Ke,be,F)=>{"use strict";F.d(be,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(Ke,be,F)=>{"use strict";F.r(be);var u=F(8239),j=F(3394),O=F(2476),le=F(3854),ce=(F(8026),F(5422),F(3910));function Q(){return window}function B(){return(B=(0,u.Z)(function*(ie,K,Y){var Ce;const{BuildInfo:Ve}=Q();(0,O.ap)(K.sessionId,"AuthEvent did not contain a session ID");const ht=yield ne(K.sessionId),Vt={};return(0,O.aq)()?Vt.ibi=Ve.packageName:(0,O.ar)()?Vt.apn=Ve.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),Ve.displayName&&(Vt.appDisplayName=Ve.displayName),Vt.sessionId=ht,(0,O.at)(ie,Y,K.type,void 0,null!==(Ce=K.eventId)&&void 0!==Ce?Ce:void 0,Vt)})).apply(this,arguments)}function he(){return(he=(0,u.Z)(function*(ie){const{BuildInfo:K}=Q(),Y={};(0,O.aq)()?Y.iosBundleId=K.packageName:(0,O.ar)()?Y.androidPackageName=K.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,Y)})).apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(ie,K,Y){const{cordova:Ce}=Q();let Ve=()=>{};try{yield new Promise((ht,Vt)=>{let Tt=null;function Mn(){var wt;ht();const An=null===(wt=Ce.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof An&&An(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function hn(){Tt||(Tt=window.setTimeout(()=>{Vt((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function In(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}K.addPassiveListener(Mn),document.addEventListener("resume",hn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",In,!1),Ve=()=>{K.removePassiveListener(Mn),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",In,!1),Tt&&window.clearTimeout(Tt)}})}finally{Ve()}})).apply(this,arguments)}function ne(ie){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(ie){const K=Ee(ie),Y=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(Y)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ee(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const K=new ArrayBuffer(ie.length),Y=new Uint8Array(K);for(let Ce=0;Ce<ie.length;Ce++)Y[Ce]=ie.charCodeAt(Ce);return Y}class It extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(K)),super.onEvent(K)}initialized(){var K=this;return(0,u.Z)(function*(){yield K.initPromise})()}}function vt(ie){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(ie){const K=yield Pt()._get(Xe(ie));return K&&(yield Pt()._remove(Xe(ie))),K})).apply(this,arguments)}function mt(){const ie=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const Ce=Math.floor(Math.random()*K.length);ie.push(K.charAt(Ce))}return ie.join("")}function Pt(){return(0,O.ax)(O.b)}function Xe(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function ls(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[K,...Y]=ie.split("?");return(0,le.zd)(Y.join("?"))}function Yt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function on(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function gn(ie=(0,le.z$)()){return!("file:"!==on()&&"ionic:"!==on()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zi(){try{const ie=self.localStorage,K=O.aG();if(ie)return ie.setItem(K,"1"),ie.removeItem(K),!function(ie=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,le.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,le.hl)()}catch(ie){return ke()&&(0,le.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return("http:"===on()||"https:"===on()||(0,le.ru)()||gn())&&!((0,le.b$)()||(0,le.UG)())&&Zi()&&!ke()}function jn(){return gn()&&"undefined"!=typeof document}function Be(){return(Be=(0,u.Z)(function*(){return!!jn()&&new Promise(ie=>{const K=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ie(!0)})})})).apply(this,arguments)}const Ht={LOCAL:"local",NONE:"none",SESSION:"session"},fr=O.aw,$n="persistence";function rt(ie){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(ie){yield ie._initializationPromise;const K=Hn(),Y=O.ay($n,ie.config.apiKey,ie.name);(null==K?void 0:K.sessionStorage)&&K.sessionStorage.setItem(Y,ie._getPersistence())})).apply(this,arguments)}function Hn(){return"undefined"!=typeof window?window:null}const en=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,u.Z)(function*(){const Ce=K._key();let Ve=Y.eventManagers.get(Ce);return Ve||(Ve=new It(K),Y.eventManagers.set(Ce,Ve),Y.attachCallbackListeners(K,Ve)),Ve})()}_openPopup(K){(0,O.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,Y,Ce,Ve){var ht=this;return(0,u.Z)(function*(){!function(ie){var K,Y,Ce,Ve,ht,Vt,Tt,Mn,hn,In;const wt=Q();(0,O.aw)("function"==typeof(null===(K=null==wt?void 0:wt.universalLinks)||void 0===K?void 0:K.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(Y=null==wt?void 0:wt.BuildInfo)||void 0===Y?void 0:Y.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(ht=null===(Ve=null===(Ce=null==wt?void 0:wt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ht?void 0:ht.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Mn=null===(Tt=null===(Vt=null==wt?void 0:wt.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Mn?void 0:Mn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(In=null===(hn=null==wt?void 0:wt.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===In?void 0:In.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Vt=yield ht._initialize(K);yield Vt.initialized(),Vt.resetRedirect(),(0,O.aB)(),yield ht._originValidation(K);const Tt=function(ie,K,Y=null){return{type:K,eventId:Y,urlResponse:null,sessionId:mt(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(K,Ce,Ve);yield function(ie,K){return Pt()._set(Xe(ie),K)}(K,Tt);const Mn=yield function(ie,K,Y){return B.apply(this,arguments)}(K,Tt,Y),hn=yield function(ie){const{cordova:K}=Q();return new Promise(Y=>{K.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?K.plugins.browsertab.openUrl(ie):Ve=K.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),Y(Ve)})})}(Mn);return function(ie,K,Y){return De.apply(this,arguments)}(K,Vt,hn)})()}_isIframeWebStorageSupported(K,Y){throw new Error("Method not implemented.")}_originValidation(K){const Y=K._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function(ie){return he.apply(this,arguments)}(K)),this.originValidationPromises[Y]}attachCallbackListeners(K,Y){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:ht}=Q(),Vt=setTimeout((0,u.Z)(function*(){yield vt(K),Y.onEvent(Yt())}),500),Tt=function(){var In=(0,u.Z)(function*(wt){clearTimeout(Vt);const An=yield vt(K);let oo=null;An&&(null==wt?void 0:wt.url)&&(oo=function(ie,K){var Y,Ce;const Ve=function(ie){const K=ls(ie),Y=K.link?decodeURIComponent(K.link):void 0,Ce=ls(Y).link,Ve=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return ls(Ve).link||Ve||Ce||Y||ie}(K);if(Ve.includes("/__/auth/callback")){const ht=ls(Ve),Vt=ht.firebaseError?function(ie){try{return JSON.parse(ie)}catch(K){return null}}(decodeURIComponent(ht.firebaseError)):null,Tt=null===(Ce=null===(Y=null==Vt?void 0:Vt.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ce?void 0:Ce[1],Mn=Tt?(0,O.av)(Tt):null;return Mn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Mn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Ve,postBody:null}}return null}(An,wt.url)),Y.onEvent(oo||Yt())});return function(An){return In.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Tt);const Mn=Ve,hn=`${ht.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var In=(0,u.Z)(function*(wt){if(wt.toLowerCase().startsWith(hn)&&Tt({url:wt}),"function"==typeof Mn)try{Mn(wt)}catch(An){console.error(An)}});return function(wt){return In.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,Y,Ce,Ve){var ht=this;return(0,u.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(K,Y,Ce,Ve)})()}_openRedirect(K,Y,Ce,Ve){var ht=this;return(0,u.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(K,Y,Ce,Ve)})()}_isIframeWebStorageSupported(K,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,Y)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,u.Z)(function*(){if(K.underlyingResolver)return;const Y=yield function(){return Be.apply(this,arguments)}();K.underlyingResolver=Y?K.cordovaResolver:K.browserResolver})()}}function et(ie){return ie.unwrap()}function cn(ie){return Kt(ie)}function Kt(ie){const{_tokenResponse:K}=ie instanceof le.ZR?ie.customData:ie;if(!K)return null;if(!(ie instanceof le.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return O.P.credentialFromResult(ie);const Y=K.providerId;if(!Y||Y===O.o.PASSWORD)return null;let Ce;switch(Y){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:ht,oauthTokenSecret:Vt,pendingToken:Tt,nonce:Mn}=K;return ht||Vt||Ve||Tt?Tt?Y.startsWith("saml.")?O.aJ._create(Y,Tt):O.I._fromParams({providerId:Y,signInMethod:Y,pendingToken:Tt,idToken:Ve,accessToken:ht}):new O.T(Y).credential({idToken:Ve,accessToken:ht,rawNonce:Mn}):null}return ie instanceof le.ZR?Ce.credentialFromError(ie):Ce.credentialFromResult(ie)}function dn(ie,K){return K.catch(Y=>{throw Y instanceof le.ZR&&function(ie,K){var Y;const Ce=null===(Y=K.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new q(ie,O.am(ie,K));else if(Ce){const Ve=Kt(K),ht=K;Ve&&(ht.credential=Ve,ht.tenantId=Ce.tenantId||void 0,ht.email=Ce.email||void 0,ht.phoneNumber=Ce.phoneNumber||void 0)}}(ie,Y),Y}).then(Y=>{const Ve=Y.user;return{operationType:Y.operationType,credential:cn(Y),additionalUserInfo:O.ak(Y),user:z.getOrCreate(Ve)}})}function so(ie,K){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(ie,K){const Y=yield K;return{verificationId:Y.verificationId,confirm:Ce=>dn(ie,Y.confirm(Ce))}})).apply(this,arguments)}class q{constructor(K,Y){this.resolver=Y,this.auth=K.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dn(et(this.auth),this.resolver.resolveSignIn(K))}}class z{constructor(K){this._delegate=K,this.multiFactor=O.an(K)}static getOrCreate(K){return z.USER_MAP.has(K)||z.USER_MAP.set(K,new z(K)),z.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.Y(Y._delegate,K))})()}linkWithPhoneNumber(K,Y){var Ce=this;return(0,u.Z)(function*(){return so(Ce.auth,O.l(Ce._delegate,K,Y))})()}linkWithPopup(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.d(Y._delegate,K,Pe))})()}linkWithRedirect(K){var Y=this;return(0,u.Z)(function*(){return yield rt(O.aC(Y.auth)),O.g(Y._delegate,K,Pe)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.Z(Y._delegate,K))})()}reauthenticateWithPhoneNumber(K,Y){return so(this.auth,O.r(this._delegate,K,Y))}reauthenticateWithPopup(K){return dn(this.auth,O.e(this._delegate,K,Pe))}reauthenticateWithRedirect(K){var Y=this;return(0,u.Z)(function*(){return yield rt(O.aC(Y.auth)),O.h(Y._delegate,K,Pe)})()}sendEmailVerification(K){return O.aa(this._delegate,K)}unlink(K){var Y=this;return(0,u.Z)(function*(){return yield O.aj(Y._delegate,K),Y})()}updateEmail(K){return O.af(this._delegate,K)}updatePassword(K){return O.ag(this._delegate,K)}updatePhoneNumber(K){return O.u(this._delegate,K)}updateProfile(K){return O.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,Y){return O.ab(this._delegate,K,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}z.USER_MAP=new WeakMap;const ve=O.aw;let ue=(()=>{class ie{constructor(Y,Ce){if(this.app=Y,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=Y.options;ve(Ve,"invalid-api-key",{appName:Y.name});let ht=[O.K];if("undefined"!=typeof window){ht=function(ie,K){const Y=Hn();if(!(null==Y?void 0:Y.sessionStorage))return[];const Ce=O.ay($n,ie,K);switch(Y.sessionStorage.getItem(Ce)){case Ht.NONE:return[O.K];case Ht.LOCAL:return[O.i,O.a];case Ht.SESSION:return[O.a];default:return[]}}(Ve,Y.name);for(const Tt of[O.i,O.b,O.a])ht.includes(Tt)||ht.push(Tt)}ve(Ve,"invalid-api-key",{appName:Y.name});const Vt="undefined"!=typeof window?Pe:void 0;this._delegate=Ce.initialize({options:{persistence:ht,popupRedirectResolver:Vt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ce){O.E(this._delegate,Y,Ce)}applyActionCode(Y){return O.a1(this._delegate,Y)}checkActionCode(Y){return O.a2(this._delegate,Y)}confirmPasswordReset(Y,Ce){return O.a0(this._delegate,Y,Ce)}createUserWithEmailAndPassword(Y,Ce){var Ve=this;return(0,u.Z)(function*(){return dn(Ve._delegate,O.a4(Ve._delegate,Y,Ce))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return O.a9(this._delegate,Y)}isSignInWithEmailLink(Y){return O.a7(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,u.Z)(function*(){ve(bn(),Y._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(Y._delegate,Pe);return Ce?dn(Y._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function(ie,K){(0,O.aC)(ie)._logFramework(K)}(this._delegate,Y)}onAuthStateChanged(Y,Ce,Ve){const{next:ht,error:Vt,complete:Tt}=qe(Y,Ce,Ve);return this._delegate.onAuthStateChanged(ht,Vt,Tt)}onIdTokenChanged(Y,Ce,Ve){const{next:ht,error:Vt,complete:Tt}=qe(Y,Ce,Ve);return this._delegate.onIdTokenChanged(ht,Vt,Tt)}sendSignInLinkToEmail(Y,Ce){return O.a6(this._delegate,Y,Ce)}sendPasswordResetEmail(Y,Ce){return O.$(this._delegate,Y,Ce||void 0)}setPersistence(Y){var Ce=this;return(0,u.Z)(function*(){let Ve;switch(function(ie,K){fr(Object.values(Ht).includes(K),ie,"invalid-persistence-type"),(0,le.b$)()?fr(K!==Ht.SESSION,ie,"unsupported-persistence-type"):(0,le.UG)()?fr(K===Ht.NONE,ie,"unsupported-persistence-type"):ke()?fr(K===Ht.NONE||K===Ht.LOCAL&&(0,le.hl)(),ie,"unsupported-persistence-type"):fr(K===Ht.NONE||Zi(),ie,"unsupported-persistence-type")}(Ce._delegate,Y),Y){case Ht.SESSION:Ve=O.a;break;case Ht.LOCAL:Ve=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ht.NONE:Ve=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return dn(this._delegate,O.W(this._delegate))}signInWithCredential(Y){return dn(this._delegate,O.X(this._delegate,Y))}signInWithCustomToken(Y){return dn(this._delegate,O._(this._delegate,Y))}signInWithEmailAndPassword(Y,Ce){return dn(this._delegate,O.a5(this._delegate,Y,Ce))}signInWithEmailLink(Y,Ce){return dn(this._delegate,O.a8(this._delegate,Y,Ce))}signInWithPhoneNumber(Y,Ce){return so(this._delegate,O.s(this._delegate,Y,Ce))}signInWithPopup(Y){var Ce=this;return(0,u.Z)(function*(){return ve(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),dn(Ce._delegate,O.c(Ce._delegate,Y,Pe))})()}signInWithRedirect(Y){var Ce=this;return(0,u.Z)(function*(){return ve(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield rt(Ce._delegate),O.f(Ce._delegate,Y,Pe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return O.a3(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Ht,ie})();function qe(ie,K,Y){let Ce=ie;"function"!=typeof ie&&({next:Ce,error:K,complete:Y}=ie);const Ve=Ce;return{next:Vt=>Ve(Vt&&z.getOrCreate(Vt)),error:K,complete:Y}}class ct{constructor(){this.providerId="phone",this._delegate=new O.P(et(j.Z.auth()))}static credential(K,Y){return O.P.credential(K,Y)}verifyPhoneNumber(K,Y){return this._delegate.verifyPhoneNumber(K,Y)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=O.P.PROVIDER_ID;const Gt=O.aw;var ie;(ie=j.Z).INTERNAL.registerComponent(new ce.wA("auth-compat",K=>{const Y=K.getProvider("app-compat").getImmediate(),Ce=K.getProvider("auth");return new ue(Y,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(K,Y,Ce=j.Z.app()){var Ve;Gt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(K,Y,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ue,AuthCredential:O.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Ke,be){!function(F){"use strict";function u(ge){return Array.prototype.slice.call(ge)}function j(ge){return new Promise(function(ne,oe){ge.onsuccess=function(){ne(ge.result)},ge.onerror=function(){oe(ge.error)}})}function O(ge,ne,oe){var Ee,xe=new Promise(function(It,Nt){j(Ee=ge[ne].apply(ge,oe)).then(It,Nt)});return xe.request=Ee,xe}function le(ge,ne,oe){var Ee=O(ge,ne,oe);return Ee.then(function(xe){if(xe)return new L(xe,Ee.request)})}function ae(ge,ne,oe){oe.forEach(function(Ee){Object.defineProperty(ge.prototype,Ee,{get:function(){return this[ne][Ee]},set:function(xe){this[ne][Ee]=xe}})})}function ee(ge,ne,oe,Ee){Ee.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return O(this[ne],xe,arguments)})})}function ce(ge,ne,oe,Ee){Ee.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return this[ne][xe].apply(this[ne],arguments)})})}function Q(ge,ne,oe,Ee){Ee.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return le(this[ne],xe,arguments)})})}function W(ge){this._index=ge}function L(ge,ne){this._cursor=ge,this._request=ne}function B(ge){this._store=ge}function G(ge){this._tx=ge,this.complete=new Promise(function(ne,oe){ge.oncomplete=function(){ne()},ge.onerror=function(){oe(ge.error)},ge.onabort=function(){oe(ge.error)}})}function he(ge,ne,oe){this._db=ge,this.oldVersion=ne,this.transaction=new G(oe)}function Oe(ge){this._db=ge}ae(W,"_index",["name","keyPath","multiEntry","unique"]),ee(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(L,"_cursor",["direction","key","primaryKey","value"]),ee(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var ne=this,oe=arguments;return Promise.resolve().then(function(){return ne._cursor[ge].apply(ne._cursor,oe),j(ne._request).then(function(Ee){if(Ee)return new L(Ee,ne._request)})})})}),B.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},ae(B,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce(B,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ae(G,"_tx",["objectStoreNames","mode"]),ce(G,"_tx",IDBTransaction,["abort"]),he.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ae(he,"_db",["name","version","objectStoreNames"]),ce(he,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ae(Oe,"_db",["name","version","objectStoreNames"]),ce(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[B,W].forEach(function(ne){ge in ne.prototype&&(ne.prototype[ge.replace("open","iterate")]=function(){var oe=u(arguments),Ee=oe[oe.length-1],xe=this._store||this._index,It=xe[ge].apply(xe,oe.slice(0,-1));It.onsuccess=function(){Ee(It.result)}})})}),[W,B].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(ne,oe){var Ee=this,xe=[];return new Promise(function(It){Ee.iterateCursor(ne,function(Nt){Nt?(xe.push(Nt.value),void 0===oe||xe.length!=oe?Nt.continue():It(xe)):It(xe)})})})}),F.openDb=function(ge,ne,oe){var Ee=O(indexedDB,"open",[ge,ne]),xe=Ee.request;return xe&&(xe.onupgradeneeded=function(It){oe&&oe(new he(xe.result,It.oldVersion,xe.transaction))}),Ee.then(function(It){return new Oe(It)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(be)},1593:(Ke,be,F)=>{"use strict";F.d(be,{P:()=>ce});var u=F(9193),j=F(5917),O=F(7574);class ce{constructor(W,L,B){this.kind=W,this.value=L,this.error=B,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,L,B){switch(this.kind){case"N":return W&&W(this.value);case"E":return L&&L(this.error);case"C":return B&&B()}}accept(W,L,B){return W&&"function"==typeof W.next?this.observe(W):this.do(W,L,B)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return Q=this.error,new O.y(L=>L.error(Q));case"C":return(0,u.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new ce("N",W):ce.undefinedValueNotification}static createError(W){return new ce("E",void 0,W)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},7574:(Ke,be,F)=>{"use strict";F.d(be,{y:()=>B});var u=F(7393),O=F(9181),le=F(6490),ee=F(6554),ce=F(4487);var L=F(2494);let B=(()=>{class he{constructor(Me){this._isScalar=!1,Me&&(this._subscribe=Me)}lift(Me){const De=new he;return De.source=this,De.operator=Me,De}subscribe(Me,De,ge){const{operator:ne}=this,oe=function(he,Oe,Me){if(he){if(he instanceof u.L)return he;if(he[O.b])return he[O.b]()}return he||Oe||Me?new u.L(he,Oe,Me):new u.L(le.c)}(Me,De,ge);if(oe.add(ne?ne.call(oe,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),L.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(De){L.v.useDeprecatedSynchronousErrorHandling&&(Me.syncErrorThrown=!0,Me.syncErrorValue=De),function(he){for(;he;){const{closed:Oe,destination:Me,isStopped:De}=he;if(Oe||De)return!1;he=Me&&Me instanceof u.L?Me:null}return!0}(Me)?Me.error(De):console.warn(De)}}forEach(Me,De){return new(De=G(De))((ge,ne)=>{let oe;oe=this.subscribe(Ee=>{try{Me(Ee)}catch(xe){ne(xe),oe&&oe.unsubscribe()}},ne,ge)})}_subscribe(Me){const{source:De}=this;return De&&De.subscribe(Me)}[ee.L](){return this}pipe(...Me){return 0===Me.length?this:function(he){return 0===he.length?ce.y:1===he.length?he[0]:function(Me){return he.reduce((De,ge)=>ge(De),Me)}}(Me)(this)}toPromise(Me){return new(Me=G(Me))((De,ge)=>{let ne;this.subscribe(oe=>ne=oe,oe=>ge(oe),()=>De(ne))})}}return he.create=Oe=>new he(Oe),he})();function G(he){if(he||(he=L.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},6490:(Ke,be,F)=>{"use strict";F.d(be,{c:()=>O});var u=F(2494),j=F(4449);const O={closed:!0,next(le){},error(le){if(u.v.useDeprecatedSynchronousErrorHandling)throw le;(0,j.z)(le)},complete(){}}},9765:(Ke,be,F)=>{"use strict";F.d(be,{Yc:()=>ce,xQ:()=>Q});var u=F(7574),j=F(7393),O=F(5319),le=F(7971),ae=F(8858),ee=F(9181);class ce extends j.L{constructor(B){super(B),this.destination=B}}let Q=(()=>{class L extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ce(this)}lift(G){const he=new W(this,this);return he.operator=G,he}next(G){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:he}=this,Oe=he.length,Me=he.slice();for(let De=0;De<Oe;De++)Me[De].next(G)}}error(G){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:he}=this,Oe=he.length,Me=he.slice();for(let De=0;De<Oe;De++)Me[De].error(G);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:G}=this,he=G.length,Oe=G.slice();for(let Me=0;Me<he;Me++)Oe[Me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new le.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new le.N;return this.hasError?(G.error(this.thrownError),O.w.EMPTY):this.isStopped?(G.complete(),O.w.EMPTY):(this.observers.push(G),new ae.W(this,G))}asObservable(){const G=new u.y;return G.source=this,G}}return L.create=(B,G)=>new W(B,G),L})();class W extends Q{constructor(B,G){super(),this.destination=B,this.source=G}next(B){const{destination:G}=this;G&&G.next&&G.next(B)}error(B){const{destination:G}=this;G&&G.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:G}=this;return G?this.source.subscribe(B):O.w.EMPTY}}},8858:(Ke,be,F)=>{"use strict";F.d(be,{W:()=>j});var u=F(5319);class j extends u.w{constructor(le,ae){super(),this.subject=le,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ae=le.observers;if(this.subject=null,!ae||0===ae.length||le.isStopped||le.closed)return;const ee=ae.indexOf(this.subscriber);-1!==ee&&ae.splice(ee,1)}}},7393:(Ke,be,F)=>{"use strict";F.d(be,{L:()=>ce});var u=F(9105),j=F(6490),O=F(5319),le=F(9181),ae=F(2494),ee=F(4449);class ce extends O.w{constructor(L,B,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof ce?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,L,B,G)}}[le.b](){return this}static create(L,B,G){const he=new ce(L,B,G);return he.syncErrorThrowable=!1,he}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Q extends ce{constructor(L,B,G,he){super(),this._parentSubscriber=L;let Oe,Me=this;(0,u.m)(B)?Oe=B:B&&(Oe=B.next,G=B.error,he=B.complete,B!==j.c&&(Me=Object.create(B),(0,u.m)(Me.unsubscribe)&&this.add(Me.unsubscribe.bind(Me)),Me.unsubscribe=this.unsubscribe.bind(this))),this._context=Me,this._next=Oe,this._error=G,this._complete=he}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ae.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:G}=ae.v;if(this._error)G&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)G?(B.syncErrorValue=L,B.syncErrorThrown=!0):(0,ee.z)(L),this.unsubscribe();else{if(this.unsubscribe(),G)throw L;(0,ee.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const B=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,B){try{L.call(this._context,B)}catch(G){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ee.z)(G)}}__tryOrSetError(L,B,G){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,G)}catch(he){return ae.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=he,L.syncErrorThrown=!0,!0):((0,ee.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ke,be,F)=>{"use strict";F.d(be,{w:()=>ee});var u=F(9796),j=F(1555),O=F(9105);const ae=(()=>{function Q(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((L,B)=>`${B+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:B,_unsubscribe:G,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ee)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(G)){B&&(this._unsubscribe=void 0);try{G.call(this)}catch(Oe){W=Oe instanceof ae?ce(Oe.errors):[Oe]}}if((0,u.k)(he)){let Oe=-1,Me=he.length;for(;++Oe<Me;){const De=he[Oe];if((0,j.K)(De))try{De.unsubscribe()}catch(ge){W=W||[],ge instanceof ae?W=W.concat(ce(ge.errors)):W.push(ge)}}}if(W)throw new ae(W)}add(W){let L=W;if(!W)return ee.EMPTY;switch(typeof W){case"function":L=new ee(W);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ee)){const he=L;L=new ee,L._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:B}=L;if(null===B)L._parentOrParents=this;else if(B instanceof ee){if(B===this)return L;L._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return L;B.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[L]:G.push(L),L}remove(W){const L=this._subscriptions;if(L){const B=L.indexOf(W);-1!==B&&L.splice(B,1)}}}var Q;function ce(Q){return Q.reduce((W,L)=>W.concat(L instanceof ae?L.errors:L),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(Ke,be,F)=>{"use strict";F.d(be,{v:()=>j});let u=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=O},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ke,be,F)=>{"use strict";F.d(be,{IY:()=>le,Ds:()=>ee,ft:()=>Q});var u=F(7393),j=F(7574),O=F(7444);class le extends u.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends u.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Q(W,L){if(L.closed)return;if(W instanceof j.y)return W.subscribe(L);let B;try{B=(0,O.s)(W)(L)}catch(G){L.error(G)}return B}},2441:(Ke,be,F)=>{"use strict";F.d(be,{c:()=>ae,N:()=>ee});var u=F(9765),j=F(7574),O=F(5319),le=F(1307);class ae extends j.y{constructor(B,G){super(),this.source=B,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new O.w,B.add(this.source.subscribe(new ce(this.getSubject(),this))),B.closed&&(this._connection=null,B=O.w.EMPTY)),B}refCount(){return(0,le.x)()(this)}}const ee=(()=>{const L=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ce extends u.Yc{constructor(B,G){super(B),this.connectable=G}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const G=B._connection;B._refCount=0,B._subject=null,B._connection=null,G&&G.unsubscribe()}}}},9193:(Ke,be,F)=>{"use strict";F.d(be,{E:()=>j,c:()=>O});var u=F(7574);const j=new u.y(ae=>ae.complete());function O(ae){return ae?function(ae){return new u.y(ee=>ae.schedule(()=>ee.complete()))}(ae):j}},4402:(Ke,be,F)=>{"use strict";F.d(be,{D:()=>Me});var u=F(7574),j=F(7444),O=F(5319),le=F(6554),ce=F(4087),Q=F(377),B=F(4072),G=F(9489);function Me(De,ge){return ge?function(De,ge){if(null!=De){if(function(De){return De&&"function"==typeof De[le.L]}(De))return function(De,ge){return new u.y(ne=>{const oe=new O.w;return oe.add(ge.schedule(()=>{const Ee=De[le.L]();oe.add(Ee.subscribe({next(xe){oe.add(ge.schedule(()=>ne.next(xe)))},error(xe){oe.add(ge.schedule(()=>ne.error(xe)))},complete(){oe.add(ge.schedule(()=>ne.complete()))}}))})),oe})}(De,ge);if((0,B.t)(De))return function(De,ge){return new u.y(ne=>{const oe=new O.w;return oe.add(ge.schedule(()=>De.then(Ee=>{oe.add(ge.schedule(()=>{ne.next(Ee),oe.add(ge.schedule(()=>ne.complete()))}))},Ee=>{oe.add(ge.schedule(()=>ne.error(Ee)))}))),oe})}(De,ge);if((0,G.z)(De))return(0,ce.r)(De,ge);if(function(De){return De&&"function"==typeof De[Q.hZ]}(De)||"string"==typeof De)return function(De,ge){if(!De)throw new Error("Iterable cannot be null");return new u.y(ne=>{const oe=new O.w;let Ee;return oe.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),oe.add(ge.schedule(()=>{Ee=De[Q.hZ](),oe.add(ge.schedule(function(){if(ne.closed)return;let xe,It;try{const Nt=Ee.next();xe=Nt.value,It=Nt.done}catch(Nt){return void ne.error(Nt)}It?ne.complete():(ne.next(xe),this.schedule())}))})),oe})}(De,ge)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,ge):De instanceof u.y?De:new u.y((0,j.s)(De))}},6693:(Ke,be,F)=>{"use strict";F.d(be,{n:()=>le});var u=F(7574),j=F(5015),O=F(4087);function le(ae,ee){return ee?(0,O.r)(ae,ee):new u.y((0,j.V)(ae))}},6682:(Ke,be,F)=>{"use strict";F.d(be,{T:()=>ae});var u=F(7574),j=F(4869),O=F(3282),le=F(6693);function ae(...ee){let ce=Number.POSITIVE_INFINITY,Q=null,W=ee[ee.length-1];return(0,j.K)(W)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ce=ee.pop())):"number"==typeof W&&(ce=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof u.y?ee[0]:(0,O.J)(ce)((0,le.n)(ee,Q))}},5917:(Ke,be,F)=>{"use strict";F.d(be,{of:()=>le});var u=F(4869),j=F(6693),O=F(4087);function le(...ae){let ee=ae[ae.length-1];return(0,u.K)(ee)?(ae.pop(),(0,O.r)(ae,ee)):(0,j.n)(ae)}},8002:(Ke,be,F)=>{"use strict";F.d(be,{U:()=>j});var u=F(7393);function j(ae,ee){return function(Q){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new O(ae,ee))}}class O{constructor(ee,ce){this.project=ee,this.thisArg=ce}call(ee,ce){return ce.subscribe(new le(ee,this.project,this.thisArg))}}class le extends u.L{constructor(ee,ce,Q){super(ee),this.project=ce,this.count=0,this.thisArg=Q||this}_next(ee){let ce;try{ce=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(ce)}}},3282:(Ke,be,F)=>{"use strict";F.d(be,{J:()=>O});var u=F(9773),j=F(4487);function O(le=Number.POSITIVE_INFINITY){return(0,u.zg)(j.y,le)}},9773:(Ke,be,F)=>{"use strict";F.d(be,{zg:()=>le});var u=F(8002),j=F(4402),O=F(5345);function le(Q,W,L=Number.POSITIVE_INFINITY){return"function"==typeof W?B=>B.pipe(le((G,he)=>(0,j.D)(Q(G,he)).pipe((0,u.U)((Oe,Me)=>W(G,Oe,he,Me))),L)):("number"==typeof W&&(L=W),B=>B.lift(new ae(Q,L)))}class ae{constructor(W,L=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=L}call(W,L){return L.subscribe(new ee(W,this.project,this.concurrent))}}class ee extends O.Ds{constructor(W,L,B=Number.POSITIVE_INFINITY){super(W),this.project=L,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let L;const B=this.index++;try{L=this.project(W,B)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(L)}_innerSub(W){const L=new O.IY(this),B=this.destination;B.add(L);const G=(0,O.ft)(W,L);G!==L&&B.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ke,be,F)=>{"use strict";F.d(be,{QV:()=>O,ht:()=>ae});var u=F(7393),j=F(1593);function O(ce,Q=0){return function(L){return L.lift(new le(ce,Q))}}class le{constructor(Q,W=0){this.scheduler=Q,this.delay=W}call(Q,W){return W.subscribe(new ae(Q,this.scheduler,this.delay))}}class ae extends u.L{constructor(Q,W,L=0){super(Q),this.scheduler=W,this.delay=L}static dispatch(Q){const{notification:W,destination:L}=Q;W.observe(L),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new ee(Q,this.destination)))}_next(Q){this.scheduleMessage(j.P.createNext(Q))}_error(Q){this.scheduleMessage(j.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(j.P.createComplete()),this.unsubscribe()}}class ee{constructor(Q,W){this.notification=Q,this.destination=W}}},1307:(Ke,be,F)=>{"use strict";F.d(be,{x:()=>j});var u=F(7393);function j(){return function(ee){return ee.lift(new O(ee))}}class O{constructor(ee){this.connectable=ee}call(ee,ce){const{connectable:Q}=this;Q._refCount++;const W=new le(ee,Q),L=ce.subscribe(W);return W.closed||(W.connection=Q.connect()),L}}class le extends u.L{constructor(ee,ce){super(ee),this.connectable=ce}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ce=ee._refCount;if(ce<=0)return void(this.connection=null);if(ee._refCount=ce-1,ce>1)return void(this.connection=null);const{connection:Q}=this,W=ee._connection;this.connection=null,W&&(!Q||W===Q)&&W.unsubscribe()}}},8819:(Ke,be,F)=>{"use strict";F.d(be,{B:()=>ce});var u=F(2441);var le=F(1307),ae=F(9765);function ee(){return new ae.xQ}function ce(){return Q=>(0,le.x)()(function(Q,W){return function(B){let G;G="function"==typeof Q?Q:function(){return Q};const he=Object.create(B,u.N);return he.source=B,he.subjectFactory=G,he}}(ee)(Q))}},2639:(Ke,be,F)=>{"use strict";F.d(be,{R:()=>De});var u=F(7574);let j=1;const O=Promise.resolve(),le={};function ae(ne){return ne in le&&(delete le[ne],!0)}const ee={setImmediate(ne){const oe=j++;return le[oe]=!0,O.then(()=>ae(oe)&&ne()),oe},clearImmediate(ne){ae(ne)}};var Q=F(6465),L=F(6102);const he=new class extends L.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let xe,It=-1,Nt=Ee.length;oe=oe||Ee.shift();do{if(xe=oe.execute(oe.state,oe.delay))break}while(++It<Nt&&(oe=Ee.shift()));if(this.active=!1,xe){for(;++It<Nt&&(oe=Ee.shift());)oe.unsubscribe();throw xe}}}(class extends Q.o{constructor(oe,Ee){super(oe,Ee),this.scheduler=oe,this.work=Ee}requestAsyncId(oe,Ee,xe=0){return null!==xe&&xe>0?super.requestAsyncId(oe,Ee,xe):(oe.actions.push(this),oe.scheduled||(oe.scheduled=ee.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,Ee,xe=0){if(null!==xe&&xe>0||null===xe&&this.delay>0)return super.recycleAsyncId(oe,Ee,xe);0===oe.actions.length&&(ee.clearImmediate(Ee),oe.scheduled=void 0)}});var Oe=F(6561);class Me extends u.y{constructor(oe,Ee=0,xe=he){super(),this.source=oe,this.delayTime=Ee,this.scheduler=xe,(!(0,Oe.k)(Ee)||Ee<0)&&(this.delayTime=0),(!xe||"function"!=typeof xe.schedule)&&(this.scheduler=he)}static create(oe,Ee=0,xe=he){return new Me(oe,Ee,xe)}static dispatch(oe){const{source:Ee,subscriber:xe}=oe;return this.add(Ee.subscribe(xe))}_subscribe(oe){return this.scheduler.schedule(Me.dispatch,this.delayTime,{source:this.source,subscriber:oe})}}function De(ne,oe=0){return function(xe){return xe.lift(new ge(ne,oe))}}class ge{constructor(oe,Ee){this.scheduler=oe,this.delay=Ee}call(oe,Ee){return new Me(Ee,this.delay,this.scheduler).subscribe(oe)}}},8307:(Ke,be,F)=>{"use strict";F.d(be,{b:()=>le});var u=F(7393),j=F(8640),O=F(9105);function le(ce,Q,W){return function(B){return B.lift(new ae(ce,Q,W))}}class ae{constructor(Q,W,L){this.nextOrObserver=Q,this.error=W,this.complete=L}call(Q,W){return W.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends u.L{constructor(Q,W,L,B){super(Q),this._tapNext=j.Z,this._tapError=j.Z,this._tapComplete=j.Z,this._tapError=L||j.Z,this._tapComplete=B||j.Z,(0,O.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||j.Z,this._tapError=W.error||j.Z,this._tapComplete=W.complete||j.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(W){return void this.destination.error(W)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(W){return void this.destination.error(W)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Ke,be,F)=>{"use strict";F.d(be,{r:()=>O});var u=F(7574),j=F(5319);function O(le,ae){return new u.y(ee=>{const ce=new j.w;let Q=0;return ce.add(ae.schedule(function(){Q!==le.length?(ee.next(le[Q++]),ee.closed||ce.add(this.schedule())):ee.complete()})),ce})}},6465:(Ke,be,F)=>{"use strict";F.d(be,{o:()=>O});var u=F(5319);class j extends u.w{constructor(ae,ee){super()}schedule(ae,ee=0){return this}}class O extends j{constructor(ae,ee){super(ae,ee),this.scheduler=ae,this.work=ee,this.pending=!1}schedule(ae,ee=0){if(this.closed)return this;this.state=ae;const ce=this.id,Q=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Q,ce,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(ae,ee,ce=0){return setInterval(ae.flush.bind(ae,this),ce)}recycleAsyncId(ae,ee,ce=0){if(null!==ce&&this.delay===ce&&!1===this.pending)return ee;clearInterval(ee)}execute(ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ae,ee);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ee){let Q,ce=!1;try{this.work(ae)}catch(W){ce=!0,Q=!!W&&W||new Error(W)}if(ce)return this.unsubscribe(),Q}_unsubscribe(){const ae=this.id,ee=this.scheduler,ce=ee.actions,Q=ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&ce.splice(Q,1),null!=ae&&(this.id=this.recycleAsyncId(ee,ae,null)),this.delay=null}}},6102:(Ke,be,F)=>{"use strict";F.d(be,{v:()=>j});let u=(()=>{class O{constructor(ae,ee=O.now){this.SchedulerAction=ae,this.now=ee}schedule(ae,ee=0,ce){return new this.SchedulerAction(this,ae).schedule(ce,ee)}}return O.now=()=>Date.now(),O})();class j extends u{constructor(le,ae=u.now){super(le,()=>j.delegate&&j.delegate!==this?j.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ae=0,ee){return j.delegate&&j.delegate!==this?j.delegate.schedule(le,ae,ee):super.schedule(le,ae,ee)}flush(le){const{actions:ae}=this;if(this.active)return void ae.push(le);let ee;this.active=!0;do{if(ee=le.execute(le.state,le.delay))break}while(le=ae.shift());if(this.active=!1,ee){for(;le=ae.shift();)le.unsubscribe();throw ee}}}},3637:(Ke,be,F)=>{"use strict";F.d(be,{z:()=>O,P:()=>le});var u=F(6465);const O=new(F(6102).v)(u.o),le=O},7771:(Ke,be,F)=>{"use strict";F.d(be,{c:()=>ee,N:()=>ae});var u=F(6465),O=F(6102);const ae=new class extends O.v{}(class extends u.o{constructor(Q,W){super(Q,W),this.scheduler=Q,this.work=W}schedule(Q,W=0){return W>0?super.schedule(Q,W):(this.delay=W,this.state=Q,this.scheduler.flush(this),this)}execute(Q,W){return W>0||this.closed?super.execute(Q,W):this._execute(Q,W)}requestAsyncId(Q,W,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(Q,W,L):Q.flush(this)}}),ee=ae},377:(Ke,be,F)=>{"use strict";F.d(be,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ke,be,F)=>{"use strict";F.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ke,be,F)=>{"use strict";F.d(be,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ke,be,F)=>{"use strict";F.d(be,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(Ke,be,F)=>{"use strict";function u(j){setTimeout(()=>{throw j},0)}F.d(be,{z:()=>u})},4487:(Ke,be,F)=>{"use strict";function u(j){return j}F.d(be,{y:()=>u})},9796:(Ke,be,F)=>{"use strict";F.d(be,{k:()=>u});const u=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(Ke,be,F)=>{"use strict";F.d(be,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(Ke,be,F)=>{"use strict";function u(j){return"function"==typeof j}F.d(be,{m:()=>u})},6561:(Ke,be,F)=>{"use strict";F.d(be,{k:()=>j});var u=F(9796);function j(O){return!(0,u.k)(O)&&O-parseFloat(O)+1>=0}},1555:(Ke,be,F)=>{"use strict";function u(j){return null!==j&&"object"==typeof j}F.d(be,{K:()=>u})},4072:(Ke,be,F)=>{"use strict";function u(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(be,{t:()=>u})},4869:(Ke,be,F)=>{"use strict";function u(j){return j&&"function"==typeof j.schedule}F.d(be,{K:()=>u})},8640:(Ke,be,F)=>{"use strict";function u(){}F.d(be,{Z:()=>u})},7444:(Ke,be,F)=>{"use strict";F.d(be,{s:()=>B});var u=F(5015),j=F(4449),le=F(377),ee=F(6554),Q=F(9489),W=F(4072),L=F(1555);const B=G=>{if(G&&"function"==typeof G[ee.L])return(G=>he=>{const Oe=G[ee.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(he)})(G);if((0,Q.z)(G))return(0,u.V)(G);if((0,W.t)(G))return(G=>he=>(G.then(Oe=>{he.closed||(he.next(Oe),he.complete())},Oe=>he.error(Oe)).then(null,j.z),he))(G);if(G&&"function"==typeof G[le.hZ])return(G=>he=>{const Oe=G[le.hZ]();for(;;){let Me;try{Me=Oe.next()}catch(De){return he.error(De),he}if(Me.done){he.complete();break}if(he.next(Me.value),he.closed)break}return"function"==typeof Oe.return&&he.add(()=>{Oe.return&&Oe.return()}),he})(G);{const Oe=`You provided ${(0,L.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(Ke,be,F)=>{"use strict";F.d(be,{V:()=>u});const u=j=>O=>{for(let le=0,ae=j.length;le<ae&&!O.closed;le++)O.next(j[le]);O.complete()}},6616:(Ke,be,F)=>{"use strict";var u=F(7716);let j=null;function O(){return j}const ce=new u.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:W,token:n,providedIn:"platform"}),n})();function W(){return(0,u.LFG)(B)}const L=new u.OlP("Location Initialized");let B=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){G()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){G()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=(0,u.Yz7)({factory:he,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function he(){return new B((0,u.LFG)(ce))}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:ne,token:n,providedIn:"root"}),n})();function ne(n){const e=(0,u.LFG)(ce).location;return new Ee((0,u.LFG)(Q),e&&e.origin||"")}const oe=new u.OlP("appBaseHref");let Ee=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+De(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+De(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+De(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),It=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me(vt(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+De(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,vt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(Q))},n.normalizeQueryParams=De,n.joinWithSlash=Oe,n.stripTrailingSlash=Me,n.\u0275prov=(0,u.Yz7)({factory:Nt,token:n,providedIn:"root"}),n})();function Nt(){return new It((0,u.LFG)(ge),(0,u.LFG)(Q))}function vt(n){return n.replace(/\/index.html$/,"")}var mt=(()=>((mt=mt||{})[mt.Zero=0]="Zero",mt[mt.One=1]="One",mt[mt.Two=2]="Two",mt[mt.Few=3]="Few",mt[mt.Many=4]="Many",mt[mt.Other=5]="Other",mt))();const ke=u.kL8;class ui{}let pr=(()=>{class n extends ui{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ke(r||this.locale)(t)){case mt.Zero:return"zero";case mt.One:return"one";case mt.Two:return"two";case mt.Few:return"few";case mt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new uc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class uc{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:ui,useClass:pr}]}),n})();function ma(n){return"server"===n}let Qa=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Qu((0,u.LFG)(ce),window)}),n})();class Qu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hs(this.window.history)||hs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function hs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xa extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Xa,j||(j=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cr=Cr||document.querySelector("base"),Cr?Cr.getAttribute("href"):null);return null==t?null:function(n){an=an||document.createElement("a"),an.setAttribute("href",n);const e=an.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let an,Cr=null;const mc=new u.OlP("TRANSITION_ID"),Pi=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[mc,ce,u.zs3],multi:!0}];class Sn{static init(){(0,u.VLi)(new Sn)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _c=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=new u.OlP("EventManagerPlugins");let Te=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ps),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Rt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let nu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wn=(()=>{class n extends nu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ru),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ru))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ru(n){O().remove(n)}const Yi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gr=/%COMP%/g;function or(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?or(n,o,t):(o=o.replace(Gr,n),t.push(o))}return t}function qr(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gs=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Er(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new su(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new wc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=or(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Te),u.LFG(wn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Er{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Yi[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Yi[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Yi[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qr(r)):this.eventManager.addEventListener(e,t,qr(r))}}class su extends Er{constructor(e,t,r,o){super(e),this.component=r;const l=or(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Gr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Gr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wc extends Er{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=or(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vo=(()=>{class n extends Rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bo=["alt","control","meta","shift"],uu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ih={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends Rt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Bo.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Dr.hasOwnProperty(e)&&(e=Dr[e]))}return uu[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Bo.forEach(l=>{l!=o&&ih[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Xa.makeCurrent(),Sn.init()},multi:!0},{provide:ce,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Ic=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:ps,useClass:Vo,multi:!0,deps:[ce,u.R0b,u.Lbi]},{provide:ps,useClass:ul,multi:!0,deps:[ce]},[],{provide:gs,useClass:gs,deps:[Te,wn,u.AFp]},{provide:u.FYo,useExisting:gs},{provide:nu,useExisting:wn},{provide:wn,useClass:wn,deps:[ce]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Te,useClass:Te,deps:[ps,u.R0b]},{provide:class{},useClass:_c,deps:[]},[]];let lp=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:mc,useExisting:u.AFp},Pi]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Ic,imports:[gr,u.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),Ze=F(5917),un=F(9765),dh=F(7971);class Nn extends un.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dh.N;return this._value}next(e){super.next(this._value=e)}}var cu=F(4869),ys=F(9796),Zn=F(7393);class du extends Zn.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class dl extends Zn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var hl=F(7444),xt=F(7574);function Mc(n,e,t,r,o=new dl(n,t,r)){if(!o.closed)return e instanceof xt.y?e.subscribe(o):(0,hl.s)(e)(o)}var mo=F(6693);const Rc={};class hh{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new hu(e,this.resultSelector))}}class hu extends du{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Rc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Mc(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===Rc?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ji=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Li=F(3282);function Qi(...n){return(0,Li.J)(1)((0,Ze.of)(...n))}var Zr=F(9193);function _o(n){return new xt.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,pn.D)(t):(0,Zr.c)()).subscribe(e)})}var fl=F(2441),lt=F(8002),ci=F(5345);function tr(n,e){return"function"==typeof e?t=>t.pipe(tr((r,o)=>(0,pn.D)(n(r,o)).pipe((0,lt.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new fh(n))}class fh{constructor(e){this.project=e}call(e,t){return t.subscribe(new xn(e,this.project))}}class xn extends ci.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new ci.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,ci.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const pl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function di(n){return e=>0===n?(0,Zr.c)():e.lift(new fp(n))}class fp{constructor(e){if(this.total=e,this.total<0)throw new pl}call(e,t){return t.subscribe(new Sm(e,this.total))}}class Sm extends Zn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Ia(...n){const e=n[n.length-1];return(0,cu.K)(e)?(n.pop(),t=>Qi(n,t,e)):t=>Qi(n,t)}function fu(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new ph(n,e,t))}}class ph{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Nm(e,this.accumulator,this.seed,this.hasSeed))}}class Nm extends Zn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function kn(n,e){return function(r){return r.lift(new kc(n,e))}}class kc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Aa(e,this.predicate,this.thisArg))}}class Aa extends Zn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function yo(n){return function(t){const r=new On(n),o=t.lift(r);return r.caught=o}}class On{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Sa(e,this.selector,this.caught))}}class Sa extends ci.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new ci.IY(this);this.add(r);const o=(0,ci.ft)(t,r);o!==r&&this.add(o)}}}var Vn=F(9773);function Oc(n,e){return(0,Vn.zg)(n,e,1)}function gl(n){return function(t){return 0===n?(0,Zr.c)():t.lift(new Xi(n))}}class Xi{constructor(e){if(this.total=e,this.total<0)throw new pl}call(e,t){return t.subscribe(new vs(e,this.total))}}class vs extends Zn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function pu(n=Pc){return e=>e.lift(new Vi(n))}class Vi{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Bs(e,this.errorFactory))}}class Bs extends Zn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Pc(){return new Ji}function gh(n=null){return e=>e.lift(new Go(n))}class Go{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Mm(e,this.defaultValue))}}class Mm extends Zn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var js=F(4487);function Wn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?kn((o,l)=>n(o,l,r)):js.y,di(1),t?gh(e):pu(()=>new Ji))}var zn=F(8307),vo=F(1307),pp=F(5319);class D{constructor(e){this.callback=e}call(e,t){return t.subscribe(new I(e,this.callback))}}class I extends Zn.L{constructor(e,t){super(e),this.add(new pp.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class U extends R{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fe extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ge extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends R{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Na{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class av{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cn(n){return new av(n)}const gp="ngNavigationCancelingError";function Rm(n){const e=Error("NavigationCancelingError: "+n);return e[gp]=!0,e}function mu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Hs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!_h(n[o],e[o]))return!1;return!0}function _h(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function xm(n){return Array.prototype.concat.apply([],n)}function _u(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,Ze.of)(n)}const yh={exact:function km(n,e,t){if(!Oa(n.segments,e.segments)||!Vc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!km(n.children[r],e.children[r],t))return!1;return!0},subset:Zo},vh={exact:function(n,e){return Hs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_h(n[t],e[t]))},ignored:()=>!0};function Lc(n,e,t){return yh[t.paths](n.root,e.root,t.matrixParams)&&vh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Zo(n,e,t){return xa(n,e,e.segments,t)}function xa(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Oa(o,t)||e.hasChildren()||!Vc(o,t,r))}if(n.segments.length===t.length){if(!Oa(n.segments,t)||!Vc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Zo(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Oa(n.segments,o)&&Vc(n.segments,o,r)&&n.children[_t])&&xa(n.children[_t],e,l,r)}}function Vc(n,e,t){return e.every((r,o)=>vh[t](n[o].parameters,r.parameters))}class ka{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return yp.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wo(this)}}class ml{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return bp(this)}}function Oa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class wh{}class yu{parse(e){const t=new Om(e);return new ka(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Uc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${vp(t)}=${vp(o)}`).join("&"):`${vp(t)}=${vp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const yp=new yu;function Wo(n){return n.segments.map(e=>bp(e)).join("/")}function Uc(n,e){if(!n.hasChildren())return Wo(n);if(e){const t=n.children[_t]?Uc(n.children[_t],!1):"",r=[];return Yn(n.children,(o,l)=>{l!==_t&&r.push(`${l}:${Uc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Yn(n.children,(r,o)=>{o===_t&&(t=t.concat(e(r,o)))}),Yn(n.children,(r,o)=>{o!==_t&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===_t?[Uc(n.children[_t],!1)]:[`${o}:${Uc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_t]?`${Wo(n)}/${t[0]}`:`${Wo(n)}/(${t.join("//")})`}}function Ch(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vp(n){return Ch(n).replace(/%3B/gi,";")}function _l(n){return Ch(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(n){return decodeURIComponent(n)}function yl(n){return Bc(n.replace(/\+/g,"%20"))}function bp(n){return`${_l(n.path)}${function(n){return Object.keys(n).map(e=>`;${_l(e)}=${_l(n[e])}`).join("")}(n.parameters)}`}const hv=/^[^\/()?;=#]+/;function Dh(n){const e=n.match(hv);return e?e[0]:""}const fv=/^[^=?&#]+/,zo=/^[^?&#]+/;class Om{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_t]=new $t(e,t)),r}parseSegment(){const e=Dh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ml(Bc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Dh(this.remaining);o&&(r=o,this.capture(r))}e[Bc(t)]=Bc(r)}parseQueryParam(e){const t=function(n){const e=n.match(fv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(zo);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=yl(t),l=yl(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dh(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=_t);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[_t]:new $t([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Pm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Cp(e,this._root).map(t=>t.value)}}function wp(n,e){if(n===e.value)return e;for(const t of e.children){const r=wp(n,t);if(r)return r}return null}function Cp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cp(n,t);if(r.length)return r.unshift(e),r}return[]}class Yo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ep extends Pm{constructor(e,t){super(e),this.snapshot=t,jc(this,e)}toString(){return this.snapshot.toString()}}function Fm(n,e){const t=function(n,e){const h=new wl([],{},{},"",{},_t,e,null,n.root,-1,{});return new Cl("",new Yo(h,[]))}(n,e),r=new Nn([new ml("",{})]),o=new Nn({}),l=new Nn({}),h=new Nn({}),m=new Nn(""),b=new bl(r,o,h,m,l,_t,e,t.root);return b.snapshot=t.root,new Ep(new Yo(b,[]),t)}class bl{constructor(e,t,r,o,l,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(e=>Cn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(e=>Cn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Th(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wl{constructor(e,t,r,o,l,h,m,b,T,N,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=T,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cl extends Pm{constructor(e,t){super(t),this.url=e,jc(this,t)}toString(){return Gs(this._root)}}function jc(n,e){e.value._routerState=n,e.children.forEach(t=>jc(n,t))}function Gs(n){const e=n.children.length>0?` { ${n.children.map(Gs).join(", ")} } `:"";return`${n.value}${e}`}function Ko(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ih(n,e){return Hs(n.params,e.params)&&function(n,e){return Oa(n,e)&&n.every((t,r)=>Hs(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Ih(n.parent,e.parent))}function El(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return El(n,r,o);return El(n,r)})}(n,e,t);return new Yo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return mv(e,h),h}}const r=function(n){return new bl(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>El(n,l));return new Yo(r,o)}}function mv(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)mv(n.children[t],e.children[t])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,r,o){let l={};return r&&Yn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new ka(t.root===n?e:C(t.root,n,e),l,o)}function C(n,e,t){const r={};return Yn(n.children,(o,l)=>{r[l]=o===e?t:C(o,e,t)}),new $t(n.segments,r)}class S{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(p);if(o&&o!==_u(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ot(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return qt(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(p(m))break;const b=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!Ah(b,T,h))return l;r+=2}else{if(!Ah(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new $t(n.segments.slice(0,r.pathIndex),{});return l.children[_t]=new $t(n.segments.slice(r.pathIndex),n.children),qt(l,0,o)}return r.match&&0===o.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Lr(n,e,t):r.match?qt(n,0,o):Lr(n,e,t)}function qt(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[_t]:n}}(t),o={};return Yn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=ot(n.children[h],e,l))}),Yn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new $t(n.segments,o)}}function Lr(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(p(l)){const b=yn(l.outlets);return new $t(r,b)}if(0===o&&v(t[0])){r.push(new ml(n.segments[e].path,$c(t[0]))),o++;continue}const h=p(l)?l.outlets[_t]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&v(m)?(r.push(new ml(h,$c(m))),o+=2):(r.push(new ml(h,{})),o++)}return new $t(r,{})}function yn(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Lr(new $t([],{}),0,t))}),e}function $c(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function Ah(n,e,t){return n==t.path&&Hs(e,t.parameters)}class Ip{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ko(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=vl(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Yn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=vl(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=vl(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new $s(l.value.snapshot))}),e.children.length&&this.forwardEvent(new gu(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Ko(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Nh(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Nh(n){Ko(n.value),n.children.forEach(Nh)}class Mh{constructor(e,t){this.routes=e,this.module=t}}function bo(n){return"function"==typeof n}function Dl(n){return n instanceof ka}const Rh=Symbol("INITIAL_VALUE");function xh(){return tr(n=>function(...n){let e,t;return(0,cu.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,ys.k)(n[0])&&(n=n[0]),(0,mo.n)(n,t).lift(new hh(e))}(n.map(e=>e.pipe(di(1),Ia(Rh)))).pipe(fu((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Rh?o:(l===Rh&&(r=!0),r||!1!==l&&h!==t.length-1&&!Dl(l)?o:l),e)},Rh),kn(e=>e!==Rh),(0,lt.U)(e=>Dl(e)?e:!0===e),di(1)))}let pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[Lh]},encapsulation:2}),n})();function kh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yv(r,bI(e,r))}}function yv(n,e){n.children&&kh(n.children,e)}function bI(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function vv(n){const e=n.children&&n.children.map(vv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_t&&(t.component=pi),t}function qs(n){return n.outlet||_t}function v1(n,e){const t=n.filter(r=>qs(r)===e);return t.push(...n.filter(r=>qs(r)!==e)),t}const bv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},bv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||mu)(t,n,e);if(!l)return Object.assign({},bv);const h={};Yn(l.posParams,(b,T)=>{h[T]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Ap(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Oh(n,e,r)&&qs(r)!==_t)}(n,t,r)){const h=new $t(e,function(n,e,t,r){const o={};o[_t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&qs(l)!==_t){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[qs(l)]=h}return o}(n,e,r,new $t(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Oh(n,e,r))}(n,t,r)){const h=new $t(n.segments,function(n,e,t,r,o,l){const h={};for(const m of r)if(Oh(n,t,m)&&!o[qs(m)]){const b=new $t([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[qs(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new $t(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Oh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wv(n,e,t,r){return!!(qs(n)===r||r!==_t&&Oh(e,t,n))&&("**"===n.path||Bm(e,n,t).matched)}function w1(n,e,t){return 0===e.length&&!n.children[t]}class jm{constructor(e){this.segmentGroup=e||null}}class Cv{constructor(e){this.urlTree=e}}function Gc(n){return new xt.y(e=>e.error(new jm(n)))}function C1(n){return new xt.y(e=>e.error(new Cv(n)))}function DI(n){return new xt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class II{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Ap(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,_t).pipe((0,lt.U)(l=>this.createUrlTree(Ev(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yo(l=>{if(l instanceof Cv)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof jm?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,_t).pipe((0,lt.U)(o=>this.createUrlTree(Ev(o),e.queryParams,e.fragment))).pipe(yo(o=>{throw o instanceof jm?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new $t([],{[_t]:e}):e;return new ka(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,lt.U)(l=>new $t([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,pn.D)(o).pipe(Oc(l=>{const h=r.children[l],m=v1(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,lt.U)(b=>({segment:b,outlet:l})))}),fu((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?kn((o,l)=>n(o,l,r)):js.y,gl(1),t?gh(e):pu(()=>new Ji))}())}expandSegment(e,t,r,o,l,h){return(0,pn.D)(r).pipe(Oc(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(yo(T=>{if(T instanceof jm)return(0,Ze.of)(null);throw T}))),Wn(m=>!!m),yo((m,b)=>{if(m instanceof Ji||"EmptyError"===m.name){if(w1(t,o,l))return(0,Ze.of)(new $t([],{}));throw new jm(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return wv(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Gc(t):Gc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?C1(l):this.lineralizeSegments(r,l).pipe((0,Vn.zg)(h=>{const m=new $t(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:T,positionalParamSegments:N}=Bm(t,o,l);if(!m)return Gc(t);const M=this.applyRedirectCommands(b,o.redirectTo,N);return o.redirectTo.startsWith("/")?C1(M):this.lineralizeSegments(o,M).pipe((0,Vn.zg)(V=>this.expandSegment(e,t,r,V.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ze.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,lt.U)(V=>(r._loadedConfig=V,new $t(o,{})))):(0,Ze.of)(new $t(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Bm(t,r,o);if(!h)return Gc(t);const T=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,Vn.zg)(M=>{const V=M.module,$=M.routes,{segmentGroup:re,slicedSegments:ye}=Ap(t,m,T,$),Ae=new $t(re.segments,re.children);if(0===ye.length&&Ae.hasChildren())return this.expandChildren(V,$,Ae).pipe((0,lt.U)(ut=>new $t(m,ut)));if(0===$.length&&0===ye.length)return(0,Ze.of)(new $t(m,{}));const it=qs(r)===l;return this.expandSegment(V,Ae,$,ye,it?_t:l,!0).pipe((0,lt.U)(St=>new $t(m.concat(St.segments),St.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ze.of)(new Mh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ze.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Vn.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,lt.U)(l=>(t._loadedConfig=l,l))):(n=t,new xt.y(e=>e.error(Rm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ze.of)(new Mh([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ze.of)(!0);const l=o.map(h=>{const m=e.get(h);let b;if((n=m)&&bo(n.canLoad))b=m.canLoad(t,r);else{if(!bo(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return Fr(b)});return(0,Ze.of)(l).pipe(xh(),(0,zn.b)(h=>{if(!Dl(h))return;const m=Rm(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,lt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ze.of)(r);if(o.numberOfChildren>1||!o.children[_t])return DI(e.redirectTo);o=o.children[_t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ka(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Yn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new $t(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Ev(n){const e={};for(const r of Object.keys(n.children)){const l=Ev(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[_t]){const e=n.children[_t];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}class Sp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ts{constructor(e,t){this.component=e,this.route=t}}function E1(n,e,t){const r=n._root;return Hm(r,e?e._root:null,t,[r.value])}function $m(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Hm(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=vl(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Oa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oa(n.url,e.url)||!Hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(n,e)||!Hs(n.queryParams,e.queryParams);case"paramsChange":default:return!Ih(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Sp(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Hm(n,e,l.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new ts(m.outlet.component,h))}else h&&Np(e,m,o),o.canActivateChecks.push(new Sp(r)),Hm(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Yn(l,(h,m)=>Np(h,t.getContext(m),o)),o}function Np(n,e,t){const r=vl(n),o=n.value;Yn(r,(l,h)=>{Np(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new ts(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Dv{}function Gm(n){return new xt.y(e=>e.error(n))}class A1{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Ap(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,_t);if(null===t)return null;const r=new wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Yo(r,t),l=new Cl(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Th(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=v1(e,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=qm(r);return o.sort((e,t)=>e.value.outlet===_t?-1:t.value.outlet===_t?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return w1(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!wv(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const $=r.length>0?_u(r).parameters:{};l=new wl(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qc(e),qs(e),e.component,e,Tv(t),kI(t)+r.length,Zm(e))}else{const $=Bm(t,e,r);if(!$.matched)return null;h=$.consumedSegments,m=r.slice($.lastChild),l=new wl(h,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qc(e),qs(e),e.component,e,Tv(t),kI(t)+h.length,Zm(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Ap(t,h,m,b.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const $=this.processChildren(b,T);return null===$?null:[new Yo(l,$)]}if(0===b.length&&0===N.length)return[new Yo(l,[])];const M=qs(e)===o,V=this.processSegment(b,T,N,M?_t:o);return null===V?null:[new Yo(l,V)]}}function N1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qm(n){const e=[],t=new Set;for(const r of n){if(!N1(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=qm(r.children);e.push(new Yo(r.value,o))}return e.filter(r=>!t.has(r))}function Tv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function qc(n){return n.data||{}}function Zm(n){return n.resolve||{}}function Av(n){return tr(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,lt.U)(()=>e)):(0,Ze.of)(e)})}class UI extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wm=new u.OlP("ROUTES");class zm{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,lt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Mh(xm(h.injector.get(Wm,void 0,u.XFs.Self|u.XFs.Optional)).map(vv),h)}),yo(l=>{throw t._loader$=void 0,l}));return t._loader$=new fl.c(o,()=>new un.xQ).pipe((0,vo.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pn.D)(this.loader.load(e)):Fr(e()).pipe((0,Vn.zg)(t=>t instanceof u.YKP?(0,Ze.of)(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class x1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tl,this.attachRef=null}}class Tl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new x1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class jI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function k1(n){throw n}function O1(n,e,t){return e.parse("/")}function Il(n,e){return(0,Ze.of)(null)}const P1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class n{constructor(t,r,o,l,h,m,b,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.xQ,this.errorHandler=k1,this.malformedUriErrorHandler=O1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Il,afterPreactivation:Il},this.urlHandlingStrategy=new jI,this.routeReuseStrategy=new UI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const V=h.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new ka(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zm(m,b,$=>this.triggerEvent(new hi($)),$=>this.triggerEvent(new ar($))),this.routerState=Fm(this.currentUrlTree,this.rootComponentType),this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(kn(o=>0!==o.id),(0,lt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tr(o=>{let l=!1,h=!1;return(0,Ze.of)(o).pipe((0,zn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),tr(m=>{const b=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Km(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ze.of)(m).pipe(tr(M=>{const V=this.transitions.getValue();return r.next(new U(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Zr.E:Promise.resolve(M)}),function(n,e,t,r){return tr(o=>function(n,e,t,r,o){return new II(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,lt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Vn.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new A1(n,e,t,r,o,l).recognize();return null===h?Gm(new Dv):(0,Ze.of)(h)}catch(h){return Gm(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,lt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new Ge(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:$,source:re,restoredState:ye,extras:Ae}=m,it=new U(V,this.serializeUrl($),re,ye);r.next(it);const Qe=Fm($,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},m),{targetSnapshot:Qe,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Zr.E}),Av(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.beforePreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,zn.b)(m=>{const b=new We(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,lt.U)(m=>Object.assign(Object.assign({},m),{guards:E1(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Vn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Ze.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,pn.D)(n).pipe((0,Vn.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ze.of)(!0);const h=l.map(m=>{const b=$m(m,e,o);let T;if(function(n){return n&&bo(n.canDeactivate)}(b))T=Fr(b.canDeactivate(n,e,t,r));else{if(!bo(b))throw new Error("Invalid CanDeactivate guard");T=Fr(b(n,e,t,r))}return T.pipe(Wn())});return(0,Ze.of)(h).pipe(xh())}(o.component,o.route,t,e,r)),Wn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Vn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,pn.D)(e).pipe(Oc(o=>Qi(function(n,e){return null!==n&&e&&e(new Na(n)),(0,Ze.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Ma(n)),(0,Ze.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>_o(()=>{const m=h.guards.map(b=>{const T=$m(b,h.node,t);let N;if(function(n){return n&&bo(n.canActivateChild)}(T))N=Fr(T.canActivateChild(r,n));else{if(!bo(T))throw new Error("Invalid CanActivateChild guard");N=Fr(T(r,n))}return N.pipe(Wn())});return(0,Ze.of)(m).pipe(xh())}));return(0,Ze.of)(l).pipe(xh())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ze.of)(!0);const o=r.map(l=>_o(()=>{const h=$m(l,e,t);let m;if(function(n){return n&&bo(n.canActivate)}(h))m=Fr(h.canActivate(e,n));else{if(!bo(h))throw new Error("Invalid CanActivate guard");m=Fr(h(e,n))}return m.pipe(Wn())}));return(0,Ze.of)(o).pipe(xh())}(n,o.route,t))),Wn(o=>!0!==o,!0))}(r,l,n,e):(0,Ze.of)(m)),(0,lt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,zn.b)(m=>{if(Dl(m.guardsResult)){const T=Rm(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const b=new Ut(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),kn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Av(m=>{if(m.guards.canActivateChecks.length)return(0,Ze.of)(m).pipe((0,zn.b)(b=>{const T=new nn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),tr(b=>{let T=!1;return(0,Ze.of)(b).pipe(function(n,e){return(0,Vn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ze.of)(t);let l=0;return(0,pn.D)(o).pipe(Oc(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ze.of)({});const l={};return(0,pn.D)(o).pipe((0,Vn.zg)(h=>function(n,e,t,r){const o=$m(n,e,r);return Fr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,zn.b)(m=>{l[h]=m}))),gl(1),(0,Vn.zg)(()=>Object.keys(l).length===o.length?(0,Ze.of)(l):Zr.E))}(n._resolve,n,e,r).pipe((0,lt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Th(n,t).resolve),null)))}(h.route,r,n,e)),(0,zn.b)(()=>l++),gl(1),(0,Vn.zg)(h=>l===o.length?(0,Ze.of)(t):Zr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,zn.b)(b=>{const T=new nr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}))}),Av(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.afterPreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,lt.U)(m=>{const b=function(n,e,t){const r=El(n,e._root,t?t._root:void 0);return new Ep(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,zn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,lt.U)(r=>(new Ip(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,zn.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new D(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),yo(m=>{if(h=!0,function(n){return n&&n[gp]}(m)){const b=Dl(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const T=new fe(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Km(o.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ie(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return Zr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){kh(t),this.config=t.map(vv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,T=o||this.routerState.root,N=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,o){if(0===t.length)return _(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Yn(l.outlets,(b,T)=>{m[T]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new S(t,e,r)}(t);if(l.toRoot())return _(e.root,new $t([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new X(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new X(l,l===e.root,0)}const r=v(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new X(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?qt(h.segmentGroup,h.index,l.commands):ot(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,m,e,r,o)}(T,this.currentUrlTree,t,M,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Dl(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},P1):!1===r?Object.assign({},F1):r,Dl(t))return Lc(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Lc(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=Km(r)&&T&&!Km(T.source),$=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(N&&$)return Promise.resolve(!0);let re,ye,Ae;h?(re=h.resolve,ye=h.reject,Ae=h.promise):Ae=new Promise((St,ut)=>{re=St,ye=ut});const it=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Qe=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:it,targetPageId:Qe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:re,reject:ye,promise:Ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ae.catch(St=>Promise.reject(St))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new fe(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(wh),u.LFG(Tl),u.LFG(It),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Km(n){return"imperative"!==n}let Lh=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=l||_t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Xm(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Xm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bl?this.route:e===Tl?this.childContexts:this.parent.get(e,t)}}class Nv{}class Rv{preload(e,t){return(0,Ze.of)(null)}}let e_=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new zm(r,o,T=>t.triggerEvent(new hi(T)),T=>t.triggerEvent(new ar(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(kn(t=>t instanceof te),Oc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,pn.D)(o).pipe((0,Li.J)(),(0,lt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ze.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Vn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gi),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Wc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof te&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gi),u.LFG(Qa),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=new u.OlP("ROUTER_CONFIGURATION"),V1=new u.OlP("ROUTER_FORROOT_GUARD"),U1=[It,{provide:wh,useClass:yu},{provide:gi,useFactory:function(n,e,t,r,o,l,h,m={},b,T){const N=new gi(null,n,e,t,r,o,l,xm(h));return b&&(N.urlHandlingStrategy=b),T&&(N.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,N),m.enableTracing&&N.events.subscribe(M=>{var V,$;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===($=console.groupEnd)||void 0===$||$.call(console)}),N},deps:[wh,Tl,It,u.zs3,u.v3s,u.Sil,Wm,Al,[class{},new u.FiY],[class{},new u.FiY]]},Tl,{provide:bl,useFactory:function(n){return n.routerState.root},deps:[gi]},{provide:u.v3s,useClass:u.EAV},e_,Rv,class{preload(e,t){return t().pipe(yo(()=>(0,Ze.of)(null)))}},{provide:Al,useValue:{enableTracing:!1}}];function xv(){return new u.PXZ("Router",gi)}let kv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[U1,Ov(t),{provide:V1,useFactory:HI,deps:[[gi,new u.FiY,new u.tp0]]},{provide:Al,useValue:r||{}},{provide:ge,useFactory:B1,deps:[Q,[new u.tBr(oe),new u.FiY],Al]},{provide:Wc,useFactory:cR,deps:[gi,Qa,Al]},{provide:Nv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Rv},{provide:u.PXZ,multi:!0,useFactory:xv},[Pv,{provide:u.ip1,multi:!0,useFactory:j1,deps:[Pv]},{provide:$1,useFactory:ZI,deps:[Pv]},{provide:u.tb,multi:!0,useExisting:$1}]]}}static forChild(t){return{ngModule:n,providers:[Ov(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(V1,8),u.LFG(gi,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function cR(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wc(n,e,t)}function B1(n,e,t={}){return t.useHash?new xe(n,e):new Ee(n,e)}function HI(n){return"guarded"}function Ov(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Wm,multi:!0,useValue:n}]}let Pv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(gi),h=this.injector.get(Al);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Al),o=this.injector.get(e_),l=this.injector.get(Wc),h=this.injector.get(gi),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function j1(n){return n.appInitializer.bind(n)}function ZI(n){return n.bootstrapListener.bind(n)}const $1=new u.OlP("Router Initializer");var de=F(8239);class H1{constructor(e,t,r,o,l,h){this.id=e,this.firstname=t,this.lastname=r,this.username=o,this.birthday=l,this.gender=h}}var t_=F(7841),n_=F(3637),Ye=F(9396);function r_(){return n=>n.lift(new G1)}class G1{call(e,t){return t.subscribe(new i_(e))}}class i_ extends Zn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class q1{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new zI(e,this.compare,this.keySelector))}}class zI extends Zn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var ze,mi=F(8939),s_=(F(4828),F(3394)),wo=F(8026),Nl=F(3910),zc=F(5422),bt=F(3854),hR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_i={},Vh=Vh||{},Ct=hR||self;function Fv(){}function Lv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Uh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vv="closure_uid_"+(1e9*Math.random()>>>0),pR=0;function Z1(n,e,t){return n.call.apply(n.bind,arguments)}function W1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function yi(n,e,t){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z1:W1).apply(null,arguments)}function Bh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ui(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Yc(){this.s=this.s,this.o=this.o}var mR={};Yc.prototype.s=!1,Yc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Vv)&&n[Vv]||(n[Vv]=++pR)}(this);delete mR[n]}},Yc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},KI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function JI(n){return Array.prototype.concat.apply([],arguments)}function z1(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Uv(n){return/^[\s\xa0]*$/.test(n)}var ns,QI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ur(n,e){return-1!=n.indexOf(e)}function Rp(n,e){return n<e?-1:n>e?1:0}e:{var Bv=Ct.navigator;if(Bv){var o_=Bv.userAgent;if(o_){ns=o_;break e}}ns=""}function a_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function u_(n){const e={};for(const t in n)e[t]=n[t];return e}var Y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bu(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Y1.length;l++)t=Y1[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function l_(n){return l_[" "](n),n}l_[" "]=Fv;var wu,n,yR=ur(ns,"Opera"),Ml=ur(ns,"Trident")||ur(ns,"MSIE"),K1=ur(ns,"Edge"),c_=K1||Ml,J1=ur(ns,"Gecko")&&!(ur(ns.toLowerCase(),"webkit")&&!ur(ns,"Edge"))&&!(ur(ns,"Trident")||ur(ns,"MSIE"))&&!ur(ns,"Edge"),eA=ur(ns.toLowerCase(),"webkit")&&!ur(ns,"Edge");function jh(){var n=Ct.document;return n?n.documentMode:void 0}e:{var xp="",Rl=(n=ns,J1?/rv:([^\);]+)(\)|;)/.exec(n):K1?/Edge\/([\d\.]+)/.exec(n):Ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eA?/WebKit\/(\S+)/.exec(n):yR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Rl&&(xp=Rl?Rl[1]:""),Ml){var Kc=jh();if(null!=Kc&&Kc>parseFloat(xp)){wu=String(Kc);break e}}wu=xp}var $h={};function tA(){return e=$h,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=QI(String(wu)).split("."),t=QI("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Rp(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Rp(0==o[2].length,0==l[2].length)||Rp(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var $v=Ct.document&&Ml&&(jh()||parseInt(wu,10))||void 0,Hv=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",Fv,e),Ct.removeEventListener("test",Fv,e)}catch(t){}return n}();function vi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function xl(n,e){if(vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(J1){e:{try{l_(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xl.Z.h.call(this)}}vi.prototype.h=function(){this.defaultPrevented=!0},Ui(xl,vi);var nA={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hh="closure_listenable_"+(1e6*Math.random()|0),vR=0;function Q1(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++vR,this.ca=this.fa=!1}function kp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function h_(n){this.src=n,this.g={},this.h=0}function f_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=YI(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(kp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gv(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}h_.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Gv(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Q1(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var qv="closure_lm_"+(1e6*Math.random()|0),rs={};function X1(n,e,t,r,o){if(r&&r.once)return rA(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)X1(n,e[l],t,r,o);return null}return t=Yv(t),n&&n[Hh]?n.N(e,t,Uh(r)?!!r.capture:!!r,o):eC(n,e,t,!1,r,o)}function eC(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Uh(o)?!!o.capture:!!o,m=p_(n);if(m||(n[qv]=m=new h_(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=Wv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hv||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(nC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rA(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)rA(n,e[l],t,r,o);return null}return t=Yv(t),n&&n[Hh]?n.O(e,t,Uh(r)?!!r.capture:!!r,o):eC(n,e,t,!0,r,o)}function Zv(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Zv(n,e[l],t,r,o);else r=Uh(r)?!!r.capture:!!r,t=Yv(t),n&&n[Hh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gv(l=n.g[e],t,r,o))&&(kp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=p_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gv(e,t,r,o)),(t=-1<n?e[n]:null)&&tC(t))}function tC(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hh])f_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=p_(e))?(f_(t,n),0==t.h&&(t.src=null,e[qv]=null)):kp(n)}}}function nC(n){return n in rs?rs[n]:rs[n]="on"+n}function Wv(n,e){if(n.ca)n=!0;else{e=new xl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&tC(n),n=t.call(r,e)}return n}function p_(n){return(n=n[qv])instanceof h_?n:null}var zv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(n){return"function"==typeof n?n:(n[zv]||(n[zv]=function(e){return n.handleEvent(e)}),n[zv])}function Wr(){Yc.call(this),this.i=new h_(this),this.P=this,this.I=null}function zr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new vi(e,n);else if(e instanceof vi)e.target=e.target||n;else{var o=e;bu(e=new vi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=g_(h,r,!0,e)&&o}if(o=g_(h=e.g=n,r,!0,e)&&o,o=g_(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=g_(h=e.g=t[l],r,!1,e)&&o}function g_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&f_(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Ui(Wr,Yc),Wr.prototype[Hh]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){Zv(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kp(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var m_=Ct.JSON.stringify;function iA(){var n=uA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Op,Kv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rC,n=>n.reset());class rC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oA(n){Ct.setTimeout(()=>{throw n},0)}function Co(n,e){Op||function(){var n=Ct.Promise.resolve(void 0);Op=function(){n.then(iC)}}(),Jv||(Op(),Jv=!0),uA.add(n,e)}var Jv=!1,uA=new class{constructor(){this.h=this.g=null}add(e,t){const r=Kv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function iC(){for(var n;n=iA();){try{n.h.call(n.g)}catch(t){oA(t)}var e=Kv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jv=!1}function __(n,e){Wr.call(this),this.h=n||1,this.g=e||Ct,this.j=yi(this.kb,this),this.l=Date.now()}function Qv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Xv(n,e,t){if("function"==typeof n)t&&(n=yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function y_(n){n.g=Xv(()=>{n.g=null,n.i&&(n.i=!1,y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ui(__,Wr),(ze=__.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zr(this,"tick"),this.da&&(Qv(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){__.Z.M.call(this),Qv(this),delete this.g};class lA extends Yc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:y_(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pp(n){Yc.call(this),this.h=n,this.g={}}Ui(Pp,Yc);var Fp=[];function v_(n,e,t,r){Array.isArray(t)||(t&&(Fp[0]=t.toString()),t=Fp);for(var o=0;o<t.length;o++){var l=X1(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function sC(n){a_(n.g,function(e,t){this.g.hasOwnProperty(t)&&tC(e)},n),n.g={}}function Gh(){this.g=!0}function qh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return m_(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Pp.prototype.M=function(){Pp.Z.M.call(this),sC(this)},Pp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gh.prototype.Aa=function(){this.g=!1},Gh.prototype.info=function(){};var Zh={},aC=null;function Lp(){return aC=aC||new Wr}function n0(n){vi.call(this,Zh.Ma,n)}function Wh(n){const e=Lp();zr(e,new n0(e,n))}function r0(n,e){vi.call(this,Zh.STAT_EVENT,n),this.stat=e}function Bi(n){const e=Lp();zr(e,new r0(e,n))}function Va(n,e){vi.call(this,Zh.Na,n),this.size=e}function kl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}Zh.Ma="serverreachability",Ui(n0,vi),Zh.STAT_EVENT="statevent",Ui(r0,vi),Zh.Na="timingevent",Ui(Va,vi);var b_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lC(){}function s0(){}lC.prototype.h=null;var Vp,Cu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qc(){vi.call(this,"d")}function o0(){vi.call(this,"c")}function Up(){}function Bp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Pp(this),this.P=dA,this.W=new __(n=c_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new a0}function a0(){this.i=null,this.g="",this.h=!1}Ui(Qc,vi),Ui(o0,vi),Ui(Up,lC),Up.prototype.g=function(){return new XMLHttpRequest},Up.prototype.i=function(){return{}},Vp=new Up;var dA=45e3,jp={},w_={};function u0(n,e,t){n.K=1,n.v=Gp(Qo(e)),n.s=t,n.U=!0,l0(n,null)}function l0(n,e){n.F=Date.now(),$p(n),n.A=Qo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),mA(t.h,"t",r),n.C=0,t=n.l.H,n.h=new a0,n.g=I0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new lA(yi(n.Ia,n,n.g),n.O)),v_(n.V,n.g,"readystatechange",n.gb),e=n.H?u_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wh(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var T=m[b].split("=");if(1<T.length){var N=T[0];T=T[1];var M=N.split("_");h=2<=M.length&&"type"==M[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xc(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function c0(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=hA(n,t),o==w_){4==e&&(n.o=4,Bi(14),r=!1),qh(n.j,n.m,null,"[Incomplete Response]");break}if(o==jp){n.o=4,Bi(15),qh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qh(n.j,n.m,o,null),d0(n,o)}Xc(n)&&o!=w_&&o!=jp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Fl(e),e.L=!0,Bi(11))):(qh(n.j,n.m,t,"[Invalid Chunked Response]"),td(n),Hp(n))}function hA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?w_:(t=Number(e.substring(t,r)),isNaN(t)?jp:(r+=1)+t>e.length?w_:(e=e.substr(r,t),n.C=r+t,e))}function $p(n){n.Y=Date.now()+n.P,ed(n,n.P)}function ed(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kl(yi(n.eb,n),e)}function C_(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Hp(n){0==n.l.G||n.I||C0(n.l,n)}function td(n){C_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qv(n.W),sC(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function d0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||I_(t.i,n)))if(t.I=n.N,!n.J&&I_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=kl(yi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Jp(t),od(t)}Pl(t),Bi(18)}if(1>=gC(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Ll(t,11)}else if((n.J||t.g==n)&&Jp(t),!Uv(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const N=T[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const re=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var l=r.i;!l.g&&(ur(re,"spdy")||ur(re,"quic")||ur(re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(A_(l,l.h),l.h=null))}if(r.D){const ye=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Un(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=T0(r,r.H?r.la:null,r.W),h.J){bA(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(C_(m),$p(m)),r.g=h}else ld(r);0<t.l.length&&Mu(t)}else"stop"!=T[0]&&"close"!=T[0]||Ll(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Ll(t,7):Nu(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Wh(4)}catch(T){}}function h0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lv(n)||"string"==typeof n)KI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Lv(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Lv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function nd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ln(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Eu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Eu(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Eu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ze=Bp.prototype).setTimeout=function(n){this.P=n},ze.gb=function(n){n=n.target;const e=this.L;e&&3==Au(n)?e.l():this.Ia(n)},ze.Ia=function(n){try{if(n==this.g)e:{const N=Au(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||c_||this.g&&(this.h.h||this.g.ga()||bC(this.g)))){this.I||4!=N||7==e||Wh(8==e||0>=M?3:2),C_(this);var t=this.g.ba();this.N=t;t:if(Xc(this)){var r=bC(this.g);n="";var o=r.length,l=4==Au(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){td(this),Hp(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uv(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Bi(12),td(this),Hp(this);break e}qh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,d0(this,t)}this.U?(c0(this,N,h),c_&&this.i&&3==N&&(v_(this.V,this.W,"tick",this.fb),this.W.start())):(qh(this.j,this.m,h,null),d0(this,h)),4==N&&td(this),this.i&&!this.I&&(4==N?C0(this.l,this):(this.i=!1,$p(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),td(this),Hp(this)}}}catch(N){}},ze.fb=function(){if(this.g){var n=Au(this.g),e=this.g.ga();this.C<e.length&&(C_(this),c0(this,n,e),this.i&&4!=n&&$p(this))}},ze.cancel=function(){this.I=!0,td(this)},ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wh(3),Bi(17)),td(this),this.o=2,Hp(this)):ed(this,this.Y-n)},(ze=nd.prototype).R=function(){Ln(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ze.T=function(){return Ln(this),this.g.concat()},ze.get=function(n,e){return Eu(this.h,n)?this.h[n]:e},ze.set=function(n,e){Eu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var fA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Tu){this.g=void 0!==e?e:n.g,f0(this,n.j),this.s=n.s,E_(this,n.i),D_(this,n.m),this.l=n.l,e=n.h;var t=new Zp;t.i=e.i,e.g&&(t.g=new nd(e.g),t.h=e.h),p0(this,t),this.o=n.o}else n&&(t=String(n).match(fA))?(this.g=!!e,f0(this,t[1]||"",!0),this.s=qp(t[2]||""),E_(this,t[3]||"",!0),D_(this,t[4]),this.l=qp(t[5]||"",!0),p0(this,t[6]||"",!0),this.o=qp(t[7]||"")):(this.g=!!e,this.h=new Zp(null,this.g))}function Qo(n){return new Tu(n)}function f0(n,e,t){n.j=t?qp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function E_(n,e,t){n.i=t?qp(e,!0):e}function D_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function p0(n,e,t){e instanceof Zp?(n.h=e,function(n,e){e&&!n.j&&(Ol(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(pC(this,r),mA(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Iu(e,fC)),n.h=new Zp(e,n.g))}function Un(n,e,t){n.h.set(e,t)}function Gp(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Iu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,g0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function g0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Iu(e,m0,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Iu(e,m0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Iu(t,"/"==t.charAt(0)?hC:dC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Iu(t,gA)),n.join("")};var m0=/[#\/\?@]/g,dC=/[#\?:]/g,hC=/[#\?]/g,fC=/[#\?@]/g,gA=/#/g;function Zp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ol(n){n.g||(n.g=new nd,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pC(n,e){Ol(n),e=rd(n,e),Eu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Eu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ln(n)))}function _0(n,e){return Ol(n),e=rd(n,e),Eu(n.g.h,e)}function mA(n,e,t){pC(n,e),0<t.length&&(n.i=null,n.g.set(rd(n,e),z1(t)),n.h+=t.length)}function rd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vA(n){this.l=n||CR,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=Zp.prototype).add=function(n,e){Ol(this),this.i=null,n=rd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ze.forEach=function(n,e){Ol(this),this.g.forEach(function(t,r){KI(t,function(o){n.call(e,o,r,this)},this)},this)},ze.T=function(){Ol(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},ze.R=function(n){Ol(this);var e=[];if("string"==typeof n)_0(this,n)&&(e=JI(e,this.g.get(rd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=JI(e,n[t])}return e},ze.set=function(n,e){return Ol(this),this.i=null,_0(this,n=rd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var CR=10;function T_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gC(n){return n.h?1:n.g?n.g.size:0}function I_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function A_(n,e){n.g?n.g.add(e):n.h=e}function bA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Eo(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return z1(n.i)}function mC(){}function ER(){this.g=new mC}function DR(n,e,t){const r=t||"";try{h0(n,function(o,l){let h=o;Uh(o)&&(h=m_(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Wp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function zh(n){this.l=n.$b||null,this.j=n.ib||!1}function S_(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vA.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mC.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},mC.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},Ui(zh,lC),zh.prototype.g=function(){return new S_(this.l,this.j)},zh.prototype.i=function(n){return function(){return n}}({}),Ui(S_,Wr);var yC=0;function y0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function id(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zp(n)}function zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=S_.prototype).open=function(n,e){if(this.readyState!=yC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zp(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,id(this)),this.readyState=yC},ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;y0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?id(this):zp(this),3==this.readyState&&y0(this)}},ze.Ua=function(n){this.g&&(this.response=this.responseText=n,id(this))},ze.Ta=function(n){this.g&&(this.response=n,id(this))},ze.ha=function(){this.g&&id(this)},ze.setRequestHeader=function(n,e){this.v.append(n,e)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(S_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var v0=Ct.JSON.parse;function Tr(n){Wr.call(this),this.headers=new nd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vC,this.K=this.L=!1}Ui(Tr,Wr);var vC="",wA=/^https?$/i,CA=["POST","PUT"];function DA(n){return"content-type"==n.toLowerCase()}function Yp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sd(n),ws(n)}function sd(n){n.D||(n.D=!0,zr(n,"complete"),zr(n,"error"))}function b0(n){if(n.h&&void 0!==Vh&&(!n.C[1]||4!=Au(n)||2!=n.ba()))if(n.v&&4==Au(n))Xv(n.Fa,0,n);else if(zr(n,"readystatechange"),4==Au(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(fA)[1]||null;if(!o&&Ct.self&&Ct.self.location){var l=Ct.self.location.protocol;o=l.substr(0,l.length-1)}r=!wA.test(o?o.toLowerCase():"")}t=r}if(t)zr(n,"complete"),zr(n,"success");else{n.m=6;try{var h=2<Au(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",sd(n)}}finally{ws(n)}}}function ws(n,e){if(n.g){Yh(n);const t=n.g,r=n.C[0]?Fv:null;n.g=null,n.C=null,e||zr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Yh(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Au(n){return n.g?n.g.readyState:0}function bC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Do(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return a_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function Su(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bi(n){this.za=0,this.l=[],this.h=new Gh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Su("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Su("baseRetryDelayMs",5e3,n),this.$a=Su("retryDelaySeedMs",1e4,n),this.Ya=Su("forwardChannelMaxRetries",2,n),this.ra=Su("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vA(n&&n.concurrentRequestLimit),this.Ca=new ER,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Nu(n){if(Zs(n),3==n.G){var e=n.V++,t=Qo(n.F);Un(t,"SID",n.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),Ua(n,t),(e=new Bp(n,n.h,e,void 0)).K=2,e.v=Gp(Qo(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=I0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$p(e)}D0(n)}function od(n){n.g&&(Fl(n),n.g.cancel(),n.g=null)}function Zs(n){od(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),Jp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function Kp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Mu(n)}function Mu(n){T_(n.i)||n.m||(n.m=!0,Co(n.Ha,n),n.C=0)}function ad(n,e){var t;t=e?e.m:n.V++;const r=Qo(n.F);Un(r,"SID",n.J),Un(r,"RID",t),Un(r,"AID",n.U),Ua(n,r),n.o&&n.s&&Do(r,n.o,n.s),t=new Bp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ud(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),A_(n.i,t),u0(t,r,e)}function Ua(n,e){n.j&&h0({},function(t,r){Un(e,r,t)})}function ud(n,e,t){t=Math.min(n.l.length,t);var r=n.j?yi(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let T=o[b].h;const N=o[b].g;if(T-=l,0>T)l=Math.max(0,o[b].h-100),m=!1;else try{DR(N,h,"req"+T+"_")}catch(M){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ld(n){n.g||n.u||(n.Y=1,Co(n.Ga,n),n.A=0)}function Pl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=kl(yi(n.Ga,n),E0(n,n.A)),n.A++,0))}function Fl(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function cd(n){n.g=new Bp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Qo(n.oa);Un(e,"RID","rpc"),Un(e,"SID",n.J),Un(e,"CI",n.N?"0":"1"),Un(e,"AID",n.U),Ua(n,e),Un(e,"TYPE","xmlhttp"),n.o&&n.s&&Do(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Gp(Qo(e)),t.s=null,t.U=!0,l0(t,n)}function Jp(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function C0(n,e){var t=null;if(n.g==e){Jp(n),Fl(n),n.g=null;var r=2}else{if(!I_(n.i,e))return;t=e.D,bA(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;zr(r=Lp(),new Va(r,t,e,o)),Mu(n)}else ld(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(gC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=kl(yi(n.Ha,n,e),E0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Pl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ll(n,5);break;case 4:Ll(n,10);break;case 3:Ll(n,6);break;default:Ll(n,2)}}function E0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ll(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=yi(n.jb,n);t||(t=new Tu("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||f0(t,"https"),Gp(t)),function(n,e){const t=new Gh;if(Ct.Image){const r=new Image;r.onload=Bh(Wp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bh(Wp,t,r,"TestLoadImage: error",!1,e),r.onabort=Bh(Wp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bh(Wp,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.G=0,n.j&&n.j.va(e),D0(n),Zs(n)}function D0(n){n.G=0,n.I=-1,n.j&&((0!=Eo(n.i).length||0!=n.l.length)&&(n.i.i.length=0,z1(n.l),n.l.length=0),n.j.ua())}function T0(n,e,t){let r=function(n){return n instanceof Tu?Qo(n):new Tu(n,void 0)}(t);if(""!=r.i)e&&E_(r,e+"."+r.i),D_(r,r.m);else{const o=Ct.location;r=function(n,e,t,r){var o=new Tu(null,void 0);return n&&f0(o,n),e&&E_(o,e),t&&D_(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&a_(n.aa,function(o,l){Un(r,l,o)}),t=n.sa,(e=n.D)&&t&&Un(r,e,t),Un(r,"VER",n.ma),Ua(n,r),r}function I0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t&&n.Ba&&!n.qa?new zh({ib:!0}):n.qa)).L=n.H,e}function A0(){}function Qp(){if(Ml&&!(10<=Number($v)))throw Error("Environmental error: no available transport.")}function Ws(n,e){Wr.call(this),this.g=new bi(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Uv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new dd(this)}function S0(n){Qc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wC(){o0.call(this),this.status=1}function dd(n){this.g=n}(ze=Tr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vp.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Vp),this.g.onreadystatechange=yi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Yp(this,l)}n=t||"";const o=new nd(this.headers);r&&h0(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=DA;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Ct.FormData&&n instanceof Ct.FormData,!(0<=YI(CA,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yh(this),0<this.B&&((this.K=function(n){return Ml&&tA()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.pa,this)):this.A=Xv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Yp(this,l)}},ze.pa=function(){void 0!==Vh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zr(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zr(this,"complete"),zr(this,"abort"),ws(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ws(this,!0)),Tr.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?b0(this):this.cb())},ze.cb=function(){b0(this)},ze.ba=function(){try{return 2<Au(this)?this.g.status:-1}catch(n){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),v0(e)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=bi.prototype).ma=8,ze.G=1,ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Bp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=u_(l),bu(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ud(this,o,e),Un(t=Qo(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),Ua(this,t),this.o&&l&&Do(t,this.o,l),A_(this.i,o),this.Ra&&Un(t,"TYPE","init"),this.ja?(Un(t,"$req",e),Un(t,"SID","null"),o.$=!0,u0(o,t,null)):u0(o,t,e),this.G=2}}else 3==this.G&&(n?ad(this,n):0==this.l.length||T_(this.i)||ad(this))},ze.Ga=function(){if(this.u=null,cd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=kl(yi(this.bb,this),n)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bi(10),od(this),cd(this))},ze.ab=function(){null!=this.v&&(this.v=null,od(this),Pl(this),Bi(19))},ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bi(2)):(this.h.info("Failed to ping google.com"),Bi(1))},(ze=A0.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},Qp.prototype.g=function(n,e){return new Ws(n,e)},Ui(Ws,Wr),Ws.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Co(yi(n.hb,n,e))),Bi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=T0(n,null,n.W),Mu(n)},Ws.prototype.close=function(){Nu(this.g)},Ws.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Kp(this.g,e)}else this.v?((e={}).__data__=m_(n),Kp(this.g,e)):Kp(this.g,n)},Ws.prototype.M=function(){this.g.j=null,delete this.j,Nu(this.g),delete this.g,Ws.Z.M.call(this)},Ui(S0,Qc),Ui(wC,o0),Ui(dd,A0),dd.prototype.xa=function(){zr(this.g,"a")},dd.prototype.wa=function(n){zr(this.g,new S0(n))},dd.prototype.va=function(n){zr(this.g,new wC(n))},dd.prototype.ua=function(){zr(this.g,"b")},Qp.prototype.createWebChannel=Qp.prototype.g,Ws.prototype.send=Ws.prototype.u,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,b_.NO_ERROR=0,b_.TIMEOUT=8,b_.HTTP_ERROR=6,uC.COMPLETE="complete",s0.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,Tr.prototype.listenOnce=Tr.prototype.O,Tr.prototype.getLastError=Tr.prototype.La,Tr.prototype.getLastErrorCode=Tr.prototype.Da,Tr.prototype.getStatus=Tr.prototype.ba,Tr.prototype.getResponseJson=Tr.prototype.Qa,Tr.prototype.getResponseText=Tr.prototype.ga,Tr.prototype.send=Tr.prototype.ea;var CC=_i.createWebChannelTransport=function(){return new Qp},TA=_i.getStatEventTarget=function(){return Lp()},EC=_i.ErrorCode=b_,IA=_i.EventType=uC,DC=_i.Event=Zh,TC=_i.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},IC=_i.FetchXmlHttpFactory=zh,N_=_i.WebChannel=s0,AA=_i.XhrIo=Tr;const SA="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let hd="9.6.0";const fd=new zc.Yd("@firebase/firestore");function AC(){return fd.logLevel}function Le(n,...e){if(fd.logLevel<=zc.in.DEBUG){const t=e.map(N0);fd.debug(`Firestore (${hd}): ${n}`,...t)}}function Vr(n,...e){if(fd.logLevel<=zc.in.ERROR){const t=e.map(N0);fd.error(`Firestore (${hd}): ${n}`,...t)}}function Xp(n,...e){if(fd.logLevel<=zc.in.WARN){const t=e.map(N0);fd.warn(`Firestore (${hd}): ${n}`,...t)}}function N0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${hd}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function gt(n,e){n||tt()}function je(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class MA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jh{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let h=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Yr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,de.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},b=T=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Yr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new M0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new wi(e)}}class RA{constructor(e,t,r){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class SC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new RA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(l=o).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),new NC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function RC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zs.I=-1;class xC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=RC(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function Qh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function kC(n){return n+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Kr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function OC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pd{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends pd{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new En(t)}static emptyPath(){return new En([])}}const k0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends pd{construct(e,t,r){return new Ci(e,t,r)}static isValidIdentifier(e){return k0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Re(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class eg{constructor(e){this.fields=e,e.sort(Ci.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Jr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const O0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(gt(!!n),"string"==typeof n){let e=0;const t=O0.exec(n);if(gt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(n.seconds),nanos:Ir(n.nanos)}}function Ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ul(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function ng(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function P0(n){const e=n.mapValue.fields.__previous_value__;return ng(e)?P0(e):e}function M_(n){const e=Ba(n.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}function gd(n){return null==n}function Xh(n){return 0===n&&1/n==-1/0}function R_(n){return"number"==typeof n&&Number.isInteger(n)&&!Xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(En.fromString(e))}static fromName(e){return new nt(En.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new En(e.slice()))}}function Bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ng(n)?4:10:tt()}function To(n,e){const t=Bl(n);if(t!==Bl(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return M_(n).isEqual(M_(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ba(r.timestampValue),h=Ba(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ul(n.bytesValue).isEqual(Ul(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ir(r.geoPointValue.latitude)===Ir(o.geoPointValue.latitude)&&Ir(r.geoPointValue.longitude)===Ir(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ir(r.integerValue)===Ir(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ir(r.doubleValue),h=Ir(o.doubleValue);return l===h?Xh(l)===Xh(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Qh(n.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(OC(l)!==OC(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!To(l[m],h[m])))return!1;return!0}(n,e);default:return tt()}var o}function ef(n,e){return void 0!==(n.values||[]).find(t=>To(t,e))}function jl(n,e){const t=Bl(n),r=Bl(e);if(t!==r)return Jt(t,r);switch(t){case 0:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Ir(o.integerValue||o.doubleValue),m=Ir(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return x_(n.timestampValue,e.timestampValue);case 4:return x_(M_(n),M_(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Ul(o),m=Ul(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const T=Jt(h[b],m[b]);if(0!==T)return T}return Jt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Jt(Ir(o.latitude),Ir(l.latitude));return 0!==h?h:Jt(Ir(o.longitude),Ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const T=jl(h[b],m[b]);if(T)return T}return Jt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},T=Object.keys(b);m.sort(),T.sort();for(let N=0;N<m.length&&N<T.length;++N){const M=Jt(m[N],T[N]);if(0!==M)return M;const V=jl(h[m[N]],b[T[N]]);if(0!==V)return V}return Jt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw tt()}}function x_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=Ba(n),r=Ba(e),o=Jt(t.seconds,r.seconds);return 0!==o?o:Jt(t.nanos,r.nanos)}function k_(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ba(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ul(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=F0(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${F0(r.fields[m])}`;return l+"}"}(n.mapValue):tt();var e}function rg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O_(n){return!!n&&"integerValue"in n}function ig(n){return!!n&&"arrayValue"in n}function L0(n){return!!n&&"nullValue"in n}function PC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sg(n){return!!n&&"mapValue"in n}function tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=Ci.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=tf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());sg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];sg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Vl(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Qr(tf(this.value))}}function og(n){const e=[];return Vl(n.fields,(t,r)=>{const o=new Ci([t]);if(sg(r)){const l=og(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new eg(e)}class Bn{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,kt.min(),Qr.empty(),0)}static newFoundDocument(e,t,r){return new Bn(e,1,t,r,0)}static newNoDocument(e,t){return new Bn(e,2,t,Qr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Qr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class FC{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function V0(n,e=null,t=[],r=[],o=null,l=null,h=null){return new FC(n,e,t,r,o,l,h)}function nf(n){const e=je(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+k_(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=P_(e.startAt)),e.endAt&&(t+="|ub:",t+=P_(e.endAt)),e.R=t}return e.R}function ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!jC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!To(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$C(n.startAt,e.startAt)&&$C(n.endAt,e.endAt)}function ug(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ji extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new xA(e,t,r):"array-contains"===t?new Ur(e,r):"in"===t?new BC(e,r):"not-in"===t?new OA(e,r):"array-contains-any"===t?new PA(e,r):new ji(e,t,r)}static P(e,t,r){return"in"===t?new kA(e,r):new VC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(jl(t,this.value)):null!==t&&Bl(this.value)===Bl(t)&&this.v(jl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xA extends ji{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.v(t)}}class kA extends ji{constructor(e,t){super(e,"in",t),this.keys=UC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VC extends ji{constructor(e,t){super(e,"not-in",t),this.keys=UC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class Ur extends ji{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&ef(t.arrayValue,this.value)}}class BC extends ji{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ef(this.value.arrayValue,t)}}class OA extends ji{constructor(e,t){super(e,"not-in",t)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ef(this.value.arrayValue,t)}}class PA extends ji{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}class rf{constructor(e,t){this.position=e,this.before=t}}function P_(n){return`${n.before?"b":"a"}:${n.position.map(e=>k_(e)).join(",")}`}class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function jC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _d(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?nt.comparator(nt.fromName(h.referenceValue),t.key):jl(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function $C(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!To(n.position[t],e.position[t]))return!1;return!0}class Ru{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function U0(n,e,t,r,o,l,h,m){return new Ru(n,e,t,r,o,l,h,m)}function sf(n){return new Ru(n)}function lg(n){return!gd(n.limit)&&"F"===n.limitType}function B0(n){return!gd(n.limit)&&"L"===n.limitType}function cg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dg(n){for(const e of n.filters)if(e.V())return e.field;return null}function Io(n){return null!==n.collectionGroup}function af(n){const e=je(n);if(null===e.S){e.S=[];const t=dg(e),r=cg(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new md(t)),e.S.push(new md(Ci.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new md(Ci.keyField(),l))}}}return e.S}function Ys(n){const e=je(n);if(!e.D)if("F"===e.limitType)e.D=V0(e.path,e.collectionGroup,af(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of af(e))t.push(new md(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new rf(e.endAt.position,!e.endAt.before):null,o=e.startAt?new rf(e.startAt.position,!e.startAt.before):null;e.D=V0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function Xo(n,e,t){return new Ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function is(n,e){return ag(Ys(n),Ys(e))&&n.limitType===e.limitType}function Ao(n){return`${nf(Ys(n))}|lt:${n.limitType}`}function F_(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${k_(r.value)}`;var r}).join(", ")}]`),gd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+P_(n.startAt)),n.endAt&&(e+=", endAt: "+P_(n.endAt)),`Target(${e})`}(Ys(n))}; limitType=${n.limitType})`}function uf(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):nt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!_d(t.startAt,af(t),r)||t.endAt&&_d(t.endAt,af(t),r)));var t,r}function HC(n){return(e,t)=>{let r=!1;for(const o of af(n)){const l=FA(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function FA(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?jl(m,b):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function GC(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function qC(n){return{integerValue:""+n}}function L_(n,e){return R_(e)?qC(e):GC(n,e)}class $l{constructor(){this._=void 0}}function LA(n,e,t){return n instanceof yd?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Hl?hg(n,e):n instanceof vd?j0(n,e):function(r,o){const l=WC(r,o),h=V_(l)+V_(r.N);return O_(l)&&O_(r.N)?qC(h):GC(r.k,h)}(n,e)}function ZC(n,e,t){return n instanceof Hl?hg(n,e):n instanceof vd?j0(n,e):t}function WC(n,e){return n instanceof bd?O_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class yd extends $l{}class Hl extends $l{constructor(e){super(),this.elements=e}}function hg(n,e){const t=fg(e);for(const r of n.elements)t.some(o=>To(o,r))||t.push(r);return{arrayValue:{values:t}}}class vd extends $l{constructor(e){super(),this.elements=e}}function j0(n,e){let t=fg(e);for(const r of n.elements)t=t.filter(o=>!To(o,r));return{arrayValue:{values:t}}}class bd extends $l{constructor(e,t){super(),this.k=e,this.N=t}}function V_(n){return Ir(n.integerValue||n.doubleValue)}function fg(n){return ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lf{constructor(e,t){this.field=e,this.transform=t}}class YC{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gg{}function KC(n,e,t){n instanceof cf?function(r,o,l){const h=r.value.clone(),m=tE(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Gl?function(r,o,l){if(!pg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=tE(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(eE(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function U_(n,e,t){var o;n instanceof cf?function(r,o,l){if(!pg(r.precondition,o))return;const h=r.value.clone(),m=nE(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(XC(o),h).setHasLocalMutations()}(n,e,t):n instanceof Gl?function(r,o,l){if(!pg(r.precondition,o))return;const h=nE(r.fieldTransforms,l,o),m=o.data;m.setAll(eE(r)),m.setAll(h),o.convertToFoundDocument(XC(o),m).setHasLocalMutations()}(n,e,t):pg(n.precondition,o=e)&&o.convertToNoDocument(kt.min())}function JC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=WC(r.transform,o||null);null!=l&&(null==t&&(t=Qr.empty()),t.set(r.field,l))}return t||null}function QC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Qh(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hl&&r instanceof Hl||t instanceof vd&&r instanceof vd?Qh(t.elements,r.elements,To):t instanceof bd&&r instanceof bd?To(t.N,r.N):t instanceof yd&&r instanceof yd);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function XC(n){return n.isFoundDocument()?n.version:kt.min()}class cf extends gg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Gl extends gg{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function eE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tE(n,e,t){const r=new Map;gt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,ZC(h,m,t[o]))}return r}function nE(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,LA(l,h,e))}return r}class mg extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class $0 extends gg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class VA{constructor(e){this.count=e}}var Ar,rn;function rE(n){switch(n){default:return tt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function iE(n){if(void 0===n)return Vr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Ar.OK:return me.OK;case Ar.CANCELLED:return me.CANCELLED;case Ar.UNKNOWN:return me.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return me.INTERNAL;case Ar.UNAVAILABLE:return me.UNAVAILABLE;case Ar.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Ar.NOT_FOUND:return me.NOT_FOUND;case Ar.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Ar.ABORTED:return me.ABORTED;case Ar.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Ar.DATA_LOSS:return me.DATA_LOSS;default:return tt()}}(rn=Ar||(Ar={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class Br{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new Br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new B_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new B_(this.root,e,this.comparator,!1)}getReverseIterator(){return new B_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new B_(this.root,e,this.comparator,!0)}}class B_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Ei.RED,this.left=null!=o?o:Ei.EMPTY,this.right=null!=l?l:Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Ei(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ei.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const sE=new Br(nt.comparator);function Ks(){return sE}const oE=new Br(nt.comparator);function j_(){return oE}const aE=new Br(nt.comparator);function G0(){return aE}const uE=new rr(nt.comparator);function vn(...n){let e=uE;for(const t of n)e=e.add(t);return e}const lE=new rr(Jt);function ja(){return lE}class _g{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,t)),new _g(kt.min(),r,ja(),Ks(),vn())}}class yg{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yg(Jr.EMPTY_BYTE_STRING,t,vn(),vn(),vn())}}class xu{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.F=o}}class UA{constructor(e,t){this.targetId=e,this.O=t}}class $_{constructor(e,t,r=Jr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class BA{constructor(){this.M=0,this.L=jA(),this.B=Jr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=vn(),t=vn(),r=vn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:tt()}}),new yg(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=jA()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class cE{constructor(e){this.et=e,this.nt=new Map,this.st=Ks(),this.it=q0(),this.rt=new rr(Jt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.O.count,o=this.wt(t);if(o){const l=o.target;if(ug(l))if(0===r){const h=new nt(l.path);this.ct(t,h,Bn.newNoDocument(h,kt.min()))}else gt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&ug(m.target)){const b=new nt(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Bn.newNoDocument(b,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=vn();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const T=this.wt(b);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new _g(e,t,this.rt,this.st,r);return this.st=Ks(),this.it=q0(),this.rt=new rr(Jt),o}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new BA,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new rr(Jt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new BA),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function q0(){return new Br(nt.comparator)}function jA(){return new Br(nt.comparator)}const ft={asc:"ASCENDING",desc:"DESCENDING"},$A={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class HA{constructor(e,t){this.databaseId=e,this.C=t}}function vg(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bg(n,e){return n.C?e.toBase64():e.toUint8Array()}function GA(n,e){return vg(n,e.toTimestamp())}function yr(n){return gt(!!n),kt.fromTimestamp(function(e){const t=Ba(e);return new Kr(t.seconds,t.nanos)}(n))}function df(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ir(n){const e=En.fromString(n);return gt(J0(e)),e}function H_(n,e){return df(n.databaseId,e.path)}function ea(n,e){const t=ir(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(Z0(t))}function wg(n,e){return df(n.databaseId,e)}function dE(n){const e=ir(n);return 4===e.length?En.emptyPath():Z0(e)}function hf(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z0(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function W0(n,e,t){return{name:H_(n,e),fields:t.value.mapValue.fields}}function z0(n,e,t){const r=ea(n,e.name),o=yr(e.updateTime),l=new Qr({mapValue:{fields:e.fields}}),h=Bn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function G_(n,e){let t;if(e instanceof cf)t={update:W0(n,e.key,e.value)};else if(e instanceof mg)t={delete:H_(n,e.key)};else if(e instanceof Gl)t={update:W0(n,e.key,e.data),updateMask:_E(e.fieldMask)};else{if(!(e instanceof $0))return tt();t={verify:H_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof yd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bd)return{fieldPath:l.field.canonicalString(),increment:h.N};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:GA(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:tt()),t;var o}function ff(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?_r.updateTime(yr(o.updateTime)):void 0!==o.exists?_r.exists(o.exists):_r.none():_r.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(gt("REQUEST_TIME"===h.setToServerValue),m=new yd):"appendMissingElements"in h?m=new Hl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new vd(h.removeAllFromArray.values||[]):"increment"in h?m=new bd(l,h.increment):tt();const b=Ci.fromServerFormat(h.fieldPath);return new lf(b,m)}(n,o)):[];var o;if(e.update){const o=ea(n,e.update.name),l=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new eg((e.updateMask.fieldPaths||[]).map(T=>Ci.fromServerFormat(T)));return new Gl(o,l,h,t,r)}return new cf(o,l,t,r)}if(e.delete){const o=ea(n,e.delete);return new mg(o,t)}if(e.verify){const o=ea(n,e.verify);return new $0(o,t)}return tt()}function hE(n,e){return{documents:[wg(n,e.path)]}}function fE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(T=>function(N){if("=="===N.op){if(PC(N.value))return{unaryFilter:{field:pf(N.field),op:"IS_NAN"}};if(L0(N.value))return{unaryFilter:{field:pf(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(PC(N.value))return{unaryFilter:{field:pf(N.field),op:"IS_NOT_NAN"}};if(L0(N.value))return{unaryFilter:{field:pf(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(N.field),op:Dg(N.op),value:N.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:pf((T=b).field),direction:Eg(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(b=e.limit,n.C||gd(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=K0(e.startAt)),e.endAt&&(t.structuredQuery.endAt=K0(e.endAt)),t}function Cg(n){let e=dE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){gt(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=Y0(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new md(gf((M=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(N){let M;return M="object"==typeof N?N.value:N,gd(M)?null:M}(t.limit));let b=null;t.startAt&&(b=gE(t.startAt));let T=null;return t.endAt&&(T=gE(t.endAt)),U0(e,o,h,l,m,"F",b,T)}function Y0(n){return n?void 0!==n.unaryFilter?[mE(n)]:void 0!==n.fieldFilter?[zA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Y0(e)).reduce((e,t)=>e.concat(t)):tt():[]}function K0(n){return{before:n.before,values:n.position}}function gE(n){return new rf(n.values||[],!!n.before)}function Eg(n){return ft[n]}function Dg(n){return $A[n]}function pf(n){return{fieldPath:n.canonicalString()}}function gf(n){return Ci.fromServerFormat(n.fieldPath)}function zA(n){return ji.create(gf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function mE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=gf(n.unaryFilter.field);return ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=gf(n.unaryFilter.field);return ji.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gf(n.unaryFilter.field);return ji.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gf(n.unaryFilter.field);return ji.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function _E(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ta(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vE(e)),e=yE(n.get(t),e);return vE(e)}function yE(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function vE(n){return n+"\x01\x01"}function ku(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&tt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:tt()}l=h+2}return new En(r)}class SR{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class So{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}So.store="owner",So.key="owner";class wd{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}wd.store="mutationQueues",wd.keyPath="userId";class Kn{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Kn.store="mutations",Kn.keyPath="batchId",Kn.userMutationsIndex="userMutationsIndex",Kn.userMutationsKeyPath=["userId","batchId"];class Di{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ta(t)]}static key(e,t,r){return[e,ta(t),r]}}Di.store="documentMutations",Di.PLACEHOLDER=new Di;class q_{constructor(e,t){this.path=e,this.readTime=t}}class YA{constructor(e,t){this.path=e,this.version=t}}class lr{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}lr.store="remoteDocuments",lr.readTimeIndex="readTimeIndex",lr.readTimeIndexPath="readTime",lr.collectionReadTimeIndex="collectionReadTimeIndex",lr.collectionReadTimeIndexPath=["parentPath","readTime"];class na{constructor(e){this.byteSize=e}}na.store="remoteDocumentGlobal",na.key="remoteDocumentGlobalKey";class Xr{constructor(e,t,r,o,l,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Xr.store="targets",Xr.keyPath="targetId",Xr.queryTargetsIndexName="queryTargetsIndex",Xr.queryTargetsKeyPath=["canonicalId","targetId"];class Ti{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ti.store="targetDocuments",Ti.keyPath=["targetId","path"],Ti.documentTargetsIndex="documentTargetsIndex",Ti.documentTargetsKeyPath=["path","targetId"];class Js{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Js.key="targetGlobalKey",Js.store="targetGlobal";class Cd{constructor(e,t){this.collectionId=e,this.parent=t}}Cd.store="collectionParents",Cd.keyPath=["collectionId","parent"];class Ou{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Ou.store="clientMetadata",Ou.keyPath="clientId";class mf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}mf.store="bundles",mf.keyPath="bundleId";class Ed{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Ed.store="namedQueries",Ed.keyPath="name";const KA=[wd.store,Kn.store,Di.store,lr.store,Xr.store,So.store,Js.store,Ti.store,Ou.store,na.store,Cd.store,mf.store,Ed.store],bE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},b=>r(b))}),h=!0,l===o&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(o=>o?Se.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Tg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Yr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Ig(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=Z_(r.target.error);this.It.reject(new Ig(e,o))}}static open(e,t,r,o){try{return new Tg(t,e.transaction(o,r))}catch(l){throw new Ig(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new JA(t)}}class ra{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===ra.Pt((0,bt.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Pu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,bt.hl)())return!1;if(ra.vt())return!0;const e=(0,bt.z$)(),t=ra.Pt(e),r=0<t&&t<10,o=ra.Vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,de.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Ig(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Re(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Re(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Ig(e,m))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,de.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Ct(e);const b=Tg.open(l.db,e,h?"readonly":"readwrite",r),T=o(b).catch(N=>(b.abort(N),Se.reject(N))).toPromise();return T.catch(()=>{}),yield b.At,T}catch(b){const T="FirebaseError"!==b.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),l.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wE{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Pu(this.$t.delete())}}class Ig extends Re{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ql(n){return"IndexedDbTransactionError"===n.name}class JA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pu(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Pu(this.store.add(e))}get(e){return Pu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Pu(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Pu(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Se((r,o)=>{t.onerror=l=>{const h=Z_(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Se((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new wE(m),T=t(m.primaryKey,m.value,b);if(T instanceof Se){const N=T.catch(M=>(b.done(),Se.reject(M)));r.push(N)}b.isDone?o():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pu(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Z_(r.target.error);t(o)}})}let CE=!1;function Z_(n){const e=ra.Pt((0,bt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CE||(CE=!0,setTimeout(()=>{throw r},0)),r}}return n}class Q0 extends Dd{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Cs(n,e){const t=je(n);return ra.Dt(t.Wt,e)}class X0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&KC(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&U_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&U_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&Qh(this.mutations,e.mutations,(t,r)=>QC(t,r))&&Qh(this.baseMutations,e.baseMutations,(t,r)=>QC(t,r))}}class eb{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){gt(e.mutations.length===r.length);let o=G0();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new eb(e,t,r,o)}}class $a{constructor(e,t,r,o,l=kt.min(),h=kt.min(),m=Jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class EE{constructor(e){this.Gt=e}}function W_(n,e){if(e.document)return z0(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=nt.fromSegments(e.noDocument.path),r=yf(e.noDocument.readTime),o=Bn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=nt.fromSegments(e.unknownDocument.path),r=yf(e.unknownDocument.version);return Bn.newUnknownDocument(t,r)}return tt()}function DE(n,e,t){const r=tb(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:H_(m=n.Gt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:vg(m,b.version.toTimestamp())};return new lr(null,null,l,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const l=e.key.path.toArray(),h=_f(e.version),m=e.hasCommittedMutations;return new lr(null,new q_(l,h),null,m,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=_f(e.version);return new lr(new YA(l,h),null,null,!0,r,o)}return tt()}function tb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function TE(n){const e=new Kr(n[0],n[1]);return kt.fromTimestamp(e)}function _f(n){const e=n.toTimestamp();return new SR(e.seconds,e.nanoseconds)}function yf(n){const e=new Kr(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function vf(n,e){const t=(e.baseMutations||[]).map(l=>ff(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>ff(n.Gt,l)),o=Kr.fromMillis(e.localWriteTimeMs);return new X0(e.batchId,o,t,r)}function Ag(n){const e=yf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?yf(n.lastLimboFreeSnapshotVersion):kt.min();let r;var o;return void 0!==n.query.documents?(gt(1===(o=n.query).documents.length),r=Ys(sf(dE(o.documents[0])))):r=Ys(Cg(n.query)),new $a(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Jr.fromBase64String(n.resumeToken))}function IE(n,e){const t=_f(e.snapshotVersion),r=_f(e.lastLimboFreeSnapshotVersion);let o;o=ug(e.target)?hE(n.Gt,e.target):fE(n.Gt,e.target);const l=e.resumeToken.toBase64();return new Xr(e.targetId,nf(e.target),t,l,e.sequenceNumber,r,o)}function z_(n){const e=Cg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xo(e,e.limit,"L"):e}class AE{getBundleMetadata(e,t){return nb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:yf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return nb(e).put({bundleId:(r=t).id,createTime:_f(yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return SE(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:z_(o.bundledQuery),readTime:yf(o.readTime)};var o})}saveNamedQuery(e,t){return SE(e).put({name:(r=t).name,readTime:_f(yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nb(n){return Cs(n,mf.store)}function SE(n){return Cs(n,Ed.store)}class rb{constructor(){this.zt=new Y_}addToCollectionParentIndex(e,t){return this.zt.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.zt.getEntries(t))}}class Y_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new rr(En.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new rr(En.comparator)).toArray()}}class QA{constructor(){this.Ht=new Y_}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:ta(o)};return NE(e).put(l)}return Se.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[kC(t),""],!1,!0);return NE(e).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(ku(h.parent))}return r})}}function NE(n){return Cs(n,Cd.store)}const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ib(n,e,t){const r=n.store(Kn.store),o=n.store(Di.store),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.jt({range:h},(N,M,V)=>(m++,V.delete()));l.push(b.next(()=>{gt(1===m)}));const T=[];for(const N of t.mutations){const M=Di.key(e,N.key.path,t.batchId);l.push(o.delete(M)),T.push(N.key)}return Se.waitFor(l).next(()=>T)}function bf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class sb{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new sb(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).jt({index:Kn.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=wf(e),h=Ha(e);return h.add({}).next(m=>{gt("number"==typeof m);const b=new X0(m,t,r,o),T=function(V,$,re){const ye=re.baseMutations.map(it=>G_(V.Gt,it)),Ae=re.mutations.map(it=>G_(V.Gt,it));return new Kn($,re.batchId,re.localWriteTime.toMillis(),ye,Ae)}(this.k,this.userId,b),N=[];let M=new rr((V,$)=>Jt(V.canonicalString(),$.canonicalString()));for(const V of o){const $=Di.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),N.push(h.put(T)),N.push(l.put($,Di.PLACEHOLDER))}return M.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Se.waitFor(N).next(()=>b)})}lookupMutationBatch(e,t){return Ha(e).get(t).next(r=>r?(gt(r.userId===this.userId),vf(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Se.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ha(e).jt({index:Kn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(gt(m.batchId>=r),l=vf(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ha(e).jt({index:Kn.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).Bt(Kn.userMutationsIndex,t).next(r=>r.map(o=>vf(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Di.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return wf(e).jt({range:o},(h,m,b)=>{const[T,N,M]=h,V=ku(N);if(T===this.userId&&t.path.isEqual(V))return Ha(e).get(M).next($=>{if(!$)throw tt();gt($.userId===this.userId),l.push(vf(this.k,$))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Jt);const o=[];return t.forEach(l=>{const h=Di.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=wf(e).jt({range:m},(T,N,M)=>{const[V,$,re]=T,ye=ku($);V===this.userId&&l.path.isEqual(ye)?r=r.add(re):M.done()});o.push(b)}),Se.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Di.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new rr(Jt);return wf(e).jt({range:h},(b,T,N)=>{const[M,V,$]=b,re=ku(V);M===this.userId&&r.isPrefixOf(re)?re.length===o&&(m=m.add($)):N.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Ha(e).get(l).next(h=>{if(null===h)throw tt();gt(h.userId===this.userId),r.push(vf(this.k,h))}))}),Se.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return ib(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Se.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound(Di.prefixForUser(this.userId)),o=[];return wf(e).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=ku(l[1]);o.push(b)}else m.done()}).next(()=>{gt(0===o.length)})})}containsKey(e,t){return ME(e,this.userId,t)}ne(e){return ob(e).get(this.userId).next(t=>t||new wd(this.userId,-1,""))}}function ME(n,e,t){const r=Di.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return wf(n).jt({range:l,Kt:!0},(m,b,T)=>{const[N,M,V]=m;N===e&&M===o&&(h=!0),T.done()}).next(()=>h)}function Ha(n){return Cs(n,Kn.store)}function wf(n){return Cs(n,Di.store)}function ob(n){return Cs(n,wd.store)}class Td{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Td(0)}static re(){return new Td(-1)}}class RE{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new Td(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>kt.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ae(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Id(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Id(e).jt((h,m)=>{const b=Ag(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>Se.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Id(e).jt((r,o)=>{const l=Ag(o);t(l)})}oe(e){return ab(e).get(Js.key).next(t=>(gt(null!==t),t))}ae(e,t){return ab(e).put(Js.key,t)}ce(e,t){return Id(e).put(IE(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=nf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Id(e).jt({range:o,index:Xr.queryTargetsIndexName},(h,m,b)=>{const T=Ag(m);ag(t,T.target)&&(l=T,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Ad(e);return t.forEach(h=>{const m=ta(h.path);o.push(l.put(new Ti(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Se.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ad(e);return Se.forEach(t,l=>{const h=ta(l.path);return Se.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ad(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ad(e);let l=vn();return o.jt({range:r,Kt:!0},(h,m,b)=>{const T=ku(h[1]),N=new nt(T);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=ta(t.path),o=IDBKeyRange.bound([r],[kC(r)],!1,!0);let l=0;return Ad(e).jt({index:Ti.documentTargetsIndex,Kt:!0,range:o},([h,m],b,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Et(e,t){return Id(e).get(t).next(r=>r?Ag(r):null)}}function Id(n){return Cs(n,Xr.store)}function ab(n){return Cs(n,Js.store)}function Ad(n){return Cs(n,Ti.store)}function Sd(n){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,de.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==bE)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function XA([n,e],[t,r]){const o=Jt(n,t);return 0===o?Jt(e,r):o}class ub{constructor(e){this.he=e,this.buffer=new rr(XA),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();XA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class J_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,de.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ql(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Sd(o)}yield t.me(e)}))}}class eS{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(zs.I);const r=new ub(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(K_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,l,h,m,b,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,h=Date.now(),this.nthSequenceNumber(e,o))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),AC()<=zc.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(T-b)+`ms\nTotal Duration: ${T-N}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:M})))}}class Cf{constructor(e,t){this.db=e,this.garbageCollector=new eS(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return Q_(e,r)}removeReference(e,t,r){return Q_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Q_(e,t)}Ae(e,t){return function(r,o){let l=!1;return ob(r).Qt(h=>ME(r,h,o).next(m=>(m&&(l=!0),Se.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(e,(h,m)=>{if(m<=t){const b=this.Ae(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Ad(e).delete([0,ta(h.path)])))});o.push(b)}}).next(()=>Se.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Q_(e,t)}Ie(e,t){const r=Ad(e);let o,l=zs.I;return r.jt({index:Ti.documentTargetsIndex},([h,m],{path:b,sequenceNumber:T})=>{0===h?(l!==zs.I&&t(new nt(ku(o)),l),l=T,o=b):l=zs.I}).next(()=>{l!==zs.I&&t(new nt(ku(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Q_(n,e){return Ad(n).put((r=n.currentSequenceNumber,new Ti(0,ta(e.path),r)));var r}class Sg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Vl(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return x0(this.inner)}}class xE{constructor(){this.changes=new Sg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:kt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ga{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return ia(e).put(X_(t),r)}removeEntry(e,t){const r=ia(e),o=X_(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return ia(e).get(X_(t)).next(r=>this.Pe(t,r))}be(e,t){return ia(e).get(X_(t)).next(r=>({document:this.Pe(t,r),size:bf(r)}))}getEntries(e,t){let r=Ks();return this.ve(e,t,(o,l)=>{const h=this.Pe(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=Ks(),o=new Br(nt.comparator);return this.ve(e,t,(l,h)=>{const m=this.Pe(l,h);r=r.insert(l,m),o=o.insert(l,bf(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Se.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return ia(e).jt({range:o},(m,b,T)=>{const N=nt.fromSegments(m);for(;h&&nt.comparator(h,N)<0;)r(h,null),h=l.getNext();h&&h.isEqual(N)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Ks();const l=t.path.length+1,h={};if(r.isEqual(kt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=tb(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=lr.collectionReadTimeIndex}return ia(e).jt(h,(m,b,T)=>{if(m.length!==l)return;const N=W_(this.k,b);t.path.isPrefixOf(N.key.path)?uf(t,N)&&(o=o.insert(N.key,N)):T.done()}).next(()=>o)}newChangeBuffer(e){return new kE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tS(e).get(na.key).next(t=>(gt(!!t),t))}Re(e,t){return tS(e).put(na.key,t)}Pe(e,t){if(t){const r=W_(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return Bn.newInvalidDocument(e)}}class kE extends xE{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Sg(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new rr((l,h)=>Jt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=DE(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=bf(b)-m,t.push(this.De.addEntry(e,l,b))}else if(r-=m,this.trackRemovals){const b=DE(this.De.k,Bn.newNoDocument(l,kt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,b))}else t.push(this.De.removeEntry(e,l))}),o.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function tS(n){return Cs(n,na.store)}function ia(n){return Cs(n,lr.store)}function X_(n){return n.path.toArray()}class nS{constructor(e){this.k=e}Nt(e,t,r,o){gt(r<o&&r>=0&&o<=11);const l=new Tg("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(So.store),(m=e).createObjectStore(wd.store,{keyPath:wd.keyPath}),m.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Di.store),rS(e),function(m){m.createObjectStore(lr.store)}(e));let h=Se.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Ti.store),m.deleteObjectStore(Xr.store),m.deleteObjectStore(Js.store)}(e),rS(e)),h=h.next(()=>function(m){const b=m.store(Js.store),T=new Js(0,0,kt.min().toTimestamp(),0);return b.put(Js.key,T)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(Kn.store).Bt().next(T=>{m.deleteObjectStore(Kn.store),m.createObjectStore(Kn.store,{keyPath:Kn.keyPath,autoIncrement:!0}).createIndex(Kn.userMutationsIndex,Kn.userMutationsKeyPath,{unique:!0});const N=b.store(Kn.store),M=T.map(V=>N.put(V));return Se.waitFor(M)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(na.store)}(e),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(lr.store);b.createIndex(lr.readTimeIndex,lr.readTimeIndexPath,{unique:!1}),b.createIndex(lr.collectionReadTimeIndex,lr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Fe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(mf.store,{keyPath:mf.keyPath})})(e),function(m){m.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(e)})),h}ke(e){let t=0;return e.store(lr.store).jt((r,o)=>{t+=bf(o)}).next(()=>{const r=new na(t);return e.store(na.store).put(na.key,r)})}Ne(e){const t=e.store(wd.store),r=e.store(Kn.store);return t.Bt().next(o=>Se.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(Kn.userMutationsIndex,h).next(m=>Se.forEach(m,b=>{gt(b.userId===l.userId);const T=vf(this.k,b);return ib(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(Ti.store),r=e.store(lr.store);return e.store(Js.store).get(Js.key).next(o=>{const l=[];return r.jt((h,m)=>{const b=new En(h),T=[0,ta(b)];l.push(t.get(T).next(N=>N?Se.resolve():t.put(new Ti(0,ta(b),o.highestListenSequenceNumber))))}).next(()=>Se.waitFor(l))})}$e(e,t){e.createObjectStore(Cd.store,{keyPath:Cd.keyPath});const r=t.store(Cd.store),o=new Y_,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:ta(b)})}};return t.store(lr.store).jt({Kt:!0},(h,m)=>{const b=new En(h);return l(b.popLast())}).next(()=>t.store(Di.store).jt({Kt:!0},([h,m,b],T)=>{const N=ku(m);return l(N.popLast())}))}Fe(e){const t=e.store(Xr.store);return t.jt((r,o)=>{const l=Ag(o),h=IE(this.k,l);return t.put(h)})}}function rS(n){n.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.documentTargetsIndex,Ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Xr.store,{keyPath:Xr.keyPath}).createIndex(Xr.queryTargetsIndexName,Xr.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Js.store)}const lb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cb{constructor(e,t,r,o,l,h,m,b,T,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Me=T,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!cb.bt())throw new Re(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cf(this,o),this.Ge=t+"main",this.k=new EE(b),this.ze=new ra(this.Ge,11,new nS(this.k)),this.He=new RE(this.referenceDelegate,this.k),this.Jt=new QA,this.Je=new Ga(this.k,this.Jt),this.Ye=new AE,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,lb);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new zs(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,de.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,de.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ef(e).put(new Ou(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(ql(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Ng(e).get(So.key).next(t=>Se.resolve(this.un(t)))}hn(e){return Ef(e).delete(this.clientId)}ln(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Cs(r,Ou.store);return o.Bt().next(l=>{const h=e.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Se.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Se.resolve(!0):Ng(e).get(So.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,lb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ef(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[So.store,Ou.store],t=>{const r=new Q0(t,zs.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Ef(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return sb.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Le("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",KA,h=>(l=new Q0(h,this.Be?this.Be.next():zs.I),"readwrite-primary"===t?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Re(me.FAILED_PRECONDITION,bE);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return Ng(e).get(So.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(me.FAILED_PRECONDITION,lb)})}cn(e){const t=new So(this.clientId,this.allowTabSynchronization,Date.now());return Ng(e).put(So.key,t)}static bt(){return ra.bt()}an(e){const t=Ng(e);return t.get(So.key).next(r=>this.un(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(So.key)):Se.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ng(n){return Cs(n,So.store)}function Ef(n){return Cs(n,Ou.store)}function ey(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class db{constructor(e,t){this.progress=e,this.In=t}}class hb{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):Io(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new nt(t)).next(r=>{let o=j_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let l=j_();return this.Jt.getCollectionParents(e,o).next(h=>Se.forEach(h,m=>{const b=(T=t,N=m.child(o),new Ru(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Cn(e,b,r).next(T=>{T.forEach((N,M)=>{l=l.insert(N,M)})})}).next(()=>l))}Cn(e,t,r){let o,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,o).next(m=>{o=m;for(const b of l)for(const T of b.mutations){const N=T.key;let M=o.get(N);null==M&&(M=Bn.newInvalidDocument(N),o=o.insert(N,M)),U_(T,M,b.localWriteTime),M.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((h,m)=>{uf(t,m)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=vn();for(const h of t)for(const m of h.mutations)m instanceof Gl&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class fb{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=vn(),o=vn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new fb(e,t.fromCache,r,o)}}class iS{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(kt.min())?this.Mn(e,t):this.On.vn(e,o).next(l=>{const h=this.Ln(t,l);return(lg(t)||B0(t))&&this.Bn(t.limitType,h,o,r)?this.Mn(e,t):(AC()<=zc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),F_(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(e,t){let r=new rr(HC(e));return t.forEach((o,l)=>{uf(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Mn(e,t){return AC()<=zc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",F_(t)),this.On.getDocumentsMatchingQuery(e,t,kt.min())}}class sS{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new Br(Jt),this.Kn=new Sg(l=>nf(l),ag),this.jn=kt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new hb(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function OE(n,e,t,r){return new sS(n,e,t,r)}function PE(n,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,de.Z)(function*(n,e){const t=je(n);let r=t.An,o=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new hb(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const T=[],N=[];let M=vn();for(const V of m){T.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}for(const V of b){N.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}return o.vn(h,M).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:N}))})});return t.An=r,t.Wn=o,t.Un.Fn(t.Wn),l})).apply(this,arguments)}function FE(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,T){const N=b.batch,M=N.keys();let V=Se.resolve();return M.forEach($=>{V=V.next(()=>T.getEntry(m,$)).next(re=>{const ye=b.docVersions.get($);gt(null!==ye),re.version.compareTo(ye)<0&&(N.applyToRemoteDocument(re,b),re.isValidDocument()&&T.addEntry(re,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function pb(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function oS(n,e){const t=je(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((T,N)=>{const M=o.get(N);if(!M)return;m.push(t.He.removeMatchingKeys(l,T.removedDocuments,N).next(()=>t.He.addMatchingKeys(l,T.addedDocuments,N)));const V=T.resumeToken;if(V.approximateByteSize()>0){const $=M.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(N,$),re=M,Ae=T,gt((ye=$).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&m.push(t.He.updateTargetData(l,$))}var re,ye,Ae});let b=Ks();if(e.documentUpdates.forEach((T,N)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(LE(l,h,e.documentUpdates,r,void 0).next(T=>{b=T})),!r.isEqual(kt.min())){const T=t.He.getLastRemoteSnapshotVersion(l).next(N=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(T)}return Se.waitFor(m).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,b)).next(()=>b)}).then(l=>(t.qn=o,l))}function LE(n,e,t,r,o){let l=vn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let m=Ks();return t.forEach((b,T)=>{const N=h.get(b),M=(null==o?void 0:o.get(b))||r;T.isNoDocument()&&T.version.isEqual(kt.min())?(e.removeEntry(b,M),m=m.insert(b,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(T,M),m=m.insert(b,T)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",T.version)}),m})}function VE(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Fu(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(l=>l?(o=l,Se.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new $a(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Df(n,e,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,de.Z)(function*(n,e,t){const r=je(n),o=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ql(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function Nd(n,e,t){const r=je(n);let o=kt.min(),l=vn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,T){const N=je(m),M=N.Kn.get(T);return void 0!==M?Se.resolve(N.qn.get(M)):N.He.getTargetData(b,T)}(r,h,Ys(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:kt.min(),t?l:vn())).next(m=>({documents:m,zn:l})))}function Mg(n,e){const t=je(n),r=je(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function Tf(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=je(r);let m=Ks(),b=tb(l);const T=ia(o),N=IDBKeyRange.lowerBound(b,!0);return T.jt({index:lr.readTimeIndex,range:N},(M,V)=>{const $=W_(h.k,V);m=m.insert($.key,$),b=V.readTime}).next(()=>({In:m,readTime:TE(b)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function gb(){return(gb=(0,de.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=ia(r);let l=kt.min();return o.jt({index:lr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=TE(m.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function mb(){return(mb=(0,de.Z)(function*(n,e,t,r){const o=je(n);let l=vn(),h=Ks(),m=G0();for(const N of t){const M=e.Hn(N.metadata.name);N.document&&(l=l.add(M)),h=h.insert(M,e.Jn(N)),m=m.insert(M,e.Yn(N.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Fu(o,(N=r,Ys(sf(En.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>LE(N,b,h,kt.min(),m).next(M=>(b.apply(N),M)).next(M=>o.He.removeMatchingKeysForTargetId(N,T.targetId).next(()=>o.He.addMatchingKeys(N,l,T.targetId)).next(()=>o.Wn.Vn(N,M)).next(()=>M)))})).apply(this,arguments)}function uS(n,e){return _b.apply(this,arguments)}function _b(){return(_b=(0,de.Z)(function*(n,e,t=vn()){const r=yield Fu(n,Ys(z_(e.bundledQuery))),o=je(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=yr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,e);const m=r.withResumeToken(Jr.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class lS{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Se.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:yr(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:z_(r.bundledQuery),readTime:yr(r.readTime)}),Se.resolve();var r}}class yb{constructor(){this.ts=new rr(ei.es),this.ns=new rr(ei.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new ei(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new ei(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new nt(new En([])),r=new ei(t,e),o=new ei(t,e+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new nt(new En([])),r=new ei(t,e),o=new ei(t,e+1);let l=vn();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new ei(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ei{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return nt.comparator(e.key,t.key)||Jt(e.fs,t.fs)}static ss(e,t){return Jt(e.fs,t.fs)||nt.comparator(e.key,t.key)}}class cS{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new rr(ei.es)}checkEmpty(e){return Se.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const l=this.ds;this.ds++;const h=new X0(l,t,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new ei(m.key,l)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,t){return Se.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),l=o<0?0:o;return Se.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Se.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ei(t,0),o=new ei(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),Se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Jt);return t.forEach(o=>{const l=new ei(o,0),h=new ei(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Se.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;nt.isDocumentKey(l)||(l=l.child(""));const h=new ei(new nt(l),0);let m=new rr(Jt);return this.ws.forEachWhile(b=>{const T=b.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(b.fs)),!0)},h),Se.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){gt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Se.forEach(t.mutations,o=>{const l=new ei(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new ei(t,0),o=this.ws.firstAfterOrEqual(r);return Se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Se.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class dS{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Br(nt.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.clone():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():Bn.newInvalidDocument(o))}),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Ks();const l=new nt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||uf(t,b)&&(o=o.insert(b.key,b.clone()))}return Se.resolve(o)}Es(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hS(this)}getSize(e){return Se.resolve(this.size)}}class hS extends xE{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class MR{constructor(e){this.persistence=e,this.Is=new Sg(t=>nf(t),ag),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.As=0,this.Rs=new yb,this.targetCount=0,this.Ps=Td.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Se.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Td(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.ce(t),Se.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Se.waitFor(l).next(()=>o)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.Rs.containsKey(t))}}class fS{constructor(e,t){this.bs={},this.Be=new zs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new MR(this),this.Jt=new rb,this.Je=new dS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new EE(t),this.Ye=new lS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new cS(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const o=new Rg(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(e,t){return Se.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Rg extends Dd{constructor(e){super(),this.currentSequenceNumber=e}}class vb{constructor(e){this.persistence=e,this.Cs=new yb,this.Ns=null}static ks(e){return new vb(e)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,r=>{const o=nt.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Se.or([()=>Se.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function UE(n,e){return`firestore_clients_${n}_${e}`}function BE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function If(n,e){return`firestore_targets_${n}_${e}`}class qa{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Fs(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Re(o.error.code,o.error.message))),h?new qa(e,t,o.state,l):(Vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Af{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Re(r.error.code,r.error.message))),l?new Af(e,r.state,o):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ry{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=ja();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=R_(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new ry(e,l):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jE{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jE(t.clientId,t.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bb{constructor(){this.activeTargetIds=ja()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sf{constructor(e,t,r,o,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Br(Jt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=UE(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new bb),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const l=e.getItem(UE(e.persistenceKey,o));if(l){const h=ry.Fs(o,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(If(this.persistenceKey,e));if(r){const o=Af.Fs(e,r);o&&(t=o.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(If(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(l){let h=zs.I;if(null!=l)try{const m=JSON.parse(l);gt("number"==typeof m),h=m}catch(m){Vr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==zs.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const o=new qa(this.currentUser,e,t,r),l=BE(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Os())}si(e){const t=BE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=If(this.persistenceKey,e),l=new Af(e,t,r);this.setItem(o,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return ry.Fs(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return qa.Fs(new wi(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return Af.Fs(o,t)}Zs(e){return jE.Fs(e)}fi(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=ja();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class $E{constructor(){this.pi=new bb,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new bb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class pS{Ei(e){}shutdown(){}}class wb{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Cb{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class GE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,l){const h=this.Ui(e,t);Le("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(e,h,m,r).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw Xp("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}ji(e,t,r,o,l){return this.Bi(e,t,r,o,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Ui(e,t){return`${this.Mi}/v1/${t}:${HE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((l,h)=>{const m=new AA;m.listenOnce(IA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case EC.NO_ERROR:const T=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(T)),l(T);break;case EC.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),h(new Re(me.DEADLINE_EXCEEDED,"Request time out"));break;case EC.HTTP_ERROR:const N=m.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(re)>=0?re:me.UNKNOWN}(M.status);h(new Re(V,M.message))}else h(new Re(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Re(me.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}Qi(e,t,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CC(),h=TA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new IC({})),this.qi(m.initMessageHeaders,t,r),(0,bt.uI)()||(0,bt.b$)()||(0,bt.d)()||(0,bt.w1)()||(0,bt.Mn)()||(0,bt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Le("Connection","Creating WebChannel: "+b,m);const T=l.createWebChannel(b,m);let N=!1,M=!1;const V=new Cb({Vi:re=>{M?Le("Connection","Not sending because WebChannel is closed:",re):(N||(Le("Connection","Opening WebChannel transport."),T.open(),N=!0),Le("Connection","WebChannel sending:",re),T.send(re))},Si:()=>T.close()}),$=(re,ye,Ae)=>{re.listen(ye,it=>{try{Ae(it)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return $(T,N_.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),$(T,N_.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),V.Fi())}),$(T,N_.EventType.ERROR,re=>{M||(M=!0,Xp("Connection","WebChannel transport errored:",re),V.Fi(new Re(me.UNAVAILABLE,"The operation could not be completed")))}),$(T,N_.EventType.MESSAGE,re=>{var ye;if(!M){const Ae=re.data[0];gt(!!Ae);const it=Ae,Qe=it.error||(null===(ye=it[0])||void 0===ye?void 0:ye.error);if(Qe){Le("Connection","WebChannel received error:",Qe);const St=Qe.status;let ut=function($r){const Wu=Ar[$r];if(void 0!==Wu)return iE(Wu)}(St),ln=Qe.message;void 0===ut&&(ut=me.INTERNAL,ln="Unknown error status: "+St+" with message "+Qe.message),M=!0,V.Fi(new Re(ut,ln)),T.close()}else Le("Connection","WebChannel received:",Ae),V.Oi(Ae)}}),$(h,DC.STAT_EVENT,re=>{re.stat===TC.PROXY?Le("Connection","Detected buffering proxy"):re.stat===TC.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function Eb(){return"undefined"!=typeof window?window:null}function iy(){return"undefined"!=typeof document?document:null}function xg(n){return new HA(n,!0)}class sy{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class qE{constructor(e,t,r,o,l,h,m,b){this.Oe=e,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new sy(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,de.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,de.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,de.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Re(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,de.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZE extends qE{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),o=e.targetChange.targetIds||[],l=function(b,T){return b.C?(gt(void 0===T||"string"==typeof T),Jr.fromBase64String(T||"")):(gt(void 0===T||T instanceof Uint8Array),Jr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const T=void 0===b.code?me.UNKNOWN:iE(b.code);return new Re(T,b.message||"")}(h);t=new $_(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ea(n,r.document.name),l=yr(r.document.updateTime),h=new Qr({mapValue:{fields:r.document.fields}}),m=Bn.newFoundDocument(o,l,h);t=new xu(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=ea(n,r.document),l=r.readTime?yr(r.readTime):kt.min(),h=Bn.newNoDocument(o,l);t=new xu([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=ea(n,r.document);t=new xu([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return tt();{const r=e.filter,l=new VA(r.count||0);t=new UA(r.targetId,l)}}var b;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return kt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?yr(l.readTime):kt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=hf(this.k),t.addTarget=function(o,l){let h;const m=l.target;return h=ug(m)?{documents:hE(o,m)}:{query:fE(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=bg(o,l.resumeToken):l.snapshotVersion.compareTo(kt.min())>0&&(h.readTime=vg(o,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=hf(this.k),t.removeTarget=e,this.gr(t)}}class oy extends qE{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,o){let l=yr(r.updateTime?r.updateTime:o);return l.isEqual(kt.min())&&(l=yr(o)),new YC(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.Cr(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=hf(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>G_(this.k,r))};this.gr(t)}}class ay extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(me.UNKNOWN,o.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(me.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class RR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Vr(t),this.Lr=!1):Le("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class kg{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,de.Z)(function*(){var b;Vu(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,de.Z)(function*(T){const N=je(T);N.Gr.add(4),yield sa(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield sn(N)}),function(T){return b.apply(this,arguments)})(h))}))}),this.Jr=new RR(r,o)}}function sn(n){return Za.apply(this,arguments)}function Za(){return(Za=(0,de.Z)(function*(n){if(Vu(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function sa(n){return Md.apply(this,arguments)}function Md(){return(Md=(0,de.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function Db(n,e){const t=je(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),WE(t)?Lu(t):Rd(t).lr()&&Es(t,e))}function yt(n,e){const t=je(n),r=Rd(t);t.Wr.delete(e),r.lr()&&uy(t,e),0===t.Wr.size&&(r.lr()?r._r():Vu(t)&&t.Jr.set("Unknown"))}function Es(n,e){n.Yr.X(e.targetId),Rd(n).br(e)}function uy(n,e){n.Yr.X(e),Rd(n).vr(e)}function Lu(n){n.Yr=new cE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Rd(n).start(),n.Jr.Br()}function WE(n){return Vu(n)&&!Rd(n).hr()&&n.Wr.size>0}function Vu(n){return 0===je(n).Gr.size}function Tb(n){n.Yr=void 0}function xR(n){return Ib.apply(this,arguments)}function Ib(){return(Ib=(0,de.Z)(function*(n){n.Wr.forEach((e,t)=>{Es(n,e)})})).apply(this,arguments)}function gS(n,e){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,de.Z)(function*(n,e){Tb(n),WE(n)?(n.Jr.Kr(e),Lu(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function sr(n,e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,de.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof $_&&2===e.state&&e.cause)try{yield(r=(0,de.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Og(n,r)}else if(e instanceof xu?n.Yr.ot(e):e instanceof UA?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(kt.min()))try{const r=yield pb(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.Wr.get(b);T&&o.Wr.set(b,T.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(Jr.EMPTY_BYTE_STRING,b.snapshotVersion)),uy(o,m);const T=new $a(b.target,m,1,b.sequenceNumber);Es(o,T)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield Og(n,r)}var r})).apply(this,arguments)}function Og(n,e,t){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,de.Z)(function*(n,e,t){if(!ql(e))throw e;n.Gr.add(1),yield sa(n),n.Jr.set("Offline"),t||(t=()=>pb(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield sn(n)}))})).apply(this,arguments)}function Sb(n,e){return e().catch(t=>Og(n,t,e))}function Wl(n){return zl.apply(this,arguments)}function zl(){return(zl=(0,de.Z)(function*(n){const e=je(n),t=oa(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Pg(e);)try{const o=yield VE(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,mS(e,o)}catch(o){yield Og(e,o)}Yl(e)&&zE(e)})).apply(this,arguments)}function Pg(n){return Vu(n)&&n.Qr.length<10}function mS(n,e){n.Qr.push(e);const t=oa(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function Yl(n){return Vu(n)&&!oa(n).hr()&&n.Qr.length>0}function zE(n){oa(n).start()}function YE(n){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,de.Z)(function*(n){oa(n).kr()})).apply(this,arguments)}function Lg(n){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,de.Z)(function*(n){const e=oa(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function KE(n,e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,de.Z)(function*(n,e,t){const r=n.Qr.shift(),o=eb.from(r,e,t);yield Sb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Wl(n)})).apply(this,arguments)}function _S(n,e){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,de.Z)(function*(n,e){var t;e&&oa(n).Sr&&(yield(t=(0,de.Z)(function*(r,o){if(rE(l=o.code)&&l!==me.ABORTED){const h=r.Qr.shift();oa(r).wr(),yield Sb(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Wl(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),Yl(n)&&zE(n)})).apply(this,arguments)}function ly(n,e){return cy.apply(this,arguments)}function cy(){return(cy=(0,de.Z)(function*(n,e){const t=je(n);e?(t.Gr.delete(2),yield sn(t)):e||(t.Gr.add(2),yield sa(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Rd(n){return n.Xr||(n.Xr=function(e,t,r){const o=je(e);return o.Fr(),new ZE(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:xR.bind(null,n),Ni:gS.bind(null,n),Pr:sr.bind(null,n)}),n.zr.push(function(){var e=(0,de.Z)(function*(t){t?(n.Xr.wr(),WE(n)?Lu(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Tb(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function oa(n){return n.Zr||(n.Zr=function(e,t,r){const o=je(e);return o.Fr(),new oy(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:YE.bind(null,n),Ni:_S.bind(null,n),Nr:Lg.bind(null,n),Cr:KE.bind(null,n)}),n.zr.push(function(){var e=(0,de.Z)(function*(t){t?(n.Zr.wr(),yield Wl(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Nb{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new Nb(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jl(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),ql(n))return new Re(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Ql{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=j_(),this.sortedSet=new Br(this.comparator)}static emptySet(e){return new Ql(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yS{constructor(){this.eo=new Br(nt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):tt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ug{constructor(e,t,r,o,l,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ug(e,t,Ql.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&is(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Dt{constructor(){this.so=void 0,this.listeners=[]}}class kR{constructor(){this.queries=new Sg(e=>Ao(e),is),this.onlineState="Unknown",this.io=new Set}}function xd(n,e){return Mb.apply(this,arguments)}function Mb(){return(Mb=(0,de.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Dt),o)try{l.so=yield t.onListen(r)}catch(h){const m=Jl(h,`Initialization of query '${F_(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&kb(t)})).apply(this,arguments)}function Rb(n,e){return xb.apply(this,arguments)}function xb(){return(xb=(0,de.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function OR(n,e){const t=je(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&kb(t)}function PR(n,e,t){const r=je(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function kb(n){n.io.forEach(e=>{e.next()})}class ti{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ug(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ug.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class vS{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class JE{constructor(e){this.k=e}Hn(e){return ea(this.k,e)}Jn(e){return e.metadata.exists?z0(this.k,e.document,!1):Bn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return yr(e)}}class Ob{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=QE(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new JE(this.k);for(const o of e)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||vn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function(n,e,t,r){return mb.apply(this,arguments)}(e.localStore,new JE(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield uS(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new db(Object.assign({},e.progress),t)})()}}function QE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XE{constructor(e){this.key=e}}class eD{constructor(e){this.key=e}}class tD{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=vn(),this.mutatedKeys=vn(),this.Ao=HC(e),this.Ro=new Ql(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new yS,o=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=lg(this.query)&&o.size===this.query.limit?o.last():null,T=B0(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,M)=>{const V=o.get(N),$=uf(this.query,M)?M:null,re=!!V&&this.mutatedKeys.has(V.key),ye=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Ae=!1;V&&$?V.data.isEqual($.data)?re!==ye&&(r.track({type:3,doc:$}),Ae=!0):this.Vo(V,$)||(r.track({type:2,doc:$}),Ae=!0,(b&&this.Ao($,b)>0||T&&this.Ao($,T)<0)&&(m=!0)):!V&&$?(r.track({type:0,doc:$}),Ae=!0):V&&!$&&(r.track({type:1,doc:V}),Ae=!0,(b||T)&&(m=!0)),Ae&&($?(h=h.add($),l=ye?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),lg(this.query)||B0(this.query))for(;h.size>this.query.limit;){const N=lg(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((T,N)=>function(M,V){const $=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return $(M)-$(V)}(T.type,N.type)||this.Ao(T.doc,N.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new Ug(this.query,e.Ro,o,l,e.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new yS,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=vn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new eD(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new XE(r))}),t}ko(e){this.To=e.zn,this.Io=vn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Ug.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class bS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wS{constructor(e){this.key=e,this.$o=!1}}class Pb{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Sg(m=>Ao(m),is),this.Mo=new Map,this.Lo=new Set,this.Bo=new Br(nt.comparator),this.Uo=new Map,this.qo=new yb,this.Ko={},this.jo=new Map,this.Qo=Td.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function CS(n,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=(0,de.Z)(function*(n,e){const t=py(n);let r,o;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield Fu(t.localStore,Ys(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield dy(t,e,r,"current"===m),t.isPrimaryClient&&Db(t.remoteStore,h)}return o})).apply(this,arguments)}function dy(n,e,t,r){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,de.Z)(function*(n,e,t,r){n.Go=(N,M,V)=>{return($=(0,de.Z)(function*(re,ye,Ae,it){let Qe=ye.view.bo(Ae);Qe.Bn&&(Qe=yield Nd(re.localStore,ye.query,!1).then(({documents:ln})=>ye.view.bo(ln,Qe)));const St=it&&it.targetChanges.get(ye.targetId),ut=ye.view.applyChanges(Qe,re.isPrimaryClient,St);return $b(re,ye.targetId,ut.Co),ut.snapshot}),function(re,ye,Ae,it){return $.apply(this,arguments)})(n,N,M,V);var $};const o=yield Nd(n.localStore,e,!0),l=new tD(e,o.zn),h=l.bo(o.documents),m=yg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);$b(n,t,b.Co);const T=new bS(e,t,l);return n.Oo.set(e,T),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),b.snapshot})).apply(this,arguments)}function ES(n,e){return nD.apply(this,arguments)}function nD(){return(nD=(0,de.Z)(function*(n,e){const t=je(n),r=t.Oo.get(e),o=t.Mo.get(r.targetId);if(o.length>1)return t.Mo.set(r.targetId,o.filter(l=>!is(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Df(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yt(t.remoteStore,r.targetId),Mf(t,r.targetId)}).catch(Sd))):(Mf(t,r.targetId),yield Df(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Lb(){return(Lb=(0,de.Z)(function*(n,e,t){const r=gy(n);try{const o=yield function(l,h){const m=je(l),b=Kr.now(),T=h.reduce((M,V)=>M.add(V.key),vn());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,T).next(V=>{N=V;const $=[];for(const re of h){const ye=JC(re,N.get(re.key));null!=ye&&$.push(new Gl(re.key,ye,og(ye.value.mapValue),_r.exists(!0)))}return m.An.addMutationBatch(M,b,$,h)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new Br(Jt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,o.batchId,t),yield Uu(r,o.changes),yield Wl(r.remoteStore)}catch(o){const l=Jl(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function rD(n,e){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,de.Z)(function*(n,e){const t=je(n);try{const r=yield oS(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Uo.get(l);h&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?gt(h.$o):o.removedDocuments.size>0&&(gt(h.$o),h.$o=!1))}),yield Uu(t,r,e)}catch(r){yield Sd(r)}})).apply(this,arguments)}function iD(n,e,t){const r=je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((l,h)=>{const m=h.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=je(l);m.onlineState=h;let b=!1;m.queries.forEach((T,N)=>{for(const M of N.listeners)M.ro(h)&&(b=!0)}),b&&kb(m)}(r.eventManager,e),o.length&&r.Fo.Pr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TS(n,e,t){return kd.apply(this,arguments)}function kd(){return(kd=(0,de.Z)(function*(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),l=o&&o.key;if(l){let h=new Br(nt.comparator);h=h.insert(l,Bn.newNoDocument(l,kt.min()));const m=vn().add(l),b=new _g(kt.min(),new Map,new rr(Jt),h,m);yield rD(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(e),Hb(r)}else yield Df(r.localStore,e,!1).then(()=>Mf(r,e,t)).catch(Sd)})).apply(this,arguments)}function IS(n,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=(0,de.Z)(function*(n,e){const t=je(n),r=e.batch.batchId;try{const o=yield FE(t.localStore,e);jb(t,r,null),Bb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Uu(t,o)}catch(o){yield Sd(o)}})).apply(this,arguments)}function sD(n,e,t){return Od.apply(this,arguments)}function Od(){return(Od=(0,de.Z)(function*(n,e,t){const r=je(n);try{const o=yield function(l,h){const m=je(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let T;return m.An.lookupMutationBatch(b,h).next(N=>(gt(null!==N),T=N.keys(),m.An.removeMutationBatch(b,N))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,T))})}(r.localStore,e);jb(r,e,t),Bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(r,o)}catch(o){yield Sd(o)}})).apply(this,arguments)}function hy(){return(hy=(0,de.Z)(function*(n,e){const t=je(n);Vu(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=Jl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function Bb(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function jb(n,e,t){const r=je(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||oD(n,r)})}function oD(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(yt(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),Hb(n))}function $b(n,e,t){for(const r of t)r instanceof XE?(n.qo.addReference(r.key,e),aD(n,r)):r instanceof eD?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||oD(n,r.key)):tt()}function aD(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.Lo.add(r),Hb(n))}function Hb(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new nt(En.fromString(e)),r=n.Qo.next();n.Uo.set(r,new wS(t)),n.Bo=n.Bo.insert(t,r),Db(n.remoteStore,new $a(Ys(sf(t.path)),r,2,zs.I))}}function Uu(n,e,t){return uD.apply(this,arguments)}function uD(){return(uD=(0,de.Z)(function*(n,e,t){const r=je(n),o=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,T.fromCache?"not-current":"current"),o.push(T);const N=fb.$n(b.targetId,T);l.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(o),yield(m=(0,de.Z)(function*(b,T){const N=je(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Se.forEach(T,V=>Se.forEach(V.kn,$=>N.persistence.referenceDelegate.addReference(M,V.targetId,$)).next(()=>Se.forEach(V.xn,$=>N.persistence.referenceDelegate.removeReference(M,V.targetId,$)))))}catch(M){if(!ql(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const V=M.targetId;if(!M.fromCache){const $=N.qn.get(V),ye=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);N.qn=N.qn.insert(V,ye)}}}),function(b,T){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function LR(n,e){return lD.apply(this,arguments)}function lD(){return(lD=(0,de.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield PE(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Re(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uu(t,r.Gn)}var o})).apply(this,arguments)}function Gb(n,e){const t=je(n),r=t.Uo.get(e);if(r&&r.$o)return vn().add(r.key);{let o=vn();const l=t.Mo.get(e);if(!l)return o;for(const h of l){const m=t.Oo.get(h);o=o.unionWith(m.view.Po)}return o}}function AS(n,e){return qb.apply(this,arguments)}function qb(){return(qb=(0,de.Z)(function*(n,e){const t=je(n),r=yield Nd(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&$b(t,e.targetId,o.Co),o})).apply(this,arguments)}function SS(n){return Zb.apply(this,arguments)}function Zb(){return(Zb=(0,de.Z)(function*(n){const e=je(n);return Tf(e.localStore).then(t=>Uu(e,t))})).apply(this,arguments)}function NS(n,e,t,r){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,de.Z)(function*(n,e,t,r){const o=je(n),l=yield function(h,m){const b=je(h),T=je(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Zt(N,m).next(M=>M?b.Wn.vn(N,M):Se.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Wl(o.remoteStore):"acknowledged"===t||"rejected"===t?(jb(o,e,r||null),Bb(o,e),m=e,je(je(o.localStore).An).ee(m)):tt(),yield Uu(o,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function jg(){return(jg=(0,de.Z)(function*(n,e){const t=je(n);if(py(t),gy(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield dD(t,r.toArray());t.Wo=!0,yield ly(t.remoteStore,!0);for(const l of o)Db(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Mo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Mf(t,h),Df(t.localStore,h,!0))),yt(t.remoteStore,h)}),yield o,yield dD(t,r),function(l){const h=je(l);h.Uo.forEach((m,b)=>{yt(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Br(nt.comparator)}(t),t.Wo=!1,yield ly(t.remoteStore,!1)}})).apply(this,arguments)}function dD(n,e,t){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,de.Z)(function*(n,e,t){const r=je(n),o=[],l=[];for(const h of e){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield Fu(r.localStore,Ys(b[0]));for(const T of b){const N=r.Oo.get(T),M=yield AS(r,N);M.snapshot&&l.push(M.snapshot)}}else{const T=yield Mg(r.localStore,h);m=yield Fu(r.localStore,T),yield dy(r,Ii(T),h,!1)}o.push(m)}return r.Fo.Pr(l),o})).apply(this,arguments)}function Ii(n){return U0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hD(n){const e=je(n);return je(je(e.localStore).persistence).Tn()}function aa(n,e,t,r){return $g.apply(this,arguments)}function $g(){return($g=(0,de.Z)(function*(n,e,t,r){const o=je(n);if(o.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(e))switch(t){case"current":case"not-current":{const l=yield Tf(o.localStore),h=_g.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Uu(o,l,h);break}case"rejected":yield Df(o.localStore,e,!0),Mf(o,e,r);break;default:tt()}})).apply(this,arguments)}function MS(n,e,t){return fy.apply(this,arguments)}function fy(){return(fy=(0,de.Z)(function*(n,e,t){const r=py(n);if(r.Wo){for(const o of e){if(r.Mo.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const l=yield Mg(r.localStore,o),h=yield Fu(r.localStore,l);yield dy(r,Ii(l),h.targetId,!1),Db(r.remoteStore,h)}for(const o of t)r.Mo.has(o)&&(yield Df(r.localStore,o,!1).then(()=>{yt(r.remoteStore,o),Mf(r,o)}).catch(Sd))}})).apply(this,arguments)}function py(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TS.bind(null,e),e.Fo.Pr=OR.bind(null,e.eventManager),e.Fo.zo=PR.bind(null,e.eventManager),e}function gy(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,e),e}class fD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.k=xg(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return OE(this.persistence,new iS,e.initialUser,this.k)}Yo(e){return new fS(vb.ks,this.k)}Jo(e){return new $E}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pD extends fD{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield t().call(r,e),yield function(n){return gb.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield gy(r.ta.syncEngine),yield Wl(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return OE(this.persistence,new iS,e.initialUser,this.k)}Xo(e){return new J_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=ey(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new cb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Eb(),iy(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new $E}}class gD extends pD{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield t().call(r,e);const o=r.ta.syncEngine;r.sharedClientState instanceof Sf&&(r.sharedClientState.syncEngine={mi:NS.bind(null,o),gi:aa.bind(null,o),yi:MS.bind(null,o),Tn:hD.bind(null,o),_i:SS.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,de.Z)(function*(h){yield function(n,e){return jg.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=Eb();if(!Sf.bt(t))throw new Re(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ey(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zb{initialize(e,t){var r=this;return(0,de.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>iD(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=LR.bind(null,r.syncEngine),yield ly(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kR}createDatastore(e){const t=xg(e.databaseInfo.databaseId),r=new GE(e.databaseInfo);return new ay(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>iD(this.syncEngine,m,0),h=wb.bt()?new wb:new pS,new kg(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,b,T){const N=new Pb(r,o,l,h,m,b);return T&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const r=je(t);Le("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield sa(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xS(n,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kS{constructor(e,t){this.sa=e,this.k=t,this.metadata=new Yr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,de.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),o=Number(r);isNaN(o)&&e.aa(`length string (${r}) is not valid number`);const l=yield e.ca(o);return new vS(JSON.parse(l),t.length+o)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,de.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,de.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Rf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,de.Z)(function*(l,h){const m=je(l),b=hf(m.k)+"/documents",T={documents:h.map($=>H_(m.k,$))},N=yield m.ji("BatchGetDocuments",b,T),M=new Map;N.forEach($=>{const re=function(n,e){return"found"in e?function(t,r){gt(!!r.found);const o=ea(t,r.found.name),l=yr(r.found.updateTime),h=new Qr({mapValue:{fields:r.found.fields}});return Bn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){gt(!!r.missing),gt(!!r.readTime);const o=ea(t,r.missing),l=yr(r.readTime);return Bn.newNoDocument(o,l)}(n,e):tt()}(m.k,$);M.set(re.key.toString(),re)});const V=[];return h.forEach($=>{const re=M.get($.toString());gt(!!re),V.push(re)}),V}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=nt.fromPath(o);e.mutations.push(new $0(l,e.precondition(l)))}),yield(r=(0,de.Z)(function*(o,l){const h=je(o),m=hf(h.k)+"/documents",b={writes:l.map(T=>G_(h.k,T))};yield h.Bi("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_r.updateTime(t):_r.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Re(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(t)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VR{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new sy(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,de.Z)(function*(){const t=new Rf(e.datastore),r=e.da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.wa(l)}))}).catch(o=>{e.wa(o)})}))}da(e){try{const t=this.updateFunction(e);return!gd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rE(t)}return!1}}class mD{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=wi.UNAUTHENTICATED,this.clientId=xC.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,de.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Jl(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function _D(n,e){return yD.apply(this,arguments)}function yD(){return(yD=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,de.Z)(function*(l){r.isEqual(l)||(yield PE(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function Yb(n,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,de.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Hg(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,de.Z)(function*(h,m){const b=je(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const T=Vu(b);b.Gr.add(3),yield sa(b),T&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield sn(b)}),function(h,m){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function Hg(n){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,de.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield _D(n,new fD)),n.offlineComponents})).apply(this,arguments)}function Gg(n){return _y.apply(this,arguments)}function _y(){return(_y=(0,de.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield Yb(n,new zb)),n.onlineComponents})).apply(this,arguments)}function Qb(n){return Hg(n).then(e=>e.persistence)}function Xb(n){return Hg(n).then(e=>e.localStore)}function vD(n){return Gg(n).then(e=>e.remoteStore)}function ew(n){return Gg(n).then(e=>e.syncEngine)}function xf(n){return tw.apply(this,arguments)}function tw(){return(tw=(0,de.Z)(function*(n){const e=yield Gg(n),t=e.eventManager;return t.onListen=CS.bind(null,e.syncEngine),t.onUnlisten=ES.bind(null,e.syncEngine),t})).apply(this,arguments)}function nw(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,m,b){const T=new my({next:M=>{l.enqueueAndForget(()=>Rb(o,N));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new Re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new Re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new ti(sf(h.path),T,{includeMetadataChanges:!0,wo:!0});return xd(o,N)}(yield xf(n),n.asyncQueue,e,t,r)})),r.promise}function rw(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,m,b){const T=new my({next:M=>{l.enqueueAndForget(()=>Rb(o,N)),M.fromCache&&"server"===m.source?b.reject(new Re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new ti(h,T,{includeMetadataChanges:!0,wo:!0});return xd(o,N)}(yield xf(n),n.asyncQueue,e,t,r)})),r.promise}class FS{constructor(e,t,r,o,l,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class kf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}const TD=new Map;function iw(n,e,t){if(!t)throw new Re(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Of(n,e,t,r){if(!0===e&&!0===r)throw new Re(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pf(n){if(!nt.isDocumentKey(n))throw new Re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ID(n){if(nt.isDocumentKey(n))throw new Re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ff(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Ot(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ff(n);throw new Re(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AD(n,e){if(e<=0)throw new Re(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Zg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Of("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wg{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zg({}),this._settingsFrozen=!1,e instanceof kf?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(o.options.projectId)}(e))}get app(){if(!this._app)throw new Re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new IR;switch(t.type){case"gapi":const r=t.client;return gt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TD.get(e);t&&(Le("ComponentProvider","Removing Datastore"),TD.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class No extends ni{constructor(e,t,r){super(e,t,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new nt(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function sw(n,e,...t){if(n=(0,bt.m9)(n),iw("collection","path",e),n instanceof Wg){const r=En.fromString(e,...t);return ID(r),new No(n,null,r)}{if(!(n instanceof Jn||n instanceof No))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return ID(r),new No(n.firestore,null,r)}}function Lf(n,e,...t){if(n=(0,bt.m9)(n),1===arguments.length&&(e=xC.A()),iw("doc","path",e),n instanceof Wg){const r=En.fromString(e,...t);return Pf(r),new Jn(n,null,new nt(r))}{if(!(n instanceof Jn||n instanceof No))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return Pf(r),new Jn(n.firestore,n instanceof No?n.converter:null,new nt(r))}}function SD(n,e){return n=(0,bt.m9)(n),e=(0,bt.m9)(e),(n instanceof Jn||n instanceof No)&&(e instanceof Jn||e instanceof No)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ND(n,e){return n=(0,bt.m9)(n),e=(0,bt.m9)(e),n instanceof ni&&e instanceof ni&&n.firestore===e.firestore&&is(n._query,e._query)&&n.converter===e.converter}class VS{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new sy(this,"async_queue_retry"),this.Ra=()=>{const t=iy();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=iy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=iy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new Yr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,de.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!ql(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=Nb.createAndSchedule(this,e,t,r,l=>this.Va(l));return this.pa.push(o),o}Pa(){this.Ta&&tt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function aw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class MD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends Wg{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new VS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||RD(this),this._firestoreClient.terminate()}}function Sr(n){return n._firestoreClient||RD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RD(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new FS(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new mD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function OD(n,e,t){const r=new Yr;return n.asyncQueue.enqueue((0,de.Z)(function*(){try{yield _D(n,t),yield Yb(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function HS(n){if(n._initialized||n._terminated)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Jr.fromBase64String(e))}catch(t){throw new Re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(e){this._methodName=e}}class Yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const GS=/^__.*__$/;class qS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms):new cf(e,this.data,t,this.fieldTransforms)}}class yy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Kg{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.Ma(e),o}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Dy(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(lw(this.xa)&&GS.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class vy{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||xg(e)}ja(e,t,r,o=!1){return new Kg({xa:e,methodName:t,Ka:r,path:Ci.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Bu(n){const e=n._freezeSettings(),t=xg(n._databaseId);return new vy(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cw(n,e,t,r,o,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,e,t,o);Cy("Data must be an object, but it was:",h,r);const m=dw(r,h);let b,T;if(l.merge)b=new eg(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const M of l.mergeFields){const V=fw(e,M,t);if(!h.contains(V))throw new Re(me.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);jD(N,V)||N.push(V)}b=new eg(N),T=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,T=h.fieldTransforms;return new qS(new Qr(m),b,T)}class Vf extends Pd{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function LD(n,e,t){return new Kg({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class by extends Pd{_toFieldTransform(e){return new lf(e.path,new yd)}isEqual(e){return e instanceof by}}class wy extends Pd{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=LD(this,e,!0),r=this.Qa.map(l=>Fd(l,t)),o=new Hl(r);return new lf(e.path,o)}isEqual(e){return this===e}}class VD extends Pd{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=LD(this,e,!0),r=this.Qa.map(l=>Fd(l,t)),o=new vd(r);return new lf(e.path,o)}isEqual(e){return this===e}}class ZS extends Pd{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new bd(e.k,L_(e.k,this.Wa));return new lf(e.path,t)}isEqual(e){return this===e}}function Jg(n,e,t,r){const o=n.ja(1,e,t);Cy("Data must be an object, but it was:",o,r);const l=[],h=Qr.empty();Vl(r,(b,T)=>{const N=Ey(e,b,t);T=(0,bt.m9)(T);const M=o.La(N);if(T instanceof Vf)l.push(N);else{const V=Fd(T,M);null!=V&&(l.push(N),h.set(N,V))}});const m=new eg(l);return new yy(h,m,o.fieldTransforms)}function Qg(n,e,t,r,o,l){const h=n.ja(1,e,t),m=[fw(e,r,t)],b=[o];if(l.length%2!=0)throw new Re(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(fw(e,l[V])),b.push(l[V+1]);const T=[],N=Qr.empty();for(let V=m.length-1;V>=0;--V)if(!jD(T,m[V])){const $=m[V];let re=b[V];re=(0,bt.m9)(re);const ye=h.La($);if(re instanceof Vf)T.push($);else{const Ae=Fd(re,ye);null!=Ae&&(T.push($),N.set($,Ae))}}const M=new eg(T);return new yy(N,M,h.fieldTransforms)}function UD(n,e,t,r=!1){return Fd(t,n.ja(r?4:3,e))}function Fd(n,e){if(hw(n=(0,bt.m9)(n)))return Cy("Unsupported field value:",e,n),dw(n,e);if(n instanceof Pd)return function(t,r){if(!lw(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Fd(h,r.Ba(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,bt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return L_(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Kr.fromDate(t);return{timestampValue:vg(r.k,o)}}if(t instanceof Kr){const o=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vg(r.k,o)}}if(t instanceof Yg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mo)return{bytesValue:bg(r.k,t._byteString)};if(t instanceof Jn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:df(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${Ff(t)}`)}(n,e)}function dw(n,e){const t={};return x0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(n,(r,o)=>{const l=Fd(o,e.Fa(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function hw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof Yg||n instanceof Mo||n instanceof Jn||n instanceof Pd)}function Cy(n,e,t){if(!hw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ff(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function fw(n,e,t){if((e=(0,bt.m9)(e))instanceof Xs)return e._internalPath;if("string"==typeof e)return Ey(n,e);throw Dy("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const BD=new RegExp("[~\\*/\\[\\]]");function Ey(n,e,t){if(e.search(BD)>=0)throw Dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xs(...e.split("."))._internalPath}catch(r){throw Dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dy(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Re(me.INVALID_ARGUMENT,m+n+b)}function jD(n,e){return n.some(t=>t.isEqual(e))}class Uf{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WS extends Uf{data(){return super.data()}}function Xg(n,e){return"string"==typeof e?Ey(n,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends Uf{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Bf extends Wa{data(e={}){return super.data(e)}}class tc{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bf(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ec(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Bf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ec(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,T=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:zS(h.type),doc:m,oldIndex:b,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function $D(n,e){return n instanceof Wa&&e instanceof Wa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof tc&&e instanceof tc&&n._firestore===e._firestore&&ND(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pw(n){if(B0(n)&&0===n.explicitOrderBy.length)throw new Re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}function Ld(n,...e){for(const t of e)n=t._apply(n);return n}class jR extends Ty{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=Bu(e.firestore),r=function(o,l,h,m,b,T,N){let M;if(b.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){HD(N,T);const $=[];for(const re of N)$.push(XS(m,o,re));M={arrayValue:{values:$}}}else M=XS(m,o,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||HD(N,T),M=UD(h,"where",N,"in"===T||"not-in"===T);const V=ji.create(b,T,M);return function($,re){if(re.V()){const Ae=dg($);if(null!==Ae&&!Ae.isEqual(re.field))throw new Re(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ae.toString()}' and '${re.field.toString()}'`);const it=cg($);null!==it&&GD(0,re.field,it)}const ye=function(Ae,it){for(const Qe of Ae.filters)if(it.indexOf(Qe.op)>=0)return Qe.op;return null}($,function(Ae){switch(Ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ye)throw new Re(me.INVALID_ARGUMENT,ye===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ye.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ni(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Ru(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class HR extends Ty{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new md(o,l);return function(m,b){if(null===cg(m)){const T=dg(m);null!==T&&GD(0,T,b.field)}}(r,h),h}(e._query,this.Ga,this.Ja);return new ni(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ru(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class YS extends Ty{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new ni(e.firestore,e.converter,Xo(e._query,this.Ya,this.Xa))}}class KS extends Ty{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=QS(e,this.type,this.Za,this.tc);return new ni(e.firestore,e.converter,(o=t,new Ru((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class JS extends Ty{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=QS(e,this.type,this.Za,this.tc);return new ni(e.firestore,e.converter,(o=t,new Ru((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function QS(n,e,t,r){if(t[0]=(0,bt.m9)(t[0]),t[0]instanceof Uf)return function(o,l,h,m,b){if(!m)throw new Re(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of af(o))if(N.field.isKeyField())T.push(rg(l,m.key));else{const M=m.data.field(N.field);if(ng(M))throw new Re(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=N.field.canonicalString();throw new Re(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(M)}return new rf(T,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Bu(n.firestore);return function(l,h,m,b,T,N){const M=l.explicitOrderBy;if(T.length>M.length)throw new Re(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let $=0;$<T.length;$++){const re=T[$];if(M[$].field.isKeyField()){if("string"!=typeof re)throw new Re(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof re}`);if(!Io(l)&&-1!==re.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${re}' contains a slash.`);const ye=l.path.child(En.fromString(re));if(!nt.isDocumentKey(ye))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Ae=new nt(ye);V.push(rg(h,Ae))}else{const ye=UD(m,b,re);V.push(ye)}}return new rf(V,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function XS(n,e,t){if("string"==typeof(t=(0,bt.m9)(t))){if(""===t)throw new Re(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Io(e)&&-1!==t.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!nt.isDocumentKey(r))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rg(n,new nt(r))}if(t instanceof Jn)return rg(n,t._key);throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(t)}.`)}function HD(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function GD(n,e,t){if(!t.isEqual(e))throw new Re(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gw{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return Vl(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Yg(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=P0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(M_(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);gt(J0(r));const o=new kf(r.get(1),r.get(3)),l=new nt(r.popFirst(5));return o.isEqual(t)||Vr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function mw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JR extends gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class eN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bu(e)}set(e,t,r){this._verifyNotCommitted();const o=nc(e,this._firestore),l=mw(o.converter,t,r),h=cw(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,_r.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=nc(e,this._firestore);let h;return h="string"==typeof(t=(0,bt.m9)(t))||t instanceof Xs?Qg(this._dataReader,"WriteBatch.update",l._key,t,r,o):Jg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nc(e,this._firestore);return this._mutations=this._mutations.concat(new mg(t._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nc(n,e){if((n=(0,bt.m9)(n)).firestore!==e)throw new Re(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vd extends gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function rN(n,e,t){n=Ot(n,Jn);const r=Ot(n.firestore,Qn),o=mw(n.converter,e,t);return $f(r,[cw(Bu(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,_r.none())])}function qD(n,e,t,...r){n=Ot(n,Jn);const o=Ot(n.firestore,Qn),l=Bu(o);let h;return h="string"==typeof(e=(0,bt.m9)(e))||e instanceof Xs?Qg(l,"updateDoc",n._key,e,t,r):Jg(l,"updateDoc",n._key,e),$f(o,[h.toMutation(n._key,_r.exists(!0))])}function yw(n,...e){var t,r,o;n=(0,bt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||aw(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(aw(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(o=M.complete)||void 0===o?void 0:o.bind(M)}let b,T,N;if(n instanceof Jn)T=Ot(n.firestore,Qn),N=sf(n._key.path),b={next:M=>{e[h]&&e[h](em(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=Ot(n,ni);T=Ot(M.firestore,Qn),N=M._query;const V=new Vd(T);b={next:$=>{e[h]&&e[h](new tc(T,V,M,$))},error:e[h+1],complete:e[h+2]},pw(n._query)}return function(M,V,$,re){const ye=new my(re),Ae=new ti(V,ye,$);return M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return xd(yield xf(M),Ae)})),()=>{ye.na(),M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return Rb(yield xf(M),Ae)}))}}(Sr(T),N,m,b)}function $f(n,e){return function(t,r){const o=new Yr;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,e,t){return Lb.apply(this,arguments)}(yield ew(t),r,o)})),o.promise}(Sr(n),e)}function em(n,e,t){const r=t.docs.get(e._key),o=new Vd(n);return new Wa(n,o,e._key,r,new ec(t.hasPendingWrites,t.fromCache),e.converter)}class ZD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bu(e)}get(e){const t=nc(e,this._firestore),r=new JR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return tt();const l=o[0];if(l.isFoundDocument())return new Uf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Uf(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const o=nc(e,this._firestore),l=mw(o.converter,t,r),h=cw(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=nc(e,this._firestore);let h;return h="string"==typeof(t=(0,bt.m9)(t))||t instanceof Xs?Qg(this._dataReader,"Transaction.update",l._key,t,r,o):Jg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=nc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nc(e,this._firestore),r=new Vd(this._firestore);return super.get(e).then(o=>new Wa(this._firestore,r,t._key,o._document,new ec(!1,!1),t.converter))}}function vw(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sN(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function tm(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){hd=wo.SDK_VERSION,(0,wo._registerComponent)(new Nl.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Qn(o,new Jh(t.getProvider("auth-internal")),new MC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,wo.registerVersion)(SA,"3.4.0",n),(0,wo.registerVersion)(SA,"3.4.0","esm2017")}();class nm{constructor(e){this._delegate=e}static fromBase64String(e){return tm(),new nm(Mo.fromBase64String(e))}static fromUint8Array(e){return sN(),new nm(Mo.fromUint8Array(e))}toBase64(){return tm(),this._delegate.toBase64()}toUint8Array(){return sN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JD(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class bw{enableIndexedDbPersistence(e,t){return function(n,e){HS(n=Ot(n,Qn));const t=Sr(n),r=n._freezeSettings(),o=new zb;return OD(t,o,new pD(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){HS(n=Ot(n,Qn));const e=Sr(n),t=n._freezeSettings(),r=new zb;return OD(e,r,new gD(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Re(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(r){if(!ra.bt())return Promise.resolve();const o=r+"main";yield ra.delete(o)}),function(r){return t.apply(this,arguments)})(ey(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class QD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof kf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=Ot(n,Wg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Xp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=wi.MOCK_USER;else{h=(0,bt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new wi(b)}n._authCredentials=new MA(new M0(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Qb(n),t=yield vD(n);return e.setNetworkEnabled(!0),function(r){const o=je(r);return o.Gr.delete(0),sn(o)}(t)}))}(Sr(n=Ot(n,Qn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Qb(n),t=yield vD(n);return e.setNetworkEnabled(!1),(r=(0,de.Z)(function*(o){const l=je(o);l.Gr.add(0),yield sa(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Sr(n=Ot(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Of("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Yr;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,e){return hy.apply(this,arguments)}(yield ew(e),t)})),t.promise}(Sr(n=Ot(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new my(e);return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield xf(n),o=t,je(r).io.add(o),void o.next();var r,o})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield xf(n),o=t,void je(r).io.delete(o);var r,o}))}}(Sr(n=Ot(n,Qn)),aw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hf(this,sw(this._delegate,e))}catch(t){throw Ts(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ro(this,Lf(this._delegate,e))}catch(t){throw Ts(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new os(this,function(n,e){if(n=Ot(n,Wg),iw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ni(n,null,(t=e,new Ru(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ts(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Yr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const r=yield(o=n,Gg(o).then(l=>l.datastore));var o;new VR(n.asyncQueue,r,e,t).run()})),t.promise}(Sr(n=Ot(n,Qn)),t=>e(new ZD(n,t)))}(this._delegate,t=>e(new XD(this,t)))}batch(){return Sr(this._delegate),new oN(new eN(this._delegate,e=>$f(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Sr(n=Ot(n,Qn)),r=new MD;return function(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,T){if(b instanceof Uint8Array)return xS(b,T);if(b instanceof ArrayBuffer)return xS(new Uint8Array(b),T);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new kS(b,h);var b}(t,xg(e));n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function(n,e,t){const r=je(n);var o;(o=(0,de.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(V,$){const re=je(V),ye=yr($.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Ae=>re.Ye.getBundleMetadata(Ae,$.id)).then(Ae=>!!Ae&&Ae.createTime.compareTo(ye)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(QE(b));const T=new Ob(b,l.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield T.yo(N);V&&m._updateProgress(V),N=yield h.Ho()}const M=yield T.complete();yield Uu(l,M.In,void 0),yield function(V,$){const re=je(V);return re.persistence.runTransaction("Save bundle","readwrite",ye=>re.Ye.saveBundleMetadata(ye,$))}(l.localStore,b),m._completeWith(M.progress)}catch(b){Xp("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield ew(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,r){const o=je(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield Xb(n),e)}))}(Sr(n=Ot(n,Qn)),e).then(t=>t?new ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new os(this,t):null)}}class ww extends gw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nm(new Mo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ro.forKey(t,this.firestore,null)}}class XD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}get(e){const t=jr(e);return this._delegate.get(t).then(r=>new ju(this._firestore,new Wa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=jr(e);return r?(vw("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=jr(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=jr(e);return this._delegate.delete(t),this}}class oN{constructor(e){this._delegate=e}set(e,t,r){const o=jr(e);return r?(vw("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=jr(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=jr(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rm(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rc.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new rc(e,new ww(e),t),o.set(t,l)),l}}rc.INSTANCES=new WeakMap;class Ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ro(t,new Jn(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new Ro(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hf(this.firestore,sw(this._delegate,e))}catch(t){throw Ts(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,bt.m9)(e))instanceof Jn&&SD(this._delegate,e)}set(e,t){t=vw("DocumentReference.set",t);try{return t?rN(this._delegate,e,t):rN(this._delegate,e)}catch(r){throw Ts(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?qD(this._delegate,e):qD(this._delegate,e,t,...r)}catch(o){throw Ts(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return $f(Ot(n.firestore,Qn),[new mg(n._key,_r.none())])}(this._delegate)}onSnapshot(...e){const t=aN(e),r=eT(e,o=>new ju(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return yw(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ot(n,Jn);const e=Ot(n.firestore,Qn),t=Sr(e),r=new Vd(e);return function(n,e){const t=new Yr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const m=yield function(b,T){const N=je(b);return N.persistence.runTransaction("read document","readonly",M=>N.Wn.Rn(M,T))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Re(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Jl(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield Xb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Wa(e,r,n._key,o,new ec(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ot(n,Jn);const e=Ot(n.firestore,Qn);return nw(Sr(e),n._key,{source:"server"}).then(t=>em(e,n,t))}(this._delegate):function(n){n=Ot(n,Jn);const e=Ot(n.firestore,Qn);return nw(Sr(e),n._key).then(t=>em(e,n,t))}(this._delegate),t.then(r=>new ju(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ro(this.firestore,this._delegate.withConverter(e?rc.getInstance(this.firestore,e):null))}}function Ts(n,e,t){return n.message=n.message.replace(e,t),n}function aN(n){for(const e of n)if("object"==typeof e&&!JD(e))return e;return{}}function eT(n,e){var t,r;let o;return o=JD(n[0])?n[0]:JD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class ju{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ro(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $D(this._delegate,e._delegate)}}class rm extends ju{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}where(e,t,r){try{return new os(this.firestore,Ld(this._delegate,function(n,e,t){const r=e,o=Xg("where",n);return new jR(o,r,t)}(e,t,r)))}catch(o){throw Ts(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new os(this.firestore,Ld(this._delegate,function(n,e="asc"){const t=e,r=Xg("orderBy",n);return new HR(r,t)}(e,t)))}catch(r){throw Ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new os(this.firestore,Ld(this._delegate,function(n){return AD("limit",n),new YS("limit",n,"F")}(e)))}catch(t){throw Ts(t,"limit()","Query.limit()")}}limitToLast(e){try{return new os(this.firestore,Ld(this._delegate,function(n){return AD("limitToLast",n),new YS("limitToLast",n,"L")}(e)))}catch(t){throw Ts(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new os(this.firestore,Ld(this._delegate,function(...n){return new KS("startAt",n,!0)}(...e)))}catch(t){throw Ts(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new os(this.firestore,Ld(this._delegate,function(...n){return new KS("startAfter",n,!1)}(...e)))}catch(t){throw Ts(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new os(this.firestore,Ld(this._delegate,function(...n){return new JS("endBefore",n,!0)}(...e)))}catch(t){throw Ts(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new os(this.firestore,Ld(this._delegate,function(...n){return new JS("endAt",n,!1)}(...e)))}catch(t){throw Ts(t,"endAt()","Query.endAt()")}}isEqual(e){return ND(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ot(n,ni);const e=Ot(n.firestore,Qn),t=Sr(e),r=new Vd(e);return function(n,e){const t=new Yr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const m=yield Nd(o,l,!0),b=new tD(l,m.zn),T=b.bo(m.documents),N=b.applyChanges(T,!1);h.resolve(N.snapshot)}catch(m){const b=Jl(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield Xb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new tc(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ot(n,ni);const e=Ot(n.firestore,Qn),t=Sr(e),r=new Vd(e);return rw(t,n._query,{source:"server"}).then(o=>new tc(e,r,n,o))}(this._delegate):function(n){n=Ot(n,ni);const e=Ot(n.firestore,Qn),t=Sr(e),r=new Vd(e);return pw(n._query),rw(t,n._query).then(o=>new tc(e,r,n,o))}(this._delegate),t.then(r=>new im(this.firestore,new tc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aN(e),r=eT(e,o=>new im(this.firestore,new tc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return yw(this._delegate,t,r)}withConverter(e){return new os(this.firestore,this._delegate.withConverter(e?rc.getInstance(this.firestore,e):null))}}class uN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class im{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rm(this._firestore,r))})}isEqual(e){return $D(this._delegate,e._delegate)}}class Hf extends os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ro(this.firestore,e):null}doc(e){try{return new Ro(this.firestore,void 0===e?Lf(this._delegate):Lf(this._delegate,e))}catch(t){throw Ts(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Ot(n.firestore,Qn),r=Lf(n),o=mw(n.converter,e);return $f(t,[cw(Bu(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ro(this.firestore,t))}isEqual(e){return SD(this._delegate,e._delegate)}withConverter(e){return new Hf(this.firestore,this._delegate.withConverter(e?rc.getInstance(this.firestore,e):null))}}function jr(n){return Ot(n,Jn)}class Cw{constructor(...e){this._delegate=new Xs(...e)}static documentId(){return new Cw(Ci.keyField().canonicalString())}isEqual(e){return(e=(0,bt.m9)(e))instanceof Xs&&this._delegate._internalPath.isEqual(e._internalPath)}}class $u{constructor(e){this._delegate=e}static serverTimestamp(){const e=new by("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new $u(e)}static delete(){const e=new Vf("deleteField");return e._methodName="FieldValue.delete",new $u(e)}static arrayUnion(...e){const t=function(...n){return new wy("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $u(t)}static arrayRemove(...e){const t=function(...n){return new VD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $u(t)}static increment(e){const t=function(n){return new ZS("increment",n)}(e);return t._methodName="FieldValue.increment",new $u(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lN={Firestore:QD,GeoPoint:Yg,Timestamp:Kr,Blob:nm,Transaction:XD,WriteBatch:oN,DocumentReference:Ro,DocumentSnapshot:ju,Query:os,QueryDocumentSnapshot:rm,QuerySnapshot:im,CollectionReference:Hf,FieldPath:Cw,FieldValue:$u,setLogLevel:function(n){!function(n){fd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Nl.wA("firestore-compat",t=>((e,t)=>new QD(e,t,new bw))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},lN)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(s_.Z);var Ay=F(6682),Gf=F(9746),dN=F(7771),tT=F(8858);class nT extends un.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new hN(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new dh.N;if(this.isStopped||this.hasError?h=pp.w.EMPTY:(this.observers.push(e),h=new tT.W(this,e)),o&&e.add(e=new Gf.ht(e,o)),t)for(let m=0;m<l&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<l&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||dN.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class hN{constructor(e,t){this.time=e,this.value=t}}function rT(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,m=!1,b=!1;return function(N){let M;l++,!o||m?(m=!1,o=new nT(n,e,r),M=o.subscribe(this),h=N.subscribe({next(V){o.next(V)},error(V){m=!0,o.error(V)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):M=o.subscribe(this),this.add(()=>{l--,M.unsubscribe(),M=void 0,h&&!b&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function Tw(n,e){return e?tr(()=>n,e):tr(()=>n)}var Sy=F(2639);F(2329);const Aw=new Map,iT={activated:!1,tokenObservers:[]},_N={initialized:!1,enabled:!1};function ri(n){return Aw.get(n)||iT}function xo(n,e){Aw.set(n,e)}function ic(){return _N}class gx{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,de.Z)(function*(){t.stop();try{t.pending=new bt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new bt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const as=new bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uT(n){if(!ri(n).activated)throw as.create("use-before-activation",{appName:n.name})}function lT(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,de.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(M){throw as.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw as.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw as.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(b[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function mx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const om="firebase-app-check-store";let ky=null;function hT(){return ky||(ky=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(as.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(om,{keyPath:"compositeKey"})}}}catch(t){e(as.create("storage-open",{originalErrorMessage:t.message}))}}),ky)}function xw(){return(xw=(0,de.Z)(function*(n,e){const r=(yield hT()).transaction(om,"readwrite"),l=r.objectStore(om).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var T;m(as.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const qf=new zc.Yd("@firebase/app-check");function mT(n,e){return(0,bt.hl)()?function(n,e){return function(n,e){return xw.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lm(){return ic().enabled}function yT(){return vT.apply(this,arguments)}function vT(){return(vT=(0,de.Z)(function*(){const n=ic();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yx={error:"UNKNOWN_ERROR"};function EN(n){return bt.US.encodeString(JSON.stringify(n),!1)}function Fy(n){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,de.Z)(function*(n,e=!1){const t=n.app;uT(t);const r=ri(t);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&Ly(b)&&(o=b)}if(!e&&o&&Ly(o))return{token:o.token};let m,h=!1;if(lm()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lT(mx(t,yield yT()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const b=yield r.exchangeTokenPromise;return yield mT(t,b),xo(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?qf.warn(b.message):qf.error(b),l=b}return o?(m={token:o.token},xo(t,Object.assign(Object.assign({},r),{token:o})),yield mT(t,o)):m=vx(l),h&&bT(t,m),m})).apply(this,arguments)}function Fw(n,e){const t=ri(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),xo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function DN(n){const{app:e}=n,t=ri(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new gx((0,de.Z)(function*(){let r;if(r=ri(e).token?yield Fy(n,!0):yield Fy(n),r.error)throw r.error}),()=>!0,()=>{const t=ri(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),xo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bT(n,e){const t=ri(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Ly(n){return n.expireTimeMillis-Date.now()>0}function vx(n){return{token:EN(yx),error:n}}class bx{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ri(this.app);for(const t of e)Fw(this.app,t.next);return Promise.resolve()}}const ET="app-check-internal";(0,wo._registerComponent)(new Nl.wA("app-check",n=>function(n,e){return new bx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ET).initialize()})),(0,wo._registerComponent)(new Nl.wA(ET,n=>function(n){return{getToken:e=>Fy(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=ri(o),h={next:t,error:r,type:e};if(xo(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Ly(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),DN(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>DN(n))}(n,"INTERNAL",e),removeTokenListener:e=>Fw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wo.registerVersion)("@firebase/app-check","0.5.2");class dm{constructor(){return(0,Ye.vb)("app-check")}}"undefined"!=typeof window&&window;const ST=new u.OlP("angularfire2.auth.use-emulator"),By=new u.OlP("angularfire2.auth.settings"),NT=new u.OlP("angularfire2.auth.tenant-id"),Hi=new u.OlP("angularfire2.auth.langugage-code"),Zf=new u.OlP("angularfire2.auth.use-device-language"),hm=new u.OlP("angularfire.auth.persistence"),qw=(n,e,t,r,o,l,h,m)=>(0,mi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))b.settings[T]=N;return m&&b.setPersistence(m),b},[t,r,o,l,h,m]);let Bd=(()=>{class n{constructor(t,r,o,l,h,m,b,T,N,M,V,$){const re=new un.xQ,ye=(0,Ze.of)(void 0).pipe((0,Gf.QV)(h.outsideAngular),tr(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,lt.U)(()=>(0,mi.on)(t,l,r)),(0,lt.U)(Ae=>qw(Ae,l,m,T,N,M,b,V)),rT({bufferSize:1,refCount:!1}));if(ma(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{ye.pipe(Wn()).subscribe();const it=ye.pipe(tr(ut=>ut.getRedirectResult().then(ln=>ln,()=>null)),Ye.iC,rT({bufferSize:1,refCount:!1})),Qe=ye.pipe(tr(ut=>new xt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged($r=>ln.next($r),$r=>ln.error($r),()=>ln.complete()))})))),St=ye.pipe(tr(ut=>new xt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged($r=>ln.next($r),$r=>ln.error($r),()=>ln.complete()))}))));this.authState=it.pipe(Tw(Qe),(0,Sy.R)(h.outsideAngular),(0,Gf.QV)(h.insideAngular)),this.user=it.pipe(Tw(St),(0,Sy.R)(h.outsideAngular),(0,Gf.QV)(h.insideAngular)),this.idToken=this.user.pipe(tr(ut=>ut?(0,pn.D)(ut.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(tr(ut=>ut?(0,pn.D)(ut.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,Ay.T)(it,re,this.authState.pipe(kn(ut=>!ut))).pipe((0,lt.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,Sy.R)(h.outsideAngular),(0,Gf.QV)(h.insideAngular))}return(0,mi.pX)(this,ye,l,{spy:{apply:(Ae,it,Qe)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&Qe.then(St=>re.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mi.Dh),u.LFG(mi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(ST,8),u.LFG(By,8),u.LFG(NT,8),u.LFG(Hi,8),u.LFG(Zf,8),u.LFG(hm,8),u.LFG(dm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zw=(()=>{class n{constructor(){t_.Z.registerVersion("angularfire",Ye.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Bd]}),n})();function fm(n,e){return function(n,e=n_.z){return new xt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Ww(n,e){return fm(n,e).pipe((0,lt.U)(t=>({payload:t,type:"query"})))}function jy(n,e){return Ww(n,e).pipe(Ia(void 0),r_(),(0,lt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(N=>N.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function RT(n,e,t){return jy(n,t).pipe(fu((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zw(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zw(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zw(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function(n,e){return t=>t.lift(new q1(n,e))}(),(0,lt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function zw(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function kT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Hu{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=jy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,lt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ia(void 0),r_(),kn(([r,o])=>o.length>0||!r),(0,lt.U)(([r,o])=>o),Ye.iC)}auditTrail(e){return this.stateChanges(e).pipe(fu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kT(e);return RT(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return Ww(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ye.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Ye.iC)}add(e){return this.ref.add(e)}doc(e){return new Wf(this.ref.doc(e),this.afs)}}class Wf{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=FT(r,t);return new Hu(o,l,this.afs)}snapshotChanges(){return function(n,e){return fm(n,e).pipe(Ia(void 0),r_(),(0,lt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Ye.iC)}}class Yw{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),kn(t=>t.length>0),Ye.iC):jy(this.query,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}auditTrail(e){return this.stateChanges(e).pipe(fu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kT(e);return RT(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return Ww(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ye.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Ye.iC)}}const OT=new u.OlP("angularfire2.enableFirestorePersistence"),PT=new u.OlP("angularfire2.firestore.persistenceSettings"),WN=new u.OlP("angularfire2.firestore.settings"),Kw=new u.OlP("angularfire2.firestore.use-emulator");function FT(n,e=(t=>t)){return{query:e(n),ref:n}}let $y=(()=>{class n{constructor(t,r,o,l,h,m,b,T,N,M,V,$,re,ye,Ae,it,Qe){this.schedulers=b;const St=(0,mi.on)(t,m,r),ut=N;M&&qw(St,m,V,re,ye,Ae,$,it),[this.firestore,this.persistenceEnabled$]=(0,mi.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const ln=m.runOutsideAngular(()=>St.firestore());if(l&&ln.settings(l),ut&&ln.useEmulator(...ut),o&&!ma(h)){const $r=()=>{try{return(0,pn.D)(ln.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Wu){return"undefined"!=typeof console&&console.warn(Wu),(0,Ze.of)(!1)}};return[ln,m.runOutsideAngular($r)]}return[ln,(0,Ze.of)(!1)]},[l,ut,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=FT(o,r),m=this.schedulers.ngZone.run(()=>l);return new Hu(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new Yw(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Wf(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mi.Dh),u.LFG(mi.xv,8),u.LFG(OT,8),u.LFG(WN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(PT,8),u.LFG(Kw,8),u.LFG(Bd,8),u.LFG(ST,8),u.LFG(By,8),u.LFG(NT,8),u.LFG(Hi,8),u.LFG(Zf,8),u.LFG(hm,8),u.LFG(dm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LT=(()=>{class n{constructor(){t_.Z.registerVersion("angularfire",Ye.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OT,useValue:!0},{provide:PT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$y]}),n})(),pm=(()=>{class n{constructor(t,r){var o=this;this.afs=t,this.auth=r,this.user=null,this.currUser=new H1,this.userCollection=t.collection("Users"),this.auth.user.subscribe(function(){var l=(0,de.Z)(function*(h){h?yield o.userExist(h):yield o.userNotExist()});return function(h){return l.apply(this,arguments)}}())}userExist(t){var r=this;return(0,de.Z)(function*(){r.user=t;const o=yield r.getUser(t.uid);o?(r.currUser=o,console.log("Cargo User: ",r.currUser),console.log("user still logged in")):yield r.userNotExist()})()}userNotExist(){var t=this;return(0,de.Z)(function*(){t.user=null,console.log("no User")})()}getUser(t){var r=this;return(0,de.Z)(function*(){return r.getAllUser().then(o=>o.find(l=>l.id===t))})()}getAllUser(){var t=this;return(0,de.Z)(function*(){return t.userCollection.get().toPromise().then(r=>r.docs.map(o=>o.data()))})()}addUser(t){var r=this;return(0,de.Z)(function*(){const o=r.copyAndPrepareUser(t);yield r.userCollection.add(o).then().catch(l=>{console.log(l)})})()}updateUser(t){var r=this;return(0,de.Z)(function*(){const o=r.copyAndPrepareUser(t);yield r.userCollection.doc(t.id).update(o)})()}deleteUser(){var t=this;return(0,de.Z)(function*(){t.currUser?yield t.userCollection.doc(t.currUser.id).delete():console.log("User not logged in")})()}copyAndPrepareUser(t){return Object.assign({},t)}login(t,r){var o=this;return(0,de.Z)(function*(){yield o.auth.signInWithEmailAndPassword(t,r),console.log("logged in")})()}logout(){var t=this;return(0,de.Z)(function*(){yield t.auth.signOut(),console.log("logged out")})()}deleteAccount(){return(0,de.Z)(function*(){var t;yield null===(t=t_.Z.auth().currentUser)||void 0===t?void 0:t.delete(),console.log("deleted account")})()}register(t,r){var o=this;return(0,de.Z)(function*(){yield o.auth.createUserWithEmailAndPassword(t,r),console.log("created account")})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($y),u.LFG(Bd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zN=(()=>{class n{constructor(t){this.userData=t}logout(){var t=this;return(0,de.Z)(function*(){yield t.userData.logout()})()}deleteAccount(){var t=this;return(0,de.Z)(function*(){yield t.userData.deleteUser(),yield t.userData.deleteAccount(),console.log("User deleted")})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loggedin"]],decls:19,vars:1,consts:[[1,"wrapper"],[1,"sidebar"],[1,"row"],[1,"col","text-center"],["src","../../../../assets/img/Export/Icons/user_icon.png","width","120","height","120"],[1,"btn","success","btn-light"],[1,"btn","success","btn-light",3,"click"],[1,"btn","danger","btn-danger",3,"click"],[1,"container"],[1,"h3"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.TgZ(5,"button",5),u._uU(6,"Profilbild bearbeiten"),u.qZA(),u.TgZ(7,"button",5),u._uU(8,"Fahrzeuge verwalten"),u.qZA(),u.TgZ(9,"button",6),u.NdJ("click",function(){return r.logout()}),u._uU(10,"Logout"),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return r.deleteAccount()}),u._uU(12,"Account l\xf6schen"),u.qZA(),u._UZ(13,"br"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"div",8),u.TgZ(15,"div",2),u.TgZ(16,"div",3),u.TgZ(17,"div",9),u._uU(18),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(18),u.hij('Hi "',r.userData.currUser.firstname,'", hier ist dein Profil'))},styles:[""]}),n})();var YN=F(2476),Gu=F(9105);function cr(n,e,t,r){return(0,Gu.m)(t)&&(r=t,t=void 0),r?cr(n,e,t).pipe((0,lt.U)(o=>(0,ys.k)(o)?r(...o):r(o))):new xt.y(o=>{gm(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function gm(n,e,t,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),l=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),l=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),l=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)gm(n[h],e,t,r,o)}r.add(l)}var VT=F(6561);function UT(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}class BT{call(e,t){return t.subscribe(new Xw(e))}}class Xw extends du{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const l=Mc(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let l=this.subscriptions[o];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(t)}}var QN=F(8640);new xt.y(QN.Z);var za=F(377);function Yf(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,mo.n)(n,void 0).lift(new eM(e))}class eM{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new tM(e,this.resultSelector))}}class tM extends Zn.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,ys.k)(e)?t.push(new Sx(e)):t.push("function"==typeof e[za.hZ]?new Ax(e[za.hZ]()):new Nx(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let h=0;h<t;h++){let m=e[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let o=!1;const l=[];for(let h=0;h<t;h++){let m=e[h],b=m.next();if(m.hasCompleted()&&(o=!0),b.done)return void r.complete();l.push(b.value)}this.resultSelector?this._tryresultSelector(l):r.next(l),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class Ax{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class Sx{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[za.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Nx extends ci.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[za.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,ci.ft)(this.observable,new ci.IY(this))}}function dr(n){return e=>e.lift(new nM(n))}class nM{constructor(e){this.notifier=e}call(e,t){const r=new Rx(e),o=(0,ci.ft)(this.notifier,new ci.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class Rx extends ci.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function $T(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new xx(n,t))}}class xx{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new kx(e,this.observables,this.project))}}class kx extends du{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let l=0;l<o;l++)this.toRespond.push(l);for(let l=0;l<o;l++)this.add(Mc(this,t[l],void 0,l))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const l=o.indexOf(r);-1!==l&&o.splice(l,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}F(1593),F(8819);var f=F(1555);function y(n,e){return new xt.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,pn.D)(n[m]);let T=!1;t.add(b.subscribe({next:N=>{T||(T=!0,h++),o[m]=N},error:N=>t.error(N),complete:()=>{l++,(l===r||!T)&&(h===r&&t.next(e?e.reduce((N,M,V)=>(N[M]=o[V],N),{}):o),t.complete())}}))}})}let w=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),E=(()=>{class n extends w{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const A=new u.OlP("NgValueAccessor"),H={provide:A,useExisting:(0,u.Gpc)(()=>se),multi:!0},pe=new u.OlP("CompositionEventMode");let se=(()=>{class n extends w{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(pe,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([H]),u.qOj]}),n})();const $e=new u.OlP("NgValidators"),at=new u.OlP("NgAsyncValidators");function Wy(n){return null!=n}function Px(n){const e=(0,u.QGY)(n)?(0,pn.D)(n):n;return(0,u.CqO)(e),e}function Fx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Lx(n,e){return e.map(t=>t(n))}function Vx(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function oM(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Wy);return 0==e.length?null:function(t){return Fx(Lx(t,e))}}(Vx(n)):null}function aM(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Wy);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,ys.k)(e))return y(e,null);if((0,f.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return y(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return y(n=1===n.length&&(0,ys.k)(n[0])?n[0]:n,null).pipe((0,lt.U)(t=>e(...t)))}return y(n,null)}(Lx(t,e).map(Px)).pipe((0,lt.U)(Fx))}}(Vx(n)):null}function jx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uM(n){return n?Array.isArray(n)?n:[n]:[]}function GT(n,e){return Array.isArray(n)?n.includes(e):n===e}function Gx(n,e){const t=uM(e);return uM(n).forEach(o=>{GT(t,o)||t.push(o)}),t}function qx(n,e){return uM(e).filter(t=>!GT(n,t))}let Zx=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=aM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})(),to=(()=>{class n extends Zx{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class Jf extends Zx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let lM=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Jf,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function e1(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(jx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(jx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();zT(e._rawValidators,o),zT(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zx(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const t1="VALID",JT="INVALID",zy="PENDING",n1="DISABLED";function gM(n){return(_M(n)?n.validators:n)||null}function Jx(n){return Array.isArray(n)?oM(n):n||null}function mM(n,e){return(_M(e)?e.asyncValidators:n)||null}function Qx(n){return Array.isArray(n)?aM(n):n||null}function _M(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class yM{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Jx(this._rawValidators),this._composedAsyncValidatorFn=Qx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===t1}get invalid(){return this.status===JT}get pending(){return this.status==zy}get disabled(){return this.status===n1}get enabled(){return this.status!==n1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Jx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Qx(e)}addValidators(e){this.setValidators(Gx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Gx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qx(e,this._rawAsyncValidators))}hasValidator(e){return GT(this._rawValidators,e)}hasAsyncValidator(e){return GT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=n1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=t1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===t1||this.status===zy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?n1:t1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zy,this._hasOwnPendingAsyncValidator=!0;const t=Px(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof vM?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof FP&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?n1:this.errors?JT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zy)?zy:this._anyControlsHaveStatus(JT)?JT:t1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_M(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class QT extends yM{constructor(e=null,t,r){super(gM(t),mM(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vM extends yM{constructor(e,t,r){super(gM(t),mM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof QT?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class FP extends yM{constructor(e,t,r){super(gM(t),mM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof QT?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const UP={provide:Jf,useExisting:(0,u.Gpc)(()=>XT)},tk=(()=>Promise.resolve(null))();let XT=(()=>{class n extends Jf{constructor(t,r,o,l){super(),this.control=new QT,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===se?t=l:function(n){return Object.getPrototypeOf(n.constructor)===E}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){e1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;tk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(to,9),u.Y36($e,10),u.Y36(at,10),u.Y36(A,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([UP]),u.qOj,u.TTD]}),n})(),rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const KP={provide:A,useExisting:(0,u.Gpc)(()=>eI),multi:!0};function lk(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let eI=(()=>{class n extends E{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const o=lk(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([KP]),u.qOj]}),n})(),TM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(lk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(eI,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const QP={provide:A,useExisting:(0,u.Gpc)(()=>IM),multi:!0};function ck(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let IM=(()=>{class n extends E{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const l=r.selectedOptions;for(let h=0;h<l.length;h++){const m=l.item(h),b=this._getOptionValue(m.value);o.push(b)}}else{const l=r.options;for(let h=0;h<l.length;h++){const m=l.item(h);if(m.selected){const b=this._getOptionValue(m.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([QP]),u.qOj]}),n})(),AM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ck(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ck(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(IM,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[rk]]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bk]}),n})();const Yy=["*"],YF=["dialog"];function Qf(n){return null!=n}function Jy(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Dk={animation:!0,transitionTimerDelayMs:5};let Gi=(()=>{class n{constructor(){this.animation=Dk.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const a2=()=>{},{transitionTimerDelayMs:u2}=Dk,s1=new Map,Ai=(n,e,t,r)=>{let o=r.context||{};const l=s1.get(e);if(l)switch(r.runningTransition){case"continue":return Zr.E;case"stop":n.run(()=>l.transition$.complete()),o=Object.assign(l.context,o),s1.delete(e)}const h=t(e,r.animation,o)||a2;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),(0,Ze.of)(void 0).pipe(function(n){return e=>new xt.y(t=>e.subscribe(h=>n.run(()=>t.next(h)),h=>n.run(()=>t.error(h)),()=>n.run(()=>t.complete())))}(n));const m=new un.xQ,b=new un.xQ,T=m.pipe(function(...n){return e=>Qi(e,(0,Ze.of)(...n))}(!0));s1.set(e,{transition$:m,complete:()=>{b.next(),b.complete()},context:o});const N=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=cr(e,"transitionend").pipe(dr(T),kn(({target:$})=>$===e));(function(...n){if(1===n.length){if(!(0,ys.k)(n[0]))return n[0];n=n[0]}return(0,mo.n)(n,void 0).lift(new BT)})(function(n=0,e,t){let r=-1;return(0,VT.k)(e)?r=Number(e)<1?1:Number(e):(0,cu.K)(e)&&(t=e),(0,cu.K)(t)||(t=n_.P),new xt.y(o=>{const l=(0,VT.k)(n)?n:+n-t.now();return t.schedule(UT,l,{index:0,period:r,subscriber:o})})}(N+u2).pipe(dr(T)),M,b).pipe(dr(T)).subscribe(()=>{s1.delete(e),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let Nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Wt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Wt||(Wt={})),Wt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $k(n){const e=Array.from(n.querySelectorAll(jk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(e);r=this.offset(e,!1),l!==document.documentElement&&(o=this.offset(l,!1)),o.top+=l.clientTop,o.left+=l.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(e,t,r,o){const[l="top",h="center"]=r.split("-"),m=o?this.offset(e,!1):this.position(e,!1),b=this.getAllStyles(t),T=parseFloat(b.marginTop),N=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let $=0,re=0;switch(l){case"top":$=m.top-(t.offsetHeight+T+N);break;case"bottom":$=m.top+m.height;break;case"left":re=m.left-(t.offsetWidth+M+V);break;case"right":re=m.left+m.width}switch(h){case"top":$=m.top;break;case"bottom":$=m.top+m.height-t.offsetHeight;break;case"left":re=m.left;break;case"right":re=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?re=m.left+m.width/2-t.offsetWidth/2:$=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(re)}px, ${Math.round($)}px)`;const ye=t.getBoundingClientRect(),Ae=document.documentElement,it=window.innerHeight||Ae.clientHeight,Qe=window.innerWidth||Ae.clientWidth;return ye.left>=0&&ye.top>=0&&ye.right<=Qe&&ye.bottom<=it}},new Date(1882,10,12),new Date(2174,10,25);let Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr,wk]]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),tO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),nO=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Gi))},token:n,providedIn:"root"}),n})();class bm{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}const sV=()=>{};let rO=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):sV}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ce))},token:n,providedIn:"root"}),n})(),oV=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{Ai(this._zone,this._el.nativeElement,(t,r)=>{r&&Jy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ai(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class HM{close(e){}dismiss(e){}}class aV{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new un.xQ,this._dismissed=new un.xQ,this._hidden=new un.xQ,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ze.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yf(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var d1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(d1||(d1={})),d1))();let uV=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new un.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new un.xQ,this.hidden=new un.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Yf(Ai(this._zone,t,()=>t.classList.remove("show"),r),Ai(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};Yf(Ai(this._zone,this._elRef.nativeElement,(l,h)=>{h&&Jy(l),l.classList.add("show")},t),Ai(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{cr(t,"keydown").pipe(dr(this._closed$),kn(o=>o.which===Wt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(d1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;cr(this._dialogEl.nativeElement,"mousedown").pipe(dr(this._closed$),(0,zn.b)(()=>r=!1),tr(()=>cr(t,"mouseup").pipe(dr(this._closed$),di(1))),kn(({target:o})=>t===o)).subscribe(()=>{r=!0}),cr(t,"click").pipe(dr(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(d1.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=$k(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ai(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ce),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(YF,7),2&t){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Yy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),iO=(()=>{class n{constructor(t,r,o,l,h,m){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new un.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const o=cr(e,"focusin").pipe(dr(t),(0,lt.U)(l=>l.target));cr(e,"keydown").pipe(dr(t),kn(l=>l.which===Wt.Tab),$T(o)).subscribe(([l,h])=>{const[m,b]=$k(e);(h===m||h===e)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&cr(e,"click").pipe(dr(t),$T(o),(0,lt.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(t,r,o,l){const h=l.container instanceof HTMLElement?l.container:Qf(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const N=new HM,M=this._getContentRef(t,l.injector||r,o,N,l);let V=!1!==l.backdrop?this._attachBackdrop(t,h):void 0,$=this._attachWindowComponent(t,h,M),re=new aV($,M,V,l.beforeDismiss);return this._registerModalRef(re),this._registerWindowCmpt($),re.result.then(b,b),re.result.then(T,T),N.close=ye=>{re.close(ye)},N.dismiss=ye=>{re.dismiss(ye)},this._applyWindowOptions($.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,l),V.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),re}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let l=t.resolveComponentFactory(oV).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,r,o){let h=t.resolveComponentFactory(uV).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{Qf(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{Qf(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,l,h){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,l):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,l,h):new bm([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new bm([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new bm([[r]])}_createFromComponent(t,r,o,l,h){const m=t.resolveComponentFactory(o),b=u.zs3.create({providers:[{provide:HM,useValue:l}],parent:r}),T=m.create(b),N=T.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new bm([[N]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ce),u.LFG(rO),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(ce),u.LFG(rO),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),sO=(()=>{class n{constructor(t,r,o,l){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=l}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(iO),u.LFG(nO))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(iO),u.LFG(nO))},token:n,providedIn:"root"}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sO]}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gr]]}),n})();const qV=[Nk,Mk,xk,Pk,Fk,Qk,tO,oO,cO,yO,wO,CO,EO,AO,SO,NO,xO];let ZV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qV,Nk,Mk,xk,Pk,Fk,Qk,tO,oO,cO,yO,wO,CO,EO,AO,SO,NO,xO]}),n})();function WV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.lastnameMessage)}}function zV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.firstnameMessage)}}function YV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.genderMessage)}}function KV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.birthdayMessage)}}function JV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.emailMessage)}}function QV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.usernameMessage)}}function XV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordMessage)}}function eU(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordRepeatMessage)}}let tU=(()=>{class n{constructor(t,r,o){this.activeModal=t,this.router=r,this.userData=o,this.email="",this.firstname="",this.lastname="",this.username="",this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var t=this;return(0,de.Z)(function*(){try{yield t.userData.register(t.email,t.password);const o=(0,YN.n)().currentUser;t.activeModal.close(),t.router.navigate(["/profil"]),o&&(yield t.userData.addUser(new H1(o.uid,t.firstname,t.lastname,t.username,t.birthday,t.gender)))}catch(r){"auth/invalid-email"===r.code?(t.emailMessage="E-Mail ist nicht richtig formatiert",t.wrongEmailClass="border-danger"):"auth/weak-password"===r.code&&(t.passwordMessage="Das Passwort ist nicht korrekt",t.wrongPasswordClass="border-danger")}})()}inputCheck(){var t=this;return(0,de.Z)(function*(){t.email.trim().length>0&&t.password.trim().length>0&&t.firstname.trim().length>0&&t.lastname.trim().length>0&&t.gender.trim().length>0&&t.username.trim().length>0&&null!=t.birthday&&t.password===t.repeatPassword?yield t.register():(0===t.email.trim().length&&(t.emailMessage="Geben Sie Ihre E-Mail an",t.wrongEmailClass="border-danger"),0===t.password.trim().length&&(t.passwordMessage="Geben Sie ein Passwort an",t.wrongPasswordClass="border-danger"),0===t.repeatPassword.trim().length&&(t.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",t.wrongRepeatPasswordClass="border-danger"),t.repeatPassword!==t.password&&(t.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",t.wrongRepeatPasswordClass="border-danger"),0===t.firstname.trim().length&&(t.firstnameMessage="Geben Sie Ihren Vornamen an",t.wrongFirstname="border-danger"),0===t.lastname.trim().length&&(t.lastnameMessage="Geben Sie Ihren Nachnamen an",t.wrongLastname="border-danger"),0===t.username.trim().length&&(t.usernameMessage="Geben Sie einen Nutzername an",t.wrongUsername="border-danger"),0===t.gender.trim().length&&(t.genderMessage="Geben Sie Ihr Geschlecht an",t.wrongGender="border-danger"),void 0===t.birthday&&(t.birthdayMessage="Geben Sie Ihren Geburtstag an",t.wrongBirthday="border-danger"))})()}validEmail(t){t.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(t){t.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(t){t.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(t){t.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(t){console.log(t),t.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(t){t.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(t){console.log(t),t.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(t){t.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HM),u.Y36(gi),u.Y36(pm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._uU(6,"Registrieren"),u.qZA(),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"div",7),u.TgZ(9,"button",8),u.NdJ("click",function(){return r.activeModal.dismiss()}),u.TgZ(10,"span",9),u._uU(11,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",10),u.TgZ(13,"div",1),u.TgZ(14,"div",2),u.TgZ(15,"div",11),u.TgZ(16,"div",12),u.TgZ(17,"label",13),u._uU(18,"Nachname"),u.qZA(),u.TgZ(19,"input",14,15),u.NdJ("ngModelChange",function(h){return r.lastname=h})("keydown",function(){u.CHM(o);const h=u.MAs(20);return r.validLastname(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(21,WV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(22,"div",11),u.TgZ(23,"div",12),u.TgZ(24,"label",17),u._uU(25,"Vorname"),u.qZA(),u.TgZ(26,"input",18,19),u.NdJ("ngModelChange",function(h){return r.firstname=h})("keydown",function(){u.CHM(o);const h=u.MAs(27);return r.validFirstname(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(28,zV,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(29,"div",2),u.TgZ(30,"div",11),u.TgZ(31,"div",12),u.TgZ(32,"label",20),u._uU(33,"Geschlecht"),u.qZA(),u.TgZ(34,"select",21,22),u.NdJ("ngModelChange",function(h){return r.gender=h})("change",function(){u.CHM(o);const h=u.MAs(35);return r.validGender(h.value)})("keydown.enter",function(){return r.inputCheck()}),u._UZ(36,"option",23),u.TgZ(37,"option",24),u._uU(38,"Weiblich"),u.qZA(),u.TgZ(39,"option",25),u._uU(40,"M\xe4nnlich"),u.qZA(),u.TgZ(41,"option",26),u._uU(42,"Divers"),u.qZA(),u.qZA(),u.YNc(43,YV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(44,"div",11),u.TgZ(45,"div",12),u.TgZ(46,"label",27),u._uU(47,"Geburtstag"),u.qZA(),u.TgZ(48,"input",28,29),u.NdJ("ngModelChange",function(h){return r.birthday=h})("change",function(){u.CHM(o);const h=u.MAs(49);return r.validBirthday(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(50,KV,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",2),u.TgZ(52,"div",11),u.TgZ(53,"div",12),u.TgZ(54,"label",30),u._uU(55,"Email"),u.qZA(),u.TgZ(56,"input",31,32),u.NdJ("ngModelChange",function(h){return r.email=h})("keydown",function(){u.CHM(o);const h=u.MAs(57);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(58,JV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(59,"div",11),u.TgZ(60,"div",12),u.TgZ(61,"label",33),u._uU(62,"Nutzername"),u.qZA(),u.TgZ(63,"input",34,35),u.NdJ("ngModelChange",function(h){return r.username=h})("keydown",function(){u.CHM(o);const h=u.MAs(64);return r.validUsername(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(65,QV,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(66,"div",2),u.TgZ(67,"div",11),u.TgZ(68,"div",12),u.TgZ(69,"label",36),u._uU(70,"Passwort"),u.qZA(),u.TgZ(71,"input",37,38),u.NdJ("ngModelChange",function(h){return r.password=h})("keydown",function(){u.CHM(o);const h=u.MAs(72);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(73,XV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(74,"div",11),u.TgZ(75,"div",12),u.TgZ(76,"label",39),u._uU(77,"Passwort wiederholen"),u.qZA(),u.TgZ(78,"input",40,41),u.NdJ("ngModelChange",function(h){return r.repeatPassword=h})("keydown",function(){u.CHM(o);const h=u.MAs(79);return r.validRepeatPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(80,eU,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(81,"div",42),u.TgZ(82,"div",1),u.TgZ(83,"div",43),u.TgZ(84,"div",44),u.TgZ(85,"button",45),u.NdJ("click",function(){return r.inputCheck()}),u._uU(86,"Registrieren "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(87,"div",43),u.TgZ(88,"div",44),u.TgZ(89,"button",46),u.NdJ("click",function(){return r.activeModal.dismiss()}),u._uU(90,"Abbrechen "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(19),u.Gre("form-control ",r.wrongLastname,""),u.Q6J("ngModel",r.lastname),u.xp6(2),u.Q6J("ngIf",""!==r.lastnameMessage),u.xp6(5),u.Gre("form-control ",r.wrongFirstname,""),u.Q6J("ngModel",r.firstname),u.xp6(2),u.Q6J("ngIf",""!==r.firstnameMessage),u.xp6(6),u.Gre("form-control ",r.wrongGender,""),u.Q6J("ngModel",r.gender),u.xp6(9),u.Q6J("ngIf",""!==r.genderMessage),u.xp6(5),u.Gre("form-control ",r.wrongBirthday,""),u.Q6J("ngModel",r.birthday),u.xp6(2),u.Q6J("ngIf",""!==r.birthdayMessage),u.xp6(6),u.Gre("form-control ",r.wrongEmailClass,""),u.Q6J("ngModel",r.email),u.xp6(2),u.Q6J("ngIf",""!==r.emailMessage),u.xp6(5),u.Gre("form-control ",r.wrongUsername,""),u.Q6J("ngModel",r.username),u.xp6(2),u.Q6J("ngIf",""!==r.usernameMessage),u.xp6(6),u.Gre("form-control ",r.wrongPasswordClass,""),u.Q6J("ngModel",r.password),u.xp6(2),u.Q6J("ngIf",""!==r.passwordMessage),u.xp6(5),u.Gre("form-control ",r.wrongRepeatPasswordClass,""),u.Q6J("ngModel",r.repeatPassword),u.xp6(2),u.Q6J("ngIf",""!==r.passwordRepeatMessage))},directives:[se,lM,XT,Fn,eI,TM,AM],styles:[""]}),n})();function nU(n,e){if(1&n&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.emailMessage)}}function rU(n,e){if(1&n&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordMessage)}}let iU=(()=>{class n{constructor(t,r){this.modalService=t,this.userData=r,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(tU,{animation:!0,centered:!0})}inputCheck(){var t=this;return(0,de.Z)(function*(){0===t.email.trim().length&&0===t.password.trim().length?(t.wrongEmail="border-danger",t.wrongPassword="border-danger",t.passwordMessage="Please fill out your password",t.emailMessage="Please fill out your email"):0===t.email.trim().length?(t.emailMessage="Please fill out your email",t.wrongEmail="border-danger"):0===t.password.trim().length?(t.wrongPassword="border-danger",t.passwordMessage="Please fill out your password"):(t.wrongEmail="",yield t.login())})()}login(){var t=this;return(0,de.Z)(function*(){t.userData.login(t.email,t.password).then(()=>{}).catch(r=>{console.log(r),"auth/invalid-email"===r.code&&(t.emailMessage="E-Mail falsch formatiert",t.wrongEmail="border-danger"),"auth/wrong-password"===r.code&&(t.passwordMessage="Falsches Passwort",t.wrongPassword="border-danger"),"auth/user-not-found"===r.code&&(t.emailMessage="Nutzer nicht gefunden",t.wrongEmail="border-danger")})})()}validEmail(t){t.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(t){t.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sO),u.Y36(pm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u._uU(5,"Login"),u.qZA(),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",5),u.TgZ(8,"label",6),u._uU(9,"Email"),u.qZA(),u.TgZ(10,"input",7,8),u.NdJ("keydown",function(){u.CHM(o);const h=u.MAs(11);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.email=h}),u.qZA(),u.YNc(12,nU,2,1,"div",9),u.qZA(),u.qZA(),u.TgZ(13,"div",3),u.TgZ(14,"div",5),u.TgZ(15,"label",10),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",11,12),u.NdJ("keypress",function(){u.CHM(o);const h=u.MAs(18);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.password=h}),u.qZA(),u.YNc(19,rU,2,1,"div",9),u.qZA(),u.qZA(),u.TgZ(20,"div",13),u.TgZ(21,"div",14),u.TgZ(22,"button",15),u.NdJ("click",function(){return r.inputCheck()}),u._uU(23,"Anmelden "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div",13),u.TgZ(25,"div",14),u.TgZ(26,"button",16),u.NdJ("click",function(){return r.openRegistrationModal()}),u._uU(27,"Registrieren "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(10),u.Gre("form-control ",r.wrongEmail,""),u.Q6J("ngModel",r.email),u.xp6(2),u.Q6J("ngIf",""!==r.emailMessage),u.xp6(5),u.Gre("form-control ",r.wrongPassword,""),u.Q6J("ngModel",r.password),u.xp6(2),u.Q6J("ngIf",""!==r.passwordMessage))},directives:[se,lM,XT,Fn],styles:[""]}),n})();function sU(n,e){1&n&&u._UZ(0,"app-loggedin")}function oU(n,e){1&n&&u._UZ(0,"app-notloggedin")}const aU=[{path:"profil",component:(()=>{class n{constructor(t){this.userData=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(u.YNc(0,sU,1,0,"app-loggedin",0),u.YNc(1,oU,1,0,"app-notloggedin",0)),2&t&&(u.Q6J("ngIf",r.userData.user),u.xp6(1),u.Q6J("ngIf",!r.userData.user))},directives:[Fn,zN,iU],styles:[""]}),n})()}];let uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[kv.forRoot(aU)],kv]}),n})(),lU=(()=>{class n{constructor(t){this.afs=t,this.tourCollection=t.collection("Tours")}copyAndPrepareTour(t){return Object.assign({},t)}addTour(t){var r=this;return(0,de.Z)(function*(){r.tourCollection.add(r.copyAndPrepareTour(t)).then(()=>console.log("tour added")).catch(o=>console.log(o))})()}deleteTour(t){var r=this;return(0,de.Z)(function*(){r.tourCollection.doc(t.id).delete().then(()=>console.log("tour deleted")).catch(o=>console.log(o))})()}updateTour(t){var r=this;return(0,de.Z)(function*(){r.tourCollection.doc(t.id).update(t).then(()=>console.log("tour updated")).catch(o=>console.log(o))})()}getFiltleredTours(t){var r=this;return(0,de.Z)(function*(){let o=r.afs.collection("Tours").valueChanges({idField:"id"}),l=[];return o.toPromise().then(h=>{h.map(m=>{l.push(m)})}),console.log("Tours[]: ",l),l.filter(t)})()}getAllTours(){var t=this;return(0,de.Z)(function*(){return t.tourCollection.get().toPromise().then(r=>r.docs.map(o=>{let l=o.data();return l.id=o.id,l}))})()}test(t){var r=this;return(0,de.Z)(function*(){return r.afs.collection("Tours",o=>o.where("descr","==",t)).get().toPromise().then(o=>o.docs.map(l=>{let h=l.data();return h.id=l.id,h}))})()}test1(t,r){var o=this;return(0,de.Z)(function*(){return o.afs.collection("Tours",l=>l.where("descr","==",t)).doc(r).get().toPromise().then(l=>{let h=l.data();return h&&(h.id=l.id),h})})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($y))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cU=(()=>{class n{constructor(t,r){this.router=t,this.authData=r}navigateToUser(){this.router.navigate(["/profil"])}navigateToMainPage(){this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gi),u.Y36(pm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","py-2"],[1,"container-fluid",2,"margin-left","15em","margin-right","15em"],[2,"border","none","background-color","Transparent",3,"click"],["src","../../../assets/img/Export/SVG/LKW.svg","width","180","height","75"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mr-auto"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],["href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],[1,"navbar-nav","me-auto","my-2","my-lg-0"],["href","#",1,"nav-item",2,"margin-right","14px"],[2,"border","none","background-color","Transparent"],["src","../../../assets/img/Export/Icons/search_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],[1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],[1,"nav-item",2,"margin-right","12px"],["src","../../../assets/img/Export/Icons/add_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],["href","#",1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],["src","../../../assets/img/Export/Icons/user_icon.png","width","43","height","43",2,"float","left"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"button",2),u.NdJ("click",function(){return r.navigateToMainPage()}),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6),u.TgZ(7,"ul",7),u.TgZ(8,"li",8),u.TgZ(9,"a",9),u._uU(10,"Mitfahrgelegenheit"),u.qZA(),u.qZA(),u.TgZ(11,"li",8),u.TgZ(12,"a",10),u._uU(13,"Meine Angebote & Anfragen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"ul",11),u.TgZ(15,"li",12),u.TgZ(16,"button",13),u._UZ(17,"img",14),u.TgZ(18,"a",15),u._uU(19,"Suchen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"li",16),u.TgZ(21,"button",13),u._UZ(22,"img",17),u.TgZ(23,"a",18),u._uU(24,"Angebot & Anfrage erstellen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"li"),u.TgZ(26,"button",2),u.NdJ("click",function(){return r.navigateToUser()}),u._UZ(27,"img",19),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[jM],styles:[""]}),n})(),dU=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"containter"],[1,"row"],[1,"col","bg-light","pb-2","pl-5","pt-2"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._uU(4,"\xa9Cargonaut"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%}"]}),n})(),hU=(()=>{class n{constructor(t,r){this.router=t,this.tourTest=r,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),this.test().then(o=>{console.log("test 1: ",o)}),this.test2().then(o=>{console.log("test 2: ",o)}),this.test3().then(o=>console.log(o)),this.test4().then(o=>console.log(o))}test(){var t=this;return(0,de.Z)(function*(){return yield t.tourTest.getFiltleredTours(()=>!0)})()}test2(){var t=this;return(0,de.Z)(function*(){return yield t.tourTest.getAllTours()})()}test3(){var t=this;return(0,de.Z)(function*(){return yield t.tourTest.test("hihi")})()}test4(){var t=this;return(0,de.Z)(function*(){return yield t.tourTest.test1("hihi","PEQG58A0fXi1OJ5XlSNW")})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gi),u.Y36(lU))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u._UZ(1,"router-outlet"),u._UZ(2,"app-footer"))},directives:[cU,Lh,dU],styles:[""]}),n})();class pU{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new gU(e,this.dueTime,this.scheduler))}}class gU extends Zn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function mU(n){n.debouncedNext()}const kO="firebasestorage.googleapis.com",OO="storageBucket";class Mr extends bt.ZR{constructor(e,t){super(WM(e),`Firebase Storage: ${t} (${WM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}_codeEquals(e){return WM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function WM(n){return"storage/"+n}function zM(){return new Mr("unknown","An unknown error occurred, please check the error payload for server response.")}function PO(){return new Mr("canceled","User canceled the upload/download.")}function FO(){return new Mr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function tv(n){return new Mr("invalid-argument",n)}function LO(){return new Mr("app-deleted","The Firebase app was deleted.")}function VO(n){return new Mr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function h1(n,e){return new Mr("invalid-format","String does not match format '"+n+"': "+e)}function f1(n){throw new Mr("internal-error","Internal error: "+n)}class Is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Is.makeFromUrl(e,t)}catch(o){return new Is(e,"")}if(""===r.path)return r;throw function(n){return new Mr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(ut){ut.path_=decodeURIComponent(ut.path)}const M=t.replace(/[.]/g,"\\."),St=[{regex:m,indices:{bucket:1,path:3},postModify:function(ut){"/"===ut.path.charAt(ut.path.length-1)&&(ut.path_=ut.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===kO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let ut=0;ut<St.length;ut++){const ln=St[ut],$r=ln.regex.exec(e);if($r){let Oo=$r[ln.indices.path];Oo||(Oo=""),r=new Is($r[ln.indices.bucket],Oo),ln.postModify(r);break}}if(null==r)throw function(n){return new Mr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class MU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fI(n){return"string"==typeof n||n instanceof String}function UO(n){return YM()&&n instanceof Blob}function YM(){return"undefined"!=typeof Blob}function KM(n,e,t,r){if(r<e)throw tv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw tv(`Invalid value for '${n}'. Expected ${t} or less.`)}function Gd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function BO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ep=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ep||(ep={})),ep))();class FU{constructor(e,t,r,o,l,h,m,b,T,N,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,$)=>{this.resolve_=V,this.reject_=$,this.start_()})}start_(){const t=(r,o)=>{const l=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==m){const b=zM();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(o.canceled?this.appDelete_?LO():PO():new Mr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new pI(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,l=null,h=!1,m=0;function b(){return 2===m}let T=!1;function N(...Ae){T||(T=!0,e.apply(null,Ae))}function M(Ae){o=setTimeout(()=>{o=null,n($,b())},Ae)}function V(){l&&clearTimeout(l)}function $(Ae,...it){if(T)return void V();if(Ae)return V(),void N.call(null,Ae,...it);if(b()||h)return V(),void N.call(null,Ae,...it);let St;r<64&&(r*=2),1===m?(m=2,St=0):St=1e3*(r+Math.random()),M(St)}let re=!1;function ye(Ae){re||(re=!0,V(),!T&&(null!==o?(Ae||(m=2),clearTimeout(o),M(0)):Ae||(m=1)))}return M(0),l=setTimeout(()=>{h=!0,ye(!0)},t),ye}((r,o)=>{if(o)return void r(!1,new pI(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===ep.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const N=l.getErrorCode()===ep.ABORT;return void r(!1,new pI(!1,null,N))}const T=-1!==this.successCodes_.indexOf(b);r(!0,new pI(T,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||l}}class pI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function HU(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(YM())return new Blob(n);throw new Mr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class JM{constructor(e,t){this.data=e,this.contentType=t||null}}function QM(n,e){switch(n){case ca.RAW:return new JM(jO(e));case ca.BASE64:case ca.BASE64URL:return new JM($O(n,e));case ca.DATA_URL:return new JM(function(n){const e=new HO(n);return e.base64?$O(ca.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw h1(ca.DATA_URL,"Malformed data URL.")}return jO(e)}(e.rest)}(e),function(n){return new HO(n).contentType}(e))}throw zM()}function jO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function $O(n,e){switch(n){case ca.BASE64:{const o=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(o||l)throw h1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ca.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw h1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw h1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class HO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw h1(ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class sc{constructor(e,t){let r=0,o="";UO(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(UO(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new sc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new sc(r,!0)}}static getBlob(...e){if(YM()){const t=e.map(r=>r instanceof sc?r.data_:r);return new sc(HU.apply(null,t))}{const t=e.map(h=>fI(h)?QM(ca.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[l++]=h[m]}),new sc(o,!0)}}uploadData(){return this.data_}}function XM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function GO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function QU(n,e){return e}class no{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||QU}}let gI=null;function p1(){if(gI)return gI;const n=[];n.push(new no("bucket")),n.push(new no("generation")),n.push(new no("metageneration")),n.push(new no("name","fullPath",!0));const t=new no("name");t.xform=function(l,h){return function(n){return!fI(n)||n.length<2?n:GO(n)}(h)},n.push(t);const o=new no("size");return o.xform=function(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new no("timeCreated")),n.push(new no("updated")),n.push(new no("md5Hash",null,!0)),n.push(new no("cacheControl",null,!0)),n.push(new no("contentDisposition",null,!0)),n.push(new no("contentEncoding",null,!0)),n.push(new no("contentLanguage",null,!0)),n.push(new no("contentType",null,!0)),n.push(new no("metadata","customMetadata",!0)),gI=n,gI}function qO(n,e,t){const r=XM(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let l=0;l<o;l++){const h=t[l];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const l=new Is(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function eR(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const ZO="prefixes";class oc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ac(n){if(!n)throw zM()}function mI(n,e){return function(r,o){const l=qO(n,o,e);return ac(null!==l),l}}function nv(n){return function(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Mr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Mr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Mr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Mr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function g1(n){const e=nv(n);return function(r,o){let l=e(r,o);return 404===r.getStatus()&&(l=function(n){return new Mr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function zO(n,e,t){const o=Gd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new oc(o,"GET",mI(n,t),h);return m.errorHandler=g1(e),m}function aB(n,e,t,r,o){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),o&&(l.maxResults=o);const m=Gd(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new oc(m,"GET",function(n,e){return function(r,o){const l=function(n,e,t){const r=XM(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ZO])for(const o of t[ZO]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new Is(e,l));r.prefixes.push(h)}if(t.items)for(const o of t.items){const l=n._makeStorageReference(new Is(e,o.name));r.items.push(l)}return r}(n,e,r)}(n,e,o);return ac(null!==l),l}}(n,e.bucket),T);return N.urlParams=l,N.errorHandler=nv(e),N}function KO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class _I{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function tR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){ac(!1)}return ac(!!t&&-1!==(e||["active"]).indexOf(t)),t}const gB={STATE_CHANGED:"state_changed"},ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nR(n){switch(n){case"running":case"pausing":case"canceling":return ro.RUNNING;case"paused":return ro.PAUSED;case"success":return ro.SUCCESS;case"canceled":return ro.CANCELED;case"error":default:return ro.ERROR}}class mB{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function rv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class yB extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ep.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ep.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ep.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw f1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw f1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw f1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw f1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw f1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Zu(){return new yB}class eP{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=p1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h=KO(e,r,o),m={name:h.fullPath},b=Gd(l,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=eR(h,t),re=new oc(b,"POST",function(ye){let Ae;tR(ye);try{Ae=ye.getResponseHeader("X-Goog-Upload-URL")}catch(it){ac(!1)}return ac(fI(Ae)),Ae},n.maxUploadRetryTime);return re.urlParams=m,re.headers=N,re.body=M,re.errorHandler=nv(e),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zu,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const b=new oc(t,"POST",function(T){const N=tR(T,["active","final"]);let M=null;try{M=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){ac(!1)}M||ac(!1);const V=Number(M);return ac(!isNaN(V)),new _I(V,r.size(),"final"===N)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=nv(e),b}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,Zu,t,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new _I(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function(n,e,t,r,o,l,h,m){const b=new _I(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new Mr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=b.total-b.current;let N=T;o>0&&(N=Math.min(N,o));const M=b.current,re={"X-Goog-Upload-Command":N===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ye=r.slice(M,M+N);if(null===ye)throw FO();const St=new oc(t,"POST",function(ut,ln){const $r=tR(ut,["active","final"]),Wu=b.current+N,Oo=r.size();let sR;return sR="final"===$r?mI(e,l)(ut,ln):null,new _I(Wu,Oo,"final"===$r,sR)},e.maxUploadRetryTime);return St.headers=re,St.body=ye.uploadData(),St.progressCallback=m||null,St.errorHandler=nv(n),St}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,Zu,o,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=zO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Zu,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let St="";for(let ut=0;ut<2;ut++)St+=Math.random().toString().slice(2);return St}();h["Content-Type"]="multipart/related; boundary="+b;const T=KO(e,r,o),N=eR(T,t),$=sc.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+b+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===$)throw FO();const re={name:T.fullPath},ye=Gd(l,n.host,n._protocol),it=n.maxUploadRetryTime,Qe=new oc(ye,"POST",mI(n,t),it);return Qe.urlParams=re,Qe.headers=h,Qe.body=$.uploadData(),Qe.errorHandler=nv(e),Qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zu,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=PO(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=nR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const l=new mB(t||void 0,r||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(nR(this._state)){case ro.SUCCESS:rv(this._resolve.bind(null,this.snapshot))();break;case ro.CANCELED:case ro.ERROR:rv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nR(this._state)){case ro.RUNNING:case ro.PAUSED:e.next&&rv(e.next.bind(e,this.snapshot))();break;case ro.SUCCESS:e.complete&&rv(e.complete.bind(e))();break;case ro.CANCELED:case ro.ERROR:e.error&&rv(e.error.bind(e,this._error))();break;default:e.error&&rv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class wm{constructor(e,t){this._service=e,this._location=t instanceof Is?t:Is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wm(e,t)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GO(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Is(this._location.bucket,e);return new wm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw VO(e)}}function nP(n,e,t){return rR.apply(this,arguments)}function rR(){return(rR=(0,de.Z)(function*(n,e,t){const o=yield rP(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield nP(n,e,o.nextPageToken))})).apply(this,arguments)}function rP(n,e){null!=e&&"number"==typeof e.maxResults&&KM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=aB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Zu)}function MB(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=Gd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new oc(o,"GET",function(n,e){return function(r,o){const l=qO(n,o,e);return ac(null!==l),function(n,e,t,r){const o=XM(e);if(null===o||!fI(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(T=>{const M=n.fullPath;return Gd("/b/"+h(n.bucket)+"/o/"+h(M),t,r)+BO({alt:"media",token:T})})[0]}(l,o,n.host,n._protocol)}}(n,t),h);return m.errorHandler=g1(e),m}(n.storage,n._location,p1());return n.storage.makeRequestWithTokens(e,Zu).then(t=>{if(null===t)throw new Mr("no-download-url","The given file does not have any download URLs.");return t})}function iP(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Is(n._location.bucket,t);return new wm(n.storage,r)}function sP(n,e){if(n instanceof iR){const t=n;if(null==t._bucket)throw new Mr("no-default-bucket","No default bucket found. Did you set the '"+OO+"' property when initializing the app?");const r=new wm(t,t._bucket);return null!=e?sP(r,e):r}return void 0!==e?iP(n,e):n}function OB(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof iR)return function(n,e){return new wm(n,e)}(n,e);throw tv("To use ref(service, url), the first argument must be a Storage instance.")}return sP(n,e)}function oP(n,e){const t=null==e?void 0:e[OO];return null==t?null:Is.makeFromBucketSpec(t,n)}class iR{constructor(e,t,r,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=kO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Is.makeFromBucketSpec(o,this._host):oP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,e):oP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,de.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,de.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wm(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new MU(LO());{const l=function(n,e,t,r,o,l){const h=BO(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(b,l),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new FU(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,de.Z)(function*(){const[o,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,l).getPromise()})()}}const aP="@firebase/storage";function cP(n,e){return OB(n=(0,bt.m9)(n),e)}(0,wo._registerComponent)(new Nl.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new iR(t,r,o,e,wo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,wo.registerVersion)(aP,"0.9.0",""),(0,wo.registerVersion)(aP,"0.9.0","esm2017");class yI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class dP{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new yI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new yI(r,this,this._ref))},t)}on(e,t,r,o){let l;return t&&(l="function"==typeof t?h=>t(new yI(h,this,this._ref)):{next:t.next?h=>t.next(new yI(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,o||void 0)}}class hP{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new qd(e,this._service))}get items(){return this._delegate.items.map(e=>new qd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class qd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return iP(n,e)}(this._delegate,e);return new qd(t,this.storage)}get root(){return new qd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new qd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new dP(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new eP(n,new sc(e),t)}(n=(0,bt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ca.RAW,r){this._throwIfRoot("putString");const o=QM(t,e),l=Object.assign({},r);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new dP(new eP(this._delegate,new sc(o.data,!0),l),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return nP(n,e).then(()=>e)}(n=(0,bt.m9)(n))}(this._delegate).then(e=>new hP(e,this.storage))}list(e){return function(n,e){return rP(n=(0,bt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new hP(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=zO(n.storage,n._location,p1());return n.storage.makeRequestWithTokens(e,Zu)}(n=(0,bt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const l=Gd(e.fullServerUrl(),n.host,n._protocol),m=eR(t,r),T=n.maxOperationRetryTime,N=new oc(l,"PATCH",mI(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=g1(e),N}(n.storage,n._location,e,p1());return n.storage.makeRequestWithTokens(t,Zu)}(n=(0,bt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return MB(n=(0,bt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Gd(e.fullServerUrl(),n.host,n._protocol),m=new oc(r,"DELETE",function(b,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=g1(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Zu)}(n=(0,bt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw VO(e)}}class fP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(pP(e))throw tv("ref() expected a child path but got a URL, use refFromURL instead.");return new qd(cP(this._delegate,e),this)}refFromURL(e){if(!pP(e))throw tv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(e,this._delegate.host)}catch(t){throw tv("refFromUrl() expected a valid full URL but got an invalid one.")}return new qd(cP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,bt.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function pP(n){return/^[A-Za-z]+:\/\//.test(n)}function KB(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new fP(t,r)}function gP(n){const e=function(n){return new xt.y(e=>{const t=h=>e.next(h);t(n.snapshot);const l=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){l()}}).pipe(function(n,e=n_.P){return t=>t.lift(new pU(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,lt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function vI(n){return{getDownloadURL:()=>(0,Ze.of)(void 0).pipe(Ye.fc,tr(()=>n.getDownloadURL()),Ye.iC),getMetadata:()=>(0,Ze.of)(void 0).pipe(Ye.fc,tr(()=>n.getMetadata()),Ye.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>vI(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>gP(n.put(e,t)),putString:(e,t,r)=>gP(n.putString(e,t,r)),list:e=>(0,pn.D)(n.list(e)),listAll:()=>(0,pn.D)(n.listAll())}}!function(n){const e={TaskState:ro,TaskEvent:gB,StringFormat:ca,Storage:fP,Reference:qd};n.INTERNAL.registerComponent(new Nl.wA("storage-compat",KB,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(s_.Z);const XB=new u.OlP("angularfire2.storageBucket"),e3=new u.OlP("angularfire2.storage.maxUploadRetryTime"),t3=new u.OlP("angularfire2.storage.maxOperationRetryTime"),n3=new u.OlP("angularfire2.storage.use-emulator");let r3=(()=>{class n{constructor(t,r,o,l,h,m,b,T,N,M){const V=(0,mi.on)(t,h,r);this.storage=(0,mi.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const $=h.runOutsideAngular(()=>V.storage(o||void 0)),re=N;return re&&$.useEmulator(...re),b&&$.setMaxUploadRetryTime(b),T&&$.setMaxOperationRetryTime(T),$},[b,T])}ref(t){return vI(this.storage.ref(t))}refFromURL(t){return vI(this.storage.refFromURL(t))}upload(t,r,o){return vI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mi.Dh),u.LFG(mi.xv,8),u.LFG(XB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(e3,8),u.LFG(t3,8),u.LFG(n3,8),u.LFG(dm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),s3=(()=>{class n{constructor(){t_.Z.registerVersion("angularfire",Ye.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[r3],imports:[i3]}),n})();const mP_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let o3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[hU]}),n.\u0275inj=u.cJS({providers:[],imports:[[lp,uU,ZV,mi.hO.initializeApp(mP_firebaseConfig),LT,Zw,s3,wk]]}),n})();(0,u.G48)(),Ho().bootstrapModule(o3).catch(n=>console.error(n))},3394:(Ke,be,F)=>{"use strict";F.d(be,{Z:()=>Me});var u=F(3854),j=F(3910),O=F(8026),le=F(5422);class ae{constructor(ge,ne){this._delegate=ge,this.firebase=ne,(0,O._addComponent)(ge,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,ne=O._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(ge);return!Ee.isInitialized()&&"EXPLICIT"===(null===(oe=Ee.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:ne})}_removeServiceInstance(ge,ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(ne)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function W(){const De=function(De){const ge={},ne={__esModule:!0,initializeApp:function(vt,Dn={}){const Et=O.initializeApp(vt,Dn);if((0,u.r3)(ge,Et.name))return ge[Et.name];const mt=new De(Et,ne);return ge[Et.name]=mt,mt},app:Ee,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const Dn=vt.name,Et=Dn.replace("-compat","");if(O._registerComponent(vt)&&"PUBLIC"===vt.type){const mt=(Pt=Ee())=>{if("function"!=typeof Pt[Et])throw ce.create("invalid-app-argument",{appName:Dn});return Pt[Et]()};void 0!==vt.serviceProps&&(0,u.ZB)(mt,vt.serviceProps),ne[Et]=mt,De.prototype[Et]=function(...Pt){return this._getService.bind(this,Dn).apply(this,vt.multipleInstances?Pt:[])}}return"PUBLIC"===vt.type?ne[Et]:null},removeApp:function(vt){delete ge[vt]},useAsService:function(vt,Dn){return"serverAuth"===Dn?null:Dn},modularAPIs:O}};function Ee(vt){if(!(0,u.r3)(ge,vt=vt||O._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:vt});return ge[vt]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function(){return Object.keys(ge).map(vt=>ge[vt])}}),Ee.App=De,ne}(ae);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(ne){(0,u.ZB)(De,ne)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),De}(),B=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(Ke,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>qi,_addComponent:()=>cs,_addOrOverwriteComponent:()=>As,_apps:()=>Yt,_clearComponents:()=>gn,_components:()=>jt,_getProvider:()=>on,_registerComponent:()=>Ni,_removeServiceInstance:()=>Ss,deleteApp:()=>jn,getApp:()=>ke,getApps:()=>bn,initializeApp:()=>Zi,onLog:()=>Ht,registerVersion:()=>Be,setLogLevel:()=>fr});var u=F(8239),j=F(3910),O=F(5422),le=F(3854);class ae{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function(st){const rt=st.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Mt)){const Ft=Mt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(Mt=>Mt).join(" ")}}const ce="@firebase/app",Q="0.7.10",W=new O.Yd("@firebase/app"),qi="[DEFAULT]",io={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,jt=new Map;function cs(st,rt){try{st.container.addComponent(rt)}catch(Mt){W.debug(`Component ${rt.name} failed to register with FirebaseApp ${st.name}`,Mt)}}function As(st,rt){st.container.addOrOverwriteComponent(rt)}function Ni(st){const rt=st.name;if(jt.has(rt))return W.debug(`There were multiple attempts to register component ${rt}.`),!1;jt.set(rt,st);for(const Mt of Yt.values())cs(Mt,st);return!0}function on(st,rt){return st.container.getProvider(rt)}function Ss(st,rt,Mt=qi){on(st,rt).clearInstance(Mt)}function gn(){jt.clear()}const Qt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ns{constructor(rt,Mt,Ft){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Mi="9.6.0";function Zi(st,rt={}){"object"!=typeof rt&&(rt={name:rt});const Mt=Object.assign({name:qi,automaticDataCollectionEnabled:!1},rt),Ft=Mt.name;if("string"!=typeof Ft||!Ft)throw Qt.create("bad-app-name",{appName:String(Ft)});const Hn=Yt.get(Ft);if(Hn){if((0,le.vZ)(st,Hn.options)&&(0,le.vZ)(Mt,Hn.config))return Hn;throw Qt.create("duplicate-app",{appName:Ft})}const en=new j.H0(Ft);for(const et of jt.values())en.addComponent(et);const Pe=new Ns(st,Mt,en);return Yt.set(Ft,Pe),Pe}function ke(st=qi){const rt=Yt.get(st);if(!rt)throw Qt.create("no-app",{appName:st});return rt}function bn(){return Array.from(Yt.values())}function jn(st){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(st){const rt=st.name;Yt.has(rt)&&(Yt.delete(rt),yield Promise.all(st.container.getProviders().map(Mt=>Mt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function Be(st,rt,Mt){var Ft;let Hn=null!==(Ft=io[st])&&void 0!==Ft?Ft:st;Mt&&(Hn+=`-${Mt}`);const en=Hn.match(/\s|\//),Pe=rt.match(/\s|\//);if(en||Pe){const et=[`Unable to register library "${Hn}" with version "${rt}":`];return en&&et.push(`library name "${Hn}" contains illegal characters (whitespace or "/")`),en&&Pe&&et.push("and"),Pe&&et.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void W.warn(et.join(" "))}Ni(new j.wA(`${Hn}-version`,()=>({library:Hn,version:rt}),"VERSION"))}function Ht(st,rt){if(null!==st&&"function"!=typeof st)throw Qt.create("invalid-log-argument");(0,O.Am)(st,rt)}function fr(st){(0,O.Ub)(st)}Ni(new j.wA("platform-logger",rt=>new ae(rt),"PRIVATE")),Be(ce,Q,""),Be(ce,Q,"esm2017"),Be("fire-js","")},3910:(Ke,be,F)=>{"use strict";F.d(be,{wA:()=>O,H0:()=>Q});var u=F(8239),j=F(3854);class O{constructor(L,B,G){this.name=L,this.instanceFactory=B,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const le="[DEFAULT]";class ae{constructor(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){const G=new j.BH;if(this.instancesDeferred.set(B,G),this.isInitialized(B)||this.shouldAutoInitialize())try{const he=this.getOrInitializeService({instanceIdentifier:B});he&&G.resolve(he)}catch(he){}}return this.instancesDeferred.get(B).promise}getImmediate(L){var B;const G=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),he=null!==(B=null==L?void 0:L.optional)&&void 0!==B&&B;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(he)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Oe){if(he)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(B){}for(const[B,G]of this.instancesDeferred.entries()){const he=this.normalizeInstanceIdentifier(B);try{const Oe=this.getOrInitializeService({instanceIdentifier:he});G.resolve(Oe)}catch(Oe){}}}}clearInstance(L=le){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,u.Z)(function*(){const B=Array.from(L.instances.values());yield Promise.all([...B.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...B.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=le){return this.instances.has(L)}getOptions(L=le){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:B={}}=L,G=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const he=this.getOrInitializeService({instanceIdentifier:G,options:B});for(const[Oe,Me]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Oe)&&Me.resolve(he);return he}onInit(L,B){var G;const he=this.normalizeInstanceIdentifier(B),Oe=null!==(G=this.onInitCallbacks.get(he))&&void 0!==G?G:new Set;Oe.add(L),this.onInitCallbacks.set(he,Oe);const Me=this.instances.get(he);return Me&&L(Me,he),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,B){const G=this.onInitCallbacks.get(B);if(G)for(const he of G)try{he(L,B)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:B={}}){let G=this.instances.get(L);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(W=L,W===le?void 0:W),options:B}),this.instances.set(L,G),this.instancesOptions.set(L,B),this.invokeOnInitCallbacks(G,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,G)}catch(he){}var W;return G||null}normalizeInstanceIdentifier(L=le){return this.component?this.component.multipleInstances?L:le:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const B=this.getProvider(L.name);if(B.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);B.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const B=new ae(L,this);return this.providers.set(L,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(Ke,be,F)=>{"use strict";F.d(be,{in:()=>j,Yd:()=>ce,Ub:()=>Q,Am:()=>W});const u=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ee=(L,B,...G)=>{if(B<L.logLevel)return;const he=(new Date).toISOString(),Oe=ae[B];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Oe](`[${he}]  ${L.name}:`,...G)};class ce{constructor(B){this.name=B,this._logLevel=le,this._logHandler=ee,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in j))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...B),this._logHandler(this,j.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...B),this._logHandler(this,j.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,j.INFO,...B),this._logHandler(this,j.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,j.WARN,...B),this._logHandler(this,j.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...B),this._logHandler(this,j.ERROR,...B)}}function Q(L){u.forEach(B=>{B.setLogLevel(L)})}function W(L,B){for(const G of u){let he=null;B&&B.level&&(he=O[B.level]),G.userLogHandler=null===L?null:(Oe,Me,...De)=>{const ge=De.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(oe){return null}}).filter(ne=>ne).join(" ");Me>=(null!=he?he:Oe.logLevel)&&L({level:j[Me].toLowerCase(),message:ge,args:De,type:Oe.name})}}}},8239:(Ke,be,F)=>{"use strict";function u(O,le,ae,ee,ce,Q,W){try{var L=O[Q](W),B=L.value}catch(G){return void ae(G)}L.done?le(B):Promise.resolve(B).then(ee,ce)}function j(O){return function(){var le=this,ae=arguments;return new Promise(function(ee,ce){var Q=O.apply(le,ae);function W(B){u(Q,ee,ce,W,L,"next",B)}function L(B){u(Q,ee,ce,W,L,"throw",B)}W(void 0)})}}F.d(be,{Z:()=>j})}},Ke=>{Ke(Ke.s=6616)}]);