(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:We=>{function be(F){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+F+"'");throw i.code="MODULE_NOT_FOUND",i})}be.keys=()=>[],be.resolve=be,be.id=8255,We.exports=be},7716:(We,be,F)=>{"use strict";F.d(be,{deG:()=>mp,tb:()=>iE,AFp:()=>tE,ip1:()=>R1,CZH:()=>kd,hGG:()=>LN,z2F:()=>Pd,sBO:()=>Rb,Sil:()=>qu,_Vd:()=>md,EJc:()=>fN,SBq:()=>Wa,qLn:()=>Oh,vpe:()=>aa,gxx:()=>Gc,tBr:()=>Tu,XFs:()=>Be,OlP:()=>On,zs3:()=>Dn,ZZ4:()=>Lu,aQg:()=>Vg,soG:()=>ky,YKP:()=>Bg,v3s:()=>_E,h0i:()=>oa,PXZ:()=>yk,R0b:()=>us,FiY:()=>xa,Lbi:()=>rE,g9A:()=>nE,Qsj:()=>fS,FYo:()=>yd,JOm:()=>La,Tiy:()=>Fg,q3G:()=>bn,tp0:()=>Zr,EAV:()=>B1,Rgc:()=>bd,dDg:()=>cE,DyG:()=>Sa,q4F:()=>W_,GfV:()=>GT,s_b:()=>jg,ifc:()=>Pe,eFA:()=>SN,G48:()=>TN,Gpc:()=>Z,X6Q:()=>$f,_c5:()=>Uy,VLi:()=>CN,c2e:()=>sE,zSh:()=>zc,wAp:()=>dt,vHH:()=>Me,EiD:()=>$t,mCW:()=>Cl,qzn:()=>Pa,JVY:()=>Rm,pB0:()=>vl,eBb:()=>Ip,L6k:()=>Ep,LAX:()=>Xo,cg1:()=>P_,Tjo:()=>H1,kL8:()=>ib,yhl:()=>km,dqk:()=>Yt,sIi:()=>Xs,CqO:()=>w_,QGY:()=>sd,F4k:()=>od,RDi:()=>up,AaK:()=>Q,z3N:()=>Qo,qOj:()=>Jc,TTD:()=>yr,_Bn:()=>Bl,xp6:()=>Xw,uIk:()=>Jh,Tol:()=>Wv,Gre:()=>Xv,DjV:()=>xu,ekj:()=>yg,Suo:()=>Mr,Xpm:()=>nr,lG2:()=>It,Yz7:()=>sn,cJS:()=>_n,oAB:()=>Ve,Yjl:()=>kn,Y36:()=>cr,_UZ:()=>uf,BQk:()=>Ke,ynx:()=>b_,qZA:()=>y_,TgZ:()=>cg,EpF:()=>ia,n5z:()=>dh,Ikx:()=>rb,SDv:()=>Tb,QtT:()=>UT,pQV:()=>kg,LFG:()=>Tn,$8M:()=>Ec,NdJ:()=>dg,CRH:()=>I1,kcU:()=>gc,O4$:()=>pu,oxw:()=>qv,ALo:()=>xD,lcZ:()=>kD,Hsn:()=>_i,F$t:()=>cf,Q6J:()=>qa,s9C:()=>S_,MGl:()=>Ln,VKq:()=>my,WLB:()=>v1,kEZ:()=>_y,iGM:()=>WS,MAs:()=>$C,CHM:()=>au,LSH:()=>Ah,kYT:()=>ct,Jzz:()=>_T,Udp:()=>_g,YNc:()=>Pv,W1O:()=>BD,_uU:()=>Qv,Oqu:()=>M_,hij:()=>Ll,HOy:()=>hr,Gf:()=>YS});var i=F(9765),B=F(5319),O=F(7574),ce=F(6682),ue=F(8819);function ee(s){for(let o in s)if(s[o]===ee)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const L=ee({__forward_ref__:ee});function Z(s){return s.__forward_ref__=Z,s.toString=function(){return Q(this())},s}function q(s){return he(s)?s():s}function he(s){return"function"==typeof s&&s.hasOwnProperty(L)&&s.__forward_ref__===Z}class Me extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function ie(s){return"string"==typeof s?s:null==s?"":String(s)}function ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ie(s)}function Nt(s,o){const u=o?` in ${o}`:"";throw new Me("201",`No provider for ${ae(s)} found${u}`)}function Zt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _n(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xt(s){return Qt(s,Re)||Qt(s,$n)}function Qt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Hi(s){return s&&(s.hasOwnProperty(wn)||s.hasOwnProperty(Di))?s[wn]:null}const Re=ee({\u0275prov:ee}),wn=ee({\u0275inj:ee}),$n=ee({ngInjectableDef:ee}),Di=ee({ngInjectorDef:ee});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let jt;function Gn(s){const o=jt;return jt=s,o}function it(s,o,u){const c=Xt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Be.Optional?null:void 0!==o?o:void Nt(Q(s),"Injector")}function Mt(s){return{toString:s}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Xe="undefined"!=typeof globalThis&&globalThis,da="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=Xe||"undefined"!=typeof global&&global||da||dn,G={},$=[],W=ee({\u0275cmp:ee}),ve=ee({\u0275dir:ee}),le=ee({\u0275pipe:ee}),$e=ee({\u0275mod:ee}),ut=ee({\u0275loc:ee}),qt=ee({\u0275fac:ee}),An=ee({__NG_ELEMENT_ID__:ee});let Wn=0;function nr(s){return Mt(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||$,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pe.Emulated,id:"c",styles:s.styles||$,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,g=s.pipes;return c.id+=Wn++,c.inputs=Lt(s.inputs,u),c.outputs=Lt(s.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(J):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(K):null,c})}function J(s){return fn(s)||function(s){return s[ve]||null}(s)}function K(s){return function(s){return s[le]||null}(s)}const Ce={};function Ve(s){return Mt(()=>{const o={type:s.type,bootstrap:s.bootstrap||$,declarations:s.declarations||$,imports:s.imports||$,exports:s.exports||$,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ce[s.id]=s.type),o})}function ct(s,o){return Mt(()=>{const u=Nn(s,!0);u.declarations=o.declarations||$,u.imports=o.imports||$,u.exports=o.exports||$})}function Lt(s,o){if(null==s)return G;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const It=nr;function kn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function fn(s){return s[W]||null}function Nn(s,o){const u=s[$e]||null;if(!u&&!0===o)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return u}function Vs(s){return Array.isArray(s)&&"object"==typeof s[1]}function Vr(s){return Array.isArray(s)&&!0===s[1]}function tc(s){return 0!=(8&s.flags)}function Yu(s){return 2==(2&s.flags)}function Ur(s){return 1==(1&s.flags)}function hs(s){return null!==s.template}function Dr(s){return 0!=(512&s[2])}function Ii(s,o){return s.hasOwnProperty(qt)?s[qt]:null}class Us{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function yr(){return oc}function oc(s){return s.type.prototype.ngOnChanges&&(s.setInput=ga),Zs}function Zs(){const s=Xd(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===G)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function ga(s,o,u,c){const d=Xd(s)||function(s,o){return s[Ai]=o}(s,{previous:G,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[u],w=g[y];f[y]=new Us(w&&w.currentValue,o,g===G),s[c]=o}yr.ngInherit=!0;const Ai="__ngSimpleChanges__";function Xd(s){return s[Ai]||null}const ru="http://www.w3.org/2000/svg";let fs;function up(s){fs=s}function vo(){return void 0!==fs?fs:"undefined"!=typeof document?document:void 0}function Rn(s){return!!s.listen}const Er={createRenderer:(s,o)=>vo()};function an(s){for(;Array.isArray(s);)s=s[0];return s}function ya(s,o){return an(o[s])}function Si(s,o){return an(o[s.index])}function lc(s,o){return s.data[o]}function $i(s,o){return s[o]}function ui(s,o){const u=o[s];return Vs(u)?u:u[0]}function el(s){return 4==(4&s[2])}function su(s){return 128==(128&s[2])}function ps(s,o){return null==o?null:s[o]}function tl(s){s[18]=0}function Bo(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const lt={lFrame:dp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ou(){return lt.bindingsEnabled}function Ee(){return lt.lFrame.lView}function xt(){return lt.lFrame.tView}function au(s){return lt.lFrame.contextLView=s,s[8]}function Cn(){let s=uu();for(;null!==s&&64===s.type;)s=s.parent;return s}function uu(){return lt.lFrame.currentTNode}function Gi(){const s=lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Wr(s,o){const u=lt.lFrame;u.currentTNode=s,u.isParent=o}function lu(){return lt.lFrame.isParent}function va(){lt.lFrame.isParent=!1}function il(){return lt.isInCheckNoChangesMode}function wo(s){lt.isInCheckNoChangesMode=s}function ar(){const s=lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Yr(){return lt.lFrame.bindingIndex}function ms(){return lt.lFrame.bindingIndex++}function Ir(s){const o=lt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function wa(s){lt.lFrame.inI18n=s}function hc(s,o){const u=lt.lFrame;u.bindingIndex=u.bindingRootIndex=s,fc(o)}function fc(s){lt.lFrame.currentDirectiveIndex=s}function pc(){return lt.lFrame.currentQueryIndex}function Ho(s){lt.lFrame.currentQueryIndex=s}function sl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function du(s,o,u){if(u&Be.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&Be.Host||(d=sl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=lt.lFrame=ol();return c.currentTNode=o,c.lView=s,!0}function hu(s){const o=ol(),u=s[1];lt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function ol(){const s=lt.lFrame,o=null===s?null:s.child;return null===o?dp(s):o}function dp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function rh(){const s=lt.lFrame;return lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const al=rh;function qo(){const s=rh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ar(){return lt.lFrame.selectedIndex}function Co(s){lt.lFrame.selectedIndex=s}function Yn(){const s=lt.lFrame;return lc(s.tView,s.selectedIndex)}function pu(){lt.lFrame.currentNamespace=ru}function gc(){lt.lFrame.currentNamespace=null}function Ca(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:A}=f;g&&(s.contentHooks||(s.contentHooks=[])).push(-u,g),y&&((s.contentHooks||(s.contentHooks=[])).push(u,y),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,y)),w&&(s.viewHooks||(s.viewHooks=[])).push(-u,w),E&&((s.viewHooks||(s.viewHooks=[])).push(u,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,E)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function Ta(s,o,u){yc(s,o,3,u)}function $o(s,o,u,c){(3&s[2])===u&&yc(s,o,u,c)}function rr(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function yc(s,o,u,c){const f=null!=c?c:-1,g=o.length-1;let y=0;for(let w=void 0!==c?65535&s[18]:0;w<g;w++)if("number"==typeof o[w+1]){if(y=o[w],null!=c&&y>=c)break}else o[w]<0&&(s[18]+=65536),(y<f||-1==f)&&(ih(s,u,o,w),s[18]=(4294901760&s[18])+w+2),w++}function ih(s,o,u,c){const d=u[c]<0,f=u[c+1],y=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ll{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function oh(s,o,u){const c=Rn(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const g=u[d++],y=u[d++],w=u[d++];c?s.setAttribute(o,y,w,g):o.setAttributeNS(g,y,w)}else{const g=f,y=u[++d];Bs(g)?c&&s.setProperty(o,g,y):c?s.setAttribute(o,g,y):o.setAttribute(g,y),d++}}return d}function pp(s){return 3===s||4===s||6===s}function Bs(s){return 64===s.charCodeAt(0)}function cl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||gp(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function gp(s,o,u,c,d){let f=0,g=s.length;if(-1===o)g=-1;else for(;f<s.length;){const y=s[f++];if("number"==typeof y){if(y===o){g=-1;break}if(y>o){g=f-1;break}}}for(;f<s.length;){const y=s[f];if("number"==typeof y)break;if(y===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(s.splice(g,0,o),f=g+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function bc(s){return-1!==s}function zi(s){return 32767&s}function js(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let wc=!0;function Ea(s){const o=wc;return wc=s,o}let uh=0;function To(s,o){const u=gn(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,gu(c.data,s),gu(o,null),gu(c.blueprint,null));const d=Ge(s,o),f=s.injectorIndex;if(bc(d)){const g=zi(d),y=js(d,o),w=y[1].data;for(let E=0;E<8;E++)o[f+E]=y[g+E]|w[g+E]}return o[f+8]=d,f}function gu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function gn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ge(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const f=d[1],g=f.type;if(c=2===g?f.declTNode:1===g?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function un(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(An)&&(c=u[An]),null==c&&(c=u[An]=uh++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function xn(s,o,u){if(u&Be.Optional)return s;Nt(o,"NodeInjector")}function mu(s,o,u,c){if(u&Be.Optional&&void 0===c&&(c=null),0==(u&(Be.Self|Be.Host))){const d=s[9],f=Gn(void 0);try{return d?d.get(o,c,u&Be.Optional):it(o,c,u&Be.Optional)}finally{Gn(f)}}return xn(c,o,u)}function vs(s,o,u,c=Be.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(An)?s[An]:void 0;return"number"==typeof o?o>=0?255&o:_u:o}(u);if("function"==typeof f){if(!du(o,s,c))return c&Be.Host?xn(d,u,c):mu(o,u,c,d);try{const g=f(c);if(null!=g||c&Be.Optional)return g;Nt(u)}finally{al()}}else if("number"==typeof f){let g=null,y=gn(s,o),w=-1,E=c&Be.Host?o[16][6]:null;for((-1===y||c&Be.SkipSelf)&&(w=-1===y?Ge(s,o):o[y+8],-1!==w&&Dc(c,!1)?(g=o[1],y=zi(w),o=js(w,o)):y=-1);-1!==y;){const A=o[1];if(Do(f,y,A.data)){const R=dl(y,o,u,g,c,E);if(R!==Kn)return R}w=o[y+8],-1!==w&&Dc(c,o[1].data[y+8]===E)&&Do(f,y,o)?(g=A,y=zi(w),o=js(w,o)):y=-1}}}return mu(o,u,c,d)}const Kn={};function _u(){return new Ni(Cn(),Ee())}function dl(s,o,u,c,d,f){const g=o[1],y=g.data[s+8],A=hl(y,g,u,null==c?Yu(y)&&wc:c!=g&&0!=(3&y.type),d&Be.Host&&f===y);return null!==A?kt(o,g,A,y):Kn}function hl(s,o,u,c,d){const f=s.providerIndexes,g=o.data,y=1048575&f,w=s.directiveStart,A=f>>20,P=d?y+A:s.directiveEnd;for(let j=c?y:y+A;j<P;j++){const Y=g[j];if(j<w&&u===Y||j>=w&&Y.type===u)return j}if(d){const j=g[w];if(j&&hs(j)&&j.type===u)return w}return null}function kt(s,o,u,c){let d=s[u];const f=o.data;if(function(s){return s instanceof ll}(d)){const g=d;g.resolving&&function(s,o){throw new Me("200",`Circular dependency in DI detected for ${s}`)}(ae(f[u]));const y=Ea(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?Gn(g.injectImpl):null;du(s,c,Be.Default);try{d=s[u]=g.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const g=oc(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==w&&Gn(w),Ea(y),g.resolving=!1,al()}}return d}function Do(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Dc(s,o){return!(s&Be.Self||s&Be.Host&&o)}class Ni{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return vs(this._tNode,this._lView,o,c,u)}}function dh(s){return Mt(()=>{const o=s.prototype.constructor,u=o[qt]||yu(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[qt]||yu(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function yu(s){return he(s)?()=>{const o=yu(q(s));return o&&o()}:Ii(s)}function Ec(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(pp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(Cn(),s)}const Mi="__parameters__";function Eo(s,o,u){return Mt(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(w,E,A){const R=w.hasOwnProperty(Mi)?w[Mi]:Object.defineProperty(w,Mi,{value:[]})[Mi];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(g),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class On{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mp=new On("AnalyzeForEntryComponents"),Sa=Function;function Ki(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),Ki(c,o)):o!==s&&o.push(c)}return o}function bs(s,o){s.forEach(u=>Array.isArray(u)?bs(u,o):o(u))}function bu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function xi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qs(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}function Jn(s,o,u){let c=Ao(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Qn(s,o){const u=Ao(s,o);if(u>=0)return s[1|u]}function Ao(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),g=s[f<<u];if(o===g)return f<<u;g>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const Vt={},nn="__NG_DI_FLAG__",sr="ngTempTokenPath",ur=/\n/gm,wu="__source",Gs=ee({provide:String,useValue:ee});let hi;function gt(s){const o=hi;return hi=s,o}function v0(s,o=Be.Default){if(void 0===hi)throw new Error("inject() must be called from an injection context");return null===hi?it(s,void 0,o):hi.get(s,o&Be.Optional?null:void 0,o)}function Tn(s,o=Be.Default){return(jt||v0)(q(s),o)}function Yo(s){const o=[];for(let u=0;u<s.length;u++){const c=q(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Be.Default;for(let g=0;g<c.length;g++){const y=c[g],w=bp(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}o.push(Tn(d,f))}else o.push(Tn(c))}return o}function Cu(s,o){return s[nn]=o,s.prototype[nn]=o,s}function bp(s){return s[nn]}function zs(s,o,u,c){const d=s[sr];throw o[wu]&&d.unshift(o[wu]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=Q(o);if(Array.isArray(o))d=o.map(Q).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let y=o[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(ur,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[sr]=null,s}const Tu=Cu(Eo("Inject",s=>({token:s})),-1),xa=Cu(Eo("Optional"),8),Zr=Cu(Eo("SkipSelf"),4);let Du;function Jo(s){var o;return(null===(o=function(){if(void 0===Du&&(Du=null,Yt.trustedTypes))try{Du=Yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Du}())||void 0===o?void 0:o.createHTML(s))||s}class Eu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class T0 extends Eu{getTypeName(){return"HTML"}}class D0 extends Eu{getTypeName(){return"Style"}}class Th extends Eu{getTypeName(){return"Script"}}class E0 extends Eu{getTypeName(){return"URL"}}class I0 extends Eu{getTypeName(){return"ResourceURL"}}function Qo(s){return s instanceof Eu?s.changingThisBreaksApplicationSecurity:s}function Pa(s,o){const u=km(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function km(s){return s instanceof Eu&&s.getTypeName()||null}function Rm(s){return new T0(s)}function Ep(s){return new D0(s)}function Ip(s){return new Th(s)}function Xo(s){return new E0(s)}function vl(s){return new I0(s)}function Ap(s){const o=new A0(s);return function(){try{return!!(new window.DOMParser).parseFromString(Jo(""),"text/html")}catch(s){return!1}}()?new Om(o):o}class Om{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Jo(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class A0{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Jo(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Jo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const g=u.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&o.removeAttribute(g)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cl(s){return(s=String(s)).match(Dh)||s.match(wl)?s:"unsafe:"+s}function Oc(s){return(s=String(s)).split(",").map(o=>Cl(o.trim())).join(", ")}function Ws(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function ea(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Eh=Ws("area,br,col,hr,img,wbr"),Sp=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tl=Ws("rp,rt"),Np=ea(Eh,ea(Sp,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ea(Tl,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ea(Tl,Sp)),v=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=Ws("srcset"),S=ea(v,p,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k=Ws("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Np.hasOwnProperty(u))return this.sanitizedSomething=!0,!k.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,y=g.toLowerCase();if(!S.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=Cl(w)),p[y]&&(w=Oc(w)),this.buf.push(" ",g,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Np.hasOwnProperty(u)&&!Eh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Fe(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,je=/([^\#-~ |!])/g;function Fe(s){return s.replace(/&/g,"&amp;").replace(_e,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(je,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let st;function $t(s,o){let u=null;try{st=st||Ap(s);let c=o?String(o):"";u=st.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=st.getInertBodyElement(c)}while(c!==f);return Jo((new X).sanitizeChildren(vn(u)||u))}finally{if(u){const c=vn(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function vn(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Ah(s){const o=function(){const s=Ee();return s&&s[12]}();return o?o.sanitize(bn.URL,s)||"":Pa(s,"URL")?Qo(s):Cl(ie(s))}const xh="__ngContext__";function fi(s,o){s[xh]=o}function M0(s){const o=function(s){return s[xh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Lc(s){return s.ngOriginalError}function ZI(s,...o){s.error(...o)}class Oh{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||ZI;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(Lc(o)):null}_findOriginalError(o){let u=o&&Lc(o);for(;u&&Lc(u);)u=Lc(u);return u||null}}const HI=/^>|^->|<!--|-->|--!>|<!-$/g,P0=/(<|>)/;const Pw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Fa(s){return s instanceof Function?s():s}var La=(()=>((La=La||{})[La.Important=1]="Important",La[La.DashCase=2]="DashCase",La))();let F0;function jm(s,o){return F0(s,o)}function Op(s){const o=s[3];return Vr(o)?o[3]:o}function Hm(s){return L0(s[13])}function Zw(s){return L0(s[4])}function L0(s){for(;null!==s&&!Vr(s);)s=s[4];return s}function Vc(s,o,u,c,d){if(null!=c){let f,g=!1;Vr(c)?f=c:Vs(c)&&(g=!0,c=c[0]);const y=an(c);0===s&&null!==u?null==d?$w(o,u,y):Il(o,u,y,d||null,!0):1===s&&null!==u?Il(o,u,y,d||null,!0):2===s?H0(o,y,g):3===s&&o.destroyNode(y),null!=f&&function(s,o,u,c,d){const f=u[7];f!==an(u)&&Vc(o,s,c,f,d);for(let y=10;y<u.length;y++){const w=u[y];Zc(w[1],w,s,o,c,f)}}(o,s,f,u,d)}}function qm(s,o){return Rn(s)?s.createText(o):s.createTextNode(o)}function Bw(s,o,u){Rn(s)?s.setValue(o,u):o.textContent=u}function KI(s,o){return s.createComment(function(s){return s.replace(HI,o=>o.replace(P0,"\u200b$1\u200b"))}(o))}function V0(s,o,u){return Rn(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function $m(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Bo(d,-1)),u.splice(c,1)}function Gm(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&$m(d,c),o>0&&(s[u-1][4]=c[4]);const f=xi(s,10+o);!function(s,o){Zc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const g=f[19];null!==g&&g.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function jw(s,o){if(!(256&o[2])){const u=o[11];Rn(u)&&u.destroyNode&&Zc(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return El(s[1],s);for(;o;){let u=null;if(Vs(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Vs(o)&&El(o[1],o),o=o[3];null===o&&(o=s),Vs(o)&&El(o[1],o),u=o&&o[4]}o=u}}(o)}}function El(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof ll)){const f=u[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],w=f[g+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const g=u[f+1],y="function"==typeof g?g(o):an(o[g]),w=c[d=u[f+2]],E=u[f+3];"boolean"==typeof E?y.removeEventListener(u[f],w,E):E>=0?c[d=E]():c[d=-E].unsubscribe(),f+=2}else{const g=c[d=u[f+1]];u[f].call(g)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Rn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Vr(o[3])){u!==o[3]&&$m(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function Hw(s,o,u){return qw(s,o.parent,u)}function qw(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Si(c,u)}function Il(s,o,u,c,d){Rn(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function $w(s,o,u){Rn(s)?s.appendChild(o,u):o.appendChild(u)}function Gw(s,o,u,c,d){null!==c?Il(s,o,u,c,d):$w(s,o,u)}function zm(s,o){return Rn(s)?s.parentNode(o):o.parentNode}function Ym(s,o,u){return Uc(s,o,u)}function Km(s,o,u){return 40&s.type?Si(s,u):null}let Z0,Uc=Km;function zw(s,o){Uc=s,Z0=o}function Fh(s,o,u,c){const d=Hw(s,c,o),f=o[11],y=Ym(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)Gw(f,d,u[w],y,!1);else Gw(f,d,u,y,!1);void 0!==Z0&&Z0(f,c,o,u,d)}function Jm(s,o){if(null!==o){const u=o.type;if(3&u)return Si(o,s);if(4&u)return j0(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Jm(s,c);{const d=s[o.index];return Vr(d)?j0(-1,d):an(d)}}if(32&u)return jm(o,s)()||an(s[o.index]);{const c=B0(s,o);return null!==c?Array.isArray(c)?c[0]:Jm(Op(s[16]),c):Jm(s,o.next)}}return null}function B0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function j0(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return Jm(c,d)}return o[7]}function H0(s,o,u){const c=zm(s,o);c&&function(s,o,u,c){Rn(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}function Qm(s,o,u,c,d,f,g){for(;null!=u;){const y=c[u.index],w=u.type;if(g&&0===o&&(y&&fi(an(y),c),u.flags|=4),64!=(64&u.flags))if(8&w)Qm(s,o,u.child,c,d,f,!1),Vc(o,s,d,y,f);else if(32&w){const E=jm(u,c);let A;for(;A=E();)Vc(o,s,d,A,f);Vc(o,s,d,y,f)}else 16&w?Al(s,o,c,u,d,f):Vc(o,s,d,y,f);u=g?u.projectionNext:u.next}}function Zc(s,o,u,c,d,f){Qm(u,c,s.firstChild,o,d,f,!1)}function Al(s,o,u,c,d,f){const g=u[16],w=g[6].projection[c.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Vc(o,s,d,w[E],f);else Qm(s,o,w,g[3],d,f,!0)}function Yw(s,o,u){Rn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function q0(s,o,u){Rn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function $0(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Kw="ng-template";function sA(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==$0(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function G0(s){return 4===s.type&&s.value!==Kw}function oA(s,o,u){return o===(4!==s.type||u?s.value:Kw)}function aA(s,o,u){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(pp(s[o]))return o;return s.length}(d);let g=!1;for(let y=0;y<o.length;y++){const w=o[y];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!oA(s,w,u)||""===w&&1===o.length){if(ta(c))return!1;g=!0}}else{const E=8&c?w:o[++y];if(8&c&&null!==s.attrs){if(!sA(s.attrs,E,u)){if(ta(c))return!1;g=!0}continue}const R=z0(8&c?"class":w,d,G0(s),u);if(-1===R){if(ta(c))return!1;g=!0;continue}if(""!==E){let P;P=R>f?"":d[R+1].toLowerCase();const j=8&c?P:null;if(j&&-1!==$0(j,E,0)||2&c&&E!==P){if(ta(c))return!1;g=!0}}}}else{if(!g&&!ta(c)&&!ta(w))return!1;if(g&&ta(w))continue;g=!1,c=w|1&c}}return ta(c)||g}function ta(s){return 0==(1&s)}function z0(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const g=o[d];if(g===s)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=o[++d];for(;"string"==typeof y;)y=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Jw(s,o,u=!1){for(let c=0;c<o.length;c++)if(aA(s,o[c],u))return!0;return!1}function _x(s,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function re(s,o){return s?":not("+o.trim()+")":o}function Xm(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let g=s[u];if("string"==typeof g)if(2&c){const y=s[++u];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!ta(g)&&(o+=re(f,d),d=""),c=g,f=f||!ta(c);u++}return""!==d&&(o+=re(f,d)),o}const wt={};function Xw(s){eC(xt(),Ee(),Ar()+s,il())}function eC(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Ta(o,f,u)}else{const f=s.preOrderHooks;null!==f&&$o(o,f,0,u)}Co(u)}function Bc(s,o){return s<<17|o<<2}function na(s){return s>>17&32767}function nC(s){return 2|s}function Va(s){return(131068&s)>>2}function Ks(s,o){return-131069&s|o<<2}function Ua(s){return 1|s}function Q0(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const g=s.data[f];Ho(d),g.contentQueries(2,o[f],f)}}}function Nl(s,o,u,c,d,f,g,y,w,E){const A=o.blueprint.slice();return A[0]=d,A[2]=140|c,tl(A),A[3]=A[15]=s,A[8]=u,A[10]=g||s&&s[10],A[11]=y||s&&s[11],A[12]=w||s&&s[12]||null,A[9]=E||s&&s[9]||null,A[6]=f,A[16]=2==o.type?s[16]:A,A}function Ml(s,o,u,c,d){let f=s.data[o];if(null===f)f=Vp(s,o,u,c,d),lt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const g=Gi();f.injectorIndex=null===g?-1:g.injectorIndex}return Wr(f,!0),f}function Vp(s,o,u,c,d){const f=uu(),g=lu(),w=s.data[o]=function(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function xl(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Up(s,o,u){hu(o);try{const c=s.viewQuery;null!==c&&Iu(1,c,u);const d=s.template;null!==d&&ev(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Q0(s,o),s.staticViewQueries&&Iu(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)Gp(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,qo()}}function Uh(s,o,u,c){const d=o[2];if(256==(256&d))return;hu(o);const f=il();try{tl(o),function(s){lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&ev(s,o,u,2,c);const g=3==(3&d);if(!f)if(g){const E=s.preOrderCheckHooks;null!==E&&Ta(o,E,null)}else{const E=s.preOrderHooks;null!==E&&$o(o,E,0,null),rr(o,0)}if(function(s){for(let o=Hm(s);null!==o;o=Zw(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Bo(f,1),d[2]|=1024}}}(o),function(s){for(let o=Hm(s);null!==o;o=Zw(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];su(c)&&Uh(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&Q0(s,o),!f)if(g){const E=s.contentCheckHooks;null!==E&&Ta(o,E)}else{const E=s.contentHooks;null!==E&&$o(o,E,1),rr(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Co(~d);else{const f=d,g=u[++c],y=u[++c];hc(g,f),y(2,o[f])}}}finally{Co(-1)}}(s,o);const y=s.components;null!==y&&function(s,o){for(let u=0;u<o.length;u++)wC(s,o[u])}(o,y);const w=s.viewQuery;if(null!==w&&Iu(2,w,c),!f)if(g){const E=s.viewCheckHooks;null!==E&&Ta(o,E)}else{const E=s.viewHooks;null!==E&&$o(o,E,2),rr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Bo(o[3],-1))}finally{qo()}}function X0(s,o,u,c){const d=o[10],f=!il(),g=el(o);try{f&&!g&&d.begin&&d.begin(),g&&Up(s,o,c),Uh(s,o,u,c)}finally{f&&!g&&d.end&&d.end()}}function ev(s,o,u,c,d){const f=Ar(),g=2&c;try{Co(-1),g&&o.length>20&&eC(s,o,20,il()),u(c,d)}finally{Co(f)}}function fC(s,o,u){if(tc(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const g=s.data[f];g.contentQueries&&g.contentQueries(1,u[f],f)}}}function tv(s,o,u){!ou()||(function(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||To(u,o),fi(c,o);const g=u.initialInputs;for(let y=d;y<f;y++){const w=s.data[y],E=hs(w);E&&av(o,u,w);const A=kt(o,s,y,u);fi(A,o),null!==g&&lv(0,y-d,A,w,0,g),E&&(ui(u.index,o)[8]=A)}}(s,o,u,Si(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,g=u.index,y=lt.lFrame.currentDirectiveIndex;try{Co(g);for(let w=c;w<d;w++){const E=s.data[w],A=o[w];fc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&qp(E,A)}}finally{Co(-1),fc(y)}}(s,o,u))}function Qr(s,o,u=Si){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?u(o,s):s[g];s[d++]=y}}}function Zh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=i_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function i_(s,o,u,c,d,f,g,y,w,E){const A=20+c,R=A+d,P=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:wt);return u}(A,R),j="function"==typeof E?E():E;return P[1]={type:s,blueprint:P,template:u,queries:null,viewQuery:y,declTNode:o,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:j,incompleteFirstPass:!1}}function jp(s,o,u,c){const d=gv(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&Bh(s).push(c,d.length-1))}function s_(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function Cs(s,o,u,c,d,f,g,y){const w=Si(o,u);let A,E=o.inputs;!y&&null!=E&&(A=E[c])?(_v(s,u,A,c,d),Yu(o)&&function(s,o){const u=ui(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=g?g(d,o.value||"",c):d,Rn(f)?f.setProperty(w,c,d):Bs(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function Hp(s,o,u,c){let d=!1;if(ou()){const f=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const g=c[f];Jw(u,g.selectors,!1)&&(d||(d=[]),un(To(u,o),s,g.type),hs(g)?(mC(s,u),d.unshift(g)):d.push(g))}return d}(s,o,u),g=null===c?null:{"":-1};if(null!==f){d=!0,yC(u,s.data.length,f.length);for(let A=0;A<f.length;A++){const R=f[A];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,E=xl(s,o,f.length,null);for(let A=0;A<f.length;A++){const R=f[A];u.mergedAttrs=cl(u.mergedAttrs,R.hostAttrs),vC(s,u,o,E,R),_C(E,R,g),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const P=R.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),E++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,g=[];let y=null,w=null;for(let E=o.directiveStart;E<c;E++){const A=d[E],R=A.inputs,P=null===f||G0(o)?null:bC(R,f);g.push(P),y=s_(R,E,y),w=s_(A.outputs,E,w)}null!==y&&(y.hasOwnProperty("class")&&(o.flags|=16),y.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=g,o.inputs=y,o.outputs=w}(s,u)}g&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Me("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(u,c,g)}return u.mergedAttrs=cl(u.mergedAttrs,u.attrs),d}function a_(s,o,u,c,d,f){const g=f.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const w=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=w&&y.push(w),y.push(c,d,g)}}function qp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function mC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _C(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;hs(o)&&(u[""]=s)}}function yC(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function vC(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=Ii(d.type)),g=new ll(f,hs(d),null);s.blueprint[c]=g,u[c]=g,a_(s,o,0,c,xl(s,u,d.hostVars,wt),d)}function av(s,o,u){const c=Si(o,s),d=Zh(u),f=s[10],g=zp(s,Nl(s,d,null,u.onPush?64:16,c,o,f,f.createRenderer(c,u),null,null));s[o.index]=g}function uv(s,o,u,c,d,f,g){if(null==f)Rn(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const y=null==g?ie(f):g(f,c||"",d);Rn(s)?s.setAttribute(o,d,y,u):u?o.setAttributeNS(u,d,y):o.setAttribute(d,y)}}function lv(s,o,u,c,d,f){const g=f[o];if(null!==g){const y=c.setInput;for(let w=0;w<g.length;){const E=g[w++],A=g[w++],R=g[w++];null!==y?c.setInput(u,R,E,A):u[A]=R}}}function bC(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function $p(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function wC(s,o){const u=ui(o,s);if(su(u)){const c=u[1];80&u[2]?Uh(c,u,c.template,u[8]):u[5]>0&&hv(u)}}function hv(s){for(let c=Hm(s);null!==c;c=Zw(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const g=f[1];Uh(g,f,g.template,f[8])}else f[5]>0&&hv(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=ui(u[c],s);su(d)&&d[5]>0&&hv(d)}}function Gp(s,o){const u=ui(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Up(c,u,u[8])}function zp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function u_(s){for(;s;){s[2]|=64;const o=Op(s);if(Dr(s)&&!o)return s;s=o}return null}function pv(s,o,u){const c=o[10];c.begin&&c.begin();try{Uh(s,o,s.template,u)}catch(d){throw ki(o,d),d}finally{c.end&&c.end()}}function qc(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=M0(u),d=c[1];X0(d,c,d.template,u)}}(s[8])}function Iu(s,o,u){Ho(0),o(s,u)}const c_=(()=>Promise.resolve(null))();function gv(s){return s[7]||(s[7]=[])}function Bh(s){return s.cleanup||(s.cleanup=[])}function ki(s,o){const u=s[9],c=u?u.get(Oh,null):null;c&&c.handleError(o)}function _v(s,o,u,c,d){for(let f=0;f<u.length;){const g=u[f++],y=u[f++],w=o[g],E=s.data[g];null!==E.setInput?E.setInput(w,d,c,y):w[y]=d}}function Js(s,o,u){const c=ya(o,s);Bw(s[11],c,u)}function $c(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?f=y:1==f?d=z(d,y):2==f&&(c=z(c,y+": "+o[++g]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const Gc=new On("INJECTOR",-1);class jh{get(o,u=Vt){if(u===Vt){const c=new Error(`NullInjectorError: No provider for ${Q(o)}!`);throw c.name="NullInjectorError",c}return u}}const zc=new On("Set Injector scope."),Wc={},vv={};let Hh;function qh(){return void 0===Hh&&(Hh=new jh),Hh}function EC(s,o=null,u=null,c){return new bv(s,u,o||qh(),c)}class bv{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&bs(u,y=>this.processProvider(y,o,u)),bs([o],y=>this.processInjectorType(y,[],f)),this.records.set(Gc,Yc(void 0,this));const g=this.records.get(zc);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof o?null:Q(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Vt,c=Be.Default){this.assertNotDestroyed();const d=gt(this),f=Gn(void 0);try{if(!(c&Be.SkipSelf)){let y=this.records.get(o);if(void 0===y){const w=("function"==typeof(s=o)||"object"==typeof s&&s instanceof On)&&Xt(o);y=w&&this.injectableDefInScope(w)?Yc($h(o),Wc):null,this.records.set(o,y)}if(null!=y)return this.hydrate(o,y)}return(c&Be.Self?qh():this.parent).get(o,u=c&Be.Optional&&u===Vt?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[sr]=g[sr]||[]).unshift(Q(o)),d)throw g;return zs(g,o,"R3InjectorError",this.source)}throw g}finally{Gn(f),gt(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(Q(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=q(o)))return!1;let d=Hi(o);const f=null==d&&o.ngModule||void 0,g=void 0===f?o:f,y=-1!==c.indexOf(g);if(void 0!==f&&(d=Hi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;c.push(g);try{bs(d.imports,R=>{this.processInjectorType(R,u,c)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:P,providers:j}=A[R];bs(j,Y=>this.processProvider(Y,P,j||$))}}this.injectorDefTypes.add(g);const w=Ii(g)||(()=>new g);this.records.set(g,Yc(w,Wc));const E=d.providers;if(null!=E&&!y){const A=o;bs(E,R=>this.processProvider(R,A,E))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,c){let d=Au(o=q(o))?o:q(o&&o.provide);const f=AC(s=o)?Yc(void 0,s.useValue):Yc(Cv(s),Wc);var s;if(Au(o)||!0!==o.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Yc(void 0,Wc,!0),g.factory=()=>Yo(g.multi),this.records.set(d,g)),d=o,g.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===Wc&&(u.value=vv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function $h(s){const o=Xt(s),u=null!==o?o.factory:Ii(s);if(null!==u)return u;if(s instanceof On)throw new Error(`Token ${Q(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=qs(o,"?");throw new Error(`Can't resolve all parameters for ${Q(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[Re]||s[$n]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Cv(s,o,u){let c;if(Au(s)){const d=q(s);return Ii(d)||$h(d)}if(AC(s))c=()=>q(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Yo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Tn(q(s.useExisting));else{const d=q(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Ii(d)||$h(d);c=()=>new d(...Yo(s.deps))}return c}function Yc(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function AC(s){return null!==s&&"object"==typeof s&&Gs in s}function Au(s){return"function"==typeof s}const d_=function(s,o,u){return function(s,o=null,u=null,c){const d=EC(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let Dn=(()=>{class s{static create(u,c){return Array.isArray(u)?d_(u,c,""):d_(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=Vt,s.NULL=new jh,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Tn(Gc)}),s.__NG_ELEMENT_ID__=-1,s})();function Sv(s,o){Ca(M0(s)[1],Cn())}function Jc(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(hs(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const g=s;g.inputs=lr(s.inputs),g.declaredInputs=lr(s.declaredInputs),g.outputs=lr(s.outputs);const y=d.hostBindings;y&&OA(s,y);const w=d.viewQuery,E=d.contentQueries;if(w&&BC(s,w),E&&RA(s,E),de(s.inputs,d.inputs),de(s.declaredInputs,d.declaredInputs),de(s.outputs,d.outputs),hs(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(s),y===Jc&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=cl(d.hostAttrs,u=cl(u,d.hostAttrs))}}(c)}function lr(s){return s===G?{}:s===$?[]:s}function BC(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function RA(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function OA(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let ig=null;function Qc(){if(!ig){const s=Yt.Symbol;if(s&&s.iterator)ig=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ig=c)}}}return ig}class Mo{constructor(o){this.wrapped=o}static wrap(o){return new Mo(o)}static unwrap(o){return Mo.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof Mo}}function Xs(s){return!!og(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qc()in s)}function og(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ts(s,o,u){return s[o]=u}function ei(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function ja(s,o,u,c){const d=ei(s,o,u);return ei(s,o+1,c)||d}function Jh(s,o,u,c){const d=Ee();return ei(d,ms(),o)&&(xt(),function(s,o,u,c,d,f){const g=Si(s,o);uv(o[11],g,f,s.value,u,c,d)}(Yn(),d,s,o,u,c)),Jh}function Xc(s,o,u,c){return ei(s,ms(),u)?o+ie(u)+c:wt}function td(s,o,u,c,d,f,g,y,w,E){const R=function(s,o,u,c,d,f){const g=ja(s,o,u,c);return ja(s,o+2,d,f)||g}(s,Yr(),u,d,g,w);return Ir(4),R?o+ie(u)+c+ie(d)+f+ie(g)+y+ie(w)+E:wt}function Pv(s,o,u,c,d,f,g,y){const w=Ee(),E=xt(),A=s+20,R=E.firstCreatePass?function(s,o,u,c,d,f,g,y,w){const E=o.consts,A=Ml(o,s,4,g||null,ps(E,y));Hp(o,u,A,ps(E,w)),Ca(o,A);const R=A.tViews=i_(2,A,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,E);return null!==o.queries&&(o.queries.template(o,A),R.queries=o.queries.embeddedTView(A)),A}(A,E,w,o,u,c,d,f,g):E.data[A];Wr(R,!1);const P=w[11].createComment("");Fh(E,w,P,R),fi(P,w),zp(w,w[A]=$p(P,w,P,R)),Ur(R)&&tv(E,w,R),null!=g&&Qr(w,R,y)}function $C(s){return $i(lt.lFrame.contextLView,20+s)}function cr(s,o=Be.Default){const u=Ee();return null===u?Tn(s,o):vs(Cn(),u,q(s),o)}function qa(s,o,u){const c=Ee();return ei(c,ms(),o)&&Cs(xt(),Yn(),c,s,o,c[11],u,!1),qa}function dr(s,o,u,c,d){const g=d?"class":"style";_v(s,u,o.inputs[g],g,c)}function cg(s,o,u,c){const d=Ee(),f=xt(),g=20+s,y=d[11],w=d[g]=V0(y,o,lt.lFrame.currentNamespace),E=f.firstCreatePass?function(s,o,u,c,d,f,g){const y=o.consts,E=Ml(o,s,2,d,ps(y,f));return Hp(o,u,E,ps(y,g)),null!==E.attrs&&$c(E,E.attrs,!1),null!==E.mergedAttrs&&$c(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(g,f,d,0,o,u,c):f.data[g];Wr(E,!0);const A=E.mergedAttrs;null!==A&&oh(y,w,A);const R=E.classes;null!==R&&q0(y,w,R);const P=E.styles;null!==P&&Yw(y,w,P),64!=(64&E.flags)&&Fh(f,d,w,E),0===lt.lFrame.elementDepthCount&&fi(w,d),lt.lFrame.elementDepthCount++,Ur(E)&&(tv(f,d,E),fC(f,E,d)),null!==c&&Qr(d,E)}function y_(){let s=Cn();lu()?va():(s=s.parent,Wr(s,!1));const o=s;lt.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(Ca(u,s),tc(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&dr(u,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&dr(u,o,Ee(),o.stylesWithoutHost,!1)}function uf(s,o,u,c){cg(s,o,u,c),y_()}function b_(s,o,u){const c=Ee(),d=xt(),f=s+20,g=d.firstCreatePass?function(s,o,u,c,d){const f=o.consts,g=ps(f,c),y=Ml(o,s,8,"ng-container",g);return null!==g&&$c(y,g,!0),Hp(o,u,y,ps(f,d)),null!==o.queries&&o.queries.elementStart(o,y),y}(f,d,c,o,u):d.data[f];Wr(g,!0);const y=c[f]=c[11].createComment("");Fh(d,c,y,g),fi(y,c),Ur(g)&&(tv(d,c,g),fC(d,g,c)),null!=u&&Qr(c,g)}function Ke(){let s=Cn();const o=xt();lu()?va():(s=s.parent,Wr(s,!1)),o.firstCreatePass&&(Ca(o,s),tc(s)&&o.queries.elementEnd(s))}function ia(){return Ee()}function sd(s){return!!s&&"function"==typeof s.then}function od(s){return!!s&&"function"==typeof s.subscribe}const w_=od;function dg(s,o,u,c){const d=Ee(),f=xt(),g=Cn();return function(s,o,u,c,d,f,g,y){const w=Ur(c),A=s.firstCreatePass&&Bh(s),R=o[8],P=gv(o);let j=!0;if(3&c.type||y){const te=Si(c,o),Ne=y?y(te):te,we=P.length,nt=y?mt=>y(an(mt[c.index])):c.index;if(Rn(u)){let mt=null;if(!y&&w&&(mt=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===u&&d[f+1]===c){const y=o[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof g&&(f+=2)}return null}(s,o,d,c.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=f,mt.__ngLastListenerFn__=f,j=!1;else{f=I_(c,o,R,f,!1);const Ht=u.listen(Ne,d,f);P.push(f,Ht),A&&A.push(d,nt,we,we+1)}}else f=I_(c,o,R,f,!0),Ne.addEventListener(d,f,g),P.push(f),A&&A.push(d,nt,we,g)}else f=I_(c,o,R,f,!1);const Y=c.outputs;let pe;if(j&&null!==Y&&(pe=Y[d])){const te=pe.length;if(te)for(let Ne=0;Ne<te;Ne+=2){const kr=o[pe[Ne]][pe[Ne+1]].subscribe(f),uo=P.length;P.push(f,kr),A&&A.push(d,c.index,uo,-(uo+1))}}}(f,d,d[11],g,s,o,!!u,c),dg}function E_(s,o,u,c){try{return!1!==u(c)}catch(d){return ki(s,d),!1}}function I_(s,o,u,c,d){return function f(g){if(g===Function)return c;const y=2&s.flags?ui(s.index,o):o;0==(32&o[2])&&u_(y);let w=E_(o,0,c,g),E=f.__ngNextListenerFn__;for(;E;)w=E_(o,0,E,g)&&w,E=E.__ngNextListenerFn__;return d&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function qv(s=1){return function(s){return(lt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,lt.lFrame.contextLView))[8]}(s)}function A_(s,o){let u=null;const c=function(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?Jw(s,f,!0):_x(c,f))return d}else u=d}return u}function cf(s){const o=Ee()[16][6];if(!o.projection){const c=o.projection=qs(s?s.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const g=s?A_(f,s):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function _i(s,o=0,u){const c=Ee(),d=xt(),f=Ml(d,20+s,16,null,u||null);null===f.projection&&(f.projection=o),va(),64!=(64&f.flags)&&function(s,o,u){Al(o[11],0,o,u,Hw(s,u,o),Ym(u.parent||o[6],u,o))}(d,c,f)}function S_(s,o,u){return Ln(s,"",o,"",u),S_}function Ln(s,o,u,c,d){const f=Ee(),g=Xc(f,o,u,c);return g!==wt&&Cs(xt(),Yn(),f,s,g,f[11],d,!1),Ln}function Gv(s,o,u,c,d){const f=s[u+1],g=null===o;let y=c?na(f):Va(f),w=!1;for(;0!==y&&(!1===w||g);){const A=s[y+1];YA(s[y],o)&&(w=!0,s[y+1]=c?Ua(A):nC(A)),y=c?na(A):Va(A)}w&&(s[u+1]=c?nC(f):Ua(f))}function YA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ao(s,o)>=0}const qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tT(s){return s.substring(qr.key,qr.keyEnd)}function KA(s){return s.substring(qr.value,qr.valueEnd)}function gg(s,o){const u=qr.textEnd;return u===o?-1:(o=qr.keyEnd=function(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,qr.key=o,u),ad(s,o,u))}function nT(s,o){const u=qr.textEnd;let c=qr.key=ad(s,o,u);return u===c?-1:(c=qr.keyEnd=function(s,o,u){let c;for(;o<u&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,u),c=ud(s,c,u),c=qr.value=ad(s,c,u),c=qr.valueEnd=function(s,o,u){let c=-1,d=-1,f=-1,g=o,y=g;for(;g<u;){const w=s.charCodeAt(g++);if(59===w)return y;34===w||39===w?y=g=mg(s,w,g,u):o===g-4&&85===f&&82===d&&76===c&&40===w?y=g=mg(s,41,g,u):w>32&&(y=g),f=d,d=c,c=-33&w}return y}(s,c,u),ud(s,c,u))}function zv(s){qr.key=0,qr.keyEnd=0,qr.value=0,qr.valueEnd=0,qr.textEnd=s.length}function ad(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function ud(s,o,u,c){return(o=ad(s,o,u))<u&&o++,o}function mg(s,o,u,c){let d=-1,f=u;for(;f<c;){const g=s.charCodeAt(f++);if(g==o&&92!==d)return f;d=92==g&&92===d?0:g}throw new Error}function _g(s,o,u){return ko(s,o,u,!1),_g}function yg(s,o){return ko(s,o,null,!0),yg}function xo(s,o){for(let u=function(s){return zv(s),nT(s,ad(s,0,qr.textEnd))}(o);u>=0;u=nT(o,u))Kv(s,tT(o),KA(o))}function Wv(s){eo(Jn,Is,s,!0)}function Is(s,o){for(let u=function(s){return zv(s),gg(s,ad(s,0,qr.textEnd))}(o);u>=0;u=gg(o,u))Jn(s,tT(o),!0)}function ko(s,o,u,c){const d=Ee(),f=xt(),g=Ir(2);f.firstUpdatePass&&Yv(f,s,g,c),o!==wt&&ei(d,g,o)&&Fl(f,f.data[Ar()],d,d[11],s,d[g+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Q(Qo(s)))),s}(o,u),c,g)}function eo(s,o,u,c){const d=xt(),f=Ir(2);d.firstUpdatePass&&Yv(d,null,f,c);const g=Ee();if(u!==wt&&ei(g,f,u)){const y=d.data[Ar()];if(ld(y,c)&&!ff(d,f)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(u=z(w,u||"")),dr(d,y,g,u,c)}else!function(s,o,u,c,d,f,g,y){d===wt&&(d=$);let w=0,E=0,A=0<d.length?d[0]:null,R=0<f.length?f[0]:null;for(;null!==A||null!==R;){const P=w<d.length?d[w+1]:void 0,j=E<f.length?f[E+1]:void 0;let pe,Y=null;A===R?(w+=2,E+=2,P!==j&&(Y=R,pe=j)):null===R||null!==A&&A<R?(w+=2,Y=A):(E+=2,Y=R,pe=j),null!==Y&&Fl(s,o,u,c,Y,pe,g,y),A=w<d.length?d[w]:null,R=E<f.length?f[E]:null}}(d,y,g,g[11],g[f+1],g[f+1]=function(s,o,u){if(null==u||""===u)return $;const c=[],d=Qo(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,f)}}function ff(s,o){return o>=s.expandoStartIndex}function Yv(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[Ar()],g=ff(s,u);ld(f,c)&&null===o&&!g&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=vg(u=pf(null,s,o,u,c),o.attrs,c),f=null);else{const g=o.directiveStylingLast;if(-1===g||s[g]!==d)if(u=pf(d,s,o,u,c),null===f){let w=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Va(c))return s[na(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=pf(null,s,o,w[1],c),w=vg(w,o.attrs,c),function(s,o,u,c){s[na(u?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else f=function(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=vg(c,s[f].hostAttrs,u);return vg(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function(s,o,u,c,d,f){let g=f?o.classBindings:o.styleBindings,y=na(g),w=Va(g);s[c]=u;let A,E=!1;if(Array.isArray(u)){const R=u;A=R[1],(null===A||Ao(R,A)>0)&&(E=!0)}else A=u;if(d)if(0!==w){const P=na(s[y+1]);s[c+1]=Bc(P,y),0!==P&&(s[P+1]=Ks(s[P+1],c)),s[y+1]=function(s,o){return 131071&s|o<<17}(s[y+1],c)}else s[c+1]=Bc(y,0),0!==y&&(s[y+1]=Ks(s[y+1],c)),y=c;else s[c+1]=Bc(w,0),0===y?y=c:s[w+1]=Ks(s[w+1],c),w=c;E&&(s[c+1]=nC(s[c+1])),Gv(s,A,c,!0),Gv(s,A,c,!1),function(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Ao(f,o)>=0&&(u[c+1]=Ua(u[c+1]))}(o,A,s,c,f),g=Bc(y,w),f?o.classBindings=g:o.styleBindings=g}(d,f,o,u,g,c)}}function pf(s,o,u,c,d){let f=null;const g=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<g&&(f=o[y],c=vg(c,f.hostAttrs,d),f!==s);)y++;return null!==s&&(u.directiveStylingLast=y),c}function vg(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jn(s,g,!!u||o[++f]))}return void 0===s?null:s}function Kv(s,o,u){Jn(s,o,Qo(u))}function Fl(s,o,u,c,d,f,g,y){if(!(3&o.type))return;const w=s.data,E=w[y+1];$a(function(s){return 1==(1&s)}(E)?Jv(w,o,u,d,Va(E),g):void 0)||($a(f)||function(s){return 2==(2&s)}(E)&&(f=Jv(w,null,u,d,y,g)),function(s,o,u,c,d){const f=Rn(s);if(o)d?f?s.addClass(u,c):u.classList.add(c):f?s.removeClass(u,c):u.classList.remove(c);else{let g=-1===c.indexOf("-")?void 0:La.DashCase;if(null==d)f?s.removeStyle(u,c,g):u.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=La.Important),f?s.setStyle(u,c,d,g):u.style.setProperty(c,d,y?"important":"")}}}(c,g,ya(Ar(),u),d,f))}function Jv(s,o,u,c,d,f){const g=null===o;let y;for(;d>0;){const w=s[d],E=Array.isArray(w),A=E?w[1]:w,R=null===A;let P=u[d+1];P===wt&&(P=R?$:void 0);let j=R?Qn(P,c):A===c?P:void 0;if(E&&!$a(j)&&(j=Qn(w,c)),$a(j)&&(y=j,g))return y;const Y=s[d+1];d=g?na(Y):Va(Y)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(y=Qn(w,c))}return y}function $a(s){return void 0!==s}function ld(s,o){return 0!=(s.flags&(o?16:32))}function Qv(s,o=""){const u=Ee(),c=xt(),d=s+20,f=c.firstCreatePass?Ml(c,d,1,o,null):c.data[d],g=u[d]=qm(u[11],o);Fh(c,u,g,f),Wr(f,!1)}function M_(s){return Ll("",s,""),M_}function Ll(s,o,u){const c=Ee(),d=Xc(c,s,o,u);return d!==wt&&Js(c,Ar(),d),Ll}function hr(s,o,u,c,d,f,g,y,w){const E=Ee(),A=td(E,s,o,u,c,d,f,g,y,w);return A!==wt&&Js(E,Ar(),A),hr}function Xv(s,o,u){eo(Jn,Is,Xc(Ee(),s,o,u),!0)}function xu(s,o,u,c,d,f,g,y,w){eo(Jn,Is,td(Ee(),s,o,u,c,d,f,g,y,w),!0)}function _T(s,o,u){!function(s){eo(Kv,xo,s,!1)}(Xc(Ee(),s,o,u))}function rb(s,o,u){const c=Ee();return ei(c,ms(),o)&&Cs(xt(),Yn(),c,s,o,c[11],u,!0),rb}const sa=void 0;var O_=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let cd={};function P_(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=sb(o);if(u)return u;const c=o.split("-")[0];if(u=sb(c),u)return u;if("en"===c)return O_;throw new Error(`Missing locale data for the locale "${s}".`)}function ib(s){return P_(s)[dt.PluralCase]}function sb(s){return s in cd||(cd[s]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[s]),cd[s]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const Ig=["zero","one","two","few","many"],F_="en-US",mf={marker:"element"},Ag={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let L_=F_;function V_(s){(function(s,o){null==s&&Zt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(L_=s.toLowerCase().replace(/_/g,"-"))}function ob(s,o,u){const c=o.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Km(s,0,u):an(u[d])}function ab(s,o,u,c,d){const f=o.insertBeforeIndex;if(Array.isArray(f)){let g=c,y=null;if(3&o.type||(y=g,g=d),null!==g&&0==(2&o.flags))for(let w=1;w<f.length;w++)Il(s,g,u[f[w]],y,!1)}}function ub(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const c=s[u];ET(c)||tS(c,o)&&null===U_(c)&&IT(c,o.index)}}function ET(s){return!(64&s.type)}function tS(s,o){return ET(o)||s.index>o.index}function U_(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function IT(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(zw(ob,ab),s.insertBeforeIndex=o)}function Ng(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function NT(s,o,u){const c=Vp(s,u,64,null,null);return ub(o,c),c}function Z_(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function lb(s){return s>>>17}function cb(s){return(131070&s)>>>1}let Mg=0,Ga=0;function MT(s,o,u,c){const d=u[11];let g,f=null;for(let y=0;y<o.length;y++){const w=o[y];if("string"==typeof w){const E=o[++y];null===u[E]&&(u[E]=qm(d,w))}else if("number"==typeof w)switch(1&w){case 0:const E=lb(w);let A,R;if(null===f&&(f=E,g=zm(d,c)),E===f?(A=c,R=g):(A=null,R=an(u[E])),null!==R){const pe=cb(w);Il(d,R,u[pe],A,!1);const Ne=Ng(s,pe);if(null!==Ne&&"object"==typeof Ne){const we=Z_(Ne,u);null!==we&&MT(s,Ne.create[we],u,u[Ne.anchorIdx])}}break;case 1:const j=o[++y],Y=o[++y];uv(d,ya(w>>>1,u),null,null,j,Y,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case Ag:const E=o[++y],A=o[++y];null===u[A]&&fi(u[A]=KI(d,E),u);break;case mf:const R=o[++y],P=o[++y];null===u[P]&&fi(u[P]=V0(d,R,null),u)}}}function hb(s,o,u,c,d){for(let f=0;f<u.length;f++){const g=u[f],y=u[++f];if(g&d){let w="";for(let E=f+1;E<=f+y;E++){const A=u[E];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=ie(o[c-A]);else{const R=A>>>2;switch(3&A){case 1:const P=u[++E],j=u[++E],Y=s.data[R];"string"==typeof Y?uv(o[11],o[R],null,Y,P,w,j):Cs(s,Y,o,P,w,o[11],j,!1);break;case 0:const pe=o[R];null!==pe&&Bw(o[11],pe,w);break;case 2:sS(s,Ng(s,R),o,w);break;case 3:Ro(s,Ng(s,R),c,o)}}}}else{const w=u[f+1];if(w>0&&3==(3&w)){const A=Ng(s,w>>>2);o[A.currentCaseLViewIndex]<0&&Ro(s,A,c,o)}}f+=y}}function Ro(s,o,u,c){let d=c[o.currentCaseLViewIndex];if(null!==d){let f=Mg;d<0&&(d=c[o.currentCaseLViewIndex]=~d,f=-1),hb(s,c,o.update[d],u,f)}}function sS(s,o,u,c){const d=function(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const c=function(s,o){const u=ib(o)(parseInt(s,10)),c=Ig[u];return void 0!==c?c:"other"}(o,L_);u=s.cases.indexOf(c),-1===u&&"other"!==c&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,c);if(Z_(o,u)!==d&&(fb(s,o,u),u[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const g=u[o.anchorIdx];g&&MT(s,o.create[d],u,g)}}function fb(s,o,u){let c=Z_(o,u);if(null!==c){const d=o.remove[c];for(let f=0;f<d.length;f++){const g=d[f];if(g>0){const y=ya(g,u);null!==y&&H0(u[11],y)}else fb(s,Ng(s,~g),u)}}}function oS(){const s=[];let u,c,o=-1;function f(y,w){o=0;const E=Z_(y,w);c=null!==E?y.remove[E]:$}function g(){if(o<c.length){const y=c[o++];return y>0?u[y]:(s.push(o,c),f(u[1].data[~y],u),g())}return 0===s.length?null:(c=s.pop(),o=s.pop(),g())}return function(y,w){for(u=w;s.length;)s.pop();return f(y.value,w),g}}const B_=/\ufffd(\d+):?\d*\ufffd/gi,za=/\ufffd(\d+)\ufffd/,rs=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,no=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hd=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ou=/\uE500/g;function kT(s,o,u,c,d,f,g){const y=xl(s,c,1,null);let w=y<<Un.SHIFT,E=Gi();o===E&&(E=null),null===E&&(w|=Un.APPEND_EAGERLY),g&&(w|=Un.COMMENT,function(s){void 0===F0&&(F0=s())}(oS)),d.push(w,null===f?"":f);const A=Vp(s,y,g?32:1,null===f?"":f,null);ub(u,A);const R=A.index;return Wr(A,!1),null!==E&&o!==E&&function(s,o){let u=s.insertBeforeIndex;null===u?(zw(ob,ab),u=s.insertBeforeIndex=[null,o]):(function(s,o,u){s!=o&&Zt(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(E,R),A}function RT(s,o,u,c,d,f,g){const y=g.match(B_),w=kT(s,o,u,f,c,y?null:g,!1);y&&Ie(d,g,w.index,null,0,null)}function Ie(s,o,u,c,d,f){const g=s.length,y=g+1;s.push(null,null);const w=g+2,E=o.split(B_);let A=0;for(let R=0;R<E.length;R++){const P=E[R];if(1&R){const j=d+parseInt(P,10);s.push(-1-j),A|=Po(j)}else""!==P&&s.push(P)}return s.push(u<<2|(c?1:0)),c&&s.push(c,f),s[g]=A,s[y]=s.length-w,A}function Po(s){return 1<<Math.min(s,31)}function bf(s){let o,f,u="",c=0,d=!1;for(;null!==(o=no.exec(s));)d?o[0]===`\ufffd/*${f}\ufffd`&&(c=o.index,d=!1):(u+=s.substring(c,o.index+o[0].length),f=o[1],d=!0);return u+=s.substr(c),u}function PT(s,o,u,c,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:xl(s,o,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(s,o,u){s.push(Po(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,d,f),function(s,o,u){const c=s.data[o];null===c?s.data[o]=u:c.value=u}(s,f,y);const w=d.values;for(let E=0;E<w.length;E++){const A=w[E],R=[];for(let P=0;P<A.length;P++){const j=A[P];if("string"!=typeof j){const Y=R.push(j)-1;A[P]=`\x3c!--\ufffd${Y}\ufffd--\x3e`}}g=pb(s,y,o,u,c,d.cases[E],A.join(""),R)|g}g&&function(s,o,u){s.push(o,1,u<<2|3)}(u,g,f)}function pd(s){const o=[],u=[];let c=1,d=0;const f=H_(s=s.replace(rs,function(g,y,w){return c="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&o.push(y);const w=H_(f[g++]);o.length>u.length&&u.push(w)}return{type:c,mainBinding:d,cases:o,values:u}}function H_(s){if(!s)return[];let o=0;const u=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(s);){const y=f.index;if("}"==f[0]){if(u.pop(),0==u.length){const w=s.substring(o,y);rs.test(w)?c.push(pd(w)):c.push(w),o=y+1}}else{if(0==u.length){const w=s.substring(o,y);c.push(w),o=y+1}u.push("{")}}const g=s.substring(o);return c.push(g),c}function pb(s,o,u,c,d,f,g,y){const w=[],E=[],A=[];o.cases.push(f),o.create.push(w),o.remove.push(E),o.update.push(A);const P=Ap(vo()).getInertBodyElement(g),j=vn(P)||P;return j?gb(s,o,u,c,w,E,A,j,d,y,0):0}function gb(s,o,u,c,d,f,g,y,w,E,A){let R=0,P=y.firstChild;for(;P;){const j=xl(s,u,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const Y=P,pe=Y.tagName.toLowerCase();if(Np.hasOwnProperty(pe)){q_(d,mf,pe,w,j),s.data[j]=pe;const nt=Y.attributes;for(let mt=0;mt<nt.length;mt++){const Ht=nt.item(mt),kr=Ht.name.toLowerCase();Ht.value.match(B_)?S.hasOwnProperty(kr)&&Ie(g,Ht.value,j,Ht.name,0,v[kr]?Cl:p[kr]?Oc:null):yb(d,j,Ht)}R=gb(s,o,u,c,d,f,g,P,j,E,A+1)|R,is(f,j,A)}break;case Node.TEXT_NODE:const te=P.textContent||"",Ne=te.match(B_);q_(d,null,Ne?"":te,w,j),is(f,j,A),Ne&&(R=Ie(g,te,j,null,0,null)|R);break;case Node.COMMENT_NODE:const we=za.exec(P.textContent||"");if(we){const mt=E[parseInt(we[1],10)];q_(d,Ag,"",w,j),PT(s,u,c,w,mt,j),mb(f,j,A)}}P=P.nextSibling}return R}function is(s,o,u){0===u&&s.push(o)}function mb(s,o,u){0===u&&(s.push(~o),s.push(o))}function q_(s,o,u,c,d){null!==o&&s.push(o),s.push(u,d,function(s,o,u){return 0|o<<17|u<<1}(0,c,d))}function yb(s,o,u){s.push(o<<1|1,u.name,u.value)}function VT(s,o,u=-1){const c=xt(),d=Ee(),f=20+s,g=ps(c.consts,o),y=Gi();c.firstCreatePass&&function(s,o,u,c,d,f){const g=Gi(),y=[],w=[],E=[[]],A=function(s){return s.replace(Ou," ")}(d=function(s,o){if(function(s){return-1===s}(o))return bf(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return bf(s.substring(u,c))}}(d,f)).split(hd);for(let R=0;R<A.length;R++){let P=A[R];if(0==(1&R)){const j=H_(P);for(let Y=0;Y<j.length;Y++){let pe=j[Y];if(0==(1&Y)){const te=pe;""!==te&&RT(s,g,E[0],y,w,u,te)}else{const te=pe;if("object"!=typeof te)throw new Error(`Unable to parse ICU expression in "${d}" message.`);PT(s,u,w,o,te,kT(s,g,E[0],u,y,"",!0).index)}}}else{const j=47===P.charCodeAt(0),pe=(P.charCodeAt(j?1:0),20+Number.parseInt(P.substring(j?2:1)));if(j)E.shift(),Wr(Gi(),!1);else{const te=NT(s,E[0],pe);E.unshift([]),Wr(te,!0)}}}s.data[c]={create:y,update:w}}(c,null===y?0:y.index,d,f,g,u);const w=c.data[f],A=qw(c,y===d[6]?null:y,d);(function(s,o,u,c){const d=s[11];for(let f=0;f<o.length;f++){const g=o[f++],y=o[f],w=(g&Un.COMMENT)===Un.COMMENT,E=(g&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,A=g>>>Un.SHIFT;let R=s[A];null===R&&(R=s[A]=w?d.createComment(y):qm(d,y)),E&&null!==u&&Il(d,u,R,c,!1)}})(d,w.create,A,y&&8&y.type?d[y.index]:null),wa(!0)}function Tb(s,o,u){VT(s,o,u),wa(!1)}function kg(s){return function(s){s&&(Mg|=1<<Math.min(Ga,31)),Ga++}(ei(Ee(),ms(),s)),kg}function UT(s){!function(s,o,u){if(Ga>0){const c=s.data[u];hb(s,o,Array.isArray(c)?c:c.update,Yr()-Ga-1,Mg)}Mg=0,Ga=0}(xt(),Ee(),s+20)}function Fi(s,o,u,c,d){if(s=q(s),Array.isArray(s))for(let f=0;f<s.length;f++)Fi(s[f],o,u,c,d);else{const f=xt(),g=Ee();let y=Au(s)?s:q(s.provide),w=Cv(s);const E=Cn(),A=1048575&E.providerIndexes,R=E.directiveStart,P=E.providerIndexes>>20;if(Au(s)||!s.multi){const j=new ll(w,d,cr),Y=Og(y,o,d?A:A+P,R);-1===Y?(un(To(E,g),f,y),$_(f,s,o.length),o.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(j),g.push(j)):(u[Y]=j,g[Y]=j)}else{const j=Og(y,o,A+P,R),Y=Og(y,o,A,A+P),pe=j>=0&&u[j],te=Y>=0&&u[Y];if(d&&!te||!d&&!pe){un(To(E,g),f,y);const Ne=function(s,o,u,c,d){const f=new ll(s,u,cr);return f.multi=[],f.index=o,f.componentProviders=0,Rg(f,d,c&&!u),f}(d?Ul:jT,u.length,d,c,w);!d&&te&&(u[Y].providerFactory=Ne),$_(f,s,o.length,0),o.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(Ne),g.push(Ne)}else $_(f,s,j>-1?j:Y,Rg(u[d?Y:j],w,!d&&c));!d&&c&&te&&u[Y].componentProviders++}}}function $_(s,o,u,c){const d=Au(o);if(d||function(s){return!!s.useClass}(o)){const g=(o.useClass||o).prototype.ngOnDestroy;if(g){const y=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const w=y.indexOf(u);-1===w?y.push(u,[c,g]):y[w+1].push(c,g)}else y.push(u,g)}}}function Rg(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Og(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function jT(s,o,u,c){return Zl(this.multi,[])}function Ul(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=kt(u,u[1],this.providerFactory.index,c);f=y.slice(0,g),Zl(d,f);for(let w=g;w<y.length;w++)f.push(y[w])}else f=[],Zl(d,f);return f}function Zl(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Bl(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=xt();if(c.firstCreatePass){const d=hs(s);Fi(u,c.data,c.blueprint,d,!0),Fi(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class gd{}const Pu="ngComponent";class Eb{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${Q(s)}. Did you add it to @NgModule.entryComponents?`);return o[Pu]=s,o}(o)}}let md=(()=>{class s{}return s.NULL=new Eb,s})();function G_(...s){}function Fu(s,o){return new Wa(Si(s,o))}const hS=function(){return Fu(Cn(),Ee())};let Wa=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=hS,s})();function Ab(s){return s instanceof Wa?s.nativeElement:s}class yd{}let fS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Sb(),s})();const Sb=function(){const s=Ee(),u=ui(Cn().index,s);return function(s){return s[11]}(Vs(u)?u:s)};let Fg=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class GT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const W_=new GT("12.2.13");class Y_{constructor(){}supports(o){return Xs(o)}create(o){return new WT(o)}}const zT=(s,o)=>o;class WT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zT}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const g=!c||u&&u.currentIndex<Mb(c,d,f)?u:c,y=Mb(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{f||(f=[]);const E=y-d,A=w-d;if(E!=A){for(let P=0;P<E;P++){const j=P<f.length?f[P]:f[P]=0,Y=j+P;A<=Y&&Y<E&&(f[P]=j+1)}f[g.previousIndex]=A-E}}y!==w&&o(g,y,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Xs(o))throw new Error(`Error trying to diff '${Q(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)f=o[y],g=this._trackByFn(y,f),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,f,g,y)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,g,y),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Qc()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,y=>{g=this._trackByFn(d,y),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,y,g,d)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new YT(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new KT),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class YT{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class KT{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new Nb,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mb(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class JT{constructor(){}supports(o){return o instanceof Map||og(o)}create(){return new QT}}class QT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||og(o)))throw new Error(`Error trying to diff '${Q(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new pS(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class pS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vd(){return new Lu([new Y_])}let Lu=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||vd()),deps:[[s,new Zr,new xa]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:vd}),s})();function Lg(){return new Vg([new JT])}let Vg=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Lg()),deps:[[s,new Zr,new xa]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Lg}),s})();function Ug(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(an(f)),Vr(f))for(let y=10;y<f.length;y++){const w=f[y],E=w[1].firstChild;null!==E&&Ug(w[1],w,E,c)}const g=u.type;if(8&g)Ug(s,o,u.child,c);else if(32&g){const y=jm(u,o);let w;for(;w=y();)c.push(w)}else if(16&g){const y=B0(o,u);if(Array.isArray(y))c.push(...y);else{const w=Op(o[16]);Ug(w[1],w,y,c,!0)}}u=d?u.projectionNext:u.next}return c}class Zg{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Ug(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Vr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Gm(o,c),xi(u,c))}this._attachedToViewContainer=!1}jw(this._lView[1],this._lView)}onDestroy(o){jp(this._lView[1],this._lView,null,o)}markForCheck(){u_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){wo(!0);try{pv(s,o,u)}finally{wo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Zc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class kb extends Zg{constructor(o){super(o),this._view=o}detectChanges(){qc(this._view)}checkNoChanges(){!function(s){wo(!0);try{qc(s)}finally{wo(!1)}}(this._view)}get context(){return null}}const mS=function(s){return function(s,o,u){if(Yu(s)&&!u){const c=ui(s.index,o);return new Zg(c,c)}return 47&s.type?new Zg(o[16],o):null}(Cn(),Ee(),16==(16&s))};let Rb=(()=>{class s{}return s.__NG_ELEMENT_ID__=mS,s})();const ri=[new JT],vS=new Lu([new Y_]),bS=new Vg(ri),CS=function(){return wd(Cn(),Ee())};let bd=(()=>{class s{}return s.__NG_ELEMENT_ID__=CS,s})();const eD=bd,tD=class extends eD{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Nl(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Up(u,c,o),new Zg(c)}};function wd(s,o){return 4&s.type?new tD(o,s,Fu(s,o)):null}class oa{}class Bg{}const Lb=function(){return Ub(Cn(),Ee())};let jg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Lb,s})();const rD=jg,iD=class extends rD{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ge(this._hostTNode,this._hostLView);if(bc(o)){const u=js(o,this._hostLView),c=zi(o);return new Ni(u[1].data[c+8],u)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=sD(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,f){const g=c||this.parentInjector;if(!f&&null==o.ngModule&&g){const w=g.get(oa,null);w&&(f=w)}const y=o.create(g,d,void 0,f);return this.insert(y.hostView,u),y}insert(o,u){const c=o._lView,d=c[1];if(Vr(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const R=c[3],P=new iD(R,R[6],R[3]);P.detach(P.indexOf(o))}}const f=this._adjustIndex(u),g=this._lContainer;!function(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],bu(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const g=o[17];null!==g&&u!==g&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(g,o);const y=o[19];null!==y&&y.insertView(s),o[2]|=128}(d,c,g,f);const y=j0(f,g),w=c[11],E=zm(w,g[7]);return null!==E&&function(s,o,u,c,d,f){c[0]=d,c[6]=o,Zc(s,c,u,1,d,f)}(d,g[6],w,c,E,y),o.attachToViewContainerRef(),bu(Vb(g),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=sD(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Gm(this._lContainer,u);c&&(xi(Vb(this._lContainer),u),jw(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=Gm(this._lContainer,u);return c&&null!=xi(Vb(this._lContainer),u)?new Zg(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function sD(s){return s[8]}function Vb(s){return s[8]||(s[8]=[])}function Ub(s,o){let u;const c=o[s.index];if(Vr(c))u=c;else{let d;if(8&s.type)d=an(c);else{const f=o[11];d=f.createComment("");const g=Si(s,o);Il(f,zm(f,g),d,function(s,o){return Rn(s)?s.nextSibling(o):o.nextSibling}(f,g),!1)}o[s.index]=u=$p(c,o,d,s),zp(o,u)}return new iD(u,s,o)}const Ad={};class hy extends md{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=fn(o);return new fy(u,this.ngModule)}}function TD(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const ED=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Pw});class fy extends gd{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(Xm).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return TD(this.componentDef.inputs)}get outputs(){return TD(this.componentDef.outputs)}create(o,u,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const f=s.get(u,Ad,d);return f!==Ad||c===Ad?f:o.get(u,c,d)}}}(o,d.injector):o,g=f.get(yd,Er),y=f.get(Fg,null),w=g.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,u){if(Rn(s))return s.selectRootElement(o,u===Pe.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(w,c,this.componentDef.encapsulation):V0(g.createRenderer(null,this.componentDef),E,function(s){const o=s.toLowerCase();return"svg"===o?ru:"math"===o?"http://www.w3.org/1998/MathML/":null}(E)),R=this.componentDef.onPush?576:528,P=function(s,o){return{components:[],scheduler:s||Pw,clean:c_,playerHandler:o||null,flags:0}}(),j=i_(0,null,null,1,0,null,null,null,null,null),Y=Nl(null,j,P,R,null,null,g,w,y,f);let pe,te;hu(Y);try{const Ne=function(s,o,u,c,d,f){const g=u[1];u[20]=s;const w=Ml(g,20,2,"#host",null),E=w.mergedAttrs=o.hostAttrs;null!==E&&($c(w,E,!0),null!==s&&(oh(d,s,E),null!==w.classes&&q0(d,s,w.classes),null!==w.styles&&Yw(d,s,w.styles)));const A=c.createRenderer(s,o),R=Nl(u,Zh(o),null,o.onPush?64:16,u[20],w,c,A,f||null,null);return g.firstCreatePass&&(un(To(w,u),g,o.type),mC(g,w),yC(w,u.length,1)),zp(u,R),u[20]=R}(A,this.componentDef,Y,g,w);if(A)if(c)oh(w,A,["ng-version",W_.full]);else{const{attrs:we,classes:nt}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!ta(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);we&&oh(w,A,we),nt&&nt.length>0&&q0(w,A,nt.join(" "))}if(te=lc(j,20),void 0!==u){const we=te.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const mt=u[nt];we.push(null!=mt?Array.from(mt):null)}}pe=function(s,o,u,c,d){const f=u[1],g=function(s,o,u){const c=Cn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),vC(s,c,o,xl(s,o,1,null),u));const d=kt(o,s,c.directiveStart,c);fi(d,o);const f=Si(c,o);return f&&fi(f,o),d}(f,u,o);if(c.components.push(g),s[8]=g,d&&d.forEach(w=>w(g,o)),o.contentQueries){const w=Cn();o.contentQueries(1,g,w.directiveStart)}const y=Cn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Co(y.index),a_(u[1],y,0,y.directiveStart,y.directiveEnd,o),qp(o,g)),g}(Ne,this.componentDef,Y,P,[Sv]),Up(j,Y,null)}finally{qo()}return new US(this.componentType,pe,Fu(te,Y),Y,te)}}class US extends class{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new kb(d),this.componentType=o}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const kf=new Map;class y1 extends oa{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hy(this);const c=Nn(o),d=o[ut]||null;d&&V_(d),this._bootstrapComponents=Fa(c.bootstrap),this._r3Injector=EC(o,u,[{provide:oa,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],Q(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Dn.THROW_IF_NOT_FOUND,c=Be.Default){return o===Dn||o===oa||o===Gc?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jg extends Bg{constructor(o){super(),this.moduleType=o,null!==Nn(o)&&function(s){const o=new Set;!function u(c){const d=Nn(c,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${Q(o)} vs ${Q(o.name)}`)}(f,kf.get(f),c),kf.set(f,c));const g=Fa(d.imports);for(const y of g)o.has(y)||(o.add(y),u(y))}(s)}(o)}create(o){return new y1(this.moduleType,o)}}function my(s,o,u,c){return C1(Ee(),ar(),s,o,u,c)}function v1(s,o,u,c,d){return function(s,o,u,c,d,f,g){const y=o+u;return ja(s,y,d,f)?Ts(s,y+2,g?c.call(g,d,f):c(d,f)):Qg(s,y+2)}(Ee(),ar(),s,o,u,c,d)}function _y(s,o,u,c,d,f){return function(s,o,u,c,d,f,g,y){const w=o+u;return function(s,o,u,c,d){const f=ja(s,o,u,c);return ei(s,o+2,d)||f}(s,w,d,f,g)?Ts(s,w+3,y?c.call(y,d,f,g):c(d,f,g)):Qg(s,w+3)}(Ee(),ar(),s,o,u,c,d,f)}function Qg(s,o){const u=s[o];return u===wt?void 0:u}function C1(s,o,u,c,d,f){const g=o+u;return ei(s,g,d)?Ts(s,g+1,f?c.call(f,d):c(d)):Qg(s,g+1)}function xD(s,o){const u=xt();let c;const d=s+20;u.firstCreatePass?(c=function(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}throw new Me("302",`The pipe '${s}' could not be found!`)}(o,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const f=c.factory||(c.factory=Ii(c.type)),g=Gn(cr);try{const y=Ea(!1),w=f();return Ea(y),function(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Ee(),d,w),w}finally{Gn(g)}}function kD(s,o,u){const c=s+20,d=Ee(),f=$i(d,c);return function(s,o){Mo.isWrapped(o)&&(o=Mo.unwrap(o),s[Yr()]=wt);return o}(d,function(s,o){return s[1].data[o].pure}(d,c)?C1(d,ar(),o,f.transform,u,f):f.transform(u))}function Jt(s){return o=>{setTimeout(s,void 0,o)}}const aa=class extends i.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,f,g;let y=o,w=u||(()=>null),E=c;if(o&&"object"==typeof o){const R=o;y=null===(d=R.next)||void 0===d?void 0:d.bind(R),w=null===(f=R.error)||void 0===f?void 0:f.bind(R),E=null===(g=R.complete)||void 0===g?void 0:g.bind(R)}this.__isAsync&&(w=Jt(w),y&&(y=Jt(y)),E&&(E=Jt(E)));const A=super.subscribe({next:y,error:w,complete:E});return o instanceof B.w&&o.add(A),A}};function PD(){return this._results[Qc()]()}class Gl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qc(),c=Gl.prototype;c[u]||(c[u]=PD)}get changes(){return this._changes||(this._changes=new aa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=Ki(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Lo{constructor(o){this.queryList=o,this.matches=null}clone(){return new Lo(this.queryList)}setDirty(){this.queryList.setDirty()}}class vy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const g=u.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new vy(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==ZD(o,u).matches&&this.queries[u].setDirty()}}class FD{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Lf{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Lf(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class by{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new by(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,LD(u,f)),this.matchTNodeWithReadOption(o,u,hl(u,o,f,!1,!1))}else c===bd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,hl(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Wa||d===jg||d===bd&&4&u.type)this.addMatch(u.index,-2);else{const f=hl(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function LD(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function E1(s,o,u,c){return-1===u?function(s,o){return 11&s.type?Fu(s,o):4&s.type?wd(s,o):null}(o,s):-2===u?function(s,o,u){return u===Wa?Fu(o,s):u===bd?wd(o,s):u===jg?Ub(o,s):void 0}(s,o,c):kt(s,s[1],u,o)}function VD(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,g=u.matches,y=[];for(let w=0;w<g.length;w+=2){const E=g[w];y.push(E<0?null:E1(o,f[E],g[w+1],u.metadata.read))}d.matches=y}return d.matches}function qn(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const g=VD(s,o,d,u);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)c.push(g[y/2]);else{const E=f[y+1],A=o[-w];for(let R=10;R<A.length;R++){const P=A[R];P[17]===P[3]&&qn(P[1],P,E,c)}if(null!==A[9]){const R=A[9];for(let P=0;P<R.length;P++){const j=R[P];qn(j[1],j,E,c)}}}}}return c}function WS(s){const o=Ee(),u=xt(),c=pc();Ho(c+1);const d=ZD(u,c);if(s.dirty&&el(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?qn(u,o,c,[]):VD(u,o,d,c);s.reset(f,Ab),s.notifyOnChanges()}return!0}return!1}function YS(s,o,u){const c=xt();c.firstCreatePass&&(A1(c,new FD(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),UD(c,Ee(),o)}function Mr(s,o,u,c){const d=xt();if(d.firstCreatePass){const f=Cn();A1(d,new FD(o,u,c),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}UD(d,Ee(),u)}function I1(){return s=Ee(),o=pc(),s[19].queries[o].queryList;var s,o}function UD(s,o,u){const c=new Gl(4==(4&u));jp(s,o,c,c.destroy),null===o[19]&&(o[19]=new vy),o[19].queries.push(new Lo(c))}function A1(s,o,u){null===s.queries&&(s.queries=new Lf),s.queries.track(new by(o,u))}function ZD(s,o){return s.queries.getByIndex(o)}function BD(s,o){return wd(s,o)}const R1=new On("Application Initializer");let kd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=G_,this.reject=G_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(sd(f))u.push(f);else if(w_(f)){const g=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});u.push(g)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Tn(R1,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const tE=new On("AppId"),O1={provide:tE,useFactory:function(){return`${P1()}${P1()}${P1()}`},deps:[]};function P1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new On("Platform Initializer"),rE=new On("Platform ID"),iE=new On("appBootstrapListener");let sE=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const ky=new On("LocaleId"),fN=new On("DefaultCurrencyCode");class F1{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Ry=function(s){return new Jg(s)},Oy=Ry,uE=function(s){return Promise.resolve(Ry(s))},oo=function(s){const o=Ry(s),c=Fa(Nn(s).declarations).reduce((d,f)=>{const g=fn(f);return g&&d.push(new fy(g)),d},[]);return new F1(o,c)},os=oo,rm=function(s){return Promise.resolve(oo(s))};let qu=(()=>{class s{constructor(){this.compileModuleSync=Oy,this.compileModuleAsync=uE,this.compileModuleAndAllComponentsSync=os,this.compileModuleAndAllComponentsAsync=rm}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const L1=(()=>Promise.resolve(0))();function Kl(s){"undefined"==typeof Zone?L1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new aa(!1),this.onMicrotaskEmpty=new aa(!1),this.onStable=new aa(!1),this.onError=new aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=Yt.requestAnimationFrame,o=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,im(s),s.isCheckStableRunning=!0,V1(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),im(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,g,y)=>{try{return qf(s),u.invokeTask(d,f,g,y)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),lE(s)}},onInvoke:(u,c,d,f,g,y,w)=>{try{return qf(s),u.invoke(d,f,g,y,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),lE(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,im(s),V1(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,Od,G_,G_);try{return f.runTask(g,u,c)}finally{f.cancelTask(g)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const Od={};function V1(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function im(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function qf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function lE(s){s._nesting--,V1(s)}class wN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new aa,this.onMicrotaskEmpty=new aa,this.onStable=new aa,this.onError=new aa}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let cE=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),Kl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kl(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Tn(us))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),dE=(()=>{class s{constructor(){this._applications=new Map,Py.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Py.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class hE{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function CN(s){Py=s}let Py=new hE,Fy=!0,U1=!1;function $f(){return U1=!0,Fy}function TN(){if(U1)throw new Error("Cannot enable prod mode after platform setup.");Fy=!1}let Qa;const AN=new On("AllowMultipleToken");class yk{constructor(o,u){this.name=o,this.token=u}}function SN(s,o,u=[]){const c=`Platform: ${o}`,d=new On(c);return(f=[])=>{let g=pE();if(!g||g.injector.get(AN,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const y=u.concat(f).concat({provide:d,useValue:!0},{provide:zc,useValue:"platform"});!function(s){if(Qa&&!Qa.destroyed&&!Qa.injector.get(AN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qa=s.get(gE);const o=s.get(nE,null);o&&o.forEach(u=>u())}(Dn.create({providers:y,name:c}))}return function(s){const o=pE();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function pE(){return Qa&&!Qa.destroyed?Qa:null}let gE=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const y=function(s,o){let u;return u="noop"===s?new wN:("zone.js"===s?void 0:s)||new us({enableLongStackTrace:$f(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:us,useValue:y}];return y.run(()=>{const E=Dn.create({providers:w,parent:this.injector,name:u.moduleType.name}),A=u.create(E),R=A.injector.get(Oh,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:j=>{R.handleError(j)}});A.onDestroy(()=>{Z1(this._modules,A),P.unsubscribe()})}),function(s,o,u){try{const c=u();return sd(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(R,y,()=>{const P=A.injector.get(kd);return P.runInitializers(),P.donePromise.then(()=>(V_(A.injector.get(ky,F_)||F_),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=sm({},c);return function(s,o,u){const c=new Jg(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(Pd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Q(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Tn(Dn))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function sm(s,o){return Array.isArray(o)?o.reduce(sm,s):Object.assign(Object.assign({},s),o)}let Pd=(()=>{class s{constructor(u,c,d,f,g){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new O.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),Kl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe((0,ue.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof gd?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(oa),y=d.create(Dn.NULL,[],c||d.selector,f),w=y.location.nativeElement,E=y.injector.get(cE,null),A=E&&y.injector.get(dE);return E&&A&&A.registerApplication(w,E),y.onDestroy(()=>{this.detachView(y.hostView),Z1(this.components,y),A&&A.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Z1(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(iE,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Tn(us),Tn(Dn),Tn(Oh),Tn(md),Tn(kd))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function Z1(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class _E{}class vE{}const xN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let B1=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||xN}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>om(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>om(g,c,d))}}return s.\u0275fac=function(u){return new(u||s)(Tn(qu),Tn(vE,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function om(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const H1=function(s){return null},Uy=SN(null,"core",[{provide:rE,useValue:"unknown"},{provide:gE,deps:[Dn]},{provide:dE,deps:[]},{provide:sE,deps:[]}]),xE=[{provide:Pd,useClass:Pd,deps:[us,Dn,Oh,md,kd]},{provide:ED,deps:[us],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:kd,useClass:kd,deps:[[new xa,R1]]},{provide:qu,useClass:qu,deps:[]},O1,{provide:Lu,useFactory:function(){return vS},deps:[]},{provide:Vg,useFactory:function(){return bS},deps:[]},{provide:ky,useFactory:function(s){return V_(s=s||"undefined"!=typeof $localize&&$localize.locale||F_),s},deps:[[new Tu(ky),new xa,new Zr]]},{provide:fN,useValue:"USD"}];let LN=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Tn(Pd))},s.\u0275mod=Ve({type:s}),s.\u0275inj=_n({providers:xE}),s})()},8939:(We,be,F)=>{"use strict";F.d(be,{hO:()=>he,xv:()=>z,Dh:()=>Q,GT:()=>ee,cc:()=>Oe,on:()=>L,pX:()=>ue});var i=F(7716),B=F(7841),O=F(9396);We=F.hmd(We);const ce=["ngOnDestroy"],ue=(ie,ae,Te,ke={})=>new Proxy(ie,{get:(At,Nt)=>Te.runOutsideAngular(()=>{var zt;if(ie[Nt])return(null===(zt=null==ke?void 0:ke.spy)||void 0===zt?void 0:zt.get)&&ke.spy.get(Nt,ie[Nt]),ie[Nt];if(ce.indexOf(Nt)>-1)return()=>{};const yt=ae.toPromise().then(In=>{const Tt=In&&In[Nt];return"function"==typeof Tt?Tt.bind(In):Tt&&Tt.then?Tt.then(pt=>Te.run(()=>pt)):Te.run(()=>Tt)});return new Proxy(()=>{},{get:(In,Tt)=>yt[Tt],apply:(In,Tt,pt)=>yt.then(Rt=>{var Qe;const Ut=Rt&&Rt(...pt);return(null===(Qe=null==ke?void 0:ke.spy)||void 0===Qe?void 0:Qe.apply)&&ke.spy.apply(Nt,pt,Ut),Ut})})})}),ee=(ie,ae)=>{ae.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(ke=>{Object.defineProperty(ie.prototype,ke,Object.getOwnPropertyDescriptor(Te.prototype||Te,ke))})})};class de{constructor(ae){return ae}}const Q=new i.OlP("angularfire2.app.options"),z=new i.OlP("angularfire2.app.name");function L(ie,ae,Te){const At="object"==typeof Te&&Te||{};At.name=At.name||"string"==typeof Te&&Te||"[DEFAULT]";const zt=B.Z.apps.filter(yt=>yt&&yt.name===At.name)[0]||ae.runOutsideAngular(()=>B.Z.initializeApp(ie,At));try{JSON.stringify(ie)!==JSON.stringify(zt.options)&&Z("error",`${zt.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new de(zt)}const Z=(ie,...ae)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[ie](...ae)},q={provide:de,useFactory:L,deps:[Q,i.R0b,[new i.FiY,z]]};let he=(()=>{class ie{constructor(Te){B.Z.registerVersion("angularfire",O.q4.full,"core"),B.Z.registerVersion("angularfire",O.q4.full,"app-compat"),B.Z.registerVersion("angular",i.q4F.full,Te.toString())}static initializeApp(Te,ke){return{ngModule:ie,providers:[{provide:Q,useValue:Te},{provide:z,useValue:ke}]}}}return ie.\u0275fac=function(Te){return new(Te||ie)(i.LFG(i.Lbi))},ie.\u0275mod=i.oAB({type:ie}),ie.\u0275inj=i.cJS({providers:[q]}),ie})();function Oe(ie,ae,Te,ke,At){const[,Nt,zt]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===ie)||[];if(Nt)return function(ie,ae){try{return ie.toString()===ae.toString()}catch(Te){return ie===ae}}(At,zt)||(ge("error",`${ae} was already initialized on the ${Te} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:At,was:zt})),Nt;{const yt=ke();return globalThis.\u0275AngularfireInstanceCache.push([ie,yt,At]),yt}}const De=!!We.hot,ge=(ie,...ae)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[ie](...ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(We,be,F)=>{"use strict";F.d(be,{q4:()=>Am,iC:()=>Qn,fc:()=>gh,HU:()=>ph,vb:()=>bu,JM:()=>bs});var i=F(7716),B=F(2329),O=F(8239),ce=F(8026),ue=F(3854),ee=F(3910),de=F(5422),Q=F(6676);const z="@firebase/installations",L="0.5.4",q=`w:${L}`,he="FIS_v2",ae=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(D){return D instanceof ue.ZR&&D.code.includes("request-failed")}function ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function At(D){return{token:D.token,requestStatus:2,expiresIn:Rt(D.expiresIn),creationTime:Date.now()}}function Nt(D,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(D,I){const U=(yield I.json()).error;return ae.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function yt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function In(D,{refreshToken:I}){const x=yt(D);return x.append("Authorization",function(D){return`${he} ${D}`}(I)),x}function Tt(D){return pt.apply(this,arguments)}function pt(){return(pt=(0,O.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function Rt(D){return Number(D.replace("s","000"))}function Ut(D,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(D,{fid:I}){const x=ke(D),fe={method:"POST",headers:yt(D),body:JSON.stringify({fid:I,authVersion:he,appId:D.appId,sdkVersion:q})},Ae=yield Tt(()=>fetch(x,fe));if(Ae.ok){const qe=yield Ae.json();return{fid:qe.fid||I,registrationStatus:2,refreshToken:qe.refreshToken,authToken:At(qe.authToken)}}throw yield Nt("Create Installation",Ae)})).apply(this,arguments)}function cs(D){return new Promise(I=>{setTimeout(I,D)})}const ji=/^[cdef][\w-]{21}$/;function Wt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ji.test(x)?x:""}catch(D){return""}}function ds(D){return`${D.appName}!${D.appId}`}const xs=new Map;function Ci(D,I){const x=ds(D);_n(x,I),function(D,I){const x=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=D=>{_n(D.data.key,D.data.fid)}),Qt);x&&x.postMessage({key:D,fid:I}),0===xs.size&&Qt&&(Qt.close(),Qt=null)}(x,I)}function _n(D,I){const x=xs.get(D);if(x)for(const U of x)U(I)}let Qt=null;const wn="firebase-installations-store";let $n=null;function Di(){return $n||($n=(0,Q.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(wn)}})),$n}function Be(D,I){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(D,I){const x=ds(D),ne=(yield Di()).transaction(wn,"readwrite"),fe=ne.objectStore(wn),Ae=yield fe.get(x);return yield fe.put(I,x),yield ne.complete,(!Ae||Ae.fid!==I.fid)&&Ci(D,I.fid),I})).apply(this,arguments)}function mr(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(D){const I=ds(D),U=(yield Di()).transaction(wn,"readwrite");yield U.objectStore(wn).delete(I),yield U.complete})).apply(this,arguments)}function it(D,I){return et.apply(this,arguments)}function et(){return(et=(0,O.Z)(function*(D,I){const x=ds(D),ne=(yield Di()).transaction(wn,"readwrite"),fe=ne.objectStore(wn),Ae=yield fe.get(x),qe=I(Ae);return void 0===qe?yield fe.delete(x):yield fe.put(qe,x),yield ne.complete,qe&&(!Ae||Ae.fid!==qe.fid)&&Ci(D,qe.fid),qe})).apply(this,arguments)}function Mt(D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(D){let I;const x=yield it(D,U=>{const ne=zn(U),fe=en(D,ne);return I=fe.registrationPromise,fe.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function zn(D){return Yt(D||{fid:Wt(),registrationStatus:0})}function en(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ae.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(D,I){return Xe.apply(this,arguments)}(D,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:da(D)}:{installationEntry:I}}function Xe(){return(Xe=(0,O.Z)(function*(D,I){try{return Be(D,yield Ut(D,I))}catch(x){throw Te(x)&&409===x.customData.serverCode?yield mr(D):yield Be(D,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function da(D){return dn.apply(this,arguments)}function dn(){return(dn=(0,O.Z)(function*(D){let I=yield tn(D);for(;1===I.registrationStatus;)yield cs(100),I=yield tn(D);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Mt(D);return U||x}return I})).apply(this,arguments)}function tn(D){return it(D,I=>{if(!I)throw ae.create("installation-not-found");return Yt(I)})}function Yt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function po(D,I){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:I},x){const U=$(D,x),ne=In(D,x),fe=I.getImmediate({optional:!0});fe&&ne.append("x-firebase-client",fe.getPlatformInfoString());const qe={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:q}})},ze=yield Tt(()=>fetch(U,qe));if(ze.ok)return At(yield ze.json());throw yield Nt("Generate Auth Token",ze)})).apply(this,arguments)}function $(D,{fid:I}){return`${ke(D)}/${I}/authTokens:generate`}function W(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(D,I=!1){let x;const U=yield it(D.appConfig,fe=>{if(!Wn(fe))throw ae.create("not-registered");const Ae=fe.authToken;if(!I&&nr(Ae))return fe;if(1===Ae.requestStatus)return x=le(D,I),fe;{if(!navigator.onLine)throw ae.create("app-offline");const qe=J(fe);return x=qt(D,qe),qe}});return x?yield x:U.authToken})).apply(this,arguments)}function le(D,I){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(D,I){let x=yield ut(D.appConfig);for(;1===x.authToken.requestStatus;)yield cs(100),x=yield ut(D.appConfig);const U=x.authToken;return 0===U.requestStatus?W(D,I):U})).apply(this,arguments)}function ut(D){return it(D,I=>{if(!Wn(I))throw ae.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function qt(D,I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(D,I){try{const x=yield po(D,I),U=Object.assign(Object.assign({},I),{authToken:x});return yield Be(D.appConfig,U),x}catch(x){if(!Te(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Be(D.appConfig,U)}else yield mr(D.appConfig);throw x}})).apply(this,arguments)}function Wn(D){return void 0!==D&&2===D.registrationStatus}function nr(D){return 2===D.requestStatus&&!function(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function J(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ve(){return(Ve=(0,O.Z)(function*(D){const I=D,{installationEntry:x,registrationPromise:U}=yield Mt(I.appConfig);return U?U.catch(console.error):W(I).catch(console.error),x.fid})).apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(D,I=!1){const x=D;return yield It(x.appConfig),(yield W(x,I)).token})).apply(this,arguments)}function It(D){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(D){const{registrationPromise:I}=yield Mt(D);I&&(yield I)})).apply(this,arguments)}function pn(D){return ae.create("missing-app-config-values",{valueName:D})}const zr="installations";(0,ce._registerComponent)(new ee.wA(zr,D=>{const I=D.getProvider("app").getImmediate();return{app:I,appConfig:function(D){if(!D||!D.options)throw pn("App Configuration");if(!D.name)throw pn("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!D.options[x])throw pn(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I),platformLoggerProvider:(0,ce._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("installations-internal",D=>{const I=D.getProvider("app").getImmediate(),x=(0,ce._getProvider)(I,zr).getImmediate();return{getId:()=>function(D){return Ve.apply(this,arguments)}(x),getToken:ne=>function(D){return Lt.apply(this,arguments)}(x,ne)}},"PRIVATE")),(0,ce.registerVersion)(z,L),(0,ce.registerVersion)(z,L,"esm2017");const ha="@firebase/remote-config",_r=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ur{constructor(I,x,U,ne){this.client=I,this.storage=x,this.storageCache=U,this.logger=ne}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,ne=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ne}.`),ne}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,ne]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ne&&x.isCachedDataFresh(I.cacheMaxAgeMillis,U))return ne;I.eTag=ne&&ne.eTag;const fe=yield x.client.fetch(I),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ae),fe})()}}function hs(D=navigator){return D.languages&&D.languages[0]||D.language}class Dr{constructor(I,x,U,ne,fe,Ae){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=U,this.projectId=ne,this.apiKey=fe,this.appId=Ae}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,ne]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:ne,app_id:x.appId,language_code:hs()},Vt={method:"POST",headers:qe,body:JSON.stringify(ze)},nn=fetch(Ae,Vt),sr=new Promise((Gs,hi)=>{I.signal.addEventListener(()=>{const gt=new Error("The operation was aborted.");gt.name="AbortError",hi(gt)})});let di;try{yield Promise.race([nn,sr]),di=yield nn}catch(Gs){let hi="fetch-client-network";throw"AbortError"===Gs.name&&(hi="fetch-timeout"),_r.create(hi,{originalErrorMessage:Gs.message})}let ur=di.status;const Na=di.headers.get("ETag")||void 0;let wu,Ma;if(200===di.status){let Gs;try{Gs=yield di.json()}catch(hi){throw _r.create("fetch-client-parse",{originalErrorMessage:hi.message})}wu=Gs.entries,Ma=Gs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ma?ur=500:"NO_CHANGE"===Ma?ur=304:("NO_TEMPLATE"===Ma||"EMPTY_CONFIG"===Ma)&&(wu={}),304!==ur&&200!==ur)throw _r.create("fetch-status",{httpStatus:ur});return{status:ur,eTag:Na,config:wu}})()}}class Gd{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:U}){var ne=this;return(0,O.Z)(function*(){yield function(D,I){return new Promise((x,U)=>{const ne=Math.max(I-Date.now(),0),fe=setTimeout(x,ne);D.addEventListener(()=>{clearTimeout(fe),U(_r.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const fe=yield ne.client.fetch(I);return yield ne.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(fe))throw fe;const Ae={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield ne.storage.setThrottleMetadata(Ae),ne.attemptFetch(I,Ae)}})()}}class Wd{constructor(I,x,U,ne,fe){this.app=I,this._client=x,this._storageCache=U,this._storage=ne,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rc(D,I){const x=D.target.error||void 0;return _r.create(I,{originalErrorMessage:x&&x.message})}const yo="app_namespace_store";class Kd{constructor(I,x,U,ne=function(){return new Promise((D,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{I(rc(U,"storage-open"))},x.onsuccess=U=>{D(U.target.result)},x.onupgradeneeded=U=>{const ne=U.target.result;switch(U.oldVersion){case 0:ne.createObjectStore(yo,{keyPath:"compositeKey"})}}}catch(x){I(_r.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=U,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((ne,fe)=>{const qe=U.transaction([yo],"readonly").objectStore(yo),ze=x.createCompositeKey(I);try{const Vt=qe.get(ze);Vt.onerror=nn=>{fe(rc(nn,"storage-get"))},Vt.onsuccess=nn=>{const sr=nn.target.result;ne(sr?sr.value:void 0)}}catch(Vt){fe(_r.create("storage-get",{originalErrorMessage:Vt&&Vt.message}))}})})()}set(I,x){var U=this;return(0,O.Z)(function*(){const ne=yield U.openDbPromise;return new Promise((fe,Ae)=>{const ze=ne.transaction([yo],"readwrite").objectStore(yo),Vt=U.createCompositeKey(I);try{const nn=ze.put({compositeKey:Vt,value:x});nn.onerror=sr=>{Ae(rc(sr,"storage-set"))},nn.onsuccess=()=>{fe()}}catch(nn){Ae(_r.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((ne,fe)=>{const qe=U.transaction([yo],"readwrite").objectStore(yo),ze=x.createCompositeKey(I);try{const Vt=qe.delete(ze);Vt.onerror=nn=>{fe(rc(nn,"storage-delete"))},Vt.onsuccess=()=>{ne()}}catch(Vt){fe(_r.create("storage-delete",{originalErrorMessage:Vt&&Vt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Cm{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const x=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),ne=I.storage.getActiveConfig(),fe=yield x;fe&&(I.lastFetchStatus=fe);const Ae=yield U;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const qe=yield ne;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ap(){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("remote-config",function(I,{instanceIdentifier:x}){const U=I.getProvider("app").getImmediate(),ne=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw _r.create("registration-window");if(!(0,ue.hl)())throw _r.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ae,appId:qe}=U.options;if(!fe)throw _r.create("registration-project-id");if(!Ae)throw _r.create("registration-api-key");if(!qe)throw _r.create("registration-app-id");const ze=new Kd(qe,U.name,x=x||"firebase"),Vt=new Cm(ze),nn=new de.Yd(ha);nn.logLevel=de.in.ERROR;const sr=new Dr(ne,ce.SDK_VERSION,x,fe,Ae,qe),di=new Gd(sr,ze),ur=new Ur(di,ze,Vt,nn),Na=new Wd(U,ur,Vt,ze,nn);return function(D){const I=(0,ue.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ha,"0.3.3"),(0,ce.registerVersion)(ha,"0.3.3","esm2017");const Ju="/firebase-messaging-sw.js",Qd="/firebase-cloud-messaging-push-scope",sc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ii="google.c.a.c_id",Us="google.c.a.c_l",yr="google.c.a.ts",oc="google.c.a.e";var ga=(()=>{return(D=ga||(ga={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ga;var D})();function Ai(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xd(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),ne=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)ne[fe]=U.charCodeAt(fe);return ne}const ma="fcm_token_details_db",ac="fcm_token_object_Store";function qi(D){return ru.apply(this,arguments)}function ru(){return(ru=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(ma))return null;let I=null;return(yield(0,Q.openDb)(ma,5,function(){var U=(0,O.Z)(function*(ne){var fe;if(ne.oldVersion<2||!ne.objectStoreNames.contains(ac))return;const Ae=ne.transaction.objectStore(ac),qe=yield Ae.index("fcmSenderId").get(D);if(yield Ae.clear(),qe)if(2===ne.oldVersion){const ze=qe;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(fe=ze.createTime)&&void 0!==fe?fe:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ai(ze.vapidKey)}}}else if(3===ne.oldVersion){const ze=qe;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}else if(4===ne.oldVersion){const ze=qe;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}});return function(ne){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(ma),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Xu(I)?I:null})).apply(this,arguments)}function Xu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const vo="firebase-messaging-store";let _a=null;function Rn(){return _a||(_a=(0,Q.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(vo)}})),_a}function iu(D){return Er.apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(D){const I=ya(D),U=yield(yield Rn()).transaction(vo).objectStore(vo).get(I);if(U)return U;{const ne=yield qi(D.appConfig.senderId);if(ne)return yield bo(D,ne),ne}})).apply(this,arguments)}function bo(D,I){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(D,I){const x=ya(D),ne=(yield Rn()).transaction(vo,"readwrite");return yield ne.objectStore(vo).put(I,x),yield ne.complete,I})).apply(this,arguments)}function lp(D){return uc.apply(this,arguments)}function uc(){return(uc=(0,O.Z)(function*(D){const I=ya(D),U=(yield Rn()).transaction(vo,"readwrite");yield U.objectStore(vo).delete(I),yield U.complete})).apply(this,arguments)}function ya({appConfig:D}){return D.appId}const Mn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lc(D,I){return $i.apply(this,arguments)}function $i(){return($i=(0,O.Z)(function*(D,I){const x=yield tl(D),U=lt(I),ne={method:"POST",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(ps(D.appConfig),ne)).json()}catch(Ae){throw Mn.create("token-subscribe-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function ui(D,I){return el.apply(this,arguments)}function el(){return(el=(0,O.Z)(function*(D,I){const x=yield tl(D),U=lt(I.subscriptionOptions),ne={method:"PATCH",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(`${ps(D.appConfig)}/${I.token}`,ne)).json()}catch(Ae){throw Mn.create("token-update-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-update-no-token");return fe.token})).apply(this,arguments)}function su(D,I){return vr.apply(this,arguments)}function vr(){return(vr=(0,O.Z)(function*(D,I){const U={method:"DELETE",headers:yield tl(D)};try{const fe=yield(yield fetch(`${ps(D.appConfig)}/${I}`,U)).json();if(fe.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(ne){throw Mn.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function ps({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function tl(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*({appConfig:D,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function lt({p256dh:D,auth:I,endpoint:x,vapidKey:U}){const ne={web:{endpoint:x,auth:I,p256dh:D}};return U!==sc&&(ne.web.applicationPubKey=U),ne}const th=6048e5;function nh(D){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(D){const I=yield au(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Ai(I.getKey("auth")),p256dh:Ai(I.getKey("p256dh"))},U=yield iu(D.firebaseDependencies);if(U){if(uu(U.subscriptionOptions,x))return Date.now()>=U.createTime+th?dc(D,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield su(D.firebaseDependencies,U.token)}catch(ne){console.warn(ne)}return Ee(D.firebaseDependencies,x)}return Ee(D.firebaseDependencies,x)})).apply(this,arguments)}function nl(D){return ou.apply(this,arguments)}function ou(){return(ou=(0,O.Z)(function*(D){const I=yield iu(D.firebaseDependencies);I&&(yield su(D.firebaseDependencies,I.token),yield lp(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function dc(D,I){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(D,I){try{const x=yield ui(D.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield bo(D.firebaseDependencies,U),x}catch(x){throw yield nl(D),x}})).apply(this,arguments)}function Ee(D,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(D,I){const U={token:yield lc(D,I),createTime:Date.now(),subscriptionOptions:I};return yield bo(D,U),U.token})).apply(this,arguments)}function au(D,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xd(I)})})).apply(this,arguments)}function uu(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Gi(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,I){if(!I.notification)return;D.notification={};const x=I.notification.title;x&&(D.notification.title=x);const U=I.notification.body;U&&(D.notification.body=U);const ne=I.notification.image;ne&&(D.notification.image=ne)}(I,D),function(D,I){!I.data||(D.data=I.data)}(I,D),function(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const x=I.fcmOptions.link;x&&(D.fcmOptions.link=x);const U=I.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(I,D),I}function cp(D){return"object"==typeof D&&!!D&&Ii in D}function rl(D,I){const x=[];for(let U=0;U<D.length;U++)x.push(D.charAt(U)),U<I.length&&x.push(I.charAt(U));return x.join("")}function wo(D){return Mn.create("missing-app-config-values",{valueName:D})}rl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ar{constructor(I,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function(D){if(!D||!D.options)throw wo("App Configuration Object");if(!D.name)throw wo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const U of I)if(!x[U])throw wo(U);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ne,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Yr(D){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ju,{scope:Qd}),D.swRegistration.update().catch(()=>{})}catch(I){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ms(D,I){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Yr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Tm(D,I){return wa.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=sc)})).apply(this,arguments)}function cu(){return(cu=(0,O.Z)(function*(D,I){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield Tm(D,null==I?void 0:I.vapidKey),yield ms(D,null==I?void 0:I.serviceWorkerRegistration),nh(D)})).apply(this,arguments)}function fc(D,I,x){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(D,I,x){const U=pc(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Ii],message_name:x[Us],message_time:x[yr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pc(D){switch(D){case ga.NOTIFICATION_CLICKED:return"notification_open";case ga.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sl(){return(sl=(0,O.Z)(function*(D,I){const x=I.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===ga.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Gi(x)):D.onMessageHandler.next(Gi(x)));const U=x.data;cp(U)&&"1"===U[oc]&&(yield fc(D,x.messageType,U))})).apply(this,arguments)}const du="@firebase/messaging";function al(){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ue.hl)()&&(yield(0,ue.eu)())&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("messaging",D=>{const I=new ar(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(D,I){return sl.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("messaging-internal",D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,I){return cu.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,ce.registerVersion)(du,"0.9.4"),(0,ce.registerVersion)(du,"0.9.4","esm2017");const ul="analytics",mc="firebase_id",Ta="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$o="https://www.googletagmanager.com/gtag/js",rr=new de.Yd("@firebase/analytics");function yc(D){return Promise.all(D.map(I=>I.catch(x=>x)))}function ih(D,I){const x=document.createElement("script");x.src=`${$o}?l=${D}&id=${I}`,x.async=!0,document.head.appendChild(x)}function ll(D,I,x,U,ne,fe){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(D,I,x,U,ne,fe){const Ae=U[ne];try{if(Ae)yield I[Ae];else{const ze=(yield yc(x)).find(Vt=>Vt.measurementId===ne);ze&&(yield I[ze.appId])}}catch(qe){rr.error(qe)}D("config",ne,fe)})).apply(this,arguments)}function sh(D,I,x,U,ne){return zo.apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(D,I,x,U,ne){try{let fe=[];if(ne&&ne.send_to){let Ae=ne.send_to;Array.isArray(Ae)||(Ae=[Ae]);const qe=yield yc(x);for(const ze of Ae){const Vt=qe.find(sr=>sr.measurementId===ze),nn=Vt&&I[Vt.appId];if(!nn){fe=[];break}fe.push(nn)}}0===fe.length&&(fe=Object.values(I)),yield Promise.all(fe),D("event",U,ne||{})}catch(fe){rr.error(fe)}})).apply(this,arguments)}function Dm(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes($o))return I;return null}const ys=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function gp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function bc(D){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(D){var I;const{appId:x,apiKey:U}=D,ne={method:"GET",headers:gp(U)},fe=Ta.replace("{app-id}",x),Ae=yield fetch(fe,ne);if(200!==Ae.status&&304!==Ae.status){let qe="";try{const ze=yield Ae.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(qe=ze.error.message)}catch(ze){}throw ys.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:qe})}return Ae.json()})).apply(this,arguments)}function Da(D){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(D,I=cl,x){const{appId:U,apiKey:ne,measurementId:fe}=D.options;if(!U)throw ys.create("no-app-id");if(!ne){if(fe)return{measurementId:fe,appId:U};throw ys.create("no-api-key")}const Ae=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Cc;return setTimeout((0,O.Z)(function*(){qe.abort()}),void 0!==x?x:6e4),wc({appId:U,apiKey:ne,measurementId:fe},Ae,qe,I)})).apply(this,arguments)}function wc(D,I,x){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:x},U,ne=cl){const{appId:fe,measurementId:Ae}=D;try{yield y0(U,I)}catch(qe){if(Ae)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:fe,measurementId:Ae};throw qe}try{const qe=yield bc(D);return ne.deleteThrottleMetadata(fe),qe}catch(qe){if(!ah(qe)){if(ne.deleteThrottleMetadata(fe),Ae)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:fe,measurementId:Ae};throw qe}const ze=503===Number(qe.customData.httpStatus)?(0,ue.$s)(x,ne.intervalMillis,30):(0,ue.$s)(x,ne.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+ze,backoffCount:x+1};return ne.setThrottleMetadata(fe,Vt),rr.debug(`Calling attemptFetch again in ${ze} millis`),wc(D,Vt,U,ne)}})).apply(this,arguments)}function y0(D,I){return new Promise((x,U)=>{const ne=Math.max(I-Date.now(),0),fe=setTimeout(x,ne);D.addEventListener(()=>{clearTimeout(fe),U(ys.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ah(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Cc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function uh(){return lh.apply(this,arguments)}function lh(){return(lh=(0,O.Z)(function*(){if(!(0,ue.hl)())return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(D){return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(D,I,x,U,ne,fe,Ae){var qe;const ze=Da(D);ze.then(ur=>{x[ur.measurementId]=ur.appId,D.options.measurementId&&ur.measurementId!==D.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>rr.error(ur)),I.push(ze);const Vt=uh().then(ur=>{if(ur)return U.getId()}),[nn,sr]=yield Promise.all([ze,Vt]);Dm()||ih(fe,nn.measurementId),ne("js",new Date);const di=null!==(qe=null==Ae?void 0:Ae.config)&&void 0!==qe?qe:{};return di.origin="firebase",di.update=!0,null!=sr&&(di[mc]=sr),ne("config",nn.measurementId,di),nn.measurementId})).apply(this,arguments)}class gn{constructor(I){this.app=I}_delete(){return delete Ge[this.app.options.appId],Promise.resolve()}}let Ge={},un=[];const ch={};let vs,Kn,xn="dataLayer",_u=!1;function kt(D,I,x){!function(){const D=[];if((0,ue.ru)()&&D.push("This is a browser extension environment."),(0,ue.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((U,ne)=>`(${ne+1}) ${U}`).join(" "),x=ys.create("invalid-analytics-context",{errorInfo:I});rr.warn(x.message)}}();const U=D.options.appId;if(!U)throw ys.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ys.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ge[U])throw ys.create("already-exists",{id:U});if(!_u){!function(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(xn);const{wrappedGtag:fe,gtagCore:Ae}=function(D,I,x,U,ne){let fe=function(...Ae){window[U].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(fe=window[ne]),window[ne]=function(D,I,x,U){function fe(){return(fe=(0,O.Z)(function*(Ae,qe,ze){try{"event"===Ae?yield sh(D,I,x,qe,ze):"config"===Ae?yield ll(D,I,x,U,qe,ze):D("set",qe)}catch(Vt){rr.error(Vt)}})).apply(this,arguments)}return function(Ae,qe,ze){return fe.apply(this,arguments)}}(fe,D,I,x),{gtagCore:fe,wrappedGtag:window[ne]}}(Ge,un,ch,xn,"gtag");Kn=fe,vs=Ae,_u=!0}return Ge[U]=function(D,I,x,U,ne,fe,Ae){return gu.apply(this,arguments)}(D,un,ch,I,vs,xn,x),new gn(D)}function Do(){return(Do=(0,O.Z)(function*(D,I,x,U,ne){if(ne&&ne.global)D("event",x,U);else{const fe=yield I;D("event",x,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function Eo(){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}const mp="@firebase/analytics";(0,ce._registerComponent)(new ee.wA(ul,(I,{options:x})=>kt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ee.wA("analytics-internal",function(I){try{const x=I.getProvider(ul).getImmediate();return{logEvent:(U,ne,fe)=>function(D,I,x,U){D=(0,ue.m9)(D),function(D,I,x,U,ne){return Do.apply(this,arguments)}(Kn,Ge[D.app.options.appId],I,x,U).catch(ne=>rr.error(ne))}(x,U,ne,fe)}}catch(x){throw ys.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(mp,"0.7.4"),(0,ce.registerVersion)(mp,"0.7.4","esm2017");var _p=F(7771),Im=F(3637),Ia=F(8307),vu=F(9746),fh=F(2639);const Am=new i.GfV("7.2.0"),Ic="__angularfire_symbol__analyticsIsSupported",Io="__angularfire_symbol__remoteConfigIsSupported",Sa="__angularfire_symbol__messagingIsSupported";function bs(D,I,x){if(I){if(1===I.length)return I[0];const fe=I.filter(Ae=>Ae.app===x);if(1===fe.length)return fe[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ic]||(globalThis[Ic]=Eo().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Sa]||(globalThis[Sa]=al().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Io]||(globalThis[Io]=ap().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const bu=(D,I)=>{const x=I?[I]:(0,B.C6)(),U=[];return x.forEach(ne=>{ne.container.getProvider(D).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function xi(){}class qs{constructor(I,x=_p.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,U){const ne=this.zone;return this.delegate.schedule(function(Ae){ne.runGuarded(()=>{I.apply(this,[Ae])})},x,U)}}class Sc{constructor(I){this.zone=I,this.task=null}call(I,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)),x.pipe((0,Ia.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ph=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new qs(Zone.current)),this.insideAngular=x.run(()=>new qs(Zone.current,Im.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(i.LFG(i.R0b))},D.\u0275prov=i.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Wo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function gh(D){return D.pipe((0,vu.QV)(Wo().outsideAngular))}function Qn(D){return Wo(),function(D){return function(x){return(x=x.lift(new Sc(D.ngZone))).pipe((0,fh.R)(D.outsideAngular),(0,vu.QV)(D.insideAngular))}}(Wo())(D)}},2476:(We,be,F)=>{"use strict";F.d(be,{$:()=>Tm,A:()=>fo,E:()=>Vr,G:()=>Dr,I:()=>Zs,K:()=>Ps,L:()=>iu,M:()=>lp,N:()=>uc,P:()=>ne,Q:()=>ya,R:()=>Wo,T:()=>an,U:()=>$i,V:()=>ui,W:()=>tl,X:()=>Gi,Y:()=>lu,Z:()=>cp,_:()=>ar,a:()=>vs,a0:()=>hc,a1:()=>fc,a2:()=>pc,a3:()=>sl,a4:()=>hu,a5:()=>dp,a6:()=>rh,a7:()=>qo,a8:()=>hp,a9:()=>Yn,aA:()=>Ko,aB:()=>zs,aC:()=>Lr,aG:()=>dl,aJ:()=>Mn,aa:()=>_0,ab:()=>ul,ae:()=>Ta,af:()=>rr,ag:()=>yc,aj:()=>cc,ak:()=>Em,am:()=>wc,an:()=>lh,ao:()=>sp,ap:()=>$n,aq:()=>nu,ar:()=>Fs,as:()=>Xt,at:()=>Dh,au:()=>bh,av:()=>Qt,aw:()=>Re,ax:()=>Be,ay:()=>ht,az:()=>ml,b:()=>xn,c:()=>ur,d:()=>Gs,e:()=>wu,f:()=>Tu,g:()=>yh,h:()=>Zr,i:()=>_p,j:()=>xm,k:()=>Oc,l:()=>Qn,m:()=>Eh,n:()=>Np,o:()=>cs,r:()=>yp,s:()=>gh,u:()=>x,z:()=>ds});var i=F(8239),B=F(3854),O=F(8026);function de(v,p){var _={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(_[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(_[C[S]]=v[C[S]])}return _}var Qe=F(5422),Ut=F(3910);const cs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ds=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ci=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ks=new Qe.Yd("@firebase/auth");function _n(v,...p){ks.logLevel<=Qe.in.ERROR&&ks.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Xt(v,...p){throw Hi(v,...p)}function Qt(v,...p){return Hi(v,...p)}function Rs(v,p,_){const C=Object.assign(Object.assign({},xs()),{[p]:_});return new B.LL("auth","Firebase",C).create(p,{appName:v.name})}function Ti(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Xt(v,"argument-error"),Rs(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(v,...p){if("string"!=typeof v){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ci.create(v,...p)}function Re(v,p,..._){if(!v)throw Hi(p,..._)}function wn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw _n(p),new Error(p)}function $n(v,p){v||wn(p)}const Di=new Map;function Be(v){$n(v instanceof Function,"Expected a class definition");let p=Di.get(v);return p?($n(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Di.set(v,p),p)}function Gn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function it(){return"http:"===et()||"https:"===et()}function et(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class zn{constructor(p,_){this.shortDelay=p,this.longDelay=_,$n(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){$n(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},da=new zn(3e4,6e4);function dn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,_,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,i.Z)(function*(v,p,_,C,S={}){return hn(v,S,()=>{let k={},X={};C&&("GET"===p?X=C:k={body:JSON.stringify(C)});const _e=(0,B.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),je=new(Pe.headers());return je.set("Content-Type","application/json"),je.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&je.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(W(v,v.config.apiHost,_,_e),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function hn(v,p,_){return po.apply(this,arguments)}function po(){return(po=(0,i.Z)(function*(v,p,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Xe),p);try{const S=new ve(v),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const X=yield k.json();if("needConfirmation"in X)throw le(v,"account-exists-with-different-credential",X);if(k.ok&&!("errorMessage"in X))return X;{const _e=k.ok?X.errorMessage:X.error.message,[je,Fe]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw le(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===je)throw le(v,"email-already-in-use",X);const st=C[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Rs(v,st,Fe);Xt(v,st)}}catch(S){if(S instanceof B.ZR)throw S;Xt(v,"network-request-failed")}})).apply(this,arguments)}function G(v,p,_,C){return $.apply(this,arguments)}function $(){return($=(0,i.Z)(function*(v,p,_,C,S={}){const k=yield tn(v,p,_,C,S);return"mfaPendingCredential"in k&&Xt(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(v,p,_,C){const S=`${p}${_}?${C}`;return v.config.emulator?en(v.config,S):`${v.config.apiScheme}://${S}`}class ve{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Qt(this.auth,"timeout")),da.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function le(v,p,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Qt(v,p,C);return S.customData._tokenResponse=_,S}function ut(){return(ut=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qt(v,p){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function oe(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,i.Z)(function*(v,p=!1){const _=(0,B.m9)(v),C=yield _.getIdToken(p),S=ct(C);Re(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,X=null==k?void 0:k.sign_in_provider;return{claims:S,token:C,authTime:oe(Ve(S.auth_time)),issuedAtTime:oe(Ve(S.iat)),expirationTime:oe(Ve(S.exp)),signInProvider:X||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ve(v){return 1e3*Number(v)}function ct(v){const[p,_,C]=v.split(".");if(void 0===p||void 0===_||void 0===C)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(_);return S?JSON.parse(S):(_n("Failed to decode base64 JWT payload"),null)}catch(S){return _n("Caught error parsing JWT payload as JSON",S),null}}function It(v,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,i.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof B.ZR&&fn(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function fn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Sn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,i.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class bt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=oe(this.lastLoginAt),this.creationTime=oe(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(v){return go.apply(this,arguments)}function go(){return(go=(0,i.Z)(function*(v){var p;const _=v.auth,C=yield v.getIdToken(),S=yield It(v,Wn(_,{idToken:C}));Re(null==S?void 0:S.users.length,_,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const X=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?pn(k.providerUserInfo):[],_e=Pt(v.providerData,X),st=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==_e?void 0:_e.length)),$t={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:_e,metadata:new bt(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(v,$t)})).apply(this,arguments)}function Ue(){return(Ue=(0,i.Z)(function*(v){const p=(0,B.m9)(v);yield Nn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Pt(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function pn(v){return v.map(p=>{var{providerId:_}=p,C=de(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Os(){return(Os=(0,i.Z)(function*(v,p){const _=yield hn(v,{},()=>{const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,X=W(v,S,"/v1/token",`key=${k}`);return Pe.fetch()(X,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Re(p.idToken,"internal-error"),Re(void 0!==p.idToken,"internal-error"),Re(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=ct(v);return Re(p,"internal-error"),Re(void 0!==p.exp,"internal-error"),Re(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,i.Z)(function*(){return Re(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,i.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:X}=yield function(v,p){return Os.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(S,k,Number(X))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:S,expirationTime:k}=_,X=new Vn;return C&&(Re("string"==typeof C,"internal-error",{appName:p}),X.refreshToken=C),S&&(Re("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),k&&(Re("number"==typeof k,"internal-error",{appName:p}),X.expirationTime=k),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return wn("not implemented")}}function Tr(v,p){Re("string"==typeof v||void 0===v,"internal-error",{appName:p})}class yn{constructor(p){var{uid:_,auth:C,stsTokenManager:S}=p,k=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new bt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,i.Z)(function*(){const C=yield It(_,_.stsTokenManager.getToken(_.auth,p));return Re(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(Re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new yn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,i.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield Nn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,i.Z)(function*(){const _=yield p.getIdToken();return yield It(p,function(v,p){return ut.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,S,k,X,_e,je,Fe,st;const $t=null!==(C=_.displayName)&&void 0!==C?C:void 0,vn=null!==(S=_.email)&&void 0!==S?S:void 0,Br=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,bn=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Pc=null!==(_e=_.tenantId)&&void 0!==_e?_e:void 0,Ih=null!==(je=_._redirectEventId)&&void 0!==je?je:void 0,Ah=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Mp=null!==(st=_.lastLoginAt)&&void 0!==st?st:void 0,{uid:Sh,emailVerified:Pm,isAnonymous:Nh,providerData:So,stsTokenManager:Fm}=_;Re(Sh&&Fm,p,"internal-error");const Dl=Vn.fromJSON(this.name,Fm);Re("string"==typeof Sh,p,"internal-error"),Tr($t,p.name),Tr(vn,p.name),Re("boolean"==typeof Pm,p,"internal-error"),Re("boolean"==typeof Nh,p,"internal-error"),Tr(Br,p.name),Tr(bn,p.name),Tr(Pc,p.name),Tr(Ih,p.name),Tr(Ah,p.name),Tr(Mp,p.name);const Lm=new yn({uid:Sh,auth:p,email:vn,emailVerified:Pm,displayName:$t,isAnonymous:Nh,photoURL:bn,phoneNumber:Br,tenantId:Pc,stsTokenManager:Dl,createdAt:Ah,lastLoginAt:Mp});return So&&Array.isArray(So)&&(Lm.providerData=So.map(Fc=>Object.assign({},Fc))),Ih&&(Lm._redirectEventId=Ih),Lm}static _fromIdTokenResponse(p,_,C=!1){return(0,i.Z)(function*(){const S=new Vn;S.updateFromServerResponse(_);const k=new yn({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Nn(k),k})()}}const Ps=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,i.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,i.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,i.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function ht(v,p,_){return`firebase:${v}:${p}:${_}`}class ai{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:S,name:k}=this.auth;this.fullUserKey=ht(this.userKey,S.apiKey,k),this.fullPersistenceKey=ht("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?yn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,i.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,i.Z)(function*(){if(!_.length)return new ai(Be(Ps),p,C);const S=(yield Promise.all(_.map(function(){var Fe=(0,i.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let k=S[0]||Be(Ps);const X=ht(C,p.config.apiKey,p.name);let _e=null;for(const Fe of _)try{const st=yield Fe._get(X);if(st){const $t=yn._fromJSON(p,st);Fe!==k&&(_e=$t),k=Fe;break}}catch(st){}const je=S.filter(Fe=>Fe._shouldAllowMigration);return k._shouldAllowMigration&&je.length?(k=je[0],_e&&(yield k._set(X,_e.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,i.Z)(function*(st){if(st!==k)try{yield st._remove(X)}catch($t){}});return function(st){return Fe.apply(this,arguments)}}())),new ai(k,p,C)):new ai(k,p,C)})()}}function mo(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(fa(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(_r(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ei(p))return"Blackberry";if(_t(p))return"Webos";if(Uo(p))return"Safari";if((p.includes("chrome/")||Pr(p))&&!p.includes("edge/"))return"Chrome";if(Fs(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function _r(v=(0,B.z$)()){return/firefox\//i.test(v)}function Uo(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Pr(v=(0,B.z$)()){return/crios\//i.test(v)}function fa(v=(0,B.z$)()){return/iemobile/i.test(v)}function Fs(v=(0,B.z$)()){return/android/i.test(v)}function Ei(v=(0,B.z$)()){return/blackberry/i.test(v)}function _t(v=(0,B.z$)()){return/webos/i.test(v)}function nu(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function sp(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Zo(v=(0,B.z$)()){return nu(v)||Fs(v)||_t(v)||Ei(v)||/windows phone/i.test(v)||fa(v)}function Ls(v,p=[]){let _;switch(v){case"Browser":_=mo((0,B.z$)());break;case"Worker":_=`${mo((0,B.z$)())}-${v}`;break;default:_=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class Fr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vs(this),this.idTokenSubscription=new Vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=Be(_)),this._initializationPromise=this.queue((0,i.Z)(function*(){var S,k;C._deleted||(C.persistenceManager=yield ai.create(C,p),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,i.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const k=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==S?void 0:S._redirectEventId,_e=yield _.tryRedirectSignIn(p);(!k||k===X)&&(null==_e?void 0:_e.user)&&(S=_e.user)}return S?S._redirectEventId?(Re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,i.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,i.Z)(function*(){try{yield Nn(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,i.Z)(function*(){const C=p?(0,B.m9)(p):null;return C&&Re(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,i.Z)(function*(){if(!_._deleted)return p&&Re(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,i.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,i.Z)(function*(){yield _.assertedPersistence.setPersistence(Be(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,i.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,i.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&Be(p)||_._popupRedirectResolver;Re(C,_,"argument-error"),_.redirectPersistenceManager=yield ai.create(_,[Be(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,i.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,i.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,i.Z)(function*(){if(p===_.currentUser)return _.queue((0,i.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(X,this,"internal-error"),X.then(()=>k(this.currentUser)),"function"==typeof _?p.addObserver(_,C,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,i.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ls(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Lr(v){return(0,B.m9)(v)}class Vs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vr(v,p,_){const C=Lr(v);Re(C._canInitEmulator,C,"emulator-config-failed"),Re(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),k=tc(p),{host:X,port:_e}=function(v){const p=tc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const k=S[1];return{host:k,port:Ur(C.substr(k.length+1))}}{const[k,X]=C.split(":");return{host:k,port:Ur(X)}}}(p);C.config.emulator={url:`${k}//${X}${null===_e?"":`:${_e}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:_e,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function tc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ur(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Dr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return wn("not implemented")}_getIdTokenResponse(p){return wn("not implemented")}_linkToIdToken(p,_){return wn("not implemented")}_getReauthenticationResolver(p){return wn("not implemented")}}function op(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",dn(v,p))})).apply(this,arguments)}function Gd(v,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bm(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",dn(v,p))})).apply(this,arguments)}function yo(){return(yo=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPassword",dn(v,p))})).apply(this,arguments)}function ic(v,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",dn(v,p))})).apply(this,arguments)}function wm(v,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,i.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function Cm(v,p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,i.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function m0(v,p){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,i.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function ap(v,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,i.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function Qd(){return(Qd=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithEmailLink",dn(v,p))})).apply(this,arguments)}function Qu(){return(Qu=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithEmailLink",dn(v,p))})).apply(this,arguments)}class Ii extends Dr{constructor(p,_,C,S=null){super("password",C),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ii(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new Ii(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,i.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return yo.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return Qd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Xt(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,i.Z)(function*(){switch(C.signInMethod){case"password":return Gd(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Qu.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Xt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Us(v,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithIdp",dn(v,p))})).apply(this,arguments)}class Zs extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Zs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=_,k=de(_,["providerId","signInMethod"]);if(!C||!S)return null;const X=new Zs(C,S);return X.idToken=k.idToken||void 0,X.accessToken=k.accessToken||void 0,X.secret=k.secret,X.nonce=k.nonce,X.pendingToken=k.pendingToken||null,X}_getIdTokenResponse(p){return Us(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Us(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Us(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,B.xO)(_)}return p}}function ga(v,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",dn(v,p))})).apply(this,arguments)}function ma(){return(ma=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,p))})).apply(this,arguments)}function ac(){return(ac=(0,i.Z)(function*(v,p){const _=yield G(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,p));if(_.temporaryProof)throw le(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const qi={USER_NOT_FOUND:"user-not-found"};function Xu(){return(Xu=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPhoneNumber",dn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),qi)})).apply(this,arguments)}class fs extends Dr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new fs({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new fs({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ma.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return ac.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Xu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}=p;return C||_||S||k?new fs({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}):null}}class _a{constructor(p){var _,C,S,k,X,_e;const je=(0,B.zd)((0,B.pd)(p)),Fe=null!==(_=je.apiKey)&&void 0!==_?_:null,st=null!==(C=je.oobCode)&&void 0!==C?C:null,$t=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=je.mode)&&void 0!==S?S:null);Re(Fe&&st&&$t,"argument-error"),this.apiKey=Fe,this.operation=$t,this.code=st,this.continueUrl=null!==(k=je.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(X=je.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(_e=je.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const _=function(v){const p=(0,B.zd)((0,B.pd)(v)).link,_=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||p||v}(p);try{return new _a(_)}catch(C){return null}}}let iu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Ii._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=_a.parseLink(C);return Re(S,"argument-error"),Ii._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Er{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class bo extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class an extends bo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return Re("providerId"in _&&"signInMethod"in _,"argument-error"),Zs._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Re(p.idToken||p.accessToken,"argument-error"),Zs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return an.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return an.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:k,nonce:X,providerId:_e}=p;if(!C&&!S&&!_&&!k||!_e)return null;try{return new an(_e)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:k})}catch(je){return null}}}let lp=(()=>{class v extends bo{constructor(){super("facebook.com")}static credential(_){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return v.credential(C,S)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ya=(()=>{class v extends bo{constructor(){super("github.com")}static credential(_){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Mn extends Dr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Us(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Us(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Us(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:k}=_;return C&&S&&k&&C===S?new Mn(C,k):null}static _create(p,_){return new Mn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Er{constructor(p){Re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return $i.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return $i.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Mn.fromJSON(p);return Re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Mn._create(C,_)}catch(S){return null}}}let ui=(()=>{class v extends bo{constructor(){super("twitter.com")}static credential(_,C){return Zs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return v.credential(C,S)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function el(v,p){return su.apply(this,arguments)}function su(){return(su=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signUp",dn(v,p))})).apply(this,arguments)}class vr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,S=!1){return(0,i.Z)(function*(){const k=yield yn._fromIdTokenResponse(p,C,S),X=ps(C);return new vr({user:k,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=ps(C);return new vr({user:p,providerId:S,_tokenResponse:C,operationType:_})})()}}function ps(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function tl(v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,i.Z)(function*(v){var p;const _=Lr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new vr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield el(_,{returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class lt extends B.ZR{constructor(p,_,C,S){var k;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,lt.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,S){return new lt(p,_,C,S)}}function th(v,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?lt._fromErrorAndOperation(v,k,p,C):k})}function nh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function cc(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,i.Z)(function*(v,p){const _=(0,B.m9)(v);yield gs(!0,_,p);const{providerUserInfo:C}=yield qt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=nh(C||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ou(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,i.Z)(function*(v,p,_=!1){const C=yield It(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return vr._forOperation(v,"link",C)})).apply(this,arguments)}function gs(v,p,_){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,i.Z)(function*(v,p,_){yield Nn(p);const S=!1===v?"provider-already-linked":"no-such-provider";Re(nh(p.providerData).has(_)===v,p.auth,S)})).apply(this,arguments)}function xt(v,p){return au.apply(this,arguments)}function au(){return(au=(0,i.Z)(function*(v,p,_=!1){const{auth:C}=v,S="reauthenticate";try{const k=yield It(v,th(C,S,p,v),_);Re(k.idToken,C,"internal-error");const X=ct(k.idToken);Re(X,C,"internal-error");const{sub:_e}=X;return Re(v.uid===_e,C,"user-mismatch"),vr._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Xt(C,"user-mismatch"),k}})).apply(this,arguments)}function Cn(v,p){return uu.apply(this,arguments)}function uu(){return(uu=(0,i.Z)(function*(v,p,_=!1){const C="signIn",S=yield th(v,C,p),k=yield vr._fromIdTokenResponse(v,C,S);return _||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Gi(v,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,i.Z)(function*(v,p){return Cn(Lr(v),p)})).apply(this,arguments)}function lu(v,p){return va.apply(this,arguments)}function va(){return(va=(0,i.Z)(function*(v,p){const _=(0,B.m9)(v);return yield gs(!1,_,p.providerId),ou(_,p)})).apply(this,arguments)}function cp(v,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,i.Z)(function*(v,p){return xt((0,B.m9)(v),p)})).apply(this,arguments)}function il(v,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,i.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithCustomToken",dn(v,p))})).apply(this,arguments)}function ar(v,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,i.Z)(function*(v,p){const _=Lr(v),C=yield il(_,{token:p,returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class ba{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ms._fromServerResponse(p,_):Xt(p,"internal-error")}}class ms extends ba{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ms(_)}}function Ir(v,p,_){var C;Re((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Re(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(Re(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Tm(v,p,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:p};_&&Ir(C,S,_),yield Cm(C,S)})).apply(this,arguments)}function hc(v,p,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,i.Z)(function*(v,p,_){yield op((0,B.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function fc(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,i.Z)(function*(v,p){yield bm((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function pc(v,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,i.Z)(function*(v,p){const _=(0,B.m9)(v),C=yield op(_,{oobCode:p}),S=C.requestType;switch(Re(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(C.mfaInfo,_,"internal-error");default:Re(C.email,_,"internal-error")}let k=null;return C.mfaInfo&&(k=ba._fromServerResponse(Lr(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function sl(v,p){return du.apply(this,arguments)}function du(){return(du=(0,i.Z)(function*(v,p){const{data:_}=yield pc((0,B.m9)(v),p);return _.email})).apply(this,arguments)}function hu(v,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,i.Z)(function*(v,p,_){const C=Lr(v),S=yield el(C,{returnSecureToken:!0,email:p,password:_}),k=yield vr._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function dp(v,p,_){return Gi((0,B.m9)(v),iu.credential(p,_))}function rh(v,p,_){return al.apply(this,arguments)}function al(){return(al=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Re(_.handleCodeInApp,C,"argument-error"),_&&Ir(C,S,_),yield m0(C,S)})).apply(this,arguments)}function qo(v,p){const _=_a.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function hp(v,p,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v),S=iu.credentialWithLink(p,_||Gn());return Re(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Gi(C,S)})).apply(this,arguments)}function Ar(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",dn(v,p))})).apply(this,arguments)}function Yn(v,p){return pu.apply(this,arguments)}function pu(){return(pu=(0,i.Z)(function*(v,p){const C={identifier:p,continueUri:it()?Gn():"http://localhost"},{signinMethods:S}=yield Ar((0,B.m9)(v),C);return S||[]})).apply(this,arguments)}function _0(v,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,i.Z)(function*(v,p){const _=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ir(_.auth,S,p);const{email:k}=yield wm(_.auth,S);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function ul(v,p,_){return mc.apply(this,arguments)}function mc(){return(mc=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Ir(C.auth,k,_);const{email:X}=yield ap(C.auth,k);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function _c(v,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,i.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ta(v,p){return $o.apply(this,arguments)}function $o(){return($o=(0,i.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,B.m9)(v),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield It(C,_c(C.auth,k));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const _e=C.providerData.find(({providerId:je})=>"password"===je);_e&&(_e.displayName=C.displayName,_e.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function rr(v,p){return ih((0,B.m9)(v),p,null)}function yc(v,p){return ih((0,B.m9)(v),null,p)}function ih(v,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,i.Z)(function*(v,p,_){const{auth:C}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),_&&(k.password=_);const X=yield It(v,Gd(C,k));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Go{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class sh extends Go{constructor(p,_,C,S){super(p,_,C),this.username=S}}class zo extends Go{constructor(p,_){super(p,"facebook.com",_)}}class vc extends sh{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class fp extends Go{constructor(p,_){super(p,"google.com",_)}}class Dm extends sh{constructor(p,_,C){super(p,"twitter.com",_,C)}}function Em(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(p=ct(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Go(k,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new zo(k,S);case"github.com":return new vc(k,S);case"google.com":return new fp(k,S);case"twitter.com":return new Dm(k,S,v.screenName||null);case"custom":case"anonymous":return new Go(k,null);default:return new Go(k,C,S)}}(_)}class Da{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Da("enroll",p)}static _fromMfaPendingCredential(p){return new Da("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Da._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Da._fromIdtoken(p.multiFactorSession.idToken)}return null}}class js{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=Lr(p),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(_e=>ba._fromServerResponse(C,_e));Re(S.mfaPendingCredential,C,"internal-error");const X=Da._fromMfaPendingCredential(S.mfaPendingCredential);return new js(X,k,function(){var _e=(0,i.Z)(function*(je){const Fe=yield je._process(C,X);delete S.mfaInfo,delete S.mfaPendingCredential;const st=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const $t=yield vr._fromIdTokenResponse(C,_.operationType,st);return yield C._updateCurrentUser($t.user),$t;case"reauthenticate":return Re(_.user,C,"internal-error"),vr._forOperation(_.user,_.operationType,st);default:Xt(C,"internal-error")}});return function(je){return _e.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,i.Z)(function*(){return _.signInResolver(p)})()}}function wc(v,p){var _;const C=(0,B.m9)(v),S=p;return Re(p.customData.operationType,C,"argument-error"),Re(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),js._fromError(C,S)}function Ea(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",dn(v,p))}class Cc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>ba._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Cc(p)}getSession(){var p=this;return(0,i.Z)(function*(){return Da._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,i.Z)(function*(){const S=p,k=yield C.getSession(),X=yield It(C.user,S._process(C.user.auth,k,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(p){var _=this;return(0,i.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),k=yield It(_.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(v,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const uh=new WeakMap;function lh(v){const p=(0,B.m9)(v);return uh.has(p)||uh.set(p,Cc._fromUser(p)),uh.get(p)}const To="__sak";class gu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class v extends gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,B.z$)();return Uo(v)||nu(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Zo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),k=this.localCache[C];S!==k&&_(C,k,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((_e,je,Fe)=>{this.notifyListeners(_e,Fe)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(S);if(_.newValue!==_e)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const k=()=>{const _e=this.storage.getItem(S);!C&&this.localCache[S]===_e||this.notifyListeners(S,_e)},X=this.storage.getItem(S);(0,B.w1)()&&10===document.documentMode&&X!==_.newValue&&_.newValue!==_.oldValue?setTimeout(k,10):k()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,k=this;return(0,i.Z)(function*(){yield S().call(k,_,C),k.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,i.Z)(function*(){const k=yield C().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var C=()=>super._remove,S=this;return(0,i.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),vs=(()=>{class v extends gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let _u=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(k=>k.isListeningto(_));if(C)return C;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,i.Z)(function*(){const S=_,{eventId:k,eventType:X,data:_e}=S.data,je=C.handlersMap[X];if(!(null==je?void 0:je.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:X});const Fe=Array.from(je).map(function(){var $t=(0,i.Z)(function*(vn){return vn(S.origin,_e)});return function(vn){return $t.apply(this,arguments)}}()),st=yield function(v){return Promise.all(v.map(function(){var p=(0,i.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:k,eventType:X,response:st})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dl(v="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return v+_}class hl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var S=this;return(0,i.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let X,_e;return new Promise((je,Fe)=>{const st=dl("",20);k.port1.start();const $t=setTimeout(()=>{Fe(new Error("unsupported_event"))},C);_e={messageChannel:k,onMessage(vn){const Br=vn;if(Br.data.eventId===st)switch(Br.data.status){case"ack":clearTimeout($t),X=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),je(Br.data.response);break;default:clearTimeout($t),clearTimeout(X),Fe(new Error("invalid_response"))}}},S.handlers.add(_e),k.port1.addEventListener("message",_e.onMessage),S.target.postMessage({eventType:p,eventId:st,data:_},[k.port2])}).finally(()=>{_e&&S.removeMessageHandler(_e)})})()}}function kt(){return window}function Do(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Ni(){return(Ni=(0,i.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ec="firebaseLocalStorageDb",Mi="firebaseLocalStorage",Hs="fbase_key";class Yi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Kr(v,p){return v.transaction([Mi],p?"readwrite":"readonly").objectStore(Mi)}function fl(){const v=indexedDB.open(Ec,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Mi,{keyPath:Hs})}catch(S){_(S)}}),v.addEventListener("success",(0,i.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Mi)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(Ec);return new Yi(v).toPromise()}(),p(yield fl()))}))})}function at(v,p,_){return li.apply(this,arguments)}function li(){return(li=(0,i.Z)(function*(v,p,_){const C=Kr(v,!0).put({[Hs]:p,value:_});return new Yi(C).toPromise()})).apply(this,arguments)}function hh(){return(hh=(0,i.Z)(function*(v,p){const _=Kr(v,!1).get(p),C=yield new Yi(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function On(v,p){const _=Kr(v,!0).delete(p);return new Yi(_).toPromise()}const _p=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,i.Z)(function*(){return _.db||(_.db=yield fl()),_.db})()}_withRetries(_){var C=this;return(0,i.Z)(function*(){let S=0;for(;;)try{const k=yield C._openDb();return yield _(k)}catch(k){if(S++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,i.Z)(function*(){return Do()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,i.Z)(function*(){_.receiver=_u._getInstance(Do()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,i.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,i.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,i.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return Ni.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hl(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,i.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fl();return yield at(_,To,"1"),yield On(_,To),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,i.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,i.Z)(function*(){return S._withPendingWrite((0,i.Z)(function*(){return yield S._withRetries(k=>at(k,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,i.Z)(function*(){const S=yield C._withRetries(k=>function(v,p){return hh.apply(this,arguments)}(k,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,i.Z)(function*(){return C._withPendingWrite((0,i.Z)(function*(){return yield C._withRetries(S=>On(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,i.Z)(function*(){const C=yield _._withRetries(X=>{const _e=Kr(X,!1).getAll();return new Yi(_e).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:X,value:_e}of C)k.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(_e)&&(_.notifyListeners(X,_e),S.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!k.has(X)&&(_.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Im(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",dn(v,p))}function fh(){return(fh=(0,i.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const k=Qt("internal-error");k.customData=S,_(k)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Ic(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class Sa{constructor(p){this.auth=p,this.counter=Fn,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new Zn(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||Fn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,i.Z)(function*(){var C;return null===(C=_._widgets.get(p||Fn))||void 0===C||C.execute(),""})()}}class Zn{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Re(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=Ic("rcb"),Ki=new zn(3e4,6e4);class bu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,_=""){return Re((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(kt().grecaptcha):new Promise((C,S)=>{const k=kt().setTimeout(()=>{S(Qt(p,"network-request-failed"))},Ki.get());kt()[gl]=()=>{kt().clearTimeout(k),delete kt()[gl];const _e=kt().grecaptcha;if(!_e)return void S(Qt(p,"internal-error"));const je=_e.render;_e.render=(Fe,st)=>{const $t=je(Fe,st);return this.counter++,$t},this.hostLanguage=_,C(_e)},Pn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:gl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qs{load(p){return(0,i.Z)(function*(){return new Sa(p)})()}clearedOneInstance(){}}const Sc="recaptcha",ph={theme:"light",type:"image"};class Wo{constructor(p,_=Object.assign({},ph),C){this.parameters=_,this.type=Sc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lr(C),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qs:new bu,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(k=>{const X=_e=>{!_e||(p.tokenChangeListeners.delete(X),k(_e))};p.tokenChangeListeners.add(X),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=kt()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){Re(it()&&!Do(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return fh.apply(this,arguments)}(p.auth);Re(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $s{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=fs._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function gh(v,p,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,i.Z)(function*(v,p,_){const C=Lr(v),S=yield D(C,p,(0,B.m9)(_));return new $s(S,k=>Gi(C,k))})).apply(this,arguments)}function Qn(v,p,_){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v);yield gs(!1,C,"phone");const S=yield D(C.auth,p,(0,B.m9)(_));return new $s(S,k=>lu(C,k))})).apply(this,arguments)}function yp(v,p,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v),S=yield D(C.auth,p,(0,B.m9)(_));return new $s(S,k=>cp(C,k))})).apply(this,arguments)}function D(v,p,_){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(function*(v,p,_){var C;const S=yield _.verify();try{let k;if(Re("string"==typeof S,v,"argument-error"),Re(_.type===Sc,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const X=k.session;if("phoneNumber"in k)return Re("enroll"===X.type,v,"internal-error"),(yield Ea(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Re("signin"===X.type,v,"internal-error");const _e=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return Re(_e,v,"missing-multi-factor-info"),(yield Im(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield ga(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return X}}finally{_._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,i.Z)(function*(v,p){yield ou((0,B.m9)(v),p)})).apply(this,arguments)}let ne=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Lr(_)}verifyPhoneNumber(_,C){return D(this.auth,_,(0,B.m9)(C))}static credential(_,C){return fs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?fs._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function fe(v,p){return p?Be(p):(Re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ae extends Dr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Us(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Us(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Us(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function qe(v){return Cn(v.auth,new Ae(v),v.bypassAuthState)}function ze(v){const{auth:p,user:_}=v;return Re(_,p,"internal-error"),xt(_,new Ae(v),v.bypassAuthState)}function Vt(v){return nn.apply(this,arguments)}function nn(){return(nn=(0,i.Z)(function*(v){const{auth:p,user:_}=v;return Re(_,p,"internal-error"),ou(_,new Ae(v),v.bypassAuthState)})).apply(this,arguments)}class sr{constructor(p,_,C,S,k=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,i.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,i.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:k,tenantId:X,error:_e,type:je}=p;if(_e)return void _.reject(_e);const Fe={auth:_.auth,requestUri:C,sessionId:S,tenantId:X||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(je)(Fe))}catch(st){_.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qe;case"linkViaPopup":case"linkViaRedirect":return Vt;case"reauthViaPopup":case"reauthViaRedirect":return ze;default:Xt(this.auth,"internal-error")}}resolve(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const di=new zn(2e3,1e4);function ur(v,p,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,i.Z)(function*(v,p,_){const C=Lr(v);Ti(v,p,Er);const S=fe(C,_);return new gt(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function wu(v,p,_){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v);Ti(C.auth,p,Er);const S=fe(C.auth,_);return new gt(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Gs(v,p,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v);Ti(C.auth,p,Er);const S=fe(C.auth,_);return new gt(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let gt=(()=>{class v extends sr{constructor(_,C,S,k,X){super(_,C,k,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,i.Z)(function*(){const C=yield _.execute();return Re(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,i.Z)(function*(){$n(1===_.filter.length,"Popup operations only handle one event");const C=dl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,di.get())};_()}}return v.currentPopupAction=null,v})();const Tn=new Map;class vp extends sr{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,i.Z)(function*(){let C=Tn.get(_.auth._key());if(!C){try{const k=(yield function(v,p){return Yo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(k)}catch(S){C=()=>Promise.reject(S)}Tn.set(_.auth._key(),C)}return _.bypassAuthState||Tn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Yo(){return(Yo=(0,i.Z)(function*(v,p){const _=Mm(p),C=mh(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function Cu(v,p){return bp.apply(this,arguments)}function bp(){return(bp=(0,i.Z)(function*(v,p){return mh(v)._set(Mm(p),"true")})).apply(this,arguments)}function zs(){Tn.clear()}function mh(v){return Be(v._redirectPersistence)}function Mm(v){return ht("pendingRedirect",v.config.apiKey,v.name)}function Tu(v,p,_){return function(v,p,_){return Xn.apply(this,arguments)}(v,p,_)}function Xn(){return(Xn=(0,i.Z)(function*(v,p,_){const C=Lr(v);Ti(v,p,Er);const S=fe(C,_);return yield Cu(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Zr(v,p,_){return function(v,p,_){return _h.apply(this,arguments)}(v,p,_)}function _h(){return(_h=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v);Ti(C.auth,p,Er);const S=fe(C.auth,_);yield Cu(S,C.auth);const k=yield xc(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function yh(v,p,_){return function(v,p,_){return vh.apply(this,arguments)}(v,p,_)}function vh(){return(vh=(0,i.Z)(function*(v,p,_){const C=(0,B.m9)(v);Ti(C.auth,p,Er);const S=fe(C.auth,_);yield gs(!1,C,p.providerId),yield Cu(S,C.auth);const k=yield xc(C);return S._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function xm(v,p){return wp.apply(this,arguments)}function wp(){return(wp=(0,i.Z)(function*(v,p){return yield Lr(v)._initializationPromise,Ko(v,p,!1)})).apply(this,arguments)}function Ko(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,i.Z)(function*(v,p,_=!1){const C=Lr(v),S=fe(C,p),X=yield new vp(C,S,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,p)),X})).apply(this,arguments)}function xc(v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,i.Z)(function*(v){const p=dl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ml{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!Oa(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(p))}saveEventToCache(p){this.cachedEventUids.add(w0(p)),this.lastProcessedEventTime=Date.now()}}function w0(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Oa({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function bh(v){return Du.apply(this,arguments)}function Du(){return(Du=(0,i.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Cp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jo=/^https?/;function wh(){return(wh=(0,i.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield bh(v);for(const _ of p)try{if(Tp(_))return}catch(C){}Xt(v,"unauthorized-domain")})).apply(this,arguments)}function Tp(v){const p=Gn(),{protocol:_,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!Jo.test(_))return!1;if(Cp.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const Ch=new zn(3e4,6e4);function _l(){const v=kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let yl=null;function Dp(v){return yl=yl||function(v){return new Promise((p,_)=>{var C,S,k;function X(){_l(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_l(),_(Qt(v,"network-request-failed"))},timeout:Ch.get()})}if(null===(S=null===(C=kt().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=kt().gapi)||void 0===k?void 0:k.load)){const _e=Ic("iframefcb");return kt()[_e]=()=>{gapi.load?X():_(Qt(v,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${_e}`)}X()}}).catch(p=>{throw yl=null,p})}(v),yl}const Eu=new zn(5e3,15e3),Th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I0(v){const p=v.config;Re(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=E0.get(v.config.apiHost);S&&(C.eid=S);const k=v._getFrameworks();return k.length&&(C.fw=k.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function Pa(){return(Pa=(0,i.Z)(function*(v){const p=yield Dp(v),_=kt().gapi;return Re(_,v,"internal-error"),p.open({where:document.body,url:I0(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Th,dontclear:!0},C=>new Promise(function(){var S=(0,i.Z)(function*(k,X){yield C.restyle({setHideOnLeave:!1});const _e=Qt(v,"network-request-failed"),je=kt().setTimeout(()=>{X(_e)},Eu.get());function Fe(){kt().clearTimeout(je),k(C)}C.ping(Fe).then(Fe,()=>{X(_e)})});return function(k,X){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const km={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Dh(v,p,_,C,S,k){Re(v.config.authDomain,v,"auth-domain-config-required"),Re(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:S};if(p instanceof Er){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[je,Fe]of Object.entries(k||{}))X[je]=Fe}if(p instanceof bo){const je=p.getScopes().filter(Fe=>""!==Fe);je.length>0&&(X.scopes=je.join(","))}v.tenantId&&(X.tid=v.tenantId);const _e=X;for(const je of Object.keys(_e))void 0===_e[je]&&delete _e[je];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(_e).slice(1)}`}const wl="webStorageSupport",Oc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Ko}_openPopup(p,_,C,S){var k=this;return(0,i.Z)(function*(){var X;$n(null===(X=k.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const _e=Dh(p,_,C,Gn(),S);return function(v,p,_,C=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let _e="";const je=Object.assign(Object.assign({},km),{width:C.toString(),height:S.toString(),top:k,left:X}),Fe=(0,B.z$)().toLowerCase();_&&(_e=Pr(Fe)?"_blank":_),_r(Fe)&&(p=p||"http://localhost",je.scrollbars="yes");const st=Object.entries(je).reduce((vn,[Br,bn])=>`${vn}${Br}=${bn},`,"");if(function(v=(0,B.z$)()){var p;return nu(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==_e)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",_e),new vl(null);const $t=window.open(p||"",_e,st);Re($t,v,"popup-blocked");try{$t.focus()}catch(vn){}return new vl($t)}(p,_e,dl())})()}_openRedirect(p,_,C,S){var k=this;return(0,i.Z)(function*(){return yield k._originValidation(p),v=Dh(p,_,C,Gn(),S),kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):($n(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C}initAndGetManager(p){var _=this;return(0,i.Z)(function*(){const C=yield function(v){return Pa.apply(this,arguments)}(p),S=new ml(p);return C.register("authEvent",k=>(Re(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(wl,{type:wl},S=>{var k;const X=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[wl];void 0!==X&&_(!!X),Xt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return wh.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Zo()||Uo()||nu()}};class ea extends class{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return wn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ea(p)}_finalizeEnroll(p,_,C){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",dn(v,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",dn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Eh=(()=>{class v{constructor(){}static assertion(_){return ea._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Sp="@firebase/auth";class S0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,i.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Np(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const S=_.getImmediate(),k=_.getOptions();if((0,B.vZ)(k,null!=p?p:{}))return S;Xt(S,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:Oc,persistence:[_p,xn,vs]})}v="Browser",(0,O._registerComponent)(new Ut.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:k}=C.options;return(X=>{Re(S&&!S.includes(":"),"invalid-api-key",{appName:X.name}),Re(!(null==k?void 0:k.includes(":")),"argument-error",{appName:X.name});const _e={apiKey:S,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ls(v)},je=new Fr(X,_e);return function(v,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(Be);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(je,_),je})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Ut.wA("auth-internal",p=>{const _=Lr(p.getProvider("auth").getImmediate());return new S0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Sp,"0.19.3",void 0),(0,O.registerVersion)(Sp,"0.19.3","esm2017")},3854:(We,be,F)=>{"use strict";F.d(be,{BH:()=>he,LL:()=>Ye,ZR:()=>Ut,zI:()=>pt,US:()=>ee,tV:()=>z,$s:()=>tn,r3:()=>sn,Sg:()=>Oe,ne:()=>$n,vZ:()=>Qt,ZB:()=>Z,pd:()=>Re,m9:()=>po,z$:()=>Me,jU:()=>ie,ru:()=>ae,d:()=>ke,xb:()=>_n,w1:()=>At,hl:()=>In,uI:()=>De,UG:()=>ge,b$:()=>Te,G6:()=>yt,Mn:()=>Nt,xO:()=>Ti,zd:()=>Hi,eu:()=>Tt});const ce=function(G){const $=[];let W=0;for(let ve=0;ve<G.length;ve++){let le=G.charCodeAt(ve);le<128?$[W++]=le:le<2048?($[W++]=le>>6|192,$[W++]=63&le|128):55296==(64512&le)&&ve+1<G.length&&56320==(64512&G.charCodeAt(ve+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++ve)),$[W++]=le>>18|240,$[W++]=le>>12&63|128,$[W++]=le>>6&63|128,$[W++]=63&le|128):($[W++]=le>>12|224,$[W++]=le>>6&63|128,$[W++]=63&le|128)}return $},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let le=0;le<G.length;le+=3){const $e=G[le],ut=le+1<G.length,qt=ut?G[le+1]:0,An=le+2<G.length,Wn=An?G[le+2]:0;let J=(15&qt)<<2|Wn>>6,K=63&Wn;An||(K=64,ut||(J=64)),ve.push(W[$e>>2],W[(3&$e)<<4|qt>>4],W[J],W[K])}return ve.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(ce(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let W=0,ve=0;for(;W<G.length;){const le=G[W++];if(le<128)$[ve++]=String.fromCharCode(le);else if(le>191&&le<224){const $e=G[W++];$[ve++]=String.fromCharCode((31&le)<<6|63&$e)}else if(le>239&&le<365){const An=((7&le)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;$[ve++]=String.fromCharCode(55296+(An>>10)),$[ve++]=String.fromCharCode(56320+(1023&An))}else{const $e=G[W++],ut=G[W++];$[ve++]=String.fromCharCode((15&le)<<12|(63&$e)<<6|63&ut)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let le=0;le<G.length;){const $e=W[G.charAt(le++)],qt=le<G.length?W[G.charAt(le)]:0;++le;const Wn=le<G.length?W[G.charAt(le)]:64;++le;const oe=le<G.length?W[G.charAt(le)]:64;if(++le,null==$e||null==qt||null==Wn||null==oe)throw Error();ve.push($e<<2|qt>>4),64!==Wn&&(ve.push(qt<<4&240|Wn>>2),64!==oe&&ve.push(Wn<<6&192|oe))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},Q=function(G){return function(G){const $=ce(G);return ee.encodeByteArray($,!0)}(G).replace(/\./g,"")},z=function(G){try{return ee.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function Z(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!q(W)||(G[W]=Z(G[W],$[W]));return G}function q(G){return"__proto__"!==G}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,ve)=>{W?this.reject(W):this.resolve(ve),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,ve))}}}function Oe(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=$||"demo-project",le=G.iat||0,$e=G.sub||G.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:le,exp:le+3600,auth_time:le,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(ut)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function ie(){return"object"==typeof self&&self.self===self}function ae(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Me().indexOf("Electron/")>=0}function At(){const G=Me();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Nt(){return Me().indexOf("MSAppHost/")>=0}function yt(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){return"object"==typeof indexedDB}function Tt(){return new Promise((G,$)=>{try{let W=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(ve);le.onsuccess=()=>{le.result.close(),W||self.indexedDB.deleteDatabase(ve),G(!0)},le.onupgradeneeded=()=>{W=!1},le.onerror=()=>{var $e;$((null===($e=le.error)||void 0===$e?void 0:$e.message)||"")}}catch(W){$(W)}})}function pt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ut extends Error{constructor($,W,ve){super(W),this.code=$,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor($,W,ve){this.service=$,this.serviceName=W,this.errors=ve}create($,...W){const ve=W[0]||{},le=`${this.service}/${$}`,$e=this.errors[$],ut=$e?function(G,$){return G.replace(tu,(W,ve)=>{const le=$[ve];return null!=le?String(le):`<${ve}?>`})}($e,ve):"Error";return new Ut(le,`${this.serviceName}: ${ut} (${le}).`,ve)}}const tu=/\{\$([^}]+)}/g;function sn(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function _n(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function Qt(G,$){if(G===$)return!0;const W=Object.keys(G),ve=Object.keys($);for(const le of W){if(!ve.includes(le))return!1;const $e=G[le],ut=$[le];if(Rs($e)&&Rs(ut)){if(!Qt($e,ut))return!1}else if($e!==ut)return!1}for(const le of ve)if(!W.includes(le))return!1;return!0}function Rs(G){return null!==G&&"object"==typeof G}function Ti(G){const $=[];for(const[W,ve]of Object.entries(G))Array.isArray(ve)?ve.forEach(le=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(le))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(ve));return $.length?"&"+$.join("&"):""}function Hi(G){const $={};return G.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[le,$e]=ve.split("=");$[decodeURIComponent(le)]=decodeURIComponent($e)}}),$}function Re(G){const $=G.indexOf("?");if(!$)return"";const W=G.indexOf("#",$);return G.substring($,W>0?W:void 0)}function $n(G,$){const W=new Di(G,$);return W.subscribe.bind(W)}class Di{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(ve=>{this.error(ve)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,ve){let le;if(void 0===$&&void 0===W&&void 0===ve)throw new Error("Missing Observer.");le=function(G,$){if("object"!=typeof G||null===G)return!1;for(const W of["next","error","complete"])if(W in G&&"function"==typeof G[W])return!0;return!1}($)?$:{next:$,error:W,complete:ve},void 0===le.next&&(le.next=mr),void 0===le.error&&(le.error=mr),void 0===le.complete&&(le.complete=mr);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(ut){}}),this.observers.push(le),$e}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mr(){}function tn(G,$=1e3,W=2){const ve=$*Math.pow(W,G),le=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+le)}function po(G){return G&&G._delegate?G._delegate:G}},2329:(We,be,F)=>{"use strict";F.d(be,{Mq:()=>i.getApp,C6:()=>i.getApps});var i=F(8026);(0,i.registerVersion)("firebase","9.6.0","app")},7841:(We,be,F)=>{"use strict";F.d(be,{Z:()=>i.Z});var i=F(3394);i.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(We,be,F)=>{"use strict";F.r(be);var i=F(8239),B=F(3394),O=F(2476),ce=F(3854),de=(F(8026),F(5422),F(3910));function Q(){return window}function Z(){return(Z=(0,i.Z)(function*(oe,J,K){var Ce;const{BuildInfo:Ve}=Q();(0,O.ap)(J.sessionId,"AuthEvent did not contain a session ID");const ct=yield ie(J.sessionId),Lt={};return(0,O.aq)()?Lt.ibi=Ve.packageName:(0,O.ar)()?Lt.apn=Ve.packageName:(0,O.as)(oe,"operation-not-supported-in-this-environment"),Ve.displayName&&(Lt.appDisplayName=Ve.displayName),Lt.sessionId=ct,(0,O.at)(oe,K,J.type,void 0,null!==(Ce=J.eventId)&&void 0!==Ce?Ce:void 0,Lt)})).apply(this,arguments)}function he(){return(he=(0,i.Z)(function*(oe){const{BuildInfo:J}=Q(),K={};(0,O.aq)()?K.iosBundleId=J.packageName:(0,O.ar)()?K.androidPackageName=J.packageName:(0,O.as)(oe,"operation-not-supported-in-this-environment"),yield(0,O.au)(oe,K)})).apply(this,arguments)}function De(){return(De=(0,i.Z)(function*(oe,J,K){const{cordova:Ce}=Q();let Ve=()=>{};try{yield new Promise((ct,Lt)=>{let It=null;function kn(){var bt;ct();const Nn=null===(bt=Ce.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof Nn&&Nn(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function fn(){It||(It=window.setTimeout(()=>{Lt((0,O.av)(oe,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}J.addPassiveListener(kn),document.addEventListener("resume",fn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",Sn,!1),Ve=()=>{J.removePassiveListener(kn),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Sn,!1),It&&window.clearTimeout(It)}})}finally{Ve()}})).apply(this,arguments)}function ie(oe){return ae.apply(this,arguments)}function ae(){return(ae=(0,i.Z)(function*(oe){const J=Te(oe),K=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(K)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(oe){if((0,O.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const J=new ArrayBuffer(oe.length),K=new Uint8Array(J);for(let Ce=0;Ce<oe.length;Ce++)K[Ce]=oe.charCodeAt(Ce);return K}class At extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(J)),super.onEvent(J)}initialized(){var J=this;return(0,i.Z)(function*(){yield J.initPromise})()}}function yt(oe){return In.apply(this,arguments)}function In(){return(In=(0,i.Z)(function*(oe){const J=yield Rt()._get(Qe(oe));return J&&(yield Rt()._remove(Qe(oe))),J})).apply(this,arguments)}function pt(){const oe=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Ce=Math.floor(Math.random()*J.length);oe.push(J.charAt(Ce))}return oe.join("")}function Rt(){return(0,O.ax)(O.b)}function Qe(oe){return(0,O.ay)("authEvent",oe.config.apiKey,oe.name)}function cs(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[J,...K]=oe.split("?");return(0,ce.zd)(K.join("?"))}function Wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function sn(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function _n(oe=(0,ce.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hi(){try{const oe=self.localStorage,J=O.aG();if(oe)return oe.setItem(J,"1"),oe.removeItem(J),!function(oe=(0,ce.z$)()){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)||function(oe=(0,ce.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ce.hl)()}catch(oe){return Re()&&(0,ce.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wn(){return("http:"===sn()||"https:"===sn()||(0,ce.ru)()||_n())&&!((0,ce.b$)()||(0,ce.UG)())&&Hi()&&!Re()}function $n(){return _n()&&"undefined"!=typeof document}function Be(){return(Be=(0,i.Z)(function*(){return!!$n()&&new Promise(oe=>{const J=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),oe(!0)})})})).apply(this,arguments)}const jt={LOCAL:"local",NONE:"none",SESSION:"session"},mr=O.aw,Gn="persistence";function et(oe){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,i.Z)(function*(oe){yield oe._initializationPromise;const J=zn(),K=O.ay(Gn,oe.config.apiKey,oe.name);(null==J?void 0:J.sessionStorage)&&J.sessionStorage.setItem(K,oe._getPersistence())})).apply(this,arguments)}function zn(){return"undefined"!=typeof window?window:null}const en=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(J){var K=this;return(0,i.Z)(function*(){const Ce=J._key();let Ve=K.eventManagers.get(Ce);return Ve||(Ve=new At(J),K.eventManagers.set(Ce,Ve),K.attachCallbackListeners(J,Ve)),Ve})()}_openPopup(J){(0,O.as)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,K,Ce,Ve){var ct=this;return(0,i.Z)(function*(){!function(oe){var J,K,Ce,Ve,ct,Lt,It,kn,fn,Sn;const bt=Q();(0,O.aw)("function"==typeof(null===(J=null==bt?void 0:bt.universalLinks)||void 0===J?void 0:J.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(K=null==bt?void 0:bt.BuildInfo)||void 0===K?void 0:K.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(ct=null===(Ve=null===(Ce=null==bt?void 0:bt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ct?void 0:ct.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(kn=null===(It=null===(Lt=null==bt?void 0:bt.cordova)||void 0===Lt?void 0:Lt.plugins)||void 0===It?void 0:It.browsertab)||void 0===kn?void 0:kn.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Sn=null===(fn=null==bt?void 0:bt.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Sn?void 0:Sn.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Lt=yield ct._initialize(J);yield Lt.initialized(),Lt.resetRedirect(),(0,O.aB)(),yield ct._originValidation(J);const It=function(oe,J,K=null){return{type:J,eventId:K,urlResponse:null,sessionId:pt(),postBody:null,tenantId:oe.tenantId,error:(0,O.av)(oe,"no-auth-event")}}(J,Ce,Ve);yield function(oe,J){return Rt()._set(Qe(oe),J)}(J,It);const kn=yield function(oe,J,K){return Z.apply(this,arguments)}(J,It,K),fn=yield function(oe){const{cordova:J}=Q();return new Promise(K=>{J.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?J.plugins.browsertab.openUrl(oe):Ve=J.InAppBrowser.open(oe,(0,O.ao)()?"_blank":"_system","location=yes"),K(Ve)})})}(kn);return function(oe,J,K){return De.apply(this,arguments)}(J,Lt,fn)})()}_isIframeWebStorageSupported(J,K){throw new Error("Method not implemented.")}_originValidation(J){const K=J._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function(oe){return he.apply(this,arguments)}(J)),this.originValidationPromises[K]}attachCallbackListeners(J,K){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:ct}=Q(),Lt=setTimeout((0,i.Z)(function*(){yield yt(J),K.onEvent(Wt())}),500),It=function(){var Sn=(0,i.Z)(function*(bt){clearTimeout(Lt);const Nn=yield yt(J);let go=null;Nn&&(null==bt?void 0:bt.url)&&(go=function(oe,J){var K,Ce;const Ve=function(oe){const J=cs(oe),K=J.link?decodeURIComponent(J.link):void 0,Ce=cs(K).link,Ve=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return cs(Ve).link||Ve||Ce||K||oe}(J);if(Ve.includes("/__/auth/callback")){const ct=cs(Ve),Lt=ct.firebaseError?function(oe){try{return JSON.parse(oe)}catch(J){return null}}(decodeURIComponent(ct.firebaseError)):null,It=null===(Ce=null===(K=null==Lt?void 0:Lt.code)||void 0===K?void 0:K.split("auth/"))||void 0===Ce?void 0:Ce[1],kn=It?(0,O.av)(It):null;return kn?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:kn,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:Ve,postBody:null}}return null}(Nn,bt.url)),K.onEvent(go||Wt())});return function(Nn){return Sn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,It);const kn=Ve,fn=`${ct.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var Sn=(0,i.Z)(function*(bt){if(bt.toLowerCase().startsWith(fn)&&It({url:bt}),"function"==typeof kn)try{kn(bt)}catch(Nn){console.error(Nn)}});return function(bt){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(J){var K=this;return(0,i.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,K,Ce,Ve){var ct=this;return(0,i.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(J,K,Ce,Ve)})()}_openRedirect(J,K,Ce,Ve){var ct=this;return(0,i.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(J,K,Ce,Ve)})()}_isIframeWebStorageSupported(J,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,K)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,i.Z)(function*(){if(J.underlyingResolver)return;const K=yield function(){return Be.apply(this,arguments)}();J.underlyingResolver=K?J.cordovaResolver:J.browserResolver})()}}function Xe(oe){return oe.unwrap()}function dn(oe){return Yt(oe)}function Yt(oe){const{_tokenResponse:J}=oe instanceof ce.ZR?oe.customData:oe;if(!J)return null;if(!(oe instanceof ce.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return O.P.credentialFromResult(oe);const K=J.providerId;if(!K||K===O.o.PASSWORD)return null;let Ce;switch(K){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:ct,oauthTokenSecret:Lt,pendingToken:It,nonce:kn}=J;return ct||Lt||Ve||It?It?K.startsWith("saml.")?O.aJ._create(K,It):O.I._fromParams({providerId:K,signInMethod:K,pendingToken:It,idToken:Ve,accessToken:ct}):new O.T(K).credential({idToken:Ve,accessToken:ct,rawNonce:kn}):null}return oe instanceof ce.ZR?Ce.credentialFromError(oe):Ce.credentialFromResult(oe)}function hn(oe,J){return J.catch(K=>{throw K instanceof ce.ZR&&function(oe,J){var K;const Ce=null===(K=J.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===J.code)J.resolver=new $(oe,O.am(oe,J));else if(Ce){const Ve=Yt(J),ct=J;Ve&&(ct.credential=Ve,ct.tenantId=Ce.tenantId||void 0,ct.email=Ce.email||void 0,ct.phoneNumber=Ce.phoneNumber||void 0)}}(oe,K),K}).then(K=>{const Ve=K.user;return{operationType:K.operationType,credential:dn(K),additionalUserInfo:O.ak(K),user:W.getOrCreate(Ve)}})}function po(oe,J){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)(function*(oe,J){const K=yield J;return{verificationId:K.verificationId,confirm:Ce=>hn(oe,K.confirm(Ce))}})).apply(this,arguments)}class ${constructor(J,K){this.resolver=K,this.auth=J.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return hn(Xe(this.auth),this.resolver.resolveSignIn(J))}}class W{constructor(J){this._delegate=J,this.multiFactor=O.an(J)}static getOrCreate(J){return W.USER_MAP.has(J)||W.USER_MAP.set(J,new W(J)),W.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var K=this;return(0,i.Z)(function*(){return hn(K.auth,O.Y(K._delegate,J))})()}linkWithPhoneNumber(J,K){var Ce=this;return(0,i.Z)(function*(){return po(Ce.auth,O.l(Ce._delegate,J,K))})()}linkWithPopup(J){var K=this;return(0,i.Z)(function*(){return hn(K.auth,O.d(K._delegate,J,Pe))})()}linkWithRedirect(J){var K=this;return(0,i.Z)(function*(){return yield et(O.aC(K.auth)),O.g(K._delegate,J,Pe)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var K=this;return(0,i.Z)(function*(){return hn(K.auth,O.Z(K._delegate,J))})()}reauthenticateWithPhoneNumber(J,K){return po(this.auth,O.r(this._delegate,J,K))}reauthenticateWithPopup(J){return hn(this.auth,O.e(this._delegate,J,Pe))}reauthenticateWithRedirect(J){var K=this;return(0,i.Z)(function*(){return yield et(O.aC(K.auth)),O.h(K._delegate,J,Pe)})()}sendEmailVerification(J){return O.aa(this._delegate,J)}unlink(J){var K=this;return(0,i.Z)(function*(){return yield O.aj(K._delegate,J),K})()}updateEmail(J){return O.af(this._delegate,J)}updatePassword(J){return O.ag(this._delegate,J)}updatePhoneNumber(J){return O.u(this._delegate,J)}updateProfile(J){return O.ae(this._delegate,J)}verifyBeforeUpdateEmail(J,K){return O.ab(this._delegate,J,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const ve=O.aw;let le=(()=>{class oe{constructor(K,Ce){if(this.app=K,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=K.options;ve(Ve,"invalid-api-key",{appName:K.name});let ct=[O.K];if("undefined"!=typeof window){ct=function(oe,J){const K=zn();if(!(null==K?void 0:K.sessionStorage))return[];const Ce=O.ay(Gn,oe,J);switch(K.sessionStorage.getItem(Ce)){case jt.NONE:return[O.K];case jt.LOCAL:return[O.i,O.a];case jt.SESSION:return[O.a];default:return[]}}(Ve,K.name);for(const It of[O.i,O.b,O.a])ct.includes(It)||ct.push(It)}ve(Ve,"invalid-api-key",{appName:K.name});const Lt="undefined"!=typeof window?Pe:void 0;this._delegate=Ce.initialize({options:{persistence:ct,popupRedirectResolver:Lt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Ce){O.E(this._delegate,K,Ce)}applyActionCode(K){return O.a1(this._delegate,K)}checkActionCode(K){return O.a2(this._delegate,K)}confirmPasswordReset(K,Ce){return O.a0(this._delegate,K,Ce)}createUserWithEmailAndPassword(K,Ce){var Ve=this;return(0,i.Z)(function*(){return hn(Ve._delegate,O.a4(Ve._delegate,K,Ce))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return O.a9(this._delegate,K)}isSignInWithEmailLink(K){return O.a7(this._delegate,K)}getRedirectResult(){var K=this;return(0,i.Z)(function*(){ve(wn(),K._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(K._delegate,Pe);return Ce?hn(K._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function(oe,J){(0,O.aC)(oe)._logFramework(J)}(this._delegate,K)}onAuthStateChanged(K,Ce,Ve){const{next:ct,error:Lt,complete:It}=$e(K,Ce,Ve);return this._delegate.onAuthStateChanged(ct,Lt,It)}onIdTokenChanged(K,Ce,Ve){const{next:ct,error:Lt,complete:It}=$e(K,Ce,Ve);return this._delegate.onIdTokenChanged(ct,Lt,It)}sendSignInLinkToEmail(K,Ce){return O.a6(this._delegate,K,Ce)}sendPasswordResetEmail(K,Ce){return O.$(this._delegate,K,Ce||void 0)}setPersistence(K){var Ce=this;return(0,i.Z)(function*(){let Ve;switch(function(oe,J){mr(Object.values(jt).includes(J),oe,"invalid-persistence-type"),(0,ce.b$)()?mr(J!==jt.SESSION,oe,"unsupported-persistence-type"):(0,ce.UG)()?mr(J===jt.NONE,oe,"unsupported-persistence-type"):Re()?mr(J===jt.NONE||J===jt.LOCAL&&(0,ce.hl)(),oe,"unsupported-persistence-type"):mr(J===jt.NONE||Hi(),oe,"unsupported-persistence-type")}(Ce._delegate,K),K){case jt.SESSION:Ve=O.a;break;case jt.LOCAL:Ve=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case jt.NONE:Ve=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return hn(this._delegate,O.W(this._delegate))}signInWithCredential(K){return hn(this._delegate,O.X(this._delegate,K))}signInWithCustomToken(K){return hn(this._delegate,O._(this._delegate,K))}signInWithEmailAndPassword(K,Ce){return hn(this._delegate,O.a5(this._delegate,K,Ce))}signInWithEmailLink(K,Ce){return hn(this._delegate,O.a8(this._delegate,K,Ce))}signInWithPhoneNumber(K,Ce){return po(this._delegate,O.s(this._delegate,K,Ce))}signInWithPopup(K){var Ce=this;return(0,i.Z)(function*(){return ve(wn(),Ce._delegate,"operation-not-supported-in-this-environment"),hn(Ce._delegate,O.c(Ce._delegate,K,Pe))})()}signInWithRedirect(K){var Ce=this;return(0,i.Z)(function*(){return ve(wn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield et(Ce._delegate),O.f(Ce._delegate,K,Pe)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return O.a3(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=jt,oe})();function $e(oe,J,K){let Ce=oe;"function"!=typeof oe&&({next:Ce,error:J,complete:K}=oe);const Ve=Ce;return{next:Lt=>Ve(Lt&&W.getOrCreate(Lt)),error:J,complete:K}}class ut{constructor(){this.providerId="phone",this._delegate=new O.P(Xe(B.Z.auth()))}static credential(J,K){return O.P.credential(J,K)}verifyPhoneNumber(J,K){return this._delegate.verifyPhoneNumber(J,K)}unwrap(){return this._delegate}}ut.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ut.PROVIDER_ID=O.P.PROVIDER_ID;const qt=O.aw;var oe;(oe=B.Z).INTERNAL.registerComponent(new de.wA("auth-compat",J=>{const K=J.getProvider("app-compat").getImmediate(),Ce=J.getProvider("auth");return new le(K,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:ut,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(J,K,Ce=B.Z.app()){var Ve;qt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(J,K,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:le,AuthCredential:O.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(We,be){!function(F){"use strict";function i(ge){return Array.prototype.slice.call(ge)}function B(ge){return new Promise(function(ie,ae){ge.onsuccess=function(){ie(ge.result)},ge.onerror=function(){ae(ge.error)}})}function O(ge,ie,ae){var Te,ke=new Promise(function(At,Nt){B(Te=ge[ie].apply(ge,ae)).then(At,Nt)});return ke.request=Te,ke}function ce(ge,ie,ae){var Te=O(ge,ie,ae);return Te.then(function(ke){if(ke)return new L(ke,Te.request)})}function ue(ge,ie,ae){ae.forEach(function(Te){Object.defineProperty(ge.prototype,Te,{get:function(){return this[ie][Te]},set:function(ke){this[ie][Te]=ke}})})}function ee(ge,ie,ae,Te){Te.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return O(this[ie],ke,arguments)})})}function de(ge,ie,ae,Te){Te.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return this[ie][ke].apply(this[ie],arguments)})})}function Q(ge,ie,ae,Te){Te.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return ce(this[ie],ke,arguments)})})}function z(ge){this._index=ge}function L(ge,ie){this._cursor=ge,this._request=ie}function Z(ge){this._store=ge}function q(ge){this._tx=ge,this.complete=new Promise(function(ie,ae){ge.oncomplete=function(){ie()},ge.onerror=function(){ae(ge.error)},ge.onabort=function(){ae(ge.error)}})}function he(ge,ie,ae){this._db=ge,this.oldVersion=ie,this.transaction=new q(ae)}function Oe(ge){this._db=ge}ue(z,"_index",["name","keyPath","multiEntry","unique"]),ee(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ue(L,"_cursor",["direction","key","primaryKey","value"]),ee(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var ie=this,ae=arguments;return Promise.resolve().then(function(){return ie._cursor[ge].apply(ie._cursor,ae),B(ie._request).then(function(Te){if(Te)return new L(Te,ie._request)})})})}),Z.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},Z.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ue(Z,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(Z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(Z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),de(Z,"_store",IDBObjectStore,["deleteIndex"]),q.prototype.objectStore=function(){return new Z(this._tx.objectStore.apply(this._tx,arguments))},ue(q,"_tx",["objectStoreNames","mode"]),de(q,"_tx",IDBTransaction,["abort"]),he.prototype.createObjectStore=function(){return new Z(this._db.createObjectStore.apply(this._db,arguments))},ue(he,"_db",["name","version","objectStoreNames"]),de(he,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new q(this._db.transaction.apply(this._db,arguments))},ue(Oe,"_db",["name","version","objectStoreNames"]),de(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[Z,z].forEach(function(ie){ge in ie.prototype&&(ie.prototype[ge.replace("open","iterate")]=function(){var ae=i(arguments),Te=ae[ae.length-1],ke=this._store||this._index,At=ke[ge].apply(ke,ae.slice(0,-1));At.onsuccess=function(){Te(At.result)}})})}),[z,Z].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(ie,ae){var Te=this,ke=[];return new Promise(function(At){Te.iterateCursor(ie,function(Nt){Nt?(ke.push(Nt.value),void 0===ae||ke.length!=ae?Nt.continue():At(ke)):At(ke)})})})}),F.openDb=function(ge,ie,ae){var Te=O(indexedDB,"open",[ge,ie]),ke=Te.request;return ke&&(ke.onupgradeneeded=function(At){ae&&ae(new he(ke.result,At.oldVersion,ke.transaction))}),Te.then(function(At){return new Oe(At)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(be)},1593:(We,be,F)=>{"use strict";F.d(be,{P:()=>de});var i=F(9193),B=F(5917),O=F(7574);class de{constructor(z,L,Z){this.kind=z,this.value=L,this.error=Z,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,L,Z){switch(this.kind){case"N":return z&&z(this.value);case"E":return L&&L(this.error);case"C":return Z&&Z()}}accept(z,L,Z){return z&&"function"==typeof z.next?this.observe(z):this.do(z,L,Z)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return Q=this.error,new O.y(L=>L.error(Q));case"C":return(0,i.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new de("N",z):de.undefinedValueNotification}static createError(z){return new de("E",void 0,z)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(We,be,F)=>{"use strict";F.d(be,{y:()=>Z});var i=F(7393),O=F(9181),ce=F(6490),ee=F(6554),de=F(4487);var L=F(2494);let Z=(()=>{class he{constructor(Me){this._isScalar=!1,Me&&(this._subscribe=Me)}lift(Me){const De=new he;return De.source=this,De.operator=Me,De}subscribe(Me,De,ge){const{operator:ie}=this,ae=function(he,Oe,Me){if(he){if(he instanceof i.L)return he;if(he[O.b])return he[O.b]()}return he||Oe||Me?new i.L(he,Oe,Me):new i.L(ce.c)}(Me,De,ge);if(ae.add(ie?ie.call(ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!ae.syncErrorThrowable?this._subscribe(ae):this._trySubscribe(ae)),L.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable&&(ae.syncErrorThrowable=!1,ae.syncErrorThrown))throw ae.syncErrorValue;return ae}_trySubscribe(Me){try{return this._subscribe(Me)}catch(De){L.v.useDeprecatedSynchronousErrorHandling&&(Me.syncErrorThrown=!0,Me.syncErrorValue=De),function(he){for(;he;){const{closed:Oe,destination:Me,isStopped:De}=he;if(Oe||De)return!1;he=Me&&Me instanceof i.L?Me:null}return!0}(Me)?Me.error(De):console.warn(De)}}forEach(Me,De){return new(De=q(De))((ge,ie)=>{let ae;ae=this.subscribe(Te=>{try{Me(Te)}catch(ke){ie(ke),ae&&ae.unsubscribe()}},ie,ge)})}_subscribe(Me){const{source:De}=this;return De&&De.subscribe(Me)}[ee.L](){return this}pipe(...Me){return 0===Me.length?this:function(he){return 0===he.length?de.y:1===he.length?he[0]:function(Me){return he.reduce((De,ge)=>ge(De),Me)}}(Me)(this)}toPromise(Me){return new(Me=q(Me))((De,ge)=>{let ie;this.subscribe(ae=>ie=ae,ae=>ge(ae),()=>De(ie))})}}return he.create=Oe=>new he(Oe),he})();function q(he){if(he||(he=L.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},6490:(We,be,F)=>{"use strict";F.d(be,{c:()=>O});var i=F(2494),B=F(4449);const O={closed:!0,next(ce){},error(ce){if(i.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,B.z)(ce)},complete(){}}},9765:(We,be,F)=>{"use strict";F.d(be,{Yc:()=>de,xQ:()=>Q});var i=F(7574),B=F(7393),O=F(5319),ce=F(7971),ue=F(8858),ee=F(9181);class de extends B.L{constructor(Z){super(Z),this.destination=Z}}let Q=(()=>{class L extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new de(this)}lift(q){const he=new z(this,this);return he.operator=q,he}next(q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:he}=this,Oe=he.length,Me=he.slice();for(let De=0;De<Oe;De++)Me[De].next(q)}}error(q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:he}=this,Oe=he.length,Me=he.slice();for(let De=0;De<Oe;De++)Me[De].error(q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:q}=this,he=q.length,Oe=q.slice();for(let Me=0;Me<he;Me++)Oe[Me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new ce.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new ce.N;return this.hasError?(q.error(this.thrownError),O.w.EMPTY):this.isStopped?(q.complete(),O.w.EMPTY):(this.observers.push(q),new ue.W(this,q))}asObservable(){const q=new i.y;return q.source=this,q}}return L.create=(Z,q)=>new z(Z,q),L})();class z extends Q{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){const{destination:q}=this;q&&q.next&&q.next(Z)}error(Z){const{destination:q}=this;q&&q.error&&this.destination.error(Z)}complete(){const{destination:Z}=this;Z&&Z.complete&&this.destination.complete()}_subscribe(Z){const{source:q}=this;return q?this.source.subscribe(Z):O.w.EMPTY}}},8858:(We,be,F)=>{"use strict";F.d(be,{W:()=>B});var i=F(5319);class B extends i.w{constructor(ce,ue){super(),this.subject=ce,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ue=ce.observers;if(this.subject=null,!ue||0===ue.length||ce.isStopped||ce.closed)return;const ee=ue.indexOf(this.subscriber);-1!==ee&&ue.splice(ee,1)}}},7393:(We,be,F)=>{"use strict";F.d(be,{L:()=>de});var i=F(9105),B=F(6490),O=F(5319),ce=F(9181),ue=F(2494),ee=F(4449);class de extends O.w{constructor(L,Z,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!L){this.destination=B.c;break}if("object"==typeof L){L instanceof de?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,L,Z,q)}}[ce.b](){return this}static create(L,Z,q){const he=new de(L,Z,q);return he.syncErrorThrowable=!1,he}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Q extends de{constructor(L,Z,q,he){super(),this._parentSubscriber=L;let Oe,Me=this;(0,i.m)(Z)?Oe=Z:Z&&(Oe=Z.next,q=Z.error,he=Z.complete,Z!==B.c&&(Me=Object.create(Z),(0,i.m)(Me.unsubscribe)&&this.add(Me.unsubscribe.bind(Me)),Me.unsubscribe=this.unsubscribe.bind(this))),this._context=Me,this._next=Oe,this._error=q,this._complete=he}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:Z}=this;ue.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable?this.__tryOrSetError(Z,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:Z}=this,{useDeprecatedSynchronousErrorHandling:q}=ue.v;if(this._error)q&&Z.syncErrorThrowable?(this.__tryOrSetError(Z,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(Z.syncErrorThrowable)q?(Z.syncErrorValue=L,Z.syncErrorThrown=!0):(0,ee.z)(L),this.unsubscribe();else{if(this.unsubscribe(),q)throw L;(0,ee.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const Z=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,Z),this.unsubscribe()):(this.__tryOrUnsub(Z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,Z){try{L.call(this._context,Z)}catch(q){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw q;(0,ee.z)(q)}}__tryOrSetError(L,Z,q){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Z.call(this._context,q)}catch(he){return ue.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=he,L.syncErrorThrown=!0,!0):((0,ee.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(We,be,F)=>{"use strict";F.d(be,{w:()=>ee});var i=F(9796),B=F(1555),O=F(9105);const ue=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,Z)=>`${Z+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:Z,_unsubscribe:q,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ee)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(q)){Z&&(this._unsubscribe=void 0);try{q.call(this)}catch(Oe){z=Oe instanceof ue?de(Oe.errors):[Oe]}}if((0,i.k)(he)){let Oe=-1,Me=he.length;for(;++Oe<Me;){const De=he[Oe];if((0,B.K)(De))try{De.unsubscribe()}catch(ge){z=z||[],ge instanceof ue?z=z.concat(de(ge.errors)):z.push(ge)}}}if(z)throw new ue(z)}add(z){let L=z;if(!z)return ee.EMPTY;switch(typeof z){case"function":L=new ee(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ee)){const he=L;L=new ee,L._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:Z}=L;if(null===Z)L._parentOrParents=this;else if(Z instanceof ee){if(Z===this)return L;L._parentOrParents=[Z,this]}else{if(-1!==Z.indexOf(this))return L;Z.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[L]:q.push(L),L}remove(z){const L=this._subscriptions;if(L){const Z=L.indexOf(z);-1!==Z&&L.splice(Z,1)}}}var Q;function de(Q){return Q.reduce((z,L)=>z.concat(L instanceof ue?L.errors:L),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(We,be,F)=>{"use strict";F.d(be,{v:()=>B});let i=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=O},get useDeprecatedSynchronousErrorHandling(){return i}}},5345:(We,be,F)=>{"use strict";F.d(be,{IY:()=>ce,Ds:()=>ee,ft:()=>Q});var i=F(7393),B=F(7574),O=F(7444);class ce extends i.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends i.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Q(z,L){if(L.closed)return;if(z instanceof B.y)return z.subscribe(L);let Z;try{Z=(0,O.s)(z)(L)}catch(q){L.error(q)}return Z}},2441:(We,be,F)=>{"use strict";F.d(be,{c:()=>ue,N:()=>ee});var i=F(9765),B=F(7574),O=F(5319),ce=F(1307);class ue extends B.y{constructor(Z,q){super(),this.source=Z,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Z=this._connection;return Z||(this._isComplete=!1,Z=this._connection=new O.w,Z.add(this.source.subscribe(new de(this.getSubject(),this))),Z.closed&&(this._connection=null,Z=O.w.EMPTY)),Z}refCount(){return(0,ce.x)()(this)}}const ee=(()=>{const L=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class de extends i.Yc{constructor(Z,q){super(Z),this.connectable=q}_error(Z){this._unsubscribe(),super._error(Z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Z=this.connectable;if(Z){this.connectable=null;const q=Z._connection;Z._refCount=0,Z._subject=null,Z._connection=null,q&&q.unsubscribe()}}}},9193:(We,be,F)=>{"use strict";F.d(be,{E:()=>B,c:()=>O});var i=F(7574);const B=new i.y(ue=>ue.complete());function O(ue){return ue?function(ue){return new i.y(ee=>ue.schedule(()=>ee.complete()))}(ue):B}},4402:(We,be,F)=>{"use strict";F.d(be,{D:()=>Me});var i=F(7574),B=F(7444),O=F(5319),ce=F(6554),de=F(4087),Q=F(377),Z=F(4072),q=F(9489);function Me(De,ge){return ge?function(De,ge){if(null!=De){if(function(De){return De&&"function"==typeof De[ce.L]}(De))return function(De,ge){return new i.y(ie=>{const ae=new O.w;return ae.add(ge.schedule(()=>{const Te=De[ce.L]();ae.add(Te.subscribe({next(ke){ae.add(ge.schedule(()=>ie.next(ke)))},error(ke){ae.add(ge.schedule(()=>ie.error(ke)))},complete(){ae.add(ge.schedule(()=>ie.complete()))}}))})),ae})}(De,ge);if((0,Z.t)(De))return function(De,ge){return new i.y(ie=>{const ae=new O.w;return ae.add(ge.schedule(()=>De.then(Te=>{ae.add(ge.schedule(()=>{ie.next(Te),ae.add(ge.schedule(()=>ie.complete()))}))},Te=>{ae.add(ge.schedule(()=>ie.error(Te)))}))),ae})}(De,ge);if((0,q.z)(De))return(0,de.r)(De,ge);if(function(De){return De&&"function"==typeof De[Q.hZ]}(De)||"string"==typeof De)return function(De,ge){if(!De)throw new Error("Iterable cannot be null");return new i.y(ie=>{const ae=new O.w;let Te;return ae.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),ae.add(ge.schedule(()=>{Te=De[Q.hZ](),ae.add(ge.schedule(function(){if(ie.closed)return;let ke,At;try{const Nt=Te.next();ke=Nt.value,At=Nt.done}catch(Nt){return void ie.error(Nt)}At?ie.complete():(ie.next(ke),this.schedule())}))})),ae})}(De,ge)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,ge):De instanceof i.y?De:new i.y((0,B.s)(De))}},6693:(We,be,F)=>{"use strict";F.d(be,{n:()=>ce});var i=F(7574),B=F(5015),O=F(4087);function ce(ue,ee){return ee?(0,O.r)(ue,ee):new i.y((0,B.V)(ue))}},6682:(We,be,F)=>{"use strict";F.d(be,{T:()=>ue});var i=F(7574),B=F(4869),O=F(3282),ce=F(6693);function ue(...ee){let de=Number.POSITIVE_INFINITY,Q=null,z=ee[ee.length-1];return(0,B.K)(z)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(de=ee.pop())):"number"==typeof z&&(de=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof i.y?ee[0]:(0,O.J)(de)((0,ce.n)(ee,Q))}},5917:(We,be,F)=>{"use strict";F.d(be,{of:()=>ce});var i=F(4869),B=F(6693),O=F(4087);function ce(...ue){let ee=ue[ue.length-1];return(0,i.K)(ee)?(ue.pop(),(0,O.r)(ue,ee)):(0,B.n)(ue)}},8002:(We,be,F)=>{"use strict";F.d(be,{U:()=>B});var i=F(7393);function B(ue,ee){return function(Q){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new O(ue,ee))}}class O{constructor(ee,de){this.project=ee,this.thisArg=de}call(ee,de){return de.subscribe(new ce(ee,this.project,this.thisArg))}}class ce extends i.L{constructor(ee,de,Q){super(ee),this.project=de,this.count=0,this.thisArg=Q||this}_next(ee){let de;try{de=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(de)}}},3282:(We,be,F)=>{"use strict";F.d(be,{J:()=>O});var i=F(9773),B=F(4487);function O(ce=Number.POSITIVE_INFINITY){return(0,i.zg)(B.y,ce)}},9773:(We,be,F)=>{"use strict";F.d(be,{zg:()=>ce});var i=F(8002),B=F(4402),O=F(5345);function ce(Q,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?Z=>Z.pipe(ce((q,he)=>(0,B.D)(Q(q,he)).pipe((0,i.U)((Oe,Me)=>z(q,Oe,he,Me))),L)):("number"==typeof z&&(L=z),Z=>Z.lift(new ue(Q,L)))}class ue{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new ee(z,this.project,this.concurrent))}}class ee extends O.Ds{constructor(z,L,Z=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=Z,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const Z=this.index++;try{L=this.project(z,Z)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(L)}_innerSub(z){const L=new O.IY(this),Z=this.destination;Z.add(L);const q=(0,O.ft)(z,L);q!==L&&Z.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(We,be,F)=>{"use strict";F.d(be,{QV:()=>O,ht:()=>ue});var i=F(7393),B=F(1593);function O(de,Q=0){return function(L){return L.lift(new ce(de,Q))}}class ce{constructor(Q,z=0){this.scheduler=Q,this.delay=z}call(Q,z){return z.subscribe(new ue(Q,this.scheduler,this.delay))}}class ue extends i.L{constructor(Q,z,L=0){super(Q),this.scheduler=z,this.delay=L}static dispatch(Q){const{notification:z,destination:L}=Q;z.observe(L),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new ee(Q,this.destination)))}_next(Q){this.scheduleMessage(B.P.createNext(Q))}_error(Q){this.scheduleMessage(B.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(B.P.createComplete()),this.unsubscribe()}}class ee{constructor(Q,z){this.notification=Q,this.destination=z}}},1307:(We,be,F)=>{"use strict";F.d(be,{x:()=>B});var i=F(7393);function B(){return function(ee){return ee.lift(new O(ee))}}class O{constructor(ee){this.connectable=ee}call(ee,de){const{connectable:Q}=this;Q._refCount++;const z=new ce(ee,Q),L=de.subscribe(z);return z.closed||(z.connection=Q.connect()),L}}class ce extends i.L{constructor(ee,de){super(ee),this.connectable=de}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const de=ee._refCount;if(de<=0)return void(this.connection=null);if(ee._refCount=de-1,de>1)return void(this.connection=null);const{connection:Q}=this,z=ee._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(We,be,F)=>{"use strict";F.d(be,{B:()=>de});var i=F(2441);var ce=F(1307),ue=F(9765);function ee(){return new ue.xQ}function de(){return Q=>(0,ce.x)()(function(Q,z){return function(Z){let q;q="function"==typeof Q?Q:function(){return Q};const he=Object.create(Z,i.N);return he.source=Z,he.subjectFactory=q,he}}(ee)(Q))}},2639:(We,be,F)=>{"use strict";F.d(be,{R:()=>De});var i=F(7574);let B=1;const O=Promise.resolve(),ce={};function ue(ie){return ie in ce&&(delete ce[ie],!0)}const ee={setImmediate(ie){const ae=B++;return ce[ae]=!0,O.then(()=>ue(ae)&&ie()),ae},clearImmediate(ie){ue(ie)}};var Q=F(6465),L=F(6102);const he=new class extends L.v{flush(ae){this.active=!0,this.scheduled=void 0;const{actions:Te}=this;let ke,At=-1,Nt=Te.length;ae=ae||Te.shift();do{if(ke=ae.execute(ae.state,ae.delay))break}while(++At<Nt&&(ae=Te.shift()));if(this.active=!1,ke){for(;++At<Nt&&(ae=Te.shift());)ae.unsubscribe();throw ke}}}(class extends Q.o{constructor(ae,Te){super(ae,Te),this.scheduler=ae,this.work=Te}requestAsyncId(ae,Te,ke=0){return null!==ke&&ke>0?super.requestAsyncId(ae,Te,ke):(ae.actions.push(this),ae.scheduled||(ae.scheduled=ee.setImmediate(ae.flush.bind(ae,null))))}recycleAsyncId(ae,Te,ke=0){if(null!==ke&&ke>0||null===ke&&this.delay>0)return super.recycleAsyncId(ae,Te,ke);0===ae.actions.length&&(ee.clearImmediate(Te),ae.scheduled=void 0)}});var Oe=F(6561);class Me extends i.y{constructor(ae,Te=0,ke=he){super(),this.source=ae,this.delayTime=Te,this.scheduler=ke,(!(0,Oe.k)(Te)||Te<0)&&(this.delayTime=0),(!ke||"function"!=typeof ke.schedule)&&(this.scheduler=he)}static create(ae,Te=0,ke=he){return new Me(ae,Te,ke)}static dispatch(ae){const{source:Te,subscriber:ke}=ae;return this.add(Te.subscribe(ke))}_subscribe(ae){return this.scheduler.schedule(Me.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function De(ie,ae=0){return function(ke){return ke.lift(new ge(ie,ae))}}class ge{constructor(ae,Te){this.scheduler=ae,this.delay=Te}call(ae,Te){return new Me(Te,this.delay,this.scheduler).subscribe(ae)}}},8307:(We,be,F)=>{"use strict";F.d(be,{b:()=>ce});var i=F(7393),B=F(8640),O=F(9105);function ce(de,Q,z){return function(Z){return Z.lift(new ue(de,Q,z))}}class ue{constructor(Q,z,L){this.nextOrObserver=Q,this.error=z,this.complete=L}call(Q,z){return z.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends i.L{constructor(Q,z,L,Z){super(Q),this._tapNext=B.Z,this._tapError=B.Z,this._tapComplete=B.Z,this._tapError=L||B.Z,this._tapComplete=Z||B.Z,(0,O.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||B.Z,this._tapError=z.error||B.Z,this._tapComplete=z.complete||B.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(We,be,F)=>{"use strict";F.d(be,{r:()=>O});var i=F(7574),B=F(5319);function O(ce,ue){return new i.y(ee=>{const de=new B.w;let Q=0;return de.add(ue.schedule(function(){Q!==ce.length?(ee.next(ce[Q++]),ee.closed||de.add(this.schedule())):ee.complete()})),de})}},6465:(We,be,F)=>{"use strict";F.d(be,{o:()=>O});var i=F(5319);class B extends i.w{constructor(ue,ee){super()}schedule(ue,ee=0){return this}}class O extends B{constructor(ue,ee){super(ue,ee),this.scheduler=ue,this.work=ee,this.pending=!1}schedule(ue,ee=0){if(this.closed)return this;this.state=ue;const de=this.id,Q=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Q,de,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(ue,ee,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,ee,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return ee;clearInterval(ee)}execute(ue,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,ee);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ee){let Q,de=!1;try{this.work(ue)}catch(z){de=!0,Q=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),Q}_unsubscribe(){const ue=this.id,ee=this.scheduler,de=ee.actions,Q=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&de.splice(Q,1),null!=ue&&(this.id=this.recycleAsyncId(ee,ue,null)),this.delay=null}}},6102:(We,be,F)=>{"use strict";F.d(be,{v:()=>B});let i=(()=>{class O{constructor(ue,ee=O.now){this.SchedulerAction=ue,this.now=ee}schedule(ue,ee=0,de){return new this.SchedulerAction(this,ue).schedule(de,ee)}}return O.now=()=>Date.now(),O})();class B extends i{constructor(ce,ue=i.now){super(ce,()=>B.delegate&&B.delegate!==this?B.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ue=0,ee){return B.delegate&&B.delegate!==this?B.delegate.schedule(ce,ue,ee):super.schedule(ce,ue,ee)}flush(ce){const{actions:ue}=this;if(this.active)return void ue.push(ce);let ee;this.active=!0;do{if(ee=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this.active=!1,ee){for(;ce=ue.shift();)ce.unsubscribe();throw ee}}}},3637:(We,be,F)=>{"use strict";F.d(be,{z:()=>O,P:()=>ce});var i=F(6465);const O=new(F(6102).v)(i.o),ce=O},7771:(We,be,F)=>{"use strict";F.d(be,{c:()=>ee,N:()=>ue});var i=F(6465),O=F(6102);const ue=new class extends O.v{}(class extends i.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(Q,z,L):Q.flush(this)}}),ee=ue},377:(We,be,F)=>{"use strict";F.d(be,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,be,F)=>{"use strict";F.d(be,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,be,F)=>{"use strict";F.d(be,{b:()=>i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,be,F)=>{"use strict";F.d(be,{N:()=>B});const B=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(We,be,F)=>{"use strict";function i(B){setTimeout(()=>{throw B},0)}F.d(be,{z:()=>i})},4487:(We,be,F)=>{"use strict";function i(B){return B}F.d(be,{y:()=>i})},9796:(We,be,F)=>{"use strict";F.d(be,{k:()=>i});const i=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(We,be,F)=>{"use strict";F.d(be,{z:()=>i});const i=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(We,be,F)=>{"use strict";function i(B){return"function"==typeof B}F.d(be,{m:()=>i})},6561:(We,be,F)=>{"use strict";F.d(be,{k:()=>B});var i=F(9796);function B(O){return!(0,i.k)(O)&&O-parseFloat(O)+1>=0}},1555:(We,be,F)=>{"use strict";function i(B){return null!==B&&"object"==typeof B}F.d(be,{K:()=>i})},4072:(We,be,F)=>{"use strict";function i(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}F.d(be,{t:()=>i})},4869:(We,be,F)=>{"use strict";function i(B){return B&&"function"==typeof B.schedule}F.d(be,{K:()=>i})},8640:(We,be,F)=>{"use strict";function i(){}F.d(be,{Z:()=>i})},7444:(We,be,F)=>{"use strict";F.d(be,{s:()=>Z});var i=F(5015),B=F(4449),ce=F(377),ee=F(6554),Q=F(9489),z=F(4072),L=F(1555);const Z=q=>{if(q&&"function"==typeof q[ee.L])return(q=>he=>{const Oe=q[ee.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(he)})(q);if((0,Q.z)(q))return(0,i.V)(q);if((0,z.t)(q))return(q=>he=>(q.then(Oe=>{he.closed||(he.next(Oe),he.complete())},Oe=>he.error(Oe)).then(null,B.z),he))(q);if(q&&"function"==typeof q[ce.hZ])return(q=>he=>{const Oe=q[ce.hZ]();for(;;){let Me;try{Me=Oe.next()}catch(De){return he.error(De),he}if(Me.done){he.complete();break}if(he.next(Me.value),he.closed)break}return"function"==typeof Oe.return&&he.add(()=>{Oe.return&&Oe.return()}),he})(q);{const Oe=`You provided ${(0,L.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(We,be,F)=>{"use strict";F.d(be,{V:()=>i});const i=B=>O=>{for(let ce=0,ue=B.length;ce<ue&&!O.closed;ce++)O.next(B[ce]);O.complete()}},4632:(We,be,F)=>{"use strict";var i=F(7716);let B=null;function O(){return B}const de=new i.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,i.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,i.LFG)(Z)}const L=new i.OlP("Location Initialized");let Z=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){q()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){q()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(de))},n.\u0275prov=(0,i.Yz7)({factory:he,token:n,providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function he(){return new Z((0,i.LFG)(de))}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,i.Yz7)({factory:ie,token:n,providedIn:"root"}),n})();function ie(n){const t=(0,i.LFG)(de).location;return new Te((0,i.LFG)(Q),t&&t.origin||"")}const ae=new i.OlP("appBaseHref");let Te=(()=>{class n extends ge{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+De(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,l){const h=this.prepareExternalUrl(a+De(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,l){const h=this.prepareExternalUrl(a+De(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Q),i.LFG(ae,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Oe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,l){let h=this.prepareExternalUrl(a+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,l){let h=this.prepareExternalUrl(a+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Q),i.LFG(ae,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),At=(()=>{class n{constructor(e,r){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me(yt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+De(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,yt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(ge),i.LFG(Q))},n.normalizeQueryParams=De,n.joinWithSlash=Oe,n.stripTrailingSlash=Me,n.\u0275prov=(0,i.Yz7)({factory:Nt,token:n,providedIn:"root"}),n})();function Nt(){return new At((0,i.LFG)(ge),(0,i.LFG)(Q))}function yt(n){return n.replace(/\/index.html$/,"")}var pt=(()=>((pt=pt||{})[pt.Zero=0]="Zero",pt[pt.One=1]="One",pt[pt.Two=2]="Two",pt[pt.Few=3]="Few",pt[pt.Many=4]="Many",pt[pt.Other=5]="Other",pt))();const Re=i.kL8;class ai{}let _r=(()=>{class n extends ai{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Re(r||this.locale)(e)){case pt.Zero:return"zero";case pt.One:return"one";case pt.Two:return"two";case pt.Few:return"few";case pt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.soG))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ei{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _t=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Ei(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new nu(a,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new nu(a,m);r.push(b)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class nu{constructor(t,e){this.record=t,this.view=e}}let on=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new ec,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ec{constructor(){this.$implicit=null,this.ngIf=null}}function Zo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(t)}'.`)}let Ur=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.s_b))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[{provide:ai,useClass:_r}]}),n})();function ma(n){return"server"===n}let ru=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new Xu((0,i.LFG)(de),window)}),n})();class Xu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class iu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new iu,B||(B=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Er=Er||document.querySelector("base"),Er?Er.getAttribute("href"):null);return null==e?null:function(n){an=an||document.createElement("a"),an.setAttribute("href",n);const t=an.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Er=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let an,Er=null;const uc=new i.OlP("TRANSITION_ID"),Si=[{provide:i.ip1,useFactory:function(n,t,e){return()=>{e.get(i.CZH).donePromise.then(()=>{const r=O(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[uc,de,i.zs3],multi:!0}];class Mn{static init(){(0,i.VLi)(new Mn)}addToWindow(t){i.dqk.getAngularTestability=(r,a=!0)=>{const l=t.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const a=i.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};a.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=new i.OlP("EventManagerPlugins");let Ee=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(gs),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class xt{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=O().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let au=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends au{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(uu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uu))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(de))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function uu(n){O().remove(n)}const Gi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wr=/%COMP%/g;function ar(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?ar(n,a,e):(a=a.replace(Wr,n),e.push(a))}return e}function Yr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ms=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new cu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case i.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=ar(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ee),i.LFG(Cn),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ir{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Gi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const l=Gi[a];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=Gi[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,r,a&i.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yr(r)):this.eventManager.addEventListener(t,e,Yr(r))}}class cu extends Ir{constructor(t,e,r,a){super(t),this.component=r;const l=ar(a+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Wr,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Wr,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends Ir{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ar(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jo=(()=>{class n extends xt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(de))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=["alt","control","meta","shift"],fu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends xt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(qo.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(e){let r="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ar.hasOwnProperty(t)&&(t=Ar[t]))}return fu[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),qo.forEach(l=>{l!=a&&gc[l](e)&&(r+=l+".")}),r+=a,r}static eventCallback(e,r,a){return l=>{n.getEventFullKey(l)===e&&a.runGuarded(()=>r(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(de))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const zo=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){iu.makeCurrent(),Mn.init()},multi:!0},{provide:de,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),vc=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:gs,useClass:jo,multi:!0,deps:[de,i.R0b,i.Lbi]},{provide:gs,useClass:ul,multi:!0,deps:[de]},[],{provide:ms,useClass:ms,deps:[Ee,Cn,i.AFp]},{provide:i.FYo,useExisting:ms},{provide:au,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[de]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:Ee,useClass:Ee,deps:[gs,i.R0b]},{provide:class{},useClass:lc,deps:[]},[]];let fp=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:i.AFp,useValue:e.appId},{provide:uc,useExisting:i.AFp},Si]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(n,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:vc,imports:[yr,i.hGG]}),n})();"undefined"!=typeof window&&window;var gn=F(4402),Ge=F(5917),un=F(9765),ch=F(7971);class xn extends un.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ch.N;return this._value}next(t){super.next(this._value=t)}}var mu=F(4869),vs=F(9796),Kn=F(7393);class _u extends Kn.L{notifyNext(t,e,r,a,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class dl extends Kn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var hl=F(7444),kt=F(7574);function Tc(n,t,e,r,a=new dl(n,e,r)){if(!a.closed)return t instanceof kt.y?t.subscribe(a):(0,hl.s)(t)(a)}var Do=F(6693);const Dc={};class dh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new yu(t,this.resultSelector))}}class yu extends _u{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Dc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Tc(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const a=this.values,h=this.toRespond?a[r]===Dc?--this.toRespond:this.toRespond:0;a[r]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Wi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Mi=F(3282);function Yi(...n){return(0,Mi.J)(1)((0,Ge.of)(...n))}var Kr=F(9193);function Eo(n){return new kt.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,gn.D)(e):(0,Kr.c)()).subscribe(t)})}var fl=F(2441),at=F(8002),li=F(5345);function ir(n,t){return"function"==typeof t?e=>e.pipe(ir((r,a)=>(0,gn.D)(n(r,a)).pipe((0,at.U)((l,h)=>t(r,l,a,h))))):e=>e.lift(new hh(n))}class hh{constructor(t){this.project=t}call(t,e){return e.subscribe(new On(t,this.project))}}class On extends li.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new li.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,li.ft)(t,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const pl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ci(n){return t=>0===n?(0,Kr.c)():t.lift(new _p(n))}class _p{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new Im(t,this.total))}}class Im extends Kn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Ia(...n){const t=n[n.length-1];return(0,mu.K)(t)?(n.pop(),e=>Yi(n,e,t)):e=>Yi(n,e)}function vu(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new fh(n,t,e))}}class fh{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Am(t,this.accumulator,this.seed,this.hasSeed))}}class Am extends Kn.L{constructor(t,e,r,a){super(t),this.accumulator=e,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Pn(n,t){return function(r){return r.lift(new Ic(n,t))}}class Ic{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Aa(t,this.predicate,this.thisArg))}}class Aa extends Kn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function Io(n){return function(e){const r=new Fn(n),a=e.lift(r);return r.caught=a}}class Fn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Sa(t,this.selector,this.caught))}}class Sa extends li.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new li.IY(this);this.add(r);const a=(0,li.ft)(e,r);a!==r&&this.add(a)}}}var Zn=F(9773);function Ac(n,t){return(0,Zn.zg)(n,t,1)}function gl(n){return function(e){return 0===n?(0,Kr.c)():e.lift(new Ki(n))}}class Ki{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new bs(t,this.total))}}class bs extends Kn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,a=this.count++;e.length<r?e.push(t):e[a%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<r;l++){const h=e++%r;t.next(a[h])}}t.complete()}}function bu(n=Sc){return t=>t.lift(new xi(n))}class xi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new qs(t,this.errorFactory))}}class qs extends Kn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Sc(){return new Wi}function ph(n=null){return t=>t.lift(new Wo(n))}class Wo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Sm(t,this.defaultValue))}}class Sm extends Kn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var $s=F(4487);function Jn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((a,l)=>n(a,l,r)):$s.y,ci(1),e?ph(t):bu(()=>new Wi))}var Qn=F(8307),Ao=F(1307),yp=F(5319);class D{constructor(t){this.callback=t}call(t,e){return e.subscribe(new I(t,this.callback))}}class I extends Kn.L{constructor(t,e){super(t),this.add(new yp.w(e))}}class x{constructor(t,e){this.id=t,this.url=e}}class U extends x{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ne extends x{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fe extends x{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends x{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qe extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends x{constructor(t,e,r,a,l){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ur{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Na{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ma{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class v0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Tn(n){return new v0(n)}const vp="ngNavigationCancelingError";function Nm(n){const t=Error("NavigationCancelingError: "+n);return t[vp]=!0,t}function Cu(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function zs(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!mh(n[a],t[a]))return!1;return!0}function mh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,l)=>r[l]===a)}return n===t}function Mm(n){return Array.prototype.concat.apply([],n)}function Tu(n){return n.length>0?n[n.length-1]:null}function Xn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Zr(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,gn.D)(Promise.resolve(n)):(0,Ge.of)(n)}const _h={exact:function xm(n,t,e){if(!Oa(n.segments,t.segments)||!xc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!xm(n.children[r],t.children[r],e))return!1;return!0},subset:Ko},yh={exact:function(n,t){return zs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>mh(n[e],t[e]))},ignored:()=>!0};function Mc(n,t,e){return _h[e.paths](n.root,t.root,e.matrixParams)&&yh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ko(n,t,e){return ka(n,t,t.segments,e)}function ka(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Oa(a,e)||t.hasChildren()||!xc(a,e,r))}if(n.segments.length===e.length){if(!Oa(n.segments,e)||!xc(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Ko(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Oa(n.segments,a)&&xc(n.segments,a,r)&&n.children[gt])&&ka(n.children[gt],t,l,r)}}function xc(n,t,e){return t.every((r,a)=>yh[e](n[a].parameters,r.parameters))}class Ra{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return Cp.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xn(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jo(this)}}class ml{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return Dp(this)}}function Oa(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class bh{}class Du{parse(t){const e=new km(t);return new Ra(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${kc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Tp(e)}=${Tp(a)}`).join("&"):`${Tp(e)}=${Tp(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Cp=new Du;function Jo(n){return n.segments.map(t=>Dp(t)).join("/")}function kc(n,t){if(!n.hasChildren())return Jo(n);if(t){const e=n.children[gt]?kc(n.children[gt],!1):"",r=[];return Xn(n.children,(a,l)=>{l!==gt&&r.push(`${l}:${kc(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Xn(n.children,(r,a)=>{a===gt&&(e=e.concat(t(r,a)))}),Xn(n.children,(r,a)=>{a!==gt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===gt?[kc(n.children[gt],!1)]:[`${a}:${kc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${Jo(n)}/${e[0]}`:`${Jo(n)}/(${e.join("//")})`}}function wh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tp(n){return wh(n).replace(/%3B/gi,";")}function _l(n){return wh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function yl(n){return Rc(n.replace(/\+/g,"%20"))}function Dp(n){return`${_l(n.path)}${function(n){return Object.keys(n).map(t=>`;${_l(t)}=${_l(n[t])}`).join("")}(n.parameters)}`}const D0=/^[^\/()?;=#]+/;function Th(n){const t=n.match(D0);return t?t[0]:""}const E0=/^[^=?&#]+/,Qo=/^[^?&#]+/;class km{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[gt]=new Bt(t,e)),r}parseSegment(){const t=Th(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ml(Rc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Th(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=Th(this.remaining);a&&(r=a,this.capture(r))}t[Rc(e)]=Rc(r)}parseQueryParam(t){const e=function(n){const t=n.match(E0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Qo);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=yl(e),l=yl(r);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(l)}else t[a]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Th(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=gt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[gt]:new Bt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Rm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ep(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ep(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ip(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Ip(t,this._root).map(e=>e.value)}}function Ep(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ep(n,e);if(r)return r}return null}function Ip(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Ip(n,e);if(r.length)return r.unshift(t),r}return[]}class Xo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ap extends Rm{constructor(t,e){super(t),this.snapshot=e,Oc(this,t)}toString(){return this.snapshot.toString()}}function Om(n,t){const e=function(n,t){const h=new wl([],{},{},"",{},gt,t,null,n.root,-1,{});return new Cl("",new Xo(h,[]))}(n,t),r=new xn([new ml("",{})]),a=new xn({}),l=new xn({}),h=new xn({}),m=new xn(""),b=new bl(r,a,h,m,l,gt,t,e.root);return b.snapshot=e.root,new Ap(new Xo(b,[]),e)}class bl{constructor(t,e,r,a,l,h,m,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(t=>Tn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(t=>Tn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dh(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],l=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class wl{constructor(t,e,r,a,l,h,m,b,T,N,M){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=T,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cl extends Rm{constructor(t,e){super(e),this.url=t,Oc(this,e)}toString(){return Ws(this._root)}}function Oc(n,t){t.value._routerState=n,t.children.forEach(e=>Oc(n,e))}function Ws(n){const t=n.children.length>0?` { ${n.children.map(Ws).join(", ")} } `:"";return`${n.value}${t}`}function ea(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),zs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),zs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Eh(n,t){return zs(n.params,t.params)&&function(n,t){return Oa(n,t)&&n.every((e,r)=>zs(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Eh(n.parent,t.parent))}function Tl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Tl(n,r,a);return Tl(n,r)})}(n,t,e);return new Xo(r,a)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return S0(t,h),h}}const r=function(n){return new bl(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(l=>Tl(n,l));return new Xo(r,a)}}function S0(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)S0(n.children[e],t.children[e])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,t,e,r,a){let l={};return r&&Xn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Ra(e.root===n?t:C(e.root,n,t),l,a)}function C(n,t,e){const r={};return Xn(n.children,(a,l)=>{r[l]=a===t?e:C(a,t,e)}),new Bt(n.segments,r)}class S{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(p);if(a&&a!==Tu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function st(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return $t(n,t,e);const r=function(n,t,e){let r=0,a=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return l;const h=n.segments[a],m=e[r];if(p(m))break;const b=`${m}`,T=r<e.length-1?e[r+1]:null;if(a>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!Ih(b,T,h))return l;r+=2}else{if(!Ih(b,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Bt(n.segments.slice(0,r.pathIndex),{});return l.children[gt]=new Bt(n.segments.slice(r.pathIndex),n.children),$t(l,0,a)}return r.match&&0===a.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Br(n,t,e):r.match?$t(n,0,a):Br(n,t,e)}function $t(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[gt]:n}}(e),a={};return Xn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=st(n.children[h],t,l))}),Xn(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new Bt(n.segments,a)}}function Br(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const l=e[a];if(p(l)){const b=bn(l.outlets);return new Bt(r,b)}if(0===a&&v(e[0])){r.push(new ml(n.segments[t].path,Pc(e[0]))),a++;continue}const h=p(l)?l.outlets[gt]:`${l}`,m=a<e.length-1?e[a+1]:null;h&&m&&v(m)?(r.push(new ml(h,Pc(m))),a+=2):(r.push(new ml(h,{})),a++)}return new Bt(r,{})}function bn(n){const t={};return Xn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Br(new Bt([],{}),0,e))}),t}function Pc(n){const t={};return Xn(n,(e,r)=>t[r]=`${e}`),t}function Ih(n,t,e){return n==e.path&&zs(t,e.parameters)}class Mp{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),ea(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=vl(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Xn(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const a=t.value,l=e?e.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,l=vl(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=vl(e);t.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Gs(l.value.snapshot))}),t.children.length&&this.forwardEvent(new wu(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,l=e?e.value:null;if(ea(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Sh(m.route)}else{const m=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=b,h.outlet&&h.outlet.activateWith(a,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}function Sh(n){ea(n.value),n.children.forEach(Sh)}class Nh{constructor(t,e){this.routes=t,this.module=e}}function So(n){return"function"==typeof n}function Dl(n){return n instanceof Ra}const Mh=Symbol("INITIAL_VALUE");function xh(){return ir(n=>function(...n){let t,e;return(0,mu.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,vs.k)(n[0])&&(n=n[0]),(0,Do.n)(n,e).lift(new dh(t))}(n.map(t=>t.pipe(ci(1),Ia(Mh)))).pipe(vu((t,e)=>{let r=!1;return e.reduce((a,l,h)=>a!==Mh?a:(l===Mh&&(r=!0),r||!1!==l&&h!==e.length-1&&!Dl(l)?a:l),t)},Mh),Pn(t=>t!==Mh),(0,at.U)(t=>Dl(t)?t:!0===t),ci(1)))}let fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[Fh]},encapsulation:2}),n})();function kh(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];M0(r,FI(t,r))}}function M0(n,t){n.children&&kh(n.children,t)}function FI(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function x0(n){const t=n.children&&n.children.map(x0),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=fi),e}function Ys(n){return n.outlet||gt}function Nw(n,t){const e=n.filter(r=>Ys(r)===t);return e.push(...n.filter(r=>Ys(r)!==t)),e}const k0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vm(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},k0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Cu)(e,n,t);if(!l)return Object.assign({},k0);const h={};Xn(l.posParams,(b,T)=>{h[T]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function xp(n,t,e,r,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Rh(n,t,r)&&Ys(r)!==gt)}(n,e,r)){const h=new Bt(t,function(n,t,e,r){const a={};a[gt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ys(l)!==gt){const h=new Bt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,a[Ys(l)]=h}return a}(n,t,r,new Bt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Rh(n,t,r))}(n,e,r)){const h=new Bt(n.segments,function(n,t,e,r,a,l){const h={};for(const m of r)if(Rh(n,e,m)&&!a[Ys(m)]){const b=new Bt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Ys(m)]=b}return Object.assign(Object.assign({},a),h)}(n,t,e,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new Bt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Rh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function R0(n,t,e,r){return!!(Ys(n)===r||r!==gt&&Rh(t,e,n))&&("**"===n.path||Vm(t,n,e).matched)}function xw(n,t,e){return 0===t.length&&!n.children[e]}class Um{constructor(t){this.segmentGroup=t||null}}class O0{constructor(t){this.urlTree=t}}function Lc(n){return new kt.y(t=>t.error(new Um(n)))}function kw(n){return new kt.y(t=>t.error(new O0(n)))}function ZI(n){return new kt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class jI{constructor(t,e,r,a,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=xp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,gt).pipe((0,at.U)(l=>this.createUrlTree(P0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Io(l=>{if(l instanceof O0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Um?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,gt).pipe((0,at.U)(a=>this.createUrlTree(P0(a),t.queryParams,t.fragment))).pipe(Io(a=>{throw a instanceof Um?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Bt([],{[gt]:t}):t;return new Ra(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,at.U)(l=>new Bt([],l))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,gn.D)(a).pipe(Ac(l=>{const h=r.children[l],m=Nw(e,l);return this.expandSegmentGroup(t,m,h,l).pipe((0,at.U)(b=>({segment:b,outlet:l})))}),vu((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((a,l)=>n(a,l,r)):$s.y,gl(1),e?ph(t):bu(()=>new Wi))}())}expandSegment(t,e,r,a,l,h){return(0,gn.D)(r).pipe(Ac(m=>this.expandSegmentAgainstRoute(t,e,r,m,a,l,h).pipe(Io(T=>{if(T instanceof Um)return(0,Ge.of)(null);throw T}))),Jn(m=>!!m),Io((m,b)=>{if(m instanceof Wi||"EmptyError"===m.name){if(xw(e,a,l))return(0,Ge.of)(new Bt([],{}));throw new Um(e)}throw m}))}expandSegmentAgainstRoute(t,e,r,a,l,h,m){return R0(a,e,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h):Lc(e):Lc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kw(l):this.lineralizeSegments(r,l).pipe((0,Zn.zg)(h=>{const m=new Bt(h,{});return this.expandSegment(t,m,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h){const{matched:m,consumedSegments:b,lastChild:T,positionalParamSegments:N}=Vm(e,a,l);if(!m)return Lc(e);const M=this.applyRedirectCommands(b,a.redirectTo,N);return a.redirectTo.startsWith("/")?kw(M):this.lineralizeSegments(a,M).pipe((0,Zn.zg)(V=>this.expandSegment(t,e,r,V.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(t,e,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,at.U)(V=>(r._loadedConfig=V,new Bt(a,{})))):(0,Ge.of)(new Bt(a,{}));const{matched:h,consumedSegments:m,lastChild:b}=Vm(e,r,a);if(!h)return Lc(e);const T=a.slice(b);return this.getChildConfig(t,r,a).pipe((0,Zn.zg)(M=>{const V=M.module,H=M.routes,{segmentGroup:se,slicedSegments:ye}=xp(e,m,T,H),Se=new Bt(se.segments,se.children);if(0===ye.length&&Se.hasChildren())return this.expandChildren(V,H,Se).pipe((0,at.U)(ot=>new Bt(m,ot)));if(0===H.length&&0===ye.length)return(0,Ge.of)(new Bt(m,{}));const rt=Ys(r)===l;return this.expandSegment(V,Se,H,ye,rt?gt:l,!0).pipe((0,at.U)(St=>new Bt(m.concat(St.segments),St.children)))}))}getChildConfig(t,e,r){return e.children?(0,Ge.of)(new Nh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ge.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Zn.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,at.U)(l=>(e._loadedConfig=l,l))):(n=e,new kt.y(t=>t.error(Nm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ge.of)(new Nh([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,Ge.of)(!0);const l=a.map(h=>{const m=t.get(h);let b;if((n=m)&&So(n.canLoad))b=m.canLoad(e,r);else{if(!So(m))throw new Error("Invalid CanLoad guard");b=m(e,r)}var n;return Zr(b)});return(0,Ge.of)(l).pipe(xh(),(0,Qn.b)(h=>{if(!Dl(h))return;const m=Nm(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,at.U)(h=>!0===h))}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Ge.of)(r);if(a.numberOfChildren>1||!a.children[gt])return ZI(t.redirectTo);a=a.children[gt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const l=this.createSegmentGroup(t,e.root,r,a);return new Ra(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Xn(t,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);r[l]=e[m]}else r[l]=a}),r}createSegmentGroup(t,e,r,a){const l=this.createSegments(t,e.segments,r,a);let h={};return Xn(e.children,(m,b)=>{h[b]=this.createSegmentGroup(t,m,r,a)}),new Bt(l,h)}createSegments(t,e,r,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,a):this.findOrReturn(l,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function P0(n){const t={};for(const r of Object.keys(n.children)){const l=P0(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[gt]){const t=n.children[gt];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}class kp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qi{constructor(t,e){this.component=t,this.route=e}}function Rw(n,t,e){const r=n._root;return Bm(r,t?t._root:null,e,[r.value])}function Zm(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Bm(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=vl(t);return n.children.forEach(h=>{(function(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Oa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Oa(n.url,t.url)||!zs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eh(n,t)||!zs(n.queryParams,t.queryParams);case"paramsChange":default:return!Eh(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new kp(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Bm(n,t,l.component?m?m.children:null:e,r,a),b&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Qi(m.outlet.component,h))}else h&&Rp(t,m,a),a.canActivateChecks.push(new kp(r)),Bm(n,null,l.component?m?m.children:null:e,r,a)})(h,l[h.value.outlet],e,r.concat([h.value]),a),delete l[h.value.outlet]}),Xn(l,(h,m)=>Rp(h,e.getContext(m),a)),a}function Rp(n,t,e){const r=vl(n),a=n.value;Xn(r,(l,h)=>{Rp(l,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Qi(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class F0{}function jm(n){return new kt.y(t=>t.error(n))}class Lw{constructor(t,e,r,a,l,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=xp(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,gt);if(null===e)return null;const r=new wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Xo(r,e),l=new Cl(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=Dh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const h=e.children[l],m=Nw(t,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const a=Hm(r);return a.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,r,a){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,r,a);if(null!==h)return h}return xw(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!R0(t,e,r,a))return null;let l,h=[],m=[];if("**"===t.path){const H=r.length>0?Tu(r).parameters:{};l=new wl(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(t),Ys(t),t.component,t,L0(e),YI(e)+r.length,qm(t))}else{const H=Vm(e,t,r);if(!H.matched)return null;h=H.consumedSegments,m=r.slice(H.lastChild),l=new wl(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(t),Ys(t),t.component,t,L0(e),YI(e)+h.length,qm(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=xp(e,h,m,b.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const H=this.processChildren(b,T);return null===H?null:[new Xo(l,H)]}if(0===b.length&&0===N.length)return[new Xo(l,[])];const M=Ys(t)===a,V=this.processSegment(b,T,N,M?gt:a);return null===V?null:[new Xo(l,V)]}}function Uw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Hm(n){const t=[],e=new Set;for(const r of n){if(!Uw(r)){t.push(r);continue}const a=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Hm(r.children);t.push(new Xo(r.value,a))}return t.filter(r=>!e.has(r))}function L0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function YI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Vc(n){return n.data||{}}function qm(n){return n.resolve||{}}function U0(n){return ir(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,at.U)(()=>t)):(0,Ge.of)(t)})}class tA extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $m=new i.OlP("ROUTES");class Gm{constructor(t,e,r,a){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,at.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Nh(Mm(h.injector.get($m,void 0,i.XFs.Self|i.XFs.Optional)).map(x0),h)}),Io(l=>{throw e._loader$=void 0,l}));return e._loader$=new fl.c(a,()=>new un.xQ).pipe((0,Ao.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,gn.D)(this.loader.load(t)):Zr(t()).pipe((0,Zn.zg)(e=>e instanceof i.YKP?(0,Ge.of)(e):(0,gn.D)(this.compiler.compileModuleAsync(e))))}}class jw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new El,this.attachRef=null}}class El{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new jw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class rA{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hw(n){throw n}function qw(n,t,e){return t.parse("/")}function Il(n,t){return(0,Ge.of)(null)}const $w={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class n{constructor(e,r,a,l,h,m,b,T){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.xQ,this.errorHandler=Hw,this.malformedUriErrorHandler=qw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Il,afterPreactivation:Il},this.urlHandlingStrategy=new rA,this.routeReuseStrategy=new tA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(i.h0i),this.console=h.get(i.c2e);const V=h.get(i.R0b);this.isNgZoneEnabled=V instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Ra(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gm(m,b,H=>this.triggerEvent(new di(H)),H=>this.triggerEvent(new ur(H))),this.routerState=Om(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Pn(a=>0!==a.id),(0,at.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),ir(a=>{let l=!1,h=!1;return(0,Ge.of)(a).pipe((0,Qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(m=>{const b=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Wm(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ge.of)(m).pipe(ir(M=>{const V=this.transitions.getValue();return r.next(new U(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Kr.E:Promise.resolve(M)}),function(n,t,e,r){return ir(a=>function(n,t,e,r,a){return new jI(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,at.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,t,e,r,a){return(0,Zn.zg)(l=>function(n,t,e,r,a="emptyOnly",l="legacy"){try{const h=new Lw(n,t,e,r,a,l).recognize();return null===h?jm(new F0):(0,Ge.of)(h)}catch(h){return jm(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,a).pipe((0,at.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new qe(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:se,restoredState:ye,extras:Se}=m,rt=new U(V,this.serializeUrl(H),se,ye);r.next(rt);const Je=Om(H,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},m),{targetSnapshot:Je,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Kr.E}),U0(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:H}}=m;return this.hooks.beforePreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!H})}),(0,Qn.b)(m=>{const b=new ze(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,at.U)(m=>Object.assign(Object.assign({},m),{guards:Rw(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Zn.zg)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,Ge.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,gn.D)(n).pipe((0,Zn.zg)(a=>function(n,t,e,r,a){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ge.of)(!0);const h=l.map(m=>{const b=Zm(m,t,a);let T;if(function(n){return n&&So(n.canDeactivate)}(b))T=Zr(b.canDeactivate(n,t,e,r));else{if(!So(b))throw new Error("Invalid CanDeactivate guard");T=Zr(b(n,t,e,r))}return T.pipe(Jn())});return(0,Ge.of)(h).pipe(xh())}(a.component,a.route,e,t,r)),Jn(a=>!0!==a,!0))}(h,r,a,n).pipe((0,Zn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,t,e,r){return(0,gn.D)(t).pipe(Ac(a=>Yi(function(n,t){return null!==n&&t&&t(new Na(n)),(0,Ge.of)(!0)}(a.route.parent,r),function(n,t){return null!==n&&t&&t(new Ma(n)),(0,Ge.of)(!0)}(a.route,r),function(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Eo(()=>{const m=h.guards.map(b=>{const T=Zm(b,h.node,e);let N;if(function(n){return n&&So(n.canActivateChild)}(T))N=Zr(T.canActivateChild(r,n));else{if(!So(T))throw new Error("Invalid CanActivateChild guard");N=Zr(T(r,n))}return N.pipe(Jn())});return(0,Ge.of)(m).pipe(xh())}));return(0,Ge.of)(l).pipe(xh())}(n,a.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ge.of)(!0);const a=r.map(l=>Eo(()=>{const h=Zm(l,t,e);let m;if(function(n){return n&&So(n.canActivate)}(h))m=Zr(h.canActivate(t,n));else{if(!So(h))throw new Error("Invalid CanActivate guard");m=Zr(h(t,n))}return m.pipe(Jn())}));return(0,Ge.of)(a).pipe(xh())}(n,a.route,e))),Jn(a=>!0!==a,!0))}(r,l,n,t):(0,Ge.of)(m)),(0,at.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Qn.b)(m=>{if(Dl(m.guardsResult)){const T=Nm(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const b=new Vt(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),U0(m=>{if(m.guards.canActivateChecks.length)return(0,Ge.of)(m).pipe((0,Qn.b)(b=>{const T=new nn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),ir(b=>{let T=!1;return(0,Ge.of)(b).pipe(function(n,t){return(0,Zn.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ge.of)(e);let l=0;return(0,gn.D)(a).pipe(Ac(h=>function(n,t,e,r){return function(n,t,e,r){const a=Object.keys(n);if(0===a.length)return(0,Ge.of)({});const l={};return(0,gn.D)(a).pipe((0,Zn.zg)(h=>function(n,t,e,r){const a=Zm(n,t,r);return Zr(a.resolve?a.resolve(t,e):a(t,e))}(n[h],t,e,r).pipe((0,Qn.b)(m=>{l[h]=m}))),gl(1),(0,Zn.zg)(()=>Object.keys(l).length===a.length?(0,Ge.of)(l):Kr.E))}(n._resolve,n,t,r).pipe((0,at.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Dh(n,e).resolve),null)))}(h.route,r,n,t)),(0,Qn.b)(()=>l++),gl(1),(0,Zn.zg)(h=>l===a.length?(0,Ge.of)(e):Kr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Qn.b)(b=>{const T=new sr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}))}),U0(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:H}}=m;return this.hooks.afterPreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!H})}),(0,at.U)(m=>{const b=function(n,t,e){const r=Tl(n,t._root,e?e._root:void 0);return new Ap(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Qn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,at.U)(r=>(new Mp(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Qn.b)({next(){l=!0},complete(){l=!0}}),function(n){return t=>t.lift(new D(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),Io(m=>{if(h=!0,function(n){return n&&n[vp]}(m)){const b=Dl(m.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const T=new fe(a.id,this.serializeUrl(a.extractedUrl),m.message);r.next(T),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wm(a.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Ae(a.id,this.serializeUrl(a.extractedUrl),m);r.next(b);try{a.resolve(this.errorHandler(m))}catch(T){a.reject(T)}}return Kr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const a=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!a||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){kh(e),this.config=e.map(x0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,T=a||this.routerState.root,N=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,t,e,r,a){if(0===e.length)return _(t.root,t.root,t,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let t=0,e=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Xn(l.outlets,(b,T)=>{m[T]="string"==typeof b?b.split("/"):b}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new S(e,t,r)}(e);if(l.toRoot())return _(t.root,new Bt([],{}),t,r,a);const h=function(n,t,e){if(n.isAbsolute)return new X(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new X(l,l===t.root,0)}const r=v(n.commands[0])?0:1;return function(n,t,e){let r=n,a=t,l=e;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new X(r,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),m=h.processChildren?$t(h.segmentGroup,h.index,l.commands):st(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,m,t,r,a)}(T,this.currentUrlTree,e,M,null!=N?N:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Dl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},$w):!1===r?Object.assign({},Gw):r,Dl(e))return Mc(this.currentUrlTree,e,a);const l=this.parseUrl(e);return Mc(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const l=e[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ne(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=Wm(r)&&T&&!Wm(T.source),H=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(N&&H)return Promise.resolve(!0);let se,ye,Se;h?(se=h.resolve,ye=h.reject,Se=h.promise):Se=new Promise((St,ot)=>{se=St,ye=ot});const rt=++this.navigationId;let Je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Je=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Je=0,this.setTransition({id:rt,targetPageId:Je,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:se,reject:ye,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(St=>Promise.reject(St))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new fe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.DyG),i.LFG(bh),i.LFG(El),i.LFG(At),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Wm(n){return"imperative"!==n}let Fh=(()=>{class n{constructor(e,r,a,l,h){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=l||gt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Jm(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(El),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Jm{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===bl?this.route:t===El?this.childContexts:this.parent.get(t,e)}}class B0{}class H0{preload(t,e){return(0,Ge.of)(null)}}let Qm=(()=>{class n{constructor(e,r,a,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new Gm(r,a,T=>e.triggerEvent(new di(T)),T=>e.triggerEvent(new ur(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(e=>e instanceof ne),Ac(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,gn.D)(a).pipe((0,Mi.J)(),(0,at.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ge.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Zn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(or),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(B0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Zc=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ne&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hi&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new hi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(or),i.LFG(ru),i.LFG(void 0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=new i.OlP("ROUTER_CONFIGURATION"),Ww=new i.OlP("ROUTER_FORROOT_GUARD"),Yw=[At,{provide:bh,useClass:Du},{provide:or,useFactory:function(n,t,e,r,a,l,h,m={},b,T){const N=new or(null,n,t,e,r,a,l,Mm(h));return b&&(N.urlHandlingStrategy=b),T&&(N.routeReuseStrategy=T),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(m,N),m.enableTracing&&N.events.subscribe(M=>{var V,H;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(H=console.groupEnd)||void 0===H||H.call(console)}),N},deps:[bh,El,At,i.zs3,i.v3s,i.Sil,$m,Al,[class{},new i.FiY],[class{},new i.FiY]]},El,{provide:bl,useFactory:function(n){return n.routerState.root},deps:[or]},{provide:i.v3s,useClass:i.EAV},Qm,H0,class{preload(t,e){return e().pipe(Io(()=>(0,Ge.of)(null)))}},{provide:Al,useValue:{enableTracing:!1}}];function q0(){return new i.PXZ("Router",or)}let $0=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[Yw,G0(e),{provide:Ww,useFactory:sA,deps:[[or,new i.FiY,new i.tp0]]},{provide:Al,useValue:r||{}},{provide:ge,useFactory:Kw,deps:[Q,[new i.tBr(ae),new i.FiY],Al]},{provide:Zc,useFactory:mx,deps:[or,ru,Al]},{provide:B0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:H0},{provide:i.PXZ,multi:!0,useFactory:q0},[z0,{provide:i.ip1,multi:!0,useFactory:Jw,deps:[z0]},{provide:Qw,useFactory:uA,deps:[z0]},{provide:i.tb,multi:!0,useExisting:Qw}]]}}static forChild(e){return{ngModule:n,providers:[G0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ww,8),i.LFG(or,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function mx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Zc(n,t,e)}function Kw(n,t,e={}){return e.useHash?new ke(n,t):new Te(n,t)}function sA(n){return"guarded"}function G0(n){return[{provide:i.deG,multi:!0,useValue:n},{provide:$m,multi:!0,useValue:n}]}let z0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(m=>r=m),l=this.injector.get(or),h=this.injector.get(Al);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Al),a=this.injector.get(Qm),l=this.injector.get(Zc),h=this.injector.get(or),m=this.injector.get(i.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.zs3))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Jw(n){return n.appInitializer.bind(n)}function uA(n){return n.bootstrapListener.bind(n)}const Qw=new i.OlP("Router Initializer");var re=F(8239),Xm=F(7841),e_=F(3637),er=F(9396);function wt(){return n=>n.lift(new Xw)}class Xw{call(t,e){return e.subscribe(new eC(t))}}class eC extends Kn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class na{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tC(t,this.compare,this.keySelector))}}class tC extends Kn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}var He,Xi=F(8939),Va=(F(4828),F(3394)),Ks=F(8026),jc=F(3910),Ua=F(5422),Dt=F(3854),rC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sl={},Lh=Lh||{},vt=rC||self;function Vh(){}function iC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Pp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var oC="closure_uid_"+(1e9*Math.random()>>>0),cA=0;function yx(n,t,e){return n.call.apply(n.bind,arguments)}function aC(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(t,a)}}return function(){return n.apply(t,arguments)}}function Jr(n,t,e){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yx:aC).apply(null,arguments)}function t_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[a].apply(r,h)}}function Hc(){this.s=this.s,this.o=this.o}var bx={};Hc.prototype.s=!1,Hc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,oC)&&n[oC]||(n[oC]=++cA)}(this);delete bx[n]}},Hc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},hA=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&t.call(e,a[l],l,n)};function fA(n){return Array.prototype.concat.apply([],arguments)}function uC(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function W0(n){return/^[\s\xa0]*$/.test(n)}var pi,pA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ws(n,t){return-1!=n.indexOf(t)}function Za(n,t){return n<t?-1:n>t?1:0}e:{var lC=vt.navigator;if(lC){var Y0=lC.userAgent;if(Y0){pi=Y0;break e}}pi=""}function Fp(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function K0(n){const t={};for(const e in n)t[e]=n[e];return t}var n_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cC(n,t){let e,r;for(let a=1;a<arguments.length;a++){for(e in r=arguments[a],r)n[e]=r[e];for(let l=0;l<n_.length;l++)e=n_[l],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Ba(n){return Ba[" "](n),n}Ba[" "]=Vh;var Nl,n,gA=ws(pi,"Opera"),Lp=ws(pi,"Trident")||ws(pi,"MSIE"),r_=ws(pi,"Edge"),J0=r_||Lp,Q0=ws(pi,"Gecko")&&!(ws(pi.toLowerCase(),"webkit")&&!ws(pi,"Edge"))&&!(ws(pi,"Trident")||ws(pi,"MSIE"))&&!ws(pi,"Edge"),mA=ws(pi.toLowerCase(),"webkit")&&!ws(pi,"Edge");function hC(){var n=vt.document;return n?n.documentMode:void 0}e:{var Ml="",Vp=(n=pi,Q0?/rv:([^\);]+)(\)|;)/.exec(n):r_?/Edge\/([\d\.]+)/.exec(n):Lp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):mA?/WebKit\/(\S+)/.exec(n):gA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vp&&(Ml=Vp?Vp[1]:""),Lp){var xl=hC();if(null!=xl&&xl>parseFloat(Ml)){Nl=String(xl);break e}}Nl=Ml}var Up={};function Uh(){return t=Up,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=pA(String(Nl)).split("."),e=pA("9").split("."),r=Math.max(t.length,e.length);for(let h=0;0==n&&h<r;h++){var a=t[h]||"",l=e[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Za(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Za(0==a[2].length,0==l[2].length)||Za(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var t}var fC=vt.document&&Lp&&(hC()||parseInt(Nl,10))||void 0,tv=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",Vh,t),vt.removeEventListener("test",Vh,t)}catch(e){}return n}();function Qr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Zh(n,t){if(Qr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Q0){e:{try{Ba(t.nodeName);var a=!0;break e}catch(l){}a=!1}a||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:i_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zh.Z.h.call(this)}}Qr.prototype.h=function(){this.defaultPrevented=!0},jr(Zh,Qr);var i_={2:"touch",3:"pen",4:"mouse"};Zh.prototype.h=function(){Zh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zp="closure_listenable_"+(1e6*Math.random()|0),pC=0;function Cx(n,t,e,r,a){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=a,this.key=++pC,this.ca=this.fa=!1}function Bp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function jp(n){this.src=n,this.g={},this.h=0}function nv(n,t){var e=t.type;if(e in n.g){var l,r=n.g[e],a=dA(r,t);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Bp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function s_(n,t,e,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==r)return a}return-1}jp.prototype.add=function(n,t,e,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=s_(n,t,r,a);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new Cx(t,this.src,l,!!r,a)).fa=e,n.push(t)),t};var rv="closure_lm_"+(1e6*Math.random()|0),iv={};function Cs(n,t,e,r,a){if(r&&r.once)return yA(n,t,e,r,a);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Cs(n,t[l],e,r,a);return null}return e=sv(e),n&&n[Zp]?n.N(t,e,Pp(r)?!!r.capture:!!r,a):gC(n,t,e,!1,r,a)}function gC(n,t,e,r,a,l){if(!t)throw Error("Invalid event type");var h=Pp(a)?!!a.capture:!!a,m=Hp(n);if(m||(n[rv]=m=new jp(n)),(e=m.add(t,e,r,h,l)).proxy)return e;if(r=function(){var t=wA;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)tv||(a=h),void 0===a&&(a=!1),n.addEventListener(t.toString(),r,a);else if(n.attachEvent)n.attachEvent(bA(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function yA(n,t,e,r,a){if(Array.isArray(t)){for(var l=0;l<t.length;l++)yA(n,t[l],e,r,a);return null}return e=sv(e),n&&n[Zp]?n.O(t,e,Pp(r)?!!r.capture:!!r,a):gC(n,t,e,!0,r,a)}function vA(n,t,e,r,a){if(Array.isArray(t))for(var l=0;l<t.length;l++)vA(n,t[l],e,r,a);else r=Pp(r)?!!r.capture:!!r,e=sv(e),n&&n[Zp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=s_(l=n.g[t],e,r,a))&&(Bp(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=Hp(n))&&(t=n.g[t.toString()],n=-1,t&&(n=s_(t,e,r,a)),(e=-1<n?t[n]:null)&&o_(e))}function o_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Zp])nv(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(bA(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=Hp(t))?(nv(e,n),0==e.h&&(e.src=null,t[rv]=null)):Bp(n)}}}function bA(n){return n in iv?iv[n]:iv[n]="on"+n}function wA(n,t){if(n.ca)n=!0;else{t=new Zh(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&o_(n),n=e.call(r,t)}return n}function Hp(n){return(n=n[rv])instanceof jp?n:null}var a_="__closure_events_fn_"+(1e9*Math.random()>>>0);function sv(n){return"function"==typeof n?n:(n[a_]||(n[a_]=function(t){return n.handleEvent(t)}),n[a_])}function Xr(){Hc.call(this),this.i=new jp(this),this.P=this,this.I=null}function gi(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Qr(t,n);else if(t instanceof Qr)t.target=t.target||n;else{var a=t;cC(t=new Qr(r,n),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var h=t.g=e[l];a=qp(h,r,!0,t)&&a}if(a=qp(h=t.g=n,r,!0,t)&&a,a=qp(h,r,!1,t)&&a,e)for(l=0;l<e.length;l++)a=qp(h=t.g=e[l],r,!1,t)&&a}function qp(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,l=0;l<t.length;++l){var h=t[l];if(h&&!h.ca&&h.capture==e){var m=h.listener,b=h.ia||h.src;h.fa&&nv(n.i,h),a=!1!==m.call(b,r)&&a}}return a&&!r.defaultPrevented}jr(Xr,Hc),Xr.prototype[Zp]=!0,Xr.prototype.removeEventListener=function(n,t,e,r){vA(this,n,t,e,r)},Xr.prototype.M=function(){if(Xr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Bp(e[r]);delete n.g[t],n.h--}}this.I=null},Xr.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Xr.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var ov=vt.JSON.stringify;function mC(){var n=bC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var No,_C=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yC,n=>n.reset());class yC{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vC(n){vt.setTimeout(()=>{throw n},0)}function av(n,t){No||function(){var n=vt.Promise.resolve(void 0);No=function(){n.then(Tx)}}(),lv||(No(),lv=!0),bC.add(n,t)}var lv=!1,bC=new class{constructor(){this.h=this.g=null}add(t,e){const r=_C.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function Tx(){for(var n;n=mC();){try{n.h.call(n.g)}catch(e){vC(e)}var t=_C;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}lv=!1}function $p(n,t){Xr.call(this),this.h=n||1,this.g=t||vt,this.j=Jr(this.kb,this),this.l=Date.now()}function cv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function dv(n,t,e){if("function"==typeof n)e&&(n=Jr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(t)?-1:vt.setTimeout(n,t||0)}function wC(n){n.g=dv(()=>{n.g=null,n.i&&(n.i=!1,wC(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}jr($p,Xr),(He=$p.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gi(this,"tick"),this.da&&(cv(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){$p.Z.M.call(this),cv(this),delete this.g};class hv extends Hc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:wC(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gp(n){Hc.call(this),this.h=n,this.g={}}jr(Gp,Hc);var CC=[];function zp(n,t,e,r){Array.isArray(e)||(e&&(CC[0]=e.toString()),e=CC);for(var a=0;a<e.length;a++){var l=Cs(t,e[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function u_(n){Fp(n.g,function(t,e){this.g.hasOwnProperty(e)&&o_(t)},n),n.g={}}function l_(){this.g=!0}function qc(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return ov(e)}catch(m){return t}}(n,e)+(r?" "+r:"")})}Gp.prototype.M=function(){Gp.Z.M.call(this),u_(this)},Gp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},l_.prototype.Aa=function(){this.g=!1},l_.prototype.info=function(){};var Iu={},EA=null;function c_(){return EA=EA||new Xr}function gv(n){Qr.call(this,Iu.Ma,n)}function Bh(n){const t=c_();gi(t,new gv(t,n))}function mv(n,t){Qr.call(this,Iu.STAT_EVENT,n),this.stat=t}function ki(n){const t=c_();gi(t,new mv(t,n))}function _v(n,t){Qr.call(this,Iu.Na,n),this.size=t}function Js(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},t)}Iu.Ma="serverreachability",jr(gv,Qr),Iu.STAT_EVENT="statevent",jr(mv,Qr),Iu.Na="timingevent",jr(_v,Qr);var $c={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},TC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yv(){}function Gc(){}yv.prototype.h=null;var vv,jh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zc(){Qr.call(this,"d")}function Wc(){Qr.call(this,"c")}function Hh(){}function qh(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Gp(this),this.P=EC,this.W=new $p(n=J0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DC}function DC(){this.i=null,this.g="",this.h=!1}jr(zc,Qr),jr(Wc,Qr),jr(Hh,yv),Hh.prototype.g=function(){return new XMLHttpRequest},Hh.prototype.i=function(){return{}},vv=new Hh;var EC=45e3,bv={},$h={};function wv(n,t,e){n.K=1,n.v=Kp(ra(t)),n.s=e,n.U=!0,IC(n,null)}function IC(n,t){n.F=Date.now(),Wp(n),n.A=ra(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ev(e.h,"t",r),n.C=0,e=n.l.H,n.h=new DC,n.g=Rv(n.l,e?t:null,!n.s),0<n.O&&(n.L=new hv(Jr(n.Ia,n,n.g),n.O)),zp(n.V,n.g,"readystatechange",n.gb),t=n.H?K0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Bh(1),function(n,t,e,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var T=m[b].split("=");if(1<T.length){var N=T[0];T=T[1];var M=N.split("_");h=2<=M.length&&"type"==M[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Cv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Yc(n,t,e){let a,r=!0;for(;!n.I&&n.C<e.length;){if(a=AC(n,e),a==$h){4==t&&(n.o=4,ki(14),r=!1),qc(n.j,n.m,null,"[Incomplete Response]");break}if(a==bv){n.o=4,ki(15),qc(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}qc(n.j,n.m,a,null),Tv(n,a)}Cv(n)&&a!=$h&&a!=bv&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Ol(t),t.L=!0,ki(11))):(qc(n.j,n.m,e,"[Invalid Chunked Response]"),Kc(n),Yp(n))}function AC(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?$h:(e=Number(t.substring(e,r)),isNaN(e)?bv:(r+=1)+e>t.length?$h:(t=t.substr(r,e),n.C=r+e,t))}function Wp(n){n.Y=Date.now()+n.P,SC(n,n.P)}function SC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Js(Jr(n.eb,n),t)}function Au(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function Yp(n){0==n.l.G||n.I||Nv(n.l,n)}function Kc(n){Au(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,cv(n.W),u_(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Tv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Iv(e.i,n)))if(e.I=n.N,!n.J&&Iv(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=Js(Jr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Su(e),ja(e)}Rl(e),ki(18)}if(1>=g_(e.i)&&e.ka){try{e.ka()}catch(T){}e.ka=void 0}}else Pl(e,11)}else if((n.J||e.g==n)&&Su(e),!W0(t))for(a=e.Ca.g.parse(t),t=0;t<a.length;t++){let T=a[t];if(e.U=T[0],T=T[1],2==e.G)if("c"==T[0]){e.J=T[1],e.la=T[2];const N=T[3];null!=N&&(e.ma=N,e.h.info("VER="+e.ma));const M=T[4];null!=M&&(e.za=M,e.h.info("SVER="+e.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(e.K=r=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const H=n.g;if(H){const se=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var l=r.i;!l.g&&(ws(se,"spdy")||ws(se,"quic")||ws(se,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(m_(l,l.h),l.h=null))}if(r.D){const ye=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Bn(r.F,r.D,ye))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((r=e).oa=kv(r,r.H?r.la:null,r.W),h.J){Av(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Au(m),Wp(m)),r.g=h}else td(r);0<e.l.length&&Jh(e)}else"stop"!=T[0]&&"close"!=T[0]||Pl(e,7);else 3==e.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Pl(e,7):ei(e):"noop"!=T[0]&&e.j&&e.j.wa(T),e.A=0)}Bh(4)}catch(T){}}function NC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(iC(n)||"string"==typeof n)hA(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(iC(n)||"string"==typeof n){e=[];for(var r=n.length,a=0;a<r;a++)e.push(a)}else for(a in e=[],r=0,n)e[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(iC(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var l=0;l<a;l++)t.call(void 0,r[l],e&&e[l],n)}}function Gh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Gh)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function d_(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Dn(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var a={};for(e=t=0;t<n.g.length;)Dn(a,r=n.g[t])||(n.g[e++]=r,a[r]=1),t++;n.g.length=e}}function Dn(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(He=qh.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const t=this.L;t&&3==Xs(n)?t.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const N=Xs(this.g);var t=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||J0||this.g&&(this.h.h||this.g.ga()||HC(this.g)))){this.I||4!=N||7==t||Bh(8==t||0>=M?3:2),Au(this);var e=this.g.ba();this.N=e;t:if(Cv(this)){var r=HC(this.g);n="";var a=r.length,l=4==Xs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kc(this),Yp(this);var h="";break t}this.h.i=new vt.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:l&&t==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,e),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W0(m)){var T=m;break t}}T=null}if(!(e=T)){this.i=!1,this.o=3,ki(12),Kc(this),Yp(this);break e}qc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tv(this,e)}this.U?(Yc(this,N,h),J0&&this.i&&3==N&&(zp(this.V,this.W,"tick",this.fb),this.W.start())):(qc(this.j,this.m,h,null),Tv(this,h)),4==N&&Kc(this),this.i&&!this.I&&(4==N?Nv(this.l,this):(this.i=!1,Wp(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),Kc(this),Yp(this)}}}catch(N){}},He.fb=function(){if(this.g){var n=Xs(this.g),t=this.g.ga();this.C<t.length&&(Au(this),Yc(this,n,t),this.i&&4!=n&&Wp(this))}},He.cancel=function(){this.I=!0,Kc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Bh(3),ki(17)),Kc(this),this.o=2,Yp(this)):SC(this,this.Y-n)},(He=Gh.prototype).R=function(){d_(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},He.T=function(){return d_(this),this.g.concat()},He.get=function(n,t){return Dn(this.h,n)?this.h[n]:t},He.set=function(n,t){Dn(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},He.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var a=e[r],l=this.get(a);n.call(t,l,a,this)}};var h_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function es(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof es){this.g=void 0!==t?t:n.g,zh(this,n.j),this.s=n.s,Dv(this,n.i),f_(this,n.m),this.l=n.l,t=n.h;var e=new eg;e.i=t.i,t.g&&(e.g=new Gh(t.g),e.h=t.h),MC(this,e),this.o=n.o}else n&&(e=String(n).match(h_))?(this.g=!!t,zh(this,e[1]||"",!0),this.s=Jp(e[2]||""),Dv(this,e[3]||"",!0),f_(this,e[4]),this.l=Jp(e[5]||"",!0),MC(this,e[6]||"",!0),this.o=Jp(e[7]||"")):(this.g=!!t,this.h=new eg(null,this.g))}function ra(n){return new es(n)}function zh(n,t,e){n.j=e?Jp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Dv(n,t,e){n.i=e?Jp(t,!0):t}function f_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function MC(n,t,e){t instanceof eg?(n.h=t,function(n,t){t&&!n.j&&(kl(n),n.i=null,n.g.forEach(function(e,r){var a=r.toLowerCase();r!=a&&(LC(this,r),Ev(this,a,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Qp(t,PC)),n.h=new eg(t,n.g))}function Bn(n,t,e){n.h.set(t,e)}function Kp(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Xp),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}es.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Qp(t,p_,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Qp(t,p_,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Qp(e,"/"==e.charAt(0)?OC:RC,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Qp(e,FC)),n.join("")};var p_=/[#\/\?@]/g,RC=/[#\?:]/g,OC=/[#\?]/g,PC=/[#\?@]/g,FC=/#/g;function eg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function kl(n){n.g||(n.g=new Gh,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),a=null;if(0<=r){var l=n[e].substring(0,r);a=n[e].substring(r+1)}else l=n[e];t(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function LC(n,t){kl(n),t=tg(n,t),Dn(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Dn((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&d_(n)))}function VC(n,t){return kl(n),t=tg(n,t),Dn(n.g.h,t)}function Ev(n,t,e){LC(n,t),0<e.length&&(n.i=null,n.g.set(tg(n,t),uC(e)),n.h+=e.length)}function tg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ZC(n){this.l=n||Ex,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=eg.prototype).add=function(n,t){kl(this),this.i=null,n=tg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},He.forEach=function(n,t){kl(this),this.g.forEach(function(e,r){hA(e,function(a){n.call(t,a,r,this)},this)},this)},He.T=function(){kl(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var a=n[r],l=0;l<a.length;l++)e.push(t[r]);return e},He.R=function(n){kl(this);var t=[];if("string"==typeof n)VC(this,n)&&(t=fA(t,this.g.get(tg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=fA(t,n[e])}return t},He.set=function(n,t){return kl(this),this.i=null,VC(this,n=tg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},He.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var Ex=10;function NA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function g_(n){return n.h?1:n.g?n.g.size:0}function Iv(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function m_(n,t){n.g?n.g.add(t):n.h=t}function Av(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function MA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return uC(n.i)}function Qs(){}function Ix(){this.g=new Qs}function Ax(n,t,e){const r=e||"";try{NC(n,function(a,l){let h=a;Pp(a)&&(h=ov(a)),t.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function ng(n,t,e,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(l){}}function Wh(n){this.l=n.$b||null,this.j=n.ib||!1}function rg(n,t){Xr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZC.prototype.cancel=function(){if(this.i=MA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Qs.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},Qs.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},jr(Wh,yv),Wh.prototype.g=function(){return new rg(this.l,this.j)},Wh.prototype.i=function(n){return function(){return n}}({}),jr(rg,Xr);var Sv=0;function xA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Yh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jc(n)}function Jc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=rg.prototype).open=function(n,t){if(this.readyState!=Sv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Jc(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||vt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yh(this)),this.readyState=Sv},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Yh(this):Jc(this),3==this.readyState&&xA(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,Yh(this))},He.Ta=function(n){this.g&&(this.response=n,Yh(this))},He.ha=function(){this.g&&Yh(this)},He.setRequestHeader=function(n,t){this.v.append(n,t)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kA=vt.JSON.parse;function lr(n){Xr.call(this),this.headers=new Gh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BC,this.K=this.L=!1}jr(lr,Xr);var BC="",RA=/^https?$/i,OA=["POST","PUT"];function FA(n){return"content-type"==n.toLowerCase()}function jC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ig(n),sg(n)}function ig(n){n.D||(n.D=!0,gi(n,"complete"),gi(n,"error"))}function Qc(n){if(n.h&&void 0!==Lh&&(!n.C[1]||4!=Xs(n)||2!=n.ba()))if(n.v&&4==Xs(n))dv(n.Fa,0,n);else if(gi(n,"readystatechange"),4==Xs(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===m){var a=String(n.H).match(h_)[1]||null;if(!a&&vt.self&&vt.self.location){var l=vt.self.location.protocol;a=l.substr(0,l.length-1)}r=!RA.test(a?a.toLowerCase():"")}e=r}if(e)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var h=2<Xs(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",ig(n)}}finally{sg(n)}}}function sg(n,t){if(n.g){Mo(n);const e=n.g,r=n.C[0]?Vh:null;n.g=null,n.C=null,t||gi(n,"ready");try{e.onreadystatechange=r}catch(a){}}}function Mo(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Xs(n){return n.g?n.g.readyState:0}function HC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function og(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return Fp(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Bn(n,t,e))}function Ts(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Kh(n){this.za=0,this.l=[],this.h=new l_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ts("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ts("baseRetryDelayMs",5e3,n),this.$a=Ts("retryDelaySeedMs",1e4,n),this.Ya=Ts("forwardChannelMaxRetries",2,n),this.ra=Ts("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ZC(n&&n.concurrentRequestLimit),this.Ca=new Ix,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ei(n){if(ag(n),3==n.G){var t=n.V++,e=ra(n.F);Bn(e,"SID",n.J),Bn(e,"RID",t),Bn(e,"TYPE","terminate"),Ha(n,e),(t=new qh(n,n.h,t,void 0)).K=2,t.v=Kp(ra(e)),e=!1,vt.navigator&&vt.navigator.sendBeacon&&(e=vt.navigator.sendBeacon(t.v.toString(),"")),!e&&vt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Rv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Wp(t)}xv(n)}function ja(n){n.g&&(Ol(n),n.g.cancel(),n.g=null)}function ag(n){ja(n),n.u&&(vt.clearTimeout(n.u),n.u=null),Su(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function Ds(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Jh(n)}function Jh(n){NA(n.i)||n.m||(n.m=!0,av(n.Ha,n),n.C=0)}function Xc(n,t){var e;e=t?t.m:n.V++;const r=ra(n.F);Bn(r,"SID",n.J),Bn(r,"RID",e),Bn(r,"AID",n.U),Ha(n,r),n.o&&n.s&&og(r,n.o,n.s),e=new qh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=ed(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),m_(n.i,e),wv(e,r,t)}function Ha(n,t){n.j&&NC({},function(e,r){Bn(t,r,e)})}function ed(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+e];-1==l?0<e?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<e;b++){let T=a[b].h;const N=a[b].g;if(T-=l,0>T)l=Math.max(0,a[b].h-100),m=!1;else try{Ax(N,h,"req"+T+"_")}catch(M){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function td(n){n.g||n.u||(n.Y=1,av(n.Ga,n),n.A=0)}function Rl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Js(Jr(n.Ga,n),Mv(n,n.A)),n.A++,0))}function Ol(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function nd(n){n.g=new qh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ra(n.oa);Bn(t,"RID","rpc"),Bn(t,"SID",n.J),Bn(t,"CI",n.N?"0":"1"),Bn(t,"AID",n.U),Ha(n,t),Bn(t,"TYPE","xmlhttp"),n.o&&n.s&&og(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Kp(ra(t)),e.s=null,e.U=!0,IC(e,n)}function Su(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function Nv(n,t){var e=null;if(n.g==t){Su(n),Ol(n),n.g=null;var r=2}else{if(!Iv(n.i,t))return;e=t.D,Av(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var a=n.C;gi(r=c_(),new _v(r,e,t,a)),Jh(n)}else td(n);else if(3==(a=t.o)||0==a&&0<n.I||!(1==r&&function(n,t){return!(g_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Js(Jr(n.Ha,n,t),Mv(n,n.C)),n.C++,0)))}(n,t)||2==r&&Rl(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),a){case 1:Pl(n,5);break;case 4:Pl(n,10);break;case 3:Pl(n,6);break;default:Pl(n,2)}}function Mv(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Pl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Jr(n.jb,n);e||(e=new es("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||zh(e,"https"),Kp(e)),function(n,t){const e=new l_;if(vt.Image){const r=new Image;r.onload=t_(ng,e,r,"TestLoadImage: loaded",!0,t),r.onerror=t_(ng,e,r,"TestLoadImage: error",!1,t),r.onabort=t_(ng,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=t_(ng,e,r,"TestLoadImage: timeout",!1,t),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else ki(2);n.G=0,n.j&&n.j.va(t),xv(n),ag(n)}function xv(n){n.G=0,n.I=-1,n.j&&((0!=MA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,uC(n.l),n.l.length=0),n.j.ua())}function kv(n,t,e){let r=function(n){return n instanceof es?ra(n):new es(n,void 0)}(e);if(""!=r.i)t&&Dv(r,t+"."+r.i),f_(r,r.m);else{const a=vt.location;r=function(n,t,e,r){var a=new es(null,void 0);return n&&zh(a,n),t&&Dv(a,t),e&&f_(a,e),r&&(a.l=r),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,e)}return n.aa&&Fp(n.aa,function(a,l){Bn(r,l,a)}),e=n.sa,(t=n.D)&&e&&Bn(r,t,e),Bn(r,"VER",n.ma),Ha(n,r),r}function Rv(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new lr(e&&n.Ba&&!n.qa?new Wh({ib:!0}):n.qa)).L=n.H,t}function Ov(){}function ug(){if(Lp&&!(10<=Number(fC)))throw Error("Environmental error: no available transport.")}function Es(n,t){Xr.call(this),this.g=new Kh(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!W0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!W0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Xh(this)}function qC(n){zc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Pv(){Wc.call(this),this.status=1}function Xh(n){this.g=n}(He=lr.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:vv),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void jC(this,l)}n=e||"";const a=new Gh(this.headers);r&&NC(r,function(l,h){a.set(h,l)}),r=function(n){e:{var t=FA;const e=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<e;a++)if(a in r&&t.call(void 0,r[a],a,n)){t=a;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(a.T()),e=vt.FormData&&n instanceof vt.FormData,!(0<=dA(OA,t))||r||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mo(this),0<this.B&&((this.K=function(n){return Lp&&Uh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=dv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){jC(this,l)}},He.pa=function(){void 0!==Lh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),sg(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sg(this,!0)),lr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Qc(this):this.cb())},He.cb=function(){Qc(this)},He.ba=function(){try{return 2<Xs(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),kA(t)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Kh.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new qh(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=K0(l),cC(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=ed(this,a,t),Bn(e=ra(this.F),"RID",n),Bn(e,"CVER",22),this.D&&Bn(e,"X-HTTP-Session-Id",this.D),Ha(this,e),this.o&&l&&og(e,this.o,l),m_(this.i,a),this.Ra&&Bn(e,"TYPE","init"),this.ja?(Bn(e,"$req",t),Bn(e,"SID","null"),a.$=!0,wv(a,e,null)):wv(a,e,t),this.G=2}}else 3==this.G&&(n?Xc(this,n):0==this.l.length||NA(this.i)||Xc(this))},He.Ga=function(){if(this.u=null,nd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Js(Jr(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ki(10),ja(this),nd(this))},He.ab=function(){null!=this.v&&(this.v=null,ja(this),Rl(this),ki(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ki(2)):(this.h.info("Failed to ping google.com"),ki(1))},(He=Ov.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},ug.prototype.g=function(n,t){return new Es(n,t)},jr(Es,Xr),Es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),av(Jr(n.hb,n,t))),ki(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=kv(n,null,n.W),Jh(n)},Es.prototype.close=function(){ei(this.g)},Es.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Ds(this.g,t)}else this.v?((t={}).__data__=ov(n),Ds(this.g,t)):Ds(this.g,n)},Es.prototype.M=function(){this.g.j=null,delete this.j,ei(this.g),delete this.g,Es.Z.M.call(this)},jr(qC,zc),jr(Pv,Wc),jr(Xh,Ov),Xh.prototype.xa=function(){gi(this.g,"a")},Xh.prototype.wa=function(n){gi(this.g,new qC(n))},Xh.prototype.va=function(n){gi(this.g,new Pv(n))},Xh.prototype.ua=function(){gi(this.g,"b")},ug.prototype.createWebChannel=ug.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,TC.COMPLETE="complete",Gc.EventType=jh,jh.OPEN="a",jh.CLOSE="b",jh.ERROR="c",jh.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var $C=Sl.createWebChannelTransport=function(){return new ug},GC=Sl.getStatEventTarget=function(){return c_()},Fv=Sl.ErrorCode=$c,Nx=Sl.EventType=TC,VA=Sl.Event=Iu,Lv=Sl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UA=Sl.FetchXmlHttpFactory=Wh,lg=Sl.WebChannel=Gc,ZA=Sl.XhrIo=lr;const zC="@firebase/firestore";class Ri{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let ef="9.6.0";const Nu=new Ua.Yd("@firebase/firestore");function WC(){return Nu.logLevel}function Le(n,...t){if(Nu.logLevel<=Ua.in.DEBUG){const e=t.map(Vv);Nu.debug(`Firestore (${ef}): ${n}`,...e)}}function Sr(n,...t){if(Nu.logLevel<=Ua.in.ERROR){const e=t.map(Vv);Nu.error(`Firestore (${ef}): ${n}`,...e)}}function __(n,...t){if(Nu.logLevel<=Ua.in.WARN){const e=t.map(Vv);Nu.warn(`Firestore (${ef}): ${n}`,...e)}}function Vv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function tt(n="Unexpected state"){const t=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+n;throw Sr(t),new Error(t)}function ft(n,t){n||tt()}function Ze(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class YC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ri.UNAUTHENTICATED))}shutdown(){}}class xx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(t){this.t=t,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let a=this.i;const l=T=>this.i!==a?(a=this.i,e(T)):Promise.resolve();let h=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new mi,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=h;t.enqueueRetryable((0,re.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},b=T=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new mi)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new YC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ft(null===t||"string"==typeof t),new Ri(t)}}class tf{constructor(t,e,r){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class jA{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new tf(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=a=>{t.enqueueRetryable(()=>{return null!=(l=a).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const r=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ft("string"==typeof e.token),new Zv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Oi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.p(r),this.T=r=>e.writeSequenceNumber(r))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function $A(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}Oi.I=-1;class Bv{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const a=$A(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%t.length))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function nf(n,t,e){return n.length===t.length&&n.every((r,a)=>e(r,t[a]))}function JC(n){return n+"\0"}class ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ti.fromMillis(Date.now())}static fromDate(t){return ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ti(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new ti(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function jv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function rd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Hv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class rf{constructor(t,e,r){void 0===e?e=0:e>t.length&&tt(),void 0===r?r=t.length-e:r>t.length-e&&tt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===rf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rf?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=t.get(a),h=e.get(a);if(l<h)return-1;if(l>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ln extends rf{construct(t,e,r){return new ln(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new ln(e)}static emptyPath(){return new ln([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends rf{construct(t,e,r){return new Hr(t,e,r)}static isValidIdentifier(t){return kx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(0===r.length)throw new xe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;a<t.length;){const m=t[a];if("\\"===m){if(a+1===t.length)throw new xe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new xe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=b,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(r+=m,a++):(l(),a++)}if(l(),h)throw new xe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hr(e)}static emptyPath(){return new Hr([])}}class sf{constructor(t){this.fields=t,t.sort(Hr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nf(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class cr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new cr(e)}static fromUint8Array(t){const e=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new cr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(n){if(ft(!!n),"string"==typeof n){let t=0;const e=GA.exec(n);if(ft(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function af(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function cg(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function y_(n){const t=n.mapValue.fields.__previous_value__;return cg(t)?y_(t):t}function uf(n){const t=qa(n.mapValue.fields.__local_write_time__.timestampValue);return new ti(t.seconds,t.nanos)}function lf(n){return null==n}function v_(n){return 0===n&&1/n==-1/0}function b_(n){return"number"==typeof n&&Number.isInteger(n)&&!v_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(t){this.path=t}static fromPath(t){return new Ke(ln.fromString(t))}static fromName(t){return new Ke(ln.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===ln.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ln.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ke(new ln(t.slice()))}}function id(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cg(n)?4:10:tt()}function ia(n,t){const e=id(n);if(e!==id(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return uf(n).isEqual(uf(t));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=qa(r.timestampValue),h=qa(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return a=t,af(n.bytesValue).isEqual(af(a.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,a){return dr(r.geoPointValue.latitude)===dr(a.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(a.geoPointValue.longitude)}(n,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return dr(r.integerValue)===dr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=dr(r.doubleValue),h=dr(a.doubleValue);return l===h?v_(l)===v_(h):isNaN(l)&&isNaN(h)}return!1}(n,t);case 9:return nf(n.arrayValue.values||[],t.arrayValue.values||[],ia);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(jv(l)!==jv(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!ia(l[m],h[m])))return!1;return!0}(n,t);default:return tt()}var a}function sd(n,t){return void 0!==(n.values||[]).find(e=>ia(e,t))}function od(n,t){const e=id(n),r=id(t);if(e!==r)return Kt(e,r);switch(e){case 0:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const h=dr(a.integerValue||a.doubleValue),m=dr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,t);case 3:return w_(n.timestampValue,t.timestampValue);case 4:return w_(uf(n),uf(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(a,l){const h=af(a),m=af(l);return h.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const T=Kt(h[b],m[b]);if(0!==T)return T}return Kt(h.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const h=Kt(dr(a.latitude),dr(l.latitude));return 0!==h?h:Kt(dr(a.longitude),dr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const T=od(h[b],m[b]);if(T)return T}return Kt(h.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),b=l.fields||{},T=Object.keys(b);m.sort(),T.sort();for(let N=0;N<m.length&&N<T.length;++N){const M=Kt(m[N],T[N]);if(0!==M)return M;const V=od(h[m[N]],b[T[N]]);if(0!==V)return V}return Kt(m.length,T.length)}(n.mapValue,t.mapValue);default:throw tt()}}function w_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=qa(n),r=qa(t),a=Kt(e.seconds,r.seconds);return 0!==a?a:Kt(e.nanos,r.nanos)}function dg(n){return C_(n)}function C_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=qa(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?af(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=C_(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${C_(r.fields[m])}`;return l+"}"}(n.mapValue):tt();var t}function T_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function D_(n){return!!n&&"integerValue"in n}function E_(n){return!!n&&"arrayValue"in n}function I_(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function A_(n){return!!n&&"mapValue"in n}function cf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return rd(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=cf(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cf(n.arrayValue.values[e]);return t}return Object.assign({},n)}class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!A_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cf(e)}setAll(t){let e=Hr.emptyPath(),r={},a=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const b=this.getFieldsMap(e);this.applyChanges(b,r,a),r={},a=[],e=m.popLast()}h?r[m.lastSegment()]=cf(h):a.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());A_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ia(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];A_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){rd(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new _i(cf(this.value))}}function S_(n){const t=[];return rd(n.fields,(e,r)=>{const a=new Hr([e]);if(A_(r)){const l=S_(r.mapValue).fields;if(0===l.length)t.push(a);else for(const h of l)t.push(a.child(h))}else t.push(a)}),new sf(t)}class Ln{constructor(t,e,r,a,l){this.key=t,this.documentType=e,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ln(t,0,Ft.min(),_i.empty(),0)}static newFoundDocument(t,e,r){return new Ln(t,1,e,r,0)}static newNoDocument(t,e){return new Ln(t,2,e,_i.empty(),0)}static newUnknownDocument(t,e){return new Ln(t,3,e,_i.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Ln(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class QC{constructor(t,e=null,r=[],a=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function $v(n,t=null,e=[],r=[],a=null,l=null,h=null){return new QC(n,t,e,r,a,l,h)}function df(n){const t=Ze(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+dg(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),lf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=gg(t.startAt)),t.endAt&&(e+="|ub:",e+=gg(t.endAt)),t.R=e}return t.R}function hg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!nT(n.orderBy[a],t.orderBy[a]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((e=n.filters[a]).op!==(r=t.filters[a]).op||!e.field.isEqual(r.field)||!ia(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ad(n.startAt,t.startAt)&&ad(n.endAt,t.endAt)}function fg(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,r):new Ox(t,e,r):"array-contains"===e?new YA(t,r):"in"===e?new qr(t,r):"not-in"===e?new tT(t,r):"array-contains-any"===e?new KA(t,r):new Pi(t,e,r)}static P(t,e,r){return"in"===e?new zA(t,r):new WA(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(od(e,this.value)):null!==e&&id(this.value)===id(e)&&this.v(od(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ox extends Pi{constructor(t,e,r){super(t,e,r),this.key=Ke.fromName(r.referenceValue)}matches(t){const e=Ke.comparator(t.key,this.key);return this.v(e)}}class zA extends Pi{constructor(t,e){super(t,"in",e),this.keys=Gv(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class WA extends Pi{constructor(t,e){super(t,"not-in",e),this.keys=Gv(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Gv(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class YA extends Pi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return E_(e)&&sd(e.arrayValue,this.value)}}class qr extends Pi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&sd(this.value.arrayValue,e)}}class tT extends Pi{constructor(t,e){super(t,"not-in",e)}matches(t){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!sd(this.value.arrayValue,e)}}class KA extends Pi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!E_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}}class pg{constructor(t,e){this.position=t,this.before=e}}function gg(n){return`${n.before?"b":"a"}:${n.position.map(t=>dg(t)).join(",")}`}class hf{constructor(t,e="asc"){this.field=t,this.dir=e}}function nT(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function zv(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],h=n.position[a];if(r=l.field.isKeyField()?Ke.comparator(Ke.fromName(h.referenceValue),e.key):od(h,e.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function ad(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ia(n.position[e],t.position[e]))return!1;return!0}class Mu{constructor(t,e=null,r=[],a=[],l=null,h="F",m=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function rT(n,t,e,r,a,l,h,m){return new Mu(n,t,e,r,a,l,h,m)}function ud(n){return new Mu(n)}function N_(n){return!lf(n.limit)&&"F"===n.limitType}function mg(n){return!lf(n.limit)&&"L"===n.limitType}function iT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _g(n){for(const t of n.filters)if(t.V())return t.field;return null}function yg(n){return null!==n.collectionGroup}function ts(n){const t=Ze(n);if(null===t.S){t.S=[];const e=_g(t),r=iT(t);if(null!==e&&null===r)e.isKeyField()||t.S.push(new hf(e)),t.S.push(new hf(Hr.keyField(),"asc"));else{let a=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new hf(Hr.keyField(),l))}}}return t.S}function xo(n){const t=Ze(n);if(!t.D)if("F"===t.limitType)t.D=$v(t.path,t.collectionGroup,ts(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of ts(t))e.push(new hf(l.field,"desc"===l.dir?"asc":"desc"));const r=t.endAt?new pg(t.endAt.position,!t.endAt.before):null,a=t.startAt?new pg(t.startAt.position,!t.startAt.before):null;t.D=$v(t.path,t.collectionGroup,e,t.filters,t.limit,r,a)}return t.D}function Wv(n,t,e){return new Mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Is(n,t){return hg(xo(n),xo(t))&&n.limitType===t.limitType}function ko(n){return`${df(xo(n))}|lt:${n.limitType}`}function eo(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${dg(r.value)}`;var r}).join(", ")}]`),lf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+gg(n.startAt)),n.endAt&&(t+=", endAt: "+gg(n.endAt)),`Target(${t})`}(xo(n))}; limitType=${n.limitType})`}function ff(n,t){return t.isFoundDocument()&&function(e,r){const a=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):Ke.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a)}(n,t)&&function(e,r){for(const a of e.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,t)&&function(e,r){for(const a of e.filters)if(!a.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!zv(e.startAt,ts(e),r)||e.endAt&&zv(e.endAt,ts(e),r)));var e,r}function Yv(n){return(t,e)=>{let r=!1;for(const a of ts(n)){const l=JA(a,t,e);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function JA(n,t,e){const r=n.field.isKeyField()?Ke.comparator(t.key,e.key):function(a,l,h){const m=l.data.field(a),b=h.data.field(a);return null!==m&&null!==b?od(m,b):tt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function sT(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v_(t)?"-0":t}}function oT(n){return{integerValue:""+n}}function aT(n,t){return b_(t)?oT(t):sT(n,t)}class pf{constructor(){this._=void 0}}function vg(n,t,e){return n instanceof gf?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(e,t):n instanceof Fl?Jv(n,t):n instanceof $a?uT(n,t):function(r,a){const l=Kv(r,a),h=Qv(l)+Qv(r.N);return D_(l)&&D_(r.N)?oT(h):sT(r.k,h)}(n,t)}function QA(n,t,e){return n instanceof Fl?Jv(n,t):n instanceof $a?uT(n,t):e}function Kv(n,t){return n instanceof ld?D_(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class gf extends pf{}class Fl extends pf{constructor(t){super(),this.elements=t}}function Jv(n,t){const e=M_(t);for(const r of n.elements)e.some(a=>ia(a,r))||e.push(r);return{arrayValue:{values:e}}}class $a extends pf{constructor(t){super(),this.elements=t}}function uT(n,t){let e=M_(t);for(const r of n.elements)e=e.filter(a=>!ia(a,r));return{arrayValue:{values:e}}}class ld extends pf{constructor(t,e){super(),this.k=t,this.N=e}}function Qv(n){return dr(n.integerValue||n.doubleValue)}function M_(n){return E_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ll{constructor(t,e){this.field=t,this.transform=e}}class cT{constructor(t,e){this.version=t,this.transformResults=e}}class hr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bg(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class wg{}function dT(n,t,e){n instanceof Cg?function(r,a,l){const h=r.value.clone(),m=gT(r.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):n instanceof xu?function(r,a,l){if(!bg(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=gT(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(pT(r)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function x_(n,t,e){var a;n instanceof Cg?function(r,a,l){if(!bg(r.precondition,a))return;const h=r.value.clone(),m=mT(r.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(fT(a),h).setHasLocalMutations()}(n,t,e):n instanceof xu?function(r,a,l){if(!bg(r.precondition,a))return;const h=mT(r.fieldTransforms,l,a),m=a.data;m.setAll(pT(r)),m.setAll(h),a.convertToFoundDocument(fT(a),m).setHasLocalMutations()}(n,t,e):bg(n.precondition,a=t)&&a.convertToNoDocument(Ft.min())}function hT(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=Kv(r.transform,a||null);null!=l&&(null==e&&(e=_i.empty()),e.set(r.field,l))}return e||null}function Xv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&nf(e,r,(a,l)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Fl&&r instanceof Fl||e instanceof $a&&r instanceof $a?nf(e.elements,r.elements,ia):e instanceof ld&&r instanceof ld?ia(e.N,r.N):e instanceof gf&&r instanceof gf);var e,r}(a,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function fT(n){return n.isFoundDocument()?n.version:Ft.min()}class Cg extends wg{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}}class xu extends wg{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function pT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function gT(n,t,e){const r=new Map;ft(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],h=l.transform,m=t.data.field(l.field);r.set(l.field,QA(h,m,e[a]))}return r}function mT(n,t,e){const r=new Map;for(const a of n){const l=a.transform,h=e.data.field(a.field);r.set(a.field,vg(l,h,t))}return r}class Tg extends wg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class eb extends wg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class _T{constructor(t){this.count=t}}var Nr,rn;function yT(n){switch(n){default:return tt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function vT(n){if(void 0===n)return Sr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Nr.OK:return me.OK;case Nr.CANCELLED:return me.CANCELLED;case Nr.UNKNOWN:return me.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return me.INTERNAL;case Nr.UNAVAILABLE:return me.UNAVAILABLE;case Nr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Nr.NOT_FOUND:return me.NOT_FOUND;case Nr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Nr.ABORTED:return me.ABORTED;case Nr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Nr.DATA_LOSS:return me.DATA_LOSS;default:return tt()}}(rn=Nr||(Nr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class $r{constructor(t,e){this.comparator=t,this.root=e||yi.EMPTY}insert(t,e){return new $r(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(t){return new $r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(0===a)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new k_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new k_(this.root,t,this.comparator,!1)}getReverseIterator(){return new k_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new k_(this.root,t,this.comparator,!0)}}class k_{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yi{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=null!=r?r:yi.RED,this.left=null!=a?a:yi.EMPTY,this.right=null!=l?l:yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new yi(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(t,a.key)){if(a.right.isEmpty())return yi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,t,e,r,a){return this}insert(n,t,e){return new yi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(t){this.comparator=t,this.data=new $r(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(t){return new tb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof fr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fr(this.comparator);return e.data=t,e}}class tb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const bT=new $r(Ke.comparator);function to(){return bT}const wT=new $r(Ke.comparator);function R_(){return wT}const CT=new $r(Ke.comparator);function nb(){return CT}const TT=new fr(Ke.comparator);function En(...n){let t=TT;for(const e of n)t=t.add(e);return t}const rb=new fr(Kt);function Dg(){return rb}class sa{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,Eg.createSynthesizedTargetChangeForCurrentChange(t,e)),new sa(Ft.min(),r,Dg(),to(),En())}}class Eg{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Eg(cr.EMPTY_BYTE_STRING,e,En(),En(),En())}}class O_{constructor(t,e,r,a){this.$=t,this.removedTargetIds=e,this.key=r,this.F=a}}class cd{constructor(t,e){this.targetId=t,this.O=e}}class XA{constructor(t,e,r=cr.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class P_{constructor(){this.M=0,this.L=sb(),this.B=cr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=En(),e=En(),r=En();return this.L.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:tt()}}),new Eg(this.B,this.U,t,e,r)}H(){this.q=!1,this.L=sb()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Px{constructor(t){this.et=t,this.nt=new Map,this.st=to(),this.it=ib(),this.rt=new fr(Kt)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const r=this.ht(e);switch(t.state){case 0:this.lt(e)&&r.W(t.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(t.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(e);break;case 3:this.lt(e)&&(r.tt(),r.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),r.W(t.resumeToken));break;default:tt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((r,a)=>{this.lt(a)&&e(a)})}dt(t){const e=t.targetId,r=t.O.count,a=this.wt(e);if(a){const l=a.target;if(fg(l))if(0===r){const h=new Ke(l.path);this.ct(e,h,Ln.newNoDocument(h,Ft.min()))}else ft(1===r);else this._t(e)!==r&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&fg(m.target)){const b=new Ke(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Ln.newNoDocument(b,t))}l.j&&(e.set(h,l.G()),l.H())}});let r=En();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const T=this.wt(b);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const a=new sa(t,e,this.rt,this.st,r);return this.st=to(),this.it=ib(),this.rt=new fr(Kt),a}at(t,e){if(!this.lt(t))return;const r=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,r),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,r){if(!this.lt(t))return;const a=this.ht(t);this.yt(t,e)?a.J(e,1):a.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),r&&(this.st=this.st.insert(e,r))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new P_,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new fr(Kt),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new P_),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function ib(){return new $r(Ke.comparator)}function sb(){return new $r(Ke.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},dt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class eS{constructor(t,e){this.databaseId=t,this.C=e}}function Ig(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DT(n,t){return n.C?t.toBase64():t.toUint8Array()}function F_(n,t){return Ig(n,t.toTimestamp())}function ni(n){return ft(!!n),Ft.fromTimestamp(function(t){const e=qa(t);return new ti(e.seconds,e.nanos)}(n))}function mf(n,t){return(e=n,new ln(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Ag(n){const t=ln.fromString(n);return ft(hb(t)),t}function Un(n,t){return mf(n.databaseId,t.path)}function ku(n,t){const e=Ag(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ke(ob(e))}function L_(n,t){return mf(n.databaseId,t)}function V_(n){const t=Ag(n);return 4===t.length?ln.emptyPath():ob(t)}function Sg(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ob(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ab(n,t,e){return{name:Un(n,t),fields:e.value.mapValue.fields}}function ub(n,t,e){const r=ku(n,t.name),a=ni(t.updateTime),l=new _i({mapValue:{fields:t.fields}}),h=Ln.newFoundDocument(r,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function U_(n,t){let e;if(t instanceof Cg)e={update:ab(n,t.key,t.value)};else if(t instanceof Tg)e={delete:Un(n,t.key)};else if(t instanceof xu)e={update:ab(n,t.key,t.data),updateMask:MT(t.fieldMask)};else{if(!(t instanceof eb))return tt();e={verify:Un(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof gf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $a)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ld)return{fieldPath:l.field.canonicalString(),increment:h.N};throw tt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(a=t.precondition).updateTime?{updateTime:F_(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:tt()),e;var a}function IT(n,t){const e=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?hr.updateTime(ni(a.updateTime)):void 0!==a.exists?hr.exists(a.exists):hr.none():hr.none(),r=t.updateTransforms?t.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(ft("REQUEST_TIME"===h.setToServerValue),m=new gf):"appendMissingElements"in h?m=new Fl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new $a(h.removeAllFromArray.values||[]):"increment"in h?m=new ld(l,h.increment):tt();const b=Hr.fromServerFormat(h.fieldPath);return new Ll(b,m)}(n,a)):[];var a;if(t.update){const a=ku(n,t.update.name),l=new _i({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new sf((t.updateMask.fieldPaths||[]).map(T=>Hr.fromServerFormat(T)));return new xu(a,l,h,e,r)}return new Cg(a,l,e,r)}if(t.delete){const a=ku(n,t.delete);return new Tg(a,e)}if(t.verify){const a=ku(n,t.verify);return new eb(a,e)}return tt()}function AT(n,t){return{documents:[L_(n,t.path)]}}function ST(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=L_(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=L_(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(m){if(0===m.length)return;const b=m.map(T=>function(N){if("=="===N.op){if(qv(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NAN"}};if(I_(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(qv(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NOT_NAN"}};if(I_(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(N.field),op:Mg(N.op),value:N.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);a&&(e.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Ga((T=b).field),direction:nS(T.dir)};var T})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const h=(b=t.limit,n.C||lf(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=cb(t.startAt)),t.endAt&&(e.structuredQuery.endAt=cb(t.endAt)),e}function NT(n){let t=V_(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){ft(1===r);const N=e.from[0];N.allDescendants?a=N.collectionId:t=t.child(N.collectionId)}let l=[];e.where&&(l=lb(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(N=>{return new hf(_f((M=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;e.limit&&(m=function(N){let M;return M="object"==typeof N?N.value:N,lf(M)?null:M}(e.limit));let b=null;e.startAt&&(b=db(e.startAt));let T=null;return e.endAt&&(T=db(e.endAt)),rT(t,a,h,l,m,"F",b,T)}function lb(n){return n?void 0!==n.unaryFilter?[iS(n)]:void 0!==n.fieldFilter?[rS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>lb(t)).reduce((t,e)=>t.concat(e)):tt():[]}function cb(n){return{before:n.before,values:n.position}}function db(n){return new pg(n.values||[],!!n.before)}function nS(n){return Fx[n]}function Mg(n){return dt[n]}function Ga(n){return{fieldPath:n.canonicalString()}}function _f(n){return Hr.fromServerFormat(n.fieldPath)}function rS(n){return Pi.create(_f(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function iS(n){switch(n.unaryFilter.op){case"IS_NAN":const t=_f(n.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=_f(n.unaryFilter.field);return Pi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_f(n.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_f(n.unaryFilter.field);return Pi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function MT(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ro(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fb(t)),t=sS(n.get(e),t);return fb(t)}function sS(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function fb(n){return n+"\x01\x01"}function Ru(n){const t=n.length;if(ft(t>=2),2===t)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const e=t-2,r=[];let a="";for(let l=0;l<t;){const h=n.indexOf("\x01",l);switch((h<0||h>e)&&tt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===a.length?b=m:(a+=m,b=a,a=""),r.push(b);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:tt()}l=h+2}return new ln(r)}class oS{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Oo{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}Oo.store="owner",Oo.key="owner";class dd{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}dd.store="mutationQueues",dd.keyPath="userId";class tr{constructor(t,e,r,a,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];class ns{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ro(e)]}static key(t,e,r){return[t,Ro(e),r]}}ns.store="documentMutations",ns.PLACEHOLDER=new ns;class xT{constructor(t,e){this.path=t,this.readTime=e}}class B_{constructor(t,e){this.path=t,this.version=e}}class pr{constructor(t,e,r,a,l,h){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}pr.store="remoteDocuments",pr.readTimeIndex="readTimeIndex",pr.readTimeIndexPath="readTime",pr.collectionReadTimeIndex="collectionReadTimeIndex",pr.collectionReadTimeIndexPath=["parentPath","readTime"];class za{constructor(t){this.byteSize=t}}za.store="remoteDocumentGlobal",za.key="remoteDocumentGlobalKey";class rs{constructor(t,e,r,a,l,h,m){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];class br{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}br.store="targetDocuments",br.keyPath=["targetId","path"],br.documentTargetsIndex="documentTargetsIndex",br.documentTargetsKeyPath=["path","targetId"];class no{constructor(t,e,r,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}no.key="targetGlobalKey",no.store="targetGlobal";class hd{constructor(t,e){this.collectionId=t,this.parent=e}}hd.store="collectionParents",hd.keyPath=["collectionId","parent"];class Ou{constructor(t,e,r,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=a}}Ou.store="clientMetadata",Ou.keyPath="clientId";class yf{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}yf.store="bundles",yf.keyPath="bundleId";class vf{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}vf.store="namedQueries",vf.keyPath="name";const kT=[dd.store,tr.store,ns.store,pr.store,rs.store,Oo.store,no.store,br.store,Ou.store,za.store,hd.store,yf.store,vf.store],RT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,r)=>{e(t)})}static reject(t){return new Ie((e,r)=>{r(t)})}static waitFor(t){return new Ie((e,r)=>{let a=0,l=0,h=!1;t.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&e()},b=>r(b))}),h=!0,l===a&&e()})}static or(t){let e=Ie.resolve(!1);for(const r of t)e=e.next(a=>a?Ie.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}}class j_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new mi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new bf(t,e.error)):this.It.resolve()},this.transaction.onerror=r=>{const a=pb(r.target.error);this.It.reject(new bf(t,a))}}static open(t,e,r,a){try{return new j_(e,t.transaction(a,r))}catch(l){throw new bf(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new PT(e)}}class Po{constructor(t,e,r){this.name=t,this.version=e,this.Rt=r,12.2===Po.Pt((0,Dt.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),pd(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Dt.hl)())return!1;if(Po.vt())return!0;const t=(0,Dt.z$)(),e=Po.Pt(t),r=0<e&&e<10,a=Po.Vt(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(t){var e=this;return(0,re.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,a)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new bf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new xe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new bf(t,m))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.Rt.Nt(h.target.result,l.transaction,h.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=r=>e.kt(r)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,a){var l=this;return(0,re.Z)(function*(){const h="readonly"===e;let m=0;for(;;){++m;try{l.db=yield l.Ct(t);const b=j_.open(l.db,t,h?"readonly":"readwrite",r),T=a(b).catch(N=>(b.abort(N),Ie.reject(N))).toPromise();return T.catch(()=>{}),yield b.At,T}catch(b){const T="FirebaseError"!==b.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),l.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aS{constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return pd(this.$t.delete())}}class bf extends xe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function fd(n){return"IndexedDbTransactionError"===n.name}class PT{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),pd(r)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),pd(this.store.add(t))}get(t){return pd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),pd(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),pd(this.store.count())}Bt(t,e){const r=this.cursor(this.options(t,e)),a=[];return this.Ut(r,(l,h)=>{a.push(h)}).next(()=>a)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Kt=!1;const a=this.cursor(r);return this.Ut(a,(l,h,m)=>m.delete())}jt(t,e){let r;e?r=t:(r={},e=t);const a=this.cursor(r);return this.Ut(a,e)}Qt(t){const e=this.cursor({});return new Ie((r,a)=>{e.onerror=l=>{const h=pb(l.target.error);a(h)},e.onsuccess=l=>{const h=l.target.result;h?t(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(t,e){const r=[];return new Ie((a,l)=>{t.onerror=h=>{l(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const b=new aS(m),T=e(m.primaryKey,m.value,b);if(T instanceof Ie){const N=T.catch(M=>(b.done(),Ie.reject(M)));r.push(N)}b.isDone?a():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>Ie.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Kt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function pd(n){return new Ie((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const a=pb(r.target.error);e(a)}})}let H_=!1;function pb(n){const t=Po.Pt((0,Dt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return H_||(H_=!0,setTimeout(()=>{throw r},0)),r}}return n}class gb extends OT{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function is(n,t){const e=Ze(n);return Po.Dt(e.Wt,t)}class mb{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&dT(l,t,r[a])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&x_(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&x_(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Ft.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),En())}isEqual(t){return this.batchId===t.batchId&&nf(this.mutations,t.mutations,(e,r)=>Xv(e,r))&&nf(this.baseMutations,t.baseMutations,(e,r)=>Xv(e,r))}}class _b{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){ft(t.mutations.length===r.length);let a=nb();const l=t.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new _b(t,e,r,a)}}class Vl{constructor(t,e,r,a,l=Ft.min(),h=Ft.min(),m=cr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(t){return new Vl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class q_{constructor(t){this.Gt=t}}function yb(n,t){if(t.document)return ub(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Ke.fromSegments(t.noDocument.path),r=Cf(t.noDocument.readTime),a=Ln.newNoDocument(e,r);return t.hasCommittedMutations?a.setHasCommittedMutations():a}if(t.unknownDocument){const e=Ke.fromSegments(t.unknownDocument.path),r=Cf(t.unknownDocument.version);return Ln.newUnknownDocument(e,r)}return tt()}function vb(n,t,e){const r=bb(e),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:Un(m=n.Gt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:Ig(m,b.version.toTimestamp())};return new pr(null,null,l,t.hasCommittedMutations,r,a)}var m,b;if(t.isNoDocument()){const l=t.key.path.toArray(),h=wf(t.version),m=t.hasCommittedMutations;return new pr(null,new xT(l,h),null,m,r,a)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),h=wf(t.version);return new pr(new B_(l,h),null,null,!0,r,a)}return tt()}function bb(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function FT(n){const t=new ti(n[0],n[1]);return Ft.fromTimestamp(t)}function wf(n){const t=n.toTimestamp();return new oS(t.seconds,t.nanoseconds)}function Cf(n){const t=new ti(n.seconds,n.nanoseconds);return Ft.fromTimestamp(t)}function Tf(n,t){const e=(t.baseMutations||[]).map(l=>IT(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const h=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(h.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const r=t.mutations.map(l=>IT(n.Gt,l)),a=ti.fromMillis(t.localWriteTimeMs);return new mb(t.batchId,a,e,r)}function xg(n){const t=Cf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Cf(n.lastLimboFreeSnapshotVersion):Ft.min();let r;var a;return void 0!==n.query.documents?(ft(1===(a=n.query).documents.length),r=xo(ud(V_(a.documents[0])))):r=xo(NT(n.query)),new Vl(r,n.targetId,0,n.lastListenSequenceNumber,t,e,cr.fromBase64String(n.resumeToken))}function LT(n,t){const e=wf(t.snapshotVersion),r=wf(t.lastLimboFreeSnapshotVersion);let a;a=fg(t.target)?AT(n.Gt,t.target):ST(n.Gt,t.target);const l=t.resumeToken.toBase64();return new rs(t.targetId,df(t.target),e,l,t.sequenceNumber,r,a)}function wb(n){const t=NT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Wv(t,t.limit,"L"):t}class VT{getBundleMetadata(t,e){return Cb(t).get(e).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Cf(a.createTime),version:a.version};var a})}saveBundleMetadata(t,e){return Cb(t).put({bundleId:(r=e).id,createTime:wf(ni(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Tb(t).get(e).next(r=>{if(r)return{name:(a=r).name,query:wb(a.bundledQuery),readTime:Cf(a.readTime)};var a})}saveNamedQuery(t,e){return Tb(t).put({name:(r=e).name,readTime:wf(ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Cb(n){return is(n,yf.store)}function Tb(n){return is(n,vf.store)}class uS{constructor(){this.zt=new kg}addToCollectionParentIndex(t,e){return this.zt.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.zt.getEntries(e))}}class kg{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new fr(ln.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new fr(ln.comparator)).toArray()}}class UT{constructor(){this.Ht=new kg}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const r=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:r,parent:Ro(a)};return ZT(t).put(l)}return Ie.resolve()}getCollectionParents(t,e){const r=[],a=IDBKeyRange.bound([e,""],[JC(e),""],!1,!0);return ZT(t).Bt(a).next(l=>{for(const h of l){if(h.collectionId!==e)break;r.push(Ru(h.parent))}return r})}}function ZT(n){return is(n,hd.store)}const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fi{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Fi(t,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $_(n,t,e){const r=n.store(tr.store),a=n.store(ns.store),l=[],h=IDBKeyRange.only(e.batchId);let m=0;const b=r.jt({range:h},(N,M,V)=>(m++,V.delete()));l.push(b.next(()=>{ft(1===m)}));const T=[];for(const N of e.mutations){const M=ns.key(t,N.key.path,e.batchId);l.push(a.delete(M)),T.push(N.key)}return Ie.waitFor(l).next(()=>T)}function Rg(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw tt();t=n.noDocument}return JSON.stringify(t).length}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class Og{constructor(t,e,r,a){this.userId=t,this.k=e,this.Jt=r,this.referenceDelegate=a,this.Yt={}}static Xt(t,e,r,a){ft(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new Og(l,e,r,a)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).jt({index:tr.userMutationsIndex,range:r},(a,l,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,r,a){const l=Zl(t),h=Ul(t);return h.add({}).next(m=>{ft("number"==typeof m);const b=new mb(m,e,r,a),T=function(V,H,se){const ye=se.baseMutations.map(rt=>U_(V.Gt,rt)),Se=se.mutations.map(rt=>U_(V.Gt,rt));return new tr(H,se.batchId,se.localWriteTime.toMillis(),ye,Se)}(this.k,this.userId,b),N=[];let M=new fr((V,H)=>Kt(V.canonicalString(),H.canonicalString()));for(const V of a){const H=ns.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),N.push(h.put(T)),N.push(l.put(H,ns.PLACEHOLDER))}return M.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Ie.waitFor(N).next(()=>b)})}lookupMutationBatch(t,e){return Ul(t).get(e).next(r=>r?(ft(r.userId===this.userId),Tf(this.k,r)):null)}Zt(t,e){return this.Yt[e]?Ie.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const a=r.keys();return this.Yt[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ul(t).jt({index:tr.userMutationsIndex,range:a},(h,m,b)=>{m.userId===this.userId&&(ft(m.batchId>=r),l=Tf(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ul(t).jt({index:tr.userMutationsIndex,range:e,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).Bt(tr.userMutationsIndex,e).next(r=>r.map(a=>Tf(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=ns.prefixForPath(this.userId,e.path),a=IDBKeyRange.lowerBound(r),l=[];return Zl(t).jt({range:a},(h,m,b)=>{const[T,N,M]=h,V=Ru(N);if(T===this.userId&&e.path.isEqual(V))return Ul(t).get(M).next(H=>{if(!H)throw tt();ft(H.userId===this.userId),l.push(Tf(this.k,H))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new fr(Kt);const a=[];return e.forEach(l=>{const h=ns.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=Zl(t).jt({range:m},(T,N,M)=>{const[V,H,se]=T,ye=Ru(H);V===this.userId&&l.path.isEqual(ye)?r=r.add(se):M.done()});a.push(b)}),Ie.waitFor(a).next(()=>this.te(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1,l=ns.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new fr(Kt);return Zl(t).jt({range:h},(b,T,N)=>{const[M,V,H]=b,se=Ru(V);M===this.userId&&r.isPrefixOf(se)?se.length===a&&(m=m.add(H)):N.done()}).next(()=>this.te(t,m))}te(t,e){const r=[],a=[];return e.forEach(l=>{a.push(Ul(t).get(l).next(h=>{if(null===h)throw tt();ft(h.userId===this.userId),r.push(Tf(this.k,h))}))}),Ie.waitFor(a).next(()=>r)}removeMutationBatch(t,e){return $_(t.Wt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Ie.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ie.resolve();const r=IDBKeyRange.lowerBound(ns.prefixForUser(this.userId)),a=[];return Zl(t).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=Ru(l[1]);a.push(b)}else m.done()}).next(()=>{ft(0===a.length)})})}containsKey(t,e){return jT(t,this.userId,e)}ne(t){return HT(t).get(this.userId).next(e=>e||new dd(this.userId,-1,""))}}function jT(n,t,e){const r=ns.prefixForPath(t,e.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Zl(n).jt({range:l,Kt:!0},(m,b,T)=>{const[N,M,V]=m;N===t&&M===a&&(h=!0),T.done()}).next(()=>h)}function Ul(n){return is(n,tr.store)}function Zl(n){return is(n,ns.store)}function HT(n){return is(n,dd.store)}class Bl{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new Bl(0)}static re(){return new Bl(-1)}}class lS{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const r=new Bl(e.highestTargetId);return e.highestTargetId=r.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Ft.fromTimestamp(new ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.oe(t).next(a=>(a.highestListenSequenceNumber=e,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.ae(t,a)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(r=>(r.targetCount+=1,this.ue(e,r),this.ae(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gd(t).delete(e.targetId)).next(()=>this.oe(t)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.ae(t,r)))}removeTargets(t,e,r){let a=0;const l=[];return gd(t).jt((h,m)=>{const b=xg(m);b.sequenceNumber<=e&&null===r.get(b.targetId)&&(a++,l.push(this.removeTargetData(t,b)))}).next(()=>Ie.waitFor(l)).next(()=>a)}forEachTarget(t,e){return gd(t).jt((r,a)=>{const l=xg(a);e(l)})}oe(t){return Db(t).get(no.key).next(e=>(ft(null!==e),e))}ae(t,e){return Db(t).put(no.key,e)}ce(t,e){return gd(t).put(LT(this.k,e))}ue(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const r=df(e),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gd(t).jt({range:a,index:rs.queryTargetsIndexName},(h,m,b)=>{const T=xg(m);hg(e,T.target)&&(l=T,b.done())}).next(()=>l)}addMatchingKeys(t,e,r){const a=[],l=Pu(t);return e.forEach(h=>{const m=Ro(h.path);a.push(l.put(new br(r,m))),a.push(this.referenceDelegate.addReference(t,r,h))}),Ie.waitFor(a)}removeMatchingKeys(t,e,r){const a=Pu(t);return Ie.forEach(e,l=>{const h=Ro(l.path);return Ie.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=Pu(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),a=Pu(t);let l=En();return a.jt({range:r,Kt:!0},(h,m,b)=>{const T=Ru(h[1]),N=new Ke(T);l=l.add(N)}).next(()=>l)}containsKey(t,e){const r=Ro(e.path),a=IDBKeyRange.bound([r],[JC(r)],!1,!0);let l=0;return Pu(t).jt({index:br.documentTargetsIndex,Kt:!0,range:a},([h,m],b,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Et(t,e){return gd(t).get(e).next(r=>r?xg(r):null)}}function gd(n){return is(n,rs.store)}function Db(n){return is(n,no.store)}function Pu(n){return is(n,br.store)}function Df(n){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,re.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==RT)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function md([n,t],[e,r]){const a=Kt(n,e);return 0===a?Kt(t,r):a}class Lx{constructor(t){this.he=t,this.buffer=new fr(md),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();md(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Ib{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const r=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,re.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(a){fd(a)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Df(a)}yield e.me(t)}))}}class G_{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ie.resolve(Oi.I);const r=new Lx(e);return this.ge.forEachTarget(t,a=>r.de(a.sequenceNumber)).next(()=>this.ge.pe(t,a=>r.de(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.ge.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(BT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let r,a,l,h,m,b,T;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,h=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(r=M,m=Date.now(),this.removeTargets(t,r,e))).next(M=>(l=M,b=Date.now(),this.removeOrphanedDocuments(t,r))).next(M=>(T=Date.now(),WC()<=Ua.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(T-b)+`ms\nTotal Duration: ${T-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:M})))}}class cS{constructor(t,e){this.db=t,this.garbageCollector=new G_(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}Ee(t){let e=0;return this.pe(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(r,a)=>e(a))}addReference(t,e,r){return Fu(t,r)}removeReference(t,e,r){return Fu(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Fu(t,e)}Ae(t,e){return function(r,a){let l=!1;return HT(r).Qt(h=>jT(r,h,a).next(m=>(m&&(l=!0),Ie.resolve(!m)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ie(t,(h,m)=>{if(m<=e){const b=this.Ae(t,h).next(T=>{if(!T)return l++,r.getEntry(t,h).next(()=>(r.removeEntry(h),Pu(t).delete([0,Ro(h.path)])))});a.push(b)}}).next(()=>Ie.waitFor(a)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Fu(t,e)}Ie(t,e){const r=Pu(t);let a,l=Oi.I;return r.jt({index:br.documentTargetsIndex},([h,m],{path:b,sequenceNumber:T})=>{0===h?(l!==Oi.I&&e(new Ke(Ru(a)),l),l=T,a=b):l=Oi.I}).next(()=>{l!==Oi.I&&e(new Ke(Ru(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Fu(n,t){return Pu(n).put((r=n.currentSequenceNumber,new br(0,Ro(t.path),r)));var r}class Ef{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return 1===r.length?delete this.inner[e]:r.splice(a,1),!0;return!1}forEach(t){rd(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Hv(this.inner)}}class dS{constructor(){this.changes=new Ef(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Ft.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Ln.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ie.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hS{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,r){return _d(t).put(yd(e),r)}removeEntry(t,e){const r=_d(t),a=yd(e);return r.delete(a)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Re(t,r)))}getEntry(t,e){return _d(t).get(yd(e)).next(r=>this.Pe(e,r))}be(t,e){return _d(t).get(yd(e)).next(r=>({document:this.Pe(e,r),size:Rg(r)}))}getEntries(t,e){let r=to();return this.ve(t,e,(a,l)=>{const h=this.Pe(a,l);r=r.insert(a,h)}).next(()=>r)}Ve(t,e){let r=to(),a=new $r(Ke.comparator);return this.ve(t,e,(l,h)=>{const m=this.Pe(l,h);r=r.insert(l,m),a=a.insert(l,Rg(h))}).next(()=>({documents:r,Se:a}))}ve(t,e,r){if(e.isEmpty())return Ie.resolve();const a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let h=l.getNext();return _d(t).jt({range:a},(m,b,T)=>{const N=Ke.fromSegments(m);for(;h&&Ke.comparator(h,N)<0;)r(h,null),h=l.getNext();h&&h.isEqual(N)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r){let a=to();const l=e.path.length+1,h={};if(r.isEqual(Ft.min())){const m=e.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=e.path.toArray(),b=bb(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=pr.collectionReadTimeIndex}return _d(t).jt(h,(m,b,T)=>{if(m.length!==l)return;const N=yb(this.k,b);e.path.isPrefixOf(N.key.path)?ff(e,N)&&(a=a.insert(N.key,N)):T.done()}).next(()=>a)}newChangeBuffer(t){return new Wa(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Ab(t).get(za.key).next(e=>(ft(!!e),e))}Re(t,e){return Ab(t).put(za.key,e)}Pe(t,e){if(e){const r=yb(this.k,e);if(!r.isNoDocument()||!r.version.isEqual(Ft.min()))return r}return Ln.newInvalidDocument(t)}}class Wa extends dS{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Ef(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(t){const e=[];let r=0,a=new fr((l,h)=>Kt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=vb(this.De.k,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=Rg(b)-m,e.push(this.De.addEntry(t,l,b))}else if(r-=m,this.trackRemovals){const b=vb(this.De.k,Ln.newNoDocument(l,Ft.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,b))}else e.push(this.De.removeEntry(t,l))}),a.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,r)),Ie.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(r=>(this.Ce.set(e,r.size),r.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:r,Se:a})=>(a.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function Ab(n){return is(n,za.store)}function _d(n){return is(n,pr.store)}function yd(n){return n.path.toArray()}class fS{constructor(t){this.k=t}Nt(t,e,r,a){ft(r<a&&r>=0&&a<=11);const l=new j_("createOrUpgrade",e);var m;r<1&&a>=1&&(t.createObjectStore(Oo.store),(m=t).createObjectStore(dd.store,{keyPath:dd.keyPath}),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ns.store),qT(t),function(m){m.createObjectStore(pr.store)}(t));let h=Ie.resolve();return r<3&&a>=3&&(0!==r&&(function(m){m.deleteObjectStore(br.store),m.deleteObjectStore(rs.store),m.deleteObjectStore(no.store)}(t),qT(t)),h=h.next(()=>function(m){const b=m.store(no.store),T=new no(0,0,Ft.min().toTimestamp(),0);return b.put(no.key,T)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(tr.store).Bt().next(T=>{m.deleteObjectStore(tr.store),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});const N=b.store(tr.store),M=T.map(V=>N.put(V));return Ie.waitFor(M)})}(t,l))),h=h.next(()=>{!function(m){m.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(t)})),r<5&&a>=5&&(h=h.next(()=>this.Ne(l))),r<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(za.store)}(t),this.ke(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.$e(t,l))),r<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t),function(m){const b=m.objectStore(pr.store);b.createIndex(pr.readTimeIndex,pr.readTimeIndexPath,{unique:!1}),b.createIndex(pr.collectionReadTimeIndex,pr.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&a>=10&&(h=h.next(()=>this.Fe(l))),r<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(yf.store,{keyPath:yf.keyPath})})(t),function(m){m.createObjectStore(vf.store,{keyPath:vf.keyPath})}(t)})),h}ke(t){let e=0;return t.store(pr.store).jt((r,a)=>{e+=Rg(a)}).next(()=>{const r=new za(e);return t.store(za.store).put(za.key,r)})}Ne(t){const e=t.store(dd.store),r=t.store(tr.store);return e.Bt().next(a=>Ie.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(tr.userMutationsIndex,h).next(m=>Ie.forEach(m,b=>{ft(b.userId===l.userId);const T=Tf(this.k,b);return $_(t,l.userId,T).next(()=>{})}))}))}xe(t){const e=t.store(br.store),r=t.store(pr.store);return t.store(no.store).get(no.key).next(a=>{const l=[];return r.jt((h,m)=>{const b=new ln(h),T=[0,Ro(b)];l.push(e.get(T).next(N=>N?Ie.resolve():e.put(new br(0,Ro(b),a.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(l))})}$e(t,e){t.createObjectStore(hd.store,{keyPath:hd.keyPath});const r=e.store(hd.store),a=new kg,l=h=>{if(a.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Ro(b)})}};return e.store(pr.store).jt({Kt:!0},(h,m)=>{const b=new ln(h);return l(b.popLast())}).next(()=>e.store(ns.store).jt({Kt:!0},([h,m,b],T)=>{const N=Ru(m);return l(N.popLast())}))}Fe(t){const e=t.store(rs.store);return e.jt((r,a)=>{const l=xg(a),h=LT(this.k,l);return e.put(h)})}}function qT(n){n.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.documentTargetsIndex,br.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(no.store)}const $T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sb{constructor(t,e,r,a,l,h,m,b,T,N){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Me=T,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!Sb.bt())throw new xe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cS(this,a),this.Ge=e+"main",this.k=new q_(b),this.ze=new Po(this.Ge,11,new fS(this.k)),this.He=new lS(this.referenceDelegate,this.k),this.Jt=new UT,this.Je=new hS(this.k,this.Jt),this.Ye=new VT,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,$T);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Oi(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var r=(0,re.Z)(function*(a){if(e.started)return t(a)});return function(a){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,re.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,re.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>z_(t).put(new Ou(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(fd(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return Pg(t).get(Oo.key).next(e=>Ie.resolve(this.un(e)))}hn(t){return z_(t).delete(this.clientId)}ln(){var t=this;return(0,re.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=is(r,Ou.store);return a.Bt().next(l=>{const h=t.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Ie.forEach(m,b=>a.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(t.Xe)for(const r of e)t.Xe.removeItem(t.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Ie.resolve(!0):Pg(t).get(Oo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,$T);return!1}}return!(!this.networkEnabled||!this.inForeground)||z_(t).Bt().next(r=>void 0===this.dn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,re.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Oo.store,Ou.store],e=>{const r=new gb(e,Oi.I);return t.an(r).next(()=>t.hn(r))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(r=>this.fn(r.updateTimeMs,e)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>z_(t).Bt().next(e=>this.dn(e,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(t){return Og.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,r){let l;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",kT,h=>(l=new gb(h,this.Be?this.Be.next():Oi.I),"readwrite-primary"===e?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw Sr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new xe(me.FAILED_PRECONDITION,RT);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(t){return Pg(t).get(Oo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(me.FAILED_PRECONDITION,$T)})}cn(t){const e=new Oo(this.clientId,this.allowTabSynchronization,Date.now());return Pg(t).put(Oo.key,e)}static bt(){return Po.bt()}an(t){const e=Pg(t);return e.get(Oo.key).next(r=>this.un(r)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Oo.key)):Ie.resolve())}fn(t,e){const r=Date.now();return!(t<r-e||t>r&&(Sr(`Detected an update time that is in the future: ${t} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Dt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const r=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Sr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Pg(n){return is(n,Oo.store)}function z_(n){return is(n,Ou.store)}function Fg(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class GT{constructor(t,e){this.progress=t,this.In=e}}class W_{constructor(t,e,r){this.Je=t,this.An=e,this.Jt=r}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Pn(t,e,r))}Pn(t,e,r){return this.Je.getEntry(t,e).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}bn(t,e){t.forEach((r,a)=>{for(const l of e)l.applyToLocalView(a)})}vn(t,e){return this.Je.getEntries(t,e).next(r=>this.Vn(t,r).next(()=>r))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return Ke.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(t,e.path):yg(e)?this.Dn(t,e,r):this.Cn(t,e,r);var a}Sn(t,e){return this.Rn(t,new Ke(e)).next(r=>{let a=R_();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Dn(t,e,r){const a=e.collectionGroup;let l=R_();return this.Jt.getCollectionParents(t,a).next(h=>Ie.forEach(h,m=>{const b=(T=e,N=m.child(a),new Mu(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Cn(t,b,r).next(T=>{T.forEach((N,M)=>{l=l.insert(N,M)})})}).next(()=>l))}Cn(t,e,r){let a,l;return this.Je.getDocumentsMatchingQuery(t,e,r).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(l=h,this.Nn(t,l,a).next(m=>{a=m;for(const b of l)for(const T of b.mutations){const N=T.key;let M=a.get(N);null==M&&(M=Ln.newInvalidDocument(N),a=a.insert(N,M)),x_(T,M,b.localWriteTime),M.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((h,m)=>{ff(e,m)||(a=a.remove(h))}),a))}Nn(t,e,r){let a=En();for(const h of e)for(const m of h.mutations)m instanceof xu&&null===r.get(m.key)&&(a=a.add(m.key));let l=r;return this.Je.getEntries(t,a).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class Y_{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.kn=r,this.xn=a}static $n(t,e){let r=En(),a=En();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Y_(t,e.fromCache,r,a)}}class zT{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,r,a){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ft.min())?this.Mn(t,e):this.On.vn(t,a).next(l=>{const h=this.Ln(e,l);return(N_(e)||mg(e))&&this.Bn(e.limitType,h,a,r)?this.Mn(t,e):(WC()<=Ua.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eo(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(t,e){let r=new fr(Yv(t));return e.forEach((a,l)=>{ff(t,l)&&(r=r.add(l))}),r}Bn(t,e,r,a){if(r.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mn(t,e){return WC()<=Ua.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",eo(e)),this.On.getDocumentsMatchingQuery(t,e,Ft.min())}}class Vx{constructor(t,e,r,a){this.persistence=t,this.Un=e,this.k=a,this.qn=new $r(Kt),this.Kn=new Ef(l=>df(l),hg),this.jn=Ft.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new W_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function WT(n,t,e,r){return new Vx(n,t,e,r)}function YT(n,t){return Nb.apply(this,arguments)}function Nb(){return(Nb=(0,re.Z)(function*(n,t){const e=Ze(n);let r=e.An,a=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let m;return e.An.getAllMutationBatches(h).next(b=>(m=b,r=e.persistence.getMutationQueue(t),a=new W_(e.Qn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const T=[],N=[];let M=En();for(const V of m){T.push(V.batchId);for(const H of V.mutations)M=M.add(H.key)}for(const V of b){N.push(V.batchId);for(const H of V.mutations)M=M.add(H.key)}return a.vn(h,M).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:N}))})});return e.An=r,e.Wn=a,e.Un.Fn(e.Wn),l})).apply(this,arguments)}function KT(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,T){const N=b.batch,M=N.keys();let V=Ie.resolve();return M.forEach(H=>{V=V.next(()=>T.getEntry(m,H)).next(se=>{const ye=b.docVersions.get(H);ft(null!==ye),se.version.compareTo(ye)<0&&(N.applyToRemoteDocument(se,b),se.isValidDocument()&&T.addEntry(se,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,N))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.An.performConsistencyCheck(r)).next(()=>e.Wn.vn(r,a))})}function Mb(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function JT(n,t){const e=Ze(n),r=t.snapshotVersion;let a=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Qn.newChangeBuffer({trackRemovals:!0});a=e.qn;const m=[];t.targetChanges.forEach((T,N)=>{const M=a.get(N);if(!M)return;m.push(e.He.removeMatchingKeys(l,T.removedDocuments,N).next(()=>e.He.addMatchingKeys(l,T.addedDocuments,N)));const V=T.resumeToken;if(V.approximateByteSize()>0){const H=M.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,H),se=M,Se=T,ft((ye=H).resumeToken.approximateByteSize()>0),(0===se.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(e.He.updateTargetData(l,H))}var se,ye,Se});let b=to();if(t.documentUpdates.forEach((T,N)=>{t.resolvedLimboDocuments.has(T)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(QT(l,h,t.documentUpdates,r,void 0).next(T=>{b=T})),!r.isEqual(Ft.min())){const T=e.He.getLastRemoteSnapshotVersion(l).next(N=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(T)}return Ie.waitFor(m).next(()=>h.apply(l)).next(()=>e.Wn.Vn(l,b)).next(()=>b)}).then(l=>(e.qn=a,l))}function QT(n,t,e,r,a){let l=En();return e.forEach(h=>l=l.add(h)),t.getEntries(n,l).next(h=>{let m=to();return e.forEach((b,T)=>{const N=h.get(b),M=(null==a?void 0:a.get(b))||r;T.isNoDocument()&&T.version.isEqual(Ft.min())?(t.removeEntry(b,M),m=m.insert(b,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(t.addEntry(T,M),m=m.insert(b,T)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",T.version)}),m})}function pS(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(r,t)))}function vd(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.He.getTargetData(r,t).next(l=>l?(a=l,Ie.resolve(a)):e.He.allocateTargetId(r).next(h=>(a=new Vl(t,h,0,r.currentSequenceNumber),e.He.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.qn.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.qn=e.qn.insert(r.targetId,r),e.Kn.set(t,r.targetId)),r})}function Lu(n,t,e){return xb.apply(this,arguments)}function xb(){return(xb=(0,re.Z)(function*(n,t,e){const r=Ze(n),a=r.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!fd(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}r.qn=r.qn.remove(t),r.Kn.delete(a.target)})).apply(this,arguments)}function Lg(n,t,e){const r=Ze(n);let a=Ft.min(),l=En();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,T){const N=Ze(m),M=N.Kn.get(T);return void 0!==M?Ie.resolve(N.qn.get(M)):N.He.getTargetData(b,T)}(r,h,xo(t)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,t,e?a:Ft.min(),e?l:En())).next(m=>({documents:m,zn:l})))}function Vg(n,t){const e=Ze(n),r=Ze(e.He),a=e.qn.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,t).next(h=>h?h.target:null))}function Ug(n){const t=Ze(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,a,l){const h=Ze(r);let m=to(),b=bb(l);const T=_d(a),N=IDBKeyRange.lowerBound(b,!0);return T.jt({index:pr.readTimeIndex,range:N},(M,V)=>{const H=yb(h.k,V);m=m.insert(H.key,H),b=V.readTime}).next(()=>({In:m,readTime:FT(b)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:r})=>(t.jn=r,e))}function kb(){return(kb=(0,re.Z)(function*(n){const t=Ze(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const a=_d(r);let l=Ft.min();return a.jt({index:pr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=FT(m.readTime)),b.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function XT(){return(XT=(0,re.Z)(function*(n,t,e,r){const a=Ze(n);let l=En(),h=to(),m=nb();for(const N of e){const M=t.Hn(N.metadata.name);N.document&&(l=l.add(M)),h=h.insert(M,t.Jn(N)),m=m.insert(M,t.Yn(N.metadata.readTime))}const b=a.Qn.newChangeBuffer({trackRemovals:!0}),T=yield vd(a,(N=r,xo(ud(ln.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>QT(N,b,h,Ft.min(),m).next(M=>(b.apply(N),M)).next(M=>a.He.removeMatchingKeysForTargetId(N,T.targetId).next(()=>a.He.addMatchingKeys(N,l,T.targetId)).next(()=>a.Wn.Vn(N,M)).next(()=>M)))})).apply(this,arguments)}function mS(n,t){return Rb.apply(this,arguments)}function Rb(){return(Rb=(0,re.Z)(function*(n,t,e=En()){const r=yield vd(n,xo(wb(t.bundledQuery))),a=Ze(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=ni(t.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(l,t);const m=r.withResumeToken(cr.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(m.targetId,m),a.He.updateTargetData(l,m).next(()=>a.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.He.addMatchingKeys(l,e,r.targetId)).next(()=>a.Ye.saveNamedQuery(l,t))})})).apply(this,arguments)}class _S{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Ie.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var r;return this.Xn.set(e.id,{id:(r=e).id,version:r.version,createTime:ni(r.createTime)}),Ie.resolve()}getNamedQuery(t,e){return Ie.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(r=e).name,query:wb(r.bundledQuery),readTime:ni(r.readTime)}),Ie.resolve();var r}}class Ob{constructor(){this.ts=new fr(ri.es),this.ns=new fr(ri.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const r=new ri(t,e);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.os(new ri(t,e))}cs(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new Ke(new ln([])),r=new ri(e,t),a=new ri(e,t+1),l=[];return this.ns.forEachInRange([r,a],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new Ke(new ln([])),r=new ri(e,t),a=new ri(e,t+1);let l=En();return this.ns.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ri(t,0),r=this.ts.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class ri{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return Ke.comparator(t.key,e.key)||Kt(t.fs,e.fs)}static ss(t,e){return Kt(t.fs,e.fs)||Ke.comparator(t.key,e.key)}}class yS{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new fr(ri.es)}checkEmpty(t){return Ie.resolve(0===this.An.length)}addMutationBatch(t,e,r,a){const l=this.ds;this.ds++;const h=new mb(l,e,r,a);this.An.push(h);for(const m of a)this.ws=this.ws.add(new ri(m.key,l)),this.Jt.addToCollectionParentIndex(t,m.key.path.popLast());return Ie.resolve(h)}lookupMutationBatch(t,e){return Ie.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const a=this.gs(e+1),l=a<0?0:a;return Ie.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Ie.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ri(e,0),a=new ri(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,a],h=>{const m=this._s(h.fs);l.push(m)}),Ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new fr(Kt);return e.forEach(a=>{const l=new ri(a,0),h=new ri(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Ie.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;Ke.isDocumentKey(l)||(l=l.child(""));const h=new ri(new Ke(l),0);let m=new fr(Kt);return this.ws.forEachWhile(b=>{const T=b.key.path;return!!r.isPrefixOf(T)&&(T.length===a&&(m=m.add(b.fs)),!0)},h),Ie.resolve(this.ys(m))}ys(t){const e=[];return t.forEach(r=>{const a=this._s(r);null!==a&&e.push(a)}),e}removeMutationBatch(t,e){ft(0===this.ps(e.batchId,"removed")),this.An.shift();let r=this.ws;return Ie.forEach(e.mutations,a=>{const l=new ri(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.ws=r})}ee(t){}containsKey(t,e){const r=new ri(e,0),a=this.ws.firstAfterOrEqual(r);return Ie.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return Ie.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class vS{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new $r(Ke.comparator),this.size=0}addEntry(t,e,r){const a=e.key,l=this.docs.get(a),h=l?l.size:0,m=this.Ts(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ie.resolve(r?r.document.clone():Ln.newInvalidDocument(e))}getEntries(t,e){let r=to();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.clone():Ln.newInvalidDocument(a))}),Ie.resolve(r)}getDocumentsMatchingQuery(t,e,r){let a=to();const l=new Ke(e.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:T}}=h.getNext();if(!e.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||ff(e,b)&&(a=a.insert(b.key,b.clone()))}return Ie.resolve(a)}Es(t,e){return Ie.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new bS(this)}getSize(t){return Ie.resolve(this.size)}}class bS extends dS{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?e.push(this.De.addEntry(t,a.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ie.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class wS{constructor(t){this.persistence=t,this.Is=new Ef(e=>df(e),hg),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ob,this.targetCount=0,this.Ps=Bl.ie()}forEachTarget(t,e){return this.Is.forEach((r,a)=>e(a)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.As&&(this.As=e),Ie.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.ce(e),Ie.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=e&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),a++)}),Ie.waitFor(l).next(()=>a)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const r=this.Is.get(e)||null;return Ie.resolve(r)}addMatchingKeys(t,e,r){return this.Rs.rs(e,r),Ie.resolve()}removeMatchingKeys(t,e,r){this.Rs.cs(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(h=>{l.push(a.markPotentiallyOrphaned(t,h))}),Ie.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Rs.ls(e);return Ie.resolve(r)}containsKey(t,e){return Ie.resolve(this.Rs.containsKey(e))}}class Ux{constructor(t,e){this.bs={},this.Be=new Oi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new wS(this),this.Jt=new uS,this.Je=new vS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new q_(e),this.Ye=new _S(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new yS(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,r){Le("MemoryPersistence","Starting transaction:",t);const a=new CS(this.Be.next());return this.referenceDelegate.Vs(),r(a).next(l=>this.referenceDelegate.Ss(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ds(t,e){return Ie.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class CS extends OT{constructor(t){super(),this.currentSequenceNumber=t}}class bd{constructor(t){this.persistence=t,this.Cs=new Ob,this.Ns=null}static ks(t){return new bd(t)}get xs(){if(this.Ns)return this.Ns;throw tt()}addReference(t,e,r){return this.Cs.addReference(r,e),this.xs.delete(r.toString()),Ie.resolve()}removeReference(t,e,r){return this.Cs.removeReference(r,e),this.xs.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,r=>{const a=Ke.fromPath(r);return this.$s(t,a).next(l=>{l||e.removeEntry(a)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Ie.or([()=>Ie.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function eD(n,t){return`firestore_clients_${n}_${t}`}function tD(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Pb(n,t){return`firestore_targets_${n}_${t}`}class wd{constructor(t,e,r,a){this.user=t,this.batchId=e,this.state=r,this.error=a}static Fs(t,e,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new xe(a.error.code,a.error.message))),h?new wd(t,e,a.state,l):(Sr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class oa{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Fs(t,e){const r=JSON.parse(e);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new xe(r.error.code,r.error.message))),l?new oa(t,r.state,a):(Sr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const r=JSON.parse(e);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=Dg();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=b_(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new Bg(t,l):(Sr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Fb{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Fb(e.clientId,e.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class nD{constructor(){this.activeTargetIds=Dg()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lb{constructor(t,e,r,a,l){this.window=t,this.Oe=e,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new $r(Kt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=eD(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new nD),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,re.Z)(function*(){const e=yield t.syncEngine.Tn();for(const a of e){if(a===t.Bs)continue;const l=t.getItem(eD(t.persistenceKey,a));if(l){const h=Bg.Fs(a,l);h&&(t.Ks=t.Ks.insert(h.clientId,h))}}t.Xs();const r=t.storage.getItem(t.Js);if(r){const a=t.Zs(r);a&&t.ti(a)}for(const a of t.js)t.qs(a);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((r,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,r){this.ni(t,e,r),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(Pb(this.persistenceKey,t));if(r){const a=oa.Fs(t,r);a&&(e=a.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Pb(this.persistenceKey,t))}updateQueryState(t,e,r){this.ri(t,e,r)}handleUserChange(t,e,r){e.forEach(a=>{this.si(a)}),this.currentUser=t,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,re.Z)(function*(){if(e.started){if(null!==r.key)if(e.Gs.test(r.key)){if(null==r.newValue){const a=e.ci(r.key);return e.ui(a,null)}{const a=e.hi(r.key,r.newValue);if(a)return e.ui(a.clientId,a)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const a=e.li(r.key,r.newValue);if(a)return e.fi(a)}}else if(e.Hs.test(r.key)){if(null!==r.newValue){const a=e.di(r.key,r.newValue);if(a)return e.wi(a)}}else if(r.key===e.Js){if(null!==r.newValue){const a=e.Zs(r.newValue);if(a)return e.ti(a)}}else if(r.key===e.Ws){const a=function(l){let h=Oi.I;if(null!=l)try{const m=JSON.parse(l);ft("number"==typeof m),h=m}catch(m){Sr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);a!==Oi.I&&e.sequenceNumberHandler(a)}else if(r.key===e.Ys)return e.syncEngine._i()}else e.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,r){const a=new wd(this.currentUser,t,e,r),l=tD(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Os())}si(t){const e=tD(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,r){const a=Pb(this.persistenceKey,t),l=new oa(t,e,r);this.setItem(a,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const r=this.ci(t);return Bg.Fs(r,e)}li(t,e){const r=this.zs.exec(t),a=Number(r[1]);return wd.Fs(new Ri(void 0!==r[2]?r[2]:null),a,e)}di(t,e){const r=this.Hs.exec(t),a=Number(r[1]);return oa.Fs(a,e)}Zs(t){return Fb.Fs(t)}fi(t){var e=this;return(0,re.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const r=e?this.Ks.insert(t,e):this.Ks.remove(t),a=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{a.has(b)||h.push(b)}),a.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=Dg();return t.forEach((r,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class jg{constructor(){this.pi=new nD,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,r){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new nD,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class TS{Ei(t){}shutdown(){}}class rD{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sD{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class Vb extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,r,a,l){const h=this.Ui(t,e);Le("RestConnection","Sending: ",h,r);const m={};return this.qi(m,a,l),this.Ki(t,h,m,r).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw __("RestConnection",`${t} failed with error: `,b,"url: ",h,"request:",r),b})}ji(t,e,r,a,l){return this.Bi(t,e,r,a,l)}qi(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ef,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}Ui(t,e){return`${this.Mi}/v1/${e}:${iD[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,r,a){return new Promise((l,h)=>{const m=new ZA;m.listenOnce(Nx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Fv.NO_ERROR:const T=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(T)),l(T);break;case Fv.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),h(new xe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Fv.HTTP_ERROR:const N=m.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function(H){const se=H.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(se)>=0?se:me.UNKNOWN}(M.status);h(new xe(V,M.message))}else h(new xe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(me.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(a);m.send(e,"POST",b,r,15)})}Qi(t,e,r){const a=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=$C(),h=GC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new UA({})),this.qi(m.initMessageHeaders,e,r),(0,Dt.uI)()||(0,Dt.b$)()||(0,Dt.d)()||(0,Dt.w1)()||(0,Dt.Mn)()||(0,Dt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=a.join("");Le("Connection","Creating WebChannel: "+b,m);const T=l.createWebChannel(b,m);let N=!1,M=!1;const V=new sD({Vi:se=>{M?Le("Connection","Not sending because WebChannel is closed:",se):(N||(Le("Connection","Opening WebChannel transport."),T.open(),N=!0),Le("Connection","WebChannel sending:",se),T.send(se))},Si:()=>T.close()}),H=(se,ye,Se)=>{se.listen(ye,rt=>{try{Se(rt)}catch(Je){setTimeout(()=>{throw Je},0)}})};return H(T,lg.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),H(T,lg.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),V.Fi())}),H(T,lg.EventType.ERROR,se=>{M||(M=!0,__("Connection","WebChannel transport errored:",se),V.Fi(new xe(me.UNAVAILABLE,"The operation could not be completed")))}),H(T,lg.EventType.MESSAGE,se=>{var ye;if(!M){const Se=se.data[0];ft(!!Se);const rt=Se,Je=rt.error||(null===(ye=rt[0])||void 0===ye?void 0:ye.error);if(Je){Le("Connection","WebChannel received error:",Je);const St=Je.status;let ot=function(Gr){const Wu=Nr[Gr];if(void 0!==Wu)return vT(Wu)}(St),cn=Je.message;void 0===ot&&(ot=me.INTERNAL,cn="Unknown error status: "+St+" with message "+Je.message),M=!0,V.Fi(new xe(ot,cn)),T.close()}else Le("Connection","WebChannel received:",Se),V.Oi(Se)}}),H(h,VA.STAT_EVENT,se=>{se.stat===Lv.PROXY?Le("Connection","Detected buffering proxy"):se.stat===Lv.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function Ub(){return"undefined"!=typeof window?window:null}function Hg(){return"undefined"!=typeof document?document:null}function qg(n){return new eS(n,!0)}class Zb{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Wi=r,this.Gi=a,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),a=Math.max(0,e-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Bb{constructor(t,e,r,a,l,h,m,b){this.Oe=t,this.nr=r,this.sr=a,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Zb(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,re.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,re.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,re.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==t?r.ur.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Sr(e.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):e&&e.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.rr===e&&this.Ir(r,a)},r=>{t(()=>{const a=new xe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(a)})})}Ir(t,e){const r=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{r(()=>this.Ar(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}dr(){var t=this;this.state=5,this.ur.Zi((0,re.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DS extends Bb{constructor(t,e,r,a,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,h),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:tt(),a=t.targetChange.targetIds||[],l=function(b,T){return b.C?(ft(void 0===T||"string"==typeof T),cr.fromBase64String(T||"")):(ft(void 0===T||T instanceof Uint8Array),cr.fromUint8Array(T||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(b){const T=void 0===b.code?me.UNKNOWN:vT(b.code);return new xe(T,b.message||"")}(h);e=new XA(r,a,l,m||null)}else if("documentChange"in t){const r=t.documentChange,a=ku(n,r.document.name),l=ni(r.document.updateTime),h=new _i({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(a,l,h);e=new O_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,a=ku(n,r.document),l=r.readTime?ni(r.readTime):Ft.min(),h=Ln.newNoDocument(a,l);e=new O_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const r=t.documentRemove,a=ku(n,r.document);e=new O_([],r.removedTargetIds||[],a,null)}else{if(!("filter"in t))return tt();{const r=t.filter,l=new _T(r.count||0);e=new cd(r.targetId,l)}}var b;return e}(this.k,t),r=function(a){if(!("targetChange"in a))return Ft.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?ni(l.readTime):Ft.min()}(t);return this.listener.Pr(e,r)}br(t){const e={};e.database=Sg(this.k),e.addTarget=function(a,l){let h;const m=l.target;return h=fg(m)?{documents:AT(a,m)}:{query:ST(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=DT(a,l.resumeToken):l.snapshotVersion.compareTo(Ft.min())>0&&(h.readTime=Ig(a,l.snapshotVersion.toTimestamp())),h}(this.k,t);const r=function(n,t){const e=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.gr(e)}vr(t){const e={};e.database=Sg(this.k),e.removeTarget=t,this.gr(e)}}class oD extends Bb{constructor(t,e,r,a,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(ft(void 0!==t),n.map(e=>function(r,a){let l=ni(r.updateTime?r.updateTime:a);return l.isEqual(Ft.min())&&(l=ni(a)),new cT(l,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=ni(t.commitTime);return this.listener.Cr(r,e)}return ft(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Sg(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>U_(this.k,r))};this.gr(e)}}class K_ extends class{}{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=r,this.k=a,this.$r=!1}Fr(){if(this.$r)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.Bi(t,e,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(me.UNKNOWN,a.toString())})}ji(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.ji(t,e,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(me.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class J_{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Sr(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Zx{constructor(t,e,r,a,l){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,re.Z)(function*(){var b;Cd(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,re.Z)(function*(T){const N=Ze(T);N.Gr.add(4),yield ro(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield Vu(N)}),function(T){return b.apply(this,arguments)})(h))}))}),this.Jr=new J_(r,a)}}function Vu(n){return mn.apply(this,arguments)}function mn(){return(mn=(0,re.Z)(function*(n){if(Cd(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function ro(n){return jl.apply(this,arguments)}function jl(){return(jl=(0,re.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function Hl(n,t){const e=Ze(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),Uu(e)?$g(e):Ed(e).lr()&&Ct(e,t))}function Q_(n,t){const e=Ze(n),r=Ed(e);e.Wr.delete(t),r.lr()&&io(e,t),0===e.Wr.size&&(r.lr()?r._r():Cd(e)&&e.Jr.set("Unknown"))}function Ct(n,t){n.Yr.X(t.targetId),Ed(n).br(t)}function io(n,t){n.Yr.X(t),Ed(n).vr(t)}function $g(n){n.Yr=new Px({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Ed(n).start(),n.Jr.Br()}function Uu(n){return Cd(n)&&!Ed(n).hr()&&n.Wr.size>0}function Cd(n){return 0===Ze(n).Gr.size}function jb(n){n.Yr=void 0}function aD(n){return uD.apply(this,arguments)}function uD(){return(uD=(0,re.Z)(function*(n){n.Wr.forEach((t,e)=>{Ct(n,t)})})).apply(this,arguments)}function ES(n,t){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,re.Z)(function*(n,t){jb(n),Uu(n)?(n.Jr.Kr(t),$g(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Fo(n,t,e){return jn.apply(this,arguments)}function jn(){return(jn=(0,re.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof XA&&2===t.state&&t.cause)try{yield(r=(0,re.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.Wr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.Wr.delete(m),a.Yr.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(n,t)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield As(n,r)}else if(t instanceof O_?n.Yr.ot(t):t instanceof cd?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Ft.min()))try{const r=yield Mb(n.localStore);e.compareTo(r)>=0&&(yield function(a,l){const h=a.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const T=a.Wr.get(b);T&&a.Wr.set(b,T.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=a.Wr.get(m);if(!b)return;a.Wr.set(m,b.withResumeToken(cr.EMPTY_BYTE_STRING,b.snapshotVersion)),io(a,m);const T=new Vl(b.target,m,1,b.sequenceNumber);Ct(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield As(n,r)}var r})).apply(this,arguments)}function As(n,t,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,re.Z)(function*(n,t,e){if(!fd(t))throw t;n.Gr.add(1),yield ro(n),n.Jr.set("Offline"),e||(e=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Vu(n)}))})).apply(this,arguments)}function lD(n,t){return t().catch(e=>As(n,e,t))}function Td(n){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,re.Z)(function*(n){const t=Ze(n),e=Zu(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;If(t);)try{const a=yield pS(t.localStore,r);if(null===a){0===t.Qr.length&&e._r();break}r=a.batchId,zg(t,a)}catch(a){yield As(t,a)}cD(t)&&ql(t)})).apply(this,arguments)}function If(n){return Cd(n)&&n.Qr.length<10}function zg(n,t){n.Qr.push(t);const e=Zu(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function cD(n){return Cd(n)&&!Zu(n).hr()&&n.Qr.length>0}function ql(n){Zu(n).start()}function IS(n){return ey.apply(this,arguments)}function ey(){return(ey=(0,re.Z)(function*(n){Zu(n).kr()})).apply(this,arguments)}function qb(n){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,re.Z)(function*(n){const t=Zu(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function $b(n,t,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,re.Z)(function*(n,t,e){const r=n.Qr.shift(),a=_b.from(r,t,e);yield lD(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Td(n)})).apply(this,arguments)}function Af(n,t){return Gb.apply(this,arguments)}function Gb(){return(Gb=(0,re.Z)(function*(n,t){var e;t&&Zu(n).Sr&&(yield(e=(0,re.Z)(function*(r,a){if(yT(l=a.code)&&l!==me.ABORTED){const h=r.Qr.shift();Zu(r).wr(),yield lD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Td(r)}var l}),function(r,a){return e.apply(this,arguments)})(n,t)),cD(n)&&ql(n)})).apply(this,arguments)}function Sf(n,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,re.Z)(function*(n,t){const e=Ze(n);t?(e.Gr.delete(2),yield Vu(e)):t||(e.Gr.add(2),yield ro(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function Ed(n){return n.Xr||(n.Xr=function(t,e,r){const a=Ze(t);return a.Fr(),new DS(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:aD.bind(null,n),Ni:ES.bind(null,n),Pr:Fo.bind(null,n)}),n.zr.push(function(){var t=(0,re.Z)(function*(e){e?(n.Xr.wr(),Uu(n)?$g(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),jb(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Zu(n){return n.Zr||(n.Zr=function(t,e,r){const a=Ze(t);return a.Fr(),new oD(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:IS.bind(null,n),Ni:Af.bind(null,n),Nr:qb.bind(null,n),Cr:$b.bind(null,n)}),n.zr.push(function(){var t=(0,re.Z)(function*(e){e?(n.Zr.wr(),yield Td(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Nf{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,r,a,l){const h=Date.now()+r,m=new Nf(t,e,h,a,l);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(n,t){if(Sr("AsyncQueue",`${t}: ${n}`),fd(n))return new xe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class $l{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Ke.comparator(e.key,r.key):(e,r)=>Ke.comparator(e.key,r.key),this.keyedMap=R_(),this.sortedSet=new $r(this.comparator)}static emptySet(t){return new $l(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $l)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new $l;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class ry{constructor(){this.eo=new $r(Ke.comparator)}track(t){const e=t.doc.key,r=this.eo.get(e);r?0!==t.type&&3===r.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==r.type?this.eo=this.eo.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.eo=this.eo.remove(e):1===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):tt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,r)=>{t.push(r)}),t}}class Wg{constructor(t,e,r,a,l,h,m,b){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,r,a){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new Wg(t,e,$l.emptySet(e),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Is(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}class Bx{constructor(){this.so=void 0,this.listeners=[]}}class Et{constructor(){this.queries=new Ef(t=>ko(t),Is),this.onlineState="Unknown",this.io=new Set}}function dD(n,t){return Id.apply(this,arguments)}function Id(){return(Id=(0,re.Z)(function*(n,t){const e=Ze(n),r=t.query;let a=!1,l=e.queries.get(r);if(l||(a=!0,l=new Bx),a)try{l.so=yield e.onListen(r)}catch(h){const m=Mf(h,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(m)}e.queries.set(r,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&hD(e)})).apply(this,arguments)}function zb(n,t){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,re.Z)(function*(n,t){const e=Ze(n),r=t.query;let a=!1;const l=e.queries.get(r);if(l){const h=l.listeners.indexOf(t);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function AS(n,t){const e=Ze(n);let r=!1;for(const a of t){const h=e.queries.get(a.query);if(h){for(const m of h.listeners)m.oo(a)&&(r=!0);h.so=a}}r&&hD(e)}function jx(n,t,e){const r=Ze(n),a=r.queries.get(t);if(a)for(const l of a.listeners)l.onError(e);r.queries.delete(t)}function hD(n){n.io.forEach(t=>{t.next()})}class Yb{constructor(t,e,r){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)3!==a.type&&r.push(a);t=new Wg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Wg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class Li{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class fD{constructor(t){this.k=t}Hn(t){return ku(this.k,t)}Jn(t){return t.metadata.exists?ub(this.k,t.document,!1):Ln.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return ni(t)}}class SS{constructor(t,e,r){this.mo=t,this.localStore=e,this.k=r,this.queries=[],this.documents=[],this.progress=iy(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,r=new fD(this.k);for(const a of t)if(a.metadata.queries){const l=r.Hn(a.metadata.name);for(const h of a.metadata.queries){const m=(e.get(h)||En()).add(l);e.set(h,m)}}return e}complete(){var t=this;return(0,re.Z)(function*(){const e=yield function(n,t,e,r){return XT.apply(this,arguments)}(t.localStore,new fD(t.k),t.documents,t.mo.id),r=t.po(t.documents);for(const a of t.queries)yield mS(t.localStore,a,r.get(a.name));return t.progress.taskState="Success",new GT(Object.assign({},t.progress),e)})()}}function iy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pD{constructor(t){this.key=t}}class gD{constructor(t){this.key=t}}class mD{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=En(),this.mutatedKeys=En(),this.Ao=Yv(t),this.Ro=new $l(this.Ao)}get Po(){return this.To}bo(t,e){const r=e?e.vo:new ry,a=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,h=a,m=!1;const b=N_(this.query)&&a.size===this.query.limit?a.last():null,T=mg(this.query)&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((N,M)=>{const V=a.get(N),H=ff(this.query,M)?M:null,se=!!V&&this.mutatedKeys.has(V.key),ye=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Se=!1;V&&H?V.data.isEqual(H.data)?se!==ye&&(r.track({type:3,doc:H}),Se=!0):this.Vo(V,H)||(r.track({type:2,doc:H}),Se=!0,(b&&this.Ao(H,b)>0||T&&this.Ao(H,T)<0)&&(m=!0)):!V&&H?(r.track({type:0,doc:H}),Se=!0):V&&!H&&(r.track({type:1,doc:V}),Se=!0,(b||T)&&(m=!0)),Se&&(H?(h=h.add(H),l=ye?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),N_(this.query)||mg(this.query))for(;h.size>this.query.limit;){const N=N_(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const a=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((T,N)=>function(M,V){const H=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return H(M)-H(V)}(T.type,N.type)||this.Ao(T.doc,N.doc)),this.So(r);const h=e?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new Wg(this.query,t.Ro,a,l,t.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ry,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=En(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const e=[];return t.forEach(r=>{this.Io.has(r)||e.push(new gD(r))}),this.Io.forEach(r=>{t.has(r)||e.push(new pD(r))}),e}ko(t){this.To=t.zn,this.Io=En();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Wg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class NS{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class MS{constructor(t){this.key=t,this.$o=!1}}class xS{constructor(t,e,r,a,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Ef(m=>ko(m),Is),this.Mo=new Map,this.Lo=new Set,this.Bo=new $r(Ke.comparator),this.Uo=new Map,this.qo=new Ob,this.Ko={},this.jo=new Map,this.Qo=Bl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Kb(n,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,re.Z)(function*(n,t){const e=dy(n);let r,a;const l=e.Oo.get(t);if(l)r=l.targetId,e.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield vd(e.localStore,xo(t)),m=e.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield Qb(e,t,r,"current"===m),e.isPrimaryClient&&Hl(e.remoteStore,h)}return a})).apply(this,arguments)}function Qb(n,t,e,r){return sy.apply(this,arguments)}function sy(){return(sy=(0,re.Z)(function*(n,t,e,r){n.Go=(N,M,V)=>{return(H=(0,re.Z)(function*(se,ye,Se,rt){let Je=ye.view.bo(Se);Je.Bn&&(Je=yield Lg(se.localStore,ye.query,!1).then(({documents:cn})=>ye.view.bo(cn,Je)));const St=rt&&rt.targetChanges.get(ye.targetId),ot=ye.view.applyChanges(Je,se.isPrimaryClient,St);return o1(se,ye.targetId,ot.Co),ot.snapshot}),function(se,ye,Se,rt){return H.apply(this,arguments)})(n,N,M,V);var H};const a=yield Lg(n.localStore,t,!0),l=new mD(t,a.zn),h=l.bo(a.documents),m=Eg.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);o1(n,e,b.Co);const T=new NS(t,e,l);return n.Oo.set(t,T),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),b.snapshot})).apply(this,arguments)}function Xb(n,t){return e1.apply(this,arguments)}function e1(){return(e1=(0,re.Z)(function*(n,t){const e=Ze(n),r=e.Oo.get(t),a=e.Mo.get(r.targetId);if(a.length>1)return e.Mo.set(r.targetId,a.filter(l=>!Is(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lu(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),Q_(e.remoteStore,r.targetId),xf(e,r.targetId)}).catch(Df))):(xf(e,r.targetId),yield Lu(e.localStore,r.targetId,!0))})).apply(this,arguments)}function t1(){return(t1=(0,re.Z)(function*(n,t,e){const r=hy(n);try{const a=yield function(l,h){const m=Ze(l),b=ti.now(),T=h.reduce((M,V)=>M.add(V.key),En());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,T).next(V=>{N=V;const H=[];for(const se of h){const ye=hT(se,N.get(se.key));null!=ye&&H.push(new xu(se.key,ye,S_(ye.value.mapValue),hr.exists(!0)))}return m.An.addMutationBatch(M,b,H,h)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new $r(Kt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,a.batchId,e),yield Bu(r,a.changes),yield Td(r.remoteStore)}catch(a){const l=Mf(a,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function _D(n,t){return n1.apply(this,arguments)}function n1(){return(n1=(0,re.Z)(function*(n,t){const e=Ze(n);try{const r=yield JT(e.localStore,t);t.targetChanges.forEach((a,l)=>{const h=e.Uo.get(l);h&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?ft(h.$o):a.removedDocuments.size>0&&(ft(h.$o),h.$o=!1))}),yield Bu(e,r,t)}catch(r){yield Df(r)}})).apply(this,arguments)}function yD(n,t,e){const r=Ze(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const a=[];r.Oo.forEach((l,h)=>{const m=h.view.ro(t);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=Ze(l);m.onlineState=h;let b=!1;m.queries.forEach((T,N)=>{for(const M of N.listeners)M.ro(h)&&(b=!0)}),b&&hD(m)}(r.eventManager,t),a.length&&r.Fo.Pr(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kS(n,t,e){return r1.apply(this,arguments)}function r1(){return(r1=(0,re.Z)(function*(n,t,e){const r=Ze(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Uo.get(t),l=a&&a.key;if(l){let h=new $r(Ke.comparator);h=h.insert(l,Ln.newNoDocument(l,Ft.min()));const m=En().add(l),b=new sa(Ft.min(),new Map,new fr(Kt),h,m);yield _D(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(t),uy(r)}else yield Lu(r.localStore,t,!1).then(()=>xf(r,t,e)).catch(Df)})).apply(this,arguments)}function Yg(n,t){return i1.apply(this,arguments)}function i1(){return(i1=(0,re.Z)(function*(n,t){const e=Ze(n),r=t.batch.batchId;try{const a=yield KT(e.localStore,t);s1(e,r,null),ay(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Bu(e,a)}catch(a){yield Df(a)}})).apply(this,arguments)}function RS(n,t,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,re.Z)(function*(n,t,e){const r=Ze(n);try{const a=yield function(l,h){const m=Ze(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let T;return m.An.lookupMutationBatch(b,h).next(N=>(ft(null!==N),T=N.keys(),m.An.removeMutationBatch(b,N))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,T))})}(r.localStore,t);s1(r,t,e),ay(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Bu(r,a)}catch(a){yield Df(a)}})).apply(this,arguments)}function vD(){return(vD=(0,re.Z)(function*(n,t){const e=Ze(n);Cd(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ze(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const a=e.jo.get(r)||[];a.push(t),e.jo.set(r,a)}catch(r){const a=Mf(r,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}})).apply(this,arguments)}function ay(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function s1(n,t,e){const r=Ze(n);let a=r.Ko[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Ko[r.currentUser.toKey()]=a}}function xf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Mo.get(t))n.Oo.delete(r),e&&n.Fo.zo(r,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(r=>{n.qo.containsKey(r)||bD(n,r)})}function bD(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(Q_(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),uy(n))}function o1(n,t,e){for(const r of e)r instanceof pD?(n.qo.addReference(r.key,t),OS(n,r)):r instanceof gD?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,t),n.qo.containsKey(r.key)||bD(n,r.key)):tt()}function OS(n,t){const e=t.key,r=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(r)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(r),uy(n))}function uy(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new Ke(ln.fromString(t)),r=n.Qo.next();n.Uo.set(r,new MS(e)),n.Bo=n.Bo.insert(e,r),Hl(n.remoteStore,new Vl(xo(ud(e.path)),r,2,Oi.I))}}function Bu(n,t,e){return a1.apply(this,arguments)}function a1(){return(a1=(0,re.Z)(function*(n,t,e){const r=Ze(n),a=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,t,e).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,T.fromCache?"not-current":"current"),a.push(T);const N=Y_.$n(b.targetId,T);l.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(a),yield(m=(0,re.Z)(function*(b,T){const N=Ze(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ie.forEach(T,V=>Ie.forEach(V.kn,H=>N.persistence.referenceDelegate.addReference(M,V.targetId,H)).next(()=>Ie.forEach(V.xn,H=>N.persistence.referenceDelegate.removeReference(M,V.targetId,H)))))}catch(M){if(!fd(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const V=M.targetId;if(!M.fromCache){const H=N.qn.get(V),ye=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.qn=N.qn.insert(V,ye)}}}),function(b,T){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function qx(n,t){return wD.apply(this,arguments)}function wD(){return(wD=(0,re.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const r=yield YT(e.localStore,t);e.currentUser=t,(a=e).jo.forEach(h=>{h.forEach(m=>{m.reject(new xe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Bu(e,r.Gn)}var a})).apply(this,arguments)}function $x(n,t){const e=Ze(n),r=e.Uo.get(t);if(r&&r.$o)return En().add(r.key);{let a=En();const l=e.Mo.get(t);if(!l)return a;for(const h of l){const m=e.Oo.get(h);a=a.unionWith(m.view.Po)}return a}}function u1(n,t){return l1.apply(this,arguments)}function l1(){return(l1=(0,re.Z)(function*(n,t){const e=Ze(n),r=yield Lg(e.localStore,t.query,!0),a=t.view.ko(r);return e.isPrimaryClient&&o1(e,t.targetId,a.Co),a})).apply(this,arguments)}function PS(n){return c1.apply(this,arguments)}function c1(){return(c1=(0,re.Z)(function*(n){const t=Ze(n);return Ug(t.localStore).then(e=>Bu(t,e))})).apply(this,arguments)}function FS(n,t,e,r){return d1.apply(this,arguments)}function d1(){return(d1=(0,re.Z)(function*(n,t,e,r){const a=Ze(n),l=yield function(h,m){const b=Ze(h),T=Ze(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Zt(N,m).next(M=>M?b.Wn.vn(N,M):Ie.resolve(null)))}(a.localStore,t);var m;null!==l?("pending"===e?yield Td(a.remoteStore):"acknowledged"===e||"rejected"===e?(s1(a,t,r||null),ay(a,t),m=t,Ze(Ze(a.localStore).An).ee(m)):tt(),yield Bu(a,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ly(){return(ly=(0,re.Z)(function*(n,t){const e=Ze(n);if(dy(e),hy(e),!0===t&&!0!==e.Wo){const r=e.sharedClientState.getAllActiveQueryTargets(),a=yield cy(e,r.toArray());e.Wo=!0,yield Sf(e.remoteStore,!0);for(const l of a)Hl(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const r=[];let a=Promise.resolve();e.Mo.forEach((l,h)=>{e.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(xf(e,h),Lu(e.localStore,h,!0))),Q_(e.remoteStore,h)}),yield a,yield cy(e,r),function(l){const h=Ze(l);h.Uo.forEach((m,b)=>{Q_(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new $r(Ke.comparator)}(e),e.Wo=!1,yield Sf(e.remoteStore,!1)}})).apply(this,arguments)}function cy(n,t,e){return h1.apply(this,arguments)}function h1(){return(h1=(0,re.Z)(function*(n,t,e){const r=Ze(n),a=[],l=[];for(const h of t){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield vd(r.localStore,xo(b[0]));for(const T of b){const N=r.Oo.get(T),M=yield u1(r,N);M.snapshot&&l.push(M.snapshot)}}else{const T=yield Vg(r.localStore,h);m=yield vd(r.localStore,T),yield Qb(r,Ad(T),h,!1)}a.push(m)}return r.Fo.Pr(l),a})).apply(this,arguments)}function Ad(n){return rT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vi(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).Tn()}function CD(n,t,e,r){return so.apply(this,arguments)}function so(){return(so=(0,re.Z)(function*(n,t,e,r){const a=Ze(n);if(a.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(a.Mo.has(t))switch(e){case"current":case"not-current":{const l=yield Ug(a.localStore),h=sa.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Bu(a,l,h);break}case"rejected":yield Lu(a.localStore,t,!0),xf(a,t,r);break;default:tt()}})).apply(this,arguments)}function f1(n,t,e){return p1.apply(this,arguments)}function p1(){return(p1=(0,re.Z)(function*(n,t,e){const r=dy(n);if(r.Wo){for(const a of t){if(r.Mo.has(a)){Le("SyncEngine","Adding an already active target "+a);continue}const l=yield Vg(r.localStore,a),h=yield vd(r.localStore,l);yield Qb(r,Ad(l),h.targetId,!1),Hl(r.remoteStore,h)}for(const a of e)r.Mo.has(a)&&(yield Lu(r.localStore,a,!1).then(()=>{Q_(r.remoteStore,a),xf(r,a)}).catch(Df))}})).apply(this,arguments)}function dy(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_D.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$x.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kS.bind(null,t),t.Fo.Pr=AS.bind(null,t.eventManager),t.Fo.zo=jx.bind(null,t.eventManager),t}function hy(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RS.bind(null,t),t}class DD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,re.Z)(function*(){e.k=qg(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return WT(this.persistence,new zT,t.initialUser,this.k)}Yo(t){return new Ux(bd.ks,this.k)}Jo(t){return new jg}terminate(){var t=this;return(0,re.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class ED extends DD{constructor(t,e,r){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,re.Z)(function*(){yield e().call(r,t),yield function(n){return kb.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,t),yield hy(r.ta.syncEngine),yield Td(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(t){return WT(this.persistence,new zT,t.initialUser,this.k)}Xo(t){return new Ib(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Fg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new Sb(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,Ub(),Hg(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new jg}}class VS extends ED{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,re.Z)(function*(){yield e().call(r,t);const a=r.ta.syncEngine;r.sharedClientState instanceof Lb&&(r.sharedClientState.syncEngine={mi:FS.bind(null,a),gi:CD.bind(null,a),yi:f1.bind(null,a),Tn:Vi.bind(null,a),_i:PS.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,re.Z)(function*(h){yield function(n,t){return ly.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(t){const e=Ub();if(!Lb.bt(e))throw new xe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Fg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Lb(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class fy{initialize(t,e){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>yD(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=qx.bind(null,r.syncEngine),yield Sf(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Et}createDatastore(t){const e=qg(t.databaseInfo.databaseId),r=new Vb(t.databaseInfo);return new K_(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,a=t.asyncQueue,l=m=>yD(this.syncEngine,m,0),h=rD.bt()?new rD:new TS,new Zx(e,r,a,l,h);var e,r,a,l,h}createSyncEngine(t,e){return function(r,a,l,h,m,b,T){const N=new xS(r,a,l,h,m,b);return T&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,re.Z)(function*(e){const r=Ze(e);Le("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield ro(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function ID(n,t=10240){let e=0;return{read:()=>(0,re.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class g1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class US{constructor(t,e){this.sa=t,this.k=e,this.metadata=new mi,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,re.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,re.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,re.Z)(function*(){const e=yield t.oa();if(null===e)return null;const r=t.ia.decode(e),a=Number(r);isNaN(a)&&t.aa(`length string (${r}) is not valid number`);const l=yield t.ca(a);return new Li(JSON.parse(l),e.length+a)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,re.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ca(t){var e=this;return(0,re.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const r=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,re.Z)(function*(){const e=yield t.sa.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class ZS{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,re.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,re.Z)(function*(l,h){const m=Ze(l),b=Sg(m.k)+"/documents",T={documents:h.map(H=>Un(m.k,H))},N=yield m.ji("BatchGetDocuments",b,T),M=new Map;N.forEach(H=>{const se=function(n,t){return"found"in t?function(e,r){ft(!!r.found);const a=ku(e,r.found.name),l=ni(r.found.updateTime),h=new _i({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(a,l,h)}(n,t):"missing"in t?function(e,r){ft(!!r.missing),ft(!!r.readTime);const a=ku(e,r.missing),l=ni(r.readTime);return Ln.newNoDocument(a,l)}(n,t):tt()}(m.k,H);M.set(se.key.toString(),se)});const V=[];return h.forEach(H=>{const se=M.get(H.toString());ft(!!se),V.push(se)}),V}),function(l,h){return a.apply(this,arguments)})(e.datastore,t);var a;return r.forEach(a=>e.recordVersion(a)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Tg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,re.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,a)=>{const l=Ke.fromPath(a);t.mutations.push(new eb(l,t.precondition(l)))}),yield(r=(0,re.Z)(function*(a,l){const h=Ze(a),m=Sg(h.k)+"/documents",b={writes:l.map(T=>U_(h.k,T))};yield h.Bi("Commit",m,b)}),function(a,l){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tt();e=Ft.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new xe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hr.updateTime(e):hr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ft.min()))throw new xe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(e)}return hr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class kf{constructor(t,e,r,a){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=a,this.la=5,this.ur=new Zb(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,re.Z)(function*(){const e=new ZS(t.datastore),r=t.da(e);r&&r.then(a=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(a)}).catch(l=>{t.wa(l)}))}).catch(a=>{t.wa(a)})}))}da(t){try{const e=this.updateFunction(t);return!lf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!yT(e)}return!1}}class Gx{constructor(t,e,r,a){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Ri.UNAUTHENTICATED,this.clientId=Bv.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,re.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,re.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Mf(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}function m1(n,t){return _1.apply(this,arguments)}function _1(){return(_1=(0,re.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var a=(0,re.Z)(function*(l){r.isEqual(l)||(yield YT(t.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function BS(n,t){return py.apply(this,arguments)}function py(){return(py=(0,re.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield y1(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(a=>{return(l=(0,re.Z)(function*(h,m){const b=Ze(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const T=Cd(b);b.Gr.add(3),yield ro(b),T&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Vu(b)}),function(h,m){return l.apply(this,arguments)})(t.remoteStore,a);var l}),n.onlineComponents=t})).apply(this,arguments)}function y1(n){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,re.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield m1(n,new DD)),n.offlineComponents})).apply(this,arguments)}function gy(n){return my.apply(this,arguments)}function my(){return(my=(0,re.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield BS(n,new fy)),n.onlineComponents})).apply(this,arguments)}function v1(n){return y1(n).then(t=>t.persistence)}function _y(n){return y1(n).then(t=>t.localStore)}function AD(n){return gy(n).then(t=>t.remoteStore)}function b1(n){return gy(n).then(t=>t.syncEngine)}function Rf(n){return w1.apply(this,arguments)}function w1(){return(w1=(0,re.Z)(function*(n){const t=yield gy(n),e=t.eventManager;return e.onListen=Kb.bind(null,t.syncEngine),e.onUnlisten=Xb.bind(null,t.syncEngine),e})).apply(this,arguments)}function C1(n,t,e={}){const r=new mi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(a,l,h,m,b){const T=new g1({next:M=>{l.enqueueAndForget(()=>zb(a,N));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new xe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Yb(ud(h.path),T,{includeMetadataChanges:!0,wo:!0});return dD(a,N)}(yield Rf(n),n.asyncQueue,t,e,r)})),r.promise}function T1(n,t,e={}){const r=new mi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(a,l,h,m,b){const T=new g1({next:M=>{l.enqueueAndForget(()=>zb(a,N)),M.fromCache&&"server"===m.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Yb(h,T,{includeMetadataChanges:!0,wo:!0});return dD(a,N)}(yield Rf(n),n.asyncQueue,t,e,r)})),r.promise}class kD{constructor(t,e,r,a,l,h,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Of{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Of&&t.projectId===this.projectId&&t.database===this.database}}const RD=new Map;function D1(n,t,e){if(!e)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OD(n,t,e,r){if(!0===t&&!0===r)throw new xe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Pf(n){if(!Ke.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ff(n){if(Ke.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":tt()}function Jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yy(n);throw new xe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function aa(n,t){if(t<=0)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class PD{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,OD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gl{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PD({}),this._settingsFrozen=!1,t instanceof Of?this._databaseId=t:(this._app=t,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new xe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(a.options.projectId)}(t))}get app(){if(!this._app)throw new xe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PD(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new KC;switch(e.type){case"gapi":const r=e.client;return ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jA(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=RD.get(t);e&&(Le("ComponentProvider","Removing Datastore"),RD.delete(t),e.terminate())}(this),Promise.resolve()}}class Hn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}}class ss{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class Lo extends ss{constructor(t,e,r){super(t,e,ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new Ke(t))}withConverter(t){return new Lo(this.firestore,t,this._path)}}function vy(n,t,...e){if(n=(0,Dt.m9)(n),D1("collection","path",t),n instanceof Gl){const r=ln.fromString(t,...e);return Ff(r),new Lo(n,null,r)}{if(!(n instanceof Hn||n instanceof Lo))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(t,...e));return Ff(r),new Lo(n.firestore,null,r)}}function Lf(n,t,...e){if(n=(0,Dt.m9)(n),1===arguments.length&&(t=Bv.A()),D1("doc","path",t),n instanceof Gl){const r=ln.fromString(t,...e);return Pf(r),new Hn(n,null,new Ke(r))}{if(!(n instanceof Hn||n instanceof Lo))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(t,...e));return Pf(r),new Hn(n.firestore,n instanceof Lo?n.converter:null,new Ke(r))}}function by(n,t){return n=(0,Dt.m9)(n),t=(0,Dt.m9)(t),(n instanceof Hn||n instanceof Lo)&&(t instanceof Hn||t instanceof Lo)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function LD(n,t){return n=(0,Dt.m9)(n),t=(0,Dt.m9)(t),n instanceof ss&&t instanceof ss&&n.firestore===t.firestore&&Is(n._query,t._query)&&n.converter===t.converter}class GS{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Zb(this,"async_queue_retry"),this.Ra=()=>{const e=Hg();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=Hg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=Hg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new mi;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,re.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!fd(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(r=>{throw this.Ta=r,this.Ea=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=e,e}enqueueAfterDelay(t,e,r){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const a=Nf.createAndSchedule(this,t,e,r,l=>this.Va(l));return this.pa.push(a),a}Pa(){this.Ta&&tt()}verifyOperationInProgress(){}Sa(){var t=this;return(0,re.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function E1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class zS{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class qn extends Gl{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new GS,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||I1(this),this._firestoreClient.terminate()}}function Mr(n){return n._firestoreClient||I1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function I1(n){var t;const e=n._freezeSettings(),r=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new kD(n._databaseId,l,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Gx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function A1(n,t,e){const r=new mi;return n.asyncQueue.enqueue((0,re.Z)(function*(){try{yield m1(n,e),yield BS(n,t),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function jD(n){if(n._initialized||n._terminated)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(cr.fromBase64String(t))}catch(e){throw new xe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ya(cr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ju{constructor(t){this._methodName=t}}class Cy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const HD=/^__.*__$/;class XS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new xu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cg(t,this.data,e,this.fieldTransforms)}}class qD{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new xu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ty(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Xg{constructor(t,e,r,a,l,h){this.settings=t,this.databaseId=e,this.k=r,this.ignoreUndefinedProperties=a,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Xg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:r,Oa:!1});return a.Ma(t),a}La(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:r,Oa:!1});return a.ka(),a}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return tm(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(Ty(this.xa)&&HD.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class $D{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=r||qg(t)}ja(t,e,r,a=!1){return new Xg({xa:t,methodName:e,Ka:r,path:Hr.emptyPath(),Oa:!1,qa:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ka(n){const t=n._freezeSettings(),e=qg(n._databaseId);return new $D(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Uf(n,t,e,r,a,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,t,e,a);Ay("Data must be an object, but it was:",h,r);const m=WD(r,h);let b,T;if(l.merge)b=new sf(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const M of l.mergeFields){const V=Sy(t,M,e);if(!h.contains(V))throw new xe(me.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);YD(N,V)||N.push(V)}b=new sf(N),T=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,T=h.fieldTransforms;return new XS(new _i(m),b,T)}class Dy extends ju{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dy}}function S1(n,t,e){return new Xg({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class N1 extends ju{_toFieldTransform(t){return new Ll(t.path,new gf)}isEqual(t){return t instanceof N1}}class GD extends ju{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=S1(this,t,!0),r=this.Qa.map(l=>Sd(l,e)),a=new Fl(r);return new Ll(t.path,a)}isEqual(t){return this===t}}class Ey extends ju{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=S1(this,t,!0),r=this.Qa.map(l=>Sd(l,e)),a=new $a(r);return new Ll(t.path,a)}isEqual(t){return this===t}}class zD extends ju{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new ld(t.k,aT(t.k,this.Wa));return new Ll(t.path,e)}isEqual(t){return this===t}}function M1(n,t,e,r){const a=n.ja(1,t,e);Ay("Data must be an object, but it was:",a,r);const l=[],h=_i.empty();rd(r,(b,T)=>{const N=Ny(t,b,e);T=(0,Dt.m9)(T);const M=a.La(N);if(T instanceof Dy)l.push(N);else{const V=Sd(T,M);null!=V&&(l.push(N),h.set(N,V))}});const m=new sf(l);return new qD(h,m,a.fieldTransforms)}function em(n,t,e,r,a,l){const h=n.ja(1,t,e),m=[Sy(t,r,e)],b=[a];if(l.length%2!=0)throw new xe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(Sy(t,l[V])),b.push(l[V+1]);const T=[],N=_i.empty();for(let V=m.length-1;V>=0;--V)if(!YD(T,m[V])){const H=m[V];let se=b[V];se=(0,Dt.m9)(se);const ye=h.La(H);if(se instanceof Dy)T.push(H);else{const Se=Sd(se,ye);null!=Se&&(T.push(H),N.set(H,Se))}}const M=new sf(T);return new qD(N,M,h.fieldTransforms)}function Iy(n,t,e,r=!1){return Sd(e,n.ja(r?4:3,t))}function Sd(n,t){if(x1(n=(0,Dt.m9)(n)))return Ay("Unsupported field value:",t,n),WD(n,t);if(n instanceof ju)return function(e,r){if(!Ty(r.xa))throw r.Ua(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${e._methodName}() is not currently supported inside arrays`);const a=e._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,r){const a=[];let l=0;for(const h of e){let m=Sd(h,r.Ba(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(n,t)}return function(e,r){if(null===(e=(0,Dt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aT(r.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const a=ti.fromDate(e);return{timestampValue:Ig(r.k,a)}}if(e instanceof ti){const a=new ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ig(r.k,a)}}if(e instanceof Cy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ya)return{bytesValue:DT(r.k,e._byteString)};if(e instanceof Hn){const a=r.databaseId,l=e.firestore._databaseId;if(!l.isEqual(a))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mf(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Ua(`Unsupported field value: ${yy(e)}`)}(n,t)}function WD(n,t){const e={};return Hv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rd(n,(r,a)=>{const l=Sd(a,t.Fa(r));null!=l&&(e[r]=l)}),{mapValue:{fields:e}}}function x1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof Cy||n instanceof Ya||n instanceof Hn||n instanceof ju)}function Ay(n,t,e){if(!x1(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yy(e);throw t.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Sy(n,t,e){if((t=(0,Dt.m9)(t))instanceof zl)return t._internalPath;if("string"==typeof t)return Ny(n,t);throw tm("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const eN=new RegExp("[~\\*/\\[\\]]");function Ny(n,t,e){if(t.search(eN)>=0)throw tm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new zl(...t.split("."))._internalPath}catch(r){throw tm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tm(n,t,e,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${a}`),b+=")"),new xe(me.INVALID_ARGUMENT,m+n+b)}function YD(n,t){return n.some(e=>e.isEqual(t))}class nm{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(My("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class KD extends nm{data(){return super.data()}}function My(n,t){return"string"==typeof t?Ny(n,t):t instanceof zl?t._internalPath:t._delegate._internalPath}class Wl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ja extends nm{constructor(t,e,r,a,l,h){super(t,e,r,a,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(My("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Zf extends Ja{data(t={}){return super.data(t)}}class Hu{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Wl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Zf(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Zf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new Zf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,T=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:tN(h.type),doc:m,oldIndex:b,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function JD(n,t){return n instanceof Ja&&t instanceof Ja?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Hu&&t instanceof Hu&&n._firestore===t._firestore&&LD(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function QD(n){if(mg(n)&&0===n.explicitOrderBy.length)throw new xe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}function Nd(n,...t){for(const e of t)n=e._apply(n);return n}class Wx extends Bf{constructor(t,e,r){super(),this.Ga=t,this.za=e,this.Ha=r,this.type="where"}_apply(t){const e=Ka(t.firestore),r=function(a,l,h,m,b,T,N){let M;if(b.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){aN(N,T);const H=[];for(const se of N)H.push(oN(m,a,se));M={arrayValue:{values:H}}}else M=oN(m,a,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||aN(N,T),M=Iy(h,"where",N,"in"===T||"not-in"===T);const V=Pi.create(b,T,M);return function(H,se){if(se.V()){const Se=_g(H);if(null!==Se&&!Se.isEqual(se.field))throw new xe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${se.field.toString()}'`);const rt=iT(H);null!==rt&&XD(0,se.field,rt)}const ye=function(Se,rt){for(const Je of Se.filters)if(rt.indexOf(Je.op)>=0)return Je.op;return null}(H,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==ye)throw new xe(me.INVALID_ARGUMENT,ye===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${ye.toString()}' filters.`)}(a,V),V}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new ss(t.firestore,t.converter,function(a,l){const h=a.filters.concat([l]);return new Mu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}class Kx extends Bf{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(r,a,l){if(null!==r.startAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new hf(a,l);return function(m,b){if(null===iT(m)){const T=_g(m);null!==T&&XD(0,T,b.field)}}(r,h),h}(t._query,this.Ga,this.Ja);return new ss(t.firestore,t.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Mu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class nN extends Bf{constructor(t,e,r){super(),this.type=t,this.Ya=e,this.Xa=r}_apply(t){return new ss(t.firestore,t.converter,Wv(t._query,this.Ya,this.Xa))}}class rN extends Bf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=sN(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(a=e,new Mu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class iN extends Bf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=sN(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(a=e,new Mu((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function sN(n,t,e,r){if(e[0]=(0,Dt.m9)(e[0]),e[0]instanceof nm)return function(a,l,h,m,b){if(!m)throw new xe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of ts(a))if(N.field.isKeyField())T.push(T_(l,m.key));else{const M=m.data.field(N.field);if(cg(M))throw new xe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=N.field.canonicalString();throw new xe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(M)}return new pg(T,b)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const a=Ka(n.firestore);return function(l,h,m,b,T,N){const M=l.explicitOrderBy;if(T.length>M.length)throw new xe(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<T.length;H++){const se=T[H];if(M[H].field.isKeyField()){if("string"!=typeof se)throw new xe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof se}`);if(!yg(l)&&-1!==se.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${se}' contains a slash.`);const ye=l.path.child(ln.fromString(se));if(!Ke.isDocumentKey(ye))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Se=new Ke(ye);V.push(T_(h,Se))}else{const ye=Iy(m,b,se);V.push(ye)}}return new pg(V,N)}(n._query,n.firestore._databaseId,a,t,e,r)}}function oN(n,t,e){if("string"==typeof(e=(0,Dt.m9)(e))){if(""===e)throw new xe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yg(t)&&-1!==e.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ln.fromString(e));if(!Ke.isDocumentKey(r))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T_(n,new Ke(r))}if(e instanceof Hn)return T_(n,e._key);throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${yy(e)}.`)}function aN(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function XD(n,t,e){if(!e.isEqual(t))throw new xe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class k1{convertValue(t,e="none"){switch(id(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(af(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tt()}}convertObject(t,e){const r={};return rd(t.fields,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertGeoPoint(t){return new Cy(dr(t.latitude),dr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=y_(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(uf(t));default:return null}}convertTimestamp(t){const e=qa(t);return new ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ln.fromString(t);ft(hb(r));const a=new Of(r.get(1),r.get(3)),l=new Ke(r.popFirst(5));return a.isEqual(e)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function xy(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class ik extends k1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,e)}}class uN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ka(t)}set(t,e,r){this._verifyNotCommitted();const a=Md(t,this._firestore),l=xy(a.converter,e,r),h=Uf(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,hr.none())),this}update(t,e,r,...a){this._verifyNotCommitted();const l=Md(t,this._firestore);let h;return h="string"==typeof(e=(0,Dt.m9)(e))||e instanceof zl?em(this._dataReader,"WriteBatch.update",l._key,e,r,a):M1(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(h.toMutation(l._key,hr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Md(t,this._firestore);return this._mutations=this._mutations.concat(new Tg(e._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Md(n,t){if((n=(0,Dt.m9)(n)).firestore!==t)throw new xe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xd extends k1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,e)}}function eE(n,t,e){n=Jt(n,Hn);const r=Jt(n.firestore,qn),a=xy(n.converter,t,e);return jf(r,[Uf(Ka(r),"setDoc",n._key,a,null!==n.converter,e).toMutation(n._key,hr.none())])}function dN(n,t,e,...r){n=Jt(n,Hn);const a=Jt(n.firestore,qn),l=Ka(a);let h;return h="string"==typeof(t=(0,Dt.m9)(t))||t instanceof zl?em(l,"updateDoc",n._key,t,e,r):M1(l,"updateDoc",n._key,t),jf(a,[h.toMutation(n._key,hr.exists(!0))])}function kd(n,...t){var e,r,a;n=(0,Dt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||E1(t[h])||(l=t[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(E1(t[h])){const M=t[h];t[h]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),t[h+2]=null===(a=M.complete)||void 0===a?void 0:a.bind(M)}let b,T,N;if(n instanceof Hn)T=Jt(n.firestore,qn),N=ud(n._key.path),b={next:M=>{t[h]&&t[h](O1(T,n,M))},error:t[h+1],complete:t[h+2]};else{const M=Jt(n,ss);T=Jt(M.firestore,qn),N=M._query;const V=new xd(T);b={next:H=>{t[h]&&t[h](new Hu(T,V,M,H))},error:t[h+1],complete:t[h+2]},QD(n._query)}return function(M,V,H,se){const ye=new g1(se),Se=new Yb(V,ye,H);return M.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return dD(yield Rf(M),Se)})),()=>{ye.na(),M.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return zb(yield Rf(M),Se)}))}}(Mr(T),N,m,b)}function jf(n,t){return function(e,r){const a=new mi;return e.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(n,t,e){return t1.apply(this,arguments)}(yield b1(e),r,a)})),a.promise}(Mr(n),t)}function O1(n,t,e){const r=e.docs.get(t._key),a=new xd(n);return new Ja(n,a,t._key,r,new Wl(e.hasPendingWrites,e.fromCache),t.converter)}class P1 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ka(t)}get(t){const e=Md(t,this._firestore),r=new ik(this._firestore);return this._transaction.lookup([e._key]).then(a=>{if(!a||1!==a.length)return tt();const l=a[0];if(l.isFoundDocument())return new nm(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new nm(this._firestore,r,e._key,null,e.converter);throw tt()})}set(t,e,r){const a=Md(t,this._firestore),l=xy(a.converter,e,r),h=Uf(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(t,e,r,...a){const l=Md(t,this._firestore);let h;return h="string"==typeof(e=(0,Dt.m9)(e))||e instanceof zl?em(this._dataReader,"Transaction.update",l._key,e,r,a):M1(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,h),this}delete(t){const e=Md(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Md(t,this._firestore),r=new xd(this._firestore);return super.get(t).then(a=>new Ja(this._firestore,r,e._key,a._document,new Wl(!1,!1),e.converter))}}function oE(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function aE(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function pN(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){ef=Ks.SDK_VERSION,(0,Ks._registerComponent)(new jc.wA("firestore",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=new qn(a,new BA(e.getProvider("auth-internal")),new HA(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC")),(0,Ks.registerVersion)(zC,"3.4.0",n),(0,Ks.registerVersion)(zC,"3.4.0","esm2017")}();class Yl{constructor(t){this._delegate=t}static fromBase64String(t){return pN(),new Yl(Ya.fromBase64String(t))}static fromUint8Array(t){return aE(),new Yl(Ya.fromUint8Array(t))}toBase64(){return pN(),this._delegate.toBase64()}toUint8Array(){return aE(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function F1(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class fk{enableIndexedDbPersistence(t,e){return function(n,t){jD(n=Jt(n,qn));const e=Mr(n),r=n._freezeSettings(),a=new fy;return A1(e,a,new ED(a,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){jD(n=Jt(n,qn));const t=Mr(n),e=n._freezeSettings(),r=new fy;return A1(t,r,new VS(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new xe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{yield(e=(0,re.Z)(function*(r){if(!Po.bt())return Promise.resolve();const a=r+"main";yield Po.delete(a)}),function(r){return e.apply(this,arguments)})(Fg(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Ry{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Of||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&__("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var a;const l=(n=Jt(n,Gl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&__("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ri.MOCK_USER;else{h=(0,Dt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new xe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ri(b)}n._authCredentials=new xx(new YC(h,m))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,re.Z)(function*(){const t=yield v1(n),e=yield AD(n);return t.setNetworkEnabled(!0),function(r){const a=Ze(r);return a.Gr.delete(0),Vu(a)}(e)}))}(Mr(n=Jt(n,qn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,re.Z)(function*(){const t=yield v1(n),e=yield AD(n);return t.setNetworkEnabled(!1),(r=(0,re.Z)(function*(a){const l=Ze(a);l.Gr.add(0),yield ro(l),l.Jr.set("Offline")}),function(a){return r.apply(this,arguments)})(e);var r}))}(Mr(n=Jt(n,qn)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,OD("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new mi;return t.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(n,t){return vD.apply(this,arguments)}(yield b1(t),e)})),e.promise}(Mr(n=Jt(n,qn)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new g1(t);return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield Rf(n),a=e,Ze(r).io.add(a),void a.next();var r,a})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield Rf(n),a=e,void Ze(r).io.delete(a);var r,a}))}}(Mr(n=Jt(n,qn)),E1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Kl(this,vy(this._delegate,t))}catch(e){throw os(e,"collection()","Firestore.collection()")}}doc(t){try{return new oo(this,Lf(this._delegate,t))}catch(e){throw os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new as(this,function(n,t){if(n=Jt(n,Gl),D1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(e=t,new Mu(ln.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new mi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){const r=yield(a=n,gy(a).then(l=>l.datastore));var a;new kf(n.asyncQueue,r,t,e).run()})),e.promise}(Mr(n=Jt(n,qn)),e=>t(new P1(n,e)))}(this._delegate,e=>t(new gN(this,e)))}batch(){return Mr(this._delegate),new uE(new uN(this._delegate,t=>jf(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Mr(n=Jt(n,qn)),r=new zS;return function(n,t,e,r){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,T){if(b instanceof Uint8Array)return ID(b,T);if(b instanceof ArrayBuffer)return ID(new Uint8Array(b),T);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new US(b,h);var b}(e,qg(t));n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){!function(n,t,e){const r=Ze(n);var a;(a=(0,re.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(V,H){const se=Ze(V),ye=ni(H.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Se=>se.Ye.getBundleMetadata(Se,H.id)).then(Se=>!!Se&&Se.createTime.compareTo(ye)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(iy(b));const T=new SS(b,l.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield T.yo(N);V&&m._updateProgress(V),N=yield h.Ho()}const M=yield T.complete();yield Bu(l,M.In,void 0),yield function(V,H){const se=Ze(V);return se.persistence.runTransaction("Save bundle","readwrite",ye=>se.Ye.saveBundleMetadata(ye,H))}(l.localStore,b),m._completeWith(M.progress)}catch(b){__("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(l,h,m){return a.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield b1(n),a,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,re.Z)(function*(){return function(e,r){const a=Ze(e);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ye.getNamedQuery(l,r))}(yield _y(n),t)}))}(Mr(n=Jt(n,qn)),t).then(e=>e?new ss(n,null,e.query):null)}(this._delegate,t).then(e=>e?new as(this,e):null)}}class Oy extends k1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yl(new Ya(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return oo.forKey(e,this.firestore,null)}}class gN{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Oy(t)}get(t){const e=Rd(t);return this._delegate.get(e).then(r=>new rm(this._firestore,new Ja(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const a=Rd(t);return r?(oE("Transaction.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}}class uE{constructor(t){this._delegate=t}set(t,e,r){const a=Rd(t);return r?(oE("WriteBatch.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Hf{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Zf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new qu(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Hf.INSTANCES;let a=r.get(t);a||(a=new WeakMap,r.set(t,a));let l=a.get(e);return l||(l=new Hf(t,new Oy(t),e),a.set(e,l)),l}}Hf.INSTANCES=new WeakMap;class oo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Oy(t)}static forPath(t,e,r){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new oo(e,new Hn(e._delegate,r,new Ke(t)))}static forKey(t,e,r){return new oo(e,new Hn(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Kl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Kl(this.firestore,vy(this._delegate,t))}catch(e){throw os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Dt.m9)(t))instanceof Hn&&by(this._delegate,t)}set(t,e){e=oE("DocumentReference.set",e);try{return e?eE(this._delegate,t,e):eE(this._delegate,t)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?dN(this._delegate,t):dN(this._delegate,t,e,...r)}catch(a){throw os(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return jf(Jt(n.firestore,qn),[new Tg(n._key,hr.none())])}(this._delegate)}onSnapshot(...t){const e=mN(t),r=_N(t,a=>new rm(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return kd(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,Hn);const t=Jt(n.firestore,qn),e=Mr(t),r=new xd(t);return function(n,t){const e=new mi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(a,l,h){try{const m=yield function(b,T){const N=Ze(b);return N.persistence.runTransaction("read document","readonly",M=>N.Wn.Rn(M,T))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new xe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Mf(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(a,l,h){return r.apply(this,arguments)})(yield _y(n),t,e);var r})),e.promise}(e,n._key).then(a=>new Ja(t,r,n._key,a,new Wl(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,Hn);const t=Jt(n.firestore,qn);return C1(Mr(t),n._key,{source:"server"}).then(e=>O1(t,n,e))}(this._delegate):function(n){n=Jt(n,Hn);const t=Jt(n.firestore,qn);return C1(Mr(t),n._key).then(e=>O1(t,n,e))}(this._delegate),e.then(r=>new rm(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new oo(this.firestore,this._delegate.withConverter(t?Hf.getInstance(this.firestore,t):null))}}function os(n,t,e){return n.message=n.message.replace(t,e),n}function mN(n){for(const t of n)if("object"==typeof t&&!F1(t))return t;return{}}function _N(n,t){var e,r;let a;return a=F1(n[0])?n[0]:F1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(t(l))},error:null===(e=a.error)||void 0===e?void 0:e.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class rm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new oo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return JD(this._delegate,t._delegate)}}class qu extends rm{data(t){const e=this._delegate.data(t);return function(n,t){n||tt()}(void 0!==e),e}}class as{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Oy(t)}where(t,e,r){try{return new as(this.firestore,Nd(this._delegate,function(n,t,e){const r=t,a=My("where",n);return new Wx(a,r,e)}(t,e,r)))}catch(a){throw os(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new as(this.firestore,Nd(this._delegate,function(n,t="asc"){const e=t,r=My("orderBy",n);return new Kx(r,e)}(t,e)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new as(this.firestore,Nd(this._delegate,function(n){return aa("limit",n),new nN("limit",n,"F")}(t)))}catch(e){throw os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new as(this.firestore,Nd(this._delegate,function(n){return aa("limitToLast",n),new nN("limitToLast",n,"L")}(t)))}catch(e){throw os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new rN("startAt",n,!0)}(...t)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new rN("startAfter",n,!1)}(...t)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new iN("endBefore",n,!0)}(...t)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new iN("endAt",n,!1)}(...t)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}isEqual(t){return LD(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,qn),e=Mr(t),r=new xd(t);return function(n,t){const e=new mi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(a,l,h){try{const m=yield Lg(a,l,!0),b=new mD(l,m.zn),T=b.bo(m.documents),N=b.applyChanges(T,!1);h.resolve(N.snapshot)}catch(m){const b=Mf(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(a,l,h){return r.apply(this,arguments)})(yield _y(n),t,e);var r})),e.promise}(e,n._query).then(a=>new Hu(t,r,n,a))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,qn),e=Mr(t),r=new xd(t);return T1(e,n._query,{source:"server"}).then(a=>new Hu(t,r,n,a))}(this._delegate):function(n){n=Jt(n,ss);const t=Jt(n.firestore,qn),e=Mr(t),r=new xd(t);return QD(n._query),T1(e,n._query).then(a=>new Hu(t,r,n,a))}(this._delegate),e.then(r=>new L1(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=mN(t),r=_N(t,a=>new L1(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return kd(this._delegate,e,r)}withConverter(t){return new as(this.firestore,this._delegate.withConverter(t?Hf.getInstance(this.firestore,t):null))}}class yN{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new qu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class L1{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new qu(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new yN(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new qu(this._firestore,r))})}isEqual(t){return JD(this._delegate,t._delegate)}}class Kl extends as{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new oo(this.firestore,t):null}doc(t){try{return new oo(this.firestore,void 0===t?Lf(this._delegate):Lf(this._delegate,t))}catch(e){throw os(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Jt(n.firestore,qn),r=Lf(n),a=xy(n.converter,t);return jf(e,[Uf(Ka(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new oo(this.firestore,e))}isEqual(t){return by(this._delegate,t._delegate)}withConverter(t){return new Kl(this.firestore,this._delegate.withConverter(t?Hf.getInstance(this.firestore,t):null))}}function Rd(n){return Jt(n,Hn)}class us{constructor(...t){this._delegate=new zl(...t)}static documentId(){return new us(Hr.keyField().canonicalString())}isEqual(t){return(t=(0,Dt.m9)(t))instanceof zl&&this._delegate._internalPath.isEqual(t._internalPath)}}class Od{constructor(t){this._delegate=t}static serverTimestamp(){const t=new N1("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Od(t)}static delete(){const t=new Dy("deleteField");return t._methodName="FieldValue.delete",new Od(t)}static arrayUnion(...t){const e=function(...n){return new GD("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Od(e)}static arrayRemove(...t){const e=function(...n){return new Ey("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Od(e)}static increment(t){const e=function(n){return new zD("increment",n)}(t);return e._methodName="FieldValue.increment",new Od(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const V1={Firestore:Ry,GeoPoint:Cy,Timestamp:ti,Blob:Yl,Transaction:gN,WriteBatch:uE,DocumentReference:oo,DocumentSnapshot:rm,Query:as,QueryDocumentSnapshot:qu,QuerySnapshot:L1,CollectionReference:Kl,FieldPath:us,FieldValue:Od,setLogLevel:function(n){!function(n){Nu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new jc.wA("firestore-compat",e=>((t,e)=>new Ry(t,e,new fk))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},V1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(Va.Z);var im=F(6682),qf=F(9746),lE=F(7771),wN=F(8858);class cE extends un.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new dE(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=r.length;let h;if(this.closed)throw new ch.N;if(this.isStopped||this.hasError?h=yp.w.EMPTY:(this.observers.push(t),h=new wN.W(this,t)),a&&t.add(t=new qf.ht(t,a)),e)for(let m=0;m<l&&!t.closed;m++)t.next(r[m]);else for(let m=0;m<l&&!t.closed;m++)t.next(r[m].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||lE.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(t-a[h].time<r);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&a.splice(0,h),a}}class dE{constructor(t,e){this.time=t,this.value=e}}function hE(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let a,h,l=0,m=!1,b=!1;return function(N){let M;l++,!a||m?(m=!1,a=new cE(n,t,r),M=a.subscribe(this),h=N.subscribe({next(V){a.next(V)},error(V){m=!0,a.error(V)},complete(){b=!0,h=void 0,a.complete()}}),b&&(h=void 0)):M=a.subscribe(this),this.add(()=>{l--,M.unsubscribe(),M=void 0,h&&!b&&e&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}function Py(n,t){return t?ir(()=>n,t):ir(()=>n)}var Fy=F(2639);F(2329);const NN=new Map,pE={activated:!1,tokenObservers:[]},gE={initialized:!1,enabled:!1};function ii(n){return NN.get(n)||pE}function ua(n,t){NN.set(n,t)}function sm(){return gE}class Ck{constructor(t,e,r,a,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,re.Z)(function*(){e.stop();try{e.pending=new Dt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Dt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ui=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vE(n){if(!ii(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function bE(n,t){return wE.apply(this,arguments)}function wE(){return(wE=(0,re.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,l)}catch(M){throw Ui.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Ui.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw Ui.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(b[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function si(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Gf="firebase-app-check-store";let Fd=null;function DE(){return Fd||(Fd=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(Ui.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(Gf,{keyPath:"compositeKey"})}}}catch(e){t(Ui.create("storage-open",{originalErrorMessage:e.message}))}}),Fd)}function am(){return(am=(0,re.Z)(function*(n,t){const r=(yield DE()).transaction(Gf,"readwrite"),l=r.objectStore(Gf).put({compositeKey:n,value:t});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var T;m(Ui.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Vd=new Ua.Yd("@firebase/app-check");function ON(n,t){return(0,Dt.hl)()?function(n,t){return function(n,t){return am.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Vd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function FN(){return sm().enabled}function um(){return q1.apply(this,arguments)}function q1(){return(q1=(0,re.Z)(function*(){const n=sm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ik={error:"UNKNOWN_ERROR"};function Ak(n){return Dt.US.encodeString(JSON.stringify(n),!1)}function Uy(n){return $1.apply(this,arguments)}function $1(){return($1=(0,re.Z)(function*(n,t=!1){const e=n.app;vE(e);const r=ii(e);let l,a=r.token;if(!a){const b=yield r.cachedTokenPromise;b&&Zy(b)&&(a=b)}if(!t&&a&&Zy(a))return{token:a.token};let m,h=!1;if(FN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bE(si(e,yield um()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const b=yield r.exchangeTokenPromise;return yield ON(e,b),ua(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),a=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Vd.warn(b.message):Vd.error(b),l=b}return a?(m={token:a.token},ua(e,Object.assign(Object.assign({},r),{token:a})),yield ON(e,a)):m=LN(l),h&&xE(e,m),m})).apply(this,arguments)}function z1(n,t){const e=ii(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function ME(n){const{app:t}=n,e=ii(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new Ck((0,re.Z)(function*(){let r;if(r=ii(t).token?yield Uy(n,!0):yield Uy(n),r.error)throw r.error}),()=>!0,()=>{const e=ii(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ua(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function xE(n,t){const e=ii(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function Zy(n){return n.expireTimeMillis-Date.now()>0}function LN(n){return{token:Ak(Ik),error:n}}class Nk{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=ii(this.app);for(const e of t)z1(this.app,e.next);return Promise.resolve()}}const LE="app-check-internal";(0,Ks._registerComponent)(new jc.wA("app-check",n=>function(n,t){return new Nk(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(LE).initialize()})),(0,Ks._registerComponent)(new jc.wA(LE,n=>function(n){return{getToken:t=>Uy(n,t),addTokenListener:t=>function(n,t,e,r){const{app:a}=n,l=ii(a),h={next:e,error:r,type:t};if(ua(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Zy(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),ME(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ME(n))}(n,"INTERNAL",t),removeTokenListener:t=>z1(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ks.registerVersion)("@firebase/app-check","0.5.2");class K1{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;const BE=new i.OlP("angularfire2.auth.use-emulator"),jE=new i.OlP("angularfire2.auth.settings"),Hy=new i.OlP("angularfire2.auth.tenant-id"),HE=new i.OlP("angularfire2.auth.langugage-code"),Zi=new i.OlP("angularfire2.auth.use-device-language"),Yf=new i.OlP("angularfire.auth.persistence"),lm=(n,t,e,r,a,l,h,m)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=a,l&&b.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))b.settings[T]=N;return m&&b.setPersistence(m),b},[e,r,a,l,h,m]);let Kf=(()=>{class n{constructor(e,r,a,l,h,m,b,T,N,M,V,H){const se=new un.xQ,ye=(0,Ge.of)(void 0).pipe((0,qf.QV)(h.outsideAngular),ir(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,at.U)(()=>(0,Xi.on)(e,l,r)),(0,at.U)(Se=>lm(Se,l,m,T,N,M,b,V)),hE({bufferSize:1,refCount:!1}));if(ma(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{ye.pipe(Jn()).subscribe();const rt=ye.pipe(ir(ot=>ot.getRedirectResult().then(cn=>cn,()=>null)),er.iC,hE({bufferSize:1,refCount:!1})),Je=ye.pipe(ir(ot=>new kt.y(cn=>({unsubscribe:l.runOutsideAngular(()=>ot.onAuthStateChanged(Gr=>cn.next(Gr),Gr=>cn.error(Gr),()=>cn.complete()))})))),St=ye.pipe(ir(ot=>new kt.y(cn=>({unsubscribe:l.runOutsideAngular(()=>ot.onIdTokenChanged(Gr=>cn.next(Gr),Gr=>cn.error(Gr),()=>cn.complete()))}))));this.authState=rt.pipe(Py(Je),(0,Fy.R)(h.outsideAngular),(0,qf.QV)(h.insideAngular)),this.user=rt.pipe(Py(St),(0,Fy.R)(h.outsideAngular),(0,qf.QV)(h.insideAngular)),this.idToken=this.user.pipe(ir(ot=>ot?(0,gn.D)(ot.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe(ir(ot=>ot?(0,gn.D)(ot.getIdTokenResult()):(0,Ge.of)(null))),this.credential=(0,im.T)(rt,se,this.authState.pipe(Pn(ot=>!ot))).pipe((0,at.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,Fy.R)(h.outsideAngular),(0,qf.QV)(h.insideAngular))}return(0,Xi.pX)(this,ye,l,{spy:{apply:(Se,rt,Je)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Je.then(St=>se.next(St))}}})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Xi.Dh),i.LFG(Xi.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(er.HU),i.LFG(BE,8),i.LFG(jE,8),i.LFG(Hy,8),i.LFG(HE,8),i.LFG(Zi,8),i.LFG(Yf,8),i.LFG(K1,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qy=(()=>{class n{constructor(){Xm.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Kf]}),n})();function nw(n,t){return function(n,t=e_.z){return new kt.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function rw(n,t){return nw(n,t).pipe((0,at.U)(e=>({payload:e,type:"query"})))}function Gy(n,t){return rw(n,t).pipe(Ia(void 0),wt(),(0,at.U)(([e,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=a.find(N=>N.doc.ref.isEqual(h.ref)),T=null==e?void 0:e.payload.docs.find(N=>N.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function qE(n,t,e){return Gy(n,e).pipe(vu((r,a)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return zy(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return zy(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return zy(n,t.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),t),[]),function(n,t){return e=>e.lift(new na(n,t))}(),(0,at.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function zy(n,t,e,...r){const a=n.slice();return a.splice(t,e,...r),a}function $E(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class GE{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=Gy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,at.U)(r=>r.filter(a=>t.indexOf(a.type)>-1)))),e.pipe(Ia(void 0),wt(),Pn(([r,a])=>a.length>0||!r),(0,at.U)(([r,a])=>a),er.iC)}auditTrail(t){return this.stateChanges(t).pipe(vu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$E(t);return qE(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return rw(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),er.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(er.iC)}add(t){return this.ref.add(t)}doc(t){return new $u(this.ref.doc(t),this.afs)}}class $u{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:a,query:l}=Yy(r,e);return new GE(a,l,this.afs)}snapshotChanges(){return function(n,t){return nw(n,t).pipe(Ia(void 0),wt(),(0,at.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,at.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,gn.D)(this.ref.get(t)).pipe(er.iC)}}class cm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gy(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Pn(e=>e.length>0),er.iC):Gy(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(t){return this.stateChanges(t).pipe(vu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$E(t);return qE(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return rw(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(a=>t.idField?Object.assign({[t.idField]:a.id},a.data()):a.data())),er.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(er.iC)}}const Wy=new i.OlP("angularfire2.enableFirestorePersistence"),zE=new i.OlP("angularfire2.firestore.persistenceSettings"),sM=new i.OlP("angularfire2.firestore.settings"),oM=new i.OlP("angularfire2.firestore.use-emulator");function Yy(n,t=(e=>e)){return{query:t(n),ref:n}}let Ky=(()=>{class n{constructor(e,r,a,l,h,m,b,T,N,M,V,H,se,ye,Se,rt,Je){this.schedulers=b;const St=(0,Xi.on)(e,m,r),ot=N;M&&lm(St,m,V,se,ye,Se,H,rt),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const cn=m.runOutsideAngular(()=>St.firestore());if(l&&cn.settings(l),ot&&cn.useEmulator(...ot),a&&!ma(h)){const Gr=()=>{try{return(0,gn.D)(cn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Wu){return"undefined"!=typeof console&&console.warn(Wu),(0,Ge.of)(!1)}};return[cn,m.runOutsideAngular(Gr)]}return[cn,(0,Ge.of)(!1)]},[l,ot,a])}collection(e,r){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=Yy(a,r),m=this.schedulers.ngZone.run(()=>l);return new GE(m,h,this)}collectionGroup(e,r){const a=r||(h=>h),l=this.firestore.collectionGroup(e);return new cm(a(l),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>r);return new $u(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Xi.Dh),i.LFG(Xi.xv,8),i.LFG(Wy,8),i.LFG(sM,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(er.HU),i.LFG(zE,8),i.LFG(oM,8),i.LFG(Kf,8),i.LFG(BE,8),i.LFG(jE,8),i.LFG(Hy,8),i.LFG(HE,8),i.LFG(Zi,8),i.LFG(Yf,8),i.LFG(K1,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WE=(()=>{class n{constructor(){Xm.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Wy,useValue:!0},{provide:zE,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Ky]}),n})(),Ns=(()=>{class n{constructor(e,r){var a=this;this.afs=e,this.auth=r,this.user=null,this.currUser=null,this.userCollection=e.collection("Users"),this.auth.user.subscribe(function(){var l=(0,re.Z)(function*(h){h?yield a.userExist(h):yield a.userNotExist()});return function(h){return l.apply(this,arguments)}}())}userExist(e){var r=this;return(0,re.Z)(function*(){r.user=e;const a=yield r.getUser(e.uid);a?(r.currUser=a,console.log("Cargo User: ",r.currUser),console.log("user still logged in")):yield r.userNotExist()})()}userNotExist(){var e=this;return(0,re.Z)(function*(){e.user=null,e.currUser=null,console.log("no User")})()}getUser(e){var r=this;return(0,re.Z)(function*(){return r.getAllUser().then(a=>a.find(l=>l.uid===e))})()}getAllUser(){var e=this;return(0,re.Z)(function*(){return e.userCollection.get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dId=a.id,l}))})()}addUser(e){var r=this;return(0,re.Z)(function*(){const a=r.copyAndPrepareUser(e);yield r.userCollection.add(a).then().catch(l=>{console.log(l)})})()}updateUser(e){var r=this;return(0,re.Z)(function*(){yield r.userCollection.doc(e.dId).update(r.copyAndPrepareUser(e))})()}deleteUser(e){var r=this;return(0,re.Z)(function*(){yield r.userCollection.doc(e.dId).delete()})()}copyAndPrepareUser(e){return Object.assign({},e)}login(e,r){var a=this;return(0,re.Z)(function*(){yield a.auth.signInWithEmailAndPassword(e,r)})()}logout(){var e=this;return(0,re.Z)(function*(){yield e.auth.signOut()})()}deleteAccount(){return(0,re.Z)(function*(){var e;yield null===(e=Xm.Z.auth().currentUser)||void 0===e?void 0:e.delete()})()}register(e,r){var a=this;return(0,re.Z)(function*(){yield a.auth.createUserWithEmailAndPassword(e,r)})()}deleteCar(e){var r=this;return(0,re.Z)(function*(){if(r.currUser){const a=r.currUser.car.indexOf(e,0);r.currUser.car.splice(a,1),yield r.updateUser(r.currUser)}})()}addCar(e){var r=this;return(0,re.Z)(function*(){r.currUser&&(r.currUser.car.push(e),yield r.updateUser(r.currUser))})()}addMoney(e){var r=this;return(0,re.Z)(function*(){r.currUser&&(r.currUser.money+=e,yield r.updateUser(r.currUser))})()}subMoney(e){var r=this;return(0,re.Z)(function*(){r.currUser&&(r.currUser.money-=e,yield r.updateUser(r.currUser))})()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ky),i.LFG(Kf))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var aM=F(9105);function vi(n,t,e,r){return(0,aM.m)(e)&&(r=e,e=void 0),r?vi(n,t,e).pipe((0,at.U)(a=>(0,vs.k)(a)?r(...a):r(a))):new kt.y(a=>{Xa(n,t,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function Xa(n,t,e,r,a){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,a),l=()=>h.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),l=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),l=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)Xa(n[h],t,e,r,a)}r.add(l)}var Ud=F(6561);function uM(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}class JE{call(t,e){return e.subscribe(new QE(t))}}class QE extends _u{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const l=Tc(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==r){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}var XE=F(8640);new kt.y(XE.Z);var Qy=F(377);function Xy(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,Do.n)(n,void 0).lift(new tI(t))}class tI{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zd(t,this.resultSelector))}}class Zd extends Kn.L{constructor(t,e,r=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,vs.k)(t)?e.push(new lM(t)):e.push("function"==typeof t[Qy.hZ]?new sw(t[Qy.hZ]()):new cM(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let r=0;r<e;r++){let a=t[r];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,r=this.destination;for(let h=0;h<e;h++){let m=t[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let a=!1;const l=[];for(let h=0;h<e;h++){let m=t[h],b=m.next();if(m.hasCompleted()&&(a=!0),b.done)return void r.complete();l.push(b.value)}this.resultSelector?this._tryresultSelector(l):r.next(l),a&&r.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class sw{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class lM{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Qy.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class cM extends li.Ds{constructor(t,e,r){super(t),this.parent=e,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Qy.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,li.ft)(this.observable,new li.IY(this))}}function wr(n){return t=>t.lift(new Uk(n))}class Uk{constructor(t){this.notifier=t}call(t,e){const r=new Zk(t),a=(0,li.ft)(this.notifier,new li.IY(r));return a&&!r.seenValue?(r.add(a),e.subscribe(r)):r}}class Zk extends li.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ow(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new dM(n,e))}}class dM{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Bk(t,this.observables,this.project))}}class Bk extends _u{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(Tc(this,e[l],void 0,l))}notifyNext(t,e,r){this.values[r]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(r);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}F(1593),F(8819);var u=F(1555);function d(n,t){return new kt.y(e=>{const r=n.length;if(0===r)return void e.complete();const a=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,gn.D)(n[m]);let T=!1;e.add(b.subscribe({next:N=>{T||(T=!0,h++),a[m]=N},error:N=>e.error(N),complete:()=>{l++,(l===r||!T)&&(h===r&&e.next(t?t.reduce((N,M,V)=>(N[M]=a[V],N),{}):a),e.complete())}}))}})}let f=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),g=(()=>{class n extends f{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const y=new i.OlP("NgValueAccessor"),A={provide:y,useExisting:(0,i.Gpc)(()=>j),multi:!0},P=new i.OlP("CompositionEventMode");let j=(()=>{class n extends f{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(P,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[i._Bn([A]),i.qOj]}),n})();const te=new i.OlP("NgValidators"),Ne=new i.OlP("NgAsyncValidators");function e0(n){return null!=n}function t0(n){const t=(0,i.QGY)(n)?(0,gn.D)(n):n;return(0,i.CqO)(t),t}function n0(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function r0(n,t){return t.map(e=>e(n))}function Gk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function gM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(e0);return 0==t.length?null:function(e){return n0(r0(e,t))}}(Gk(n)):null}function mM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(e0);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,vs.k)(t))return d(t,null);if((0,u.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return d(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return d(n=1===n.length&&(0,vs.k)(n[0])?n[0]:n,null).pipe((0,at.U)(e=>t(...e)))}return d(n,null)}(r0(e,t).map(t0)).pipe((0,at.U)(n0))}}(Gk(n)):null}function Yk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Kk(n){return n._rawValidators}function Jk(n){return n._rawAsyncValidators}function _M(n){return n?Array.isArray(n)?n:[n]:[]}function rI(n,t){return Array.isArray(n)?n.includes(t):n===t}function Qk(n,t){const e=_M(t);return _M(n).forEach(a=>{rI(e,a)||e.push(a)}),e}function Xk(n,t){return _M(t).filter(e=>!rI(n,e))}let eR=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n}),n})(),lo=(()=>{class n extends eR{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();class Xf extends eR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tR{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}let hm=(()=>{class n extends tR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Xf,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[i.qOj]}),n})(),nR=(()=>{class n extends tR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(lo,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&i.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[i.qOj]}),n})();function sI(n,t){return[...t.path,n]}function aw(n,t){bM(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rR(n,t)})}(n,t),function(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function oI(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),uI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bM(n,t){const e=Kk(n);null!==t.validator?n.setValidators(Yk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Jk(n);null!==t.asyncValidator?n.setAsyncValidators(Yk(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();aI(t._rawValidators,a),aI(t._rawAsyncValidators,a)}function uI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Kk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.validator);l.length!==a.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const a=Jk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.asyncValidator);l.length!==a.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return aI(t._rawValidators,r),aI(t._rawAsyncValidators,r),e}function rR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function CM(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(l=>{l.constructor===j?e=l:function(n){return Object.getPrototypeOf(n.constructor)===g}(l)?r=l:a=l}),a||r||e||null}function lI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const uw="VALID",cI="INVALID",s0="PENDING",lw="DISABLED";function TM(n){return(EM(n)?n.validators:n)||null}function oR(n){return Array.isArray(n)?gM(n):n||null}function DM(n,t){return(EM(t)?t.asyncValidators:n)||null}function aR(n){return Array.isArray(n)?mM(n):n||null}function EM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class IM{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=oR(this._rawValidators),this._composedAsyncValidatorFn=aR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uw}get invalid(){return this.status===cI}get pending(){return this.status==s0}get disabled(){return this.status===lw}get enabled(){return this.status!==lw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=oR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=aR(t)}addValidators(t){this.setValidators(Qk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Qk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xk(t,this._rawAsyncValidators))}hasValidator(t){return rI(this._rawValidators,t)}hasAsyncValidator(t){return rI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=s0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uw||this.status===s0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lw:uw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=s0,this._hasOwnPendingAsyncValidator=!0;const e=t0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=r instanceof dI?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof HP&&r.at(a)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?lw:this.errors?cI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s0)?s0:this._anyControlsHaveStatus(cI)?cI:uw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){EM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ep extends IM{constructor(t=null,e,r){super(TM(e),DM(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class dI extends IM{constructor(t,e,r){super(TM(e),DM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof ep?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,l)=>{r=e(r,a,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class HP extends IM{constructor(t,e,r){super(TM(e),DM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ep?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const GP={provide:Xf,useExisting:(0,i.Gpc)(()=>fm)},cR=(()=>Promise.resolve(null))();let fm=(()=>{class n extends Xf{constructor(e,r,a,l){super(),this.control=new ep,this._registered=!1,this.update=new i.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=CM(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),wM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?sI(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;cR.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(lo,9),i.Y36(te,10),i.Y36(Ne,10),i.Y36(y,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([GP]),i.qOj,i.TTD]}),n})(),dR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const zP={provide:y,useExisting:(0,i.Gpc)(()=>SM),multi:!0};let SM=(()=>{class n extends g{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([zP]),i.qOj]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const KP={provide:y,useExisting:(0,i.Gpc)(()=>NM),multi:!0};let NM=(()=>{class n extends g{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(l){return r.onChange(l.target.value)})("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([KP]),i.qOj]}),n})();const MM=new i.OlP("NgModelWithFormControlWarning"),QP={provide:lo,useExisting:(0,i.Gpc)(()=>hI)};let hI=(()=>{class n extends lo{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return aw(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){oI(e.control||null,e,!1),lI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,a=this.form.get(e.path);r!==a&&(oI(r||null,e),a instanceof ep&&(aw(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function(n,t){bM(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return uI(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bM(this.form,this),this._oldForm&&uI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(te,10),i.Y36(Ne,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&i.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([QP]),i.qOj,i.TTD]}),n})();const t2={provide:Xf,useExisting:(0,i.Gpc)(()=>RM)};let RM=(()=>{class n extends Xf{constructor(e,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=CM(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),wM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return sI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(lo,13),i.Y36(te,10),i.Y36(Ne,10),i.Y36(y,10),i.Y36(MM,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([t2]),i.qOj,i.TTD]}),n._ngModelWarningSentOnce=!1,n})();const n2={provide:y,useExisting:(0,i.Gpc)(()=>o0),multi:!0};function mR(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let o0=(()=>{class n extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const a=mR(r,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([n2]),i.qOj]}),n})(),dw=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(o0,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const i2={provide:y,useExisting:(0,i.Gpc)(()=>OM),multi:!0};function _R(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let OM=(()=>{class n extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const l=r.selectedOptions;for(let h=0;h<l.length;h++){const m=l.item(h),b=this._getOptionValue(m.value);a.push(b)}}else{const l=r.options;for(let h=0;h<l.length;h++){const m=l.item(h);if(m.selected){const b=this._getOptionValue(m.value);a.push(b)}}}this.value=a,e(a)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&i.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([i2]),i.qOj]}),n})(),hw=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(OM,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const u2={provide:te,useExisting:(0,i.Gpc)(()=>fI),multi:!0};let fI=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&i.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[i._Bn([u2])]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[hR]]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[AR]}),n})(),p2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:MM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[AR]}),n})();function C2(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"button",1),i.NdJ("click",function(){return i.CHM(e),i.oxw().close()}),i.TgZ(1,"span",2),i._uU(2,"\xd7"),i.qZA(),i.qZA()}}const a0=["*"],nF=["dialog"];function VF(n,t){1&n&&i._uU(0),2&n&&i.Oqu(100===t.fill?"\u2605":"\u2606")}function UF(n,t){}function ZF(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"span",2),i._uU(1),i.qZA(),i.TgZ(2,"span",3),i.NdJ("mouseenter",function(){const l=i.CHM(e).index;return i.oxw().enter(l+1)})("click",function(){const l=i.CHM(e).index;return i.oxw().handleClick(l+1)}),i.YNc(3,UF,0,0,"ng-template",4),i.qZA()}if(2&n){const e=t.index,r=i.oxw(),a=i.MAs(1);i.xp6(1),i.hij("(",e<r.nextRate?"*":" ",")"),i.xp6(1),i.Udp("cursor",r.isInteractive()?"pointer":"default"),i.xp6(1),i.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||a)("ngTemplateOutletContext",r.contexts[e])}}function pI(n,t,e=0){return Math.max(Math.min(n,t),e)}function tp(n){return null!=n}function l0(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const xR={animation:!0,transitionTimerDelayMs:5};let Bi=(()=>{class n{constructor(){this.animation=xR.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const pL=()=>{},{transitionTimerDelayMs:gL}=xR,pw=new Map,bi=(n,t,e,r)=>{let a=r.context||{};const l=pw.get(t);if(l)switch(r.runningTransition){case"continue":return Kr.E;case"stop":n.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),pw.delete(t)}const h=e(t,r.animation,a)||pL;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>h()),(0,Ge.of)(void 0).pipe(function(n){return t=>new kt.y(e=>t.subscribe(h=>n.run(()=>e.next(h)),h=>n.run(()=>e.error(h)),()=>n.run(()=>e.complete())))}(n));const m=new un.xQ,b=new un.xQ,T=m.pipe(function(...n){return t=>Yi(t,(0,Ge.of)(...n))}(!0));pw.set(t,{transition$:m,complete:()=>{b.next(),b.complete()},context:a});const N=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const M=vi(t,"transitionend").pipe(wr(T),Pn(({target:H})=>H===t));(function(...n){if(1===n.length){if(!(0,vs.k)(n[0]))return n[0];n=n[0]}return(0,Do.n)(n,void 0).lift(new JE)})(function(n=0,t,e){let r=-1;return(0,Ud.k)(t)?r=Number(t)<1?1:Number(t):(0,mu.K)(t)&&(e=t),(0,mu.K)(e)||(e=e_.P),new kt.y(a=>{const l=(0,Ud.k)(n)?n:+n-e.now();return e.schedule(uM,l,{index:0,period:r,subscriber:a})})}(N+gL).pipe(wr(T)),M,b).pipe(wr(T)).subscribe(()=>{pw.delete(t),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let FR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),vL=(()=>{class n{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Bi))},n.\u0275prov=i.Yz7({factory:function(){return new n(i.LFG(Bi))},token:n,providedIn:"root"}),n})();const bL=({classList:n})=>{n.remove("show")};let wL=(()=>{class n{constructor(e,r,a,l){this._renderer=r,this._element=a,this._zone=l,this.closed=new i.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=bi(this._zone,this._element.nativeElement,bL,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const r=e.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(vL),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,r){2&e&&i.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{dismissible:"dismissible",type:"type",animation:"animation"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[i.TTD],ngContentSelectors:a0,decls:2,vars:1,consts:function(){let t;return t=$localize`:@@ngb.alert.close␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`,[["type","button","class","close","aria-label",t,3,"click",4,"ngIf"],["type","button","aria-label",t,1,"close",3,"click"],["aria-hidden","true"]]},template:function(e,r){1&e&&(i.F$t(),i.Hsn(0),i.YNc(1,C2,3,0,"button",0)),2&e&&(i.xp6(1),i.Q6J("ngIf",r.dismissible))},directives:[on],styles:["ngb-alert{display:block}"],encapsulation:2,changeDetection:0}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();var Gt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Gt||(Gt={})),Gt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const WR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function YR(n){const t=Array.from(n.querySelectorAll(WR)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let r,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(t);r=this.offset(t,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return r.top-=a.top,r.bottom-=a.top,r.left-=a.left,r.right-=a.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(t,e=!0){const r=t.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+a_top,bottom:r.bottom+a_top,left:r.left+a_left,right:r.right+a_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,r,a){const[l="top",h="center"]=r.split("-"),m=a?this.offset(t,!1):this.position(t,!1),b=this.getAllStyles(e),T=parseFloat(b.marginTop),N=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let H=0,se=0;switch(l){case"top":H=m.top-(e.offsetHeight+T+N);break;case"bottom":H=m.top+m.height;break;case"left":se=m.left-(e.offsetWidth+M+V);break;case"right":se=m.left+m.width}switch(h){case"top":H=m.top;break;case"bottom":H=m.top+m.height-e.offsetHeight;break;case"left":se=m.left;break;case"right":se=m.left+m.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?se=m.left+m.width/2-e.offsetWidth/2:H=m.top+m.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(se)}px, ${Math.round(H)}px)`;const ye=e.getBoundingClientRect(),Se=document.documentElement,rt=window.innerHeight||Se.clientHeight,Je=window.innerWidth||Se.clientWidth;return ye.left>=0&&ye.top>=0&&ye.right<=Je&&ye.bottom<=rt}},new Date(1882,10,12),new Date(2174,10,25);let sO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr,SR]]}),n})(),lO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),cO=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Bi))},n.\u0275prov=i.Yz7({factory:function(){return new n(i.LFG(Bi))},token:n,providedIn:"root"}),n})();class ym{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}const f3=()=>{};let dO=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):f3}_adjustBody(e){const r=this._document.body,a=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+e}px`,()=>r.style["padding-right"]=a}_isPresent(e){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return r.removeChild(e),a}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(de))},n.\u0275prov=i.Yz7({factory:function(){return new n(i.LFG(de))},token:n,providedIn:"root"}),n})(),p3=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ci(1)).subscribe(()=>{bi(this._zone,this._el.nativeElement,(e,r)=>{r&&l0(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,r){2&e&&(i.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),i.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class bw{close(t){}dismiss(t){}}class g3{constructor(t,e,r,a){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=a,this._closed=new un.xQ,this._dismissed=new un.xQ,this._hidden=new un.xQ,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(wr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(wr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(r=>{!1!==r&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ge.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Xy(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ww=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(ww||(ww={})),ww))();let m3=(()=>{class n{constructor(e,r,a){this._document=e,this._elRef=r,this._zone=a,this._closed$=new un.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.vpe,this.shown=new un.xQ,this.hidden=new un.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ci(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Xy(bi(this._zone,e,()=>e.classList.remove("show"),r),bi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Xy(bi(this._zone,this._elRef.nativeElement,(l,h)=>{h&&l0(l),l.classList.add("show")},e),bi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{vi(e,"keydown").pipe(wr(this._closed$),Pn(a=>a.which===Gt.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(ww.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;vi(this._dialogEl.nativeElement,"mousedown").pipe(wr(this._closed$),(0,Qn.b)(()=>r=!1),ir(()=>vi(e,"mouseup").pipe(wr(this._closed$),ci(1))),Pn(({target:a})=>e===a)).subscribe(()=>{r=!0}),vi(e,"click").pipe(wr(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(ww.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),a=YR(e)[0];(r||a||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let a;a=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(de),i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&i.Gf(nF,7),2&e){let a;i.iGM(a=i.CRH())&&(r._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(i.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),i.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),i.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:a0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(i.F$t(),i.TgZ(0,"div",0,1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.qZA()),2&e&&i.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),hO=(()=>{class n{constructor(e,r,a,l,h,m){this._applicationRef=e,this._injector=r,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new un.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{n.runOutsideAngular(()=>{const a=vi(t,"focusin").pipe(wr(e),(0,at.U)(l=>l.target));vi(t,"keydown").pipe(wr(e),Pn(l=>l.which===Gt.Tab),ow(a)).subscribe(([l,h])=>{const[m,b]=YR(t);(h===m||h===t)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&vi(t,"click").pipe(wr(e),ow(a),(0,at.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(e,r,a,l){const h=l.container instanceof HTMLElement?l.container:tp(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const N=new bw,M=this._getContentRef(e,l.injector||r,a,N,l);let V=!1!==l.backdrop?this._attachBackdrop(e,h):void 0,H=this._attachWindowComponent(e,h,M),se=new g3(H,M,V,l.beforeDismiss);return this._registerModalRef(se),this._registerWindowCmpt(H),se.result.then(b,b),se.result.then(T,T),N.close=ye=>{se.close(ye)},N.dismiss=ye=>{se.dismiss(ye)},this._applyWindowOptions(H.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,l),V.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),se}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let l=e.resolveComponentFactory(p3).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,r,a){let h=e.resolveComponentFactory(m3).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,r){this._windowAttributes.forEach(a=>{tp(r[a])&&(e[a]=r[a])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(a=>{tp(r[a])&&(e[a]=r[a])})}_getContentRef(e,r,a,l,h){return a?a instanceof i.Rgc?this._createFromTemplateRef(a,l):function(n){return"string"==typeof n}(a)?this._createFromString(a):this._createFromComponent(e,r,a,l,h):new ym([])}_createFromTemplateRef(e,r){const l=e.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new ym([l.rootNodes],l)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new ym([[r]])}_createFromComponent(e,r,a,l,h){const m=e.resolveComponentFactory(a),b=i.zs3.create({providers:[{provide:bw,useValue:l}],parent:r}),T=m.create(b),N=T.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new ym([[N]],T.hostView,T)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i.z2F),i.LFG(i.zs3),i.LFG(de),i.LFG(dO),i.LFG(i.FYo),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({factory:function(){return new n(i.LFG(i.z2F),i.LFG(i.gxx),i.LFG(de),i.LFG(dO),i.LFG(i.FYo),i.LFG(i.R0b))},token:n,providedIn:"root"}),n})(),WM=(()=>{class n{constructor(e,r,a,l){this._moduleCFR=e,this._injector=r,this._modalStack=a,this._config=l}open(e,r={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(hO),i.LFG(cO))},n.\u0275prov=i.Yz7({factory:function(){return new n(i.LFG(i._Vd),i.LFG(i.gxx),i.LFG(hO),i.LFG(cO))},token:n,providedIn:"root"}),n})(),fO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[WM]}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),R3=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),O3=(()=>{class n{constructor(e,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new i.vpe,this.leave=new i.vpe,this.rateChange=new i.vpe(!0),this.onChange=a=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Gt.ArrowDown:case Gt.ArrowLeft:this.update(this.rate-1);break;case Gt.ArrowUp:case Gt.ArrowRight:this.update(this.rate+1);break;case Gt.Home:this.update(0);break;case Gt.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,r)=>({fill:0,index:r})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,r=!0){const a=pI(e,this.max,0);this.isInteractive()&&this.rate!==a&&(this.rate=a,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((r,a)=>r.fill=Math.round(100*pI(e-a,1,0)))}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(R3),i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(e,r,a){if(1&e&&i.Suo(a,i.Rgc,5),2&e){let l;i.iGM(l=i.CRH())&&(r.starTemplateFromContent=l.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,r){1&e&&i.NdJ("blur",function(){return r.handleBlur()})("keydown",function(l){return r.handleKeyDown(l)})("mouseleave",function(){return r.reset()}),2&e&&(i.Ikx("tabindex",r.disabled?-1:0),i.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i._Bn([{provide:y,useExisting:(0,i.Gpc)(()=>n),multi:!0}]),i.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(i.YNc(0,VF,1,1,"ng-template",null,0,i.W1O),i.YNc(2,ZF,4,5,"ng-template",1)),2&e&&(i.xp6(2),i.Q6J("ngForOf",r.contexts))},directives:[_t,Ur],encapsulation:2,changeDetection:0}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();new i.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let UO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yr]]}),n})();const eV=[FR,LR,UR,jR,HR,sO,lO,fO,_O,EO,SO,NO,MO,OO,PO,FO,UO];let tV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[eV,FR,LR,UR,jR,HR,sO,lO,fO,_O,EO,SO,NO,MO,OO,PO,FO,UO]}),n})();function nV(n,t){if(1&n&&(i.TgZ(0,"div",39),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.lastnameMessage)}}function rV(n,t){if(1&n&&(i.TgZ(0,"div",39),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.firstnameMessage)}}function iV(n,t){if(1&n&&(i.TgZ(0,"div",39),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.genderMessage)}}function sV(n,t){if(1&n&&(i.TgZ(0,"div",39),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.birthdayMessage)}}function oV(n,t){if(1&n&&(i.TgZ(0,"div",39),i._uU(1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Oqu(e.usernameMessage)}}function aV(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",17),i.TgZ(4,"div",18),i.TgZ(5,"label",19),i._uU(6,"Nachname"),i.qZA(),i.TgZ(7,"input",20,21),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().userData.currUser.lastname=a})("keydown",function(){i.CHM(e);const a=i.MAs(8);return i.oxw().validLastname(a.value)})("keydown.enter",function(){return i.CHM(e),i.oxw().inputCheck()}),i.qZA(),i.YNc(9,nV,2,1,"div",22),i.qZA(),i.qZA(),i.TgZ(10,"div",17),i.TgZ(11,"div",18),i.TgZ(12,"label",23),i._uU(13,"Vorname"),i.qZA(),i.TgZ(14,"input",24,25),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().userData.currUser.firstname=a})("keydown",function(){i.CHM(e);const a=i.MAs(15);return i.oxw().validFirstname(a.value)})("keydown.enter",function(){return i.CHM(e),i.oxw().inputCheck()}),i.qZA(),i.YNc(16,rV,2,1,"div",22),i.qZA(),i.qZA(),i.qZA(),i.TgZ(17,"div",2),i.TgZ(18,"div",17),i.TgZ(19,"div",18),i.TgZ(20,"label",26),i._uU(21,"Geschlecht"),i.qZA(),i.TgZ(22,"select",27,28),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().userData.currUser.gender=a})("change",function(){i.CHM(e);const a=i.MAs(23);return i.oxw().validGender(a.value)})("keydown.enter",function(){return i.CHM(e),i.oxw().inputCheck()}),i._UZ(24,"option",29),i.TgZ(25,"option",30),i._uU(26,"Weiblich"),i.qZA(),i.TgZ(27,"option",31),i._uU(28,"M\xe4nnlich"),i.qZA(),i.TgZ(29,"option",32),i._uU(30,"Divers"),i.qZA(),i.qZA(),i.YNc(31,iV,2,1,"div",22),i.qZA(),i.qZA(),i.TgZ(32,"div",17),i.TgZ(33,"div",18),i.TgZ(34,"label",33),i._uU(35,"Geburtstag"),i.qZA(),i.TgZ(36,"input",34,35),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().userData.currUser.birthday=a})("change",function(){i.CHM(e);const a=i.MAs(37);return i.oxw().validBirthday(a.value)})("keydown.enter",function(){return i.CHM(e),i.oxw().inputCheck()}),i.qZA(),i.YNc(38,sV,2,1,"div",22),i.qZA(),i.qZA(),i.qZA(),i.TgZ(39,"div",2),i.TgZ(40,"div",17),i.TgZ(41,"div",18),i.TgZ(42,"label",36),i._uU(43,"Nutzername"),i.qZA(),i.TgZ(44,"input",37,38),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().userData.currUser.username=a})("keydown",function(){i.CHM(e);const a=i.MAs(45);return i.oxw().validUsername(a.value)})("keydown.enter",function(){return i.CHM(e),i.oxw().inputCheck()}),i.qZA(),i.YNc(46,oV,2,1,"div",22),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=i.oxw();i.xp6(7),i.Gre("form-control ",e.wrongLastname,""),i.Q6J("ngModel",e.userData.currUser.lastname),i.xp6(2),i.Q6J("ngIf",""!==e.lastnameMessage),i.xp6(5),i.Gre("form-control ",e.wrongFirstname,""),i.Q6J("ngModel",e.userData.currUser.firstname),i.xp6(2),i.Q6J("ngIf",""!==e.firstnameMessage),i.xp6(6),i.Gre("form-control ",e.wrongGender,""),i.Q6J("ngModel",e.userData.currUser.gender),i.xp6(9),i.Q6J("ngIf",""!==e.genderMessage),i.xp6(5),i.Gre("form-control ",e.wrongBirthday,""),i.Q6J("ngModel",e.userData.currUser.birthday),i.xp6(2),i.Q6J("ngIf",""!==e.birthdayMessage),i.xp6(6),i.Gre("form-control ",e.wrongUsername,""),i.Q6J("ngModel",e.userData.currUser.username),i.xp6(2),i.Q6J("ngIf",""!==e.usernameMessage)}}let uV=(()=>{class n{constructor(e,r,a){var l,h,m,b,T;this.activeModal=e,this.router=r,this.userData=a,this.firstname=(null===(l=this.userData.currUser)||void 0===l?void 0:l.firstname)?this.userData.currUser.firstname:"",this.lastname=(null===(h=this.userData.currUser)||void 0===h?void 0:h.lastname)?this.userData.currUser.lastname:"",this.username=(null===(m=this.userData.currUser)||void 0===m?void 0:m.username)?this.userData.currUser.username:"",this.birthday=(null===(b=this.userData.currUser)||void 0===b?void 0:b.birthday)?this.userData.currUser.birthday:void 0,this.gender=(null===(T=this.userData.currUser)||void 0===T?void 0:T.gender)?this.userData.currUser.gender:"",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongRepeatPasswordClass="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordRepeatMessage=""}updateUser(){var e=this;return(0,re.Z)(function*(){e.userData.currUser&&(yield e.userData.updateUser(e.userData.currUser))})()}inputCheck(){var e=this;return(0,re.Z)(function*(){e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday?yield e.updateUser():(0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){console.log(e),e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validGender(e){console.log(e),e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(bw),i.Y36(or),i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-update-user"]],decls:23,vars:1,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],["class","modal-body border-0",4,"ngIf"],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],[1,"text-danger"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._uU(6,"Update"),i.qZA(),i.qZA(),i._UZ(7,"div",6),i.TgZ(8,"div",7),i.TgZ(9,"button",8),i.NdJ("click",function(){return r.activeModal.dismiss()}),i.TgZ(10,"span",9),i._uU(11,"\xd7"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,aV,47,25,"div",10),i.TgZ(13,"div",11),i.TgZ(14,"div",1),i.TgZ(15,"div",12),i.TgZ(16,"div",13),i.TgZ(17,"button",14),i.NdJ("click",function(){return r.inputCheck()})("click",function(){return r.updateUser()})("click",function(){return r.activeModal.dismiss()}),i._uU(18," Speichern "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"div",12),i.TgZ(20,"div",13),i.TgZ(21,"button",15),i.NdJ("click",function(){return r.activeModal.dismiss()}),i._uU(22,"Abbrechen "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(12),i.Q6J("ngIf",r.userData.currUser))},directives:[on,j,hm,fm,o0,dw,hw],styles:[""]}),n})(),II=(()=>{class n{constructor(){this.alerts=[]}showAlert(e){this.alerts.push(e),this.closeAlert(e)}closeAlert(e){setTimeout(()=>{this.alerts.includes(e,0)&&this.alerts.splice(this.alerts.indexOf(e),1)},5e3)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lV=(()=>{class n{constructor(){this.amount=0,this.chosedAmount=new i.vpe}chosedMe(e){this.chosedAmount.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-load-money-button"]],inputs:{amount:"amount"},outputs:{chosedAmount:"chosedAmount"},decls:8,vars:1,consts:[[1,"container","shadow","bg-white","rounded","cursor",3,"click"],[1,"row"],[1,"col"],["src","../../../../assets/img/Icons/money_icon.png","alt","money",1,"infoicon"],[1,"row","flex","align-items-center"],[2,"color","#005B51","text-align","center"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.NdJ("click",function(){return r.chosedMe(r.amount)}),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.qZA(),i.qZA(),i.TgZ(4,"div",4),i.TgZ(5,"div",2),i.TgZ(6,"h3",5),i._uU(7),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.hij("",r.amount,"\u20ac"))},styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-10px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:8em;width:9em}.cursor[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]{height:10em}.flex[_ngcontent-%COMP%]{display:flex}h3[_ngcontent-%COMP%]{margin-top:1.5rem}"]}),n})(),cV=(()=>{class n{constructor(e,r,a,l){this.activeModal=e,this.router=r,this.userData=a,this.alert=l,this.smallAmount=20,this.midAmount=100,this.bigAmount=250,this.hugeAmount=500,this.chosenAmount=0}newAmountValue(e){this.chosenAmount=e,console.log(this.chosenAmount)}addMoney(){this.userData.addMoney(this.chosenAmount),this.activeModal.dismiss(),this.alert.showAlert({type:"success",message:`Du hast erfolgreich ${this.chosenAmount}\u20ac aufgeladen!`})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(bw),i.Y36(or),i.Y36(Ns),i.Y36(II))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-add-money"]],decls:32,vars:5,consts:[[1,"modal-header","modal-lg","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute","padding-top","5px","padding-right","20px",3,"click"],["aria-hidden","true",1,"btn","btn-primary","btn-danger","justify-content-center"],[1,"modal-body","border-0"],[1,"container","form-controll"],[1,"row","m-2"],[1,"col-6"],[3,"amount","chosedAmount"],[1,"row",2,"padding-inline","15px","margin","15px"],[1,"col","text-center"],[1,"logoGreenDark",2,"margin-top","8px"],[1,"col"],[1,"btn","btn-success","btn-block",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._uU(6,"Geld aufladen"),i.qZA(),i.qZA(),i._UZ(7,"div",6),i.TgZ(8,"div",7),i.TgZ(9,"button",8),i.NdJ("click",function(){return r.activeModal.dismiss()}),i.TgZ(10,"span",9),i._uU(11,"\xd7"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",10),i.TgZ(13,"div",11),i.TgZ(14,"div",12),i.TgZ(15,"div",13),i.TgZ(16,"app-load-money-button",14),i.NdJ("chosedAmount",function(l){return r.newAmountValue(l)}),i.qZA(),i.qZA(),i.TgZ(17,"div",13),i.TgZ(18,"app-load-money-button",14),i.NdJ("chosedAmount",function(l){return r.newAmountValue(l)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"div",12),i.TgZ(20,"div",13),i.TgZ(21,"app-load-money-button",14),i.NdJ("chosedAmount",function(l){return r.newAmountValue(l)}),i.qZA(),i.qZA(),i.TgZ(22,"div",13),i.TgZ(23,"app-load-money-button",14),i.NdJ("chosedAmount",function(l){return r.newAmountValue(l)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(24,"hr"),i.TgZ(25,"div",15),i.TgZ(26,"div",16),i.TgZ(27,"h5",17),i._uU(28),i.qZA(),i.qZA(),i.TgZ(29,"div",18),i.TgZ(30,"button",19),i.NdJ("click",function(){return r.addMoney()}),i._uU(31,"Aufladen"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(16),i.Q6J("amount",r.smallAmount),i.xp6(2),i.Q6J("amount",r.midAmount),i.xp6(3),i.Q6J("amount",r.bigAmount),i.xp6(2),i.Q6J("amount",r.hugeAmount),i.xp6(5),i.hij("",r.chosenAmount,"\u20ac ausgew\xe4hlt"))},directives:[lV],styles:[""]}),n})(),rp=(()=>{class n{constructor(e){this.afs=e,this.tourDetails=null,this.tourCollection=e.collection("Tours")}copyAndPrepareTour(e){return Object.assign({},e)}addTour(e){var r=this;return(0,re.Z)(function*(){r.tourCollection.add(r.copyAndPrepareTour(e)).catch(a=>console.log(a))})()}deleteTour(e){var r=this;return(0,re.Z)(function*(){r.tourCollection.doc(e.dID).delete().catch(a=>console.log(a))})()}updateTour(e){var r=this;return(0,re.Z)(function*(){r.tourCollection.doc(e.dID).update(e).catch(a=>console.log(a))})()}getAllTours(){var e=this;return(0,re.Z)(function*(){return e.tourCollection.get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllBookedTours(){var e=this;return(0,re.Z)(function*(){return e.afs.collection("Tours",r=>r.where("isBooked","==",!0)).get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllToursFromUser(e){var r=this;return(0,re.Z)(function*(){return r.afs.collection("Tours",a=>a.where("creatorID","==",e)).get().toPromise().then(a=>a.docs.map(l=>{const h=l.data();return h.dID=l.id,h}))})()}getAllOffers(){var e=this;return(0,re.Z)(function*(){return e.afs.collection("Tours",r=>r.where("isOffer","==",!0)).get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllRequests(){var e=this;return(0,re.Z)(function*(){return e.afs.collection("Tours",r=>r.where("isOffer","==",!1)).get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}searchTours(e,r,a,l,h,m){var b=this;return(0,re.Z)(function*(){return b.afs.collection("Tours",T=>T.where("isOffer","==",e).where("isBooked","==",!1).where("date","==",l).where("startCity","==",r).where("endCity","==",a).where("storage",">=",h).orderBy("storage","asc")).get().toPromise().then(T=>T.docs.map(N=>{const M=N.data();return M.dID=N.id,M})).then(T=>T.filter(N=>N.seats>=m))})()}sortPrice(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortEva(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortStorage(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortSeats(e){return e.sort((r,a)=>this.compare(r.price,a.price))}compare(e,r){return e==r?0:e>r?1:-1}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ky))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AI=(()=>{class n{constructor(e){this.afs=e,this.carCollection=e.collection("Cars")}copyAndPrepareCar(e){return Object.assign({},e)}addCar(e){var r=this;return(0,re.Z)(function*(){return r.carCollection.add(r.copyAndPrepareCar(e)).then(a=>a.id)})()}updateCar(e){var r=this;return(0,re.Z)(function*(){yield r.carCollection.doc(e.dId).update(r.copyAndPrepareCar(e))})()}deleteCar(e){var r=this;return(0,re.Z)(function*(){r.carCollection.doc(e).delete().catch(a=>console.log(a))})()}getCarById(e){var r=this;return(0,re.Z)(function*(){return r.carCollection.doc(e).get().toPromise().then(a=>{if(a.exists){const l=a.data();return null!=l?(l.dId=a.id,l):null}return null})})()}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Ky))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var SI=(()=>(function(n){n[n.NOSTARTEDYET=0]="NOSTARTEDYET",n[n.ONTHEWAY=1]="ONTHEWAY",n[n.ARRIVED=2]="ARRIVED"}(SI||(SI={})),SI))();class ZO{constructor(t,e,r,a,l,h,m,b,T,N,M,V,H,se){this.creatorID=t,this.isOffer=e,this.startCity=r,this.endCity=a,this.startTime=l,this.duration=h,this.date=m,this.price=b,this.storage=T,this.seats=N,this.description=M||"",this.driver=V||"",this.passengers=H||[],this.isBooked=!1,this.areSeatsOccupied=0===this.seats,this.isStorageFullyLoaded=0===this.storage,this.status=SI.NOSTARTEDYET,this.car=se||"",this.evaluation=-1}}let dV=(()=>{class n{constructor(e,r,a){this.userService=e,this.router=r,this.tourService=a,this.tour=new ZO("",!1,"","","",0,"",0,0,0,""),this.mergeDateAndTime="",this.userName=""}ngOnInit(){this.mergeDateAndTime=this.tour.date+"T"+this.tour.startTime,this.changeUserName()}navigateToDetails(){this.tourService.tourDetails=this.tour,this.router.navigate(["/tour-details"])}changeUserName(){this.userService.getUser(this.tour.isOffer?this.tour.driver:this.tour.passengers[0]).then(e=>{this.userName=e?e.username:"Kein User"})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns),i.Y36(or),i.Y36(rp))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-tour-card"]],inputs:{tour:"tour"},decls:54,vars:8,consts:[[1,"card","mx-auto","border-0","mb-3",2,"max-width","600px"],[1,"card-body","rounded","shadow","mt-4","bg-white","border-0",3,"click"],[1,"container","cardio"],[1,"row"],[1,"col-4"],["for","startCity",1,"logoGreenDark","mr-1"],["id","startCity",1,"logoGreenDark"],["for","endCity",1,"logoGreenDark","mr-1"],["id","endCity",1,"logoGreenDark"],[1,"text-right"],[1,"mr-2","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 65 65",1,"profil"],["id","ic_account_circle_24px","d","M34.5,2A32.5,32.5,0,1,0,67,34.5,32.512,32.512,0,0,0,34.5,2Zm0,9.75a9.75,9.75,0,1,1-9.75,9.75A9.737,9.737,0,0,1,34.5,11.75Zm0,46.15A23.4,23.4,0,0,1,15,47.435c.1-6.468,13-10.01,19.5-10.01,6.467,0,19.4,3.542,19.5,10.01A23.4,23.4,0,0,1,34.5,57.9Z","transform","translate(-2 -2)","fill","#208479"],[1,"col"],[1,"col-9"],[1,"form-group"],["for","time",1,"logoGreenDark"],["type","datetime-local","id","time","readonly","",1,"form-control",3,"value"],[1,"col-2"],[1,"col","text-center"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 33.25"],["id","ic_work_24px","d","M33.5,9h-7V5.5A3.488,3.488,0,0,0,23,2H16a3.488,3.488,0,0,0-3.5,3.5V9h-7a3.473,3.473,0,0,0-3.482,3.5L2,31.75a3.488,3.488,0,0,0,3.5,3.5h28a3.488,3.488,0,0,0,3.5-3.5V12.5A3.488,3.488,0,0,0,33.5,9ZM23,9H16V5.5h7Z","transform","translate(-2 -2)","fill","#208479"],[1,"logoGreenDark","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 35"],["id","ic_perm_identity_24px","d","M21.5,8.156a4.594,4.594,0,1,1-4.594,4.594A4.593,4.593,0,0,1,21.5,8.156m0,19.687c6.5,0,13.344,3.194,13.344,4.594v2.406H8.156V32.438c0-1.4,6.847-4.594,13.344-4.594M21.5,4a8.75,8.75,0,0,0,0,17.5,9.171,9.171,0,0,0,5.78-2.179,8.385,8.385,0,0,0,2.97-6.571A8.748,8.748,0,0,0,21.5,4Zm0,19.688c-5.841,0-17.5,2.931-17.5,8.75V39H39V32.438C39,26.619,27.341,23.688,21.5,23.688Z","transform","translate(-4 -4)","fill","#208479"],["id","ic_monetization_on_24px","d","M19.5,2A17.5,17.5,0,1,0,37,19.5,17.506,17.506,0,0,0,19.5,2Zm2.468,28.157V33.5H17.3V30.122c-2.993-.63-5.53-2.555-5.722-5.95H15c.175,1.838,1.435,3.273,4.637,3.273,3.43,0,4.2-1.715,4.2-2.782,0-1.453-.77-2.818-4.672-3.745-4.34-1.05-7.315-2.835-7.315-6.422,0-3.01,2.432-4.97,5.442-5.618V5.5h4.672V8.912a6.187,6.187,0,0,1,4.988,5.933h-3.43c-.088-1.943-1.12-3.273-3.885-3.273-2.625,0-4.2,1.19-4.2,2.87,0,1.47,1.138,2.432,4.673,3.342s7.315,2.433,7.315,6.842c-.018,3.2-2.415,4.953-5.46,5.53Z","transform","translate(-2 -2)","fill","#208479"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.NdJ("click",function(){return r.navigateToDetails()}),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"label",5),i._uU(6,"Von:"),i.qZA(),i.TgZ(7,"span",6),i._uU(8),i.qZA(),i.qZA(),i.TgZ(9,"div",4),i.TgZ(10,"label",7),i._uU(11,"Nach:"),i.qZA(),i.TgZ(12,"span",8),i._uU(13),i.qZA(),i.qZA(),i.TgZ(14,"div",4),i.TgZ(15,"div",9),i.TgZ(16,"span",10),i._uU(17),i.qZA(),i.O4$(),i.TgZ(18,"svg",11),i._UZ(19,"path",12),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(20,"div",3),i.TgZ(21,"div",13),i._UZ(22,"hr"),i.qZA(),i.qZA(),i.TgZ(23,"div",3),i.TgZ(24,"div",14),i.TgZ(25,"div",15),i.TgZ(26,"label",16),i._uU(27,"Abahrtszeit"),i.qZA(),i._UZ(28,"input",17),i.qZA(),i.qZA(),i.TgZ(29,"div",18),i.TgZ(30,"div",15),i.TgZ(31,"label",16),i._uU(32,"Dauer"),i.qZA(),i.TgZ(33,"div"),i._uU(34),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(35,"div",3),i.TgZ(36,"div",13),i._UZ(37,"hr"),i.qZA(),i.qZA(),i.TgZ(38,"div",3),i.TgZ(39,"div",19),i.O4$(),i.TgZ(40,"svg",20),i._UZ(41,"path",21),i.qZA(),i.kcU(),i.TgZ(42,"span",22),i._uU(43),i.qZA(),i.qZA(),i.TgZ(44,"div",19),i.O4$(),i.TgZ(45,"svg",23),i._UZ(46,"path",24),i.qZA(),i.kcU(),i.TgZ(47,"span",22),i._uU(48),i.qZA(),i.qZA(),i.TgZ(49,"div",19),i.O4$(),i.TgZ(50,"svg",23),i._UZ(51,"path",25),i.qZA(),i.kcU(),i.TgZ(52,"span",22),i._uU(53),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(8),i.Oqu(r.tour.startCity),i.xp6(5),i.Oqu(r.tour.endCity),i.xp6(4),i.Oqu(r.userName),i.xp6(11),i.s9C("value",r.mergeDateAndTime),i.xp6(6),i.Oqu(r.tour.duration),i.xp6(9),i.Oqu(r.tour.storage),i.xp6(5),i.hij(" ",r.tour.seats,""),i.xp6(5),i.Oqu(r.tour.price))},styles:[".profil[_ngcontent-%COMP%]{position:relative;bottom:+8px;left:+10px}.card-body[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();function hV(n,t){if(1&n&&(i.TgZ(0,"div",6),i._UZ(1,"app-tour-card",7),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Q6J("tour",e)}}function fV(n,t){if(1&n&&(i.TgZ(0,"div",3),i.TgZ(1,"div",4),i.YNc(2,hV,2,1,"div",5),i.qZA(),i.qZA()),2&n){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.usedList)}}function pV(n,t){if(1&n&&(i.TgZ(0,"div",11),i._UZ(1,"app-tour-card",7),i.qZA()),2&n){const e=t.$implicit;i.xp6(1),i.Q6J("tour",e)}}function gV(n,t){if(1&n&&(i.TgZ(0,"div",8),i.TgZ(1,"div",9),i.YNc(2,pV,2,1,"div",10),i.qZA(),i.qZA()),2&n){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.usedList)}}let QM=(()=>{class n{constructor(e){this.tourService=e,this.usedList=[],this.isHorizontal=!1}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(rp))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-tour-list"]],inputs:{usedList:"usedList",isHorizontal:"isHorizontal"},decls:4,vars:2,consts:[["class","container-fluid d-flex",4,"ngIf"],[2,"height","50px"],["class","container-fluid",4,"ngIf"],[1,"container-fluid","d-flex"],[1,"row","flex-row","flex-nowrap","scrolling-wrapper"],["class","col-7",4,"ngFor","ngForOf"],[1,"col-7"],[3,"tour"],[1,"container-fluid"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"]],template:function(e,r){1&e&&(i.YNc(0,fV,3,1,"div",0),i._UZ(1,"div",1),i.YNc(2,gV,3,1,"div",2),i._UZ(3,"div",1)),2&e&&(i.Q6J("ngIf",r.isHorizontal),i.xp6(2),i.Q6J("ngIf",!r.isHorizontal))},directives:[on,_t,dV],styles:[".scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}html[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 3px #0000004d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#005b51;border-radius:10px}"]}),n})();function mV(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"div",10),i.TgZ(2,"h3",11),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"div",10),i.O4$(),i.TgZ(5,"svg",12),i._UZ(6,"path",13),i.qZA(),i.qZA(),i.kcU(),i.TgZ(7,"div",10),i.TgZ(8,"ngb-rating",14),i.NdJ("rateChange",function(a){return i.CHM(e),i.oxw().currentRate=a}),i.qZA(),i.qZA(),i.TgZ(9,"div",10),i.TgZ(10,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().openUpdateModal()}),i._uU(11,"Profil bearbeiten"),i.qZA(),i.qZA(),i.TgZ(12,"div",10),i.TgZ(13,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().navigateToCarList()}),i._uU(14,"Fahrzeuge verwalten"),i.qZA(),i.qZA(),i.TgZ(15,"div",10),i.TgZ(16,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().openMoneyModal()}),i._uU(17,"Guthaben aufladen"),i.qZA(),i.qZA(),i.TgZ(18,"div",10),i.TgZ(19,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().logout()}),i._uU(20,"Logout"),i.qZA(),i.qZA(),i.TgZ(21,"div",10),i.TgZ(22,"button",16),i.NdJ("click",function(){return i.CHM(e),i.oxw().deleteAccount()}),i._uU(23,"Account l\xf6schen"),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=i.oxw();i.xp6(3),i.hij(" ",e.userData.currUser.username," "),i.xp6(5),i.Q6J("rate",e.currentRate)("readonly",!0)("max",5)}}function _V(n,t){1&n&&(i.TgZ(0,"div",17),i.TgZ(1,"div",18),i.TgZ(2,"h4",19),i._uU(3,"Du hast noch keine Fahrten gebucht!"),i.qZA(),i.qZA(),i.qZA())}function yV(n,t){1&n&&(i.TgZ(0,"div",17),i.TgZ(1,"div",18),i.TgZ(2,"h4",19),i._uU(3,"Du hast noch keine Fahrten gebucht!"),i.qZA(),i.qZA(),i.qZA())}let vV=(()=>{class n{constructor(e,r,a,l,h,m){this.userData=e,this.router=r,this.tourData=a,this.modalService=l,this.alertData=h,this.carData=m,this.currentRate=3,this.ownOffers=[],this.passengerTours=[],this.isHorizontal=!0}ngOnInit(){this.setTours().then()}setTours(){var e=this;return(0,re.Z)(function*(){e.ownOffers=yield e.tourData.getAllTours().then(),e.passengerTours=e.ownOffers.filter(r=>{var a;return e.isPassenger(r,null===(a=e.userData.currUser)||void 0===a?void 0:a.uid)}),e.ownOffers=e.ownOffers.filter(r=>{var a;return r.driver===(null===(a=e.userData.currUser)||void 0===a?void 0:a.uid)})})()}logout(){var e=this;return(0,re.Z)(function*(){yield e.userData.logout()})()}deleteAccount(){var e=this;return(0,re.Z)(function*(){let r;const a=e.userData.currUser;if(a){let l=yield e.tourData.getAllBookedTours();if(l=l.filter(h=>e.bookedToursInFuture(new Date(h.date))).filter(h=>h.driver===a.uid||e.isPassenger(h,a.uid)),console.log("Future Tours: ",l),l.length<=0)try{yield e.userData.deleteAccount(),yield e.userData.deleteUser(a),r=yield e.tourData.getAllToursFromUser(a.uid),r=r.filter(h=>!h.isBooked),console.log("user tours: ",r);for(const h of r)yield e.tourData.deleteTour(h);for(const h of a.car)yield e.carData.deleteCar(h);e.alertData.showAlert({type:"success",message:"Du hast erfolgreich deinen Account gel\xf6scht!"})}catch(h){"auth/requires-recent-login"===h.code?(e.alertData.showAlert({type:"danger",message:"Sie m\xfcssen sich erneut anmelden, um diese Aktion durchzuf\xfchren"}),yield e.logout()):(e.alertData.showAlert({type:"danger",message:"Etwas ist schief gelaufen"}),console.log(h))}else e.alertData.showAlert({type:"danger",message:"Du hast noch offene gebuchte Fahrten!"})}})()}bookedToursInFuture(e){const r=(new Date).getTime()-e.getTime()<0;return console.log(r),r}openUpdateModal(){this.modalService.open(uV,{animation:!0,centered:!0})}openMoneyModal(){this.modalService.open(cV,{animation:!0,centered:!0})}navigateToCarList(){this.router.navigate(["/carList"])}isPassenger(e,r){return!!r&&e.passengers.includes(r)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns),i.Y36(or),i.Y36(rp),i.Y36(WM),i.Y36(II),i.Y36(AI))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-loggedin"]],decls:19,vars:7,consts:[["class","d-inline-flex justify-content-around flex-column align-items-center","style","width: 25%; background-color: #F3FBED",4,"ngIf"],[1,"d-inline-flex","flex-column"],[1,"",2,"height","40vh"],[1,"h3","font-weight-bold","logoGreenDark","ml-3"],[3,"isHorizontal","usedList"],[1,"container"],[1,"row"],["class","card col-7 border-0 mb-3","style","max-width: 600px; height: 25vh",4,"ngIf"],[1,"resp"],[1,"d-inline-flex","justify-content-around","flex-column","align-items-center",2,"width","25%","background-color","#F3FBED"],[1,"mt-3"],[1,"h3","font-weight-bold","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","10em","viewBox","0 0 240 240"],["id","ic_account_circle_24px","d","M122,2A120,120,0,1,0,242,122,120.044,120.044,0,0,0,122,2Zm0,36A36,36,0,1,1,86,74,35.952,35.952,0,0,1,122,38Zm0,170.4a86.406,86.406,0,0,1-72-38.64c.36-23.88,48-36.96,72-36.96,23.88,0,71.64,13.08,72,36.96A86.407,86.407,0,0,1,122,208.4Z","transform","translate(-2 -2)","fill","#208479"],[3,"rate","readonly","max","rateChange"],[1,"logoGreenMedium",3,"click"],[1,"red",3,"click"],[1,"card","col-7","border-0","mb-3",2,"max-width","600px","height","25vh"],[1,"card-body","rounded","shadow","mt-4","bg-white","border-0"],[1,"h4","font-weight-bold","logoGreenDark"]],template:function(e,r){1&e&&(i.YNc(0,mV,24,4,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h3",3),i._uU(4,"Du f\xe4hrst"),i.qZA(),i.TgZ(5,"div"),i._UZ(6,"app-tour-list",4),i.TgZ(7,"div",5),i.TgZ(8,"div",6),i.YNc(9,_V,4,0,"div",7),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",2),i.TgZ(11,"h3",3),i._uU(12,"Du wirst mitgenommen"),i.qZA(),i.TgZ(13,"div"),i._UZ(14,"app-tour-list",4),i.TgZ(15,"div",5),i.TgZ(16,"div",6),i.YNc(17,yV,4,0,"div",7),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(18,"div",8)),2&e&&(i.Q6J("ngIf",r.userData.currUser),i.xp6(6),i.Q6J("isHorizontal",r.isHorizontal)("usedList",r.ownOffers),i.xp6(3),i.Q6J("ngIf",0===r.ownOffers.length),i.xp6(5),i.Q6J("isHorizontal",r.isHorizontal)("usedList",r.passengerTours),i.xp6(3),i.Q6J("ngIf",0===r.passengerTours.length))},directives:[on,QM,O3],styles:[".logoGreenMedium[_ngcontent-%COMP%]:hover{color:#005b51}.red[_ngcontent-%COMP%]{color:#dc3545}.red[_ngcontent-%COMP%]:hover{color:#c82333}button[_ngcontent-%COMP%]{border:none;background-color:transparent}.resp[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:25%;background-color:#f3fbed;z-index:-1}"]}),n})();var bV=F(2476);class wV{constructor(t,e,r,a,l,h){this.uid=t,this.firstname=e,this.lastname=r,this.username=a,this.birthday=l,this.gender=h,this.car=[],this.money=0,this.evaluation=-1}}function CV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.lastnameMessage)}}function TV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.firstnameMessage)}}function DV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.genderMessage)}}function EV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.birthdayMessage)}}function IV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.emailMessage)}}function AV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.usernameMessage)}}function SV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.passwordMessage)}}function NV(n,t){if(1&n&&(i.TgZ(0,"div",47),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.passwordRepeatMessage)}}let MV=(()=>{class n{constructor(e,r,a){this.activeModal=e,this.router=r,this.userData=a,this.email="",this.firstname="",this.lastname="",this.username="",this.birthday=new Date,this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var e=this;return(0,re.Z)(function*(){try{yield e.userData.register(e.email,e.password);const a=(0,bV.n)().currentUser;e.activeModal.close(),e.router.navigate(["/profil"]),a&&(yield e.userData.addUser(new wV(a.uid,e.firstname,e.lastname,e.username,e.birthday,e.gender)))}catch(r){"auth/invalid-email"===r.code?(e.emailMessage="E-Mail ist nicht richtig formatiert",e.wrongEmailClass="border-danger"):"auth/weak-password"===r.code&&(e.passwordMessage="Das Passwort ist nicht korrekt",e.wrongPasswordClass="border-danger")}})()}inputCheck(){var e=this;return(0,re.Z)(function*(){e.email.trim().length>0&&e.password.trim().length>0&&e.firstname.trim().length>0&&e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday&&e.password===e.repeatPassword?yield e.register():(0===e.email.trim().length&&(e.emailMessage="Geben Sie Ihre E-Mail an",e.wrongEmailClass="border-danger"),0===e.password.trim().length&&(e.passwordMessage="Geben Sie ein Passwort an",e.wrongPasswordClass="border-danger"),0===e.repeatPassword.trim().length&&(e.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",e.wrongRepeatPasswordClass="border-danger"),e.repeatPassword!==e.password&&(e.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",e.wrongRepeatPasswordClass="border-danger"),0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validEmail(e){e.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){console.log(e),e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(e){e.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(e){console.log(e),e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(e){e.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(bw),i.Y36(or),i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const a=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._uU(6,"Registrieren"),i.qZA(),i.qZA(),i._UZ(7,"div",6),i.TgZ(8,"div",7),i.TgZ(9,"button",8),i.NdJ("click",function(){return r.activeModal.dismiss()}),i.TgZ(10,"span",9),i._uU(11,"\xd7"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",10),i.TgZ(13,"div",1),i.TgZ(14,"div",2),i.TgZ(15,"div",11),i.TgZ(16,"div",12),i.TgZ(17,"label",13),i._uU(18,"Nachname"),i.qZA(),i.TgZ(19,"input",14,15),i.NdJ("ngModelChange",function(h){return r.lastname=h})("keydown",function(){i.CHM(a);const h=i.MAs(20);return r.validLastname(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(21,CV,2,1,"div",16),i.qZA(),i.qZA(),i.TgZ(22,"div",11),i.TgZ(23,"div",12),i.TgZ(24,"label",17),i._uU(25,"Vorname"),i.qZA(),i.TgZ(26,"input",18,19),i.NdJ("ngModelChange",function(h){return r.firstname=h})("keydown",function(){i.CHM(a);const h=i.MAs(27);return r.validFirstname(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(28,TV,2,1,"div",16),i.qZA(),i.qZA(),i.qZA(),i.TgZ(29,"div",2),i.TgZ(30,"div",11),i.TgZ(31,"div",12),i.TgZ(32,"label",20),i._uU(33,"Geschlecht"),i.qZA(),i.TgZ(34,"select",21,22),i.NdJ("ngModelChange",function(h){return r.gender=h})("change",function(){i.CHM(a);const h=i.MAs(35);return r.validGender(h.value)})("keydown.enter",function(){return r.inputCheck()}),i._UZ(36,"option",23),i.TgZ(37,"option",24),i._uU(38,"Weiblich"),i.qZA(),i.TgZ(39,"option",25),i._uU(40,"M\xe4nnlich"),i.qZA(),i.TgZ(41,"option",26),i._uU(42,"Divers"),i.qZA(),i.qZA(),i.YNc(43,DV,2,1,"div",16),i.qZA(),i.qZA(),i.TgZ(44,"div",11),i.TgZ(45,"div",12),i.TgZ(46,"label",27),i._uU(47,"Geburtstag"),i.qZA(),i.TgZ(48,"input",28,29),i.NdJ("ngModelChange",function(h){return r.birthday=h})("change",function(){i.CHM(a);const h=i.MAs(49);return r.validBirthday(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(50,EV,2,1,"div",16),i.qZA(),i.qZA(),i.qZA(),i.TgZ(51,"div",2),i.TgZ(52,"div",11),i.TgZ(53,"div",12),i.TgZ(54,"label",30),i._uU(55,"Email"),i.qZA(),i.TgZ(56,"input",31,32),i.NdJ("ngModelChange",function(h){return r.email=h})("keydown",function(){i.CHM(a);const h=i.MAs(57);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(58,IV,2,1,"div",16),i.qZA(),i.qZA(),i.TgZ(59,"div",11),i.TgZ(60,"div",12),i.TgZ(61,"label",33),i._uU(62,"Nutzername"),i.qZA(),i.TgZ(63,"input",34,35),i.NdJ("ngModelChange",function(h){return r.username=h})("keydown",function(){i.CHM(a);const h=i.MAs(64);return r.validUsername(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(65,AV,2,1,"div",16),i.qZA(),i.qZA(),i.qZA(),i.TgZ(66,"div",2),i.TgZ(67,"div",11),i.TgZ(68,"div",12),i.TgZ(69,"label",36),i._uU(70,"Passwort"),i.qZA(),i.TgZ(71,"input",37,38),i.NdJ("ngModelChange",function(h){return r.password=h})("keydown",function(){i.CHM(a);const h=i.MAs(72);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(73,SV,2,1,"div",16),i.qZA(),i.qZA(),i.TgZ(74,"div",11),i.TgZ(75,"div",12),i.TgZ(76,"label",39),i._uU(77,"Passwort wiederholen"),i.qZA(),i.TgZ(78,"input",40,41),i.NdJ("ngModelChange",function(h){return r.repeatPassword=h})("keydown",function(){i.CHM(a);const h=i.MAs(79);return r.validRepeatPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),i.qZA(),i.YNc(80,NV,2,1,"div",16),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(81,"div",42),i.TgZ(82,"div",1),i.TgZ(83,"div",43),i.TgZ(84,"div",44),i.TgZ(85,"button",45),i.NdJ("click",function(){return r.inputCheck()}),i._uU(86,"Registrieren "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(87,"div",43),i.TgZ(88,"div",44),i.TgZ(89,"button",46),i.NdJ("click",function(){return r.activeModal.dismiss()}),i._uU(90,"Abbrechen "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(19),i.Gre("form-control ",r.wrongLastname,""),i.Q6J("ngModel",r.lastname),i.xp6(2),i.Q6J("ngIf",""!==r.lastnameMessage),i.xp6(5),i.Gre("form-control ",r.wrongFirstname,""),i.Q6J("ngModel",r.firstname),i.xp6(2),i.Q6J("ngIf",""!==r.firstnameMessage),i.xp6(6),i.Gre("form-control ",r.wrongGender,""),i.Q6J("ngModel",r.gender),i.xp6(9),i.Q6J("ngIf",""!==r.genderMessage),i.xp6(5),i.Gre("form-control ",r.wrongBirthday,""),i.Q6J("ngModel",r.birthday),i.xp6(2),i.Q6J("ngIf",""!==r.birthdayMessage),i.xp6(6),i.Gre("form-control ",r.wrongEmailClass,""),i.Q6J("ngModel",r.email),i.xp6(2),i.Q6J("ngIf",""!==r.emailMessage),i.xp6(5),i.Gre("form-control ",r.wrongUsername,""),i.Q6J("ngModel",r.username),i.xp6(2),i.Q6J("ngIf",""!==r.usernameMessage),i.xp6(6),i.Gre("form-control ",r.wrongPasswordClass,""),i.Q6J("ngModel",r.password),i.xp6(2),i.Q6J("ngIf",""!==r.passwordMessage),i.xp6(5),i.Gre("form-control ",r.wrongRepeatPasswordClass,""),i.Q6J("ngModel",r.repeatPassword),i.xp6(2),i.Q6J("ngIf",""!==r.passwordRepeatMessage))},directives:[j,hm,fm,on,o0,dw,hw],styles:[""]}),n})();function xV(n,t){if(1&n&&(i.TgZ(0,"div",17),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.emailMessage)}}function kV(n,t){if(1&n&&(i.TgZ(0,"div",17),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.passwordMessage)}}let RV=(()=>{class n{constructor(e,r){this.modalService=e,this.userData=r,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(MV,{animation:!0,centered:!0})}inputCheck(){var e=this;return(0,re.Z)(function*(){0===e.email.trim().length&&0===e.password.trim().length?(e.wrongEmail="border-danger",e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password",e.emailMessage="Please fill out your email"):0===e.email.trim().length?(e.emailMessage="Please fill out your email",e.wrongEmail="border-danger"):0===e.password.trim().length?(e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password"):(e.wrongEmail="",yield e.login())})()}login(){var e=this;return(0,re.Z)(function*(){e.userData.login(e.email,e.password).then(()=>{}).catch(r=>{console.log(r),"auth/invalid-email"===r.code&&(e.emailMessage="E-Mail falsch formatiert",e.wrongEmail="border-danger"),"auth/wrong-password"===r.code&&(e.passwordMessage="Falsches Passwort",e.wrongPassword="border-danger"),"auth/user-not-found"===r.code&&(e.emailMessage="Nutzer nicht gefunden",e.wrongEmail="border-danger")})})()}validEmail(e){e.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(e){e.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(WM),i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const a=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i._uU(5,"Login"),i.qZA(),i.qZA(),i.TgZ(6,"div",3),i.TgZ(7,"div",5),i.TgZ(8,"label",6),i._uU(9,"Email"),i.qZA(),i.TgZ(10,"input",7,8),i.NdJ("keydown",function(){i.CHM(a);const h=i.MAs(11);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.email=h}),i.qZA(),i.YNc(12,xV,2,1,"div",9),i.qZA(),i.qZA(),i.TgZ(13,"div",3),i.TgZ(14,"div",5),i.TgZ(15,"label",10),i._uU(16,"Password"),i.qZA(),i.TgZ(17,"input",11,12),i.NdJ("keypress",function(){i.CHM(a);const h=i.MAs(18);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.password=h}),i.qZA(),i.YNc(19,kV,2,1,"div",9),i.qZA(),i.qZA(),i.TgZ(20,"div",13),i.TgZ(21,"div",14),i.TgZ(22,"button",15),i.NdJ("click",function(){return r.inputCheck()}),i._uU(23,"Anmelden "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"div",13),i.TgZ(25,"div",14),i.TgZ(26,"button",16),i.NdJ("click",function(){return r.openRegistrationModal()}),i._uU(27,"Registrieren "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(10),i.Gre("form-control ",r.wrongEmail,""),i.Q6J("ngModel",r.email),i.xp6(2),i.Q6J("ngIf",""!==r.emailMessage),i.xp6(5),i.Gre("form-control ",r.wrongPassword,""),i.Q6J("ngModel",r.password),i.xp6(2),i.Q6J("ngIf",""!==r.passwordMessage))},directives:[j,hm,fm,on],styles:[""]}),n})();function OV(n,t){1&n&&i._UZ(0,"app-loggedin")}function PV(n,t){1&n&&i._UZ(0,"app-notloggedin")}let FV=(()=>{class n{constructor(e){this.userData=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,r){1&e&&(i.YNc(0,OV,1,0,"app-loggedin",0),i.YNc(1,PV,1,0,"app-notloggedin",0)),2&e&&(i.Q6J("ngIf",r.userData.user),i.xp6(1),i.Q6J("ngIf",!r.userData.user))},directives:[on,vV,RV],styles:[""]}),n})();class LV{constructor(t,e,r,a){this.model=t,this.mark=e,this.seats=r,this.storage=a}}function VV(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"h5",3),i._uU(2),i.qZA(),i.TgZ(3,"p",4),i._uU(4),i.qZA(),i.TgZ(5,"p",5),i._uU(6),i.qZA(),i.TgZ(7,"p",5),i._uU(8),i.qZA(),i.TgZ(9,"a",6),i.NdJ("click",function(){return i.CHM(e),i.oxw().deleteEvent.emit()}),i._uU(10,"Delete"),i.qZA(),i.qZA()}if(2&n){const e=i.oxw();i.xp6(2),i.Oqu(e.car.model),i.xp6(2),i.Oqu(e.car.mark),i.xp6(2),i.hij("",e.car.seats," Pl\xe4tze"),i.xp6(2),i.hij("",e.car.storage," ")}}let UV=(()=>{class n{constructor(e,r){this.userService=e,this.carData=r,this.carId="",this.deleteEvent=new i.vpe,this.car=null}ngOnInit(){var e=this;return(0,re.Z)(function*(){e.car=yield e.carData.getCarById(e.carId)})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns),i.Y36(AI))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-car-item"]],inputs:{carId:"carId"},outputs:{deleteEvent:"deleteEvent"},decls:2,vars:1,consts:[[1,"card",2,"width","18rem"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text"],[1,"btn","btn-primary","btn-danger","ml-1",3,"click"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,VV,11,4,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.car))},directives:[on],styles:[""]}),n})();function ZV(n,t){1&n&&(i.TgZ(0,"div"),i._uU(1," bitte Fahrzeug-Model hinf\xfcgen. "),i.qZA())}function BV(n,t){if(1&n&&(i.TgZ(0,"div",21),i.YNc(1,ZV,2,0,"div",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==e.form.controls.fahrzeugModel.errors?null:e.form.controls.fahrzeugModel.errors.required)}}function jV(n,t){1&n&&(i.TgZ(0,"div"),i._uU(1," bitte Kennzeichen hinf\xfcgen. "),i.qZA())}function HV(n,t){if(1&n&&(i.TgZ(0,"div",21),i.YNc(1,jV,2,0,"div",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==e.form.controls.fahrzeugKennzeichen.errors?null:e.form.controls.fahrzeugKennzeichen.errors.required)}}function qV(n,t){1&n&&(i.TgZ(0,"div"),i._uU(1," bitte Sitzplaetze hinf\xfcgen. "),i.qZA())}function $V(n,t){if(1&n&&(i.TgZ(0,"div",21),i.YNc(1,qV,2,0,"div",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==e.form.controls.fahrzeugSitzplaetze.errors?null:e.form.controls.fahrzeugSitzplaetze.errors.required)}}function GV(n,t){1&n&&(i.TgZ(0,"div"),i._uU(1," bitte Stauraum hinf\xfcgen. "),i.qZA())}function zV(n,t){if(1&n&&(i.TgZ(0,"div",21),i.YNc(1,GV,2,0,"div",1),i.qZA()),2&n){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==e.form.controls.fahrzeugStauraum.errors?null:e.form.controls.fahrzeugStauraum.errors.required)}}function WV(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",22),i.TgZ(2,"app-car-item",23),i.NdJ("deleteEvent",function(){const l=i.CHM(e).$implicit;return i.oxw(2).deleteCar(l)}),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(2),i.Q6J("carId",e)}}function YV(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"form",2),i.NdJ("ngSubmit",function(){return i.CHM(e),i.oxw().onSubmit()}),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i.TgZ(4,"div",5),i.TgZ(5,"span",6),i._uU(6,"Fahrzeug-Model"),i.qZA(),i.qZA(),i._UZ(7,"input",7),i.YNc(8,BV,2,1,"div",8),i.qZA(),i.TgZ(9,"div",4),i.TgZ(10,"div",5),i.TgZ(11,"span",9),i._uU(12,"Kennzeichen"),i.qZA(),i.qZA(),i._UZ(13,"input",10),i.YNc(14,HV,2,1,"div",8),i.qZA(),i.qZA(),i.TgZ(15,"div",3),i.TgZ(16,"div",4),i.TgZ(17,"div",5),i.TgZ(18,"span",11),i._uU(19,"Sitzpl\xe4tze"),i.qZA(),i.qZA(),i._UZ(20,"input",12),i.YNc(21,$V,2,1,"div",8),i.qZA(),i.TgZ(22,"div",4),i.TgZ(23,"div",5),i.TgZ(24,"span",13),i._uU(25,"Stauraum"),i.qZA(),i.qZA(),i._UZ(26,"input",14),i.YNc(27,zV,2,1,"div",8),i.qZA(),i.qZA(),i.TgZ(28,"div",15),i.TgZ(29,"div",16),i.TgZ(30,"div",17),i.TgZ(31,"button",18),i._uU(32,"Fahrzeug hinzuf\xfcgen "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"div",19),i.TgZ(34,"div",15),i.YNc(35,WV,3,1,"div",20),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=i.oxw();i.xp6(1),i.Q6J("formGroup",e.form),i.xp6(7),i.Q6J("ngIf",e.form.controls.fahrzeugModel.invalid&&(e.form.controls.fahrzeugModel.dirty||e.form.controls.fahrzeugModel.touched)),i.xp6(6),i.Q6J("ngIf",e.form.controls.fahrzeugKennzeichen.invalid&&(e.form.controls.fahrzeugKennzeichen.dirty||e.form.controls.fahrzeugKennzeichen.touched)),i.xp6(7),i.Q6J("ngIf",e.form.controls.fahrzeugSitzplaetze.invalid&&(e.form.controls.fahrzeugSitzplaetze.dirty||e.form.controls.fahrzeugSitzplaetze.touched)),i.xp6(6),i.Q6J("ngIf",e.form.controls.fahrzeugStauraum.invalid&&(e.form.controls.fahrzeugStauraum.dirty||e.form.controls.fahrzeugStauraum.touched)),i.xp6(4),i.Q6J("disabled",e.form.invalid||e.form.pristine),i.xp6(4),i.Q6J("ngForOf",e.userService.currUser.car)}}let KV=(()=>{class n{constructor(e,r,a){this.userService=e,this.router=r,this.carData=a,this.form=new dI({fahrzeugModel:new ep,fahrzeugKennzeichen:new ep,fahrzeugSitzplaetze:new ep,fahrzeugStauraum:new ep}),this.userService.currUser||this.router.navigate(["/"])}deleteCar(e){var r=this;return(0,re.Z)(function*(){yield r.userService.deleteCar(e),yield r.carData.deleteCar(e)})()}onSubmit(){var e=this;if(this.fahrzeugModel=this.form.controls.fahrzeugModel.value,this.fahrzeugKennzeichen=this.form.controls.fahrzeugKennzeichen.value,this.fahrzeugSitzplaetze=this.form.controls.fahrzeugSitzplaetze.value,this.fahrzeugStauraum=this.form.controls.fahrzeugStauraum.value,this.fahrzeugModel&&this.fahrzeugKennzeichen&&this.fahrzeugSitzplaetze&&this.fahrzeugStauraum){let r=new LV(this.fahrzeugModel,this.fahrzeugKennzeichen,this.fahrzeugSitzplaetze,this.fahrzeugStauraum);this.userService.currUser&&this.carData.addCar(r).then(function(){var a=(0,re.Z)(function*(l){console.log(l),yield e.userService.addCar(l)});return function(l){return a.apply(this,arguments)}}()),document.getElementById("add-car-form").reset()}}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns),i.Y36(or),i.Y36(AI))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-carlist"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],["id","add-car-form",2,"margin-top","100px",3,"formGroup","ngSubmit"],[1,"row","m-2"],[1,"form-group","col-md-12"],[1,"input-group-prepend"],["id","add-car-model",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","text","placeholder","VW Touran, Porsche 911, ...","aria-label","Fahrzeug-Model","aria-describedby","add-fahrzeug-model","id","add-fahrzeug-model-input","formControlName","fahrzeugModel","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["class","alert-danger","style","width: 60%; position: relative; margin-right: auto; margin-left: auto",4,"ngIf"],["id","add-fahrzeug-kennzeichen",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","text","placeholder","Kennzeichen","aria-label","Kennzeichen","aria-describedby","add-fahrzeug-kennzeichen","id","add-fahrzeug-kennzeichen-input","formControlName","fahrzeugKennzeichen","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["id","add-fahrzeug-Sitzplaetze",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","number","placeholder","Sitzpl\xe4tze","aria-label","Sitzplaetze","aria-describedby","add-fahrzeug-sitzplaetze","id","add-fahrzeug-sitzplaetze-input","formControlName","fahrzeugSitzplaetze","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["id","add-Stauraum",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","number","placeholder","Stauraum in \u33a5","aria-label","Stauraum","aria-describedby","add-stauraum","id","add-stauraum-input","formControlName","fahrzeugStauraum","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"row"],[1,"col-sm-12"],[1,"input-group","mb-3",2,"display","flex","flex-direction","row","justify-content","center"],["type","submit",1,"btn","btn-info",2,"background-color","#005B51",3,"disabled"],[2,"display","flex","flex-direction","row","justify-content","center"],[4,"ngFor","ngForOf"],[1,"alert-danger",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"ml-3","mr-3"],[3,"carId","deleteEvent"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,YV,36,7,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",r.userService.currUser))},directives:[on,dR,nR,hI,j,hm,RM,fI,SM,_t,UV],styles:[""]}),n})(),BO=(()=>{class n{constructor(){this.searchbarheigth="5em",this.iconsize="25px"}scroll(e){e.scrollIntoView({behavior:"smooth"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-suchleiste"]],decls:42,vars:36,consts:[[1,"masthead"],[1,"center"],[2,"font-size","4em","color","#005B51","text-align","center","margin-bottom","20px"],[1,"form-row","form-row-style","align-items-center"],[1,"col","colpad"],[1,"input-group","mb-3","border-right"],[1,"row"],[1,"input-group-text","input-opaque"],["src","../../../../assets/img/Icons/von_icon.png"],["type","text","placeholder","Von...",1,"text-opaque"],["src","../../../../assets/img/Icons/nach_icon.png"],["type","text","placeholder","Nach...",1,"text-opaque"],["src","../../../../assets/img/Icons/kalender_icon.png"],["type","date","placeholder","Datum",1,"text-opaque"],["src","../../../../assets/img/Icons/koffer_icon_white.png"],["type","number","placeholder","m\xb3",1,"text-opaque"],["src","../../../../assets/img/Icons/mitfahrer_icon_white.png"],["type","number","placeholder","1",1,"text-opaque"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[2,"height","200px"],["target",""]],template:function(e,r){if(1&e){const a=i.EpF();i.TgZ(0,"header",0),i.TgZ(1,"div",1),i.TgZ(2,"h1",2),i._uU(3,"Wir fahren, du sparst!"),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i.TgZ(7,"div",6),i.TgZ(8,"span",7),i._UZ(9,"img",8),i.qZA(),i._UZ(10,"input",9),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",4),i.TgZ(12,"div",5),i.TgZ(13,"div",6),i.TgZ(14,"span",7),i._UZ(15,"img",10),i.qZA(),i._UZ(16,"input",11),i.qZA(),i.qZA(),i.qZA(),i.TgZ(17,"div",4),i.TgZ(18,"div",5),i.TgZ(19,"div",6),i.TgZ(20,"span",7),i._UZ(21,"img",12),i.qZA(),i._UZ(22,"input",13),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"div",4),i.TgZ(24,"div",5),i.TgZ(25,"div",6),i.TgZ(26,"span",7),i._UZ(27,"img",14),i.qZA(),i._UZ(28,"input",15),i.qZA(),i.qZA(),i.qZA(),i.TgZ(29,"div",4),i.TgZ(30,"div",5),i.TgZ(31,"div",6),i.TgZ(32,"span",7),i._UZ(33,"img",16),i.qZA(),i._UZ(34,"input",17),i.qZA(),i.qZA(),i.qZA(),i.TgZ(35,"div",4),i.TgZ(36,"button",18),i.NdJ("click",function(){i.CHM(a);const h=i.MAs(41);return r.scroll(h)}),i.TgZ(37,"h3"),i._uU(38,"Suchen"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(39,"div",19),i._UZ(40,"div",null,20),i.qZA()}2&e&&(i.xp6(4),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(2),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(3),i.Jzz("width: ",r.iconsize,"; margin-left: 10px"),i.xp6(3),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(3),i.Jzz("width: ",r.iconsize,"; margin-left: 10px"),i.xp6(3),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(3),i.Jzz("width: ",r.iconsize,"; margin-left: 10px"),i.xp6(3),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(3),i.Jzz("width: ",r.iconsize,"; margin-left: 10px"),i.xp6(3),i.Jzz("height: ",r.searchbarheigth,""),i.xp6(3),i.Jzz("width: ",r.iconsize,"; margin-left: 10px"),i.xp6(3),i.Jzz("margin-top: -1em; background-color: #005B51;  height: ",r.searchbarheigth,"; border-radius: 0px 35px 35px 0px"))},styles:["header.masthead[_ngcontent-%COMP%]{position:relative;background-color:#343a40;background:url(Zeichenflache_4.661da432fc963621ee16.svg) no-repeat center center;background-size:cover;z-index:10;padding-top:8rem;padding-bottom:8rem;height:40em}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}.center[_ngcontent-%COMP%]{margin:auto;width:70%}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}.colpad[_ngcontent-%COMP%]{padding:0;margin:0;width:2em}.input-opaque[_ngcontent-%COMP%]{background-color:#0000;border-color:#0000}.text-opaque[_ngcontent-%COMP%]{background-color:#0000;color:#fff;border-color:#0000;outline:none}.form-row-style[_ngcontent-%COMP%]{background-color:#0000004d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:35px;position:center;margin:0;padding:0}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})(),JV=(()=>{class n{constructor(){this.boxTitle="",this.infoText="",this.imagePath=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-infobox"]],inputs:{boxTitle:"boxTitle",infoText:"infoText",imagePath:"imagePath"},decls:6,vars:3,consts:[[1,"shadow","p-3","mb-5","bg-white","rounded","infoheight",2,"width","300px","margin","2em","margin-top","5em"],[1,"infoicon",3,"src"],[2,"color","#005B51","text-align","center"],[2,"text-align","center"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.TgZ(2,"h3",2),i._uU(3),i.qZA(),i.TgZ(4,"p",3),i._uU(5),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.s9C("src",r.imagePath,i.LSH),i.xp6(2),i.Oqu(r.boxTitle),i.xp6(2),i.hij(" ",r.infoText," "))},styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-45px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:20em}"]}),n})();function QV(n,t){if(1&n&&(i.TgZ(0,"div",3),i._UZ(1,"app-infobox",4),i.qZA()),2&n){const e=t.index,r=i.oxw();i.xp6(1),i.Q6J("boxTitle",r.boxTitles[e])("infoText",r.infoTexts[e])("imagePath",r.imagePaths[e])}}let XV=(()=>{class n{constructor(){this.boxTitles=["Lass dich fahren f\xfcr weniger Geld","Dein Transport: Einfach und unkompliziert","Sorglos fahren, dank Nutzerbewertungen"],this.infoTexts=["Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es relativ g\xfcnstig ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es einfach und unkompliziert ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es sorglos, durch Nutzerbewertung, ist, mit uns zu fahren!"],this.imagePaths=["../../assets/img/Icons/money_icon.png","../../assets/img/Icons/transporter_icon.png","../../assets/img/Icons/thumbs_icon.png"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-main-page"]],decls:4,vars:1,consts:[[1,"container"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[3,"boxTitle","infoText","imagePath"]],template:function(e,r){1&e&&(i._UZ(0,"app-suchleiste"),i.TgZ(1,"div",0),i.TgZ(2,"div",1),i.YNc(3,QV,2,3,"div",2),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngForOf",r.boxTitles))},directives:[BO,_t,JV],styles:[""]}),n})(),jO=(()=>{class n{constructor(){this.changeState=new i.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-slide-checker"]],outputs:{changeState:"changeState"},decls:13,vars:0,consts:[[1,"row","m-3","justify-content-center"],[1,"col"],[1,"d-flex","justify-content-center"],[1,"logoGreenDark","mr-3"],[1,"switch"],["type","checkbox",3,"click"],[1,"slider","round"],[1,"logoGreenDark","ml-3"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"h5"),i._uU(5,"Angebote"),i.qZA(),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"label",4),i.TgZ(8,"input",5),i.NdJ("click",function(){return r.changeState.emit()}),i.qZA(),i._UZ(9,"span",6),i.qZA(),i.qZA(),i.TgZ(10,"div",7),i.TgZ(11,"h5"),i._uU(12,"Anfragen"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})(),eU=(()=>{class n{constructor(e){this.tourService=e,this.searchbarheigth="5em",this.isOffer=!0,this.offerTours=[],this.requestTours=[],this.isHorizontal=!1,this.rightTours=[],this.leftTours=[]}offerOnOff(){this.isOffer=!this.isOffer,this.fillList().then()}ngOnInit(){var e=this;return(0,re.Z)(function*(){yield e.setTours(),yield e.fillList()})()}setTours(){var e=this;return(0,re.Z)(function*(){e.offerTours=yield e.tourService.getAllOffers().then(),e.requestTours=yield e.tourService.getAllRequests().then()})()}fillList(){var e=this;return(0,re.Z)(function*(){e.splitList(e.isOffer?e.offerTours:e.requestTours)})()}splitList(e){let r=[],a=[];for(let l=0;l<e.length;l++)(l+1)%2==0?r.push(e[l]):a.push(e[l]);this.rightTours=[...r],this.leftTours=[...a]}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(rp))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-tour-site"]],decls:8,vars:4,consts:[[3,"changeState"],[1,"container"],[1,"row"],[1,"col"],[3,"usedList","isHorizontal"]],template:function(e,r){1&e&&(i._UZ(0,"app-suchleiste"),i.TgZ(1,"app-slide-checker",0),i.NdJ("changeState",function(){return r.offerOnOff()}),i.qZA(),i.TgZ(2,"div",1),i.TgZ(3,"div",2),i.TgZ(4,"div",3),i._UZ(5,"app-tour-list",4),i.qZA(),i.TgZ(6,"div",3),i._UZ(7,"app-tour-list",4),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(5),i.Q6J("usedList",r.leftTours)("isHorizontal",r.isHorizontal),i.xp6(2),i.Q6J("usedList",r.rightTours)("isHorizontal",r.isHorizontal))},directives:[BO,jO,QM],styles:[""]}),n})(),HO=(()=>{class n{constructor(){}arrivalTime(e,r,a){let l="";if(e.trim().length>0&&r.trim().length>0&&a.trim().length>0){let b=Number.parseInt(e.substr(0,2))+Number.parseInt(r),T=a.substr(8,2);b>=24&&(T=(Number.parseInt(T)+1).toString(),T.trim().length<2&&(T="0"+T),b%=24),l=b<10?a.substr(0,8)+T+"T0"+b.toString():a.substr(0,8)+T+"T"+b.toString(),l+=e.substr(2,3)}return l}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tU(n,t){1&n&&(i.TgZ(0,"div",50),i._uU(1,"Erstelle eine Angebot"),i.qZA())}function nU(n,t){1&n&&(i.TgZ(0,"div",50),i._uU(1,"Erstelle ein Anfrage"),i.qZA())}function rU(n,t){if(1&n&&(i.TgZ(0,"option",54),i._uU(1),i.qZA()),2&n){const e=t.$implicit;i.s9C("value",e.dId),i.xp6(1),i.HOy(" ",e.model," ",e.mark,", Sitze: ",e.seats," Stauraum: ",e.storage,"qm ")}}function iU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"div",10),i.TgZ(2,"label",51),i._uU(3,"Fahrzeug"),i.qZA(),i.TgZ(4,"select",52),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw(2).chosenCar=a}),i.YNc(5,rU,2,5,"option",53),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=i.oxw(2);i.xp6(4),i.Q6J("ngModel",e.chosenCar),i.xp6(1),i.Q6J("ngForOf",e.userCars)}}function sU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i.YNc(4,tU,2,0,"div",5),i.YNc(5,nU,2,0,"div",5),i.qZA(),i.qZA(),i.TgZ(6,"app-slide-checker",6),i.NdJ("changeState",function(){return i.CHM(e),i.oxw().offerOnOff()}),i.qZA(),i.qZA(),i.TgZ(7,"div",7),i._UZ(8,"div",8),i.TgZ(9,"div",3),i.TgZ(10,"div",9),i.TgZ(11,"div",10),i.TgZ(12,"label",11),i._uU(13,"Von"),i.qZA(),i.TgZ(14,"input",12),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().startCity=a}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",9),i.TgZ(16,"div",10),i.TgZ(17,"label",13),i._uU(18,"Nach"),i.qZA(),i.TgZ(19,"input",14),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().endCity=a}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"div",9),i.TgZ(21,"div",10),i.TgZ(22,"label",15),i._uU(23,"Datum"),i.qZA(),i.TgZ(24,"input",16),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().date=a})("change",function(){return i.CHM(e),i.oxw().calculateEndTime()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"div",3),i.TgZ(26,"div",9),i.TgZ(27,"div",10),i.TgZ(28,"label",17),i._uU(29,"Abfahrtszeit"),i.qZA(),i.TgZ(30,"input",18),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().startTime=a})("change",function(){return i.CHM(e),i.oxw().calculateEndTime()}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",9),i.TgZ(32,"div",10),i.TgZ(33,"label",19),i._uU(34,"Dauer"),i.qZA(),i.TgZ(35,"select",20),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().duration=a})("change",function(){return i.CHM(e),i.oxw().calculateEndTime()}),i._UZ(36,"option",21),i.TgZ(37,"option",22),i._uU(38,"1h"),i.qZA(),i.TgZ(39,"option",23),i._uU(40,"2h"),i.qZA(),i.TgZ(41,"option",24),i._uU(42,"3h"),i.qZA(),i.TgZ(43,"option",25),i._uU(44,"4h"),i.qZA(),i.TgZ(45,"option",26),i._uU(46,"5h"),i.qZA(),i.TgZ(47,"option",27),i._uU(48,"6h"),i.qZA(),i.TgZ(49,"option",28),i._uU(50,"7h"),i.qZA(),i.TgZ(51,"option",29),i._uU(52,"8h"),i.qZA(),i.TgZ(53,"option",30),i._uU(54,"9h"),i.qZA(),i.TgZ(55,"option",31),i._uU(56,"10h"),i.qZA(),i.TgZ(57,"option",32),i._uU(58,"11h"),i.qZA(),i.TgZ(59,"option",33),i._uU(60,"12h"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(61,"div",9),i.TgZ(62,"div",10),i.TgZ(63,"label",34),i._uU(64,"Ankunftszeit"),i.qZA(),i.TgZ(65,"input",35),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().endTime=a}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(66,"div",3),i.TgZ(67,"div",36),i.TgZ(68,"div",10),i.TgZ(69,"label",37),i._uU(70,"Sitzpl\xe4tze"),i.qZA(),i.TgZ(71,"select",38),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().seats=a}),i._UZ(72,"option",21),i.TgZ(73,"option",22),i._uU(74,"1"),i.qZA(),i.TgZ(75,"option",23),i._uU(76,"2"),i.qZA(),i.TgZ(77,"option",24),i._uU(78,"3"),i.qZA(),i.TgZ(79,"option",25),i._uU(80,"4"),i.qZA(),i.TgZ(81,"option",26),i._uU(82,"5"),i.qZA(),i.TgZ(83,"option",27),i._uU(84,"6"),i.qZA(),i.TgZ(85,"option",28),i._uU(86,"7"),i.qZA(),i.TgZ(87,"option",29),i._uU(88,"8"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(89,"div",36),i.TgZ(90,"div",10),i.TgZ(91,"label",39),i._uU(92,"Stauraum"),i.qZA(),i.TgZ(93,"select",40),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().storage=a}),i._UZ(94,"option",21),i.TgZ(95,"option",22),i._uU(96,"1"),i.qZA(),i.TgZ(97,"option",23),i._uU(98,"2"),i.qZA(),i.TgZ(99,"option",24),i._uU(100,"3"),i.qZA(),i.TgZ(101,"option",25),i._uU(102,"4"),i.qZA(),i.TgZ(103,"option",26),i._uU(104,"5"),i.qZA(),i.TgZ(105,"option",27),i._uU(106,"6"),i.qZA(),i.TgZ(107,"option",28),i._uU(108,"7"),i.qZA(),i.TgZ(109,"option",29),i._uU(110,"8"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(111,"div",36),i.TgZ(112,"div"),i.TgZ(113,"label",41),i._uU(114),i.qZA(),i.qZA(),i.TgZ(115,"div",42),i.TgZ(116,"input",43),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().price=a}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(117,"div",3),i.TgZ(118,"div",9),i.TgZ(119,"label",44),i._uU(120,"Beschreibung"),i.qZA(),i.TgZ(121,"textarea",45),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().description=a}),i.qZA(),i.qZA(),i.YNc(122,iU,6,2,"div",46),i.qZA(),i.TgZ(123,"div",47),i.TgZ(124,"div",48),i.TgZ(125,"button",49),i.NdJ("click",function(){return i.CHM(e),i.oxw().checkInput()}),i._uU(126,"Erstellen"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&n){const e=i.oxw();i.xp6(4),i.Q6J("ngIf",e.isOffer),i.xp6(1),i.Q6J("ngIf",!e.isOffer),i.xp6(9),i.Q6J("ngModel",e.startCity),i.xp6(5),i.Q6J("ngModel",e.endCity),i.xp6(5),i.Q6J("ngModel",e.date),i.xp6(6),i.Q6J("ngModel",e.startTime),i.xp6(5),i.Q6J("ngModel",e.duration),i.xp6(30),i.Q6J("ngModel",e.endTime),i.xp6(6),i.Q6J("ngModel",e.seats),i.xp6(22),i.Q6J("ngModel",e.storage),i.xp6(21),i.hij("Preis: ",e.price,""),i.xp6(2),i.Q6J("ngModel",e.price),i.xp6(5),i.Q6J("ngModel",e.description),i.xp6(1),i.Q6J("ngIf",e.isOffer)}}function oU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"div",55),i.TgZ(1,"div",3),i.TgZ(2,"div",56),i._uU(3," Melde dich an, um eine Tour zu erstellen! "),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i._UZ(5,"br"),i.qZA(),i.TgZ(6,"div",3),i.TgZ(7,"div",4),i.TgZ(8,"button",57),i.NdJ("click",function(){return i.CHM(e),i.oxw().navigateToProfil()}),i._uU(9,"Anmelden"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}}function lU(n,t){if(1&n&&(i.TgZ(0,"div",6),i._uU(1),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Oqu(e.evaluation)}}function cU(n,t){1&n&&i._uU(0,"Not evaluated yet")}const dU=[{path:"profil",component:FV},{path:"carList",component:KV},{path:"",component:XV},{path:"tours",component:eU},{path:"createTours",component:(()=>{class n{constructor(e,r,a,l,h,m,b){var T=this;this.tourData=e,this.userData=r,this.alert=a,this.router=l,this.carData=h,this.auth=m,this.calcService=b,this.userCars=[],this.isOffer=!0,this.startCity="",this.endCity="",this.startTime="",this.duration="",this.endTime="",this.date="",this.seats="",this.storage="",this.price="",this.description="",this.chosenCar="",this.auth.user.subscribe(function(){var N=(0,re.Z)(function*(M){if(M){const V=yield T.userData.getUser(M.uid);null!=V&&(yield T.fillCars(V))}});return function(M){return N.apply(this,arguments)}}())}fillCars(e){var r=this;return(0,re.Z)(function*(){if(e){const a=[];for(const l of e.car){const h=yield r.carData.getCarById(l);h&&a.push(h)}r.userCars=[...a]}})()}navigateToProfil(){this.router.navigate(["/profil"])}offerOnOff(){this.isOffer=!this.isOffer}calculateEndTime(){this.endTime=this.calcService.arrivalTime(this.startTime,this.duration,this.date)}checkUniqueInputs(){return this.startTime.trim().length>0&&this.endCity.trim().length>0&&this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0&&this.seats.trim().length>0&&this.storage.trim().length>0&&Number.parseInt(this.price)>0}checkInput(){var e=this;return(0,re.Z)(function*(){const r=e.userData.currUser;let a=e.newTour();r&&(e.isOffer&&e.checkUniqueInputs()&&e.chosenCar.trim().length>0?yield e.addOffer(a,r):e.checkUniqueInputs()?yield e.addNoOffer(a,r):e.alert.showAlert({type:"danger",message:"Alle Felder ausf\xfcllen!"}))})()}addOffer(e,r){var a=this;return(0,re.Z)(function*(){e.driver=r.uid,e.car=a.chosenCar,yield a.addTour(e)})()}addNoOffer(e,r){var a=this;return(0,re.Z)(function*(){e.passengers[0]=r.uid,yield a.addTour(e)})()}addTour(e){var r=this;return(0,re.Z)(function*(){yield r.tourData.addTour(e),r.clearInputs()})()}newTour(){return new ZO(this.userData.currUser?this.userData.currUser.uid:"",this.isOffer,this.startCity,this.endCity,this.startTime,Number.parseInt(this.duration),this.date,Number.parseInt(this.price),Number.parseInt(this.storage),Number.parseInt(this.seats),this.description)}clearInputs(){this.startCity="",this.endCity="",this.startTime="",this.duration="",this.date="",this.price="",this.storage="",this.seats="",this.description="",this.chosenCar="",this.endTime=""}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(rp),i.Y36(Ns),i.Y36(II),i.Y36(or),i.Y36(AI),i.Y36(Kf),i.Y36(HO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-create-tours"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notloggedin",""],[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],["class","h2 logoGreenDark m-3",4,"ngIf"],[3,"changeState"],[1,"container","rounded","shadow","mt-4","bg-white","border-0"],[1,"row","m-4"],[1,"col"],[1,"form-group"],["for","cityStart",1,"logoGreenDark"],["type","text","id","cityStart",1,"form-control",3,"ngModel","ngModelChange"],["for","endCity",1,"logoGreenDark"],["type","text","id","endCity",1,"form-control",3,"ngModel","ngModelChange"],["for","date",1,"logoGreenDark"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["for","startTime",1,"logoGreenDark"],["type","time","id","startTime",1,"form-control",3,"ngModel","ngModelChange","change"],["for","duration",1,"logoGreenDark"],["name","","id","duration",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","readonly","","id","endTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["for","seats",1,"logoGreenDark"],["name","","id","seats",1,"form-control",3,"ngModel","ngModelChange"],["for","storage",1,"logoGreenDark"],["name","","id","storage",1,"form-control",3,"ngModel","ngModelChange"],["for","customRange3",1,"logoGreenDark"],[1,""],["type","range","min","0","max","500","id","customRange3",1,"form-range","mt-2",2,"min-width","100%","max-width","100%",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label","logoGreenDark"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["class","col",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-5","m-4"],[1,"btn","btn-success","btn-block",3,"click"],[1,"h2","logoGreenDark","m-3"],["for","cars",1,"logoGreenDark"],["name","","id","cars",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"container","mt-5","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"col","text-center","mt-3","h2","logoGreenDark"],[1,"btn","btn-outline-success","btn-lg","m-3",3,"click"]],template:function(e,r){if(1&e&&(i.YNc(0,sU,127,14,"div",0),i.YNc(1,oU,10,0,"ng-template",null,1,i.W1O)),2&e){const a=i.MAs(2);i.Q6J("ngIf",r.userData.currUser)("ngIfElse",a)}},directives:[on,jO,j,hm,fm,o0,dw,hw,NM,_t],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})()},{path:"tour-details",component:(()=>{class n{constructor(e,r,a){var l;this.tourService=e,this.calcService=r,this.userService=a,this.mergeDateAndTime="",this.iconSize="2em",this.endTime="",this.userName="Max Mustermann",console.log(null===(l=this.tourService.tourDetails)||void 0===l?void 0:l.date)}ngOnInit(){var e,r;this.mergeDateAndTime=(null===(e=this.tourService.tourDetails)||void 0===e?void 0:e.date)+"T"+(null===(r=this.tourService.tourDetails)||void 0===r?void 0:r.startTime),this.calculateEndTime(),this.changeUserName()}calculateEndTime(){var e,r,a,l,h,m;(null===(e=this.tourService.tourDetails)||void 0===e?void 0:e.startTime)&&(null===(r=this.tourService.tourDetails)||void 0===r?void 0:r.duration)&&(null===(a=this.tourService.tourDetails)||void 0===a?void 0:a.date)&&(this.endTime=this.calcService.arrivalTime(null===(l=this.tourService.tourDetails)||void 0===l?void 0:l.startTime,null===(h=this.tourService.tourDetails)||void 0===h?void 0:h.duration.toString(),null===(m=this.tourService.tourDetails)||void 0===m?void 0:m.date))}changeUserName(){var e,r,a,l,h;((null===(e=this.tourService.tourDetails)||void 0===e?void 0:e.passengers[0])||(null===(r=this.tourService.tourDetails)||void 0===r?void 0:r.driver)&&(null===(a=this.tourService.tourDetails)||void 0===a?void 0:a.isOffer))&&this.userService.getUser((null===(l=this.tourService.tourDetails)||void 0===l?void 0:l.isOffer)?this.tourService.tourDetails.driver:null===(h=this.tourService.tourDetails)||void 0===h?void 0:h.passengers[0]).then(m=>{this.userName=m?m.username:"Kein User"})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(rp),i.Y36(HO),i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-tour-details"]],decls:70,vars:19,consts:[[1,"container","d-flex","title-background","mw-100","justify-content-center"],[1,"row","align-self-center"],[1,"col","text-center"],[1,"h2","logoGreenDark"],[1,"container","rounded","mt-4","shadow","bg-white","border-0","p-4"],[1,"row"],[1,"col-4"],["for","startCity",1,"logoGreenDark","mr-1"],["id","startCity",1,"h5"],["for","endCity",1,"logoGreenDark","mr-1"],["id","endCity",1,"h5"],[1,"text-right"],[1,"mr-2","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","3em","viewBox","0 0 65 65",1,"profil"],["id","ic_account_circle_24px","d","M34.5,2A32.5,32.5,0,1,0,67,34.5,32.512,32.512,0,0,0,34.5,2Zm0,9.75a9.75,9.75,0,1,1-9.75,9.75A9.737,9.737,0,0,1,34.5,11.75Zm0,46.15A23.4,23.4,0,0,1,15,47.435c.1-6.468,13-10.01,19.5-10.01,6.467,0,19.4,3.542,19.5,10.01A23.4,23.4,0,0,1,34.5,57.9Z","transform","translate(-2 -2)","fill","#208479"],[1,"col"],[1,"row","justify-content-between"],[1,"col-3"],[1,"container","m-0","p-0"],[1,"form-group"],["for","startTime",1,"logoGreenDark"],["type","datetime-local","id","startTime","readonly","",1,"form-control",3,"value"],["for","duration",1,"logoGreenDark"],["id","duration"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","id","endTime","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8","mr-3",2,"background-color","#F3FBED"],[1,"logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 35 33.25"],["id","ic_work_24px","d","M33.5,9h-7V5.5A3.488,3.488,0,0,0,23,2H16a3.488,3.488,0,0,0-3.5,3.5V9h-7a3.473,3.473,0,0,0-3.482,3.5L2,31.75a3.488,3.488,0,0,0,3.5,3.5h28a3.488,3.488,0,0,0,3.5-3.5V12.5A3.488,3.488,0,0,0,33.5,9ZM23,9H16V5.5h7Z","transform","translate(-2 -2)","fill","#208479"],[1,"logoGreenDark","ml-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 35 35"],["id","ic_perm_identity_24px","d","M21.5,8.156a4.594,4.594,0,1,1-4.594,4.594A4.593,4.593,0,0,1,21.5,8.156m0,19.687c6.5,0,13.344,3.194,13.344,4.594v2.406H8.156V32.438c0-1.4,6.847-4.594,13.344-4.594M21.5,4a8.75,8.75,0,0,0,0,17.5,9.171,9.171,0,0,0,5.78-2.179,8.385,8.385,0,0,0,2.97-6.571A8.748,8.748,0,0,0,21.5,4Zm0,19.688c-5.841,0-17.5,2.931-17.5,8.75V39H39V32.438C39,26.619,27.341,23.688,21.5,23.688Z","transform","translate(-4 -4)","fill","#208479"],["id","ic_monetization_on_24px","d","M19.5,2A17.5,17.5,0,1,0,37,19.5,17.506,17.506,0,0,0,19.5,2Zm2.468,28.157V33.5H17.3V30.122c-2.993-.63-5.53-2.555-5.722-5.95H15c.175,1.838,1.435,3.273,4.637,3.273,3.43,0,4.2-1.715,4.2-2.782,0-1.453-.77-2.818-4.672-3.745-4.34-1.05-7.315-2.835-7.315-6.422,0-3.01,2.432-4.97,5.442-5.618V5.5h4.672V8.912a6.187,6.187,0,0,1,4.988,5.933h-3.43c-.088-1.943-1.12-3.273-3.885-3.273-2.625,0-4.2,1.19-4.2,2.87,0,1.47,1.138,2.432,4.673,3.342s7.315,2.433,7.315,6.842c-.018,3.2-2.415,4.953-5.46,5.53Z","transform","translate(-2 -2)","fill","#208479"],[1,"row","justify-content-center"],[1,"col-5","m-4"],[1,"btn","btn-success","btn-block"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._uU(4,"Buche diese Fahrt"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i.TgZ(7,"div",6),i.TgZ(8,"label",7),i._uU(9,"Von:"),i.qZA(),i.TgZ(10,"div",8),i._uU(11),i.qZA(),i.qZA(),i.TgZ(12,"div",6),i.TgZ(13,"label",9),i._uU(14,"Nach:"),i.qZA(),i.TgZ(15,"div",10),i._uU(16),i.qZA(),i.qZA(),i.TgZ(17,"div",6),i.TgZ(18,"div",11),i.TgZ(19,"span",12),i._uU(20),i.qZA(),i.O4$(),i.TgZ(21,"svg",13),i._UZ(22,"path",14),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(23,"div",5),i.TgZ(24,"div",15),i._UZ(25,"hr"),i.qZA(),i.qZA(),i.TgZ(26,"div",16),i.TgZ(27,"div",17),i.TgZ(28,"div",18),i.TgZ(29,"div",19),i.TgZ(30,"label",20),i._uU(31,"Abahrtszeit"),i.qZA(),i._UZ(32,"input",21),i.qZA(),i.TgZ(33,"div",19),i.TgZ(34,"label",22),i._uU(35,"Dauer"),i.qZA(),i.TgZ(36,"div",23),i._uU(37),i.qZA(),i.qZA(),i.TgZ(38,"div",19),i.TgZ(39,"label",24),i._uU(40,"Ankunftszeit"),i.qZA(),i.TgZ(41,"input",25),i.NdJ("ngModelChange",function(l){return r.endTime=l}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(42,"div",26),i.TgZ(43,"label",27),i._uU(44,"Beschreibung"),i.qZA(),i.TgZ(45,"div"),i._uU(46),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"div",5),i.TgZ(48,"div",15),i._UZ(49,"hr"),i.qZA(),i.qZA(),i.TgZ(50,"div",5),i.TgZ(51,"div",2),i.O4$(),i.TgZ(52,"svg",28),i._UZ(53,"path",29),i.qZA(),i.kcU(),i.TgZ(54,"span",30),i._uU(55),i.qZA(),i.qZA(),i.TgZ(56,"div",2),i.O4$(),i.TgZ(57,"svg",31),i._UZ(58,"path",32),i.qZA(),i.kcU(),i.TgZ(59,"span",30),i._uU(60),i.qZA(),i.qZA(),i.TgZ(61,"div",2),i.O4$(),i.TgZ(62,"svg",31),i._UZ(63,"path",33),i.qZA(),i.kcU(),i.TgZ(64,"span",30),i._uU(65),i.qZA(),i.qZA(),i.qZA(),i.TgZ(66,"div",34),i.TgZ(67,"div",35),i.TgZ(68,"button",36),i._uU(69,"Buchen"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(11),i.Oqu(null==r.tourService.tourDetails?null:r.tourService.tourDetails.startCity),i.xp6(5),i.Oqu(null==r.tourService.tourDetails?null:r.tourService.tourDetails.endCity),i.xp6(4),i.Oqu(r.userName),i.xp6(12),i.s9C("value",r.mergeDateAndTime),i.xp6(5),i.hij("",null==r.tourService.tourDetails?null:r.tourService.tourDetails.duration," Stunden"),i.xp6(4),i.Q6J("ngModel",r.endTime),i.xp6(5),i.Oqu(null==r.tourService.tourDetails?null:r.tourService.tourDetails.description),i.xp6(6),i.Jzz("width: ",r.iconSize,""),i.xp6(3),i.Oqu(null==r.tourService.tourDetails?null:r.tourService.tourDetails.storage),i.xp6(2),i.Jzz("width: ",r.iconSize,""),i.xp6(3),i.hij(" ",null==r.tourService.tourDetails?null:r.tourService.tourDetails.seats,""),i.xp6(2),i.Jzz("width: ",r.iconSize,""),i.xp6(3),i.Oqu(null==r.tourService.tourDetails?null:r.tourService.tourDetails.price))},directives:[j,hm,fm],styles:[".title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}"]}),n})()},{path:"exprofile",component:(()=>{class n{constructor(e,r){this.userData=e,this.tourData=r,this.firstname="",this.lastname="",this.username="",this.age=-1,this.evaluation=-1,this.gender="",this.offerTours=[],this.noOfferTours=[],this.test()}test(){var e=this;return(0,re.Z)(function*(){if(e.user=yield e.userData.getUser("dObSN5uiq6RIPExAhIOMCgMVD8p2"),null!=e.user){e.firstname=e.user.firstname,e.lastname=e.user.lastname,e.username=e.user.username,e.gender=e.user.gender,e.age=e.calcAge(new Date(e.user.birthday)),console.log(e.age),e.evaluation=e.user.evaluation;const r=yield e.tourData.getAllToursFromUser(e.user.uid);e.offerTours=r.filter(a=>a.isOffer),e.noOfferTours=r.filter(a=>!a.isOffer),console.log(e.offerTours),console.log(e.noOfferTours)}})()}calcAge(e){return Math.floor(((new Date).getTime()-e.getTime())/31536e6)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(Ns),i.Y36(rp))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-stranger-profile"]],decls:40,vars:11,consts:[[1,"d-flex","justify-content-center","profile-header"],[1,"d-flex","justify-content-center","m-5","profile-info"],[1,"d-inline-flex"],[1,"profilePic"],[1,"d-inline-flex","flex-column"],[1,"h5","logoGreenDark"],[1,"logoGreenDark"],["class","logoGreenDark",4,"ngIf","ngIfElse"],["class","logoGreenDark"],["noEval",""],[1,"d-inline-flex","flex-column","m-5"],[1,"tours"],[1,""],[3,"isHorizontal","usedList"]],template:function(e,r){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.O4$(),i._UZ(3,"svg",3),i.qZA(),i.kcU(),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._uU(6),i.qZA(),i.TgZ(7,"div",6),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA(),i.qZA(),i.TgZ(12,"div",6),i._uU(13),i.qZA(),i.TgZ(14,"div",6),i._uU(15),i.qZA(),i.YNc(16,lU,2,1,"div",7),i.YNc(17,cU,1,0,"ng-template",8,9,i.W1O),i.qZA(),i.qZA(),i.TgZ(19,"div",10),i.TgZ(20,"div",5),i._uU(21,"Statistik"),i.qZA(),i.TgZ(22,"div",6),i._uU(23,"Ausgef\xfchrte Fahrten: 2"),i.qZA(),i.TgZ(24,"div",6),i._uU(25,"Mitgefahren: 3"),i.qZA(),i.TgZ(26,"div",6),i._uU(27,"Offene Fahrten: 4"),i.qZA(),i.TgZ(28,"div",6),i._uU(29,"Offene Anfragen: 5"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"div",11),i.TgZ(31,"div",12),i.TgZ(32,"h2",6),i._uU(33,"Seine Angebote"),i.qZA(),i.qZA(),i._UZ(34,"app-tour-list",13),i.qZA(),i.TgZ(35,"div",11),i.TgZ(36,"div",12),i.TgZ(37,"h2",6),i._uU(38,"Seine Anfragen"),i.qZA(),i.qZA(),i._UZ(39,"app-tour-list",13),i.qZA()),2&e){const a=i.MAs(18);i.xp6(6),i.Oqu(r.username),i.xp6(3),i.Oqu(r.firstname),i.xp6(2),i.Oqu(r.lastname),i.xp6(2),i.Oqu(r.age),i.xp6(2),i.Oqu(r.gender),i.xp6(1),i.Q6J("ngIf",-1!==r.evaluation)("ngIfElse",a),i.xp6(18),i.Q6J("isHorizontal",!0)("usedList",r.offerTours),i.xp6(5),i.Q6J("isHorizontal",!0)("usedList",r.noOfferTours)}},directives:[on,QM],styles:[".profilePic[_ngcontent-%COMP%]{background:transparent url(user_icon.eb5a77f0f60100d0c217.svg) no-repeat;width:10em}.profile-info[_ngcontent-%COMP%]{grid-gap:3rem;gap:3rem}.profile-header[_ngcontent-%COMP%]{grid-gap:10rem;gap:10rem;background-color:#f3fbed}.d-inline-flex[_ngcontent-%COMP%]{grid-gap:.3rem;gap:.3rem}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto}html[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}.tours[_ngcontent-%COMP%]{margin-left:20%}"]}),n})()}];let hU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[$0.forRoot(dU)],$0]}),n})();function fU(n,t){if(1&n){const e=i.EpF();i.TgZ(0,"p"),i.TgZ(1,"ngb-alert",2),i.NdJ("closed",function(){const l=i.CHM(e).$implicit;return i.oxw().close(l)}),i._uU(2),i.qZA(),i.qZA()}if(2&n){const e=t.$implicit;i.xp6(1),i.Q6J("type",e.type),i.xp6(1),i.hij("",e.message," ")}}let pU=(()=>{class n{constructor(e){this.alert=e}close(e){this.alert.alerts.splice(this.alert.alerts.indexOf(e),1)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(II))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-alerts"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","w-100","test"],[4,"ngFor","ngForOf"],[3,"type","closed"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.YNc(1,fU,3,2,"p",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",r.alert.alerts))},directives:[_t,wL],styles:[".test[_ngcontent-%COMP%]{z-index:+1;padding-top:20px;position:absolute}"]}),n})(),gU=(()=>{class n{constructor(e,r){this.router=e,this.authData=r}mobileToggle(e,r){"false"===e.getAttribute("data-visible")?(e.setAttribute("data-visible",!0),r.setAttribute("aria-expanded",!0)):(e.setAttribute("data-visible",!1),r.setAttribute("aria-expanded",!1))}navigateToUser(){this.router.navigate(["/profil"])}navigateToTours(){this.router.navigate(["/tours"])}navigateToMainPage(){this.router.navigate(["/"])}navigateToCreateTourPage(){this.router.navigate(["/createTours"])}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(or),i.Y36(Ns))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-navbar"]],decls:104,vars:0,consts:[[1,"navbarTest"],[1,"d-flex","justify-content-between","navbar-light","bg-light"],[1,"d-inline-flex","align-items-center"],[1,"logo",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 309 90"],["id","clip-path"],["id","Rectangle_1","data-name","Rectangle 1","width","309","height","90","transform","translate(0.445 0.379)","fill","#fff","stroke","#707070","stroke-width","1"],["id","Mask_Group_1","data-name","Mask Group 1","transform","translate(-0.445 -0.379)","clip-path","url(#clip-path)"],["id","semi_androidMyCargonaut","transform","translate(43.634 0.174)"],["id","Truck"],["id","Path_9","data-name","Path 9","d","M480.536,338.77l-.74,2.914h142.77","transform","translate(-402.617 -285.1)","fill","#005b52"],["id","Path_10","data-name","Path 10","d","M489.733,265.191l-.74,2.914,142.77,1.7","transform","translate(-410.335 -223.178)","fill","#005b52"],["id","Path_11","data-name","Path 11","d","M494.332,197.744l-.74,2.914,142.03,3.157","transform","translate(-414.194 -166.416)","fill","#005b52"],["id","Path_12","data-name","Path 12","d","M503.53,122.632l-.74,2.914L643.34,130.4","transform","translate(-421.912 -103.204)","fill","#005b52"],["id","Path_13","data-name","Path 13","d","M511.194,50.586l-.74,2.914,140.057,7.043","transform","translate(-428.343 -42.571)","fill","#005b52"],["id","Path_14","data-name","Path 14","d","M427.678,56.584h4.932L439.267,0h-4.685Z","transform","translate(-358.882)","fill","#005b52"],["id","Path_15","data-name","Path 15","d","M503.5,490.256l6.411-39.585-12.822.243s-9.863.486-16.028,4.614-7.4,8.257-7.4,8.257l21.946-.486-18.74-.729s1.906-4.291,7.891-6.557a43.213,43.213,0,0,1,12.082-2.671h9.37Z","transform","translate(-436.924 -442.657)","fill","#005b52"],["id","Path_16","data-name","Path 16","d","M303.949,542.645l-23.425.486a9.868,9.868,0,0,0-9.37,6.314,49.484,49.484,0,0,0-2.712,7.286l-6.411.243s-8.137-.243-13.069,8.743c-3.672,6.688-3.7,10.685-3.7,10.685l23.672.243s2.712-8.5,9.123-8.5c9.37,0,11.836,7.043,11.836,7.043s-.74-8.985-12.082-8.985c-7.644,0-9.617,7.528-9.617,7.528H250.441s1.726-8.985,5.425-11.414a14.839,14.839,0,0,1,7.4-2.428l31.069-.971,2.466-12.143-18.987.486a3.717,3.717,0,0,1,2.466-2.671,21.993,21.993,0,0,1,4.438-.486Z","transform","translate(-245.263 -520.06)","fill","#005b52"],["id","Cargonaut","transform","translate(70.49 82.13)","fill","#005b52","font-size","29","font-family","Helvetica-LightOblique, Helvetica","font-weight","300","font-style","oblique"],["x","0","y","0","letter-spacing","0.02em"],["y","0"],["y","0","letter-spacing","-0.02em"],["y","0","letter-spacing","-0.01em"],["id","My","transform","translate(15.379 81.291)","fill","#005b52","font-size","28","font-family","BrushScriptMT, Brush Script MT"],["x","0","y","0"],[1,"h5","logoGreenDark","pl-0","m-2",3,"click"],[1,"h5","logoGreenDark","m-2"],[1,"",2,"max-width","2.5em",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 28 28"],["id","ic_add_circle_outline_24px","d","M17.4,9H14.6v5.6H9v2.8h5.6V23h2.8V17.4H23V14.6H17.4ZM16,2A14,14,0,1,0,30,16,14.005,14.005,0,0,0,16,2Zm0,25.2A11.2,11.2,0,1,1,27.2,16,11.215,11.215,0,0,1,16,27.2Z","transform","translate(-2 -2)","fill","#208479"],[1,"",3,"click"],[1,"h5","logoGreenDark"],[1,"ml-3","mr-5",2,"max-width","3em",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 40 40"],["id","ic_account_circle_24px","d","M22,2A20,20,0,1,0,42,22,20.007,20.007,0,0,0,22,2Zm0,6a6,6,0,1,1-6,6A5.992,5.992,0,0,1,22,8Zm0,28.4a14.4,14.4,0,0,1-12-6.44c.06-3.98,8-6.16,12-6.16,3.98,0,11.94,2.18,12,6.16A14.4,14.4,0,0,1,22,36.4Z","transform","translate(-2 -2)","fill","#208479"],[1,"primary-header","flexi","bg-light"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 309 90",1,"logo"],["aria-controls","primary-navigation","aria-expanded","false",1,"mobile-nav-toggle",3,"click"],["mobile",""],[1,"sr-only"],["id","primary-navigation","data-visible","false",1,"primary-navigation","flexi"],["primaryNavigation",""],[1,"buttons",3,"click"],["href","",1,"buttons"]],template:function(e,r){if(1&e){const a=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"nav",1),i.TgZ(2,"div",2),i.TgZ(3,"button",3),i.NdJ("click",function(){return r.navigateToMainPage()}),i.O4$(),i.TgZ(4,"svg",4),i.TgZ(5,"defs"),i.TgZ(6,"clipPath",5),i._UZ(7,"rect",6),i.qZA(),i.qZA(),i.TgZ(8,"g",7),i.TgZ(9,"g",8),i.TgZ(10,"g",9),i._UZ(11,"path",10),i._UZ(12,"path",11),i._UZ(13,"path",12),i._UZ(14,"path",13),i._UZ(15,"path",14),i._UZ(16,"path",15),i._UZ(17,"path",16),i._UZ(18,"path",17),i.qZA(),i.TgZ(19,"text",18),i.TgZ(20,"tspan",19),i._uU(21,"C"),i.qZA(),i.TgZ(22,"tspan",20),i._uU(23,"a"),i.qZA(),i.TgZ(24,"tspan",21),i._uU(25,"r"),i.qZA(),i.TgZ(26,"tspan",20),i._uU(27,"go"),i.qZA(),i.TgZ(28,"tspan",22),i._uU(29,"n"),i.qZA(),i.TgZ(30,"tspan",20),i._uU(31,"aut"),i.qZA(),i.qZA(),i.TgZ(32,"text",23),i.TgZ(33,"tspan",24),i._uU(34,"My"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(35,"button",25),i.NdJ("click",function(){return r.navigateToTours()}),i._uU(36,"Mitfahrgelegenheit"),i.qZA(),i.TgZ(37,"button",26),i._uU(38,"Meine Angebote & Anfragen"),i.qZA(),i.qZA(),i.TgZ(39,"div",2),i.TgZ(40,"button",27),i.NdJ("click",function(){return r.navigateToCreateTourPage()}),i.O4$(),i.TgZ(41,"svg",28),i._UZ(42,"path",29),i.qZA(),i.qZA(),i.kcU(),i.TgZ(43,"button",30),i.NdJ("click",function(){return r.navigateToCreateTourPage()}),i.TgZ(44,"span",31),i._uU(45,"Angebote & Anfragen erstellen"),i.qZA(),i.qZA(),i.TgZ(46,"button",32),i.NdJ("click",function(){return r.navigateToUser()}),i.O4$(),i.TgZ(47,"svg",33),i._UZ(48,"path",34),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(49,"div",35),i.TgZ(50,"div"),i.O4$(),i.TgZ(51,"svg",36),i.TgZ(52,"defs"),i.TgZ(53,"clipPath",5),i._UZ(54,"rect",6),i.qZA(),i.qZA(),i.TgZ(55,"g",7),i.TgZ(56,"g",8),i.TgZ(57,"g",9),i._UZ(58,"path",10),i._UZ(59,"path",11),i._UZ(60,"path",12),i._UZ(61,"path",13),i._UZ(62,"path",14),i._UZ(63,"path",15),i._UZ(64,"path",16),i._UZ(65,"path",17),i.qZA(),i.TgZ(66,"text",18),i.TgZ(67,"tspan",19),i._uU(68,"C"),i.qZA(),i.TgZ(69,"tspan",20),i._uU(70,"a"),i.qZA(),i.TgZ(71,"tspan",21),i._uU(72,"r"),i.qZA(),i.TgZ(73,"tspan",20),i._uU(74,"go"),i.qZA(),i.TgZ(75,"tspan",22),i._uU(76,"n"),i.qZA(),i.TgZ(77,"tspan",20),i._uU(78,"aut"),i.qZA(),i.qZA(),i.TgZ(79,"text",23),i.TgZ(80,"tspan",24),i._uU(81,"My"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(82,"button",37,38),i.NdJ("click",function(){i.CHM(a);const h=i.MAs(88),m=i.MAs(83);return r.mobileToggle(h,m)}),i.TgZ(84,"span",39),i._uU(85,"Menu"),i.qZA(),i.qZA(),i.TgZ(86,"nav"),i.TgZ(87,"ul",40,41),i.TgZ(89,"li"),i.TgZ(90,"a",42),i.NdJ("click",function(){return r.navigateToMainPage()}),i._uU(91,"Startseite"),i.qZA(),i.qZA(),i.TgZ(92,"li"),i.TgZ(93,"a",42),i.NdJ("click",function(){return r.navigateToTours()}),i._uU(94,"Mitfahrgelegenheiten"),i.qZA(),i.qZA(),i.TgZ(95,"li"),i.TgZ(96,"a",43),i._uU(97,"Meine Angebote und Anfragen"),i.qZA(),i.qZA(),i.TgZ(98,"li"),i.TgZ(99,"a",42),i.NdJ("click",function(){return r.navigateToCreateTourPage()}),i._uU(100,"Angebote und Anfragen erstellen"),i.qZA(),i.qZA(),i.TgZ(101,"li"),i.TgZ(102,"a",42),i.NdJ("click",function(){return r.navigateToUser()}),i._uU(103,"Profil"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}},styles:[".h5[_ngcontent-%COMP%]{font-family:Arial,serif;font-style:italic}button[_ngcontent-%COMP%]{border:none;background-color:transparent}.buttons[_ngcontent-%COMP%]{color:#fff}.flexi[_ngcontent-%COMP%]{display:flex;grid-gap:3rem;gap:3rem}nav[_ngcontent-%COMP%]{z-index:1000;box-shadow:0 5px 10px #d3d3d3}.primary-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;display:none;z-index:1000;box-shadow:0 5px 10px #d3d3d3}.mobile-nav-toggle[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]{margin:2rem;width:15em}.primary-navigation[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;background:hsl(0,0%,0%,.75)}.primary-navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@supports ((-webkit-backdrop-filter: blur(1rem)) or (backdrop-filter: blur(1rem))){.primary-navigation[_ngcontent-%COMP%]{background:hsl(0,0%,100%,.6);-webkit-backdrop-filter:blur(1rem);backdrop-filter:blur(1rem)}.buttons[_ngcontent-%COMP%]{color:#005b51}}@media (max-width: 75em){.primary-header[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:hover{cursor:pointer}.navbarTest[_ngcontent-%COMP%]{display:none}.primary-navigation[_ngcontent-%COMP%]{z-index:1000;position:fixed;inset:0 0 0 45%;flex-direction:column;padding:min(30vh,8rem) 2rem;transform:translate(100%);transition:transform .35s ease-out}.primary-navigation[data-visible=true][_ngcontent-%COMP%]{transform:translate(0)}.mobile-nav-toggle[_ngcontent-%COMP%]{display:block;position:absolute;width:5vw;border:0;aspect-ratio:1;top:4em;right:1em;z-index:10000;background:transparent url(ic_menu_24px.7c9656cc6c3ea3170641.svg) no-repeat}.mobile-nav-toggle[aria-expanded=true][_ngcontent-%COMP%]{background-image:url(ic_close_24px.f4299185753109461b2a.svg)}}"]}),n})(),mU=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","bg-light"],[1,"container","p-0","m-0"],[1,"row","p-0","m-0"],[1,"col","m-2"]],template:function(e,r){1&e&&(i.TgZ(0,"footer",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._uU(4,"\xa9Cargonaut"),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:[".footer[_ngcontent-%COMP%]{height:40px;padding:0;margin:0;width:100%}"]}),n})(),_U=(()=>{class n{constructor(e,r){this.router=e,this.tour=r,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),"/carList"===this.router.url&&this.router.navigate(["/carList"]),"/tours"===this.router.url&&this.router.navigate(["/tours"]),"/createTours"===this.router.url&&this.router.navigate(["/createTours"]),"/tour-details"===this.router.url&&this.router.navigate(["/tour-details"]),"/exprofile"===this.router.url&&this.router.navigate(["/exprofile"])}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(or),i.Y36(rp))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"content"],[1,"footer"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-alerts"),i._UZ(3,"app-navbar"),i._UZ(4,"router-outlet"),i.qZA(),i._UZ(5,"app-footer",2),i.qZA())},directives:[pU,gU,Fh,mU],styles:[".wrapper[_ngcontent-%COMP%]{position:relative;min-height:100%;height:auto!important}.content[_ngcontent-%COMP%]{padding-bottom:50px}.footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]}),n})();class vU{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new bU(t,this.dueTime,this.scheduler))}}class bU extends Kn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function wU(n){n.debouncedNext()}const qO="firebasestorage.googleapis.com",$O="storageBucket";class Or extends Dt.ZR{constructor(t,e){super(XM(t),`Firebase Storage: ${e} (${XM(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}_codeEquals(t){return XM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function XM(n){return"storage/"+n}function ex(){return new Or("unknown","An unknown error occurred, please check the error payload for server response.")}function GO(){return new Or("canceled","User canceled the upload/download.")}function zO(){return new Or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f0(n){return new Or("invalid-argument",n)}function WO(){return new Or("app-deleted","The Firebase app was deleted.")}function YO(n){return new Or("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cw(n,t){return new Or("invalid-format","String does not match format '"+n+"': "+t)}function Tw(n){throw new Or("internal-error","Internal error: "+n)}class Ms{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Ms.makeFromUrl(t,e)}catch(a){return new Ms(t,"")}if(""===r.path)return r;throw function(n){return new Or("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+a+"(/(.*))?$","i");function T(ot){ot.path_=decodeURIComponent(ot.path)}const M=e.replace(/[.]/g,"\\."),St=[{regex:m,indices:{bucket:1,path:3},postModify:function(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${e===qO?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let ot=0;ot<St.length;ot++){const cn=St[ot],Gr=cn.regex.exec(t);if(Gr){let Vo=Gr[cn.indices.path];Vo||(Vo=""),r=new Ms(Gr[cn.indices.bucket],Vo),cn.postModify(r);break}}if(null==r)throw function(n){return new Or("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class PU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function NI(n){return"string"==typeof n||n instanceof String}function KO(n){return tx()&&n instanceof Blob}function tx(){return"undefined"!=typeof Blob}function nx(n,t,e,r){if(r<t)throw f0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw f0(`Invalid value for '${n}'. Expected ${e} or less.`)}function qd(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function JO(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var ip=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ip||(ip={})),ip))();class BU{constructor(t,e,r,a,l,h,m,b,T,N,M){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const e=(r,a)=>{const l=this.resolve_,h=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==m){const b=ex();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(a.canceled?this.appDelete_?WO():GO():new Or("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new MI(!1,null,!0)):this.backoffId_=function(n,t,e){let r=1,a=null,l=null,h=!1,m=0;function b(){return 2===m}let T=!1;function N(...Se){T||(T=!0,t.apply(null,Se))}function M(Se){a=setTimeout(()=>{a=null,n(H,b())},Se)}function V(){l&&clearTimeout(l)}function H(Se,...rt){if(T)return void V();if(Se)return V(),void N.call(null,Se,...rt);if(b()||h)return V(),void N.call(null,Se,...rt);let St;r<64&&(r*=2),1===m?(m=2,St=0):St=1e3*(r+Math.random()),M(St)}let se=!1;function ye(Se){se||(se=!0,V(),!T&&(null!==a?(Se||(m=2),clearTimeout(a),M(0)):Se||(m=1)))}return M(0),l=setTimeout(()=>{h=!0,ye(!0)},e),ye}((r,a)=>{if(a)return void r(!1,new MI(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===ip.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const N=l.getErrorCode()===ip.ABORT;return void r(!1,new MI(!1,null,N))}const T=-1!==this.successCodes_.indexOf(b);r(!0,new MI(T,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||l}}class MI{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function WU(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(tx())return new Blob(n);throw new Or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rx{constructor(t,e){this.data=t,this.contentType=e||null}}function ix(n,t){switch(n){case ca.RAW:return new rx(QO(t));case ca.BASE64:case ca.BASE64URL:return new rx(XO(n,t));case ca.DATA_URL:return new rx(function(n){const t=new eP(n);return t.base64?XO(ca.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Cw(ca.DATA_URL,"Malformed data URL.")}return QO(t)}(t.rest)}(t),function(n){return new eP(n).contentType}(t))}throw ex()}function QO(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function XO(n,t){switch(n){case ca.BASE64:{const a=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(a||l)throw Cw(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ca.BASE64URL:{const a=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(a||l)throw Cw(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(a){throw Cw(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}class eP{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Cw(ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}class Jl{constructor(t,e){let r=0,a="";KO(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(KO(this.data_)){const a=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new Jl(a)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Jl(r,!0)}}static getBlob(...t){if(tx()){const e=t.map(r=>r instanceof Jl?r.data_:r);return new Jl(WU.apply(null,e))}{const e=t.map(h=>NI(h)?ix(ca.RAW,h).data:h.data_);let r=0;e.forEach(h=>{r+=h.byteLength});const a=new Uint8Array(r);let l=0;return e.forEach(h=>{for(let m=0;m<h.length;m++)a[l++]=h[m]}),new Jl(a,!0)}}uploadData(){return this.data_}}function sx(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function tP(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function r6(n,t){return t}class co{constructor(t,e,r,a){this.server=t,this.local=e||t,this.writable=!!r,this.xform=a||r6}}let xI=null;function Dw(){if(xI)return xI;const n=[];n.push(new co("bucket")),n.push(new co("generation")),n.push(new co("metageneration")),n.push(new co("name","fullPath",!0));const e=new co("name");e.xform=function(l,h){return function(n){return!NI(n)||n.length<2?n:tP(n)}(h)},n.push(e);const a=new co("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},n.push(a),n.push(new co("timeCreated")),n.push(new co("updated")),n.push(new co("md5Hash",null,!0)),n.push(new co("cacheControl",null,!0)),n.push(new co("contentDisposition",null,!0)),n.push(new co("contentEncoding",null,!0)),n.push(new co("contentLanguage",null,!0)),n.push(new co("contentType",null,!0)),n.push(new co("metadata","customMetadata",!0)),xI=n,xI}function nP(n,t,e){const r=sx(t);return null===r?null:function(n,t,e){const r={type:"file"},a=e.length;for(let l=0;l<a;l++){const h=e[l];r[h.local]=h.xform(r,t[h.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const l=new Ms(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(r,n),r}(n,r,e)}function ox(n,t){const e={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const rP="prefixes";class Ql{constructor(t,e,r,a){this.url=t,this.method=e,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(n){if(!n)throw ex()}function kI(n,t){return function(r,a){const l=nP(n,a,t);return Xl(null!==l),l}}function p0(n){return function(e,r){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new Or("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new Or("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new Or("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function Ew(n){const t=p0(n);return function(r,a){let l=t(r,a);return 404===r.getStatus()&&(l=function(n){return new Or("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=a.serverResponse,l}}function sP(n,t,e){const a=qd(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(a,"GET",kI(n,e),h);return m.errorHandler=Ew(t),m}function h6(n,t,e,r,a){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),r&&(l.pageToken=r),a&&(l.maxResults=a);const m=qd(t.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new Ql(m,"GET",function(n,t){return function(r,a){const l=function(n,t,e){const r=sx(e);return null===r?null:function(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[rP])for(const a of e[rP]){const l=a.replace(/\/$/,""),h=n._makeStorageReference(new Ms(t,l));r.prefixes.push(h)}if(e.items)for(const a of e.items){const l=n._makeStorageReference(new Ms(t,a.name));r.items.push(l)}return r}(n,t,r)}(n,t,a);return Xl(null!==l),l}}(n,t.bucket),T);return N.urlParams=l,N.errorHandler=p0(t),N}function aP(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class RI{constructor(t,e,r,a){this.current=t,this.total=e,this.finalized=!!r,this.metadata=a||null}}function ax(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){Xl(!1)}return Xl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const b6={STATE_CHANGED:"state_changed"},ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ux(n){switch(n){case"running":case"pausing":case"canceling":return ho.RUNNING;case"paused":return ho.PAUSED;case"success":return ho.SUCCESS;case"canceled":return ho.CANCELED;case"error":default:return ho.ERROR}}class w6{constructor(t,e,r){if(function(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function g0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class T6 extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ip.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ip.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ip.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,a){if(this.sent_)throw Tw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Tw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function zu(){return new T6}class dP{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=Dw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),h=aP(t,r,a),m={name:h.fullPath},b=qd(l,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=ox(h,e),se=new Ql(b,"POST",function(ye){let Se;ax(ye);try{Se=ye.getResponseHeader("X-Goog-Upload-URL")}catch(rt){Xl(!1)}return Xl(NI(Se)),Se},n.maxUploadRetryTime);return se.urlParams=m,se.headers=N,se.body=M,se.errorHandler=p0(t),se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,zu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const a=function(n,t,e,r){const b=new Ql(e,"POST",function(T){const N=ax(T,["active","final"]);let M=null;try{M=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){Xl(!1)}M||Xl(!1);const V=Number(M);return Xl(!isNaN(V)),new RI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=p0(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,zu,e,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new RI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(n,t,e,r,a,l,h,m){const b=new RI(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new Or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=b.total-b.current;let N=T;a>0&&(N=Math.min(N,a));const M=b.current,se={"X-Goog-Upload-Command":N===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ye=r.slice(M,M+N);if(null===ye)throw zO();const St=new Ql(e,"POST",function(ot,cn){const Gr=ax(ot,["active","final"]),Wu=b.current+N,Vo=r.size();let dx;return dx="final"===Gr?kI(t,l)(ot,cn):null,new RI(Wu,Vo,"final"===Gr,dx)},t.maxUploadRetryTime);return St.headers=se,St.body=ye.uploadData(),St.progressCallback=m||null,St.errorHandler=p0(n),St}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,zu,a,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=sP(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,zu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let St="";for(let ot=0;ot<2;ot++)St+=Math.random().toString().slice(2);return St}();h["Content-Type"]="multipart/related; boundary="+b;const T=aP(t,r,a),N=ox(T,e),H=Jl.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+b+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===H)throw zO();const se={name:T.fullPath},ye=qd(l,n.host,n._protocol),rt=n.maxUploadRetryTime,Je=new Ql(ye,"POST",kI(n,e),rt);return Je.urlParams=se,Je.headers=h,Je.body=H.uploadData(),Je.errorHandler=p0(t),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,zu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=GO(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ux(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,a){const l=new w6(e||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ux(this._state)){case ho.SUCCESS:g0(this._resolve.bind(null,this.snapshot))();break;case ho.CANCELED:case ho.ERROR:g0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ux(this._state)){case ho.RUNNING:case ho.PAUSED:t.next&&g0(t.next.bind(t,this.snapshot))();break;case ho.SUCCESS:t.complete&&g0(t.complete.bind(t))();break;case ho.CANCELED:case ho.ERROR:t.error&&g0(t.error.bind(t,this._error))();break;default:t.error&&g0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class vm{constructor(t,e){this._service=t,this._location=e instanceof Ms?e:Ms.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new vm(t,e)}get root(){const t=new Ms(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tP(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ms(this._location.bucket,t);return new vm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw YO(t)}}function fP(n,t,e){return lx.apply(this,arguments)}function lx(){return(lx=(0,re.Z)(function*(n,t,e){const a=yield pP(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield fP(n,t,a.nextPageToken))})).apply(this,arguments)}function pP(n,t){null!=t&&"number"==typeof t.maxResults&&nx("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=h6(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,zu)}function P6(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const a=qd(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(a,"GET",function(n,t){return function(r,a){const l=nP(n,a,t);return Xl(null!==l),function(n,t,e,r){const a=sx(t);if(null===a||!NI(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(T=>{const M=n.fullPath;return qd("/b/"+h(n.bucket)+"/o/"+h(M),e,r)+JO({alt:"media",token:T})})[0]}(l,a,n.host,n._protocol)}}(n,e),h);return m.errorHandler=Ew(t),m}(n.storage,n._location,Dw());return n.storage.makeRequestWithTokens(t,zu).then(e=>{if(null===e)throw new Or("no-download-url","The given file does not have any download URLs.");return e})}function gP(n,t){const e=function(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Ms(n._location.bucket,e);return new vm(n.storage,r)}function mP(n,t){if(n instanceof cx){const e=n;if(null==e._bucket)throw new Or("no-default-bucket","No default bucket found. Did you set the '"+$O+"' property when initializing the app?");const r=new vm(e,e._bucket);return null!=t?mP(r,t):r}return void 0!==t?gP(n,t):n}function U6(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof cx)return function(n,t){return new vm(n,t)}(n,t);throw f0("To use ref(service, url), the first argument must be a Storage instance.")}return mP(n,t)}function _P(n,t){const e=null==t?void 0:t[$O];return null==e?null:Ms.makeFromBucketSpec(e,n)}class cx{constructor(t,e,r,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=qO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Ms.makeFromBucketSpec(a,this._host):_P(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ms.makeFromBucketSpec(this._url,t):_P(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){nx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){nx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,re.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,re.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vm(this,t)}_makeRequest(t,e,r,a){if(this._deleted)return new PU(WO());{const l=function(n,t,e,r,a,l){const h=JO(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,r),new BU(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,r,a,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var r=this;return(0,re.Z)(function*(){const[a,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,a,l).getPromise()})()}}const yP="@firebase/storage";function wP(n,t){return U6(n=(0,Dt.m9)(n),t)}(0,Ks._registerComponent)(new jc.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new cx(e,r,a,t,Ks.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ks.registerVersion)(yP,"0.9.0",""),(0,Ks.registerVersion)(yP,"0.9.0","esm2017");class OI{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class CP{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new OI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new OI(r,this,this._ref))},e)}on(t,e,r,a){let l;return e&&(l="function"==typeof e?h=>e(new OI(h,this,this._ref)):{next:e.next?h=>e.next(new OI(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,r||void 0,a||void 0)}}class TP{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new $d(t,this._service))}get items(){return this._delegate.items.map(t=>new $d(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $d{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return gP(n,t)}(this._delegate,t);return new $d(e,this.storage)}get root(){return new $d(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new $d(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new CP(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new dP(n,new Jl(t),e)}(n=(0,Dt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ca.RAW,r){this._throwIfRoot("putString");const a=ix(e,t),l=Object.assign({},r);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new CP(new dP(this._delegate,new Jl(a.data,!0),l),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return fP(n,t).then(()=>t)}(n=(0,Dt.m9)(n))}(this._delegate).then(t=>new TP(t,this.storage))}list(t){return function(n,t){return pP(n=(0,Dt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new TP(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=sP(n.storage,n._location,Dw());return n.storage.makeRequestWithTokens(t,zu)}(n=(0,Dt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,r){const l=qd(t.fullServerUrl(),n.host,n._protocol),m=ox(e,r),T=n.maxOperationRetryTime,N=new Ql(l,"PATCH",kI(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=Ew(t),N}(n.storage,n._location,t,Dw());return n.storage.makeRequestWithTokens(e,zu)}(n=(0,Dt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return P6(n=(0,Dt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const r=qd(t.fullServerUrl(),n.host,n._protocol),m=new Ql(r,"DELETE",function(b,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Ew(t),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,zu)}(n=(0,Dt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw YO(t)}}class DP{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(EP(t))throw f0("ref() expected a child path but got a URL, use refFromURL instead.");return new $d(wP(this._delegate,t),this)}refFromURL(t){if(!EP(t))throw f0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ms.makeFromUrl(t,this._delegate.host)}catch(e){throw f0("refFromUrl() expected a valid full URL but got an invalid one.")}return new $d(wP(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function(n,t,e,r={}){!function(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Dt.Sg)(a,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function EP(n){return/^[A-Za-z]+:\/\//.test(n)}function tZ(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new DP(e,r)}function IP(n){const t=function(n){return new kt.y(t=>{const e=h=>t.next(h);e(n.snapshot);const l=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){l()}}).pipe(function(n,t=e_.P){return e=>e.lift(new vU(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,at.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function PI(n){return{getDownloadURL:()=>(0,Ge.of)(void 0).pipe(er.fc,ir(()=>n.getDownloadURL()),er.iC),getMetadata:()=>(0,Ge.of)(void 0).pipe(er.fc,ir(()=>n.getMetadata()),er.iC),delete:()=>(0,gn.D)(n.delete()),child:t=>PI(n.child(t)),updateMetadata:t=>(0,gn.D)(n.updateMetadata(t)),put:(t,e)=>IP(n.put(t,e)),putString:(t,e,r)=>IP(n.putString(t,e,r)),list:t=>(0,gn.D)(n.list(t)),listAll:()=>(0,gn.D)(n.listAll())}}!function(n){const t={TaskState:ho,TaskEvent:b6,StringFormat:ca,Storage:DP,Reference:$d};n.INTERNAL.registerComponent(new jc.wA("storage-compat",tZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(Va.Z);const iZ=new i.OlP("angularfire2.storageBucket"),sZ=new i.OlP("angularfire2.storage.maxUploadRetryTime"),oZ=new i.OlP("angularfire2.storage.maxOperationRetryTime"),aZ=new i.OlP("angularfire2.storage.use-emulator");let uZ=(()=>{class n{constructor(e,r,a,l,h,m,b,T,N,M){const V=(0,Xi.on)(e,h,r);this.storage=(0,Xi.cc)(`${V.name}.storage.${a}`,"AngularFireStorage",V.name,()=>{const H=h.runOutsideAngular(()=>V.storage(a||void 0)),se=N;return se&&H.useEmulator(...se),b&&H.setMaxUploadRetryTime(b),T&&H.setMaxOperationRetryTime(T),H},[b,T])}ref(e){return PI(this.storage.ref(e))}refFromURL(e){return PI(this.storage.refFromURL(e))}upload(e,r,a){return PI(this.storage.ref(e)).put(r,a)}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(Xi.Dh),i.LFG(Xi.xv,8),i.LFG(iZ,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(er.HU),i.LFG(sZ,8),i.LFG(oZ,8),i.LFG(aZ,8),i.LFG(K1,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),cZ=(()=>{class n{constructor(){Xm.Z.registerVersion("angularfire",er.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[uZ],imports:[lZ]}),n})();const AP_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[_U]}),n.\u0275inj=i.cJS({providers:[],imports:[[fp,hU,tV,Xi.hO.initializeApp(AP_firebaseConfig),WE,qy,cZ,SR,p2]]}),n})();(0,i.G48)(),zo().bootstrapModule(dZ).catch(n=>console.error(n))},3394:(We,be,F)=>{"use strict";F.d(be,{Z:()=>Me});var i=F(3854),B=F(3910),O=F(8026),ce=F(5422);class ue{constructor(ge,ie){this._delegate=ge,this.firebase=ie,(0,O._addComponent)(ge,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,ie=O._DEFAULT_ENTRY_NAME){var ae;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(ge);return!Te.isInitialized()&&"EXPLICIT"===(null===(ae=Te.getComponent())||void 0===ae?void 0:ae.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ie})}_removeServiceInstance(ge,ie=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(ie)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const De=function(De){const ge={},ie={__esModule:!0,initializeApp:function(yt,In={}){const Tt=O.initializeApp(yt,In);if((0,i.r3)(ge,Tt.name))return ge[Tt.name];const pt=new De(Tt,ie);return ge[Tt.name]=pt,pt},app:Te,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const In=yt.name,Tt=In.replace("-compat","");if(O._registerComponent(yt)&&"PUBLIC"===yt.type){const pt=(Rt=Te())=>{if("function"!=typeof Rt[Tt])throw de.create("invalid-app-argument",{appName:In});return Rt[Tt]()};void 0!==yt.serviceProps&&(0,i.ZB)(pt,yt.serviceProps),ie[Tt]=pt,De.prototype[Tt]=function(...Rt){return this._getService.bind(this,In).apply(this,yt.multipleInstances?Rt:[])}}return"PUBLIC"===yt.type?ie[Tt]:null},removeApp:function(yt){delete ge[yt]},useAsService:function(yt,In){return"serverAuth"===In?null:In},modularAPIs:O}};function Te(yt){if(!(0,i.r3)(ge,yt=yt||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:yt});return ge[yt]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function(){return Object.keys(ge).map(yt=>ge[yt])}}),Te.App=De,ie}(ue);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(ie){(0,i.ZB)(De,ie)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),De}(),Z=new ce.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(We,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>ji,_addComponent:()=>ds,_addOrOverwriteComponent:()=>xs,_apps:()=>Wt,_clearComponents:()=>_n,_components:()=>Zt,_getProvider:()=>sn,_registerComponent:()=>Ci,_removeServiceInstance:()=>ks,deleteApp:()=>$n,getApp:()=>Re,getApps:()=>wn,initializeApp:()=>Hi,onLog:()=>jt,registerVersion:()=>Be,setLogLevel:()=>mr});var i=F(8239),B=F(3910),O=F(5422),ce=F(3854);class ue{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function(it){const et=it.getComponent();return"VERSION"===(null==et?void 0:et.type)}(Mt)){const Ot=Mt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Mt=>Mt).join(" ")}}const de="@firebase/app",Q="0.7.10",z=new O.Yd("@firebase/app"),ji="[DEFAULT]",fo={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,Zt=new Map;function ds(it,et){try{it.container.addComponent(et)}catch(Mt){z.debug(`Component ${et.name} failed to register with FirebaseApp ${it.name}`,Mt)}}function xs(it,et){it.container.addOrOverwriteComponent(et)}function Ci(it){const et=it.name;if(Zt.has(et))return z.debug(`There were multiple attempts to register component ${et}.`),!1;Zt.set(et,it);for(const Mt of Wt.values())ds(Mt,it);return!0}function sn(it,et){return it.container.getProvider(et)}function ks(it,et,Mt=ji){sn(it,et).clearInstance(Mt)}function _n(){Zt.clear()}const Qt=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Rs{constructor(et,Mt,Ot){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ti="9.6.0";function Hi(it,et={}){"object"!=typeof et&&(et={name:et});const Mt=Object.assign({name:ji,automaticDataCollectionEnabled:!1},et),Ot=Mt.name;if("string"!=typeof Ot||!Ot)throw Qt.create("bad-app-name",{appName:String(Ot)});const zn=Wt.get(Ot);if(zn){if((0,ce.vZ)(it,zn.options)&&(0,ce.vZ)(Mt,zn.config))return zn;throw Qt.create("duplicate-app",{appName:Ot})}const en=new B.H0(Ot);for(const Xe of Zt.values())en.addComponent(Xe);const Pe=new Rs(it,Mt,en);return Wt.set(Ot,Pe),Pe}function Re(it=ji){const et=Wt.get(it);if(!et)throw Qt.create("no-app",{appName:it});return et}function wn(){return Array.from(Wt.values())}function $n(it){return Di.apply(this,arguments)}function Di(){return(Di=(0,i.Z)(function*(it){const et=it.name;Wt.has(et)&&(Wt.delete(et),yield Promise.all(it.container.getProviders().map(Mt=>Mt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Be(it,et,Mt){var Ot;let zn=null!==(Ot=fo[it])&&void 0!==Ot?Ot:it;Mt&&(zn+=`-${Mt}`);const en=zn.match(/\s|\//),Pe=et.match(/\s|\//);if(en||Pe){const Xe=[`Unable to register library "${zn}" with version "${et}":`];return en&&Xe.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),en&&Pe&&Xe.push("and"),Pe&&Xe.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void z.warn(Xe.join(" "))}Ci(new B.wA(`${zn}-version`,()=>({library:zn,version:et}),"VERSION"))}function jt(it,et){if(null!==it&&"function"!=typeof it)throw Qt.create("invalid-log-argument");(0,O.Am)(it,et)}function mr(it){(0,O.Ub)(it)}Ci(new B.wA("platform-logger",et=>new ue(et),"PRIVATE")),Be(de,Q,""),Be(de,Q,"esm2017"),Be("fire-js","")},3910:(We,be,F)=>{"use strict";F.d(be,{wA:()=>O,H0:()=>Q});var i=F(8239),B=F(3854);class O{constructor(L,Z,q){this.name=L,this.instanceFactory=Z,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ce="[DEFAULT]";class ue{constructor(L,Z){this.name=L,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const Z=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(Z)){const q=new B.BH;if(this.instancesDeferred.set(Z,q),this.isInitialized(Z)||this.shouldAutoInitialize())try{const he=this.getOrInitializeService({instanceIdentifier:Z});he&&q.resolve(he)}catch(he){}}return this.instancesDeferred.get(Z).promise}getImmediate(L){var Z;const q=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),he=null!==(Z=null==L?void 0:L.optional)&&void 0!==Z&&Z;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(he)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Oe){if(he)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(Z){}for(const[Z,q]of this.instancesDeferred.entries()){const he=this.normalizeInstanceIdentifier(Z);try{const Oe=this.getOrInitializeService({instanceIdentifier:he});q.resolve(Oe)}catch(Oe){}}}}clearInstance(L=ce){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,i.Z)(function*(){const Z=Array.from(L.instances.values());yield Promise.all([...Z.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...Z.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ce){return this.instances.has(L)}getOptions(L=ce){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:Z={}}=L,q=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const he=this.getOrInitializeService({instanceIdentifier:q,options:Z});for(const[Oe,Me]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Oe)&&Me.resolve(he);return he}onInit(L,Z){var q;const he=this.normalizeInstanceIdentifier(Z),Oe=null!==(q=this.onInitCallbacks.get(he))&&void 0!==q?q:new Set;Oe.add(L),this.onInitCallbacks.set(he,Oe);const Me=this.instances.get(he);return Me&&L(Me,he),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,Z){const q=this.onInitCallbacks.get(Z);if(q)for(const he of q)try{he(L,Z)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:Z={}}){let q=this.instances.get(L);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(z=L,z===ce?void 0:z),options:Z}),this.instances.set(L,q),this.instancesOptions.set(L,Z),this.invokeOnInitCallbacks(q,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,q)}catch(he){}var z;return q||null}normalizeInstanceIdentifier(L=ce){return this.component?this.component.multipleInstances?L:ce:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const Z=this.getProvider(L.name);if(Z.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);Z.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const Z=new ue(L,this);return this.providers.set(L,Z),Z}getProviders(){return Array.from(this.providers.values())}}},5422:(We,be,F)=>{"use strict";F.d(be,{in:()=>B,Yd:()=>de,Ub:()=>Q,Am:()=>z});const i=[];var B=(()=>{return(L=B||(B={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",B;var L})();const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ce=B.INFO,ue={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ee=(L,Z,...q)=>{if(Z<L.logLevel)return;const he=(new Date).toISOString(),Oe=ue[Z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Oe](`[${he}]  ${L.name}:`,...q)};class de{constructor(Z){this.name=Z,this._logLevel=ce,this._logHandler=ee,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in B))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...Z),this._logHandler(this,B.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...Z),this._logHandler(this,B.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...Z),this._logHandler(this,B.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...Z),this._logHandler(this,B.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...Z),this._logHandler(this,B.ERROR,...Z)}}function Q(L){i.forEach(Z=>{Z.setLogLevel(L)})}function z(L,Z){for(const q of i){let he=null;Z&&Z.level&&(he=O[Z.level]),q.userLogHandler=null===L?null:(Oe,Me,...De)=>{const ge=De.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(ae){return null}}).filter(ie=>ie).join(" ");Me>=(null!=he?he:Oe.logLevel)&&L({level:B[Me].toLowerCase(),message:ge,args:De,type:Oe.name})}}}},8239:(We,be,F)=>{"use strict";function i(O,ce,ue,ee,de,Q,z){try{var L=O[Q](z),Z=L.value}catch(q){return void ue(q)}L.done?ce(Z):Promise.resolve(Z).then(ee,de)}function B(O){return function(){var ce=this,ue=arguments;return new Promise(function(ee,de){var Q=O.apply(ce,ue);function z(Z){i(Q,ee,de,z,L,"next",Z)}function L(Z){i(Q,ee,de,z,L,"throw",Z)}z(void 0)})}}F.d(be,{Z:()=>B})}},We=>{We(We.s=4632)}]);