(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:We=>{function we(F){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+F+"'");throw a.code="MODULE_NOT_FOUND",a})}we.keys=()=>[],we.resolve=we,we.id=8255,We.exports=we},7716:(We,we,F)=>{"use strict";F.d(we,{deG:()=>pp,tb:()=>tD,AFp:()=>QT,ip1:()=>Aw,CZH:()=>xd,hGG:()=>AN,z2F:()=>Od,sBO:()=>Ab,Sil:()=>ju,_Vd:()=>gd,EJc:()=>rN,SBq:()=>za,qLn:()=>kh,vpe:()=>sa,gxx:()=>Zc,tBr:()=>bu,XFs:()=>je,OlP:()=>On,zs3:()=>En,ZZ4:()=>Ou,aQg:()=>Fg,soG:()=>My,YKP:()=>Ug,v3s:()=>pD,h0i:()=>ia,PXZ:()=>pR,R0b:()=>us,FiY:()=>Ma,Lbi:()=>eD,g9A:()=>XT,Qsj:()=>rS,FYo:()=>_d,JOm:()=>Fa,Tiy:()=>Og,q3G:()=>vn,tp0:()=>Ur,EAV:()=>Pw,Rgc:()=>vd,dDg:()=>aD,DyG:()=>Aa,q4F:()=>q_,GfV:()=>HE,s_b:()=>Bg,ifc:()=>Pe,eFA:()=>yN,G48:()=>fN,Gpc:()=>B,X6Q:()=>Gf,_c5:()=>Ly,VLi:()=>hN,c2e:()=>nD,zSh:()=>qc,wAp:()=>ht,vHH:()=>Ne,EiD:()=>Zt,mCW:()=>Cl,qzn:()=>Oa,JVY:()=>xm,pB0:()=>vl,eBb:()=>Tp,L6k:()=>Ep,LAX:()=>Jo,cg1:()=>k_,Tjo:()=>Lw,kL8:()=>Q0,yhl:()=>Mm,dqk:()=>Yt,sIi:()=>Qs,CqO:()=>v_,QGY:()=>id,F4k:()=>sd,RDi:()=>op,AaK:()=>Q,z3N:()=>Ko,qOj:()=>Kc,TTD:()=>_r,_Bn:()=>jl,xp6:()=>K1,uIk:()=>Kh,Tol:()=>$0,Gre:()=>z0,DjV:()=>Su,ekj:()=>mg,Suo:()=>Nr,Xpm:()=>nr,lG2:()=>It,Yz7:()=>sn,cJS:()=>mn,oAB:()=>Ve,Yjl:()=>Rn,Y36:()=>lr,_UZ:()=>af,BQk:()=>Je,ynx:()=>y_,qZA:()=>m_,TgZ:()=>ug,EpF:()=>na,n5z:()=>ch,Ikx:()=>J0,SDv:()=>_b,QtT:()=>FE,pQV:()=>Mg,LFG:()=>Cn,$8M:()=>Tc,NdJ:()=>lg,CRH:()=>bw,oxw:()=>V0,ALo:()=>ST,lcZ:()=>NT,Hsn:()=>yi,F$t:()=>lf,Q6J:()=>Ha,s9C:()=>I_,MGl:()=>Ln,VKq:()=>py,WLB:()=>fw,kEZ:()=>gy,iGM:()=>VS,MAs:()=>$C,CHM:()=>su,LSH:()=>Ih,kYT:()=>dt,Jzz:()=>pE,Udp:()=>gg,YNc:()=>N0,W1O:()=>VT,_uU:()=>q0,Oqu:()=>S_,hij:()=>Ll,Gf:()=>US});var a=F(9765),j=F(5319),O=F(7574),le=F(6682),ae=F(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function z(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=ee({__forward_ref__:ee});function B(i){return i.__forward_ref__=B,i.toString=function(){return Q(this())},i}function G(i){return he(i)?i():i}function he(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===B}class Ne extends Error{constructor(s,u){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,u)),this.code=s}}function ne(i){return"string"==typeof i?i:null==i?"":String(i)}function se(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ne(i)}function Mt(i,s){const u=s?` in ${s}`:"";throw new Ne("201",`No provider for ${se(i)} found${u}`)}function jt(i,s,u,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${u} ${c} ${s} <=Actual]`))}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xt(i){return Qt(i,ke)||Qt(i,Zn)}function Qt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Hi(i){return i&&(i.hasOwnProperty(bn)||i.hasOwnProperty(Ti))?i[bn]:null}const ke=ee({\u0275prov:ee}),bn=ee({\u0275inj:ee}),Zn=ee({ngInjectableDef:ee}),Ti=ee({ngInjectorDef:ee});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let Ht;function qn(i){const s=Ht;return Ht=i,s}function st(i,s,u){const c=Xt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&je.Optional?null:void 0!==s?s:void Mt(Q(i),"Injector")}function xt(i){return{toString:i}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const et="undefined"!=typeof globalThis&&globalThis,ca="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=et||"undefined"!=typeof global&&global||ca||cn,q={},Z=[],W=ee({\u0275cmp:ee}),be=ee({\u0275dir:ee}),ue=ee({\u0275pipe:ee}),Ze=ee({\u0275mod:ee}),lt=ee({\u0275loc:ee}),Gt=ee({\u0275fac:ee}),An=ee({__NG_ELEMENT_ID__:ee});let Wn=0;function nr(i){return xt(()=>{const u={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Z,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pe.Emulated,id:"c",styles:i.styles||Z,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,g=i.pipes;return c.id+=Wn++,c.inputs=Vt(i.inputs,u),c.outputs=Vt(i.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(K):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y):null,c})}function K(i){return hn(i)||function(i){return i[be]||null}(i)}function Y(i){return function(i){return i[ue]||null}(i)}const Ce={};function Ve(i){return xt(()=>{const s={type:i.type,bootstrap:i.bootstrap||Z,declarations:i.declarations||Z,imports:i.imports||Z,exports:i.exports||Z,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ce[i.id]=i.type),s})}function dt(i,s){return xt(()=>{const u=Nn(i,!0);u.declarations=s.declarations||Z,u.imports=s.imports||Z,u.exports=s.exports||Z})}function Vt(i,s){if(null==i)return q;const u={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,s&&(s[d]=f)}return u}const It=nr;function Rn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[W]||null}function Nn(i,s){const u=i[Ze]||null;if(!u&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return u}function Ls(i){return Array.isArray(i)&&"object"==typeof i[1]}function Lr(i){return Array.isArray(i)&&!0===i[1]}function tc(i){return 0!=(8&i.flags)}function Wu(i){return 2==(2&i.flags)}function Vr(i){return 1==(1&i.flags)}function hs(i){return null!==i.template}function Er(i){return 0!=(512&i[2])}function Ii(i,s){return i.hasOwnProperty(Gt)?i[Gt]:null}class Vs{constructor(s,u,c){this.previousValue=s,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function _r(){return oc}function oc(i){return i.type.prototype.ngOnChanges&&(i.setInput=pa),Us}function Us(){const i=Jd(this),s=null==i?void 0:i.current;if(s){const u=i.previous;if(u===q)i.previous=s;else for(let c in s)u[c]=s[c];i.current=null,this.ngOnChanges(s)}}function pa(i,s,u,c){const d=Jd(i)||function(i,s){return i[Ai]=s}(i,{previous:q,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[u],w=g[y];f[y]=new Vs(w&&w.currentValue,s,g===q),i[c]=s}_r.ngInherit=!0;const Ai="__ngSimpleChanges__";function Jd(i){return i[Ai]||null}let fs;function op(i){fs=i}function _o(){return void 0!==fs?fs:"undefined"!=typeof document?document:void 0}function kn(i){return!!i.listen}const Tr={createRenderer:(i,s)=>_o()};function on(i){for(;Array.isArray(i);)i=i[0];return i}function _a(i,s){return on(s[i])}function Si(i,s){return on(s[i.index])}function lc(i,s){return i.data[s]}function Zi(i,s){return i[s]}function li(i,s){const u=s[i];return Ls(u)?u:u[0]}function Xu(i){return 4==(4&i[2])}function ru(i){return 128==(128&i[2])}function ps(i,s){return null==s?null:i[s]}function el(i){i[18]=0}function Uo(i,s){i[5]+=s;let u=i,c=i[3];for(;null!==c&&(1===s&&1===u[5]||-1===s&&0===u[5]);)c[5]+=s,u=c,c=c[3]}const ct={lFrame:lp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return ct.bindingsEnabled}function De(){return ct.lFrame.lView}function Rt(){return ct.lFrame.tView}function su(i){return ct.lFrame.contextLView=i,i[8]}function wn(){let i=ou();for(;null!==i&&64===i.type;)i=i.parent;return i}function ou(){return ct.lFrame.currentTNode}function qi(){const i=ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Yr(i,s){const u=ct.lFrame;u.currentTNode=i,u.isParent=s}function au(){return ct.lFrame.isParent}function ya(){ct.lFrame.isParent=!1}function rl(){return ct.isInCheckNoChangesMode}function vo(i){ct.isInCheckNoChangesMode=i}function or(){const i=ct.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Kr(){return ct.lFrame.bindingIndex}function ms(){return ct.lFrame.bindingIndex++}function Dr(i){const s=ct.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function ba(i){ct.lFrame.inI18n=i}function hc(i,s){const u=ct.lFrame;u.bindingIndex=u.bindingRootIndex=i,fc(s)}function fc(i){ct.lFrame.currentDirectiveIndex=i}function pc(){return ct.lFrame.currentQueryIndex}function jo(i){ct.lFrame.currentQueryIndex=i}function il(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function lu(i,s,u){if(u&je.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||u&je.Host||(d=il(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=ct.lFrame=sl();return c.currentTNode=s,c.lView=i,!0}function cu(i){const s=sl(),u=i[1];ct.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function sl(){const i=ct.lFrame,s=null===i?null:i.child;return null===s?lp(i):s}function lp(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function th(){const i=ct.lFrame;return ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ol=th;function $o(){const i=th();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return ct.lFrame.selectedIndex}function bo(i){ct.lFrame.selectedIndex=i}function Yn(){const i=ct.lFrame;return lc(i.tView,i.selectedIndex)}function wa(i,s){for(let u=s.directiveStart,c=s.directiveEnd;u<c;u++){const f=i.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:A}=f;g&&(i.contentHooks||(i.contentHooks=[])).push(-u,g),y&&((i.contentHooks||(i.contentHooks=[])).push(u,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(u,y)),w&&(i.viewHooks||(i.viewHooks=[])).push(-u,w),T&&((i.viewHooks||(i.viewHooks=[])).push(u,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(u,T)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(u,A)}}function Ca(i,s,u){_c(i,s,3,u)}function Ho(i,s,u,c){(3&i[2])===u&&_c(i,s,u,c)}function rr(i,s){let u=i[2];(3&u)===s&&(u&=2047,u+=1,i[2]=u)}function _c(i,s,u,c){const f=null!=c?c:-1,g=s.length-1;let y=0;for(let w=void 0!==c?65535&i[18]:0;w<g;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=c&&y>=c)break}else s[w]<0&&(i[18]+=65536),(y<f||-1==f)&&(rh(i,u,s,w),i[18]=(4294901760&i[18])+w+2),w++}function rh(i,s,u,c){const d=u[c]<0,f=u[c+1],y=i[d?-u[c]:u[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ll{constructor(s,u,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function sh(i,s,u){const c=kn(i);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const g=u[d++],y=u[d++],w=u[d++];c?i.setAttribute(s,y,w,g):s.setAttributeNS(g,y,w)}else{const g=f,y=u[++d];Bs(g)?c&&i.setProperty(s,g,y):c?i.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function hp(i){return 3===i||4===i||6===i}function Bs(i){return 64===i.charCodeAt(0)}function cl(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?u=d:0===u||fp(i,u,d,null,-1===u||2===u?s[++c]:null)}}return i}function fp(i,s,u,c,d){let f=0,g=i.length;if(-1===s)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===u){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,s),f=g+1),i.splice(f++,0,u),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function vc(i){return-1!==i}function zi(i){return 32767&i}function js(i,s){let u=function(i){return i>>16}(i),c=s;for(;u>0;)c=c[15],u--;return c}let bc=!0;function Ta(i){const s=bc;return bc=i,s}let ah=0;function wo(i,s){const u=pn(i,s);if(-1!==u)return u;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,hu(c.data,i),hu(s,null),hu(c.blueprint,null));const d=qe(i,s),f=i.injectorIndex;if(vc(d)){const g=zi(d),y=js(d,s),w=y[1].data;for(let T=0;T<8;T++)s[f+T]=y[g+T]|w[g+T]}return s[f+8]=d,f}function hu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function pn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qe(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,c=null,d=s;for(;null!==d;){const f=d[1],g=f.type;if(c=2===g?f.declTNode:1===g?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function an(i,s,u){!function(i,s,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(An)&&(c=u[An]),null==c&&(c=u[An]=ah++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,u)}function xn(i,s,u){if(u&je.Optional)return i;Mt(s,"NodeInjector")}function fu(i,s,u,c){if(u&je.Optional&&void 0===c&&(c=null),0==(u&(je.Self|je.Host))){const d=i[9],f=qn(void 0);try{return d?d.get(s,c,u&je.Optional):st(s,c,u&je.Optional)}finally{qn(f)}}return xn(c,s,u)}function vs(i,s,u,c=je.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(An)?i[An]:void 0;return"number"==typeof s?s>=0?255&s:pu:s}(u);if("function"==typeof f){if(!lu(s,i,c))return c&je.Host?xn(d,u,c):fu(s,u,c,d);try{const g=f(c);if(null!=g||c&je.Optional)return g;Mt(u)}finally{ol()}}else if("number"==typeof f){let g=null,y=pn(i,s),w=-1,T=c&je.Host?s[16][6]:null;for((-1===y||c&je.SkipSelf)&&(w=-1===y?qe(i,s):s[y+8],-1!==w&&Ec(c,!1)?(g=s[1],y=zi(w),s=js(w,s)):y=-1);-1!==y;){const A=s[1];if(Co(f,y,A.data)){const k=dl(y,s,u,g,c,T);if(k!==Kn)return k}w=s[y+8],-1!==w&&Ec(c,s[1].data[y+8]===T)&&Co(f,y,s)?(g=A,y=zi(w),s=js(w,s)):y=-1}}}return fu(s,u,c,d)}const Kn={};function pu(){return new Ni(wn(),De())}function dl(i,s,u,c,d,f){const g=s[1],y=g.data[i+8],A=hl(y,g,u,null==c?Wu(y)&&bc:c!=g&&0!=(3&y.type),d&je.Host&&f===y);return null!==A?kt(s,g,A,y):Kn}function hl(i,s,u,c,d){const f=i.providerIndexes,g=s.data,y=1048575&f,w=i.directiveStart,A=f>>20,P=d?y+A:i.directiveEnd;for(let H=c?y:y+A;H<P;H++){const J=g[H];if(H<w&&u===J||H>=w&&J.type===u)return H}if(d){const H=g[w];if(H&&hs(H)&&H.type===u)return w}return null}function kt(i,s,u,c){let d=i[u];const f=s.data;if(function(i){return i instanceof ll}(d)){const g=d;g.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(se(f[u]));const y=Ta(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?qn(g.injectImpl):null;lu(i,c,je.Default);try{d=i[u]=g.factory(void 0,f,i,c),s.firstCreatePass&&u>=c.directiveStart&&function(i,s,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const g=oc(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(i,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,g)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-i,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(i,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,f))}(u,f[u],s)}finally{null!==w&&qn(w),Ta(y),g.resolving=!1,ol()}}return d}function Co(i,s,u){return!!(u[s+(i>>5)]&1<<i)}function Ec(i,s){return!(i&je.Self||i&je.Host&&s)}class Ni{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,c){return vs(this._tNode,this._lView,s,c,u)}}function ch(i){return xt(()=>{const s=i.prototype.constructor,u=s[Gt]||gu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Gt]||gu(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function gu(i){return he(i)?()=>{const s=gu(G(i));return s&&s()}:Ii(i)}function Tc(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(hp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===s)return u[d+1];d+=2}}}return null}(wn(),i)}const Mi="__parameters__";function Eo(i,s,u){return xt(()=>{const c=function(i){return function(...u){if(i){const c=i(...u);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(w,T,A){const k=w.hasOwnProperty(Mi)?w[Mi]:Object.defineProperty(w,Mi,{value:[]})[Mi];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(g),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class On{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pp=new On("AnalyzeForEntryComponents"),Aa=Function;function Ki(i,s){void 0===s&&(s=i);for(let u=0;u<i.length;u++){let c=i[u];Array.isArray(c)?(s===i&&(s=i.slice(0,u)),Ki(c,s)):s!==i&&s.push(c)}return s}function bs(i,s){i.forEach(u=>Array.isArray(u)?bs(u,s):s(u))}function _u(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function xi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Hs(i,s){const u=[];for(let c=0;c<i;c++)u.push(s);return u}function Jn(i,s,u){let c=Do(i,s);return c>=0?i[1|c]=u:(c=~c,function(i,s,u,c){let d=i.length;if(d==s)i.push(u,c);else if(1===d)i.push(c,i[0]),i[0]=u;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=u,i[s+1]=c}}(i,c,s,u)),c}function Qn(i,s){const u=Do(i,s);if(u>=0)return i[1|u]}function Do(i,s){return function(i,s,u){let c=0,d=i.length>>u;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<u];if(s===g)return f<<u;g>s?d=f:c=f+1}return~(d<<u)}(i,s,1)}const Ut={},nn="__NG_DI_FLAG__",sr="ngTempTokenPath",ar=/\n/gm,yu="__source",Zs=ee({provide:String,useValue:ee});let fi;function mt(i){const s=fi;return fi=i,s}function hv(i,s=je.Default){if(void 0===fi)throw new Error("inject() must be called from an injection context");return null===fi?st(i,void 0,s):fi.get(i,s&je.Optional?null:void 0,s)}function Cn(i,s=je.Default){return(Ht||hv)(G(i),s)}function zo(i){const s=[];for(let u=0;u<i.length;u++){const c=G(i[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=je.Default;for(let g=0;g<c.length;g++){const y=c[g],w=yp(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(Cn(d,f))}else s.push(Cn(c))}return s}function vu(i,s){return i[nn]=s,i.prototype[nn]=s,i}function yp(i){return i[nn]}function qs(i,s,u,c){const d=i[sr];throw s[yu]&&d.unshift(s[yu]),i.message=function(i,s,u,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${i.replace(ar,"\n  ")}`}("\n"+i.message,d,u,c),i.ngTokenPath=d,i[sr]=null,i}const bu=vu(Eo("Inject",i=>({token:i})),-1),Ma=vu(Eo("Optional"),8),Ur=vu(Eo("SkipSelf"),4);let wu;function Yo(i){var s;return(null===(s=function(){if(void 0===wu&&(wu=null,Yt.trustedTypes))try{wu=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wu}())||void 0===s?void 0:s.createHTML(i))||i}class Cu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mv extends Cu{getTypeName(){return"HTML"}}class _v extends Cu{getTypeName(){return"Style"}}class Ch extends Cu{getTypeName(){return"Script"}}class yv extends Cu{getTypeName(){return"URL"}}class vv extends Cu{getTypeName(){return"ResourceURL"}}function Ko(i){return i instanceof Cu?i.changingThisBreaksApplicationSecurity:i}function Oa(i,s){const u=Mm(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function Mm(i){return i instanceof Cu&&i.getTypeName()||null}function xm(i){return new mv(i)}function Ep(i){return new _v(i)}function Tp(i){return new Ch(i)}function Jo(i){return new yv(i)}function vl(i){return new vv(i)}function Dp(i){const s=new bv(i);return function(){try{return!!(new window.DOMParser).parseFromString(Yo(""),"text/html")}catch(i){return!1}}()?new Rm(s):s}class Rm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Yo(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class bv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Yo(s),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Yo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const u=s.attributes;for(let d=u.length-1;0<d;d--){const g=u.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Eh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cl(i){return(i=String(i)).match(Eh)||i.match(wl)?i:"unsafe:"+i}function kc(i){return(i=String(i)).split(",").map(s=>Cl(s.trim())).join(", ")}function zs(i){const s={};for(const u of i.split(","))s[u]=!0;return s}function Qo(...i){const s={};for(const u of i)for(const c in u)u.hasOwnProperty(c)&&(s[c]=!0);return s}const Th=zs("area,br,col,hr,img,wbr"),Ip=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),El=zs("rp,rt"),Ap=Qo(Th,Qo(Ip,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qo(El,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qo(El,Ip)),v=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=zs("srcset"),S=Qo(v,p,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R=zs("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Ap.hasOwnProperty(u))return this.sanitizedSomething=!0,!R.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,y=g.toLowerCase();if(!S.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=Cl(w)),p[y]&&(w=kc(w)),this.buf.push(" ",g,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Ap.hasOwnProperty(u)&&!Th.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Fe(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$e=/([^\#-~ |!])/g;function Fe(i){return i.replace(/&/g,"&amp;").replace(ye,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($e,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ot;function Zt(i,s){let u=null;try{ot=ot||Dp(i);let c=s?String(s):"";u=ot.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=ot.getInertBodyElement(c)}while(c!==f);return Yo((new X).sanitizeChildren(yn(u)||u))}finally{if(u){const c=yn(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function yn(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var vn=(()=>((vn=vn||{})[vn.NONE=0]="NONE",vn[vn.HTML=1]="HTML",vn[vn.STYLE=2]="STYLE",vn[vn.SCRIPT=3]="SCRIPT",vn[vn.URL=4]="URL",vn[vn.RESOURCE_URL=5]="RESOURCE_URL",vn))();function Ih(i){const s=function(){const i=De();return i&&i[12]}();return s?s.sanitize(vn.URL,i)||"":Oa(i,"URL")?Ko(i):Cl(ne(i))}const Mh="__ngContext__";function pi(i,s){i[Mh]=s}function Ev(i){const s=function(i){return i[Mh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Fc(i){return i.ngOriginalError}function MI(i,...s){i.error(...s)}class kh{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||MI;var i;d(this._console,"ERROR",s),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Fc(s)):null}_findOriginalError(s){let u=s&&Fc(s);for(;u&&Fc(u);)u=Fc(u);return u||null}}const kI=/^>|^->|<!--|-->|--!>|<!-$/g,Sv=/(<|>)/;const R1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Pa(i){return i instanceof Function?i():i}var Fa=(()=>((Fa=Fa||{})[Fa.Important=1]="Important",Fa[Fa.DashCase=2]="DashCase",Fa))();let Nv;function Bm(i,s){return Nv(i,s)}function Rp(i){const s=i[3];return Lr(s)?s[3]:s}function jm(i){return Mv(i[13])}function L1(i){return Mv(i[4])}function Mv(i){for(;null!==i&&!Lr(i);)i=i[4];return i}function Lc(i,s,u,c,d){if(null!=c){let f,g=!1;Lr(c)?f=c:Ls(c)&&(g=!0,c=c[0]);const y=on(c);0===i&&null!==u?null==d?$1(s,u,y):Il(s,u,y,d||null,!0):1===i&&null!==u?Il(s,u,y,d||null,!0):2===i?Fv(s,y,g):3===i&&s.destroyNode(y),null!=f&&function(i,s,u,c,d){const f=u[7];f!==on(u)&&Lc(s,i,c,f,d);for(let y=10;y<u.length;y++){const w=u[y];Uc(w[1],w,i,s,c,f)}}(s,i,f,u,d)}}function $m(i,s){return kn(i)?i.createText(s):i.createTextNode(s)}function V1(i,s,u){kn(i)?i.setValue(s,u):s.textContent=u}function BI(i,s){return i.createComment(function(i){return i.replace(kI,s=>s.replace(Sv,"\u200b$1\u200b"))}(s))}function xv(i,s,u){return kn(i)?i.createElement(s,u):null===u?i.createElement(s):i.createElementNS(u,s)}function Hm(i,s){const u=i[9],c=u.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Uo(d,-1)),u.splice(c,1)}function Gm(i,s){if(i.length<=10)return;const u=10+s,c=i[u];if(c){const d=c[17];null!==d&&d!==i&&Hm(d,c),s>0&&(i[u-1][4]=c[4]);const f=xi(i,10+s);!function(i,s){Uc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const g=f[19];null!==g&&g.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function U1(i,s){if(!(256&s[2])){const u=s[11];kn(u)&&u.destroyNode&&Uc(i,s,u,3,null,null),function(i){let s=i[13];if(!s)return Dl(i[1],i);for(;s;){let u=null;if(Ls(s))u=s[13];else{const c=s[10];c&&(u=c)}if(!u){for(;s&&!s[4]&&s!==i;)Ls(s)&&Dl(s[1],s),s=s[3];null===s&&(s=i),Ls(s)&&Dl(s[1],s),u=s&&s[4]}s=u}}(s)}}function Dl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let c=0;c<u.length;c+=2){const d=s[u[c]];if(!(d instanceof ll)){const f=u[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],w=f[g+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const u=i.cleanup,c=s[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const g=u[f+1],y="function"==typeof g?g(s):on(s[g]),w=c[d=u[f+2]],T=u[f+3];"boolean"==typeof T?y.removeEventListener(u[f],w,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),f+=2}else{const g=c[d=u[f+1]];u[f].call(g)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&kn(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&Lr(s[3])){u!==s[3]&&Hm(u,s);const c=s[19];null!==c&&c.detachView(i)}}}function B1(i,s,u){return j1(i,s.parent,u)}function j1(i,s,u){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return u[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Si(c,u)}function Il(i,s,u,c,d){kn(i)?i.insertBefore(s,u,c,d):s.insertBefore(u,c,d)}function $1(i,s,u){kn(i)?i.appendChild(s,u):s.appendChild(u)}function H1(i,s,u,c,d){null!==c?Il(i,s,u,c,d):$1(i,s,u)}function Zm(i,s){return kn(i)?i.parentNode(s):s.parentNode}function zm(i,s,u){return Vc(i,s,u)}function Wm(i,s,u){return 40&i.type?Si(i,u):null}let kv,Vc=Wm;function G1(i,s){Vc=i,kv=s}function Ph(i,s,u,c){const d=B1(i,c,s),f=s[11],y=zm(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)H1(f,d,u[w],y,!1);else H1(f,d,u,y,!1);void 0!==kv&&kv(f,c,s,u,d)}function Ym(i,s){if(null!==s){const u=s.type;if(3&u)return Si(s,i);if(4&u)return Pv(-1,i[s.index]);if(8&u){const c=s.child;if(null!==c)return Ym(i,c);{const d=i[s.index];return Lr(d)?Pv(-1,d):on(d)}}if(32&u)return Bm(s,i)()||on(i[s.index]);{const c=Ov(i,s);return null!==c?Array.isArray(c)?c[0]:Ym(Rp(i[16]),c):Ym(i,s.next)}}return null}function Ov(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Pv(i,s){const u=10+i+1;if(u<s.length){const c=s[u],d=c[1].firstChild;if(null!==d)return Ym(c,d)}return s[7]}function Fv(i,s,u){const c=Zm(i,s);c&&function(i,s,u,c){kn(i)?i.removeChild(s,u,c):s.removeChild(u)}(i,c,s,u)}function Km(i,s,u,c,d,f,g){for(;null!=u;){const y=c[u.index],w=u.type;if(g&&0===s&&(y&&pi(on(y),c),u.flags|=4),64!=(64&u.flags))if(8&w)Km(i,s,u.child,c,d,f,!1),Lc(s,i,d,y,f);else if(32&w){const T=Bm(u,c);let A;for(;A=T();)Lc(s,i,d,A,f);Lc(s,i,d,y,f)}else 16&w?Al(i,s,c,u,d,f):Lc(s,i,d,y,f);u=g?u.projectionNext:u.next}}function Uc(i,s,u,c,d,f){Km(u,c,i.firstChild,s,d,f,!1)}function Al(i,s,u,c,d,f){const g=u[16],w=g[6].projection[c.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)Lc(s,i,d,w[T],f);else Km(i,s,w,g[3],d,f,!0)}function q1(i,s,u){kn(i)?i.setAttribute(s,"style",u):s.style.cssText=u}function Lv(i,s,u){kn(i)?""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u):s.className=u}function Vv(i,s,u){let c=i.length;for(;;){const d=i.indexOf(s,u);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}u=d+1}}const z1="ng-template";function YI(i,s,u){let c=0;for(;c<i.length;){let d=i[c++];if(u&&"class"===d){if(d=i[c],-1!==Vv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Uv(i){return 4===i.type&&i.value!==z1}function KI(i,s,u){return s===(4!==i.type||u?i.value:z1)}function JI(i,s,u){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(hp(i[s]))return s;return i.length}(d);let g=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!KI(i,w,u)||""===w&&1===s.length){if(Xo(c))return!1;g=!0}}else{const T=8&c?w:s[++y];if(8&c&&null!==i.attrs){if(!YI(i.attrs,T,u)){if(Xo(c))return!1;g=!0}continue}const k=Bv(8&c?"class":w,d,Uv(i),u);if(-1===k){if(Xo(c))return!1;g=!0;continue}if(""!==T){let P;P=k>f?"":d[k+1].toLowerCase();const H=8&c?P:null;if(H&&-1!==Vv(H,T,0)||2&c&&T!==P){if(Xo(c))return!1;g=!0}}}}else{if(!g&&!Xo(c)&&!Xo(w))return!1;if(g&&Xo(w))continue;g=!1,c=w|1&c}}return Xo(c)||g}function Xo(i){return 0==(1&i)}function Bv(i,s,u,c){if(null===s)return-1;let d=0;if(c||!u){let f=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const c=i[u];if("number"==typeof c)return-1;if(c===s)return u;u++}return-1}(s,i)}function W1(i,s,u=!1){for(let c=0;c<s.length;c++)if(JI(i,s[c],u))return!0;return!1}function fx(i,s){e:for(let u=0;u<s.length;u++){const c=s[u];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function de(i,s){return i?":not("+s.trim()+")":s}function Jm(i){let s=i[0],u=1,c=2,d="",f=!1;for(;u<i.length;){let g=i[u];if("string"==typeof g)if(2&c){const y=i[++u];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!Xo(g)&&(s+=de(f,d),d=""),c=g,f=f||!Xo(c);u++}return""!==d&&(s+=de(f,d)),s}const bt={};function K1(i){J1(Rt(),De(),Ir()+i,rl())}function J1(i,s,u,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ca(s,f,u)}else{const f=i.preOrderHooks;null!==f&&Ho(s,f,0,u)}bo(u)}function Bc(i,s){return i<<17|s<<2}function ea(i){return i>>17&32767}function X1(i){return 2|i}function La(i){return(131068&i)>>2}function Ys(i,s){return-131069&i|s<<2}function Va(i){return 1|i}function Zv(i,s){const u=i.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const g=i.data[f];jo(d),g.contentQueries(2,s[f],f)}}}function Nl(i,s,u,c,d,f,g,y,w,T){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,el(A),A[3]=A[15]=i,A[8]=u,A[10]=g||i&&i[10],A[11]=y||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=T||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function Ml(i,s,u,c,d){let f=i.data[s];if(null===f)f=Fp(i,s,u,c,d),ct.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const g=qi();f.injectorIndex=null===g?-1:g.injectorIndex}return Yr(f,!0),f}function Fp(i,s,u,c,d){const f=ou(),g=au(),w=i.data[s]=function(i,s,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,u,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function xl(i,s,u,c){if(0===u)return-1;const d=s.length;for(let f=0;f<u;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Lp(i,s,u){cu(s);try{const c=i.viewQuery;null!==c&&Eu(1,c,u);const d=i.template;null!==d&&zv(i,s,d,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Zv(i,s),i.staticViewQueries&&Eu(2,i.viewQuery,u);const f=i.components;null!==f&&function(i,s){for(let u=0;u<s.length;u++)Gp(i,s[u])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,$o()}}function Vh(i,s,u,c){const d=s[2];if(256==(256&d))return;cu(s);const f=rl();try{el(s),function(i){ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&zv(i,s,u,2,c);const g=3==(3&d);if(!f)if(g){const T=i.preOrderCheckHooks;null!==T&&Ca(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Ho(s,T,0,null),rr(s,0)}if(function(i){for(let s=jm(i);null!==s;s=L1(s)){if(!s[2])continue;const u=s[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Uo(f,1),d[2]|=1024}}}(s),function(i){for(let s=jm(i);null!==s;s=L1(s))for(let u=10;u<s.length;u++){const c=s[u],d=c[1];ru(c)&&Vh(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Zv(i,s),!f)if(g){const T=i.contentCheckHooks;null!==T&&Ca(s,T)}else{const T=i.contentHooks;null!==T&&Ho(s,T,1),rr(s,1)}!function(i,s){const u=i.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)bo(~d);else{const f=d,g=u[++c],y=u[++c];hc(g,f),y(2,s[f])}}}finally{bo(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let u=0;u<s.length;u++)yC(i,s[u])}(s,y);const w=i.viewQuery;if(null!==w&&Eu(2,w,c),!f)if(g){const T=i.viewCheckHooks;null!==T&&Ca(s,T)}else{const T=i.viewHooks;null!==T&&Ho(s,T,2),rr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Uo(s[3],-1))}finally{$o()}}function qv(i,s,u,c){const d=s[10],f=!rl(),g=Xu(s);try{f&&!g&&d.begin&&d.begin(),g&&Lp(i,s,c),Vh(i,s,u,c)}finally{f&&!g&&d.end&&d.end()}}function zv(i,s,u,c,d){const f=Ir(),g=2&c;try{bo(-1),g&&s.length>20&&J1(i,s,20,rl()),u(c,d)}finally{bo(f)}}function cC(i,s,u){if(tc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const g=i.data[f];g.contentQueries&&g.contentQueries(1,u[f],f)}}}function Wv(i,s,u){!iu()||(function(i,s,u,c){const d=u.directiveStart,f=u.directiveEnd;i.firstCreatePass||wo(u,s),pi(c,s);const g=u.initialInputs;for(let y=d;y<f;y++){const w=i.data[y],T=hs(w);T&&e0(s,u,w);const A=kt(s,i,y,u);pi(A,s),null!==g&&n0(0,y-d,A,w,0,g),T&&(li(u.index,s)[8]=A)}}(i,s,u,Si(u,s)),128==(128&u.flags)&&function(i,s,u){const c=u.directiveStart,d=u.directiveEnd,g=u.index,y=ct.lFrame.currentDirectiveIndex;try{bo(g);for(let w=c;w<d;w++){const T=i.data[w],A=s[w];fc(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&$p(T,A)}}finally{bo(-1),fc(y)}}(i,s,u))}function Xr(i,s,u=Si){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?u(s,i):i[g];i[d++]=y}}}function Uh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=n_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function n_(i,s,u,c,d,f,g,y,w,T){const A=20+c,k=A+d,P=function(i,s){const u=[];for(let c=0;c<s;c++)u.push(c<i?null:bt);return u}(A,k),H="function"==typeof T?T():T;return P[1]={type:i,blueprint:P,template:u,queries:null,viewQuery:y,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function Bp(i,s,u,c){const d=l0(s);null===u?d.push(c):(d.push(u),i.firstCreatePass&&Bh(i).push(c,d.length-1))}function r_(i,s,u){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(s,d):u[c]=[s,d]}return u}function Cs(i,s,u,c,d,f,g,y){const w=Si(s,u);let A,T=s.inputs;!y&&null!=T&&(A=T[c])?(d0(i,u,A,c,d),Wu(s)&&function(i,s){const u=li(s,i);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,s.value||"",c):d,kn(f)?f.setProperty(w,c,d):Bs(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function jp(i,s,u,c){let d=!1;if(iu()){const f=function(i,s,u){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const g=c[f];W1(u,g.selectors,!1)&&(d||(d=[]),an(wo(u,s),i,g.type),hs(g)?(fC(i,u),d.unshift(g)):d.push(g))}return d}(i,s,u),g=null===c?null:{"":-1};if(null!==f){d=!0,gC(u,i.data.length,f.length);for(let A=0;A<f.length;A++){const k=f[A];k.providersResolver&&k.providersResolver(k)}let y=!1,w=!1,T=xl(i,s,f.length,null);for(let A=0;A<f.length;A++){const k=f[A];u.mergedAttrs=cl(u.mergedAttrs,k.hostAttrs),mC(i,u,s,T,k),pC(T,k,g),null!==k.contentQueries&&(u.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=128);const P=k.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(u.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(u.index),w=!0),T++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,g=[];let y=null,w=null;for(let T=s.directiveStart;T<c;T++){const A=d[T],k=A.inputs,P=null===f||Uv(s)?null:_C(k,f);g.push(P),y=r_(k,T,y),w=r_(A.outputs,T,w)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=w}(i,u)}g&&function(i,s,u){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=u[s[d+1]];if(null==f)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(u,c,g)}return u.mergedAttrs=cl(u.mergedAttrs,u.attrs),d}function s_(i,s,u,c,d,f){const g=f.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(y)!=w&&y.push(w),y.push(c,d,g)}}function $p(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function fC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function pC(i,s,u){if(u){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)u[s.exportAs[c]]=i;hs(s)&&(u[""]=i)}}function gC(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}function mC(i,s,u,c,d){i.data[c]=d;const f=d.factory||(d.factory=Ii(d.type)),g=new ll(f,hs(d),null);i.blueprint[c]=g,u[c]=g,s_(i,s,0,c,xl(i,u,d.hostVars,bt),d)}function e0(i,s,u){const c=Si(s,i),d=Uh(u),f=i[10],g=Zp(i,Nl(i,d,null,u.onPush?64:16,c,s,f,f.createRenderer(c,u),null,null));i[s.index]=g}function t0(i,s,u,c,d,f,g){if(null==f)kn(i)?i.removeAttribute(s,d,u):s.removeAttribute(d);else{const y=null==g?ne(f):g(f,c||"",d);kn(i)?i.setAttribute(s,d,y,u):u?s.setAttributeNS(u,d,y):s.setAttribute(d,y)}}function n0(i,s,u,c,d,f){const g=f[s];if(null!==g){const y=c.setInput;for(let w=0;w<g.length;){const T=g[w++],A=g[w++],k=g[w++];null!==y?c.setInput(u,k,T,A):u[A]=k}}}function _C(i,s){let u=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return u}function Hp(i,s,u,c){return new Array(i,!0,!1,s,null,0,c,u,null,null)}function yC(i,s){const u=li(s,i);if(ru(u)){const c=u[1];80&u[2]?Vh(c,u,c.template,u[8]):u[5]>0&&o0(u)}}function o0(i){for(let c=jm(i);null!==c;c=L1(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const g=f[1];Vh(g,f,g.template,f[8])}else f[5]>0&&o0(f)}const u=i[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=li(u[c],i);ru(d)&&d[5]>0&&o0(d)}}function Gp(i,s){const u=li(s,i),c=u[1];(function(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])})(c,u),Lp(c,u,u[8])}function Zp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function o_(i){for(;i;){i[2]|=64;const s=Rp(i);if(Er(i)&&!s)return i;i=s}return null}function u0(i,s,u){const c=s[10];c.begin&&c.begin();try{Vh(i,s,i.template,u)}catch(d){throw Ri(s,d),d}finally{c.end&&c.end()}}function Hc(i){!function(i){for(let s=0;s<i.components.length;s++){const u=i.components[s],c=Ev(u),d=c[1];qv(d,c,d.template,u)}}(i[8])}function Eu(i,s,u){jo(0),s(i,u)}const u_=(()=>Promise.resolve(null))();function l0(i){return i[7]||(i[7]=[])}function Bh(i){return i.cleanup||(i.cleanup=[])}function Ri(i,s){const u=i[9],c=u?u.get(kh,null):null;c&&c.handleError(s)}function d0(i,s,u,c,d){for(let f=0;f<u.length;){const g=u[f++],y=u[f++],w=s[g],T=i.data[g];null!==T.setInput?T.setInput(w,d,c,y):w[y]=d}}function Gc(i,s,u){let c=u?i.styles:null,d=u?i.classes:null,f=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?f=y:1==f?d=z(d,y):2==f&&(c=z(c,y+": "+s[++g]+";"))}u?i.styles=c:i.stylesWithoutHost=c,u?i.classes=d:i.classesWithoutHost=d}const Zc=new On("INJECTOR",-1);class jh{get(s,u=Ut){if(u===Ut){const c=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw c.name="NullInjectorError",c}return u}}const qc=new On("Set Injector scope."),zc={},f0={};let $h;function Hh(){return void 0===$h&&($h=new jh),$h}function CC(i,s=null,u=null,c){return new p0(i,u,s||Hh(),c)}class p0{constructor(s,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&bs(u,y=>this.processProvider(y,s,u)),bs([s],y=>this.processInjectorType(y,[],f)),this.records.set(Zc,Wc(void 0,this));const g=this.records.get(qc);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Ut,c=je.Default){this.assertNotDestroyed();const d=mt(this),f=qn(void 0);try{if(!(c&je.SkipSelf)){let y=this.records.get(s);if(void 0===y){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof On)&&Xt(s);y=w&&this.injectableDefInScope(w)?Wc(Gh(s),zc):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&je.Self?Hh():this.parent).get(s,u=c&je.Optional&&u===Ut?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[sr]=g[sr]||[]).unshift(Q(s)),d)throw g;return qs(g,s,"R3InjectorError",this.source)}throw g}finally{qn(f),mt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,c){if(!(s=G(s)))return!1;let d=Hi(s);const f=null==d&&s.ngModule||void 0,g=void 0===f?s:f,y=-1!==c.indexOf(g);if(void 0!==f&&(d=Hi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;c.push(g);try{bs(d.imports,k=>{this.processInjectorType(k,u,c)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:P,providers:H}=A[k];bs(H,J=>this.processProvider(J,P,H||Z))}}this.injectorDefTypes.add(g);const w=Ii(g)||(()=>new g);this.records.set(g,Wc(w,zc));const T=d.providers;if(null!=T&&!y){const A=s;bs(T,k=>this.processProvider(k,A,T))}return void 0!==f&&void 0!==s.providers}processProvider(s,u,c){let d=Tu(s=G(s))?s:G(s&&s.provide);const f=TC(i=s)?Wc(void 0,i.useValue):Wc(m0(i),zc);var i;if(Tu(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Wc(void 0,zc,!0),g.factory=()=>zo(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,f)}hydrate(s,u){return u.value===zc&&(u.value=f0,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(i=u.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const u=G(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Gh(i){const s=Xt(i),u=null!==s?s.factory:Ii(i);if(null!==u)return u;if(i instanceof On)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Hs(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${c.join(", ")}).`)}const u=function(i){const s=i&&(i[ke]||i[Zn]);if(s){const u=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new Error("unreachable")}function m0(i,s,u){let c;if(Tu(i)){const d=G(i);return Ii(d)||Gh(d)}if(TC(i))c=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...zo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Cn(G(i.useExisting));else{const d=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ii(d)||Gh(d);c=()=>new d(...zo(i.deps))}return c}function Wc(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function TC(i){return null!==i&&"object"==typeof i&&Zs in i}function Tu(i){return"function"==typeof i}const l_=function(i,s,u){return function(i,s=null,u=null,c){const d=CC(i,s,u,c);return d._resolveInjectorDefTypes(),d}({name:u},s,i,u)};let En=(()=>{class i{static create(u,c){return Array.isArray(u)?l_(u,c,""):l_(u.providers,u.parent,u.name||"")}}return i.THROW_IF_NOT_FOUND=Ut,i.NULL=new jh,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>Cn(Zc)}),i.__NG_ELEMENT_ID__=-1,i})();function C0(i,s){wa(Ev(i)[1],wn())}function Kc(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const c=[i];for(;s;){let d;if(hs(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(u){c.push(d);const g=i;g.inputs=ur(i.inputs),g.declaredInputs=ur(i.declaredInputs),g.outputs=ur(i.outputs);const y=d.hostBindings;y&&TA(i,y);const w=d.viewQuery,T=d.contentQueries;if(w&&VC(i,w),T&&EA(i,T),ce(i.inputs,d.inputs),ce(i.declaredInputs,d.declaredInputs),ce(i.outputs,d.outputs),hs(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===Kc&&(u=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,u=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=cl(d.hostAttrs,u=cl(u,d.hostAttrs))}}(c)}function ur(i){return i===q?{}:i===Z?[]:i}function VC(i,s){const u=i.viewQuery;i.viewQuery=u?(c,d)=>{s(c,d),u(c,d)}:s}function EA(i,s){const u=i.contentQueries;i.contentQueries=u?(c,d,f)=>{s(c,d,f),u(c,d,f)}:s}function TA(i,s){const u=i.hostBindings;i.hostBindings=u?(c,d)=>{s(c,d),u(c,d)}:s}let ng=null;function Jc(){if(!ng){const i=Yt.Symbol;if(i&&i.iterator)ng=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const c=s[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ng=c)}}}return ng}class So{constructor(s){this.wrapped=s}static wrap(s){return new So(s)}static unwrap(s){return So.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof So}}function Qs(i){return!!ig(i)&&(Array.isArray(i)||!(i instanceof Map)&&Jc()in i)}function ig(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Es(i,s,u){return i[s]=u}function ti(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function ja(i,s,u,c){const d=ti(i,s,u);return ti(i,s+1,c)||d}function Kh(i,s,u,c){const d=De();return ti(d,ms(),s)&&(Rt(),function(i,s,u,c,d,f){const g=Si(i,s);t0(s[11],g,f,i.value,u,c,d)}(Yn(),d,i,s,u,c)),Kh}function Qc(i,s,u,c){return ti(i,ms(),u)?s+ne(u)+c:bt}function ed(i,s,u,c,d,f,g,y,w,T){const k=function(i,s,u,c,d,f){const g=ja(i,s,u,c);return ja(i,s+2,d,f)||g}(i,Kr(),u,d,g,w);return Dr(4),k?s+ne(u)+c+ne(d)+f+ne(g)+y+ne(w)+T:bt}function N0(i,s,u,c,d,f,g,y){const w=De(),T=Rt(),A=i+20,k=T.firstCreatePass?function(i,s,u,c,d,f,g,y,w){const T=s.consts,A=Ml(s,i,4,g||null,ps(T,y));jp(s,u,A,ps(T,w)),wa(s,A);const k=A.tViews=n_(2,A,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,A),k.queries=s.queries.embeddedTView(A)),A}(A,T,w,s,u,c,d,f,g):T.data[A];Yr(k,!1);const P=w[11].createComment("");Ph(T,w,P,k),pi(P,w),Zp(w,w[A]=Hp(P,w,P,k)),Vr(k)&&Wv(T,w,k),null!=g&&Xr(w,k,y)}function $C(i){return Zi(ct.lFrame.contextLView,20+i)}function lr(i,s=je.Default){const u=De();return null===u?Cn(i,s):vs(wn(),u,G(i),s)}function Ha(i,s,u){const c=De();return ti(c,ms(),s)&&Cs(Rt(),Yn(),c,i,s,c[11],u,!1),Ha}function cr(i,s,u,c,d){const g=d?"class":"style";d0(i,u,s.inputs[g],g,c)}function ug(i,s,u,c){const d=De(),f=Rt(),g=20+i,y=d[11],w=d[g]=xv(y,s,ct.lFrame.currentNamespace),T=f.firstCreatePass?function(i,s,u,c,d,f,g){const y=s.consts,T=Ml(s,i,2,d,ps(y,f));return jp(s,u,T,ps(y,g)),null!==T.attrs&&Gc(T,T.attrs,!1),null!==T.mergedAttrs&&Gc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,f,d,0,s,u,c):f.data[g];Yr(T,!0);const A=T.mergedAttrs;null!==A&&sh(y,w,A);const k=T.classes;null!==k&&Lv(y,w,k);const P=T.styles;null!==P&&q1(y,w,P),64!=(64&T.flags)&&Ph(f,d,w,T),0===ct.lFrame.elementDepthCount&&pi(w,d),ct.lFrame.elementDepthCount++,Vr(T)&&(Wv(f,d,T),cC(f,T,d)),null!==c&&Xr(d,T)}function m_(){let i=wn();au()?ya():(i=i.parent,Yr(i,!1));const s=i;ct.lFrame.elementDepthCount--;const u=Rt();u.firstCreatePass&&(wa(u,i),tc(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&cr(u,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&cr(u,s,De(),s.stylesWithoutHost,!1)}function af(i,s,u,c){ug(i,s,u,c),m_()}function y_(i,s,u){const c=De(),d=Rt(),f=i+20,g=d.firstCreatePass?function(i,s,u,c,d){const f=s.consts,g=ps(f,c),y=Ml(s,i,8,"ng-container",g);return null!==g&&Gc(y,g,!0),jp(s,u,y,ps(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,c,s,u):d.data[f];Yr(g,!0);const y=c[f]=c[11].createComment("");Ph(d,c,y,g),pi(y,c),Vr(g)&&(Wv(d,c,g),cC(d,g,c)),null!=u&&Xr(c,g)}function Je(){let i=wn();const s=Rt();au()?ya():(i=i.parent,Yr(i,!1)),s.firstCreatePass&&(wa(s,i),tc(i)&&s.queries.elementEnd(i))}function na(){return De()}function id(i){return!!i&&"function"==typeof i.then}function sd(i){return!!i&&"function"==typeof i.subscribe}const v_=sd;function lg(i,s,u,c){const d=De(),f=Rt(),g=wn();return function(i,s,u,c,d,f,g,y){const w=Vr(c),A=i.firstCreatePass&&Bh(i),k=s[8],P=l0(s);let H=!0;if(3&c.type||y){const oe=Si(c,s),Me=y?y(oe):oe,_e=P.length,tt=y?Ye=>y(on(Ye[c.index])):c.index;if(kn(u)){let Ye=null;if(!y&&w&&(Ye=function(i,s,u,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===u&&d[f+1]===c){const y=s[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof g&&(f+=2)}return null}(i,s,d,c.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=f,Ye.__ngLastListenerFn__=f,H=!1;else{f=T_(c,s,k,f,!1);const St=u.listen(Me,d,f);P.push(f,St),A&&A.push(d,tt,_e,_e+1)}}else f=T_(c,s,k,f,!0),Me.addEventListener(d,f,g),P.push(f),A&&A.push(d,tt,_e,g)}else f=T_(c,s,k,f,!1);const J=c.outputs;let pe;if(H&&null!==J&&(pe=J[d])){const oe=pe.length;if(oe)for(let Me=0;Me<oe;Me+=2){const qr=s[pe[Me]][pe[Me+1]].subscribe(f),ua=P.length;P.push(f,qr),A&&A.push(d,c.index,ua,-(ua+1))}}}(f,d,d[11],g,i,s,!!u,c),lg}function E_(i,s,u,c){try{return!1!==u(c)}catch(d){return Ri(i,d),!1}}function T_(i,s,u,c,d){return function f(g){if(g===Function)return c;const y=2&i.flags?li(i.index,s):s;0==(32&s[2])&&o_(y);let w=E_(s,0,c,g),T=f.__ngNextListenerFn__;for(;T;)w=E_(s,0,T,g)&&w,T=T.__ngNextListenerFn__;return d&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function V0(i=1){return function(i){return(ct.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ct.lFrame.contextLView))[8]}(i)}function D_(i,s){let u=null;const c=function(i){const s=i.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?W1(i,f,!0):fx(c,f))return d}else u=d}return u}function lf(i){const s=De()[16][6];if(!s.projection){const c=s.projection=Hs(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const g=i?D_(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function yi(i,s=0,u){const c=De(),d=Rt(),f=Ml(d,20+i,16,null,u||null);null===f.projection&&(f.projection=s),ya(),64!=(64&f.flags)&&function(i,s,u){Al(s[11],0,s,u,B1(i,u,s),zm(u.parent||s[6],u,s))}(d,c,f)}function I_(i,s,u){return Ln(i,"",s,"",u),I_}function Ln(i,s,u,c,d){const f=De(),g=Qc(f,s,u,c);return g!==bt&&Cs(Rt(),Yn(),f,i,g,f[11],d,!1),Ln}function B0(i,s,u,c,d){const f=i[u+1],g=null===s;let y=c?ea(f):La(f),w=!1;for(;0!==y&&(!1===w||g);){const A=i[y+1];UA(i[y],s)&&(w=!0,i[y+1]=c?Va(A):X1(A)),y=c?ea(A):La(A)}w&&(i[u+1]=c?X1(f):Va(f))}function UA(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Do(i,s)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QC(i){return i.substring(Gr.key,Gr.keyEnd)}function BA(i){return i.substring(Gr.value,Gr.valueEnd)}function fg(i,s){const u=Gr.textEnd;return u===s?-1:(s=Gr.keyEnd=function(i,s,u){for(;s<u&&i.charCodeAt(s)>32;)s++;return s}(i,Gr.key=s,u),od(i,s,u))}function XC(i,s){const u=Gr.textEnd;let c=Gr.key=od(i,s,u);return u===c?-1:(c=Gr.keyEnd=function(i,s,u){let c;for(;s<u&&(45===(c=i.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(i,c,u),c=ad(i,c,u),c=Gr.value=od(i,c,u),c=Gr.valueEnd=function(i,s,u){let c=-1,d=-1,f=-1,g=s,y=g;for(;g<u;){const w=i.charCodeAt(g++);if(59===w)return y;34===w||39===w?y=g=pg(i,w,g,u):s===g-4&&85===f&&82===d&&76===c&&40===w?y=g=pg(i,41,g,u):w>32&&(y=g),f=d,d=c,c=-33&w}return y}(i,c,u),ad(i,c,u))}function j0(i){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=i.length}function od(i,s,u){for(;s<u&&i.charCodeAt(s)<=32;)s++;return s}function ad(i,s,u,c){return(s=od(i,s,u))<u&&s++,s}function pg(i,s,u,c){let d=-1,f=u;for(;f<c;){const g=i.charCodeAt(f++);if(g==s&&92!==d)return f;d=92==g&&92===d?0:g}throw new Error}function gg(i,s,u){return Mo(i,s,u,!1),gg}function mg(i,s){return Mo(i,s,null,!0),mg}function No(i,s){for(let u=function(i){return j0(i),XC(i,od(i,0,Gr.textEnd))}(s);u>=0;u=XC(s,u))G0(i,QC(s),BA(s))}function $0(i){Xs(Jn,Is,i,!0)}function Is(i,s){for(let u=function(i){return j0(i),fg(i,od(i,0,Gr.textEnd))}(s);u>=0;u=fg(s,u))Jn(i,QC(s),!0)}function Mo(i,s,u,c){const d=De(),f=Rt(),g=Dr(2);f.firstUpdatePass&&H0(f,i,g,c),s!==bt&&ti(d,g,s)&&Fl(f,f.data[Ir()],d,d[11],i,d[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Ko(i)))),i}(s,u),c,g)}function Xs(i,s,u,c){const d=Rt(),f=Dr(2);d.firstUpdatePass&&H0(d,null,f,c);const g=De();if(u!==bt&&ti(g,f,u)){const y=d.data[Ir()];if(ud(y,c)&&!hf(d,f)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(u=z(w,u||"")),cr(d,y,g,u,c)}else!function(i,s,u,c,d,f,g,y){d===bt&&(d=Z);let w=0,T=0,A=0<d.length?d[0]:null,k=0<f.length?f[0]:null;for(;null!==A||null!==k;){const P=w<d.length?d[w+1]:void 0,H=T<f.length?f[T+1]:void 0;let pe,J=null;A===k?(w+=2,T+=2,P!==H&&(J=k,pe=H)):null===k||null!==A&&A<k?(w+=2,J=A):(T+=2,J=k,pe=H),null!==J&&Fl(i,s,u,c,J,pe,g,y),A=w<d.length?d[w]:null,k=T<f.length?f[T]:null}}(d,y,g,g[11],g[f+1],g[f+1]=function(i,s,u){if(null==u||""===u)return Z;const c=[],d=Ko(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,u),c,f)}}function hf(i,s){return s>=i.expandoStartIndex}function H0(i,s,u,c){const d=i.data;if(null===d[u+1]){const f=d[Ir()],g=hf(i,u);ud(f,c)&&null===s&&!g&&(s=!1),s=function(i,s,u,c){const d=function(i){const s=ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(u=_g(u=ff(null,i,s,u,c),s.attrs,c),f=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(u=ff(d,i,s,u,c),null===f){let w=function(i,s,u){const c=u?s.classBindings:s.styleBindings;if(0!==La(c))return i[ea(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=ff(null,i,s,w[1],c),w=_g(w,s.attrs,c),function(i,s,u,c){i[ea(u?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,u){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=_g(c,i[f].hostAttrs,u);return _g(c,s.attrs,u)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),u}(d,f,s,c),function(i,s,u,c,d,f){let g=f?s.classBindings:s.styleBindings,y=ea(g),w=La(g);i[c]=u;let A,T=!1;if(Array.isArray(u)){const k=u;A=k[1],(null===A||Do(k,A)>0)&&(T=!0)}else A=u;if(d)if(0!==w){const P=ea(i[y+1]);i[c+1]=Bc(P,y),0!==P&&(i[P+1]=Ys(i[P+1],c)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],c)}else i[c+1]=Bc(y,0),0!==y&&(i[y+1]=Ys(i[y+1],c)),y=c;else i[c+1]=Bc(w,0),0===y?y=c:i[w+1]=Ys(i[w+1],c),w=c;T&&(i[c+1]=X1(i[c+1])),B0(i,A,c,!0),B0(i,A,c,!1),function(i,s,u,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Do(f,s)>=0&&(u[c+1]=Va(u[c+1]))}(s,A,i,c,f),g=Bc(y,w),f?s.classBindings=g:s.styleBindings=g}(d,f,s,u,g,c)}}function ff(i,s,u,c,d){let f=null;const g=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<g&&(f=s[y],c=_g(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(u.directiveStylingLast=y),c}function _g(i,s,u){const c=u?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const g=s[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Jn(i,g,!!u||s[++f]))}return void 0===i?null:i}function G0(i,s,u){Jn(i,s,Ko(u))}function Fl(i,s,u,c,d,f,g,y){if(!(3&s.type))return;const w=i.data,T=w[y+1];Ga(function(i){return 1==(1&i)}(T)?Z0(w,s,u,d,La(T),g):void 0)||(Ga(f)||function(i){return 2==(2&i)}(T)&&(f=Z0(w,null,u,d,y,g)),function(i,s,u,c,d){const f=kn(i);if(s)d?f?i.addClass(u,c):u.classList.add(c):f?i.removeClass(u,c):u.classList.remove(c);else{let g=-1===c.indexOf("-")?void 0:Fa.DashCase;if(null==d)f?i.removeStyle(u,c,g):u.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=Fa.Important),f?i.setStyle(u,c,d,g):u.style.setProperty(c,d,y?"important":"")}}}(c,g,_a(Ir(),u),d,f))}function Z0(i,s,u,c,d,f){const g=null===s;let y;for(;d>0;){const w=i[d],T=Array.isArray(w),A=T?w[1]:w,k=null===A;let P=u[d+1];P===bt&&(P=k?Z:void 0);let H=k?Qn(P,c):A===c?P:void 0;if(T&&!Ga(H)&&(H=Qn(w,c)),Ga(H)&&(y=H,g))return y;const J=i[d+1];d=g?ea(J):La(J)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=Qn(w,c))}return y}function Ga(i){return void 0!==i}function ud(i,s){return 0!=(i.flags&(s?16:32))}function q0(i,s=""){const u=De(),c=Rt(),d=i+20,f=c.firstCreatePass?Ml(c,d,1,s,null):c.data[d],g=u[d]=$m(u[11],s);Ph(c,u,g,f),Yr(f,!1)}function S_(i){return Ll("",i,""),S_}function Ll(i,s,u){const c=De(),d=Qc(c,i,s,u);return d!==bt&&function(i,s,u){const c=_a(s,i);V1(i[11],c,u)}(c,Ir(),d),Ll}function z0(i,s,u){Xs(Jn,Is,Qc(De(),i,s,u),!0)}function Su(i,s,u,c,d,f,g,y,w){Xs(Jn,Is,ed(De(),i,s,u,c,d,f,g,y,w),!0)}function pE(i,s,u){!function(i){Xs(G0,No,i,!1)}(Qc(De(),i,s,u))}function J0(i,s,u){const c=De();return ti(c,ms(),s)&&Cs(Rt(),Yn(),c,i,s,c[11],u,!0),J0}const ra=void 0;var R_=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let ld={};function k_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=X0(s);if(u)return u;const c=s.split("-")[0];if(u=X0(c),u)return u;if("en"===c)return R_;throw new Error(`Missing locale data for the locale "${i}".`)}function Q0(i){return k_(i)[ht.PluralCase]}function X0(i){return i in ld||(ld[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),ld[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Tg=["zero","one","two","few","many"],O_="en-US",gf={marker:"element"},Dg={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let P_=O_;function F_(i){(function(i,s){null==i&&jt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(P_=i.toLowerCase().replace(/_/g,"-"))}function eb(i,s,u){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Wm(i,0,u):on(u[d])}function tb(i,s,u,c,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let g=c,y=null;if(3&s.type||(y=g,g=d),null!==g&&0==(2&s.flags))for(let w=1;w<f.length;w++)Il(i,g,u[f[w]],y,!1)}}function nb(i,s){if(i.push(s),i.length>1)for(let u=i.length-2;u>=0;u--){const c=i[u];CE(c)||ZA(c,s)&&null===L_(c)&&EE(c,s.index)}}function CE(i){return!(64&i.type)}function ZA(i,s){return CE(s)||i.index>s.index}function L_(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function EE(i,s){const u=i.insertBeforeIndex;Array.isArray(u)?u[0]=s:(G1(eb,tb),i.insertBeforeIndex=s)}function Ag(i,s){const u=i.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function IE(i,s,u){const c=Fp(i,u,64,null,null);return nb(s,c),c}function V_(i,s){const u=s[i.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function rb(i){return i>>>17}function ib(i){return(131070&i)>>>1}let Sg=0,Za=0;function AE(i,s,u,c){const d=u[11];let g,f=null;for(let y=0;y<s.length;y++){const w=s[y];if("string"==typeof w){const T=s[++y];null===u[T]&&(u[T]=$m(d,w))}else if("number"==typeof w)switch(1&w){case 0:const T=rb(w);let A,k;if(null===f&&(f=T,g=Zm(d,c)),T===f?(A=c,k=g):(A=null,k=on(u[T])),null!==k){const pe=ib(w);Il(d,k,u[pe],A,!1);const Me=Ag(i,pe);if(null!==Me&&"object"==typeof Me){const _e=V_(Me,u);null!==_e&&AE(i,Me.create[_e],u,u[Me.anchorIdx])}}break;case 1:const H=s[++y],J=s[++y];t0(d,_a(w>>>1,u),null,null,H,J,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case Dg:const T=s[++y],A=s[++y];null===u[A]&&pi(u[A]=BI(d,T),u);break;case gf:const k=s[++y],P=s[++y];null===u[P]&&pi(u[P]=xv(d,k,null),u)}}}function ob(i,s,u,c,d){for(let f=0;f<u.length;f++){const g=u[f],y=u[++f];if(g&d){let w="";for(let T=f+1;T<=f+y;T++){const A=u[T];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=ne(s[c-A]);else{const k=A>>>2;switch(3&A){case 1:const P=u[++T],H=u[++T],J=i.data[k];"string"==typeof J?t0(s[11],s[k],null,J,P,w,H):Cs(i,J,s,P,w,s[11],H,!1);break;case 0:const pe=s[k];null!==pe&&V1(s[11],pe,w);break;case 2:YA(i,Ag(i,k),s,w);break;case 3:xo(i,Ag(i,k),c,s)}}}}else{const w=u[f+1];if(w>0&&3==(3&w)){const A=Ag(i,w>>>2);s[A.currentCaseLViewIndex]<0&&xo(i,A,c,s)}}f+=y}}function xo(i,s,u,c){let d=c[s.currentCaseLViewIndex];if(null!==d){let f=Sg;d<0&&(d=c[s.currentCaseLViewIndex]=~d,f=-1),ob(i,c,s.update[d],u,f)}}function YA(i,s,u,c){const d=function(i,s){let u=i.cases.indexOf(s);if(-1===u)switch(i.type){case 1:{const c=function(i,s){const u=Q0(s)(parseInt(i,10)),c=Tg[u];return void 0!==c?c:"other"}(s,P_);u=i.cases.indexOf(c),-1===u&&"other"!==c&&(u=i.cases.indexOf("other"));break}case 0:u=i.cases.indexOf("other")}return-1===u?null:u}(s,c);if(V_(s,u)!==d&&(ab(i,s,u),u[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const g=u[s.anchorIdx];g&&AE(i,s.create[d],u,g)}}function ab(i,s,u){let c=V_(s,u);if(null!==c){const d=s.remove[c];for(let f=0;f<d.length;f++){const g=d[f];if(g>0){const y=_a(g,u);null!==y&&Fv(u[11],y)}else ab(i,Ag(i,~g),u)}}}function KA(){const i=[];let u,c,s=-1;function f(y,w){s=0;const T=V_(y,w);c=null!==T?y.remove[T]:Z}function g(){if(s<c.length){const y=c[s++];return y>0?u[y]:(i.push(s,c),f(u[1].data[~y],u),g())}return 0===i.length?null:(c=i.pop(),s=i.pop(),g())}return function(y,w){for(u=w;i.length;)i.pop();return f(y.value,w),g}}const U_=/\ufffd(\d+):?\d*\ufffd/gi,qa=/\ufffd(\d+)\ufffd/,rs=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,to=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dd=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,xu=/\uE500/g;function NE(i,s,u,c,d,f,g){const y=xl(i,c,1,null);let w=y<<Un.SHIFT,T=qi();s===T&&(T=null),null===T&&(w|=Un.APPEND_EAGERLY),g&&(w|=Un.COMMENT,function(i){void 0===Nv&&(Nv=i())}(KA)),d.push(w,null===f?"":f);const A=Fp(i,y,g?32:1,null===f?"":f,null);nb(u,A);const k=A.index;return Yr(A,!1),null!==T&&s!==T&&function(i,s){let u=i.insertBeforeIndex;null===u?(G1(eb,tb),u=i.insertBeforeIndex=[null,s]):(function(i,s,u){i!=s&&jt(u,i,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(T,k),A}function ME(i,s,u,c,d,f,g){const y=g.match(U_),w=NE(i,s,u,f,c,y?null:g,!1);y&&Ie(d,g,w.index,null,0,null)}function Ie(i,s,u,c,d,f){const g=i.length,y=g+1;i.push(null,null);const w=g+2,T=s.split(U_);let A=0;for(let k=0;k<T.length;k++){const P=T[k];if(1&k){const H=d+parseInt(P,10);i.push(-1-H),A|=ko(H)}else""!==P&&i.push(P)}return i.push(u<<2|(c?1:0)),c&&i.push(c,f),i[g]=A,i[y]=i.length-w,A}function ko(i){return 1<<Math.min(i,31)}function vf(i){let s,f,u="",c=0,d=!1;for(;null!==(s=to.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(c=s.index,d=!1):(u+=i.substring(c,s.index+s[0].length),f=s[1],d=!0);return u+=i.substr(c),u}function RE(i,s,u,c,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:xl(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,u){i.push(ko(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,d,f),function(i,s,u){const c=i.data[s];null===c?i.data[s]=u:c.value=u}(i,f,y);const w=d.values;for(let T=0;T<w.length;T++){const A=w[T],k=[];for(let P=0;P<A.length;P++){const H=A[P];if("string"!=typeof H){const J=k.push(H)-1;A[P]=`\x3c!--\ufffd${J}\ufffd--\x3e`}}g=ub(i,y,s,u,c,d.cases[T],A.join(""),k)|g}g&&function(i,s,u){i.push(s,1,u<<2|3)}(u,g,f)}function fd(i){const s=[],u=[];let c=1,d=0;const f=j_(i=i.replace(rs,function(g,y,w){return c="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const w=j_(f[g++]);s.length>u.length&&u.push(w)}return{type:c,mainBinding:d,cases:s,values:u}}function j_(i){if(!i)return[];let s=0;const u=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(u.pop(),0==u.length){const w=i.substring(s,y);rs.test(w)?c.push(fd(w)):c.push(w),s=y+1}}else{if(0==u.length){const w=i.substring(s,y);c.push(w),s=y+1}u.push("{")}}const g=i.substring(s);return c.push(g),c}function ub(i,s,u,c,d,f,g,y){const w=[],T=[],A=[];s.cases.push(f),s.create.push(w),s.remove.push(T),s.update.push(A);const P=Dp(_o()).getInertBodyElement(g),H=yn(P)||P;return H?lb(i,s,u,c,w,T,A,H,d,y,0):0}function lb(i,s,u,c,d,f,g,y,w,T,A){let k=0,P=y.firstChild;for(;P;){const H=xl(i,u,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const J=P,pe=J.tagName.toLowerCase();if(Ap.hasOwnProperty(pe)){$_(d,gf,pe,w,H),i.data[H]=pe;const tt=J.attributes;for(let Ye=0;Ye<tt.length;Ye++){const St=tt.item(Ye),qr=St.name.toLowerCase();St.value.match(U_)?S.hasOwnProperty(qr)&&Ie(g,St.value,H,St.name,0,v[qr]?Cl:p[qr]?kc:null):hb(d,H,St)}k=lb(i,s,u,c,d,f,g,P,H,T,A+1)|k,is(f,H,A)}break;case Node.TEXT_NODE:const oe=P.textContent||"",Me=oe.match(U_);$_(d,null,Me?"":oe,w,H),is(f,H,A),Me&&(k=Ie(g,oe,H,null,0,null)|k);break;case Node.COMMENT_NODE:const _e=qa.exec(P.textContent||"");if(_e){const Ye=T[parseInt(_e[1],10)];$_(d,Dg,"",w,H),RE(i,u,c,w,Ye,H),cb(f,H,A)}}P=P.nextSibling}return k}function is(i,s,u){0===u&&i.push(s)}function cb(i,s,u){0===u&&(i.push(~s),i.push(s))}function $_(i,s,u,c,d){null!==s&&i.push(s),i.push(u,d,function(i,s,u){return 0|s<<17|u<<1}(0,c,d))}function hb(i,s,u){i.push(s<<1|1,u.name,u.value)}function PE(i,s,u=-1){const c=Rt(),d=De(),f=20+i,g=ps(c.consts,s),y=qi();c.firstCreatePass&&function(i,s,u,c,d,f){const g=qi(),y=[],w=[],T=[[]],A=function(i){return i.replace(xu," ")}(d=function(i,s){if(function(i){return-1===i}(s))return vf(i);{const u=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,c=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return vf(i.substring(u,c))}}(d,f)).split(dd);for(let k=0;k<A.length;k++){let P=A[k];if(0==(1&k)){const H=j_(P);for(let J=0;J<H.length;J++){let pe=H[J];if(0==(1&J)){const oe=pe;""!==oe&&ME(i,g,T[0],y,w,u,oe)}else{const oe=pe;if("object"!=typeof oe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);RE(i,u,w,s,oe,NE(i,g,T[0],u,y,"",!0).index)}}}else{const H=47===P.charCodeAt(0),pe=(P.charCodeAt(H?1:0),20+Number.parseInt(P.substring(H?2:1)));if(H)T.shift(),Yr(qi(),!1);else{const oe=IE(i,T[0],pe);T.unshift([]),Yr(oe,!0)}}}i.data[c]={create:y,update:w}}(c,null===y?0:y.index,d,f,g,u);const w=c.data[f],A=j1(c,y===d[6]?null:y,d);(function(i,s,u,c){const d=i[11];for(let f=0;f<s.length;f++){const g=s[f++],y=s[f],w=(g&Un.COMMENT)===Un.COMMENT,T=(g&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,A=g>>>Un.SHIFT;let k=i[A];null===k&&(k=i[A]=w?d.createComment(y):$m(d,y)),T&&null!==u&&Il(d,u,k,c,!1)}})(d,w.create,A,y&&8&y.type?d[y.index]:null),ba(!0)}function _b(i,s,u){PE(i,s,u),ba(!1)}function Mg(i){return function(i){i&&(Sg|=1<<Math.min(Za,31)),Za++}(ti(De(),ms(),i)),Mg}function FE(i){!function(i,s,u){if(Za>0){const c=i.data[u];ob(i,s,Array.isArray(c)?c:c.update,Kr()-Za-1,Sg)}Sg=0,Za=0}(Rt(),De(),i+20)}function Fi(i,s,u,c,d){if(i=G(i),Array.isArray(i))for(let f=0;f<i.length;f++)Fi(i[f],s,u,c,d);else{const f=Rt(),g=De();let y=Tu(i)?i:G(i.provide),w=m0(i);const T=wn(),A=1048575&T.providerIndexes,k=T.directiveStart,P=T.providerIndexes>>20;if(Tu(i)||!i.multi){const H=new ll(w,d,lr),J=Rg(y,s,d?A:A+P,k);-1===J?(an(wo(T,g),f,y),H_(f,i,s.length),s.push(y),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(H),g.push(H)):(u[J]=H,g[J]=H)}else{const H=Rg(y,s,A+P,k),J=Rg(y,s,A,A+P),pe=H>=0&&u[H],oe=J>=0&&u[J];if(d&&!oe||!d&&!pe){an(wo(T,g),f,y);const Me=function(i,s,u,c,d){const f=new ll(i,u,lr);return f.multi=[],f.index=s,f.componentProviders=0,xg(f,d,c&&!u),f}(d?Ul:UE,u.length,d,c,w);!d&&oe&&(u[J].providerFactory=Me),H_(f,i,s.length,0),s.push(y),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Me),g.push(Me)}else H_(f,i,H>-1?H:J,xg(u[d?J:H],w,!d&&c));!d&&c&&oe&&u[J].componentProviders++}}}function H_(i,s,u,c){const d=Tu(s);if(d||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=y.indexOf(u);-1===w?y.push(u,[c,g]):y[w+1].push(c,g)}else y.push(u,g)}}}function xg(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function Rg(i,s,u,c){for(let d=u;d<c;d++)if(s[d]===i)return d;return-1}function UE(i,s,u,c){return Bl(this.multi,[])}function Ul(i,s,u,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=kt(u,u[1],this.providerFactory.index,c);f=y.slice(0,g),Bl(d,f);for(let w=g;w<y.length;w++)f.push(y[w])}else f=[],Bl(d,f);return f}function Bl(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function jl(i,s=[]){return u=>{u.providersResolver=(c,d)=>function(i,s,u){const c=Rt();if(c.firstCreatePass){const d=hs(i);Fi(u,c.data,c.blueprint,d,!0),Fi(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class pd{}const Ru="ngComponent";class vb{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[Ru]=i,s}(s)}}let gd=(()=>{class i{}return i.NULL=new vb,i})();function G_(...i){}function ku(i,s){return new za(Si(i,s))}const nS=function(){return ku(wn(),De())};let za=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=nS,i})();function wb(i){return i instanceof za?i.nativeElement:i}class _d{}let rS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Cb(),i})();const Cb=function(){const i=De(),u=li(wn().index,i);return function(i){return i[11]}(Ls(u)?u:i)};let Og=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class HE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const q_=new HE("12.2.13");class z_{constructor(){}supports(s){return Qs(s)}create(s){return new ZE(s)}}const GE=(i,s)=>s;class ZE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||GE}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const g=!c||u&&u.currentIndex<Tb(c,d,f)?u:c,y=Tb(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{f||(f=[]);const T=y-d,A=w-d;if(T!=A){for(let P=0;P<T;P++){const H=P<f.length?f[P]:f[P]=0,J=H+P;A<=J&&J<T&&(f[P]=H+1)}f[g.previousIndex]=A-T}}y!==w&&s(g,y,w)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Qs(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,g,u=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],g=this._trackByFn(y,f),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,f,g,y)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,g,y),c=!0),u=u._next}else d=0,function(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Jc()]();let c;for(;!(c=u.next()).done;)s(c.value)}}(s,y=>{g=this._trackByFn(d,y),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,y,g,d)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,f,d)):s=this._addAfter(new qE(u,c),f,d),s}_verifyReinsertion(s,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,u,c),this._addToMoves(s,c),s}_moveAfter(s,u,c){return this._unlink(s),this._insertAfter(s,u,c),this._addToMoves(s,c),s}_addAfter(s,u,c){return this._insertAfter(s,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,c){const d=null===u?this._itHead:u._next;return s._next=d,s._prev=u,null===d?this._itTail=s:d._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new zE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,c=s._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qE{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Eb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const u=s._prevDup,c=s._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class zE{constructor(){this.map=new Map}put(s){const u=s.trackById;let c=this.map.get(u);c||(c=new Eb,this.map.set(u,c)),c.add(s)}get(s,u){const d=this.map.get(s);return d?d.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tb(i,s,u){const c=i.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+s+d}class WE{constructor(){}supports(s){return s instanceof Map||ig(s)}create(){return new YE}}class YE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||ig(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const c=s._prev;return u._next=s,u._prev=c,s._prev=u,c&&(c._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,u);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new iS(s);return this._records.set(s,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(c=>u(s[c],c))}}class iS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yd(){return new Ou([new z_])}let Ou=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||yd()),deps:[[i,new Ur,new Ma]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(i){return i.name||typeof i}(u)}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:yd}),i})();function Pg(){return new Fg([new WE])}let Fg=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||Pg()),deps:[[i,new Ur,new Ma]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:Pg}),i})();function Lg(i,s,u,c,d=!1){for(;null!==u;){const f=s[u.index];if(null!==f&&c.push(on(f)),Lr(f))for(let y=10;y<f.length;y++){const w=f[y],T=w[1].firstChild;null!==T&&Lg(w[1],w,T,c)}const g=u.type;if(8&g)Lg(i,s,u.child,c);else if(32&g){const y=Bm(u,s);let w;for(;w=y();)c.push(w)}else if(16&g){const y=Ov(s,u);if(Array.isArray(y))c.push(...y);else{const w=Rp(s[16]);Lg(w[1],w,y,c,!0)}}u=d?u.projectionNext:u.next}return c}class Vg{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Lg(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Lr(s)){const u=s[8],c=u?u.indexOf(this):-1;c>-1&&(Gm(s,c),xi(u,c))}this._attachedToViewContainer=!1}U1(this._lView[1],this._lView)}onDestroy(s){Bp(this._lView[1],this._lView,null,s)}markForCheck(){o_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){u0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,u){vo(!0);try{u0(i,s,u)}finally{vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Uc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Ib extends Vg{constructor(s){super(s),this._view=s}detectChanges(){Hc(this._view)}checkNoChanges(){!function(i){vo(!0);try{Hc(i)}finally{vo(!1)}}(this._view)}get context(){return null}}const oS=function(i){return function(i,s,u){if(Wu(i)&&!u){const c=li(i.index,s);return new Vg(c,c)}return 47&i.type?new Vg(s[16],s):null}(wn(),De(),16==(16&i))};let Ab=(()=>{class i{}return i.__NG_ELEMENT_ID__=oS,i})();const ii=[new WE],lS=new Ou([new z_]),cS=new Fg(ii),hS=function(){return bd(wn(),De())};let vd=(()=>{class i{}return i.__NG_ELEMENT_ID__=hS,i})();const JE=vd,QE=class extends JE{constructor(s,u,c){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(s){const u=this._declarationTContainer.tViews,c=Nl(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Lp(u,c,s),new Vg(c)}};function bd(i,s){return 4&i.type?new QE(s,i,ku(i,s)):null}class ia{}class Ug{}const xb=function(){return kb(wn(),De())};let Bg=(()=>{class i{}return i.__NG_ELEMENT_ID__=xb,i})();const eT=Bg,tT=class extends eT{constructor(s,u,c){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=c}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const s=qe(this._hostTNode,this._hostLView);if(vc(s)){const u=js(s,this._hostLView),c=zi(s);return new Ni(u[1].data[c+8],u)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=nT(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,c){const d=s.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(s,u,c,d,f){const g=c||this.parentInjector;if(!f&&null==s.ngModule&&g){const w=g.get(ia,null);w&&(f=w)}const y=s.create(g,d,void 0,f);return this.insert(y.hostView,u),y}insert(s,u){const c=s._lView,d=c[1];if(Lr(c[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const k=c[3],P=new tT(k,k[6],k[3]);P.detach(P.indexOf(s))}}const f=this._adjustIndex(u),g=this._lContainer;!function(i,s,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=s),c<f-10?(s[4]=u[d],_u(u,10+c,s)):(u.push(s),s[4]=null),s[3]=u;const g=s[17];null!==g&&u!==g&&function(i,s){const u=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===u?i[9]=[s]:u.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,c,g,f);const y=Pv(f,g),w=c[11],T=Zm(w,g[7]);return null!==T&&function(i,s,u,c,d,f){c[0]=d,c[6]=s,Uc(i,c,u,1,d,f)}(d,g[6],w,c,T,y),s.attachToViewContainerRef(),_u(Rb(g),f,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=nT(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),c=Gm(this._lContainer,u);c&&(xi(Rb(this._lContainer),u),U1(c[1],c))}detach(s){const u=this._adjustIndex(s,-1),c=Gm(this._lContainer,u);return c&&null!=xi(Rb(this._lContainer),u)?new Vg(c):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function nT(i){return i[8]}function Rb(i){return i[8]||(i[8]=[])}function kb(i,s){let u;const c=s[i.index];if(Lr(c))u=c;else{let d;if(8&i.type)d=on(c);else{const f=s[11];d=f.createComment("");const g=Si(i,s);Il(f,Zm(f,g),d,function(i,s){return kn(i)?i.nextSibling(s):s.nextSibling}(f,g),!1)}s[i.index]=u=Hp(c,s,d,i),Zp(s,u)}return new tT(u,i,s)}const Id={};class cy extends gd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=hn(s);return new dy(u,this.ngModule)}}function bT(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}const CT=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>R1});class dy extends pd{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(Jm).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return bT(this.componentDef.inputs)}get outputs(){return bT(this.componentDef.outputs)}create(s,u,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(u,c,d)=>{const f=i.get(u,Id,d);return f!==Id||c===Id?f:s.get(u,c,d)}}}(s,d.injector):s,g=f.get(_d,Tr),y=f.get(Og,null),w=g.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=c?function(i,s,u){if(kn(i))return i.selectRootElement(s,u===Pe.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):xv(g.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),k=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||R1,clean:u_,playerHandler:s||null,flags:0}}(),H=n_(0,null,null,1,0,null,null,null,null,null),J=Nl(null,H,P,k,null,null,g,w,y,f);let pe,oe;cu(J);try{const Me=function(i,s,u,c,d,f){const g=u[1];u[20]=i;const w=Ml(g,20,2,"#host",null),T=w.mergedAttrs=s.hostAttrs;null!==T&&(Gc(w,T,!0),null!==i&&(sh(d,i,T),null!==w.classes&&Lv(d,i,w.classes),null!==w.styles&&q1(d,i,w.styles)));const A=c.createRenderer(i,s),k=Nl(u,Uh(s),null,s.onPush?64:16,u[20],w,c,A,f||null,null);return g.firstCreatePass&&(an(wo(w,u),g,s.type),fC(g,w),gC(w,u.length,1)),Zp(u,k),u[20]=k}(A,this.componentDef,J,g,w);if(A)if(c)sh(w,A,["ng-version",q_.full]);else{const{attrs:_e,classes:tt}=function(i){const s=[],u=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&u.push(f);else{if(!Xo(d))break;d=f}c++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);_e&&sh(w,A,_e),tt&&tt.length>0&&Lv(w,A,tt.join(" "))}if(oe=lc(H,20),void 0!==u){const _e=oe.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const Ye=u[tt];_e.push(null!=Ye?Array.from(Ye):null)}}pe=function(i,s,u,c,d){const f=u[1],g=function(i,s,u){const c=wn();i.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),mC(i,c,s,xl(i,s,1,null),u));const d=kt(s,i,c.directiveStart,c);pi(d,s);const f=Si(c,s);return f&&pi(f,s),d}(f,u,s);if(c.components.push(g),i[8]=g,d&&d.forEach(w=>w(g,s)),s.contentQueries){const w=wn();s.contentQueries(1,g,w.directiveStart)}const y=wn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bo(y.index),s_(u[1],y,0,y.directiveStart,y.directiveEnd,s),$p(s,g)),g}(Me,this.componentDef,J,P,[C0]),Lp(H,J,null)}finally{$o()}return new NS(this.componentType,pe,ku(oe,J),J,oe)}}class NS extends class{}{constructor(s,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new Ib(d),this.componentType=s}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const xf=new Map;class hw extends ia{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cy(this);const c=Nn(s),d=s[lt]||null;d&&F_(d),this._bootstrapComponents=Pa(c.bootstrap),this._r3Injector=CC(s,u,[{provide:ia,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=En.THROW_IF_NOT_FOUND,c=je.Default){return s===En||s===ia||s===Zc?this:this._r3Injector.get(s,u,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Yg extends Ug{constructor(s){super(),this.moduleType=s,null!==Nn(s)&&function(i){const s=new Set;!function u(c){const d=Nn(c,!0),f=d.id;null!==f&&(function(i,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,xf.get(f),c),xf.set(f,c));const g=Pa(d.imports);for(const y of g)s.has(y)||(s.add(y),u(y))}(i)}(s)}create(s){return new hw(this.moduleType,s)}}function py(i,s,u,c){return mw(De(),or(),i,s,u,c)}function fw(i,s,u,c,d){return function(i,s,u,c,d,f,g){const y=s+u;return ja(i,y,d,f)?Es(i,y+2,g?c.call(g,d,f):c(d,f)):Kg(i,y+2)}(De(),or(),i,s,u,c,d)}function gy(i,s,u,c,d,f){return function(i,s,u,c,d,f,g,y){const w=s+u;return function(i,s,u,c,d){const f=ja(i,s,u,c);return ti(i,s+2,d)||f}(i,w,d,f,g)?Es(i,w+3,y?c.call(y,d,f,g):c(d,f,g)):Kg(i,w+3)}(De(),or(),i,s,u,c,d,f)}function Kg(i,s){const u=i[s];return u===bt?void 0:u}function mw(i,s,u,c,d,f){const g=s+u;return ti(i,g,d)?Es(i,g+1,f?c.call(f,d):c(d)):Kg(i,g+1)}function ST(i,s){const u=Rt();let c;const d=i+20;u.firstCreatePass?(c=function(i,s){if(s)for(let u=s.length-1;u>=0;u--){const c=s[u];if(i===c.name)return c}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const f=c.factory||(c.factory=Ii(c.type)),g=qn(lr);try{const y=Ta(!1),w=f();return Ta(y),function(i,s,u,c){u>=i.data.length&&(i.data[u]=null,i.blueprint[u]=null),s[u]=c}(u,De(),d,w),w}finally{qn(g)}}function NT(i,s,u){const c=i+20,d=De(),f=Zi(d,c);return function(i,s){So.isWrapped(s)&&(s=So.unwrap(s),i[Kr()]=bt);return s}(d,function(i,s){return i[1].data[s].pure}(d,c)?mw(d,or(),s,f.transform,u,f):f.transform(u))}function Jt(i){return s=>{setTimeout(i,void 0,s)}}const sa=class extends a.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,c){var d,f,g;let y=s,w=u||(()=>null),T=c;if(s&&"object"==typeof s){const k=s;y=null===(d=k.next)||void 0===d?void 0:d.bind(k),w=null===(f=k.error)||void 0===f?void 0:f.bind(k),T=null===(g=k.complete)||void 0===g?void 0:g.bind(k)}this.__isAsync&&(w=Jt(w),y&&(y=Jt(y)),T&&(T=Jt(T)));const A=super.subscribe({next:y,error:w,complete:T});return s instanceof j.w&&s.add(A),A}};function RT(){return this._results[Jc()]()}class ql{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Jc(),c=ql.prototype;c[u]||(c[u]=RT)}get changes(){return this._changes||(this._changes=new sa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const c=this;c.dirty=!1;const d=Ki(s);(this._changesDetected=!function(i,s,u){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Po{constructor(s){this.queryList=s,this.matches=null}clone(){return new Po(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const c=null!==s.contentQueries?s.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const g=u.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new _y(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==LT(s,u).matches&&this.queries[u].setDirty()}}class kT{constructor(s,u,c=null){this.predicate=s,this.flags=u,this.read=c}}class Ff{constructor(s=[]){this.queries=s}elementStart(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Ff(u):null}template(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class yy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new yy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,u,OT(u,f)),this.matchTNodeWithReadOption(s,u,hl(u,s,f,!1,!1))}else c===vd?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,hl(u,s,c,!1,!1))}matchTNodeWithReadOption(s,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===za||d===Bg||d===vd&&4&u.type)this.addMatch(u.index,-2);else{const f=hl(u,s,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function OT(i,s){const u=i.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===s)return u[c+1];return null}function vw(i,s,u,c){return-1===u?function(i,s){return 11&i.type?ku(i,s):4&i.type?bd(i,s):null}(s,i):-2===u?function(i,s,u){return u===za?ku(s,i):u===vd?bd(s,i):u===Bg?kb(s,i):void 0}(i,s,c):kt(i,i[1],u,s)}function PT(i,s,u,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,g=u.matches,y=[];for(let w=0;w<g.length;w+=2){const T=g[w];y.push(T<0?null:vw(s,f[T],g[w+1],u.metadata.read))}d.matches=y}return d.matches}function Gn(i,s,u,c){const d=i.queries.getByIndex(u),f=d.matches;if(null!==f){const g=PT(i,s,d,u);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)c.push(g[y/2]);else{const T=f[y+1],A=s[-w];for(let k=10;k<A.length;k++){const P=A[k];P[17]===P[3]&&Gn(P[1],P,T,c)}if(null!==A[9]){const k=A[9];for(let P=0;P<k.length;P++){const H=k[P];Gn(H[1],H,T,c)}}}}}return c}function VS(i){const s=De(),u=Rt(),c=pc();jo(c+1);const d=LT(u,c);if(i.dirty&&Xu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Gn(u,s,c,[]):PT(u,s,d,c);i.reset(f,wb),i.notifyOnChanges()}return!0}return!1}function US(i,s,u){const c=Rt();c.firstCreatePass&&(ww(c,new kT(i,s,u),-1),2==(2&s)&&(c.staticViewQueries=!0)),FT(c,De(),s)}function Nr(i,s,u,c){const d=Rt();if(d.firstCreatePass){const f=wn();ww(d,new kT(s,u,c),f.index),function(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(d,i),2==(2&u)&&(d.staticContentQueries=!0)}FT(d,De(),u)}function bw(){return i=De(),s=pc(),i[19].queries[s].queryList;var i,s}function FT(i,s,u){const c=new ql(4==(4&u));Bp(i,s,c,c.destroy),null===s[19]&&(s[19]=new _y),s[19].queries.push(new Po(c))}function ww(i,s,u){null===i.queries&&(i.queries=new Ff),i.queries.track(new yy(s,u))}function LT(i,s){return i.queries.getByIndex(s)}function VT(i,s){return bd(i,s)}const Aw=new On("Application Initializer");let xd=(()=>{class i{constructor(u){this.appInits=u,this.resolve=G_,this.reject=G_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(id(f))u.push(f);else if(v_(f)){const g=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});u.push(g)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)(Cn(Aw,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const QT=new On("AppId"),Sw={provide:QT,useFactory:function(){return`${Nw()}${Nw()}${Nw()}`},deps:[]};function Nw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XT=new On("Platform Initializer"),eD=new On("Platform ID"),tD=new On("appBootstrapListener");let nD=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const My=new On("LocaleId"),rN=new On("DefaultCurrencyCode");class Mw{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const xy=function(i){return new Yg(i)},Ry=xy,sD=function(i){return Promise.resolve(xy(i))},so=function(i){const s=xy(i),c=Pa(Nn(i).declarations).reduce((d,f)=>{const g=hn(f);return g&&d.push(new dy(g)),d},[]);return new Mw(s,c)},os=so,tm=function(i){return Promise.resolve(so(i))};let ju=(()=>{class i{constructor(){this.compileModuleSync=Ry,this.compileModuleAsync=sD,this.compileModuleAndAllComponentsSync=os,this.compileModuleAndAllComponentsAsync=tm}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const xw=(()=>Promise.resolve(0))();function Kl(i){"undefined"==typeof Zone?xw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class us{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Yt.requestAnimationFrame,s=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,nm(i),i.isCheckStableRunning=!0,Rw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),nm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,g,y)=>{try{return Hf(i),u.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),oD(i)}},onInvoke:(u,c,d,f,g,y,w)=>{try{return Hf(i),u.invoke(d,f,g,y,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),oD(i)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,nm(i),Rw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,c){return this._inner.run(s,u,c)}runTask(s,u,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,s,kd,G_,G_);try{return f.runTask(g,u,c)}finally{f.cancelTask(g)}}runGuarded(s,u,c){return this._inner.runGuarded(s,u,c)}runOutsideAngular(s){return this._outer.run(s)}}const kd={};function Rw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function nm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Hf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function oD(i){i._nesting--,Rw(i)}class dN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(s,u,c){return s.apply(u,c)}runGuarded(s,u,c){return s.apply(u,c)}runOutsideAngular(s){return s()}runTask(s,u,c,d){return s.apply(u,c)}}let aD=(()=>{class i{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),Kl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kl(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return i.\u0275fac=function(u){return new(u||i)(Cn(us))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),uD=(()=>{class i{constructor(){this._applications=new Map,ky.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return ky.findTestabilityInTree(this,u,c)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class lD{addToWindow(s){}findTestabilityInTree(s,u,c){return null}}function hN(i){ky=i}let ky=new lD,Oy=!0,kw=!1;function Gf(){return kw=!0,Oy}function fN(){if(kw)throw new Error("Cannot enable prod mode after platform setup.");Oy=!1}let Ja;const _N=new On("AllowMultipleToken");class pR{constructor(s,u){this.name=s,this.token=u}}function yN(i,s,u=[]){const c=`Platform: ${s}`,d=new On(c);return(f=[])=>{let g=dD();if(!g||g.injector.get(_N,!1))if(i)i(u.concat(f).concat({provide:d,useValue:!0}));else{const y=u.concat(f).concat({provide:d,useValue:!0},{provide:qc,useValue:"platform"});!function(i){if(Ja&&!Ja.destroyed&&!Ja.injector.get(_N,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ja=i.get(hD);const s=i.get(XT,null);s&&s.forEach(u=>u())}(En.create({providers:y,name:c}))}return function(i){const s=dD();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function dD(){return Ja&&!Ja.destroyed?Ja:null}let hD=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const y=function(i,s){let u;return u="noop"===i?new dN:("zone.js"===i?void 0:i)||new us({enableLongStackTrace:Gf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:us,useValue:y}];return y.run(()=>{const T=En.create({providers:w,parent:this.injector,name:u.moduleType.name}),A=u.create(T),k=A.injector.get(kh,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:H=>{k.handleError(H)}});A.onDestroy(()=>{Ow(this._modules,A),P.unsubscribe()})}),function(i,s,u){try{const c=u();return id(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(k,y,()=>{const P=A.injector.get(xd);return P.runInitializers(),P.donePromise.then(()=>(F_(A.injector.get(My,O_)||O_),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=rm({},c);return function(i,s,u){const c=new Yg(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(Od);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Q(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(Cn(En))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function rm(i,s){return Array.isArray(s)?s.reduce(rm,i):Object.assign(Object.assign({},i),s)}let Od=(()=>{class i{constructor(u,c,d,f,g){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),w=new O.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),Kl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(y,w.pipe((0,ae.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof pd?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ia),y=d.create(En.NULL,[],c||d.selector,f),w=y.location.nativeElement,T=y.injector.get(aD,null),A=T&&y.injector.get(uD);return T&&A&&A.registerApplication(w,T),y.onDestroy(()=>{this.detachView(y.hostView),Ow(this.components,y),A&&A.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Ow(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(tD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(u){return new(u||i)(Cn(us),Cn(En),Cn(kh),Cn(gd),Cn(xd))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function Ow(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}class pD{}class mD{}const wN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pw=(()=>{class i{constructor(u,c){this._compiler=u,this._config=c||wN}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>im(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>im(g,c,d))}}return i.\u0275fac=function(u){return new(u||i)(Cn(ju),Cn(mD,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function im(i,s,u){if(!i)throw new Error(`Cannot find '${u}' in '${s}'`);return i}const Lw=function(i){return null},Ly=yN(null,"core",[{provide:eD,useValue:"unknown"},{provide:hD,deps:[En]},{provide:uD,deps:[]},{provide:nD,deps:[]}]),SD=[{provide:Od,useClass:Od,deps:[us,En,kh,gd,xd]},{provide:CT,deps:[us],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:xd,useClass:xd,deps:[[new Ma,Aw]]},{provide:ju,useClass:ju,deps:[]},Sw,{provide:Ou,useFactory:function(){return lS},deps:[]},{provide:Fg,useFactory:function(){return cS},deps:[]},{provide:My,useFactory:function(i){return F_(i=i||"undefined"!=typeof $localize&&$localize.locale||O_),i},deps:[[new bu(My),new Ma,new Ur]]},{provide:rN,useValue:"USD"}];let AN=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(Cn(Od))},i.\u0275mod=Ve({type:i}),i.\u0275inj=mn({providers:SD}),i})()},8939:(We,we,F)=>{"use strict";F.d(we,{hO:()=>he,xv:()=>z,Dh:()=>Q,GT:()=>ee,cc:()=>Oe,on:()=>L,pX:()=>ae});var a=F(7716),j=F(7841),O=F(9396);We=F.hmd(We);const le=["ngOnDestroy"],ae=(ne,se,Ee,Re={})=>new Proxy(ne,{get:(At,Mt)=>Ee.runOutsideAngular(()=>{var zt;if(ne[Mt])return(null===(zt=null==Re?void 0:Re.spy)||void 0===zt?void 0:zt.get)&&Re.spy.get(Mt,ne[Mt]),ne[Mt];if(le.indexOf(Mt)>-1)return()=>{};const _t=se.toPromise().then(Dn=>{const Ct=Dn&&Dn[Mt];return"function"==typeof Ct?Ct.bind(Dn):Ct&&Ct.then?Ct.then(gt=>Ee.run(()=>gt)):Ee.run(()=>Ct)});return new Proxy(()=>{},{get:(Dn,Ct)=>_t[Ct],apply:(Dn,Ct,gt)=>_t.then(Ot=>{var Xe;const Bt=Ot&&Ot(...gt);return(null===(Xe=null==Re?void 0:Re.spy)||void 0===Xe?void 0:Xe.apply)&&Re.spy.apply(Mt,gt,Bt),Bt})})})}),ee=(ne,se)=>{se.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Re=>{Object.defineProperty(ne.prototype,Re,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Re))})})};class ce{constructor(se){return se}}const Q=new a.OlP("angularfire2.app.options"),z=new a.OlP("angularfire2.app.name");function L(ne,se,Ee){const At="object"==typeof Ee&&Ee||{};At.name=At.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const zt=j.Z.apps.filter(_t=>_t&&_t.name===At.name)[0]||se.runOutsideAngular(()=>j.Z.initializeApp(ne,At));try{JSON.stringify(ne)!==JSON.stringify(zt.options)&&B("error",`${zt.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new ce(zt)}const B=(ne,...se)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ne](...se)},G={provide:ce,useFactory:L,deps:[Q,a.R0b,[new a.FiY,z]]};let he=(()=>{class ne{constructor(Ee){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",a.q4F.full,Ee.toString())}static initializeApp(Ee,Re){return{ngModule:ne,providers:[{provide:Q,useValue:Ee},{provide:z,useValue:Re}]}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(a.LFG(a.Lbi))},ne.\u0275mod=a.oAB({type:ne}),ne.\u0275inj=a.cJS({providers:[G]}),ne})();function Oe(ne,se,Ee,Re,At){const[,Mt,zt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ne)||[];if(Mt)return function(ne,se){try{return ne.toString()===se.toString()}catch(Ee){return ne===se}}(At,zt)||(ge("error",`${se} was already initialized on the ${Ee} Firebase App with different settings.${Te?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:At,was:zt})),Mt;{const _t=Re();return globalThis.\u0275AngularfireInstanceCache.push([ne,_t,At]),_t}}const Te=!!We.hot,ge=(ne,...se)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ne](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(We,we,F)=>{"use strict";F.d(we,{q4:()=>Dm,iC:()=>Qn,fc:()=>ph,HU:()=>fh,vb:()=>_u,JM:()=>bs});var a=F(7716),j=F(2329),O=F(8239),le=F(8026),ae=F(3854),ee=F(3910),ce=F(5422),Q=F(6676);const z="@firebase/installations",L="0.5.4",G=`w:${L}`,he="FIS_v2",se=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function Re({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function At(E){return{token:E.token,requestStatus:2,expiresIn:Ot(E.expiresIn),creationTime:Date.now()}}function Mt(E,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(E,I){const U=(yield I.json()).error;return se.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function _t({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Dn(E,{refreshToken:I}){const x=_t(E);return x.append("Authorization",function(E){return`${he} ${E}`}(I)),x}function Ct(E){return gt.apply(this,arguments)}function gt(){return(gt=(0,O.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Ot(E){return Number(E.replace("s","000"))}function Bt(E,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(E,{fid:I}){const x=Re(E),fe={method:"POST",headers:_t(E),body:JSON.stringify({fid:I,authVersion:he,appId:E.appId,sdkVersion:G})},Ae=yield Ct(()=>fetch(x,fe));if(Ae.ok){const Ge=yield Ae.json();return{fid:Ge.fid||I,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:At(Ge.authToken)}}throw yield Mt("Create Installation",Ae)})).apply(this,arguments)}function cs(E){return new Promise(I=>{setTimeout(I,E)})}const $i=/^[cdef][\w-]{21}$/;function Wt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return $i.test(x)?x:""}catch(E){return""}}function ds(E){return`${E.appName}!${E.appId}`}const Ms=new Map;function Ci(E,I){const x=ds(E);mn(x,I),function(E,I){const x=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=E=>{mn(E.data.key,E.data.fid)}),Qt);x&&x.postMessage({key:E,fid:I}),0===Ms.size&&Qt&&(Qt.close(),Qt=null)}(x,I)}function mn(E,I){const x=Ms.get(E);if(x)for(const U of x)U(I)}let Qt=null;const bn="firebase-installations-store";let Zn=null;function Ti(){return Zn||(Zn=(0,Q.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(bn)}})),Zn}function je(E,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(E,I){const x=ds(E),te=(yield Ti()).transaction(bn,"readwrite"),fe=te.objectStore(bn),Ae=yield fe.get(x);return yield fe.put(I,x),yield te.complete,(!Ae||Ae.fid!==I.fid)&&Ci(E,I.fid),I})).apply(this,arguments)}function gr(E){return qn.apply(this,arguments)}function qn(){return(qn=(0,O.Z)(function*(E){const I=ds(E),U=(yield Ti()).transaction(bn,"readwrite");yield U.objectStore(bn).delete(I),yield U.complete})).apply(this,arguments)}function st(E,I){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(E,I){const x=ds(E),te=(yield Ti()).transaction(bn,"readwrite"),fe=te.objectStore(bn),Ae=yield fe.get(x),Ge=I(Ae);return void 0===Ge?yield fe.delete(x):yield fe.put(Ge,x),yield te.complete,Ge&&(!Ae||Ae.fid!==Ge.fid)&&Ci(E,Ge.fid),Ge})).apply(this,arguments)}function xt(E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(E){let I;const x=yield st(E,U=>{const te=zn(U),fe=en(E,te);return I=fe.registrationPromise,fe.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function zn(E){return Yt(E||{fid:Wt(),registrationStatus:0})}function en(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(se.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(E,I){return et.apply(this,arguments)}(E,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ca(E)}:{installationEntry:I}}function et(){return(et=(0,O.Z)(function*(E,I){try{return je(E,yield Bt(E,I))}catch(x){throw Ee(x)&&409===x.customData.serverCode?yield gr(E):yield je(E,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ca(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(E){let I=yield tn(E);for(;1===I.registrationStatus;)yield cs(100),I=yield tn(E);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield xt(E);return U||x}return I})).apply(this,arguments)}function tn(E){return st(E,I=>{if(!I)throw se.create("installation-not-found");return Yt(I)})}function Yt(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ho(E,I){return q.apply(this,arguments)}function q(){return(q=(0,O.Z)(function*({appConfig:E,platformLoggerProvider:I},x){const U=Z(E,x),te=Dn(E,x),fe=I.getImmediate({optional:!0});fe&&te.append("x-firebase-client",fe.getPlatformInfoString());const Ge={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:G}})},ze=yield Ct(()=>fetch(U,Ge));if(ze.ok)return At(yield ze.json());throw yield Mt("Generate Auth Token",ze)})).apply(this,arguments)}function Z(E,{fid:I}){return`${Re(E)}/${I}/authTokens:generate`}function W(E){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*(E,I=!1){let x;const U=yield st(E.appConfig,fe=>{if(!Wn(fe))throw se.create("not-registered");const Ae=fe.authToken;if(!I&&nr(Ae))return fe;if(1===Ae.requestStatus)return x=ue(E,I),fe;{if(!navigator.onLine)throw se.create("app-offline");const Ge=K(fe);return x=Gt(E,Ge),Ge}});return x?yield x:U.authToken})).apply(this,arguments)}function ue(E,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,O.Z)(function*(E,I){let x=yield lt(E.appConfig);for(;1===x.authToken.requestStatus;)yield cs(100),x=yield lt(E.appConfig);const U=x.authToken;return 0===U.requestStatus?W(E,I):U})).apply(this,arguments)}function lt(E){return st(E,I=>{if(!Wn(I))throw se.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Gt(E,I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(E,I){try{const x=yield ho(E,I),U=Object.assign(Object.assign({},I),{authToken:x});return yield je(E.appConfig,U),x}catch(x){if(!Ee(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield je(E.appConfig,U)}else yield gr(E.appConfig);throw x}})).apply(this,arguments)}function Wn(E){return void 0!==E&&2===E.registrationStatus}function nr(E){return 2===E.requestStatus&&!function(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function K(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function Ve(){return(Ve=(0,O.Z)(function*(E){const I=E,{installationEntry:x,registrationPromise:U}=yield xt(I.appConfig);return U?U.catch(console.error):W(I).catch(console.error),x.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(E,I=!1){const x=E;return yield It(x.appConfig),(yield W(x,I)).token})).apply(this,arguments)}function It(E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(E){const{registrationPromise:I}=yield xt(E);I&&(yield I)})).apply(this,arguments)}function fn(E){return se.create("missing-app-config-values",{valueName:E})}const Wr="installations";(0,le._registerComponent)(new ee.wA(Wr,E=>{const I=E.getProvider("app").getImmediate();return{app:I,appConfig:function(E){if(!E||!E.options)throw fn("App Configuration");if(!E.name)throw fn("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!E.options[x])throw fn(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I),platformLoggerProvider:(0,le._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ee.wA("installations-internal",E=>{const I=E.getProvider("app").getImmediate(),x=(0,le._getProvider)(I,Wr).getImmediate();return{getId:()=>function(E){return Ve.apply(this,arguments)}(x),getToken:te=>function(E){return Vt.apply(this,arguments)}(x,te)}},"PRIVATE")),(0,le.registerVersion)(z,L),(0,le.registerVersion)(z,L,"esm2017");const da="@firebase/remote-config",mr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vr{constructor(I,x,U,te){this.client=I,this.storage=x,this.storageCache=U,this.logger=te}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,te=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(te&&x.isCachedDataFresh(I.cacheMaxAgeMillis,U))return te;I.eTag=te&&te.eTag;const fe=yield x.client.fetch(I),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ae),fe})()}}function hs(E=navigator){return E.languages&&E.languages[0]||E.language}class Er{constructor(I,x,U,te,fe,Ae){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=U,this.projectId=te,this.apiKey=fe,this.appId=Ae}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:x.appId,language_code:hs()},Ut={method:"POST",headers:Ge,body:JSON.stringify(ze)},nn=fetch(Ae,Ut),sr=new Promise((Zs,fi)=>{I.signal.addEventListener(()=>{const mt=new Error("The operation was aborted.");mt.name="AbortError",fi(mt)})});let hi;try{yield Promise.race([nn,sr]),hi=yield nn}catch(Zs){let fi="fetch-client-network";throw"AbortError"===Zs.name&&(fi="fetch-timeout"),mr.create(fi,{originalErrorMessage:Zs.message})}let ar=hi.status;const Sa=hi.headers.get("ETag")||void 0;let yu,Na;if(200===hi.status){let Zs;try{Zs=yield hi.json()}catch(fi){throw mr.create("fetch-client-parse",{originalErrorMessage:fi.message})}yu=Zs.entries,Na=Zs.state}if("INSTANCE_STATE_UNSPECIFIED"===Na?ar=500:"NO_CHANGE"===Na?ar=304:("NO_TEMPLATE"===Na||"EMPTY_CONFIG"===Na)&&(yu={}),304!==ar&&200!==ar)throw mr.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:Sa,config:yu}})()}}class Gd{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:U}){var te=this;return(0,O.Z)(function*(){yield function(E,I){return new Promise((x,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(x,te);E.addEventListener(()=>{clearTimeout(fe),U(mr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const fe=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(fe))throw fe;const Ae={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Ae),te.attemptFetch(I,Ae)}})()}}class qd{constructor(I,x,U,te,fe){this.app=I,this._client=x,this._storageCache=U,this._storage=te,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rc(E,I){const x=E.target.error||void 0;return mr.create(I,{originalErrorMessage:x&&x.message})}const mo="app_namespace_store";class Wd{constructor(I,x,U,te=function(){return new Promise((E,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{I(rc(U,"storage-open"))},x.onsuccess=U=>{E(U.target.result)},x.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(mo,{keyPath:"compositeKey"})}}}catch(x){I(mr.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,fe)=>{const Ge=U.transaction([mo],"readonly").objectStore(mo),ze=x.createCompositeKey(I);try{const Ut=Ge.get(ze);Ut.onerror=nn=>{fe(rc(nn,"storage-get"))},Ut.onsuccess=nn=>{const sr=nn.target.result;te(sr?sr.value:void 0)}}catch(Ut){fe(mr.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(I,x){var U=this;return(0,O.Z)(function*(){const te=yield U.openDbPromise;return new Promise((fe,Ae)=>{const ze=te.transaction([mo],"readwrite").objectStore(mo),Ut=U.createCompositeKey(I);try{const nn=ze.put({compositeKey:Ut,value:x});nn.onerror=sr=>{Ae(rc(sr,"storage-set"))},nn.onsuccess=()=>{fe()}}catch(nn){Ae(mr.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,fe)=>{const Ge=U.transaction([mo],"readwrite").objectStore(mo),ze=x.createCompositeKey(I);try{const Ut=Ge.delete(ze);Ut.onerror=nn=>{fe(rc(nn,"storage-delete"))},Ut.onsuccess=()=>{te()}}catch(Ut){fe(mr.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class bm{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const x=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),fe=yield x;fe&&(I.lastFetchStatus=fe);const Ae=yield U;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Ge=yield te;Ge&&(I.activeConfig=Ge)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function sp(){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("remote-config",function(I,{instanceIdentifier:x}){const U=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mr.create("registration-window");if(!(0,ae.hl)())throw mr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ae,appId:Ge}=U.options;if(!fe)throw mr.create("registration-project-id");if(!Ae)throw mr.create("registration-api-key");if(!Ge)throw mr.create("registration-app-id");const ze=new Wd(Ge,U.name,x=x||"firebase"),Ut=new bm(ze),nn=new ce.Yd(da);nn.logLevel=ce.in.ERROR;const sr=new Er(te,le.SDK_VERSION,x,fe,Ae,Ge),hi=new Gd(sr,ze),ar=new Vr(hi,ze,Ut,nn),Sa=new qd(U,ar,Ut,ze,nn);return function(E){const I=(0,ae.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(da,"0.3.3"),(0,le.registerVersion)(da,"0.3.3","esm2017");const Ku="/firebase-messaging-sw.js",Kd="/firebase-cloud-messaging-push-scope",sc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ii="google.c.a.c_id",Vs="google.c.a.c_l",_r="google.c.a.ts",oc="google.c.a.e";var pa=(()=>{return(E=pa||(pa={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",pa;var E})();function Ai(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jd(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),te=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)te[fe]=U.charCodeAt(fe);return te}const ga="fcm_token_details_db",ac="fcm_token_object_Store";function Gi(E){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(ga))return null;let I=null;return(yield(0,Q.openDb)(ga,5,function(){var U=(0,O.Z)(function*(te){var fe;if(te.oldVersion<2||!te.objectStoreNames.contains(ac))return;const Ae=te.transaction.objectStore(ac),Ge=yield Ae.index("fcmSenderId").get(E);if(yield Ae.clear(),Ge)if(2===te.oldVersion){const ze=Ge;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(fe=ze.createTime)&&void 0!==fe?fe:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ai(ze.vapidKey)}}}else if(3===te.oldVersion){const ze=Ge;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}else if(4===te.oldVersion){const ze=Ge;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(ga),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Qu(I)?I:null})).apply(this,arguments)}function Qu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const _o="firebase-messaging-store";let ma=null;function kn(){return ma||(ma=(0,Q.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(_o)}})),ma}function nu(E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,O.Z)(function*(E){const I=_a(E),U=yield(yield kn()).transaction(_o).objectStore(_o).get(I);if(U)return U;{const te=yield Gi(E.appConfig.senderId);if(te)return yield yo(E,te),te}})).apply(this,arguments)}function yo(E,I){return on.apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(E,I){const x=_a(E),te=(yield kn()).transaction(_o,"readwrite");return yield te.objectStore(_o).put(I,x),yield te.complete,I})).apply(this,arguments)}function ap(E){return uc.apply(this,arguments)}function uc(){return(uc=(0,O.Z)(function*(E){const I=_a(E),U=(yield kn()).transaction(_o,"readwrite");yield U.objectStore(_o).delete(I),yield U.complete})).apply(this,arguments)}function _a({appConfig:E}){return E.appId}const Mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lc(E,I){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(E,I){const x=yield el(E),U=ct(I),te={method:"POST",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(ps(E.appConfig),te)).json()}catch(Ae){throw Mn.create("token-subscribe-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function li(E,I){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,O.Z)(function*(E,I){const x=yield el(E),U=ct(I.subscriptionOptions),te={method:"PATCH",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(`${ps(E.appConfig)}/${I.token}`,te)).json()}catch(Ae){throw Mn.create("token-update-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-update-no-token");return fe.token})).apply(this,arguments)}function ru(E,I){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(E,I){const U={method:"DELETE",headers:yield el(E)};try{const fe=yield(yield fetch(`${ps(E.appConfig)}/${I}`,U)).json();if(fe.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(te){throw Mn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function ps({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function el(E){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*({appConfig:E,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ct({p256dh:E,auth:I,endpoint:x,vapidKey:U}){const te={web:{endpoint:x,auth:I,p256dh:E}};return U!==sc&&(te.web.applicationPubKey=U),te}const Xd=6048e5;function eh(E){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(E){const I=yield su(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Ai(I.getKey("auth")),p256dh:Ai(I.getKey("p256dh"))},U=yield nu(E.firebaseDependencies);if(U){if(ou(U.subscriptionOptions,x))return Date.now()>=U.createTime+Xd?dc(E,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield ru(E.firebaseDependencies,U.token)}catch(te){console.warn(te)}return De(E.firebaseDependencies,x)}return De(E.firebaseDependencies,x)})).apply(this,arguments)}function tl(E){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(E){const I=yield nu(E.firebaseDependencies);I&&(yield ru(E.firebaseDependencies,I.token),yield ap(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function dc(E,I){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(E,I){try{const x=yield li(E.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield yo(E.firebaseDependencies,U),x}catch(x){throw yield tl(E),x}})).apply(this,arguments)}function De(E,I){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,O.Z)(function*(E,I){const U={token:yield lc(E,I),createTime:Date.now(),subscriptionOptions:I};return yield yo(E,U),U.token})).apply(this,arguments)}function su(E,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jd(I)})})).apply(this,arguments)}function ou(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function qi(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,I){if(!I.notification)return;E.notification={};const x=I.notification.title;x&&(E.notification.title=x);const U=I.notification.body;U&&(E.notification.body=U);const te=I.notification.image;te&&(E.notification.image=te)}(I,E),function(E,I){!I.data||(E.data=I.data)}(I,E),function(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const x=I.fcmOptions.link;x&&(E.fcmOptions.link=x);const U=I.fcmOptions.analytics_label;U&&(E.fcmOptions.analyticsLabel=U)}(I,E),I}function up(E){return"object"==typeof E&&!!E&&Ii in E}function nl(E,I){const x=[];for(let U=0;U<E.length;U++)x.push(E.charAt(U)),U<I.length&&x.push(I.charAt(U));return x.join("")}function vo(E){return Mn.create("missing-app-config-values",{valueName:E})}nl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(I,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(E){if(!E||!E.options)throw vo("App Configuration Object");if(!E.name)throw vo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const U of I)if(!x[U])throw vo(U);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Kr(E){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ku,{scope:Kd}),E.swRegistration.update().catch(()=>{})}catch(I){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ms(E,I){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield Kr(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function wm(E,I){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=sc)})).apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(E,I){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield wm(E,null==I?void 0:I.vapidKey),yield ms(E,null==I?void 0:I.serviceWorkerRegistration),eh(E)})).apply(this,arguments)}function fc(E,I,x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(E,I,x){const U=pc(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Ii],message_name:x[Vs],message_time:x[_r],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pc(E){switch(E){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function il(){return(il=(0,O.Z)(function*(E,I){const x=I.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===pa.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(qi(x)):E.onMessageHandler.next(qi(x)));const U=x.data;up(U)&&"1"===U[oc]&&(yield fc(E,x.messageType,U))})).apply(this,arguments)}const lu="@firebase/messaging";function ol(){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("messaging",E=>{const I=new or(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(E,I){return il.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,le._registerComponent)(new ee.wA("messaging-internal",E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:U=>function(E,I){return uu.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,le.registerVersion)(lu,"0.9.4"),(0,le.registerVersion)(lu,"0.9.4","esm2017");const ul="analytics",gc="firebase_id",Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ho="https://www.googletagmanager.com/gtag/js",rr=new ce.Yd("@firebase/analytics");function _c(E){return Promise.all(E.map(I=>I.catch(x=>x)))}function rh(E,I){const x=document.createElement("script");x.src=`${Ho}?l=${E}&id=${I}`,x.async=!0,document.head.appendChild(x)}function ll(E,I,x,U,te,fe){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(E,I,x,U,te,fe){const Ae=U[te];try{if(Ae)yield I[Ae];else{const ze=(yield _c(x)).find(Ut=>Ut.measurementId===te);ze&&(yield I[ze.appId])}}catch(Ge){rr.error(Ge)}E("config",te,fe)})).apply(this,arguments)}function ih(E,I,x,U,te){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,O.Z)(function*(E,I,x,U,te){try{let fe=[];if(te&&te.send_to){let Ae=te.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ge=yield _c(x);for(const ze of Ae){const Ut=Ge.find(sr=>sr.measurementId===ze),nn=Ut&&I[Ut.appId];if(!nn){fe=[];break}fe.push(nn)}}0===fe.length&&(fe=Object.values(I)),yield Promise.all(fe),E("event",U,te||{})}catch(fe){rr.error(fe)}})).apply(this,arguments)}function Cm(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(Ho))return I;return null}const ys=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cl=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function fp(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function vc(E){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(E){var I;const{appId:x,apiKey:U}=E,te={method:"GET",headers:fp(U)},fe=Ca.replace("{app-id}",x),Ae=yield fetch(fe,te);if(200!==Ae.status&&304!==Ae.status){let Ge="";try{const ze=yield Ae.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(Ge=ze.error.message)}catch(ze){}throw ys.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ge})}return Ae.json()})).apply(this,arguments)}function Ea(E){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(E,I=cl,x){const{appId:U,apiKey:te,measurementId:fe}=E.options;if(!U)throw ys.create("no-app-id");if(!te){if(fe)return{measurementId:fe,appId:U};throw ys.create("no-api-key")}const Ae=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new wc;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==x?x:6e4),bc({appId:U,apiKey:te,measurementId:fe},Ae,Ge,I)})).apply(this,arguments)}function bc(E,I,x){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:x},U,te=cl){const{appId:fe,measurementId:Ae}=E;try{yield dv(U,I)}catch(Ge){if(Ae)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:fe,measurementId:Ae};throw Ge}try{const Ge=yield vc(E);return te.deleteThrottleMetadata(fe),Ge}catch(Ge){if(!oh(Ge)){if(te.deleteThrottleMetadata(fe),Ae)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:fe,measurementId:Ae};throw Ge}const ze=503===Number(Ge.customData.httpStatus)?(0,ae.$s)(x,te.intervalMillis,30):(0,ae.$s)(x,te.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+ze,backoffCount:x+1};return te.setThrottleMetadata(fe,Ut),rr.debug(`Calling attemptFetch again in ${ze} millis`),bc(E,Ut,U,te)}})).apply(this,arguments)}function dv(E,I){return new Promise((x,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(x,te);E.addEventListener(()=>{clearTimeout(fe),U(ys.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function oh(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class wc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ah(){return uh.apply(this,arguments)}function uh(){return(uh=(0,O.Z)(function*(){if(!(0,ae.hl)())return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(E,I,x,U,te,fe,Ae){var Ge;const ze=Ea(E);ze.then(ar=>{x[ar.measurementId]=ar.appId,E.options.measurementId&&ar.measurementId!==E.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>rr.error(ar)),I.push(ze);const Ut=ah().then(ar=>{if(ar)return U.getId()}),[nn,sr]=yield Promise.all([ze,Ut]);Cm()||rh(fe,nn.measurementId),te("js",new Date);const hi=null!==(Ge=null==Ae?void 0:Ae.config)&&void 0!==Ge?Ge:{};return hi.origin="firebase",hi.update=!0,null!=sr&&(hi[gc]=sr),te("config",nn.measurementId,hi),nn.measurementId})).apply(this,arguments)}class pn{constructor(I){this.app=I}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},an=[];const lh={};let vs,Kn,xn="dataLayer",pu=!1;function kt(E,I,x){!function(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((U,te)=>`(${te+1}) ${U}`).join(" "),x=ys.create("invalid-analytics-context",{errorInfo:I});rr.warn(x.message)}}();const U=E.options.appId;if(!U)throw ys.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ys.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[U])throw ys.create("already-exists",{id:U});if(!pu){!function(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(xn);const{wrappedGtag:fe,gtagCore:Ae}=function(E,I,x,U,te){let fe=function(...Ae){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(fe=window[te]),window[te]=function(E,I,x,U){function fe(){return(fe=(0,O.Z)(function*(Ae,Ge,ze){try{"event"===Ae?yield ih(E,I,x,Ge,ze):"config"===Ae?yield ll(E,I,x,U,Ge,ze):E("set",Ge)}catch(Ut){rr.error(Ut)}})).apply(this,arguments)}return function(Ae,Ge,ze){return fe.apply(this,arguments)}}(fe,E,I,x),{gtagCore:fe,wrappedGtag:window[te]}}(qe,an,lh,xn,"gtag");Kn=fe,vs=Ae,pu=!0}return qe[U]=function(E,I,x,U,te,fe,Ae){return hu.apply(this,arguments)}(E,an,lh,I,vs,xn,x),new pn(E)}function Co(){return(Co=(0,O.Z)(function*(E,I,x,U,te){if(te&&te.global)E("event",x,U);else{const fe=yield I;E("event",x,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function Eo(){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}const pp="@firebase/analytics";(0,le._registerComponent)(new ee.wA(ul,(I,{options:x})=>kt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le._registerComponent)(new ee.wA("analytics-internal",function(I){try{const x=I.getProvider(ul).getImmediate();return{logEvent:(U,te,fe)=>function(E,I,x,U){E=(0,ae.m9)(E),function(E,I,x,U,te){return Co.apply(this,arguments)}(Kn,qe[E.app.options.appId],I,x,U).catch(te=>rr.error(te))}(x,U,te,fe)}}catch(x){throw ys.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.registerVersion)(pp,"0.7.4"),(0,le.registerVersion)(pp,"0.7.4","esm2017");var gp=F(7771),Tm=F(3637),Da=F(8307),mu=F(9746),hh=F(2639);const Dm=new a.GfV("7.2.0"),Dc="__angularfire_symbol__analyticsIsSupported",To="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupported";function bs(E,I,x){if(I){if(1===I.length)return I[0];const fe=I.filter(Ae=>Ae.app===x);if(1===fe.length)return fe[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Dc]||(globalThis[Dc]=Eo().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Aa]||(globalThis[Aa]=ol().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[To]||(globalThis[To]=sp().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const _u=(E,I)=>{const x=I?[I]:(0,j.C6)(),U=[];return x.forEach(te=>{te.container.getProvider(E).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function xi(){}class Hs{constructor(I,x=gp.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,U){const te=this.zone;return this.delegate.schedule(function(Ae){te.runGuarded(()=>{I.apply(this,[Ae])})},x,U)}}class Ac{constructor(I){this.zone=I,this.task=null}call(I,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)),x.pipe((0,Da.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fh=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Hs(Zone.current)),this.insideAngular=x.run(()=>new Hs(Zone.current,Tm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function qo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ph(E){return E.pipe((0,mu.QV)(qo().outsideAngular))}function Qn(E){return qo(),function(E){return function(x){return(x=x.lift(new Ac(E.ngZone))).pipe((0,hh.R)(E.outsideAngular),(0,mu.QV)(E.insideAngular))}}(qo())(E)}},2476:(We,we,F)=>{"use strict";F.d(we,{$:()=>wm,A:()=>co,E:()=>Lr,G:()=>Er,I:()=>Us,K:()=>Os,L:()=>nu,M:()=>ap,N:()=>uc,P:()=>te,Q:()=>_a,R:()=>qo,T:()=>on,U:()=>Zi,V:()=>li,W:()=>el,X:()=>qi,Y:()=>au,Z:()=>up,_:()=>or,a:()=>vs,a0:()=>hc,a1:()=>fc,a2:()=>pc,a3:()=>il,a4:()=>cu,a5:()=>lp,a6:()=>th,a7:()=>$o,a8:()=>cp,a9:()=>Yn,aA:()=>Wo,aB:()=>qs,aC:()=>Fr,aG:()=>dl,aJ:()=>Mn,aa:()=>cv,ab:()=>ul,ae:()=>Ca,af:()=>rr,ag:()=>_c,aj:()=>cc,ak:()=>Em,am:()=>bc,an:()=>uh,ao:()=>rp,ap:()=>Zn,aq:()=>eu,ar:()=>Ps,as:()=>Xt,at:()=>Eh,au:()=>vh,av:()=>Qt,aw:()=>ke,ax:()=>je,ay:()=>ft,az:()=>ml,b:()=>xn,c:()=>ar,d:()=>Zs,e:()=>yu,f:()=>bu,g:()=>_h,h:()=>Ur,i:()=>gp,j:()=>Nm,k:()=>kc,l:()=>Qn,m:()=>Th,n:()=>Ap,o:()=>cs,r:()=>mp,s:()=>ph,u:()=>x,z:()=>ds});var a=F(8239),j=F(3854),O=F(8026);function ce(v,p){var _={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(_[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(_[C[S]]=v[C[S]])}return _}var Xe=F(5422),Bt=F(3910);const cs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},co={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ds=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ms=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ci=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xs=new Xe.Yd("@firebase/auth");function mn(v,...p){xs.logLevel<=Xe.in.ERROR&&xs.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Xt(v,...p){throw Hi(v,...p)}function Qt(v,...p){return Hi(v,...p)}function Rs(v,p,_){const C=Object.assign(Object.assign({},Ms()),{[p]:_});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function Ei(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Xt(v,"argument-error"),Rs(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(v,...p){if("string"!=typeof v){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ci.create(v,...p)}function ke(v,p,..._){if(!v)throw Hi(p,..._)}function bn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw mn(p),new Error(p)}function Zn(v,p){v||bn(p)}const Ti=new Map;function je(v){Zn(v instanceof Function,"Expected a class definition");let p=Ti.get(v);return p?(Zn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ti.set(v,p),p)}function qn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function st(){return"http:"===nt()||"https:"===nt()}function nt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class zn{constructor(p,_){this.shortDelay=p,this.longDelay=_,Zn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){Zn(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ca=new zn(3e4,6e4);function cn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,_,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(v,p,_,C,S={}){return dn(v,S,()=>{let R={},X={};C&&("GET"===p?X=C:R={body:JSON.stringify(C)});const ye=(0,j.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),$e=new(Pe.headers());return $e.set("Content-Type","application/json"),$e.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&$e.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(W(v,v.config.apiHost,_,ye),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function dn(v,p,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(v,p,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},et),p);try{const S=new be(v),R=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const X=yield R.json();if("needConfirmation"in X)throw ue(v,"account-exists-with-different-credential",X);if(R.ok&&!("errorMessage"in X))return X;{const ye=R.ok?X.errorMessage:X.error.message,[$e,Fe]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw ue(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw ue(v,"email-already-in-use",X);const ot=C[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Rs(v,ot,Fe);Xt(v,ot)}}catch(S){if(S instanceof j.ZR)throw S;Xt(v,"network-request-failed")}})).apply(this,arguments)}function q(v,p,_,C){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(v,p,_,C,S={}){const R=yield tn(v,p,_,C,S);return"mfaPendingCredential"in R&&Xt(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function W(v,p,_,C){const S=`${p}${_}?${C}`;return v.config.emulator?en(v.config,S):`${v.config.apiScheme}://${S}`}class be{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Qt(this.auth,"timeout")),ca.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ue(v,p,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Qt(v,p,C);return S.customData._tokenResponse=_,S}function lt(){return(lt=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gt(v,p){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ie(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,a.Z)(function*(v,p=!1){const _=(0,j.m9)(v),C=yield _.getIdToken(p),S=dt(C);ke(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,X=null==R?void 0:R.sign_in_provider;return{claims:S,token:C,authTime:ie(Ve(S.auth_time)),issuedAtTime:ie(Ve(S.iat)),expirationTime:ie(Ve(S.exp)),signInProvider:X||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ve(v){return 1e3*Number(v)}function dt(v){const[p,_,C]=v.split(".");if(void 0===p||void 0===_||void 0===C)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,j.tV)(_);return S?JSON.parse(S):(mn("Failed to decode base64 JWT payload"),null)}catch(S){return mn("Caught error parsing JWT payload as JSON",S),null}}function It(v,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&hn(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function hn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Sn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class vt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(v){var p;const _=v.auth,C=yield v.getIdToken(),S=yield It(v,Wn(_,{idToken:C}));ke(null==S?void 0:S.users.length,_,"internal-error");const R=S.users[0];v._notifyReloadListener(R);const X=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?fn(R.providerUserInfo):[],ye=Ft(v.providerData,X),ot=!!v.isAnonymous&&!(v.email&&R.passwordHash||(null==ye?void 0:ye.length)),Zt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ye,metadata:new vt(R.createdAt,R.lastLoginAt),isAnonymous:ot};Object.assign(v,Zt)})).apply(this,arguments)}function Ue(){return(Ue=(0,a.Z)(function*(v){const p=(0,j.m9)(v);yield Nn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ft(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function fn(v){return v.map(p=>{var{providerId:_}=p,C=ce(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ks(){return(ks=(0,a.Z)(function*(v,p){const _=yield dn(v,{},()=>{const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=v.config,X=W(v,S,"/v1/token",`key=${R}`);return Pe.fetch()(X,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ke(p.idToken,"internal-error"),ke(void 0!==p.idToken,"internal-error"),ke(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=dt(v);return ke(p,"internal-error"),ke(void 0!==p.exp,"internal-error"),ke(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,a.Z)(function*(){return ke(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,a.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:X}=yield function(v,p){return ks.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(S,R,Number(X))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:S,expirationTime:R}=_,X=new Vn;return C&&(ke("string"==typeof C,"internal-error",{appName:p}),X.refreshToken=C),S&&(ke("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),R&&(ke("number"==typeof R,"internal-error",{appName:p}),X.expirationTime=R),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return bn("not implemented")}}function Cr(v,p){ke("string"==typeof v||void 0===v,"internal-error",{appName:p})}class _n{constructor(p){var{uid:_,auth:C,stsTokenManager:S}=p,R=ce(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new vt(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,a.Z)(function*(){const C=yield It(_,_.stsTokenManager.getToken(_.auth,p));return ke(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(ke(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new _n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,a.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield Nn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,a.Z)(function*(){const _=yield p.getIdToken();return yield It(p,function(v,p){return lt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,S,R,X,ye,$e,Fe,ot;const Zt=null!==(C=_.displayName)&&void 0!==C?C:void 0,yn=null!==(S=_.email)&&void 0!==S?S:void 0,Br=null!==(R=_.phoneNumber)&&void 0!==R?R:void 0,vn=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Oc=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,Dh=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,Ih=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Sp=null!==(ot=_.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Ah,emailVerified:km,isAnonymous:Sh,providerData:Io,stsTokenManager:Om}=_;ke(Ah&&Om,p,"internal-error");const Tl=Vn.fromJSON(this.name,Om);ke("string"==typeof Ah,p,"internal-error"),Cr(Zt,p.name),Cr(yn,p.name),ke("boolean"==typeof km,p,"internal-error"),ke("boolean"==typeof Sh,p,"internal-error"),Cr(Br,p.name),Cr(vn,p.name),Cr(Oc,p.name),Cr(Dh,p.name),Cr(Ih,p.name),Cr(Sp,p.name);const Pm=new _n({uid:Ah,auth:p,email:yn,emailVerified:km,displayName:Zt,isAnonymous:Sh,photoURL:vn,phoneNumber:Br,tenantId:Oc,stsTokenManager:Tl,createdAt:Ih,lastLoginAt:Sp});return Io&&Array.isArray(Io)&&(Pm.providerData=Io.map(Pc=>Object.assign({},Pc))),Dh&&(Pm._redirectEventId=Dh),Pm}static _fromIdTokenResponse(p,_,C=!1){return(0,a.Z)(function*(){const S=new Vn;S.updateFromServerResponse(_);const R=new _n({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Nn(R),R})()}}const Os=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,a.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,a.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,a.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function ft(v,p,_){return`firebase:${v}:${p}:${_}`}class ui{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:S,name:R}=this.auth;this.fullUserKey=ft(this.userKey,S.apiKey,R),this.fullPersistenceKey=ft("persistence",S.apiKey,R),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?_n._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,a.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,a.Z)(function*(){if(!_.length)return new ui(je(Os),p,C);const S=(yield Promise.all(_.map(function(){var Fe=(0,a.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let R=S[0]||je(Os);const X=ft(C,p.config.apiKey,p.name);let ye=null;for(const Fe of _)try{const ot=yield Fe._get(X);if(ot){const Zt=_n._fromJSON(p,ot);Fe!==R&&(ye=Zt),R=Fe;break}}catch(ot){}const $e=S.filter(Fe=>Fe._shouldAllowMigration);return R._shouldAllowMigration&&$e.length?(R=$e[0],ye&&(yield R._set(X,ye.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,a.Z)(function*(ot){if(ot!==R)try{yield ot._remove(X)}catch(Zt){}});return function(ot){return Fe.apply(this,arguments)}}())),new ui(R,p,C)):new ui(R,p,C)})()}}function po(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ha(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(mr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Di(p))return"Blackberry";if(Et(p))return"Webos";if(Lo(p))return"Safari";if((p.includes("chrome/")||Or(p))&&!p.includes("edge/"))return"Chrome";if(Ps(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function mr(v=(0,j.z$)()){return/firefox\//i.test(v)}function Lo(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Or(v=(0,j.z$)()){return/crios\//i.test(v)}function ha(v=(0,j.z$)()){return/iemobile/i.test(v)}function Ps(v=(0,j.z$)()){return/android/i.test(v)}function Di(v=(0,j.z$)()){return/blackberry/i.test(v)}function Et(v=(0,j.z$)()){return/webos/i.test(v)}function eu(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function rp(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vo(v=(0,j.z$)()){return eu(v)||Ps(v)||Et(v)||Di(v)||/windows phone/i.test(v)||ha(v)}function Fs(v,p=[]){let _;switch(v){case"Browser":_=po((0,j.z$)());break;case"Worker":_=`${po((0,j.z$)())}-${v}`;break;default:_=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class Pr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ls(this),this.idTokenSubscription=new Ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=je(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var S,R;C._deleted||(C.persistenceManager=yield ui.create(C,p),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(R=C.currentUser)||void 0===R?void 0:R.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,a.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const R=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==S?void 0:S._redirectEventId,ye=yield _.tryRedirectSignIn(p);(!R||R===X)&&(null==ye?void 0:ye.user)&&(S=ye.user)}return S?S._redirectEventId?(ke(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,a.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,a.Z)(function*(){try{yield Nn(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,a.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&ke(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,a.Z)(function*(){if(!_._deleted)return p&&ke(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,a.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(je(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,a.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&je(p)||_._popupRedirectResolver;ke(C,_,"argument-error"),_.redirectPersistenceManager=yield ui.create(_,[je(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,a.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,a.Z)(function*(){if(p===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,S){if(this._deleted)return()=>{};const R="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(X,this,"internal-error"),X.then(()=>R(this.currentUser)),"function"==typeof _?p.addObserver(_,C,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Fr(v){return(0,j.m9)(v)}class Ls{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(v,p,_){const C=Fr(v);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),R=tc(p),{host:X,port:ye}=function(v){const p=tc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const R=S[1];return{host:R,port:Vr(C.substr(R.length+1))}}{const[R,X]=C.split(":");return{host:R,port:Vr(X)}}}(p);C.config.emulator={url:`${R}//${X}${null===ye?"":`:${ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:ye,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function tc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Vr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Er{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return bn("not implemented")}_getIdTokenResponse(p){return bn("not implemented")}_linkToIdToken(p,_){return bn("not implemented")}_getReauthenticationResolver(p){return bn("not implemented")}}function ip(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",cn(v,p))})).apply(this,arguments)}function Gd(v,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ym(v,p){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",cn(v,p))})).apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPassword",cn(v,p))})).apply(this,arguments)}function ic(v,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",cn(v,p))})).apply(this,arguments)}function vm(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function bm(v,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,a.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function lv(v,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,a.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function sp(v,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}class Ii extends Er{constructor(p,_,C,S=null){super("password",C),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ii(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new Ii(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return mo.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return Kd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Xt(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return Gd(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Ju.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Xt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vs(v,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithIdp",cn(v,p))})).apply(this,arguments)}class Us extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Us(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=_,R=ce(_,["providerId","signInMethod"]);if(!C||!S)return null;const X=new Us(C,S);return X.idToken=R.idToken||void 0,X.accessToken=R.accessToken||void 0,X.secret=R.secret,X.nonce=R.nonce,X.pendingToken=R.pendingToken||null,X}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function pa(v,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",cn(v,p))})).apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p))})).apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(v,p){const _=yield q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p));if(_.temporaryProof)throw ue(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Gi={USER_NOT_FOUND:"user-not-found"};function Qu(){return(Qu=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gi)})).apply(this,arguments)}class fs extends Er{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new fs({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new fs({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ga.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return ac.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Qu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:R}=p;return C||_||S||R?new fs({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:R}):null}}class ma{constructor(p){var _,C,S,R,X,ye;const $e=(0,j.zd)((0,j.pd)(p)),Fe=null!==(_=$e.apiKey)&&void 0!==_?_:null,ot=null!==(C=$e.oobCode)&&void 0!==C?C:null,Zt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=$e.mode)&&void 0!==S?S:null);ke(Fe&&ot&&Zt,"argument-error"),this.apiKey=Fe,this.operation=Zt,this.code=ot,this.continueUrl=null!==(R=$e.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ye=$e.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const _=function(v){const p=(0,j.zd)((0,j.pd)(v)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||p||v}(p);try{return new ma(_)}catch(C){return null}}}let nu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Ii._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=ma.parseLink(C);return ke(S,"argument-error"),Ii._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Tr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class on extends yo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ke("providerId"in _&&"signInMethod"in _,"argument-error"),Us._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ke(p.idToken||p.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return on.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return on.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:R,nonce:X,providerId:ye}=p;if(!C&&!S&&!_&&!R||!ye)return null;try{return new on(ye)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:R})}catch($e){return null}}}let ap=(()=>{class v extends yo{constructor(){super("facebook.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return v.credential(C,S)}catch(R){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),_a=(()=>{class v extends yo{constructor(){super("github.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Mn extends Er{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:R}=_;return C&&S&&R&&C===S?new Mn(C,R):null}static _create(p,_){return new Mn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends Tr{constructor(p){ke(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Mn.fromJSON(p);return ke(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Mn._create(C,_)}catch(S){return null}}}let li=(()=>{class v extends yo{constructor(){super("twitter.com")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return v.credential(C,S)}catch(R){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xu(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signUp",cn(v,p))})).apply(this,arguments)}class yr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,S=!1){return(0,a.Z)(function*(){const R=yield _n._fromIdTokenResponse(p,C,S),X=ps(C);return new yr({user:R,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=ps(C);return new yr({user:p,providerId:S,_tokenResponse:C,operationType:_})})()}}function ps(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function el(v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(v){var p;const _=Fr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new yr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Xu(_,{returnSecureToken:!0}),S=yield yr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class ct extends j.ZR{constructor(p,_,C,S){var R;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,ct.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,S){return new ct(p,_,C,S)}}function Xd(v,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ct._fromErrorAndOperation(v,R,p,C):R})}function eh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function cc(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,a.Z)(function*(v,p){const _=(0,j.m9)(v);yield gs(!0,_,p);const{providerUserInfo:C}=yield Gt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=eh(C||[]);return _.providerData=_.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function iu(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(v,p,_=!1){const C=yield It(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return yr._forOperation(v,"link",C)})).apply(this,arguments)}function gs(v,p,_){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(v,p,_){yield Nn(p);const S=!1===v?"provider-already-linked":"no-such-provider";ke(eh(p.providerData).has(_)===v,p.auth,S)})).apply(this,arguments)}function Rt(v,p){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(v,p,_=!1){const{auth:C}=v,S="reauthenticate";try{const R=yield It(v,Xd(C,S,p,v),_);ke(R.idToken,C,"internal-error");const X=dt(R.idToken);ke(X,C,"internal-error");const{sub:ye}=X;return ke(v.uid===ye,C,"user-mismatch"),yr._forOperation(v,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Xt(C,"user-mismatch"),R}})).apply(this,arguments)}function wn(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,a.Z)(function*(v,p,_=!1){const C="signIn",S=yield Xd(v,C,p),R=yield yr._fromIdTokenResponse(v,C,S);return _||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function qi(v,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(v,p){return wn(Fr(v),p)})).apply(this,arguments)}function au(v,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,a.Z)(function*(v,p){const _=(0,j.m9)(v);return yield gs(!1,_,p.providerId),iu(_,p)})).apply(this,arguments)}function up(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(v,p){return Rt((0,j.m9)(v),p)})).apply(this,arguments)}function rl(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,a.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithCustomToken",cn(v,p))})).apply(this,arguments)}function or(v,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(v,p){const _=Fr(v),C=yield rl(_,{token:p,returnSecureToken:!0}),S=yield yr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class va{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ms._fromServerResponse(p,_):Xt(p,"internal-error")}}class ms extends va{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ms(_)}}function Dr(v,p,_){var C;ke((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ke(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ke(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ke(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function wm(v,p,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"PASSWORD_RESET",email:p};_&&Dr(C,S,_),yield bm(C,S)})).apply(this,arguments)}function hc(v,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(v,p,_){yield ip((0,j.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function fc(v,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(v,p){yield ym((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function pc(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(v,p){const _=(0,j.m9)(v),C=yield ip(_,{oobCode:p}),S=C.requestType;switch(ke(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,_,"internal-error");default:ke(C.email,_,"internal-error")}let R=null;return C.mfaInfo&&(R=va._fromServerResponse(Fr(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function il(v,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,a.Z)(function*(v,p){const{data:_}=yield pc((0,j.m9)(v),p);return _.email})).apply(this,arguments)}function cu(v,p,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(v,p,_){const C=Fr(v),S=yield Xu(C,{returnSecureToken:!0,email:p,password:_}),R=yield yr._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}function lp(v,p,_){return qi((0,j.m9)(v),nu.credential(p,_))}function th(v,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};ke(_.handleCodeInApp,C,"argument-error"),_&&Dr(C,S,_),yield lv(C,S)})).apply(this,arguments)}function $o(v,p){const _=ma.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function cp(v,p,_){return du.apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=nu.credentialWithLink(p,_||qn());return ke(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),qi(C,S)})).apply(this,arguments)}function Ir(v,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",cn(v,p))})).apply(this,arguments)}function Yn(v,p){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(v,p){const C={identifier:p,continueUri:st()?qn():"http://localhost"},{signinMethods:S}=yield Ir((0,j.m9)(v),C);return S||[]})).apply(this,arguments)}function cv(v,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,a.Z)(function*(v,p){const _=(0,j.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Dr(_.auth,S,p);const{email:R}=yield vm(_.auth,S);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function ul(v,p,_){return gc.apply(this,arguments)}function gc(){return(gc=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Dr(C.auth,R,_);const{email:X}=yield sp(C.auth,R);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function mc(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ca(v,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,j.m9)(v),R={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield It(C,mc(C.auth,R));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const ye=C.providerData.find(({providerId:$e})=>"password"===$e);ye&&(ye.displayName=C.displayName,ye.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function rr(v,p){return rh((0,j.m9)(v),p,null)}function _c(v,p){return rh((0,j.m9)(v),null,p)}function rh(v,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(v,p,_){const{auth:C}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),_&&(R.password=_);const X=yield It(v,Gd(C,R));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Go{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class ih extends Go{constructor(p,_,C,S){super(p,_,C),this.username=S}}class Zo extends Go{constructor(p,_){super(p,"facebook.com",_)}}class yc extends ih{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class dp extends Go{constructor(p,_){super(p,"google.com",_)}}class Cm extends ih{constructor(p,_,C){super(p,"twitter.com",_,C)}}function Em(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Go(R,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new Zo(R,S);case"github.com":return new yc(R,S);case"google.com":return new dp(R,S);case"twitter.com":return new Cm(R,S,v.screenName||null);case"custom":case"anonymous":return new Go(R,null);default:return new Go(R,C,S)}}(_)}class Ea{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Ea("enroll",p)}static _fromMfaPendingCredential(p){return new Ea("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ea._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Ea._fromIdtoken(p.multiFactorSession.idToken)}return null}}class js{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=Fr(p),S=_.customData._serverResponse,R=(S.mfaInfo||[]).map(ye=>va._fromServerResponse(C,ye));ke(S.mfaPendingCredential,C,"internal-error");const X=Ea._fromMfaPendingCredential(S.mfaPendingCredential);return new js(X,R,function(){var ye=(0,a.Z)(function*($e){const Fe=yield $e._process(C,X);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const Zt=yield yr._fromIdTokenResponse(C,_.operationType,ot);return yield C._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return ke(_.user,C,"internal-error"),yr._forOperation(_.user,_.operationType,ot);default:Xt(C,"internal-error")}});return function($e){return ye.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,a.Z)(function*(){return _.signInResolver(p)})()}}function bc(v,p){var _;const C=(0,j.m9)(v),S=p;return ke(p.customData.operationType,C,"argument-error"),ke(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),js._fromError(C,S)}function Ta(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",cn(v,p))}class wc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>va._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new wc(p)}getSession(){var p=this;return(0,a.Z)(function*(){return Ea._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,a.Z)(function*(){const S=p,R=yield C.getSession(),X=yield It(C.user,S._process(C.user.auth,R,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(p){var _=this;return(0,a.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),R=yield It(_.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(v,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(R);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const ah=new WeakMap;function uh(v){const p=(0,j.m9)(v);return ah.has(p)||ah.set(p,wc._fromUser(p)),ah.get(p)}const wo="__sak";class hu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class v extends hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,j.z$)();return Lo(v)||eu(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Vo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),R=this.localCache[C];S!==R&&_(C,R,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((ye,$e,Fe)=>{this.notifyListeners(ye,Fe)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(S);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const R=()=>{const ye=this.storage.getItem(S);!C&&this.localCache[S]===ye||this.notifyListeners(S,ye)},X=this.storage.getItem(S);(0,j.w1)()&&10===document.documentMode&&X!==_.newValue&&_.newValue!==_.oldValue?setTimeout(R,10):R()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const R of Array.from(S))R(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,R=this;return(0,a.Z)(function*(){yield S().call(R,_,C),R.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,a.Z)(function*(){const R=yield C().call(S,_);return S.localCache[_]=JSON.stringify(R),R})()}_remove(_){var C=()=>super._remove,S=this;return(0,a.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),vs=(()=>{class v extends hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let pu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(R=>R.isListeningto(_));if(C)return C;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,a.Z)(function*(){const S=_,{eventId:R,eventType:X,data:ye}=S.data,$e=C.handlersMap[X];if(!(null==$e?void 0:$e.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:X});const Fe=Array.from($e).map(function(){var Zt=(0,a.Z)(function*(yn){return yn(S.origin,ye)});return function(yn){return Zt.apply(this,arguments)}}()),ot=yield function(v){return Promise.all(v.map(function(){var p=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:R,eventType:X,response:ot})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dl(v="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return v+_}class hl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var S=this;return(0,a.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let X,ye;return new Promise(($e,Fe)=>{const ot=dl("",20);R.port1.start();const Zt=setTimeout(()=>{Fe(new Error("unsupported_event"))},C);ye={messageChannel:R,onMessage(yn){const Br=yn;if(Br.data.eventId===ot)switch(Br.data.status){case"ack":clearTimeout(Zt),X=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e(Br.data.response);break;default:clearTimeout(Zt),clearTimeout(X),Fe(new Error("invalid_response"))}}},S.handlers.add(ye),R.port1.addEventListener("message",ye.onMessage),S.target.postMessage({eventType:p,eventId:ot,data:_},[R.port2])}).finally(()=>{ye&&S.removeMessageHandler(ye)})})()}}function kt(){return window}function Co(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Ni(){return(Ni=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",Mi="firebaseLocalStorage",$s="fbase_key";class Yi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jr(v,p){return v.transaction([Mi],p?"readwrite":"readonly").objectStore(Mi)}function fl(){const v=indexedDB.open(Tc,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Mi,{keyPath:$s})}catch(S){_(S)}}),v.addEventListener("success",(0,a.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Mi)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(Tc);return new Yi(v).toPromise()}(),p(yield fl()))}))})}function ut(v,p,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(v,p,_){const C=Jr(v,!0).put({[$s]:p,value:_});return new Yi(C).toPromise()})).apply(this,arguments)}function dh(){return(dh=(0,a.Z)(function*(v,p){const _=Jr(v,!1).get(p),C=yield new Yi(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function On(v,p){const _=Jr(v,!0).delete(p);return new Yi(_).toPromise()}const gp=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield fl()),_.db})()}_withRetries(_){var C=this;return(0,a.Z)(function*(){let S=0;for(;;)try{const R=yield C._openDb();return yield _(R)}catch(R){if(S++>3)throw R;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return Co()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=pu._getInstance(Co()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(S,R){return{keyProcessed:(yield _._poll()).includes(R.key)}});return function(S,R){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return Ni.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new hl(_.activeServiceWorker);const R=yield _.sender._send("ping",{},800);!R||(null===(C=R[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield fl();return yield ut(_,wo,"1"),yield On(_,wo),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(R=>ut(R,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,a.Z)(function*(){const S=yield C._withRetries(R=>function(v,p){return dh.apply(this,arguments)}(R,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(S=>On(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const C=yield _._withRetries(X=>{const ye=Jr(X,!1).getAll();return new Yi(ye).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:X,value:ye}of C)R.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(ye)&&(_.notifyListeners(X,ye),S.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!R.has(X)&&(_.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const R of Array.from(S))R(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Tm(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",cn(v,p))}function hh(){return(hh=(0,a.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const R=Qt("internal-error");R.customData=S,_(R)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Dc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class Aa{constructor(p){this.auth=p,this.counter=Fn,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new Bn(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||Fn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,a.Z)(function*(){var C;return null===(C=_._widgets.get(p||Fn))||void 0===C||C.execute(),""})()}}class Bn{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ke(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=Dc("rcb"),Ki=new zn(3e4,6e4);class _u{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,_=""){return ke((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(kt().grecaptcha):new Promise((C,S)=>{const R=kt().setTimeout(()=>{S(Qt(p,"network-request-failed"))},Ki.get());kt()[gl]=()=>{kt().clearTimeout(R),delete kt()[gl];const ye=kt().grecaptcha;if(!ye)return void S(Qt(p,"internal-error"));const $e=ye.render;ye.render=(Fe,ot)=>{const Zt=$e(Fe,ot);return this.counter++,Zt},this.hostLanguage=_,C(ye)},Pn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:gl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(R),S(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hs{load(p){return(0,a.Z)(function*(){return new Aa(p)})()}clearedOneInstance(){}}const Ac="recaptcha",fh={theme:"light",type:"image"};class qo{constructor(p,_=Object.assign({},fh),C){this.parameters=_,this.type=Ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(C),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ke(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hs:new _u,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(R=>{const X=ye=>{!ye||(p.tokenChangeListeners.delete(X),R(ye))};p.tokenChangeListeners.add(X),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=kt()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){ke(st()&&!Co(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return hh.apply(this,arguments)}(p.auth);ke(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gs{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=fs._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ph(v,p,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(v,p,_){const C=Fr(v),S=yield E(C,p,(0,j.m9)(_));return new Gs(S,R=>qi(C,R))})).apply(this,arguments)}function Qn(v,p,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v);yield gs(!1,C,"phone");const S=yield E(C.auth,p,(0,j.m9)(_));return new Gs(S,R=>au(C,R))})).apply(this,arguments)}function mp(v,p,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=yield E(C.auth,p,(0,j.m9)(_));return new Gs(S,R=>up(C,R))})).apply(this,arguments)}function E(v,p,_){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(function*(v,p,_){var C;const S=yield _.verify();try{let R;if(ke("string"==typeof S,v,"argument-error"),ke(_.type===Ac,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const X=R.session;if("phoneNumber"in R)return ke("enroll"===X.type,v,"internal-error"),(yield Ta(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ke("signin"===X.type,v,"internal-error");const ye=(null===(C=R.multiFactorHint)||void 0===C?void 0:C.uid)||R.multiFactorUid;return ke(ye,v,"missing-multi-factor-info"),(yield Tm(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield pa(v,{phoneNumber:R.phoneNumber,recaptchaToken:S});return X}}finally{_._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,a.Z)(function*(v,p){yield iu((0,j.m9)(v),p)})).apply(this,arguments)}let te=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Fr(_)}verifyPhoneNumber(_,C){return E(this.auth,_,(0,j.m9)(C))}static credential(_,C){return fs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?fs._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function fe(v,p){return p?je(p):(ke(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ae extends Er{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Vs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Vs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ge(v){return wn(v.auth,new Ae(v),v.bypassAuthState)}function ze(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),Rt(_,new Ae(v),v.bypassAuthState)}function Ut(v){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),iu(_,new Ae(v),v.bypassAuthState)})).apply(this,arguments)}class sr{constructor(p,_,C,S,R=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,a.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:R,tenantId:X,error:ye,type:$e}=p;if(ye)return void _.reject(ye);const Fe={auth:_.auth,requestUri:C,sessionId:S,tenantId:X||void 0,postBody:R||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(Fe))}catch(ot){_.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return ze;default:Xt(this.auth,"internal-error")}}resolve(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hi=new zn(2e3,1e4);function ar(v,p,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(v,p,_){const C=Fr(v);Ei(v,p,Tr);const S=fe(C,_);return new mt(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function yu(v,p,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Tr);const S=fe(C.auth,_);return new mt(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Zs(v,p,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Tr);const S=fe(C.auth,_);return new mt(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let mt=(()=>{class v extends sr{constructor(_,C,S,R,X){super(_,C,R,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const C=yield _.execute();return ke(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,a.Z)(function*(){Zn(1===_.filter.length,"Popup operations only handle one event");const C=dl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hi.get())};_()}}return v.currentPopupAction=null,v})();const Cn=new Map;class _p extends sr{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,a.Z)(function*(){let C=Cn.get(_.auth._key());if(!C){try{const R=(yield function(v,p){return zo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(R)}catch(S){C=()=>Promise.reject(S)}Cn.set(_.auth._key(),C)}return _.bypassAuthState||Cn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function zo(){return(zo=(0,a.Z)(function*(v,p){const _=Sm(p),C=gh(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function vu(v,p){return yp.apply(this,arguments)}function yp(){return(yp=(0,a.Z)(function*(v,p){return gh(v)._set(Sm(p),"true")})).apply(this,arguments)}function qs(){Cn.clear()}function gh(v){return je(v._redirectPersistence)}function Sm(v){return ft("pendingRedirect",v.config.apiKey,v.name)}function bu(v,p,_){return function(v,p,_){return Xn.apply(this,arguments)}(v,p,_)}function Xn(){return(Xn=(0,a.Z)(function*(v,p,_){const C=Fr(v);Ei(v,p,Tr);const S=fe(C,_);return yield vu(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ur(v,p,_){return function(v,p,_){return mh.apply(this,arguments)}(v,p,_)}function mh(){return(mh=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Tr);const S=fe(C.auth,_);yield vu(S,C.auth);const R=yield Mc(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function _h(v,p,_){return function(v,p,_){return yh.apply(this,arguments)}(v,p,_)}function yh(){return(yh=(0,a.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Tr);const S=fe(C.auth,_);yield gs(!1,C,p.providerId),yield vu(S,C.auth);const R=yield Mc(C);return S._openRedirect(C.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Nm(v,p){return vp.apply(this,arguments)}function vp(){return(vp=(0,a.Z)(function*(v,p){return yield Fr(v)._initializationPromise,Wo(v,p,!1)})).apply(this,arguments)}function Wo(v,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(v,p,_=!1){const C=Fr(v),S=fe(C,p),X=yield new _p(C,S,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,p)),X})).apply(this,arguments)}function Mc(v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(v){const p=dl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ml{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ka(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!ka(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(p))}saveEventToCache(p){this.cachedEventUids.add(pv(p)),this.lastProcessedEventTime=Date.now()}}function pv(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ka({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function vh(v){return wu.apply(this,arguments)}function wu(){return(wu=(0,a.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const bp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yo=/^https?/;function bh(){return(bh=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield vh(v);for(const _ of p)try{if(wp(_))return}catch(C){}Xt(v,"unauthorized-domain")})).apply(this,arguments)}function wp(v){const p=qn(),{protocol:_,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!Yo.test(_))return!1;if(bp.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const wh=new zn(3e4,6e4);function _l(){const v=kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let yl=null;function Cp(v){return yl=yl||function(v){return new Promise((p,_)=>{var C,S,R;function X(){_l(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_l(),_(Qt(v,"network-request-failed"))},timeout:wh.get()})}if(null===(S=null===(C=kt().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=kt().gapi)||void 0===R?void 0:R.load)){const ye=Dc("iframefcb");return kt()[ye]=()=>{gapi.load?X():_(Qt(v,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${ye}`)}X()}}).catch(p=>{throw yl=null,p})}(v),yl}const Cu=new zn(5e3,15e3),Ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vv(v){const p=v.config;ke(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=yv.get(v.config.apiHost);S&&(C.eid=S);const R=v._getFrameworks();return R.length&&(C.fw=R.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Oa(){return(Oa=(0,a.Z)(function*(v){const p=yield Cp(v),_=kt().gapi;return ke(_,v,"internal-error"),p.open({where:document.body,url:vv(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ch,dontclear:!0},C=>new Promise(function(){var S=(0,a.Z)(function*(R,X){yield C.restyle({setHideOnLeave:!1});const ye=Qt(v,"network-request-failed"),$e=kt().setTimeout(()=>{X(ye)},Cu.get());function Fe(){kt().clearTimeout($e),R(C)}C.ping(Fe).then(Fe,()=>{X(ye)})});return function(R,X){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Mm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Eh(v,p,_,C,S,R){ke(v.config.authDomain,v,"auth-domain-config-required"),ke(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:S};if(p instanceof Tr){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,Fe]of Object.entries(R||{}))X[$e]=Fe}if(p instanceof yo){const $e=p.getScopes().filter(Fe=>""!==Fe);$e.length>0&&(X.scopes=$e.join(","))}v.tenantId&&(X.tid=v.tenantId);const ye=X;for(const $e of Object.keys(ye))void 0===ye[$e]&&delete ye[$e];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(ye).slice(1)}`}const wl="webStorageSupport",kc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Wo}_openPopup(p,_,C,S){var R=this;return(0,a.Z)(function*(){var X;Zn(null===(X=R.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ye=Eh(p,_,C,qn(),S);return function(v,p,_,C=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let ye="";const $e=Object.assign(Object.assign({},Mm),{width:C.toString(),height:S.toString(),top:R,left:X}),Fe=(0,j.z$)().toLowerCase();_&&(ye=Or(Fe)?"_blank":_),mr(Fe)&&(p=p||"http://localhost",$e.scrollbars="yes");const ot=Object.entries($e).reduce((yn,[Br,vn])=>`${yn}${Br}=${vn},`,"");if(function(v=(0,j.z$)()){var p;return eu(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==ye)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",ye),new vl(null);const Zt=window.open(p||"",ye,ot);ke(Zt,v,"popup-blocked");try{Zt.focus()}catch(yn){}return new vl(Zt)}(p,ye,dl())})()}_openRedirect(p,_,C,S){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(p),v=Eh(p,_,C,qn(),S),kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:R}=this.eventManagers[_];return S?Promise.resolve(S):(Zn(R,"If manager is not set, promise should be"),R)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C}initAndGetManager(p){var _=this;return(0,a.Z)(function*(){const C=yield function(v){return Oa.apply(this,arguments)}(p),S=new ml(p);return C.register("authEvent",R=>(ke(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(wl,{type:wl},S=>{var R;const X=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[wl];void 0!==X&&_(!!X),Xt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return bh.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vo()||Lo()||eu()}};class Qo extends class{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return bn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qo(p)}_finalizeEnroll(p,_,C){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",cn(v,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",cn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Th=(()=>{class v{constructor(){}static assertion(_){return Qo._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Ip="@firebase/auth";class wv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ap(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const S=_.getImmediate(),R=_.getOptions();if((0,j.vZ)(R,null!=p?p:{}))return S;Xt(S,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:kc,persistence:[gp,xn,vs]})}v="Browser",(0,O._registerComponent)(new Bt.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=C.options;return(X=>{ke(S&&!S.includes(":"),"invalid-api-key",{appName:X.name}),ke(!(null==R?void 0:R.includes(":")),"argument-error",{appName:X.name});const ye={apiKey:S,authDomain:R,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fs(v)},$e=new Pr(X,ye);return function(v,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(je);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}($e,_),$e})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Bt.wA("auth-internal",p=>{const _=Fr(p.getProvider("auth").getImmediate());return new wv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ip,"0.19.3",void 0),(0,O.registerVersion)(Ip,"0.19.3","esm2017")},3854:(We,we,F)=>{"use strict";F.d(we,{BH:()=>he,LL:()=>Ke,ZR:()=>Bt,zI:()=>gt,US:()=>ee,tV:()=>z,$s:()=>tn,r3:()=>sn,Sg:()=>Oe,ne:()=>Zn,vZ:()=>Qt,ZB:()=>B,pd:()=>ke,m9:()=>ho,z$:()=>Ne,jU:()=>ne,ru:()=>se,d:()=>Re,xb:()=>mn,w1:()=>At,hl:()=>Dn,uI:()=>Te,UG:()=>ge,b$:()=>Ee,G6:()=>_t,Mn:()=>Mt,xO:()=>Ei,zd:()=>Hi,eu:()=>Ct});const le=function(q){const Z=[];let W=0;for(let be=0;be<q.length;be++){let ue=q.charCodeAt(be);ue<128?Z[W++]=ue:ue<2048?(Z[W++]=ue>>6|192,Z[W++]=63&ue|128):55296==(64512&ue)&&be+1<q.length&&56320==(64512&q.charCodeAt(be+1))?(ue=65536+((1023&ue)<<10)+(1023&q.charCodeAt(++be)),Z[W++]=ue>>18|240,Z[W++]=ue>>12&63|128,Z[W++]=ue>>6&63|128,Z[W++]=63&ue|128):(Z[W++]=ue>>12|224,Z[W++]=ue>>6&63|128,Z[W++]=63&ue|128)}return Z},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,Z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let ue=0;ue<q.length;ue+=3){const Ze=q[ue],lt=ue+1<q.length,Gt=lt?q[ue+1]:0,An=ue+2<q.length,Wn=An?q[ue+2]:0;let K=(15&Gt)<<2|Wn>>6,Y=63&Wn;An||(Y=64,lt||(K=64)),be.push(W[Ze>>2],W[(3&Ze)<<4|Gt>>4],W[K],W[Y])}return be.join("")},encodeString(q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(q):this.encodeByteArray(le(q),Z)},decodeString(q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(q):function(q){const Z=[];let W=0,be=0;for(;W<q.length;){const ue=q[W++];if(ue<128)Z[be++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Ze=q[W++];Z[be++]=String.fromCharCode((31&ue)<<6|63&Ze)}else if(ue>239&&ue<365){const An=((7&ue)<<18|(63&q[W++])<<12|(63&q[W++])<<6|63&q[W++])-65536;Z[be++]=String.fromCharCode(55296+(An>>10)),Z[be++]=String.fromCharCode(56320+(1023&An))}else{const Ze=q[W++],lt=q[W++];Z[be++]=String.fromCharCode((15&ue)<<12|(63&Ze)<<6|63&lt)}}return Z.join("")}(this.decodeStringToByteArray(q,Z))},decodeStringToByteArray(q,Z){this.init_();const W=Z?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let ue=0;ue<q.length;){const Ze=W[q.charAt(ue++)],Gt=ue<q.length?W[q.charAt(ue)]:0;++ue;const Wn=ue<q.length?W[q.charAt(ue)]:64;++ue;const ie=ue<q.length?W[q.charAt(ue)]:64;if(++ue,null==Ze||null==Gt||null==Wn||null==ie)throw Error();be.push(Ze<<2|Gt>>4),64!==Wn&&(be.push(Gt<<4&240|Wn>>2),64!==ie&&be.push(Wn<<6&192|ie))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Q=function(q){return function(q){const Z=le(q);return ee.encodeByteArray(Z,!0)}(q).replace(/\./g,"")},z=function(q){try{return ee.decodeString(q,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function B(q,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return Z}for(const W in Z)!Z.hasOwnProperty(W)||!G(W)||(q[W]=B(q[W],Z[W]));return q}function G(q){return"__proto__"!==q}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,W)=>{this.resolve=Z,this.reject=W})}wrapCallback(Z){return(W,be)=>{W?this.reject(W):this.resolve(be),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(W):Z(W,be))}}}function Oe(q,Z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=Z||"demo-project",ue=q.iat||0,Ze=q.sub||q.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:ue,exp:ue+3600,auth_time:ue,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(lt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function ne(){return"object"==typeof self&&self.self===self}function se(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Ne().indexOf("Electron/")>=0}function At(){const q=Ne();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Mt(){return Ne().indexOf("MSAppHost/")>=0}function _t(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dn(){return"object"==typeof indexedDB}function Ct(){return new Promise((q,Z)=>{try{let W=!0;const be="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(be);ue.onsuccess=()=>{ue.result.close(),W||self.indexedDB.deleteDatabase(be),q(!0)},ue.onupgradeneeded=()=>{W=!1},ue.onerror=()=>{var Ze;Z((null===(Ze=ue.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(W){Z(W)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bt extends Error{constructor(Z,W,be){super(W),this.code=Z,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(Z,W,be){this.service=Z,this.serviceName=W,this.errors=be}create(Z,...W){const be=W[0]||{},ue=`${this.service}/${Z}`,Ze=this.errors[Z],lt=Ze?function(q,Z){return q.replace(Xa,(W,be)=>{const ue=Z[be];return null!=ue?String(ue):`<${be}?>`})}(Ze,be):"Error";return new Bt(ue,`${this.serviceName}: ${lt} (${ue}).`,be)}}const Xa=/\{\$([^}]+)}/g;function sn(q,Z){return Object.prototype.hasOwnProperty.call(q,Z)}function mn(q){for(const Z in q)if(Object.prototype.hasOwnProperty.call(q,Z))return!1;return!0}function Qt(q,Z){if(q===Z)return!0;const W=Object.keys(q),be=Object.keys(Z);for(const ue of W){if(!be.includes(ue))return!1;const Ze=q[ue],lt=Z[ue];if(Rs(Ze)&&Rs(lt)){if(!Qt(Ze,lt))return!1}else if(Ze!==lt)return!1}for(const ue of be)if(!W.includes(ue))return!1;return!0}function Rs(q){return null!==q&&"object"==typeof q}function Ei(q){const Z=[];for(const[W,be]of Object.entries(q))Array.isArray(be)?be.forEach(ue=>{Z.push(encodeURIComponent(W)+"="+encodeURIComponent(ue))}):Z.push(encodeURIComponent(W)+"="+encodeURIComponent(be));return Z.length?"&"+Z.join("&"):""}function Hi(q){const Z={};return q.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[ue,Ze]=be.split("=");Z[decodeURIComponent(ue)]=decodeURIComponent(Ze)}}),Z}function ke(q){const Z=q.indexOf("?");if(!Z)return"";const W=q.indexOf("#",Z);return q.substring(Z,W>0?W:void 0)}function Zn(q,Z){const W=new Ti(q,Z);return W.subscribe.bind(W)}class Ti{constructor(Z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Z(this)}).catch(be=>{this.error(be)})}next(Z){this.forEachObserver(W=>{W.next(Z)})}error(Z){this.forEachObserver(W=>{W.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,W,be){let ue;if(void 0===Z&&void 0===W&&void 0===be)throw new Error("Missing Observer.");ue=function(q,Z){if("object"!=typeof q||null===q)return!1;for(const W of["next","error","complete"])if(W in q&&"function"==typeof q[W])return!0;return!1}(Z)?Z:{next:Z,error:W,complete:be},void 0===ue.next&&(ue.next=gr),void 0===ue.error&&(ue.error=gr),void 0===ue.complete&&(ue.complete=gr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(lt){}}),this.observers.push(ue),Ze}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Z)}sendOne(Z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{W(this.observers[Z])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gr(){}function tn(q,Z=1e3,W=2){const be=Z*Math.pow(W,q),ue=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+ue)}function ho(q){return q&&q._delegate?q._delegate:q}},2329:(We,we,F)=>{"use strict";F.d(we,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=F(8026);(0,a.registerVersion)("firebase","9.6.0","app")},7841:(We,we,F)=>{"use strict";F.d(we,{Z:()=>a.Z});var a=F(3394);a.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(We,we,F)=>{"use strict";F.r(we);var a=F(8239),j=F(3394),O=F(2476),le=F(3854),ce=(F(8026),F(5422),F(3910));function Q(){return window}function B(){return(B=(0,a.Z)(function*(ie,K,Y){var Ce;const{BuildInfo:Ve}=Q();(0,O.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dt=yield ne(K.sessionId),Vt={};return(0,O.aq)()?Vt.ibi=Ve.packageName:(0,O.ar)()?Vt.apn=Ve.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),Ve.displayName&&(Vt.appDisplayName=Ve.displayName),Vt.sessionId=dt,(0,O.at)(ie,Y,K.type,void 0,null!==(Ce=K.eventId)&&void 0!==Ce?Ce:void 0,Vt)})).apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(ie){const{BuildInfo:K}=Q(),Y={};(0,O.aq)()?Y.iosBundleId=K.packageName:(0,O.ar)()?Y.androidPackageName=K.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,Y)})).apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(ie,K,Y){const{cordova:Ce}=Q();let Ve=()=>{};try{yield new Promise((dt,Vt)=>{let It=null;function Rn(){var vt;dt();const Nn=null===(vt=Ce.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Nn&&Nn(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function hn(){It||(It=window.setTimeout(()=>{Vt((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}K.addPassiveListener(Rn),document.addEventListener("resume",hn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",Sn,!1),Ve=()=>{K.removePassiveListener(Rn),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",Sn,!1),It&&window.clearTimeout(It)}})}finally{Ve()}})).apply(this,arguments)}function ne(ie){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)(function*(ie){const K=Ee(ie),Y=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(Y)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ee(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const K=new ArrayBuffer(ie.length),Y=new Uint8Array(K);for(let Ce=0;Ce<ie.length;Ce++)Y[Ce]=ie.charCodeAt(Ce);return Y}class At extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(K)),super.onEvent(K)}initialized(){var K=this;return(0,a.Z)(function*(){yield K.initPromise})()}}function _t(ie){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(ie){const K=yield Ot()._get(Xe(ie));return K&&(yield Ot()._remove(Xe(ie))),K})).apply(this,arguments)}function gt(){const ie=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const Ce=Math.floor(Math.random()*K.length);ie.push(K.charAt(Ce))}return ie.join("")}function Ot(){return(0,O.ax)(O.b)}function Xe(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function cs(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[K,...Y]=ie.split("?");return(0,le.zd)(Y.join("?"))}function Wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function sn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function mn(ie=(0,le.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hi(){try{const ie=self.localStorage,K=O.aG();if(ie)return ie.setItem(K,"1"),ie.removeItem(K),!function(ie=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,le.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,le.hl)()}catch(ie){return ke()&&(0,le.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return("http:"===sn()||"https:"===sn()||(0,le.ru)()||mn())&&!((0,le.b$)()||(0,le.UG)())&&Hi()&&!ke()}function Zn(){return mn()&&"undefined"!=typeof document}function je(){return(je=(0,a.Z)(function*(){return!!Zn()&&new Promise(ie=>{const K=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ie(!0)})})})).apply(this,arguments)}const Ht={LOCAL:"local",NONE:"none",SESSION:"session"},gr=O.aw,qn="persistence";function nt(ie){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(ie){yield ie._initializationPromise;const K=zn(),Y=O.ay(qn,ie.config.apiKey,ie.name);(null==K?void 0:K.sessionStorage)&&K.sessionStorage.setItem(Y,ie._getPersistence())})).apply(this,arguments)}function zn(){return"undefined"!=typeof window?window:null}const en=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,a.Z)(function*(){const Ce=K._key();let Ve=Y.eventManagers.get(Ce);return Ve||(Ve=new At(K),Y.eventManagers.set(Ce,Ve),Y.attachCallbackListeners(K,Ve)),Ve})()}_openPopup(K){(0,O.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,a.Z)(function*(){!function(ie){var K,Y,Ce,Ve,dt,Vt,It,Rn,hn,Sn;const vt=Q();(0,O.aw)("function"==typeof(null===(K=null==vt?void 0:vt.universalLinks)||void 0===K?void 0:K.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(Y=null==vt?void 0:vt.BuildInfo)||void 0===Y?void 0:Y.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(dt=null===(Ve=null===(Ce=null==vt?void 0:vt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===dt?void 0:dt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Rn=null===(It=null===(Vt=null==vt?void 0:vt.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===It?void 0:It.browsertab)||void 0===Rn?void 0:Rn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Sn=null===(hn=null==vt?void 0:vt.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===Sn?void 0:Sn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Vt=yield dt._initialize(K);yield Vt.initialized(),Vt.resetRedirect(),(0,O.aB)(),yield dt._originValidation(K);const It=function(ie,K,Y=null){return{type:K,eventId:Y,urlResponse:null,sessionId:gt(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(K,Ce,Ve);yield function(ie,K){return Ot()._set(Xe(ie),K)}(K,It);const Rn=yield function(ie,K,Y){return B.apply(this,arguments)}(K,It,Y),hn=yield function(ie){const{cordova:K}=Q();return new Promise(Y=>{K.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?K.plugins.browsertab.openUrl(ie):Ve=K.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),Y(Ve)})})}(Rn);return function(ie,K,Y){return Te.apply(this,arguments)}(K,Vt,hn)})()}_isIframeWebStorageSupported(K,Y){throw new Error("Method not implemented.")}_originValidation(K){const Y=K._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function(ie){return he.apply(this,arguments)}(K)),this.originValidationPromises[Y]}attachCallbackListeners(K,Y){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:dt}=Q(),Vt=setTimeout((0,a.Z)(function*(){yield _t(K),Y.onEvent(Wt())}),500),It=function(){var Sn=(0,a.Z)(function*(vt){clearTimeout(Vt);const Nn=yield _t(K);let fo=null;Nn&&(null==vt?void 0:vt.url)&&(fo=function(ie,K){var Y,Ce;const Ve=function(ie){const K=cs(ie),Y=K.link?decodeURIComponent(K.link):void 0,Ce=cs(Y).link,Ve=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return cs(Ve).link||Ve||Ce||Y||ie}(K);if(Ve.includes("/__/auth/callback")){const dt=cs(Ve),Vt=dt.firebaseError?function(ie){try{return JSON.parse(ie)}catch(K){return null}}(decodeURIComponent(dt.firebaseError)):null,It=null===(Ce=null===(Y=null==Vt?void 0:Vt.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ce?void 0:Ce[1],Rn=It?(0,O.av)(It):null;return Rn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Rn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Ve,postBody:null}}return null}(Nn,vt.url)),Y.onEvent(fo||Wt())});return function(Nn){return Sn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,It);const Rn=Ve,hn=`${dt.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var Sn=(0,a.Z)(function*(vt){if(vt.toLowerCase().startsWith(hn)&&It({url:vt}),"function"==typeof Rn)try{Rn(vt)}catch(Nn){console.error(Nn)}});return function(vt){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,a.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,Y,Ce,Ve){var dt=this;return(0,a.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(K,Y,Ce,Ve)})()}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,a.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(K,Y,Ce,Ve)})()}_isIframeWebStorageSupported(K,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,Y)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,a.Z)(function*(){if(K.underlyingResolver)return;const Y=yield function(){return je.apply(this,arguments)}();K.underlyingResolver=Y?K.cordovaResolver:K.browserResolver})()}}function et(ie){return ie.unwrap()}function cn(ie){return Yt(ie)}function Yt(ie){const{_tokenResponse:K}=ie instanceof le.ZR?ie.customData:ie;if(!K)return null;if(!(ie instanceof le.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return O.P.credentialFromResult(ie);const Y=K.providerId;if(!Y||Y===O.o.PASSWORD)return null;let Ce;switch(Y){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:dt,oauthTokenSecret:Vt,pendingToken:It,nonce:Rn}=K;return dt||Vt||Ve||It?It?Y.startsWith("saml.")?O.aJ._create(Y,It):O.I._fromParams({providerId:Y,signInMethod:Y,pendingToken:It,idToken:Ve,accessToken:dt}):new O.T(Y).credential({idToken:Ve,accessToken:dt,rawNonce:Rn}):null}return ie instanceof le.ZR?Ce.credentialFromError(ie):Ce.credentialFromResult(ie)}function dn(ie,K){return K.catch(Y=>{throw Y instanceof le.ZR&&function(ie,K){var Y;const Ce=null===(Y=K.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new Z(ie,O.am(ie,K));else if(Ce){const Ve=Yt(K),dt=K;Ve&&(dt.credential=Ve,dt.tenantId=Ce.tenantId||void 0,dt.email=Ce.email||void 0,dt.phoneNumber=Ce.phoneNumber||void 0)}}(ie,Y),Y}).then(Y=>{const Ve=Y.user;return{operationType:Y.operationType,credential:cn(Y),additionalUserInfo:O.ak(Y),user:W.getOrCreate(Ve)}})}function ho(ie,K){return q.apply(this,arguments)}function q(){return(q=(0,a.Z)(function*(ie,K){const Y=yield K;return{verificationId:Y.verificationId,confirm:Ce=>dn(ie,Y.confirm(Ce))}})).apply(this,arguments)}class Z{constructor(K,Y){this.resolver=Y,this.auth=K.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dn(et(this.auth),this.resolver.resolveSignIn(K))}}class W{constructor(K){this._delegate=K,this.multiFactor=O.an(K)}static getOrCreate(K){return W.USER_MAP.has(K)||W.USER_MAP.set(K,new W(K)),W.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var Y=this;return(0,a.Z)(function*(){return dn(Y.auth,O.Y(Y._delegate,K))})()}linkWithPhoneNumber(K,Y){var Ce=this;return(0,a.Z)(function*(){return ho(Ce.auth,O.l(Ce._delegate,K,Y))})()}linkWithPopup(K){var Y=this;return(0,a.Z)(function*(){return dn(Y.auth,O.d(Y._delegate,K,Pe))})()}linkWithRedirect(K){var Y=this;return(0,a.Z)(function*(){return yield nt(O.aC(Y.auth)),O.g(Y._delegate,K,Pe)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var Y=this;return(0,a.Z)(function*(){return dn(Y.auth,O.Z(Y._delegate,K))})()}reauthenticateWithPhoneNumber(K,Y){return ho(this.auth,O.r(this._delegate,K,Y))}reauthenticateWithPopup(K){return dn(this.auth,O.e(this._delegate,K,Pe))}reauthenticateWithRedirect(K){var Y=this;return(0,a.Z)(function*(){return yield nt(O.aC(Y.auth)),O.h(Y._delegate,K,Pe)})()}sendEmailVerification(K){return O.aa(this._delegate,K)}unlink(K){var Y=this;return(0,a.Z)(function*(){return yield O.aj(Y._delegate,K),Y})()}updateEmail(K){return O.af(this._delegate,K)}updatePassword(K){return O.ag(this._delegate,K)}updatePhoneNumber(K){return O.u(this._delegate,K)}updateProfile(K){return O.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,Y){return O.ab(this._delegate,K,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const be=O.aw;let ue=(()=>{class ie{constructor(Y,Ce){if(this.app=Y,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=Y.options;be(Ve,"invalid-api-key",{appName:Y.name});let dt=[O.K];if("undefined"!=typeof window){dt=function(ie,K){const Y=zn();if(!(null==Y?void 0:Y.sessionStorage))return[];const Ce=O.ay(qn,ie,K);switch(Y.sessionStorage.getItem(Ce)){case Ht.NONE:return[O.K];case Ht.LOCAL:return[O.i,O.a];case Ht.SESSION:return[O.a];default:return[]}}(Ve,Y.name);for(const It of[O.i,O.b,O.a])dt.includes(It)||dt.push(It)}be(Ve,"invalid-api-key",{appName:Y.name});const Vt="undefined"!=typeof window?Pe:void 0;this._delegate=Ce.initialize({options:{persistence:dt,popupRedirectResolver:Vt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ce){O.E(this._delegate,Y,Ce)}applyActionCode(Y){return O.a1(this._delegate,Y)}checkActionCode(Y){return O.a2(this._delegate,Y)}confirmPasswordReset(Y,Ce){return O.a0(this._delegate,Y,Ce)}createUserWithEmailAndPassword(Y,Ce){var Ve=this;return(0,a.Z)(function*(){return dn(Ve._delegate,O.a4(Ve._delegate,Y,Ce))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return O.a9(this._delegate,Y)}isSignInWithEmailLink(Y){return O.a7(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,a.Z)(function*(){be(bn(),Y._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(Y._delegate,Pe);return Ce?dn(Y._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function(ie,K){(0,O.aC)(ie)._logFramework(K)}(this._delegate,Y)}onAuthStateChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:It}=Ze(Y,Ce,Ve);return this._delegate.onAuthStateChanged(dt,Vt,It)}onIdTokenChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:It}=Ze(Y,Ce,Ve);return this._delegate.onIdTokenChanged(dt,Vt,It)}sendSignInLinkToEmail(Y,Ce){return O.a6(this._delegate,Y,Ce)}sendPasswordResetEmail(Y,Ce){return O.$(this._delegate,Y,Ce||void 0)}setPersistence(Y){var Ce=this;return(0,a.Z)(function*(){let Ve;switch(function(ie,K){gr(Object.values(Ht).includes(K),ie,"invalid-persistence-type"),(0,le.b$)()?gr(K!==Ht.SESSION,ie,"unsupported-persistence-type"):(0,le.UG)()?gr(K===Ht.NONE,ie,"unsupported-persistence-type"):ke()?gr(K===Ht.NONE||K===Ht.LOCAL&&(0,le.hl)(),ie,"unsupported-persistence-type"):gr(K===Ht.NONE||Hi(),ie,"unsupported-persistence-type")}(Ce._delegate,Y),Y){case Ht.SESSION:Ve=O.a;break;case Ht.LOCAL:Ve=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ht.NONE:Ve=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return dn(this._delegate,O.W(this._delegate))}signInWithCredential(Y){return dn(this._delegate,O.X(this._delegate,Y))}signInWithCustomToken(Y){return dn(this._delegate,O._(this._delegate,Y))}signInWithEmailAndPassword(Y,Ce){return dn(this._delegate,O.a5(this._delegate,Y,Ce))}signInWithEmailLink(Y,Ce){return dn(this._delegate,O.a8(this._delegate,Y,Ce))}signInWithPhoneNumber(Y,Ce){return ho(this._delegate,O.s(this._delegate,Y,Ce))}signInWithPopup(Y){var Ce=this;return(0,a.Z)(function*(){return be(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),dn(Ce._delegate,O.c(Ce._delegate,Y,Pe))})()}signInWithRedirect(Y){var Ce=this;return(0,a.Z)(function*(){return be(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield nt(Ce._delegate),O.f(Ce._delegate,Y,Pe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return O.a3(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Ht,ie})();function Ze(ie,K,Y){let Ce=ie;"function"!=typeof ie&&({next:Ce,error:K,complete:Y}=ie);const Ve=Ce;return{next:Vt=>Ve(Vt&&W.getOrCreate(Vt)),error:K,complete:Y}}class lt{constructor(){this.providerId="phone",this._delegate=new O.P(et(j.Z.auth()))}static credential(K,Y){return O.P.credential(K,Y)}verifyPhoneNumber(K,Y){return this._delegate.verifyPhoneNumber(K,Y)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=O.P.PROVIDER_ID;const Gt=O.aw;var ie;(ie=j.Z).INTERNAL.registerComponent(new ce.wA("auth-compat",K=>{const Y=K.getProvider("app-compat").getImmediate(),Ce=K.getProvider("auth");return new ue(Y,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(K,Y,Ce=j.Z.app()){var Ve;Gt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(K,Y,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ue,AuthCredential:O.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(We,we){!function(F){"use strict";function a(ge){return Array.prototype.slice.call(ge)}function j(ge){return new Promise(function(ne,se){ge.onsuccess=function(){ne(ge.result)},ge.onerror=function(){se(ge.error)}})}function O(ge,ne,se){var Ee,Re=new Promise(function(At,Mt){j(Ee=ge[ne].apply(ge,se)).then(At,Mt)});return Re.request=Ee,Re}function le(ge,ne,se){var Ee=O(ge,ne,se);return Ee.then(function(Re){if(Re)return new L(Re,Ee.request)})}function ae(ge,ne,se){se.forEach(function(Ee){Object.defineProperty(ge.prototype,Ee,{get:function(){return this[ne][Ee]},set:function(Re){this[ne][Ee]=Re}})})}function ee(ge,ne,se,Ee){Ee.forEach(function(Re){Re in se.prototype&&(ge.prototype[Re]=function(){return O(this[ne],Re,arguments)})})}function ce(ge,ne,se,Ee){Ee.forEach(function(Re){Re in se.prototype&&(ge.prototype[Re]=function(){return this[ne][Re].apply(this[ne],arguments)})})}function Q(ge,ne,se,Ee){Ee.forEach(function(Re){Re in se.prototype&&(ge.prototype[Re]=function(){return le(this[ne],Re,arguments)})})}function z(ge){this._index=ge}function L(ge,ne){this._cursor=ge,this._request=ne}function B(ge){this._store=ge}function G(ge){this._tx=ge,this.complete=new Promise(function(ne,se){ge.oncomplete=function(){ne()},ge.onerror=function(){se(ge.error)},ge.onabort=function(){se(ge.error)}})}function he(ge,ne,se){this._db=ge,this.oldVersion=ne,this.transaction=new G(se)}function Oe(ge){this._db=ge}ae(z,"_index",["name","keyPath","multiEntry","unique"]),ee(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(L,"_cursor",["direction","key","primaryKey","value"]),ee(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var ne=this,se=arguments;return Promise.resolve().then(function(){return ne._cursor[ge].apply(ne._cursor,se),j(ne._request).then(function(Ee){if(Ee)return new L(Ee,ne._request)})})})}),B.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ae(B,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce(B,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ae(G,"_tx",["objectStoreNames","mode"]),ce(G,"_tx",IDBTransaction,["abort"]),he.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ae(he,"_db",["name","version","objectStoreNames"]),ce(he,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ae(Oe,"_db",["name","version","objectStoreNames"]),ce(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[B,z].forEach(function(ne){ge in ne.prototype&&(ne.prototype[ge.replace("open","iterate")]=function(){var se=a(arguments),Ee=se[se.length-1],Re=this._store||this._index,At=Re[ge].apply(Re,se.slice(0,-1));At.onsuccess=function(){Ee(At.result)}})})}),[z,B].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(ne,se){var Ee=this,Re=[];return new Promise(function(At){Ee.iterateCursor(ne,function(Mt){Mt?(Re.push(Mt.value),void 0===se||Re.length!=se?Mt.continue():At(Re)):At(Re)})})})}),F.openDb=function(ge,ne,se){var Ee=O(indexedDB,"open",[ge,ne]),Re=Ee.request;return Re&&(Re.onupgradeneeded=function(At){se&&se(new he(Re.result,At.oldVersion,Re.transaction))}),Ee.then(function(At){return new Oe(At)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},1593:(We,we,F)=>{"use strict";F.d(we,{P:()=>ce});var a=F(9193),j=F(5917),O=F(7574);class ce{constructor(z,L,B){this.kind=z,this.value=L,this.error=B,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,L,B){switch(this.kind){case"N":return z&&z(this.value);case"E":return L&&L(this.error);case"C":return B&&B()}}accept(z,L,B){return z&&"function"==typeof z.next?this.observe(z):this.do(z,L,B)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return Q=this.error,new O.y(L=>L.error(Q));case"C":return(0,a.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new ce("N",z):ce.undefinedValueNotification}static createError(z){return new ce("E",void 0,z)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},7574:(We,we,F)=>{"use strict";F.d(we,{y:()=>B});var a=F(7393),O=F(9181),le=F(6490),ee=F(6554),ce=F(4487);var L=F(2494);let B=(()=>{class he{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const Te=new he;return Te.source=this,Te.operator=Ne,Te}subscribe(Ne,Te,ge){const{operator:ne}=this,se=function(he,Oe,Ne){if(he){if(he instanceof a.L)return he;if(he[O.b])return he[O.b]()}return he||Oe||Ne?new a.L(he,Oe,Ne):new a.L(le.c)}(Ne,Te,ge);if(se.add(ne?ne.call(se,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!se.syncErrorThrowable?this._subscribe(se):this._trySubscribe(se)),L.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable&&(se.syncErrorThrowable=!1,se.syncErrorThrown))throw se.syncErrorValue;return se}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Te){L.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=Te),function(he){for(;he;){const{closed:Oe,destination:Ne,isStopped:Te}=he;if(Oe||Te)return!1;he=Ne&&Ne instanceof a.L?Ne:null}return!0}(Ne)?Ne.error(Te):console.warn(Te)}}forEach(Ne,Te){return new(Te=G(Te))((ge,ne)=>{let se;se=this.subscribe(Ee=>{try{Ne(Ee)}catch(Re){ne(Re),se&&se.unsubscribe()}},ne,ge)})}_subscribe(Ne){const{source:Te}=this;return Te&&Te.subscribe(Ne)}[ee.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(he){return 0===he.length?ce.y:1===he.length?he[0]:function(Ne){return he.reduce((Te,ge)=>ge(Te),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=G(Ne))((Te,ge)=>{let ne;this.subscribe(se=>ne=se,se=>ge(se),()=>Te(ne))})}}return he.create=Oe=>new he(Oe),he})();function G(he){if(he||(he=L.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},6490:(We,we,F)=>{"use strict";F.d(we,{c:()=>O});var a=F(2494),j=F(4449);const O={closed:!0,next(le){},error(le){if(a.v.useDeprecatedSynchronousErrorHandling)throw le;(0,j.z)(le)},complete(){}}},9765:(We,we,F)=>{"use strict";F.d(we,{Yc:()=>ce,xQ:()=>Q});var a=F(7574),j=F(7393),O=F(5319),le=F(7971),ae=F(8858),ee=F(9181);class ce extends j.L{constructor(B){super(B),this.destination=B}}let Q=(()=>{class L extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ce(this)}lift(G){const he=new z(this,this);return he.operator=G,he}next(G){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:he}=this,Oe=he.length,Ne=he.slice();for(let Te=0;Te<Oe;Te++)Ne[Te].next(G)}}error(G){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:he}=this,Oe=he.length,Ne=he.slice();for(let Te=0;Te<Oe;Te++)Ne[Te].error(G);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:G}=this,he=G.length,Oe=G.slice();for(let Ne=0;Ne<he;Ne++)Oe[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new le.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new le.N;return this.hasError?(G.error(this.thrownError),O.w.EMPTY):this.isStopped?(G.complete(),O.w.EMPTY):(this.observers.push(G),new ae.W(this,G))}asObservable(){const G=new a.y;return G.source=this,G}}return L.create=(B,G)=>new z(B,G),L})();class z extends Q{constructor(B,G){super(),this.destination=B,this.source=G}next(B){const{destination:G}=this;G&&G.next&&G.next(B)}error(B){const{destination:G}=this;G&&G.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:G}=this;return G?this.source.subscribe(B):O.w.EMPTY}}},8858:(We,we,F)=>{"use strict";F.d(we,{W:()=>j});var a=F(5319);class j extends a.w{constructor(le,ae){super(),this.subject=le,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ae=le.observers;if(this.subject=null,!ae||0===ae.length||le.isStopped||le.closed)return;const ee=ae.indexOf(this.subscriber);-1!==ee&&ae.splice(ee,1)}}},7393:(We,we,F)=>{"use strict";F.d(we,{L:()=>ce});var a=F(9105),j=F(6490),O=F(5319),le=F(9181),ae=F(2494),ee=F(4449);class ce extends O.w{constructor(L,B,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof ce?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,L,B,G)}}[le.b](){return this}static create(L,B,G){const he=new ce(L,B,G);return he.syncErrorThrowable=!1,he}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Q extends ce{constructor(L,B,G,he){super(),this._parentSubscriber=L;let Oe,Ne=this;(0,a.m)(B)?Oe=B:B&&(Oe=B.next,G=B.error,he=B.complete,B!==j.c&&(Ne=Object.create(B),(0,a.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=Oe,this._error=G,this._complete=he}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ae.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:G}=ae.v;if(this._error)G&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)G?(B.syncErrorValue=L,B.syncErrorThrown=!0):(0,ee.z)(L),this.unsubscribe();else{if(this.unsubscribe(),G)throw L;(0,ee.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const B=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,B){try{L.call(this._context,B)}catch(G){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ee.z)(G)}}__tryOrSetError(L,B,G){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,G)}catch(he){return ae.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=he,L.syncErrorThrown=!0,!0):((0,ee.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(We,we,F)=>{"use strict";F.d(we,{w:()=>ee});var a=F(9796),j=F(1555),O=F(9105);const ae=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,B)=>`${B+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:B,_unsubscribe:G,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ee)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(G)){B&&(this._unsubscribe=void 0);try{G.call(this)}catch(Oe){z=Oe instanceof ae?ce(Oe.errors):[Oe]}}if((0,a.k)(he)){let Oe=-1,Ne=he.length;for(;++Oe<Ne;){const Te=he[Oe];if((0,j.K)(Te))try{Te.unsubscribe()}catch(ge){z=z||[],ge instanceof ae?z=z.concat(ce(ge.errors)):z.push(ge)}}}if(z)throw new ae(z)}add(z){let L=z;if(!z)return ee.EMPTY;switch(typeof z){case"function":L=new ee(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ee)){const he=L;L=new ee,L._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=L;if(null===B)L._parentOrParents=this;else if(B instanceof ee){if(B===this)return L;L._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return L;B.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[L]:G.push(L),L}remove(z){const L=this._subscriptions;if(L){const B=L.indexOf(z);-1!==B&&L.splice(B,1)}}}var Q;function ce(Q){return Q.reduce((z,L)=>z.concat(L instanceof ae?L.errors:L),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(We,we,F)=>{"use strict";F.d(we,{v:()=>j});let a=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=O},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(We,we,F)=>{"use strict";F.d(we,{IY:()=>le,Ds:()=>ee,ft:()=>Q});var a=F(7393),j=F(7574),O=F(7444);class le extends a.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends a.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Q(z,L){if(L.closed)return;if(z instanceof j.y)return z.subscribe(L);let B;try{B=(0,O.s)(z)(L)}catch(G){L.error(G)}return B}},2441:(We,we,F)=>{"use strict";F.d(we,{c:()=>ae,N:()=>ee});var a=F(9765),j=F(7574),O=F(5319),le=F(1307);class ae extends j.y{constructor(B,G){super(),this.source=B,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new O.w,B.add(this.source.subscribe(new ce(this.getSubject(),this))),B.closed&&(this._connection=null,B=O.w.EMPTY)),B}refCount(){return(0,le.x)()(this)}}const ee=(()=>{const L=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ce extends a.Yc{constructor(B,G){super(B),this.connectable=G}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const G=B._connection;B._refCount=0,B._subject=null,B._connection=null,G&&G.unsubscribe()}}}},9193:(We,we,F)=>{"use strict";F.d(we,{E:()=>j,c:()=>O});var a=F(7574);const j=new a.y(ae=>ae.complete());function O(ae){return ae?function(ae){return new a.y(ee=>ae.schedule(()=>ee.complete()))}(ae):j}},4402:(We,we,F)=>{"use strict";F.d(we,{D:()=>Ne});var a=F(7574),j=F(7444),O=F(5319),le=F(6554),ce=F(4087),Q=F(377),B=F(4072),G=F(9489);function Ne(Te,ge){return ge?function(Te,ge){if(null!=Te){if(function(Te){return Te&&"function"==typeof Te[le.L]}(Te))return function(Te,ge){return new a.y(ne=>{const se=new O.w;return se.add(ge.schedule(()=>{const Ee=Te[le.L]();se.add(Ee.subscribe({next(Re){se.add(ge.schedule(()=>ne.next(Re)))},error(Re){se.add(ge.schedule(()=>ne.error(Re)))},complete(){se.add(ge.schedule(()=>ne.complete()))}}))})),se})}(Te,ge);if((0,B.t)(Te))return function(Te,ge){return new a.y(ne=>{const se=new O.w;return se.add(ge.schedule(()=>Te.then(Ee=>{se.add(ge.schedule(()=>{ne.next(Ee),se.add(ge.schedule(()=>ne.complete()))}))},Ee=>{se.add(ge.schedule(()=>ne.error(Ee)))}))),se})}(Te,ge);if((0,G.z)(Te))return(0,ce.r)(Te,ge);if(function(Te){return Te&&"function"==typeof Te[Q.hZ]}(Te)||"string"==typeof Te)return function(Te,ge){if(!Te)throw new Error("Iterable cannot be null");return new a.y(ne=>{const se=new O.w;let Ee;return se.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),se.add(ge.schedule(()=>{Ee=Te[Q.hZ](),se.add(ge.schedule(function(){if(ne.closed)return;let Re,At;try{const Mt=Ee.next();Re=Mt.value,At=Mt.done}catch(Mt){return void ne.error(Mt)}At?ne.complete():(ne.next(Re),this.schedule())}))})),se})}(Te,ge)}throw new TypeError((null!==Te&&typeof Te||Te)+" is not observable")}(Te,ge):Te instanceof a.y?Te:new a.y((0,j.s)(Te))}},6693:(We,we,F)=>{"use strict";F.d(we,{n:()=>le});var a=F(7574),j=F(5015),O=F(4087);function le(ae,ee){return ee?(0,O.r)(ae,ee):new a.y((0,j.V)(ae))}},6682:(We,we,F)=>{"use strict";F.d(we,{T:()=>ae});var a=F(7574),j=F(4869),O=F(3282),le=F(6693);function ae(...ee){let ce=Number.POSITIVE_INFINITY,Q=null,z=ee[ee.length-1];return(0,j.K)(z)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ce=ee.pop())):"number"==typeof z&&(ce=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof a.y?ee[0]:(0,O.J)(ce)((0,le.n)(ee,Q))}},5917:(We,we,F)=>{"use strict";F.d(we,{of:()=>le});var a=F(4869),j=F(6693),O=F(4087);function le(...ae){let ee=ae[ae.length-1];return(0,a.K)(ee)?(ae.pop(),(0,O.r)(ae,ee)):(0,j.n)(ae)}},8002:(We,we,F)=>{"use strict";F.d(we,{U:()=>j});var a=F(7393);function j(ae,ee){return function(Q){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new O(ae,ee))}}class O{constructor(ee,ce){this.project=ee,this.thisArg=ce}call(ee,ce){return ce.subscribe(new le(ee,this.project,this.thisArg))}}class le extends a.L{constructor(ee,ce,Q){super(ee),this.project=ce,this.count=0,this.thisArg=Q||this}_next(ee){let ce;try{ce=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(ce)}}},3282:(We,we,F)=>{"use strict";F.d(we,{J:()=>O});var a=F(9773),j=F(4487);function O(le=Number.POSITIVE_INFINITY){return(0,a.zg)(j.y,le)}},9773:(We,we,F)=>{"use strict";F.d(we,{zg:()=>le});var a=F(8002),j=F(4402),O=F(5345);function le(Q,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(le((G,he)=>(0,j.D)(Q(G,he)).pipe((0,a.U)((Oe,Ne)=>z(G,Oe,he,Ne))),L)):("number"==typeof z&&(L=z),B=>B.lift(new ae(Q,L)))}class ae{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new ee(z,this.project,this.concurrent))}}class ee extends O.Ds{constructor(z,L,B=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const B=this.index++;try{L=this.project(z,B)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(L)}_innerSub(z){const L=new O.IY(this),B=this.destination;B.add(L);const G=(0,O.ft)(z,L);G!==L&&B.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(We,we,F)=>{"use strict";F.d(we,{QV:()=>O,ht:()=>ae});var a=F(7393),j=F(1593);function O(ce,Q=0){return function(L){return L.lift(new le(ce,Q))}}class le{constructor(Q,z=0){this.scheduler=Q,this.delay=z}call(Q,z){return z.subscribe(new ae(Q,this.scheduler,this.delay))}}class ae extends a.L{constructor(Q,z,L=0){super(Q),this.scheduler=z,this.delay=L}static dispatch(Q){const{notification:z,destination:L}=Q;z.observe(L),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new ee(Q,this.destination)))}_next(Q){this.scheduleMessage(j.P.createNext(Q))}_error(Q){this.scheduleMessage(j.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(j.P.createComplete()),this.unsubscribe()}}class ee{constructor(Q,z){this.notification=Q,this.destination=z}}},1307:(We,we,F)=>{"use strict";F.d(we,{x:()=>j});var a=F(7393);function j(){return function(ee){return ee.lift(new O(ee))}}class O{constructor(ee){this.connectable=ee}call(ee,ce){const{connectable:Q}=this;Q._refCount++;const z=new le(ee,Q),L=ce.subscribe(z);return z.closed||(z.connection=Q.connect()),L}}class le extends a.L{constructor(ee,ce){super(ee),this.connectable=ce}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ce=ee._refCount;if(ce<=0)return void(this.connection=null);if(ee._refCount=ce-1,ce>1)return void(this.connection=null);const{connection:Q}=this,z=ee._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(We,we,F)=>{"use strict";F.d(we,{B:()=>ce});var a=F(2441);var le=F(1307),ae=F(9765);function ee(){return new ae.xQ}function ce(){return Q=>(0,le.x)()(function(Q,z){return function(B){let G;G="function"==typeof Q?Q:function(){return Q};const he=Object.create(B,a.N);return he.source=B,he.subjectFactory=G,he}}(ee)(Q))}},2639:(We,we,F)=>{"use strict";F.d(we,{R:()=>Te});var a=F(7574);let j=1;const O=Promise.resolve(),le={};function ae(ne){return ne in le&&(delete le[ne],!0)}const ee={setImmediate(ne){const se=j++;return le[se]=!0,O.then(()=>ae(se)&&ne()),se},clearImmediate(ne){ae(ne)}};var Q=F(6465),L=F(6102);const he=new class extends L.v{flush(se){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let Re,At=-1,Mt=Ee.length;se=se||Ee.shift();do{if(Re=se.execute(se.state,se.delay))break}while(++At<Mt&&(se=Ee.shift()));if(this.active=!1,Re){for(;++At<Mt&&(se=Ee.shift());)se.unsubscribe();throw Re}}}(class extends Q.o{constructor(se,Ee){super(se,Ee),this.scheduler=se,this.work=Ee}requestAsyncId(se,Ee,Re=0){return null!==Re&&Re>0?super.requestAsyncId(se,Ee,Re):(se.actions.push(this),se.scheduled||(se.scheduled=ee.setImmediate(se.flush.bind(se,null))))}recycleAsyncId(se,Ee,Re=0){if(null!==Re&&Re>0||null===Re&&this.delay>0)return super.recycleAsyncId(se,Ee,Re);0===se.actions.length&&(ee.clearImmediate(Ee),se.scheduled=void 0)}});var Oe=F(6561);class Ne extends a.y{constructor(se,Ee=0,Re=he){super(),this.source=se,this.delayTime=Ee,this.scheduler=Re,(!(0,Oe.k)(Ee)||Ee<0)&&(this.delayTime=0),(!Re||"function"!=typeof Re.schedule)&&(this.scheduler=he)}static create(se,Ee=0,Re=he){return new Ne(se,Ee,Re)}static dispatch(se){const{source:Ee,subscriber:Re}=se;return this.add(Ee.subscribe(Re))}_subscribe(se){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:se})}}function Te(ne,se=0){return function(Re){return Re.lift(new ge(ne,se))}}class ge{constructor(se,Ee){this.scheduler=se,this.delay=Ee}call(se,Ee){return new Ne(Ee,this.delay,this.scheduler).subscribe(se)}}},8307:(We,we,F)=>{"use strict";F.d(we,{b:()=>le});var a=F(7393),j=F(8640),O=F(9105);function le(ce,Q,z){return function(B){return B.lift(new ae(ce,Q,z))}}class ae{constructor(Q,z,L){this.nextOrObserver=Q,this.error=z,this.complete=L}call(Q,z){return z.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends a.L{constructor(Q,z,L,B){super(Q),this._tapNext=j.Z,this._tapError=j.Z,this._tapComplete=j.Z,this._tapError=L||j.Z,this._tapComplete=B||j.Z,(0,O.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||j.Z,this._tapError=z.error||j.Z,this._tapComplete=z.complete||j.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(We,we,F)=>{"use strict";F.d(we,{r:()=>O});var a=F(7574),j=F(5319);function O(le,ae){return new a.y(ee=>{const ce=new j.w;let Q=0;return ce.add(ae.schedule(function(){Q!==le.length?(ee.next(le[Q++]),ee.closed||ce.add(this.schedule())):ee.complete()})),ce})}},6465:(We,we,F)=>{"use strict";F.d(we,{o:()=>O});var a=F(5319);class j extends a.w{constructor(ae,ee){super()}schedule(ae,ee=0){return this}}class O extends j{constructor(ae,ee){super(ae,ee),this.scheduler=ae,this.work=ee,this.pending=!1}schedule(ae,ee=0){if(this.closed)return this;this.state=ae;const ce=this.id,Q=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Q,ce,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(ae,ee,ce=0){return setInterval(ae.flush.bind(ae,this),ce)}recycleAsyncId(ae,ee,ce=0){if(null!==ce&&this.delay===ce&&!1===this.pending)return ee;clearInterval(ee)}execute(ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ae,ee);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ee){let Q,ce=!1;try{this.work(ae)}catch(z){ce=!0,Q=!!z&&z||new Error(z)}if(ce)return this.unsubscribe(),Q}_unsubscribe(){const ae=this.id,ee=this.scheduler,ce=ee.actions,Q=ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&ce.splice(Q,1),null!=ae&&(this.id=this.recycleAsyncId(ee,ae,null)),this.delay=null}}},6102:(We,we,F)=>{"use strict";F.d(we,{v:()=>j});let a=(()=>{class O{constructor(ae,ee=O.now){this.SchedulerAction=ae,this.now=ee}schedule(ae,ee=0,ce){return new this.SchedulerAction(this,ae).schedule(ce,ee)}}return O.now=()=>Date.now(),O})();class j extends a{constructor(le,ae=a.now){super(le,()=>j.delegate&&j.delegate!==this?j.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ae=0,ee){return j.delegate&&j.delegate!==this?j.delegate.schedule(le,ae,ee):super.schedule(le,ae,ee)}flush(le){const{actions:ae}=this;if(this.active)return void ae.push(le);let ee;this.active=!0;do{if(ee=le.execute(le.state,le.delay))break}while(le=ae.shift());if(this.active=!1,ee){for(;le=ae.shift();)le.unsubscribe();throw ee}}}},3637:(We,we,F)=>{"use strict";F.d(we,{z:()=>O,P:()=>le});var a=F(6465);const O=new(F(6102).v)(a.o),le=O},7771:(We,we,F)=>{"use strict";F.d(we,{c:()=>ee,N:()=>ae});var a=F(6465),O=F(6102);const ae=new class extends O.v{}(class extends a.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(Q,z,L):Q.flush(this)}}),ee=ae},377:(We,we,F)=>{"use strict";F.d(we,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,we,F)=>{"use strict";F.d(we,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,we,F)=>{"use strict";F.d(we,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,we,F)=>{"use strict";F.d(we,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(We,we,F)=>{"use strict";function a(j){setTimeout(()=>{throw j},0)}F.d(we,{z:()=>a})},4487:(We,we,F)=>{"use strict";function a(j){return j}F.d(we,{y:()=>a})},9796:(We,we,F)=>{"use strict";F.d(we,{k:()=>a});const a=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(We,we,F)=>{"use strict";F.d(we,{z:()=>a});const a=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(We,we,F)=>{"use strict";function a(j){return"function"==typeof j}F.d(we,{m:()=>a})},6561:(We,we,F)=>{"use strict";F.d(we,{k:()=>j});var a=F(9796);function j(O){return!(0,a.k)(O)&&O-parseFloat(O)+1>=0}},1555:(We,we,F)=>{"use strict";function a(j){return null!==j&&"object"==typeof j}F.d(we,{K:()=>a})},4072:(We,we,F)=>{"use strict";function a(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(we,{t:()=>a})},4869:(We,we,F)=>{"use strict";function a(j){return j&&"function"==typeof j.schedule}F.d(we,{K:()=>a})},8640:(We,we,F)=>{"use strict";function a(){}F.d(we,{Z:()=>a})},7444:(We,we,F)=>{"use strict";F.d(we,{s:()=>B});var a=F(5015),j=F(4449),le=F(377),ee=F(6554),Q=F(9489),z=F(4072),L=F(1555);const B=G=>{if(G&&"function"==typeof G[ee.L])return(G=>he=>{const Oe=G[ee.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(he)})(G);if((0,Q.z)(G))return(0,a.V)(G);if((0,z.t)(G))return(G=>he=>(G.then(Oe=>{he.closed||(he.next(Oe),he.complete())},Oe=>he.error(Oe)).then(null,j.z),he))(G);if(G&&"function"==typeof G[le.hZ])return(G=>he=>{const Oe=G[le.hZ]();for(;;){let Ne;try{Ne=Oe.next()}catch(Te){return he.error(Te),he}if(Ne.done){he.complete();break}if(he.next(Ne.value),he.closed)break}return"function"==typeof Oe.return&&he.add(()=>{Oe.return&&Oe.return()}),he})(G);{const Oe=`You provided ${(0,L.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(We,we,F)=>{"use strict";F.d(we,{V:()=>a});const a=j=>O=>{for(let le=0,ae=j.length;le<ae&&!O.closed;le++)O.next(j[le]);O.complete()}},1710:(We,we,F)=>{"use strict";var a=F(7716);let j=null;function O(){return j}const ce=new a.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,a.LFG)(B)}const L=new a.OlP("Location Initialized");let B=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){G()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){G()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce))},n.\u0275prov=(0,a.Yz7)({factory:he,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function he(){return new B((0,a.LFG)(ce))}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Te(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,a.Yz7)({factory:ne,token:n,providedIn:"root"}),n})();function ne(n){const t=(0,a.LFG)(ce).location;return new Ee((0,a.LFG)(Q),t&&t.origin||"")}const se=new a.OlP("appBaseHref");let Ee=(()=>{class n extends ge{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Te(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,l){const h=this.prepareExternalUrl(o+Te(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){const h=this.prepareExternalUrl(o+Te(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(se,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Oe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,l){let h=this.prepareExternalUrl(o+Te(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){let h=this.prepareExternalUrl(o+Te(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(se,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),At=(()=>{class n{constructor(e,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(_t(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Te(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,_t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Te(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Te(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ge),a.LFG(Q))},n.normalizeQueryParams=Te,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275prov=(0,a.Yz7)({factory:Mt,token:n,providedIn:"root"}),n})();function Mt(){return new At((0,a.LFG)(ge),(0,a.LFG)(Q))}function _t(n){return n.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const ke=a.kL8;class ui{}let mr=(()=>{class n extends ui{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(ke(r||this.locale)(e)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Di{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Et=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Di(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new eu(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new eu(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class eu{constructor(t,e){this.record=t,this.view=e}}let In=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new ec,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Vo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Vo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ec{constructor(){this.$implicit=null,this.ngIf=null}}function Vo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}let _r=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:ui,useClass:mr}]}),n})();function ga(n){return"server"===n}let tu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Qu((0,a.LFG)(ce),window)}),n})();class Qu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new nu,j||(j=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Tr=Tr||document.querySelector("base"),Tr?Tr.getAttribute("href"):null);return null==e?null:function(n){on=on||document.createElement("a"),on.setAttribute("href",n);const t=on.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let on,Tr=null;const uc=new a.OlP("TRANSITION_ID"),Si=[{provide:a.ip1,useFactory:function(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const r=O(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[uc,ce,a.zs3],multi:!0}];class Mn{static init(){(0,a.VLi)(new Mn)}addToWindow(t){a.dqk.getAngularTestability=(r,o=!0)=>{const l=t.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=new a.OlP("EventManagerPlugins");let De=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=O().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let su=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),wn=(()=>{class n extends su{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ou),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ou))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ou(n){O().remove(n)}const qi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yr=/%COMP%/g;function or(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?or(n,o,e):(o=o.replace(Yr,n),e.push(o))}return e}function Kr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ms=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Dr(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new uu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case a.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=or(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(De),a.LFG(wn),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Dr{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(qi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const l=qi[o];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=qi[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,r,o&a.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kr(r)):this.eventManager.addEventListener(t,e,Kr(r))}}class uu extends Dr{constructor(t,e,r,o){super(t),this.component=r;const l=or(o+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Yr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Yr,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends Dr{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=or(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bo=(()=>{class n extends Rt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=["alt","control","meta","shift"],du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends Rt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if($o.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(e){let r="",o=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ir.hasOwnProperty(t)&&(t=Ir[t]))}return du[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),$o.forEach(l=>{l!=o&&nh[l](e)&&(r+=l+".")}),r+=o,r}static eventCallback(e,r,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>r(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Zo=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){nu.makeCurrent(),Mn.init()},multi:!0},{provide:ce,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),yc=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:gs,useClass:Bo,multi:!0,deps:[ce,a.R0b,a.Lbi]},{provide:gs,useClass:ul,multi:!0,deps:[ce]},[],{provide:ms,useClass:ms,deps:[De,wn,a.AFp]},{provide:a.FYo,useExisting:ms},{provide:su,useExisting:wn},{provide:wn,useClass:wn,deps:[ce]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:De,useClass:De,deps:[gs,a.R0b]},{provide:class{},useClass:lc,deps:[]},[]];let dp=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:uc,useExisting:a.AFp},Si]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:yc,imports:[_r,a.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),qe=F(5917),an=F(9765),lh=F(7971);class xn extends an.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new lh.N;return this._value}next(t){super.next(this._value=t)}}var fu=F(4869),vs=F(9796),Kn=F(7393);class pu extends Kn.L{notifyNext(t,e,r,o,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class dl extends Kn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var hl=F(7444),kt=F(7574);function Cc(n,t,e,r,o=new dl(n,e,r)){if(!o.closed)return t instanceof kt.y?t.subscribe(o):(0,hl.s)(t)(o)}var Co=F(6693);const Ec={};class ch{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new gu(t,this.resultSelector))}}class gu extends pu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ec),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Cc(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const o=this.values,h=this.toRespond?o[r]===Ec?--this.toRespond:this.toRespond:0;o[r]=e,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Wi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Mi=F(3282);function Yi(...n){return(0,Mi.J)(1)((0,qe.of)(...n))}var Jr=F(9193);function Eo(n){return new kt.y(t=>{let e;try{e=n()}catch(o){return void t.error(o)}return(e?(0,pn.D)(e):(0,Jr.c)()).subscribe(t)})}var fl=F(2441),ut=F(8002),ci=F(5345);function ir(n,t){return"function"==typeof t?e=>e.pipe(ir((r,o)=>(0,pn.D)(n(r,o)).pipe((0,ut.U)((l,h)=>t(r,l,o,h))))):e=>e.lift(new dh(n))}class dh{constructor(t){this.project=t}call(t,e){return e.subscribe(new On(t,this.project))}}class On extends ci.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(o){return void this.destination.error(o)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new ci.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,ci.ft)(t,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const pl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function di(n){return t=>0===n?(0,Jr.c)():t.lift(new gp(n))}class gp{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new Tm(t,this.total))}}class Tm extends Kn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Da(...n){const t=n[n.length-1];return(0,fu.K)(t)?(n.pop(),e=>Yi(n,e,t)):e=>Yi(n,e)}function mu(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(o){return o.lift(new hh(n,t,e))}}class hh{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Dm(t,this.accumulator,this.seed,this.hasSeed))}}class Dm extends Kn.L{constructor(t,e,r,o){super(t),this.accumulator=e,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Pn(n,t){return function(r){return r.lift(new Dc(n,t))}}class Dc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ia(t,this.predicate,this.thisArg))}}class Ia extends Kn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function To(n){return function(e){const r=new Fn(n),o=e.lift(r);return r.caught=o}}class Fn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Aa(t,this.selector,this.caught))}}class Aa extends ci.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new ci.IY(this);this.add(r);const o=(0,ci.ft)(e,r);o!==r&&this.add(o)}}}var Bn=F(9773);function Ic(n,t){return(0,Bn.zg)(n,t,1)}function gl(n){return function(e){return 0===n?(0,Jr.c)():e.lift(new Ki(n))}}class Ki{constructor(t){if(this.total=t,this.total<0)throw new pl}call(t,e){return e.subscribe(new bs(t,this.total))}}class bs extends Kn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,o=this.count++;e.length<r?e.push(t):e[o%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=e++%r;t.next(o[h])}}t.complete()}}function _u(n=Ac){return t=>t.lift(new xi(n))}class xi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hs(t,this.errorFactory))}}class Hs extends Kn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ac(){return new Wi}function fh(n=null){return t=>t.lift(new qo(n))}class qo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Im(t,this.defaultValue))}}class Im extends Kn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gs=F(4487);function Jn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((o,l)=>n(o,l,r)):Gs.y,di(1),e?fh(t):_u(()=>new Wi))}var Qn=F(8307),Do=F(1307),mp=F(5319);class E{constructor(t){this.callback=t}call(t,e){return e.subscribe(new I(t,this.callback))}}class I extends Kn.L{constructor(t,e){super(t),this.add(new mp.w(e))}}class x{constructor(t,e){this.id=t,this.url=e}}class U extends x{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends x{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fe extends x{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends x{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ge extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends x{constructor(t,e,r,o,l){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends x{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sa{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class hv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cn(n){return new hv(n)}const _p="ngNavigationCancelingError";function Am(n){const t=Error("NavigationCancelingError: "+n);return t[_p]=!0,t}function vu(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function qs(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!gh(n[o],t[o]))return!1;return!0}function gh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,l)=>r[l]===o)}return n===t}function Sm(n){return Array.prototype.concat.apply([],n)}function bu(n){return n.length>0?n[n.length-1]:null}function Xn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ur(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,qe.of)(n)}const mh={exact:function Nm(n,t,e){if(!ka(n.segments,t.segments)||!Mc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Nm(n.children[r],t.children[r],e))return!1;return!0},subset:Wo},_h={exact:function(n,t){return qs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>gh(n[e],t[e]))},ignored:()=>!0};function Nc(n,t,e){return mh[e.paths](n.root,t.root,e.matrixParams)&&_h[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Wo(n,t,e){return xa(n,t,t.segments,e)}function xa(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!ka(o,e)||t.hasChildren()||!Mc(o,e,r))}if(n.segments.length===e.length){if(!ka(n.segments,e)||!Mc(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Wo(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(ka(n.segments,o)&&Mc(n.segments,o,r)&&n.children[mt])&&xa(n.children[mt],t,l,r)}}function Mc(n,t,e){return t.every((r,o)=>_h[e](n[o].parameters,r.parameters))}class Ra{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return bp.serialize(this)}}class $t{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xn(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yo(this)}}class ml{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Cp(this)}}function ka(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class vh{}class wu{parse(t){const e=new Mm(t);return new Ra(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${xc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${wp(e)}=${wp(o)}`).join("&"):`${wp(e)}=${wp(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const bp=new wu;function Yo(n){return n.segments.map(t=>Cp(t)).join("/")}function xc(n,t){if(!n.hasChildren())return Yo(n);if(t){const e=n.children[mt]?xc(n.children[mt],!1):"",r=[];return Xn(n.children,(o,l)=>{l!==mt&&r.push(`${l}:${xc(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Xn(n.children,(r,o)=>{o===mt&&(e=e.concat(t(r,o)))}),Xn(n.children,(r,o)=>{o!==mt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===mt?[xc(n.children[mt],!1)]:[`${o}:${xc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${Yo(n)}/${e[0]}`:`${Yo(n)}/(${e.join("//")})`}}function bh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wp(n){return bh(n).replace(/%3B/gi,";")}function _l(n){return bh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function yl(n){return Rc(n.replace(/\+/g,"%20"))}function Cp(n){return`${_l(n.path)}${function(n){return Object.keys(n).map(t=>`;${_l(t)}=${_l(n[t])}`).join("")}(n.parameters)}`}const _v=/^[^\/()?;=#]+/;function Ch(n){const t=n.match(_v);return t?t[0]:""}const yv=/^[^=?&#]+/,Ko=/^[^?&#]+/;class Mm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[mt]=new $t(t,e)),r}parseSegment(){const t=Ch(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ml(Rc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ch(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Ch(this.remaining);o&&(r=o,this.capture(r))}t[Rc(e)]=Rc(r)}parseQueryParam(t){const e=function(n){const t=n.match(yv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Ko);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=yl(e),l=yl(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ch(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=mt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[mt]:new $t([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ep(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ep(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Tp(t,this._root).map(e=>e.value)}}function Ep(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ep(n,e);if(r)return r}return null}function Tp(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Tp(n,e);if(r.length)return r.unshift(t),r}return[]}class Jo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Dp extends xm{constructor(t,e){super(t),this.snapshot=e,kc(this,t)}toString(){return this.snapshot.toString()}}function Rm(n,t){const e=function(n,t){const h=new wl([],{},{},"",{},mt,t,null,n.root,-1,{});return new Cl("",new Jo(h,[]))}(n,t),r=new xn([new ml("",{})]),o=new xn({}),l=new xn({}),h=new xn({}),m=new xn(""),b=new bl(r,o,h,m,l,mt,t,e.root);return b.snapshot=e.root,new Dp(new Jo(b,[]),e)}class bl{constructor(t,e,r,o,l,h,m,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>Cn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>Cn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eh(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],l=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class wl{constructor(t,e,r,o,l,h,m,b,D,N,M){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=D,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cl extends xm{constructor(t,e){super(e),this.url=t,kc(this,e)}toString(){return zs(this._root)}}function kc(n,t){t.value._routerState=n,t.children.forEach(e=>kc(n,e))}function zs(n){const t=n.children.length>0?` { ${n.children.map(zs).join(", ")} } `:"";return`${n.value}${t}`}function Qo(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),qs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),qs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Th(n,t){return qs(n.params,t.params)&&function(n,t){return ka(n,t)&&n.every((e,r)=>qs(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Th(n.parent,t.parent))}function El(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return El(n,r,o);return El(n,r)})}(n,t,e);return new Jo(r,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return wv(t,h),h}}const r=function(n){return new bl(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>El(n,l));return new Jo(r,o)}}function wv(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)wv(n.children[e],t.children[e])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,t,e,r,o){let l={};return r&&Xn(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Ra(e.root===n?t:C(e.root,n,t),l,o)}function C(n,t,e){const r={};return Xn(n.children,(o,l)=>{r[l]=o===t?e:C(o,t,e)}),new $t(n.segments,r)}class S{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(p);if(o&&o!==bu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function ot(n,t,e){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return Zt(n,t,e);const r=function(n,t,e){let r=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return l;const h=n.segments[o],m=e[r];if(p(m))break;const b=`${m}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===b)break;if(b&&D&&"object"==typeof D&&void 0===D.outlets){if(!Dh(b,D,h))return l;r+=2}else{if(!Dh(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new $t(n.segments.slice(0,r.pathIndex),{});return l.children[mt]=new $t(n.segments.slice(r.pathIndex),n.children),Zt(l,0,o)}return r.match&&0===o.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Br(n,t,e):r.match?Zt(n,0,o):Br(n,t,e)}function Zt(n,t,e){if(0===e.length)return new $t(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[mt]:n}}(e),o={};return Xn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=ot(n.children[h],t,l))}),Xn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new $t(n.segments,o)}}function Br(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(p(l)){const b=vn(l.outlets);return new $t(r,b)}if(0===o&&v(e[0])){r.push(new ml(n.segments[t].path,Oc(e[0]))),o++;continue}const h=p(l)?l.outlets[mt]:`${l}`,m=o<e.length-1?e[o+1]:null;h&&m&&v(m)?(r.push(new ml(h,Oc(m))),o+=2):(r.push(new ml(h,{})),o++)}return new $t(r,{})}function vn(n){const t={};return Xn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Br(new $t([],{}),0,e))}),t}function Oc(n){const t={};return Xn(n,(e,r)=>t[r]=`${e}`),t}function Dh(n,t,e){return n==e.path&&qs(t,e.parameters)}class Sp{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Qo(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=vl(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Xn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=vl(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=vl(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Zs(l.value.snapshot))}),t.children.length&&this.forwardEvent(new yu(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(Qo(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Ah(m.route)}else{const m=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}function Ah(n){Qo(n.value),n.children.forEach(Ah)}class Sh{constructor(t,e){this.routes=t,this.module=e}}function Io(n){return"function"==typeof n}function Tl(n){return n instanceof Ra}const Nh=Symbol("INITIAL_VALUE");function Mh(){return ir(n=>function(...n){let t,e;return(0,fu.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,vs.k)(n[0])&&(n=n[0]),(0,Co.n)(n,e).lift(new ch(t))}(n.map(t=>t.pipe(di(1),Da(Nh)))).pipe(mu((t,e)=>{let r=!1;return e.reduce((o,l,h)=>o!==Nh?o:(l===Nh&&(r=!0),r||!1!==l&&h!==e.length-1&&!Tl(l)?o:l),t)},Nh),Pn(t=>t!==Nh),(0,ut.U)(t=>Tl(t)?t:!0===t),di(1)))}let pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&a._UZ(0,"router-outlet")},directives:function(){return[Ph]},encapsulation:2}),n})();function xh(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Ev(r,II(t,r))}}function Ev(n,t){n.children&&xh(n.children,t)}function II(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Tv(n){const t=n.children&&n.children.map(Tv),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==mt&&(e.component=pi),e}function Ws(n){return n.outlet||mt}function I1(n,t){const e=n.filter(r=>Ws(r)===t);return e.push(...n.filter(r=>Ws(r)!==t)),e}const Dv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fm(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Dv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||vu)(e,n,t);if(!l)return Object.assign({},Dv);const h={};Xn(l.posParams,(b,D)=>{h[D]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Np(n,t,e,r,o="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Rh(n,t,r)&&Ws(r)!==mt)}(n,e,r)){const h=new $t(t,function(n,t,e,r){const o={};o[mt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ws(l)!==mt){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Ws(l)]=h}return o}(n,t,r,new $t(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Rh(n,t,r))}(n,e,r)){const h=new $t(n.segments,function(n,t,e,r,o,l){const h={};for(const m of r)if(Rh(n,e,m)&&!o[Ws(m)]){const b=new $t([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Ws(m)]=b}return Object.assign(Object.assign({},o),h)}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new $t(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Rh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Iv(n,t,e,r){return!!(Ws(n)===r||r!==mt&&Rh(t,e,n))&&("**"===n.path||Fm(t,n,e).matched)}function S1(n,t,e){return 0===t.length&&!n.children[e]}class Lm{constructor(t){this.segmentGroup=t||null}}class Av{constructor(t){this.urlTree=t}}function Fc(n){return new kt.y(t=>t.error(new Lm(n)))}function N1(n){return new kt.y(t=>t.error(new Av(n)))}function MI(n){return new kt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class RI{constructor(t,e,r,o,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=Np(this.urlTree.root,[],[],this.config).segmentGroup,e=new $t(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mt).pipe((0,ut.U)(l=>this.createUrlTree(Sv(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(To(l=>{if(l instanceof Av)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Lm?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mt).pipe((0,ut.U)(o=>this.createUrlTree(Sv(o),t.queryParams,t.fragment))).pipe(To(o=>{throw o instanceof Lm?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new $t([],{[mt]:t}):t;return new Ra(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ut.U)(l=>new $t([],l))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,pn.D)(o).pipe(Ic(l=>{const h=r.children[l],m=I1(e,l);return this.expandSegmentGroup(t,m,h,l).pipe((0,ut.U)(b=>({segment:b,outlet:l})))}),mu((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((o,l)=>n(o,l,r)):Gs.y,gl(1),e?fh(t):_u(()=>new Wi))}())}expandSegment(t,e,r,o,l,h){return(0,pn.D)(r).pipe(Ic(m=>this.expandSegmentAgainstRoute(t,e,r,m,o,l,h).pipe(To(D=>{if(D instanceof Lm)return(0,qe.of)(null);throw D}))),Jn(m=>!!m),To((m,b)=>{if(m instanceof Wi||"EmptyError"===m.name){if(S1(e,o,l))return(0,qe.of)(new $t([],{}));throw new Lm(e)}throw m}))}expandSegmentAgainstRoute(t,e,r,o,l,h,m){return Iv(o,e,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h):Fc(e):Fc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?N1(l):this.lineralizeSegments(r,l).pipe((0,Bn.zg)(h=>{const m=new $t(h,{});return this.expandSegment(t,m,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:D,positionalParamSegments:N}=Fm(e,o,l);if(!m)return Fc(e);const M=this.applyRedirectCommands(b,o.redirectTo,N);return o.redirectTo.startsWith("/")?N1(M):this.lineralizeSegments(o,M).pipe((0,Bn.zg)(V=>this.expandSegment(t,e,r,V.concat(l.slice(D)),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ut.U)(V=>(r._loadedConfig=V,new $t(o,{})))):(0,qe.of)(new $t(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Fm(e,r,o);if(!h)return Fc(e);const D=o.slice(b);return this.getChildConfig(t,r,o).pipe((0,Bn.zg)(M=>{const V=M.module,$=M.routes,{segmentGroup:re,slicedSegments:ve}=Np(e,m,D,$),Se=new $t(re.segments,re.children);if(0===ve.length&&Se.hasChildren())return this.expandChildren(V,$,Se).pipe((0,ut.U)(at=>new $t(m,at)));if(0===$.length&&0===ve.length)return(0,qe.of)(new $t(m,{}));const it=Ws(r)===l;return this.expandSegment(V,Se,$,ve,it?mt:l,!0).pipe((0,ut.U)(Nt=>new $t(m.concat(Nt.segments),Nt.children)))}))}getChildConfig(t,e,r){return e.children?(0,qe.of)(new Sh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,qe.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Bn.zg)(o=>{return o?this.configLoader.load(t.injector,e).pipe((0,ut.U)(l=>(e._loadedConfig=l,l))):(n=e,new kt.y(t=>t.error(Am(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,qe.of)(new Sh([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;if(!o||0===o.length)return(0,qe.of)(!0);const l=o.map(h=>{const m=t.get(h);let b;if((n=m)&&Io(n.canLoad))b=m.canLoad(e,r);else{if(!Io(m))throw new Error("Invalid CanLoad guard");b=m(e,r)}var n;return Ur(b)});return(0,qe.of)(l).pipe(Mh(),(0,Qn.b)(h=>{if(!Tl(h))return;const m=Am(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ut.U)(h=>!0===h))}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,qe.of)(r);if(o.numberOfChildren>1||!o.children[mt])return MI(t.redirectTo);o=o.children[mt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const l=this.createSegmentGroup(t,e.root,r,o);return new Ra(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Xn(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=e[m]}else r[l]=o}),r}createSegmentGroup(t,e,r,o){const l=this.createSegments(t,e.segments,r,o);let h={};return Xn(e.children,(m,b)=>{h[b]=this.createSegmentGroup(t,m,r,o)}),new $t(l,h)}createSegments(t,e,r,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function Sv(n){const t={};for(const r of Object.keys(n.children)){const l=Sv(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[mt]){const t=n.children[mt];return new $t(n.segments.concat(t.segments),t.children)}return n}(new $t(n.segments,t))}class Mp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qi{constructor(t,e){this.component=t,this.route=e}}function M1(n,t,e){const r=n._root;return Um(r,t?t._root:null,e,[r.value])}function Vm(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Um(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=vl(t);return n.children.forEach(h=>{(function(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ka(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ka(n.url,t.url)||!qs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(n,t)||!qs(n.queryParams,t.queryParams);case"paramsChange":default:return!Th(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Mp(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Um(n,t,l.component?m?m.children:null:e,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Qi(m.outlet.component,h))}else h&&xp(t,m,o),o.canActivateChecks.push(new Mp(r)),Um(n,null,l.component?m?m.children:null:e,r,o)})(h,l[h.value.outlet],e,r.concat([h.value]),o),delete l[h.value.outlet]}),Xn(l,(h,m)=>xp(h,e.getContext(m),o)),o}function xp(n,t,e){const r=vl(n),o=n.value;Xn(r,(l,h)=>{xp(l,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Qi(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Nv{}function Bm(n){return new kt.y(t=>t.error(n))}class O1{constructor(t,e,r,o,l,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=Np(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mt);if(null===e)return null;const r=new wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Jo(r,e),l=new Cl(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=Eh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const h=e.children[l],m=I1(t,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=jm(r);return o.sort((t,e)=>t.value.outlet===mt?-1:e.value.outlet===mt?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,r,o){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,r,o);if(null!==h)return h}return S1(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!Iv(t,e,r,o))return null;let l,h=[],m=[];if("**"===t.path){const $=r.length>0?bu(r).parameters:{};l=new wl(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(t),Ws(t),t.component,t,Mv(e),UI(e)+r.length,$m(t))}else{const $=Fm(e,t,r);if(!$.matched)return null;h=$.consumedSegments,m=r.slice($.lastChild),l=new wl(h,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(t),Ws(t),t.component,t,Mv(e),UI(e)+h.length,$m(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:N}=Np(e,h,m,b.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&D.hasChildren()){const $=this.processChildren(b,D);return null===$?null:[new Jo(l,$)]}if(0===b.length&&0===N.length)return[new Jo(l,[])];const M=Ws(t)===o,V=this.processSegment(b,D,N,M?mt:o);return null===V?null:[new Jo(l,V)]}}function F1(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jm(n){const t=[],e=new Set;for(const r of n){if(!F1(r)){t.push(r);continue}const o=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=jm(r.children);t.push(new Jo(r.value,o))}return t.filter(r=>!e.has(r))}function Mv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function UI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Lc(n){return n.data||{}}function $m(n){return n.resolve||{}}function Rv(n){return ir(t=>{const e=n(t);return e?(0,pn.D)(e).pipe((0,ut.U)(()=>t)):(0,qe.of)(t)})}class ZI extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Hm=new a.OlP("ROUTES");class Gm{constructor(t,e,r,o){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Sh(Sm(h.injector.get(Hm,void 0,a.XFs.Self|a.XFs.Optional)).map(Tv),h)}),To(l=>{throw e._loader$=void 0,l}));return e._loader$=new fl.c(o,()=>new an.xQ).pipe((0,Do.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,pn.D)(this.loader.load(t)):Ur(t()).pipe((0,Bn.zg)(e=>e instanceof a.YKP?(0,qe.of)(e):(0,pn.D)(this.compiler.compileModuleAsync(e))))}}class U1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dl,this.attachRef=null}}class Dl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new U1,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class zI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function B1(n){throw n}function j1(n,t,e){return t.parse("/")}function Il(n,t){return(0,qe.of)(null)}const $1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class n{constructor(e,r,o,l,h,m,b,D){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.xQ,this.errorHandler=B1,this.malformedUriErrorHandler=j1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Il,afterPreactivation:Il},this.urlHandlingStrategy=new zI,this.routeReuseStrategy=new ZI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(a.h0i),this.console=h.get(a.c2e);const V=h.get(a.R0b);this.isNgZoneEnabled=V instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new Ra(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gm(m,b,$=>this.triggerEvent(new hi($)),$=>this.triggerEvent(new ar($))),this.routerState=Rm(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Pn(o=>0!==o.id),(0,ut.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ir(o=>{let l=!1,h=!1;return(0,qe.of)(o).pipe((0,Qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(m=>{const b=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return qm(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,qe.of)(m).pipe(ir(M=>{const V=this.transitions.getValue();return r.next(new U(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Jr.E:Promise.resolve(M)}),function(n,t,e,r){return ir(o=>function(n,t,e,r,o){return new RI(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ut.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,t,e,r,o){return(0,Bn.zg)(l=>function(n,t,e,r,o="emptyOnly",l="legacy"){try{const h=new O1(n,t,e,r,o,l).recognize();return null===h?Bm(new Nv):(0,qe.of)(h)}catch(h){return Bm(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,o).pipe((0,ut.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new Ge(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:$,source:re,restoredState:ve,extras:Se}=m,it=new U(V,this.serializeUrl($),re,ve);r.next(it);const Qe=Rm($,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:Qe,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Jr.E}),Rv(m=>{const{targetSnapshot:b,id:D,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.beforePreactivation(b,{navigationId:D,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,Qn.b)(m=>{const b=new ze(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,ut.U)(m=>Object.assign(Object.assign({},m),{guards:M1(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Bn.zg)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,pn.D)(n).pipe((0,Bn.zg)(o=>function(n,t,e,r,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const b=Vm(m,t,o);let D;if(function(n){return n&&Io(n.canDeactivate)}(b))D=Ur(b.canDeactivate(n,t,e,r));else{if(!Io(b))throw new Error("Invalid CanDeactivate guard");D=Ur(b(n,t,e,r))}return D.pipe(Jn())});return(0,qe.of)(h).pipe(Mh())}(o.component,o.route,e,t,r)),Jn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Bn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,t,e,r){return(0,pn.D)(t).pipe(Ic(o=>Yi(function(n,t){return null!==n&&t&&t(new Sa(n)),(0,qe.of)(!0)}(o.route.parent,r),function(n,t){return null!==n&&t&&t(new Na(n)),(0,qe.of)(!0)}(o.route,r),function(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Eo(()=>{const m=h.guards.map(b=>{const D=Vm(b,h.node,e);let N;if(function(n){return n&&Io(n.canActivateChild)}(D))N=Ur(D.canActivateChild(r,n));else{if(!Io(D))throw new Error("Invalid CanActivateChild guard");N=Ur(D(r,n))}return N.pipe(Jn())});return(0,qe.of)(m).pipe(Mh())}));return(0,qe.of)(l).pipe(Mh())}(n,o.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qe.of)(!0);const o=r.map(l=>Eo(()=>{const h=Vm(l,t,e);let m;if(function(n){return n&&Io(n.canActivate)}(h))m=Ur(h.canActivate(t,n));else{if(!Io(h))throw new Error("Invalid CanActivate guard");m=Ur(h(t,n))}return m.pipe(Jn())}));return(0,qe.of)(o).pipe(Mh())}(n,o.route,e))),Jn(o=>!0!==o,!0))}(r,l,n,t):(0,qe.of)(m)),(0,ut.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Qn.b)(m=>{if(Tl(m.guardsResult)){const D=Am(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const b=new Ut(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Rv(m=>{if(m.guards.canActivateChecks.length)return(0,qe.of)(m).pipe((0,Qn.b)(b=>{const D=new nn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),ir(b=>{let D=!1;return(0,qe.of)(b).pipe(function(n,t){return(0,Bn.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,qe.of)(e);let l=0;return(0,pn.D)(o).pipe(Ic(h=>function(n,t,e,r){return function(n,t,e,r){const o=Object.keys(n);if(0===o.length)return(0,qe.of)({});const l={};return(0,pn.D)(o).pipe((0,Bn.zg)(h=>function(n,t,e,r){const o=Vm(n,t,r);return Ur(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe((0,Qn.b)(m=>{l[h]=m}))),gl(1),(0,Bn.zg)(()=>Object.keys(l).length===o.length?(0,qe.of)(l):Jr.E))}(n._resolve,n,t,r).pipe((0,ut.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Eh(n,e).resolve),null)))}(h.route,r,n,t)),(0,Qn.b)(()=>l++),gl(1),(0,Bn.zg)(h=>l===o.length?(0,qe.of)(e):Jr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Qn.b)(b=>{const D=new sr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}))}),Rv(m=>{const{targetSnapshot:b,id:D,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.afterPreactivation(b,{navigationId:D,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,ut.U)(m=>{const b=function(n,t,e){const r=El(n,t._root,e?e._root:void 0);return new Dp(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Qn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(r=>(new Sp(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Qn.b)({next(){l=!0},complete(){l=!0}}),function(n){return t=>t.lift(new E(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),To(m=>{if(h=!0,function(n){return n&&n[_p]}(m)){const b=Tl(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const D=new fe(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qm(o.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ae(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Jr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const o=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!o||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){xh(e),this.config=e.map(Tv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,D=o||this.routerState.root,N=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,t,e,r,o){if(0===e.length)return _(t.root,t.root,t,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let t=0,e=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Xn(l.outlets,(b,D)=>{m[D]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new S(e,t,r)}(e);if(l.toRoot())return _(t.root,new $t([],{}),t,r,o);const h=function(n,t,e){if(n.isAbsolute)return new X(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new X(l,l===t.root,0)}const r=v(n.commands[0])?0:1;return function(n,t,e){let r=n,o=t,l=e;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new X(r,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),m=h.processChildren?Zt(h.segmentGroup,h.index,l.commands):ot(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,m,t,r,o)}(D,this.currentUrlTree,e,M,null!=N?N:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Tl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},$1):!1===r?Object.assign({},H1):r,Tl(e))return Nc(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Nc(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const l=e[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),N=qm(r)&&D&&!qm(D.source),$=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===e.toString();if(N&&$)return Promise.resolve(!0);let re,ve,Se;h?(re=h.resolve,ve=h.reject,Se=h.promise):Se=new Promise((Nt,at)=>{re=Nt,ve=at});const it=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Qe=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:it,targetPageId:Qe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:re,reject:ve,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new fe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.DyG),a.LFG(vh),a.LFG(Dl),a.LFG(At),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function qm(n){return"imperative"!==n}let Ph=(()=>{class n{constructor(e,r,o,l,h){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=l||mt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Ym(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Dl),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Ym{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===bl?this.route:t===Dl?this.childContexts:this.parent.get(t,e)}}class Ov{}class Fv{preload(t,e){return(0,qe.of)(null)}}let Km=(()=>{class n{constructor(e,r,o,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new Gm(r,o,D=>e.triggerEvent(new hi(D)),D=>e.triggerEvent(new ar(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(e=>e instanceof te),Ic(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,pn.D)(o).pipe((0,Mi.J)(),(0,ut.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Bn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(jr),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Ov))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Uc=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fi&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new fi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(jr),a.LFG(tu),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=new a.OlP("ROUTER_CONFIGURATION"),Z1=new a.OlP("ROUTER_FORROOT_GUARD"),q1=[At,{provide:vh,useClass:wu},{provide:jr,useFactory:function(n,t,e,r,o,l,h,m={},b,D){const N=new jr(null,n,t,e,r,o,l,Sm(h));return b&&(N.urlHandlingStrategy=b),D&&(N.routeReuseStrategy=D),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(m,N),m.enableTracing&&N.events.subscribe(M=>{var V,$;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===($=console.groupEnd)||void 0===$||$.call(console)}),N},deps:[vh,Dl,At,a.zs3,a.v3s,a.Sil,Hm,Al,[class{},new a.FiY],[class{},new a.FiY]]},Dl,{provide:bl,useFactory:function(n){return n.routerState.root},deps:[jr]},{provide:a.v3s,useClass:a.EAV},Km,Fv,class{preload(t,e){return e().pipe(To(()=>(0,qe.of)(null)))}},{provide:Al,useValue:{enableTracing:!1}}];function Lv(){return new a.PXZ("Router",jr)}let Vv=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[q1,Uv(e),{provide:Z1,useFactory:YI,deps:[[jr,new a.FiY,new a.tp0]]},{provide:Al,useValue:r||{}},{provide:ge,useFactory:z1,deps:[Q,[new a.tBr(se),new a.FiY],Al]},{provide:Uc,useFactory:hx,deps:[jr,tu,Al]},{provide:Ov,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Fv},{provide:a.PXZ,multi:!0,useFactory:Lv},[Bv,{provide:a.ip1,multi:!0,useFactory:W1,deps:[Bv]},{provide:Y1,useFactory:QI,deps:[Bv]},{provide:a.tb,multi:!0,useExisting:Y1}]]}}static forChild(e){return{ngModule:n,providers:[Uv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Z1,8),a.LFG(jr,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function hx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Uc(n,t,e)}function z1(n,t,e={}){return e.useHash?new Re(n,t):new Ee(n,t)}function YI(n){return"guarded"}function Uv(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Hm,multi:!0,useValue:n}]}let Bv=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new an.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(jr),h=this.injector.get(Al);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(Al),o=this.injector.get(Km),l=this.injector.get(Uc),h=this.injector.get(jr),m=this.injector.get(a.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function W1(n){return n.appInitializer.bind(n)}function QI(n){return n.bootstrapListener.bind(n)}const Y1=new a.OlP("Router Initializer");var de=F(8239),Jm=F(7841),Qm=F(3637),er=F(9396);function bt(){return n=>n.lift(new K1)}class K1{call(t,e){return e.subscribe(new J1(t))}}class J1 extends Kn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ea{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Q1(t,this.compare,this.keySelector))}}class Q1 extends Kn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:o}=this;e=o?o(t):t}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,e)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}var He,Xi=F(8939),La=(F(4828),F(3394)),Ys=F(8026),jc=F(3910),Va=F(5422),Tt=F(3854),eC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sl={},Fh=Fh||{},yt=eC||self;function Lh(){}function tC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function kp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var rC="closure_uid_"+(1e9*Math.random()>>>0),eA=0;function px(n,t,e){return n.call.apply(n.bind,arguments)}function iC(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function Qr(n,t,e){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?px:iC).apply(null,arguments)}function Xm(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $r(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[o].apply(r,h)}}function $c(){this.s=this.s,this.o=this.o}var mx={};$c.prototype.s=!1,$c.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,rC)&&n[rC]||(n[rC]=++eA)}(this);delete mx[n]}},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},nA=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&t.call(e,o[l],l,n)};function rA(n){return Array.prototype.concat.apply([],arguments)}function sC(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function jv(n){return/^[\s\xa0]*$/.test(n)}var gi,iA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ws(n,t){return-1!=n.indexOf(t)}function Ua(n,t){return n<t?-1:n>t?1:0}e:{var oC=yt.navigator;if(oC){var $v=oC.userAgent;if($v){gi=$v;break e}}gi=""}function Op(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function Hv(n){const t={};for(const e in n)t[e]=n[e];return t}var e_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aC(n,t){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)n[e]=r[e];for(let l=0;l<e_.length;l++)e=e_[l],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Ba(n){return Ba[" "](n),n}Ba[" "]=Lh;var Nl,n,sA=ws(gi,"Opera"),Pp=ws(gi,"Trident")||ws(gi,"MSIE"),t_=ws(gi,"Edge"),Gv=t_||Pp,Zv=ws(gi,"Gecko")&&!(ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge"))&&!(ws(gi,"Trident")||ws(gi,"MSIE"))&&!ws(gi,"Edge"),oA=ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge");function lC(){var n=yt.document;return n?n.documentMode:void 0}e:{var Ml="",Fp=(n=gi,Zv?/rv:([^\);]+)(\)|;)/.exec(n):t_?/Edge\/([\d\.]+)/.exec(n):Pp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oA?/WebKit\/(\S+)/.exec(n):sA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Fp&&(Ml=Fp?Fp[1]:""),Pp){var xl=lC();if(null!=xl&&xl>parseFloat(Ml)){Nl=String(xl);break e}}Nl=Ml}var Lp={};function Vh(){return t=Lp,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=iA(String(Nl)).split("."),e=iA("9").split("."),r=Math.max(t.length,e.length);for(let h=0;0==n&&h<r;h++){var o=t[h]||"",l=e[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Ua(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Ua(0==o[2].length,0==l[2].length)||Ua(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var t}var cC=yt.document&&Pp&&(lC()||parseInt(Nl,10))||void 0,Wv=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",Lh,t),yt.removeEventListener("test",Lh,t)}catch(e){}return n}();function Xr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Uh(n,t){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Zv){e:{try{Ba(t.nodeName);var o=!0;break e}catch(l){}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:n_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uh.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},$r(Uh,Xr);var n_={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),dC=0;function yx(n,t,e,r,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=o,this.key=++dC,this.ca=this.fa=!1}function Up(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Bp(n){this.src=n,this.g={},this.h=0}function Yv(n,t){var e=t.type;if(e in n.g){var l,r=n.g[e],o=tA(r,t);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Up(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function r_(n,t,e,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==r)return o}return-1}Bp.prototype.add=function(n,t,e,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=r_(n,t,r,o);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new yx(t,this.src,l,!!r,o)).fa=e,n.push(t)),t};var Kv="closure_lm_"+(1e6*Math.random()|0),Jv={};function Cs(n,t,e,r,o){if(r&&r.once)return uA(n,t,e,r,o);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Cs(n,t[l],e,r,o);return null}return e=Qv(e),n&&n[Vp]?n.N(t,e,kp(r)?!!r.capture:!!r,o):hC(n,t,e,!1,r,o)}function hC(n,t,e,r,o,l){if(!t)throw Error("Invalid event type");var h=kp(o)?!!o.capture:!!o,m=jp(n);if(m||(n[Kv]=m=new Bp(n)),(e=m.add(t,e,r,h,l)).proxy)return e;if(r=function(){var t=dA;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Wv||(o=h),void 0===o&&(o=!1),n.addEventListener(t.toString(),r,o);else if(n.attachEvent)n.attachEvent(cA(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function uA(n,t,e,r,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)uA(n,t[l],e,r,o);return null}return e=Qv(e),n&&n[Vp]?n.O(t,e,kp(r)?!!r.capture:!!r,o):hC(n,t,e,!0,r,o)}function lA(n,t,e,r,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)lA(n,t[l],e,r,o);else r=kp(r)?!!r.capture:!!r,e=Qv(e),n&&n[Vp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=r_(l=n.g[t],e,r,o))&&(Up(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=jp(n))&&(t=n.g[t.toString()],n=-1,t&&(n=r_(t,e,r,o)),(e=-1<n?t[n]:null)&&i_(e))}function i_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Vp])Yv(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(cA(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=jp(t))?(Yv(e,n),0==e.h&&(e.src=null,t[Kv]=null)):Up(n)}}}function cA(n){return n in Jv?Jv[n]:Jv[n]="on"+n}function dA(n,t){if(n.ca)n=!0;else{t=new Uh(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&i_(n),n=e.call(r,t)}return n}function jp(n){return(n=n[Kv])instanceof Bp?n:null}var s_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(n){return"function"==typeof n?n:(n[s_]||(n[s_]=function(t){return n.handleEvent(t)}),n[s_])}function ei(){$c.call(this),this.i=new Bp(this),this.P=this,this.I=null}function mi(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Xr(t,n);else if(t instanceof Xr)t.target=t.target||n;else{var o=t;aC(t=new Xr(r,n),o)}if(o=!0,e)for(var l=e.length-1;0<=l;l--){var h=t.g=e[l];o=$p(h,r,!0,t)&&o}if(o=$p(h=t.g=n,r,!0,t)&&o,o=$p(h,r,!1,t)&&o,e)for(l=0;l<e.length;l++)o=$p(h=t.g=e[l],r,!1,t)&&o}function $p(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var h=t[l];if(h&&!h.ca&&h.capture==e){var m=h.listener,b=h.ia||h.src;h.fa&&Yv(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}$r(ei,$c),ei.prototype[Vp]=!0,ei.prototype.removeEventListener=function(n,t,e,r){lA(this,n,t,e,r)},ei.prototype.M=function(){if(ei.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Up(e[r]);delete n.g[t],n.h--}}this.I=null},ei.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},ei.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var Xv=yt.JSON.stringify;function fC(){var n=_C;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Ao,pC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gC,n=>n.reset());class gC{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function mC(n){yt.setTimeout(()=>{throw n},0)}function e0(n,t){Ao||function(){var n=yt.Promise.resolve(void 0);Ao=function(){n.then(vx)}}(),n0||(Ao(),n0=!0),_C.add(n,t)}var n0=!1,_C=new class{constructor(){this.h=this.g=null}add(t,e){const r=pC.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function vx(){for(var n;n=fC();){try{n.h.call(n.g)}catch(e){mC(e)}var t=pC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}n0=!1}function Hp(n,t){ei.call(this),this.h=n||1,this.g=t||yt,this.j=Qr(this.kb,this),this.l=Date.now()}function r0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function s0(n,t,e){if("function"==typeof n)e&&(n=Qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:yt.setTimeout(n,t||0)}function yC(n){n.g=s0(()=>{n.g=null,n.i&&(n.i=!1,yC(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}$r(Hp,ei),(He=Hp.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mi(this,"tick"),this.da&&(r0(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){Hp.Z.M.call(this),r0(this),delete this.g};class o0 extends $c{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:yC(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gp(n){$c.call(this),this.h=n,this.g={}}$r(Gp,$c);var vC=[];function Zp(n,t,e,r){Array.isArray(e)||(e&&(vC[0]=e.toString()),e=vC);for(var o=0;o<e.length;o++){var l=Cs(t,e[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function o_(n){Op(n.g,function(t,e){this.g.hasOwnProperty(e)&&i_(t)},n),n.g={}}function a_(){this.g=!0}function Hc(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Xv(e)}catch(m){return t}}(n,e)+(r?" "+r:"")})}Gp.prototype.M=function(){Gp.Z.M.call(this),o_(this)},Gp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},a_.prototype.Aa=function(){this.g=!1},a_.prototype.info=function(){};var Eu={},gA=null;function u_(){return gA=gA||new ei}function l0(n){Xr.call(this,Eu.Ma,n)}function Bh(n){const t=u_();mi(t,new l0(t,n))}function c0(n,t){Xr.call(this,Eu.STAT_EVENT,n),this.stat=t}function Ri(n){const t=u_();mi(t,new c0(t,n))}function d0(n,t){Xr.call(this,Eu.Na,n),this.size=t}function Ks(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},t)}Eu.Ma="serverreachability",$r(l0,Xr),Eu.STAT_EVENT="statevent",$r(c0,Xr),Eu.Na="timingevent",$r(d0,Xr);var Gc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function h0(){}function Zc(){}h0.prototype.h=null;var f0,jh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qc(){Xr.call(this,"d")}function zc(){Xr.call(this,"c")}function $h(){}function Hh(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Gp(this),this.P=CC,this.W=new Hp(n=Gv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wC}function wC(){this.i=null,this.g="",this.h=!1}$r(qc,Xr),$r(zc,Xr),$r($h,h0),$h.prototype.g=function(){return new XMLHttpRequest},$h.prototype.i=function(){return{}},f0=new $h;var CC=45e3,p0={},Gh={};function g0(n,t,e){n.K=1,n.v=Wp(ta(t)),n.s=e,n.U=!0,EC(n,null)}function EC(n,t){n.F=Date.now(),qp(n),n.A=ta(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),v0(e.h,"t",r),n.C=0,e=n.l.H,n.h=new wC,n.g=A0(n.l,e?t:null,!n.s),0<n.O&&(n.L=new o0(Qr(n.Ia,n,n.g),n.O)),Zp(n.V,n.g,"readystatechange",n.gb),t=n.H?Hv(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Bh(1),function(n,t,e,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var D=m[b].split("=");if(1<D.length){var N=D[0];D=D[1];var M=N.split("_");h=2<=M.length&&"type"==M[1]?h+(N+"=")+D+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function m0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Wc(n,t,e){let o,r=!0;for(;!n.I&&n.C<e.length;){if(o=TC(n,e),o==Gh){4==t&&(n.o=4,Ri(14),r=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(o==p0){n.o=4,Ri(15),Hc(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Hc(n.j,n.m,o,null),_0(n,o)}m0(n)&&o!=Gh&&o!=p0&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Ol(t),t.L=!0,Ri(11))):(Hc(n.j,n.m,e,"[Invalid Chunked Response]"),Yc(n),zp(n))}function TC(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Gh:(e=Number(t.substring(e,r)),isNaN(e)?p0:(r+=1)+e>t.length?Gh:(t=t.substr(r,e),n.C=r+e,t))}function qp(n){n.Y=Date.now()+n.P,DC(n,n.P)}function DC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ks(Qr(n.eb,n),t)}function Tu(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function zp(n){0==n.l.G||n.I||E0(n.l,n)}function Yc(n){Tu(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,r0(n.W),o_(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function _0(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||b0(e.i,n)))if(e.I=n.N,!n.J&&b0(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ks(Qr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Du(e),ja(e)}kl(e),Ri(18)}if(1>=f_(e.i)&&e.ka){try{e.ka()}catch(D){}e.ka=void 0}}else Pl(e,11)}else if((n.J||e.g==n)&&Du(e),!jv(t))for(o=e.Ca.g.parse(t),t=0;t<o.length;t++){let D=o[t];if(e.U=D[0],D=D[1],2==e.G)if("c"==D[0]){e.J=D[1],e.la=D[2];const N=D[3];null!=N&&(e.ma=N,e.h.info("VER="+e.ma));const M=D[4];null!=M&&(e.za=M,e.h.info("SVER="+e.za));const V=D[5];null!=V&&"number"==typeof V&&0<V&&(e.K=r=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const $=n.g;if($){const re=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var l=r.i;!l.g&&(ws(re,"spdy")||ws(re,"quic")||ws(re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(p_(l,l.h),l.h=null))}if(r.D){const ve=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,jn(r.F,r.D,ve))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((r=e).oa=I0(r,r.H?r.la:null,r.W),h.J){w0(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Tu(m),qp(m)),r.g=h}else ed(r);0<e.l.length&&Kh(e)}else"stop"!=D[0]&&"close"!=D[0]||Pl(e,7);else 3==e.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Pl(e,7):ti(e):"noop"!=D[0]&&e.j&&e.j.wa(D),e.A=0)}Bh(4)}catch(D){}}function IC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(tC(n)||"string"==typeof n)nA(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(tC(n)||"string"==typeof n){e=[];for(var r=n.length,o=0;o<r;o++)e.push(o)}else for(o in e=[],r=0,n)e[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(tC(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var l=0;l<o;l++)t.call(void 0,r[l],e&&e[l],n)}}function Zh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zh)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function l_(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];En(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var o={};for(e=t=0;t<n.g.length;)En(o,r=n.g[t])||(n.g[e++]=r,o[r]=1),t++;n.g.length=e}}function En(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(He=Hh.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const t=this.L;t&&3==Qs(n)?t.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const N=Qs(this.g);var t=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||Gv||this.g&&(this.h.h||this.g.ga()||BC(this.g)))){this.I||4!=N||7==t||Bh(8==t||0>=M?3:2),Tu(this);var e=this.g.ba();this.N=e;t:if(m0(this)){var r=BC(this.g);n="";var o=r.length,l=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yc(this),zp(this);var h="";break t}this.h.i=new yt.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:l&&t==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,e),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jv(m)){var D=m;break t}}D=null}if(!(e=D)){this.i=!1,this.o=3,Ri(12),Yc(this),zp(this);break e}Hc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_0(this,e)}this.U?(Wc(this,N,h),Gv&&this.i&&3==N&&(Zp(this.V,this.W,"tick",this.fb),this.W.start())):(Hc(this.j,this.m,h,null),_0(this,h)),4==N&&Yc(this),this.i&&!this.I&&(4==N?E0(this.l,this):(this.i=!1,qp(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),Yc(this),zp(this)}}}catch(N){}},He.fb=function(){if(this.g){var n=Qs(this.g),t=this.g.ga();this.C<t.length&&(Tu(this),Wc(this,n,t),this.i&&4!=n&&qp(this))}},He.cancel=function(){this.I=!0,Yc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Bh(3),Ri(17)),Yc(this),this.o=2,zp(this)):DC(this,this.Y-n)},(He=Zh.prototype).R=function(){l_(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},He.T=function(){return l_(this),this.g.concat()},He.get=function(n,t){return En(this.h,n)?this.h[n]:t},He.set=function(n,t){En(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},He.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var o=e[r],l=this.get(o);n.call(t,l,o,this)}};var c_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function es(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof es){this.g=void 0!==t?t:n.g,qh(this,n.j),this.s=n.s,y0(this,n.i),d_(this,n.m),this.l=n.l,t=n.h;var e=new Qp;e.i=t.i,t.g&&(e.g=new Zh(t.g),e.h=t.h),AC(this,e),this.o=n.o}else n&&(e=String(n).match(c_))?(this.g=!!t,qh(this,e[1]||"",!0),this.s=Yp(e[2]||""),y0(this,e[3]||"",!0),d_(this,e[4]),this.l=Yp(e[5]||"",!0),AC(this,e[6]||"",!0),this.o=Yp(e[7]||"")):(this.g=!!t,this.h=new Qp(null,this.g))}function ta(n){return new es(n)}function qh(n,t,e){n.j=e?Yp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function y0(n,t,e){n.i=e?Yp(t,!0):t}function d_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function AC(n,t,e){t instanceof Qp?(n.h=t,function(n,t){t&&!n.j&&(Rl(n),n.i=null,n.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(OC(this,r),v0(this,o,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Kp(t,RC)),n.h=new Qp(t,n.g))}function jn(n,t,e){n.h.set(t,e)}function Wp(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Jp),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}es.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Kp(t,h_,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Kp(t,h_,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Kp(e,"/"==e.charAt(0)?xC:MC,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Kp(e,kC)),n.join("")};var h_=/[#\/\?@]/g,MC=/[#\?:]/g,xC=/[#\?]/g,RC=/[#\?@]/g,kC=/#/g;function Qp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Rl(n){n.g||(n.g=new Zh,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),o=null;if(0<=r){var l=n[e].substring(0,r);o=n[e].substring(r+1)}else l=n[e];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function OC(n,t){Rl(n),t=Xp(n,t),En(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,En((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&l_(n)))}function PC(n,t){return Rl(n),t=Xp(n,t),En(n.g.h,t)}function v0(n,t,e){OC(n,t),0<e.length&&(n.i=null,n.g.set(Xp(n,t),sC(e)),n.h+=e.length)}function Xp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function LC(n){this.l=n||wx,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=Qp.prototype).add=function(n,t){Rl(this),this.i=null,n=Xp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},He.forEach=function(n,t){Rl(this),this.g.forEach(function(e,r){nA(e,function(o){n.call(t,o,r,this)},this)},this)},He.T=function(){Rl(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var o=n[r],l=0;l<o.length;l++)e.push(t[r]);return e},He.R=function(n){Rl(this);var t=[];if("string"==typeof n)PC(this,n)&&(t=rA(t,this.g.get(Xp(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=rA(t,n[e])}return t},He.set=function(n,t){return Rl(this),this.i=null,PC(this,n=Xp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},He.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var wx=10;function vA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f_(n){return n.h?1:n.g?n.g.size:0}function b0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function p_(n,t){n.g?n.g.add(t):n.h=t}function w0(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function bA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return sC(n.i)}function Js(){}function Cx(){this.g=new Js}function Ex(n,t,e){const r=e||"";try{IC(n,function(o,l){let h=o;kp(o)&&(h=Xv(o)),t.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function eg(n,t,e,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(l){}}function zh(n){this.l=n.$b||null,this.j=n.ib||!1}function tg(n,t){ei.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=C0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LC.prototype.cancel=function(){if(this.i=bA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Js.prototype.stringify=function(n){return yt.JSON.stringify(n,void 0)},Js.prototype.parse=function(n){return yt.JSON.parse(n,void 0)},$r(zh,h0),zh.prototype.g=function(){return new tg(this.l,this.j)},zh.prototype.i=function(n){return function(){return n}}({}),$r(tg,ei);var C0=0;function wA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kc(n)}function Kc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=tg.prototype).open=function(n,t){if(this.readyState!=C0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Kc(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||yt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=C0},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Wh(this):Kc(this),3==this.readyState&&wA(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,Wh(this))},He.Ta=function(n){this.g&&(this.response=n,Wh(this))},He.ha=function(){this.g&&Wh(this)},He.setRequestHeader=function(n,t){this.v.append(n,t)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CA=yt.JSON.parse;function ur(n){ei.call(this),this.headers=new Zh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VC,this.K=this.L=!1}$r(ur,ei);var VC="",EA=/^https?$/i,TA=["POST","PUT"];function IA(n){return"content-type"==n.toLowerCase()}function UC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ng(n),rg(n)}function ng(n){n.D||(n.D=!0,mi(n,"complete"),mi(n,"error"))}function Jc(n){if(n.h&&void 0!==Fh&&(!n.C[1]||4!=Qs(n)||2!=n.ba()))if(n.v&&4==Qs(n))s0(n.Fa,0,n);else if(mi(n,"readystatechange"),4==Qs(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===m){var o=String(n.H).match(c_)[1]||null;if(!o&&yt.self&&yt.self.location){var l=yt.self.location.protocol;o=l.substr(0,l.length-1)}r=!EA.test(o?o.toLowerCase():"")}e=r}if(e)mi(n,"complete"),mi(n,"success");else{n.m=6;try{var h=2<Qs(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",ng(n)}}finally{rg(n)}}}function rg(n,t){if(n.g){So(n);const e=n.g,r=n.C[0]?Lh:null;n.g=null,n.C=null,t||mi(n,"ready");try{e.onreadystatechange=r}catch(o){}}}function So(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function Qs(n){return n.g?n.g.readyState:0}function BC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ig(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return Op(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):jn(n,t,e))}function Es(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Yh(n){this.za=0,this.l=[],this.h=new a_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Es("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Es("baseRetryDelayMs",5e3,n),this.$a=Es("retryDelaySeedMs",1e4,n),this.Ya=Es("forwardChannelMaxRetries",2,n),this.ra=Es("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new LC(n&&n.concurrentRequestLimit),this.Ca=new Cx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ti(n){if(sg(n),3==n.G){var t=n.V++,e=ta(n.F);jn(e,"SID",n.J),jn(e,"RID",t),jn(e,"TYPE","terminate"),$a(n,e),(t=new Hh(n,n.h,t,void 0)).K=2,t.v=Wp(ta(e)),e=!1,yt.navigator&&yt.navigator.sendBeacon&&(e=yt.navigator.sendBeacon(t.v.toString(),"")),!e&&yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=A0(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qp(t)}D0(n)}function ja(n){n.g&&(Ol(n),n.g.cancel(),n.g=null)}function sg(n){ja(n),n.u&&(yt.clearTimeout(n.u),n.u=null),Du(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function Ts(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Kh(n)}function Kh(n){vA(n.i)||n.m||(n.m=!0,e0(n.Ha,n),n.C=0)}function Qc(n,t){var e;e=t?t.m:n.V++;const r=ta(n.F);jn(r,"SID",n.J),jn(r,"RID",e),jn(r,"AID",n.U),$a(n,r),n.o&&n.s&&ig(r,n.o,n.s),e=new Hh(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=Xc(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),p_(n.i,e),g0(e,r,t)}function $a(n,t){n.j&&IC({},function(e,r){jn(t,r,e)})}function Xc(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Qr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+e];-1==l?0<e?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<e;b++){let D=o[b].h;const N=o[b].g;if(D-=l,0>D)l=Math.max(0,o[b].h-100),m=!1;else try{Ex(N,h,"req"+D+"_")}catch(M){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function ed(n){n.g||n.u||(n.Y=1,e0(n.Ga,n),n.A=0)}function kl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ks(Qr(n.Ga,n),T0(n,n.A)),n.A++,0))}function Ol(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function td(n){n.g=new Hh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ta(n.oa);jn(t,"RID","rpc"),jn(t,"SID",n.J),jn(t,"CI",n.N?"0":"1"),jn(t,"AID",n.U),$a(n,t),jn(t,"TYPE","xmlhttp"),n.o&&n.s&&ig(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Wp(ta(t)),e.s=null,e.U=!0,EC(e,n)}function Du(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function E0(n,t){var e=null;if(n.g==t){Du(n),Ol(n),n.g=null;var r=2}else{if(!b0(n.i,t))return;e=t.D,w0(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=n.C;mi(r=u_(),new d0(r,e,t,o)),Kh(n)}else ed(n);else if(3==(o=t.o)||0==o&&0<n.I||!(1==r&&function(n,t){return!(f_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ks(Qr(n.Ha,n,t),T0(n,n.C)),n.C++,0)))}(n,t)||2==r&&kl(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:Pl(n,5);break;case 4:Pl(n,10);break;case 3:Pl(n,6);break;default:Pl(n,2)}}function T0(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Pl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Qr(n.jb,n);e||(e=new es("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||qh(e,"https"),Wp(e)),function(n,t){const e=new a_;if(yt.Image){const r=new Image;r.onload=Xm(eg,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Xm(eg,e,r,"TestLoadImage: error",!1,t),r.onabort=Xm(eg,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xm(eg,e,r,"TestLoadImage: timeout",!1,t),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Ri(2);n.G=0,n.j&&n.j.va(t),D0(n),sg(n)}function D0(n){n.G=0,n.I=-1,n.j&&((0!=bA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,sC(n.l),n.l.length=0),n.j.ua())}function I0(n,t,e){let r=function(n){return n instanceof es?ta(n):new es(n,void 0)}(e);if(""!=r.i)t&&y0(r,t+"."+r.i),d_(r,r.m);else{const o=yt.location;r=function(n,t,e,r){var o=new es(null,void 0);return n&&qh(o,n),t&&y0(o,t),e&&d_(o,e),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,e)}return n.aa&&Op(n.aa,function(o,l){jn(r,l,o)}),e=n.sa,(t=n.D)&&e&&jn(r,t,e),jn(r,"VER",n.ma),$a(n,r),r}function A0(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ur(e&&n.Ba&&!n.qa?new zh({ib:!0}):n.qa)).L=n.H,t}function S0(){}function og(){if(Pp&&!(10<=Number(cC)))throw Error("Environmental error: no available transport.")}function Ds(n,t){ei.call(this),this.g=new Yh(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!jv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Qh(this)}function jC(n){qc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function N0(){zc.call(this),this.status=1}function Qh(n){this.g=n}(He=ur.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:f0),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void UC(this,l)}n=e||"";const o=new Zh(this.headers);r&&IC(r,function(l,h){o.set(h,l)}),r=function(n){e:{var t=IA;const e=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<e;o++)if(o in r&&t.call(void 0,r[o],o,n)){t=o;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(o.T()),e=yt.FormData&&n instanceof yt.FormData,!(0<=tA(TA,t))||r||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{So(this),0<this.B&&((this.K=function(n){return Pp&&Vh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=s0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){UC(this,l)}},He.pa=function(){void 0!==Fh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mi(this,"complete"),mi(this,"abort"),rg(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rg(this,!0)),ur.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Jc(this):this.cb())},He.cb=function(){Jc(this)},He.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),CA(t)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Yh.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Hh(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Hv(l),aC(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Xc(this,o,t),jn(e=ta(this.F),"RID",n),jn(e,"CVER",22),this.D&&jn(e,"X-HTTP-Session-Id",this.D),$a(this,e),this.o&&l&&ig(e,this.o,l),p_(this.i,o),this.Ra&&jn(e,"TYPE","init"),this.ja?(jn(e,"$req",t),jn(e,"SID","null"),o.$=!0,g0(o,e,null)):g0(o,e,t),this.G=2}}else 3==this.G&&(n?Qc(this,n):0==this.l.length||vA(this.i)||Qc(this))},He.Ga=function(){if(this.u=null,td(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ks(Qr(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ri(10),ja(this),td(this))},He.ab=function(){null!=this.v&&(this.v=null,ja(this),kl(this),Ri(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ri(2)):(this.h.info("Failed to ping google.com"),Ri(1))},(He=S0.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},og.prototype.g=function(n,t){return new Ds(n,t)},$r(Ds,ei),Ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),e0(Qr(n.hb,n,t))),Ri(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=I0(n,null,n.W),Kh(n)},Ds.prototype.close=function(){ti(this.g)},Ds.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Ts(this.g,t)}else this.v?((t={}).__data__=Xv(n),Ts(this.g,t)):Ts(this.g,n)},Ds.prototype.M=function(){this.g.j=null,delete this.j,ti(this.g),delete this.g,Ds.Z.M.call(this)},$r(jC,qc),$r(N0,zc),$r(Qh,S0),Qh.prototype.xa=function(){mi(this.g,"a")},Qh.prototype.wa=function(n){mi(this.g,new jC(n))},Qh.prototype.va=function(n){mi(this.g,new N0(n))},Qh.prototype.ua=function(){mi(this.g,"b")},og.prototype.createWebChannel=og.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,bC.COMPLETE="complete",Zc.EventType=jh,jh.OPEN="a",jh.CLOSE="b",jh.ERROR="c",jh.MESSAGE="d",ei.prototype.listen=ei.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var $C=Sl.createWebChannelTransport=function(){return new og},HC=Sl.getStatEventTarget=function(){return u_()},M0=Sl.ErrorCode=Gc,Dx=Sl.EventType=bC,SA=Sl.Event=Eu,x0=Sl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},NA=Sl.FetchXmlHttpFactory=zh,ag=Sl.WebChannel=Zc,MA=Sl.XhrIo=ur;const GC="@firebase/firestore";class ki{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Xh="9.6.0";const Iu=new Va.Yd("@firebase/firestore");function ZC(){return Iu.logLevel}function Le(n,...t){if(Iu.logLevel<=Va.in.DEBUG){const e=t.map(R0);Iu.debug(`Firestore (${Xh}): ${n}`,...e)}}function Ar(n,...t){if(Iu.logLevel<=Va.in.ERROR){const e=t.map(R0);Iu.error(`Firestore (${Xh}): ${n}`,...e)}}function g_(n,...t){if(Iu.logLevel<=Va.in.WARN){const e=t.map(R0);Iu.warn(`Firestore (${Xh}): ${n}`,...e)}}function R0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function rt(n="Unexpected state"){const t=`FIRESTORE (${Xh}) INTERNAL ASSERTION FAILED: `+n;throw Ar(t),new Error(t)}function pt(n,t){n||rt()}function Be(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class qC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ki.UNAUTHENTICATED))}shutdown(){}}class Ax{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class xA{constructor(t){this.t=t,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const l=D=>this.i!==o?(o=this.i,e(D)):Promise.resolve();let h=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _i,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=h;t.enqueueRetryable((0,de.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},b=D=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>b(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?b(D):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _i)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new qC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pt(null===t||"string"==typeof t),new ki(t)}}class ef{constructor(t,e,r){this.type="FirstParty",this.user=ki.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const o=t.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class RA{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new ef(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kA{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=o=>{t.enqueueRetryable(()=>{return null!=(l=o).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pt("string"==typeof e.token),new O0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Oi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.p(r),this.T=r=>e.writeSequenceNumber(r))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function PA(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}Oi.I=-1;class P0{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=PA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%t.length))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function tf(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}function WC(n){return n+"\0"}class ni{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ni(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ni(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function F0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function nd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function L0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class nf{constructor(t,e,r){void 0===e?e=0:e>t.length&&rt(),void 0===r?r=t.length-e:r>t.length-e&&rt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===nf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nf?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=t.get(o),h=e.get(o);if(l<h)return-1;if(l>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class un extends nf{construct(t,e,r){return new un(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new un(e)}static emptyPath(){return new un([])}}const Sx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends nf{construct(t,e,r){return new Hr(t,e,r)}static isValidIdentifier(t){return Sx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(0===r.length)throw new xe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;o<t.length;){const m=t[o];if("\\"===m){if(o+1===t.length)throw new xe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new xe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new xe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hr(e)}static emptyPath(){return new Hr([])}}class rf{constructor(t){this.fields=t,t.sort(Hr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return tf(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class lr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new lr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(t);return new lr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const FA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(n){if(pt(!!n),"string"==typeof n){let t=0;const e=FA.exec(n);if(pt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sf(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function ug(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function m_(n){const t=n.mapValue.fields.__previous_value__;return ug(t)?m_(t):t}function af(n){const t=Ha(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}function uf(n){return null==n}function __(n){return 0===n&&1/n==-1/0}function y_(n){return"number"==typeof n&&Number.isInteger(n)&&!__(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(un.fromString(t))}static fromName(t){return new Je(un.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new un(t.slice()))}}function rd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ug(n)?4:10:rt()}function na(n,t){const e=rd(n);if(e!==rd(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return af(n).isEqual(af(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ha(r.timestampValue),h=Ha(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,sf(n.bytesValue).isEqual(sf(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return cr(r.geoPointValue.latitude)===cr(o.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return cr(r.integerValue)===cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=cr(r.doubleValue),h=cr(o.doubleValue);return l===h?__(l)===__(h):isNaN(l)&&isNaN(h)}return!1}(n,t);case 9:return tf(n.arrayValue.values||[],t.arrayValue.values||[],na);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(F0(l)!==F0(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!na(l[m],h[m])))return!1;return!0}(n,t);default:return rt()}var o}function id(n,t){return void 0!==(n.values||[]).find(e=>na(e,t))}function sd(n,t){const e=rd(n),r=rd(t);if(e!==r)return Kt(e,r);switch(e){case 0:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(o,l){const h=cr(o.integerValue||o.doubleValue),m=cr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,t);case 3:return v_(n.timestampValue,t.timestampValue);case 4:return v_(af(n),af(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(o,l){const h=sf(o),m=sf(l);return h.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const D=Kt(h[b],m[b]);if(0!==D)return D}return Kt(h.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const h=Kt(cr(o.latitude),cr(l.latitude));return 0!==h?h:Kt(cr(o.longitude),cr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const D=sd(h[b],m[b]);if(D)return D}return Kt(h.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},D=Object.keys(b);m.sort(),D.sort();for(let N=0;N<m.length&&N<D.length;++N){const M=Kt(m[N],D[N]);if(0!==M)return M;const V=sd(h[m[N]],b[D[N]]);if(0!==V)return V}return Kt(m.length,D.length)}(n.mapValue,t.mapValue);default:throw rt()}}function v_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=Ha(n),r=Ha(t),o=Kt(e.seconds,r.seconds);return 0!==o?o:Kt(e.nanos,r.nanos)}function lg(n){return b_(n)}function b_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ha(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sf(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=b_(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${b_(r.fields[m])}`;return l+"}"}(n.mapValue):rt();var t}function w_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function C_(n){return!!n&&"integerValue"in n}function E_(n){return!!n&&"arrayValue"in n}function T_(n){return!!n&&"nullValue"in n}function V0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function D_(n){return!!n&&"mapValue"in n}function lf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return nd(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=lf(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=lf(n.arrayValue.values[e]);return t}return Object.assign({},n)}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!D_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=lf(e)}setAll(t){let e=Hr.emptyPath(),r={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const b=this.getFieldsMap(e);this.applyChanges(b,r,o),r={},o=[],e=m.popLast()}h?r[m.lastSegment()]=lf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());D_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return na(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];D_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){nd(e,(o,l)=>t[o]=l);for(const o of r)delete t[o]}clone(){return new yi(lf(this.value))}}function I_(n){const t=[];return nd(n.fields,(e,r)=>{const o=new Hr([e]);if(D_(r)){const l=I_(r.mapValue).fields;if(0===l.length)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new rf(t)}class Ln{constructor(t,e,r,o,l){this.key=t,this.documentType=e,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(t){return new Ln(t,0,Lt.min(),yi.empty(),0)}static newFoundDocument(t,e,r){return new Ln(t,1,e,r,0)}static newNoDocument(t,e){return new Ln(t,2,e,yi.empty(),0)}static newUnknownDocument(t,e){return new Ln(t,3,e,yi.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Ln(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YC{constructor(t,e=null,r=[],o=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function U0(n,t=null,e=[],r=[],o=null,l=null,h=null){return new YC(n,t,e,r,o,l,h)}function cf(n){const t=Be(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+lg(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),uf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=fg(t.startAt)),t.endAt&&(e+="|ub:",e+=fg(t.endAt)),t.R=e}return t.R}function cg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!XC(n.orderBy[o],t.orderBy[o]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((e=n.filters[o]).op!==(r=t.filters[o]).op||!e.field.isEqual(r.field)||!na(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!od(n.startAt,t.startAt)&&od(n.endAt,t.endAt)}function dg(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,r):new Mx(t,e,r):"array-contains"===e?new UA(t,r):"in"===e?new Gr(t,r):"not-in"===e?new QC(t,r):"array-contains-any"===e?new BA(t,r):new Pi(t,e,r)}static P(t,e,r){return"in"===e?new LA(t,r):new VA(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(sd(e,this.value)):null!==e&&rd(this.value)===rd(e)&&this.v(sd(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Mx extends Pi{constructor(t,e,r){super(t,e,r),this.key=Je.fromName(r.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.v(e)}}class LA extends Pi{constructor(t,e){super(t,"in",e),this.keys=B0(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VA extends Pi{constructor(t,e){super(t,"not-in",e),this.keys=B0(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function B0(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Je.fromName(r.referenceValue))}class UA extends Pi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return E_(e)&&id(e.arrayValue,this.value)}}class Gr extends Pi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&id(this.value.arrayValue,e)}}class QC extends Pi{constructor(t,e){super(t,"not-in",e)}matches(t){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!id(this.value.arrayValue,e)}}class BA extends Pi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!E_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}class hg{constructor(t,e){this.position=t,this.before=e}}function fg(n){return`${n.before?"b":"a"}:${n.position.map(t=>lg(t)).join(",")}`}class df{constructor(t,e="asc"){this.field=t,this.dir=e}}function XC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function j0(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const l=t[o],h=n.position[o];if(r=l.field.isKeyField()?Je.comparator(Je.fromName(h.referenceValue),e.key):sd(h,e.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function od(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!na(n.position[e],t.position[e]))return!1;return!0}class Au{constructor(t,e=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function eE(n,t,e,r,o,l,h,m){return new Au(n,t,e,r,o,l,h,m)}function ad(n){return new Au(n)}function A_(n){return!uf(n.limit)&&"F"===n.limitType}function pg(n){return!uf(n.limit)&&"L"===n.limitType}function tE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gg(n){for(const t of n.filters)if(t.V())return t.field;return null}function mg(n){return null!==n.collectionGroup}function ts(n){const t=Be(n);if(null===t.S){t.S=[];const e=gg(t),r=tE(t);if(null!==e&&null===r)e.isKeyField()||t.S.push(new df(e)),t.S.push(new df(Hr.keyField(),"asc"));else{let o=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new df(Hr.keyField(),l))}}}return t.S}function No(n){const t=Be(n);if(!t.D)if("F"===t.limitType)t.D=U0(t.path,t.collectionGroup,ts(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of ts(t))e.push(new df(l.field,"desc"===l.dir?"asc":"desc"));const r=t.endAt?new hg(t.endAt.position,!t.endAt.before):null,o=t.startAt?new hg(t.startAt.position,!t.startAt.before):null;t.D=U0(t.path,t.collectionGroup,e,t.filters,t.limit,r,o)}return t.D}function $0(n,t,e){return new Au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Is(n,t){return cg(No(n),No(t))&&n.limitType===t.limitType}function Mo(n){return`${cf(No(n))}|lt:${n.limitType}`}function Xs(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${lg(r.value)}`;var r}).join(", ")}]`),uf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+fg(n.startAt)),n.endAt&&(t+=", endAt: "+fg(n.endAt)),`Target(${t})`}(No(n))}; limitType=${n.limitType})`}function hf(n,t){return t.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Je.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(const o of e.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!j0(e.startAt,ts(e),r)||e.endAt&&j0(e.endAt,ts(e),r)));var e,r}function H0(n){return(t,e)=>{let r=!1;for(const o of ts(n)){const l=jA(o,t,e);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function jA(n,t,e){const r=n.field.isKeyField()?Je.comparator(t.key,e.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?sd(m,b):rt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function nE(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(t)?"-0":t}}function rE(n){return{integerValue:""+n}}function iE(n,t){return y_(t)?rE(t):nE(n,t)}class ff{constructor(){this._=void 0}}function _g(n,t,e){return n instanceof pf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(e,t):n instanceof Fl?Z0(n,t):n instanceof Ga?sE(n,t):function(r,o){const l=G0(r,o),h=q0(l)+q0(r.N);return C_(l)&&C_(r.N)?rE(h):nE(r.k,h)}(n,t)}function $A(n,t,e){return n instanceof Fl?Z0(n,t):n instanceof Ga?sE(n,t):e}function G0(n,t){return n instanceof ud?C_(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class pf extends ff{}class Fl extends ff{constructor(t){super(),this.elements=t}}function Z0(n,t){const e=S_(t);for(const r of n.elements)e.some(o=>na(o,r))||e.push(r);return{arrayValue:{values:e}}}class Ga extends ff{constructor(t){super(),this.elements=t}}function sE(n,t){let e=S_(t);for(const r of n.elements)e=e.filter(o=>!na(o,r));return{arrayValue:{values:e}}}class ud extends ff{constructor(t,e){super(),this.k=t,this.N=e}}function q0(n){return cr(n.integerValue||n.doubleValue)}function S_(n){return E_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ll{constructor(t,e){this.field=t,this.transform=e}}class aE{constructor(t,e){this.version=t,this.transformResults=e}}class vr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vr}static exists(t){return new vr(void 0,t)}static updateTime(t){return new vr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yg(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class vg{}function uE(n,t,e){n instanceof bg?function(r,o,l){const h=r.value.clone(),m=hE(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Su?function(r,o,l){if(!yg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=hE(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(dE(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function N_(n,t,e){var o;n instanceof bg?function(r,o,l){if(!yg(r.precondition,o))return;const h=r.value.clone(),m=fE(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(cE(o),h).setHasLocalMutations()}(n,t,e):n instanceof Su?function(r,o,l){if(!yg(r.precondition,o))return;const h=fE(r.fieldTransforms,l,o),m=o.data;m.setAll(dE(r)),m.setAll(h),o.convertToFoundDocument(cE(o),m).setHasLocalMutations()}(n,t,e):yg(n.precondition,o=t)&&o.convertToNoDocument(Lt.min())}function lE(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),l=G0(r.transform,o||null);null!=l&&(null==e&&(e=yi.empty()),e.set(r.field,l))}return e||null}function z0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&tf(e,r,(o,l)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Fl&&r instanceof Fl||e instanceof Ga&&r instanceof Ga?tf(e.elements,r.elements,na):e instanceof ud&&r instanceof ud?na(e.N,r.N):e instanceof pf&&r instanceof pf);var e,r}(o,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function cE(n){return n.isFoundDocument()?n.version:Lt.min()}class bg extends vg{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Su extends vg{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function dE(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function hE(n,t,e){const r=new Map;pt(n.length===e.length);for(let o=0;o<e.length;o++){const l=n[o],h=l.transform,m=t.data.field(l.field);r.set(l.field,$A(h,m,e[o]))}return r}function fE(n,t,e){const r=new Map;for(const o of n){const l=o.transform,h=e.data.field(o.field);r.set(o.field,_g(l,h,t))}return r}class wg extends vg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class W0 extends vg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class pE{constructor(t){this.count=t}}var Sr,rn;function gE(n){switch(n){default:return rt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function mE(n){if(void 0===n)return Ar("GRPC error has no .code"),me.UNKNOWN;switch(n){case Sr.OK:return me.OK;case Sr.CANCELLED:return me.CANCELLED;case Sr.UNKNOWN:return me.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return me.INTERNAL;case Sr.UNAVAILABLE:return me.UNAVAILABLE;case Sr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Sr.NOT_FOUND:return me.NOT_FOUND;case Sr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Sr.ABORTED:return me.ABORTED;case Sr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Sr.DATA_LOSS:return me.DATA_LOSS;default:return rt()}}(rn=Sr||(Sr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class Zr{constructor(t,e){this.comparator=t,this.root=e||vi.EMPTY}insert(t,e){return new Zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(t){return new Zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new M_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new M_(this.root,t,this.comparator,!1)}getReverseIterator(){return new M_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new M_(this.root,t,this.comparator,!0)}}class M_{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vi{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=null!=r?r:vi.RED,this.left=null!=o?o:vi.EMPTY,this.right=null!=l?l:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new vi(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===l?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return vi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const t=this.left.check();if(t!==this.right.check())throw rt();return t+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,t,e,r,o){return this}insert(n,t,e){return new vi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(t){this.comparator=t,this.data=new Zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(t){return new Y0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof dr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new dr(this.comparator);return e.data=t,e}}class Y0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _E=new Zr(Je.comparator);function eo(){return _E}const yE=new Zr(Je.comparator);function x_(){return yE}const vE=new Zr(Je.comparator);function K0(){return vE}const bE=new dr(Je.comparator);function Tn(...n){let t=bE;for(const e of n)t=t.add(e);return t}const J0=new dr(Kt);function Cg(){return J0}class ra{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,Eg.createSynthesizedTargetChangeForCurrentChange(t,e)),new ra(Lt.min(),r,Cg(),eo(),Tn())}}class Eg{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Eg(lr.EMPTY_BYTE_STRING,e,Tn(),Tn(),Tn())}}class R_{constructor(t,e,r,o){this.$=t,this.removedTargetIds=e,this.key=r,this.F=o}}class ld{constructor(t,e){this.targetId=t,this.O=e}}class HA{constructor(t,e,r=lr.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class k_{constructor(){this.M=0,this.L=X0(),this.B=lr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Tn(),e=Tn(),r=Tn();return this.L.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new Eg(this.B,this.U,t,e,r)}H(){this.q=!1,this.L=X0()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class xx{constructor(t){this.et=t,this.nt=new Map,this.st=eo(),this.it=Q0(),this.rt=new dr(Kt)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const r=this.ht(e);switch(t.state){case 0:this.lt(e)&&r.W(t.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(t.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(e);break;case 3:this.lt(e)&&(r.tt(),r.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),r.W(t.resumeToken));break;default:rt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((r,o)=>{this.lt(o)&&e(o)})}dt(t){const e=t.targetId,r=t.O.count,o=this.wt(e);if(o){const l=o.target;if(dg(l))if(0===r){const h=new Je(l.path);this.ct(e,h,Ln.newNoDocument(h,Lt.min()))}else pt(1===r);else this._t(e)!==r&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&dg(m.target)){const b=new Je(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Ln.newNoDocument(b,t))}l.j&&(e.set(h,l.G()),l.H())}});let r=Tn();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const D=this.wt(b);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new ra(t,e,this.rt,this.st,r);return this.st=eo(),this.it=Q0(),this.rt=new dr(Kt),o}at(t,e){if(!this.lt(t))return;const r=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,r),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,r){if(!this.lt(t))return;const o=this.ht(t);this.yt(t,e)?o.J(e,1):o.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),r&&(this.st=this.st.insert(e,r))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new k_,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new dr(Kt),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new k_),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function Q0(){return new Zr(Je.comparator)}function X0(){return new Zr(Je.comparator)}const Rx={asc:"ASCENDING",desc:"DESCENDING"},ht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class GA{constructor(t,e){this.databaseId=t,this.C=e}}function Tg(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(n,t){return n.C?t.toBase64():t.toUint8Array()}function O_(n,t){return Tg(n,t.toTimestamp())}function ri(n){return pt(!!n),Lt.fromTimestamp(function(t){const e=Ha(t);return new ni(e.seconds,e.nanos)}(n))}function gf(n,t){return(e=n,new un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Dg(n){const t=un.fromString(n);return pt(ob(t)),t}function Un(n,t){return gf(n.databaseId,t.path)}function Nu(n,t){const e=Dg(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(eb(e))}function P_(n,t){return gf(n.databaseId,t)}function F_(n){const t=Dg(n);return 4===t.length?un.emptyPath():eb(t)}function Ig(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eb(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tb(n,t,e){return{name:Un(n,t),fields:e.value.mapValue.fields}}function nb(n,t,e){const r=Nu(n,t.name),o=ri(t.updateTime),l=new yi({mapValue:{fields:t.fields}}),h=Ln.newFoundDocument(r,o,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function L_(n,t){let e;if(t instanceof bg)e={update:tb(n,t.key,t.value)};else if(t instanceof wg)e={delete:Un(n,t.key)};else if(t instanceof Su)e={update:tb(n,t.key,t.data),updateMask:AE(t.fieldMask)};else{if(!(t instanceof W0))return rt();e={verify:Un(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof pf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ga)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ud)return{fieldPath:l.field.canonicalString(),increment:h.N};throw rt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:O_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),e;var o}function EE(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?vr.updateTime(ri(o.updateTime)):void 0!==o.exists?vr.exists(o.exists):vr.none():vr.none(),r=t.updateTransforms?t.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(pt("REQUEST_TIME"===h.setToServerValue),m=new pf):"appendMissingElements"in h?m=new Fl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ga(h.removeAllFromArray.values||[]):"increment"in h?m=new ud(l,h.increment):rt();const b=Hr.fromServerFormat(h.fieldPath);return new Ll(b,m)}(n,o)):[];var o;if(t.update){const o=Nu(n,t.update.name),l=new yi({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new rf((t.updateMask.fieldPaths||[]).map(D=>Hr.fromServerFormat(D)));return new Su(o,l,h,e,r)}return new bg(o,l,e,r)}if(t.delete){const o=Nu(n,t.delete);return new wg(o,e)}if(t.verify){const o=Nu(n,t.verify);return new W0(o,e)}return rt()}function TE(n,t){return{documents:[P_(n,t.path)]}}function DE(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=P_(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=P_(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(D=>function(N){if("=="===N.op){if(V0(N.value))return{unaryFilter:{field:Za(N.field),op:"IS_NAN"}};if(T_(N.value))return{unaryFilter:{field:Za(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(V0(N.value))return{unaryFilter:{field:Za(N.field),op:"IS_NOT_NAN"}};if(T_(N.value))return{unaryFilter:{field:Za(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(N.field),op:Sg(N.op),value:N.value}}}(D));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);o&&(e.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Za((D=b).field),direction:qA(D.dir)};var D})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const h=(b=t.limit,n.C||uf(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=ib(t.startAt)),t.endAt&&(e.structuredQuery.endAt=ib(t.endAt)),e}function IE(n){let t=F_(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){pt(1===r);const N=e.from[0];N.allDescendants?o=N.collectionId:t=t.child(N.collectionId)}let l=[];e.where&&(l=rb(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(N=>{return new df(mf((M=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;e.limit&&(m=function(N){let M;return M="object"==typeof N?N.value:N,uf(M)?null:M}(e.limit));let b=null;e.startAt&&(b=sb(e.startAt));let D=null;return e.endAt&&(D=sb(e.endAt)),eE(t,o,h,l,m,"F",b,D)}function rb(n){return n?void 0!==n.unaryFilter?[WA(n)]:void 0!==n.fieldFilter?[zA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>rb(t)).reduce((t,e)=>t.concat(e)):rt():[]}function ib(n){return{before:n.before,values:n.position}}function sb(n){return new hg(n.values||[],!!n.before)}function qA(n){return Rx[n]}function Sg(n){return ht[n]}function Za(n){return{fieldPath:n.canonicalString()}}function mf(n){return Hr.fromServerFormat(n.fieldPath)}function zA(n){return Pi.create(mf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function WA(n){switch(n.unaryFilter.op){case"IS_NAN":const t=mf(n.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=mf(n.unaryFilter.field);return Pi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mf(n.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mf(n.unaryFilter.field);return Pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function AE(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ob(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ab(t)),t=YA(n.get(e),t);return ab(t)}function YA(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function ab(n){return n+"\x01\x01"}function Mu(n){const t=n.length;if(pt(t>=2),2===t)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const e=t-2,r=[];let o="";for(let l=0;l<t;){const h=n.indexOf("\x01",l);switch((h<0||h>e)&&rt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:rt()}l=h+2}return new un(r)}class KA{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Ro{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}Ro.store="owner",Ro.key="owner";class cd{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}cd.store="mutationQueues",cd.keyPath="userId";class tr{constructor(t,e,r,o,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];class ns{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,xo(e)]}static key(t,e,r){return[t,xo(e),r]}}ns.store="documentMutations",ns.PLACEHOLDER=new ns;class SE{constructor(t,e){this.path=t,this.readTime=e}}class U_{constructor(t,e){this.path=t,this.version=e}}class hr{constructor(t,e,r,o,l,h){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}hr.store="remoteDocuments",hr.readTimeIndex="readTimeIndex",hr.readTimeIndexPath="readTime",hr.collectionReadTimeIndex="collectionReadTimeIndex",hr.collectionReadTimeIndexPath=["parentPath","readTime"];class qa{constructor(t){this.byteSize=t}}qa.store="remoteDocumentGlobal",qa.key="remoteDocumentGlobalKey";class rs{constructor(t,e,r,o,l,h,m){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];class br{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}br.store="targetDocuments",br.keyPath=["targetId","path"],br.documentTargetsIndex="documentTargetsIndex",br.documentTargetsKeyPath=["path","targetId"];class to{constructor(t,e,r,o){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}to.key="targetGlobalKey",to.store="targetGlobal";class dd{constructor(t,e){this.collectionId=t,this.parent=e}}dd.store="collectionParents",dd.keyPath=["collectionId","parent"];class xu{constructor(t,e,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=o}}xu.store="clientMetadata",xu.keyPath="clientId";class _f{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}_f.store="bundles",_f.keyPath="bundleId";class yf{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}yf.store="namedQueries",yf.keyPath="name";const NE=[cd.store,tr.store,ns.store,hr.store,rs.store,Ro.store,to.store,br.store,xu.store,qa.store,dd.store,_f.store,yf.store],ME="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,r)=>{e(t)})}static reject(t){return new Ie((e,r)=>{r(t)})}static waitFor(t){return new Ie((e,r)=>{let o=0,l=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&e()},b=>r(b))}),h=!0,l===o&&e()})}static or(t){let e=Ie.resolve(!1);for(const r of t)e=e.next(o=>o?Ie.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,l)=>{r.push(e.call(this,o,l))}),this.waitFor(r)}}class B_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new _i,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new vf(t,e.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=ub(r.target.error);this.It.reject(new vf(t,o))}}static open(t,e,r,o){try{return new B_(e,t.transaction(o,r))}catch(l){throw new vf(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new RE(e)}}class ko{constructor(t,e,r){this.name=t,this.version=e,this.Rt=r,12.2===ko.Pt((0,Tt.z$)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),fd(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Tt.hl)())return!1;if(ko.vt())return!0;const t=(0,Tt.z$)(),e=ko.Pt(t),r=0<e&&e<10,o=ko.Vt(t),l=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(t){var e=this;return(0,de.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new vf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new xe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new vf(t,m))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.Rt.Nt(h.target.result,l.transaction,h.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=r=>e.kt(r)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,o){var l=this;return(0,de.Z)(function*(){const h="readonly"===e;let m=0;for(;;){++m;try{l.db=yield l.Ct(t);const b=B_.open(l.db,t,h?"readonly":"readwrite",r),D=o(b).catch(N=>(b.abort(N),Ie.reject(N))).toPromise();return D.catch(()=>{}),yield b.At,D}catch(b){const D="FirebaseError"!==b.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),l.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class JA{constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return fd(this.$t.delete())}}class vf extends xe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hd(n){return"IndexedDbTransactionError"===n.name}class RE{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),fd(r)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),fd(this.store.add(t))}get(t){return fd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),fd(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),fd(this.store.count())}Bt(t,e){const r=this.cursor(this.options(t,e)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.Ut(o,e)}Qt(t){const e=this.cursor({});return new Ie((r,o)=>{e.onerror=l=>{const h=ub(l.target.error);o(h)},e.onsuccess=l=>{const h=l.target.result;h?t(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(t,e){const r=[];return new Ie((o,l)=>{t.onerror=h=>{l(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new JA(m),D=e(m.primaryKey,m.value,b);if(D instanceof Ie){const N=D.catch(M=>(b.done(),Ie.reject(M)));r.push(N)}b.isDone?o():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>Ie.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Kt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function fd(n){return new Ie((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const o=ub(r.target.error);e(o)}})}let j_=!1;function ub(n){const t=ko.Pt((0,Tt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return j_||(j_=!0,setTimeout(()=>{throw r},0)),r}}return n}class lb extends xE{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function is(n,t){const e=Be(n);return ko.Dt(e.Wt,t)}class cb{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&uE(l,t,r[o])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&N_(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&N_(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Tn())}isEqual(t){return this.batchId===t.batchId&&tf(this.mutations,t.mutations,(e,r)=>z0(e,r))&&tf(this.baseMutations,t.baseMutations,(e,r)=>z0(e,r))}}class db{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){pt(t.mutations.length===r.length);let o=K0();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new db(t,e,r,o)}}class Vl{constructor(t,e,r,o,l=Lt.min(),h=Lt.min(),m=lr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(t){return new Vl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class $_{constructor(t){this.Gt=t}}function hb(n,t){if(t.document)return nb(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Je.fromSegments(t.noDocument.path),r=wf(t.noDocument.readTime),o=Ln.newNoDocument(e,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){const e=Je.fromSegments(t.unknownDocument.path),r=wf(t.unknownDocument.version);return Ln.newUnknownDocument(e,r)}return rt()}function fb(n,t,e){const r=pb(e),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:Un(m=n.Gt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:Tg(m,b.version.toTimestamp())};return new hr(null,null,l,t.hasCommittedMutations,r,o)}var m,b;if(t.isNoDocument()){const l=t.key.path.toArray(),h=bf(t.version),m=t.hasCommittedMutations;return new hr(null,new SE(l,h),null,m,r,o)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),h=bf(t.version);return new hr(new U_(l,h),null,null,!0,r,o)}return rt()}function pb(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function kE(n){const t=new ni(n[0],n[1]);return Lt.fromTimestamp(t)}function bf(n){const t=n.toTimestamp();return new KA(t.seconds,t.nanoseconds)}function wf(n){const t=new ni(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function Cf(n,t){const e=(t.baseMutations||[]).map(l=>EE(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const h=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(h.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const r=t.mutations.map(l=>EE(n.Gt,l)),o=ni.fromMillis(t.localWriteTimeMs);return new cb(t.batchId,o,e,r)}function Ng(n){const t=wf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?wf(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var o;return void 0!==n.query.documents?(pt(1===(o=n.query).documents.length),r=No(ad(F_(o.documents[0])))):r=No(IE(n.query)),new Vl(r,n.targetId,0,n.lastListenSequenceNumber,t,e,lr.fromBase64String(n.resumeToken))}function OE(n,t){const e=bf(t.snapshotVersion),r=bf(t.lastLimboFreeSnapshotVersion);let o;o=dg(t.target)?TE(n.Gt,t.target):DE(n.Gt,t.target);const l=t.resumeToken.toBase64();return new rs(t.targetId,cf(t.target),e,l,t.sequenceNumber,r,o)}function gb(n){const t=IE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(t,t.limit,"L"):t}class PE{getBundleMetadata(t,e){return mb(t).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:wf(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return mb(t).put({bundleId:(r=e).id,createTime:bf(ri(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return _b(t).get(e).next(r=>{if(r)return{name:(o=r).name,query:gb(o.bundledQuery),readTime:wf(o.readTime)};var o})}saveNamedQuery(t,e){return _b(t).put({name:(r=e).name,readTime:bf(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mb(n){return is(n,_f.store)}function _b(n){return is(n,yf.store)}class QA{constructor(){this.zt=new Mg}addToCollectionParentIndex(t,e){return this.zt.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.zt.getEntries(e))}}class Mg{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new dr(un.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new dr(un.comparator)).toArray()}}class FE{constructor(){this.Ht=new Mg}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:r,parent:xo(o)};return LE(t).put(l)}return Ie.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[WC(e),""],!1,!0);return LE(t).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==e)break;r.push(Mu(h.parent))}return r})}}function LE(n){return is(n,dd.store)}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fi{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Fi(t,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function H_(n,t,e){const r=n.store(tr.store),o=n.store(ns.store),l=[],h=IDBKeyRange.only(e.batchId);let m=0;const b=r.jt({range:h},(N,M,V)=>(m++,V.delete()));l.push(b.next(()=>{pt(1===m)}));const D=[];for(const N of e.mutations){const M=ns.key(t,N.key.path,e.batchId);l.push(o.delete(M)),D.push(N.key)}return Ie.waitFor(l).next(()=>D)}function xg(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw rt();t=n.noDocument}return JSON.stringify(t).length}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class Rg{constructor(t,e,r,o){this.userId=t,this.k=e,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(t,e,r,o){pt(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new Rg(l,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).jt({index:tr.userMutationsIndex,range:r},(o,l,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,r,o){const l=Bl(t),h=Ul(t);return h.add({}).next(m=>{pt("number"==typeof m);const b=new cb(m,e,r,o),D=function(V,$,re){const ve=re.baseMutations.map(it=>L_(V.Gt,it)),Se=re.mutations.map(it=>L_(V.Gt,it));return new tr($,re.batchId,re.localWriteTime.toMillis(),ve,Se)}(this.k,this.userId,b),N=[];let M=new dr((V,$)=>Kt(V.canonicalString(),$.canonicalString()));for(const V of o){const $=ns.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),N.push(h.put(D)),N.push(l.put($,ns.PLACEHOLDER))}return M.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Ie.waitFor(N).next(()=>b)})}lookupMutationBatch(t,e){return Ul(t).get(e).next(r=>r?(pt(r.userId===this.userId),Cf(this.k,r)):null)}Zt(t,e){return this.Yt[e]?Ie.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const o=r.keys();return this.Yt[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ul(t).jt({index:tr.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(pt(m.batchId>=r),l=Cf(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ul(t).jt({index:tr.userMutationsIndex,range:e,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).Bt(tr.userMutationsIndex,e).next(r=>r.map(o=>Cf(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=ns.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),l=[];return Bl(t).jt({range:o},(h,m,b)=>{const[D,N,M]=h,V=Mu(N);if(D===this.userId&&e.path.isEqual(V))return Ul(t).get(M).next($=>{if(!$)throw rt();pt($.userId===this.userId),l.push(Cf(this.k,$))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new dr(Kt);const o=[];return e.forEach(l=>{const h=ns.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=Bl(t).jt({range:m},(D,N,M)=>{const[V,$,re]=D,ve=Mu($);V===this.userId&&l.path.isEqual(ve)?r=r.add(re):M.done()});o.push(b)}),Ie.waitFor(o).next(()=>this.te(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,l=ns.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new dr(Kt);return Bl(t).jt({range:h},(b,D,N)=>{const[M,V,$]=b,re=Mu(V);M===this.userId&&r.isPrefixOf(re)?re.length===o&&(m=m.add($)):N.done()}).next(()=>this.te(t,m))}te(t,e){const r=[],o=[];return e.forEach(l=>{o.push(Ul(t).get(l).next(h=>{if(null===h)throw rt();pt(h.userId===this.userId),r.push(Cf(this.k,h))}))}),Ie.waitFor(o).next(()=>r)}removeMutationBatch(t,e){return H_(t.Wt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ie.resolve();const r=IDBKeyRange.lowerBound(ns.prefixForUser(this.userId)),o=[];return Bl(t).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=Mu(l[1]);o.push(b)}else m.done()}).next(()=>{pt(0===o.length)})})}containsKey(t,e){return UE(t,this.userId,e)}ne(t){return BE(t).get(this.userId).next(e=>e||new cd(this.userId,-1,""))}}function UE(n,t,e){const r=ns.prefixForPath(t,e.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Bl(n).jt({range:l,Kt:!0},(m,b,D)=>{const[N,M,V]=m;N===t&&M===o&&(h=!0),D.done()}).next(()=>h)}function Ul(n){return is(n,tr.store)}function Bl(n){return is(n,ns.store)}function BE(n){return is(n,cd.store)}class jl{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new jl(0)}static re(){return new jl(-1)}}class XA{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const r=new jl(e.highestTargetId);return e.highestTargetId=r.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Lt.fromTimestamp(new ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.oe(t).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.ae(t,o)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(r=>(r.targetCount+=1,this.ue(e,r),this.ae(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>pd(t).delete(e.targetId)).next(()=>this.oe(t)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.ae(t,r)))}removeTargets(t,e,r){let o=0;const l=[];return pd(t).jt((h,m)=>{const b=Ng(m);b.sequenceNumber<=e&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(t,b)))}).next(()=>Ie.waitFor(l)).next(()=>o)}forEachTarget(t,e){return pd(t).jt((r,o)=>{const l=Ng(o);e(l)})}oe(t){return yb(t).get(to.key).next(e=>(pt(null!==e),e))}ae(t,e){return yb(t).put(to.key,e)}ce(t,e){return pd(t).put(OE(this.k,e))}ue(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const r=cf(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return pd(t).jt({range:o,index:rs.queryTargetsIndexName},(h,m,b)=>{const D=Ng(m);cg(e,D.target)&&(l=D,b.done())}).next(()=>l)}addMatchingKeys(t,e,r){const o=[],l=Ru(t);return e.forEach(h=>{const m=xo(h.path);o.push(l.put(new br(r,m))),o.push(this.referenceDelegate.addReference(t,r,h))}),Ie.waitFor(o)}removeMatchingKeys(t,e,r){const o=Ru(t);return Ie.forEach(e,l=>{const h=xo(l.path);return Ie.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=Ru(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=Ru(t);let l=Tn();return o.jt({range:r,Kt:!0},(h,m,b)=>{const D=Mu(h[1]),N=new Je(D);l=l.add(N)}).next(()=>l)}containsKey(t,e){const r=xo(e.path),o=IDBKeyRange.bound([r],[WC(r)],!1,!0);let l=0;return Ru(t).jt({index:br.documentTargetsIndex,Kt:!0,range:o},([h,m],b,D)=>{0!==h&&(l++,D.done())}).next(()=>l>0)}Et(t,e){return pd(t).get(e).next(r=>r?Ng(r):null)}}function pd(n){return is(n,rs.store)}function yb(n){return is(n,to.store)}function Ru(n){return is(n,br.store)}function Ef(n){return vb.apply(this,arguments)}function vb(){return(vb=(0,de.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==ME)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function gd([n,t],[e,r]){const o=Kt(n,e);return 0===o?Kt(t,r):o}class kx{constructor(t){this.he=t,this.buffer=new dr(gd),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();gd(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bb{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const r=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,de.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(o){hd(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ef(o)}yield e.me(t)}))}}class G_{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ie.resolve(Oi.I);const r=new kx(e);return this.ge.forEachTarget(t,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(t,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.ge.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(VE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let r,o,l,h,m,b,D;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,h=Date.now(),this.nthSequenceNumber(t,o))).next(M=>(r=M,m=Date.now(),this.removeTargets(t,r,e))).next(M=>(l=M,b=Date.now(),this.removeOrphanedDocuments(t,r))).next(M=>(D=Date.now(),ZC()<=Va.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(D-b)+`ms\nTotal Duration: ${D-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:M})))}}class eS{constructor(t,e){this.db=t,this.garbageCollector=new G_(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}Ee(t){let e=0;return this.pe(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(r,o)=>e(o))}addReference(t,e,r){return ku(t,r)}removeReference(t,e,r){return ku(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return ku(t,e)}Ae(t,e){return function(r,o){let l=!1;return BE(r).Qt(h=>UE(r,h,o).next(m=>(m&&(l=!0),Ie.resolve(!m)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(t,(h,m)=>{if(m<=e){const b=this.Ae(t,h).next(D=>{if(!D)return l++,r.getEntry(t,h).next(()=>(r.removeEntry(h),Ru(t).delete([0,xo(h.path)])))});o.push(b)}}).next(()=>Ie.waitFor(o)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return ku(t,e)}Ie(t,e){const r=Ru(t);let o,l=Oi.I;return r.jt({index:br.documentTargetsIndex},([h,m],{path:b,sequenceNumber:D})=>{0===h?(l!==Oi.I&&e(new Je(Mu(o)),l),l=D,o=b):l=Oi.I}).next(()=>{l!==Oi.I&&e(new Je(Mu(o)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ku(n,t){return Ru(n).put((r=n.currentSequenceNumber,new br(0,xo(t.path),r)));var r}class Tf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),!0;return!1}forEach(t){nd(this.inner,(e,r)=>{for(const[o,l]of r)t(o,l)})}isEmpty(){return L0(this.inner)}}class tS{constructor(){this.changes=new Tf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Lt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Ln.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ie.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nS{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,r){return md(t).put(_d(e),r)}removeEntry(t,e){const r=md(t),o=_d(e);return r.delete(o)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Re(t,r)))}getEntry(t,e){return md(t).get(_d(e)).next(r=>this.Pe(e,r))}be(t,e){return md(t).get(_d(e)).next(r=>({document:this.Pe(e,r),size:xg(r)}))}getEntries(t,e){let r=eo();return this.ve(t,e,(o,l)=>{const h=this.Pe(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(t,e){let r=eo(),o=new Zr(Je.comparator);return this.ve(t,e,(l,h)=>{const m=this.Pe(l,h);r=r.insert(l,m),o=o.insert(l,xg(h))}).next(()=>({documents:r,Se:o}))}ve(t,e,r){if(e.isEmpty())return Ie.resolve();const o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let h=l.getNext();return md(t).jt({range:o},(m,b,D)=>{const N=Je.fromSegments(m);for(;h&&Je.comparator(h,N)<0;)r(h,null),h=l.getNext();h&&h.isEqual(N)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?D.Lt(h.path.toArray()):D.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r){let o=eo();const l=e.path.length+1,h={};if(r.isEqual(Lt.min())){const m=e.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=e.path.toArray(),b=pb(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=hr.collectionReadTimeIndex}return md(t).jt(h,(m,b,D)=>{if(m.length!==l)return;const N=hb(this.k,b);e.path.isPrefixOf(N.key.path)?hf(e,N)&&(o=o.insert(N.key,N)):D.done()}).next(()=>o)}newChangeBuffer(t){return new za(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return wb(t).get(qa.key).next(e=>(pt(!!e),e))}Re(t,e){return wb(t).put(qa.key,e)}Pe(t,e){if(e){const r=hb(this.k,e);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Ln.newInvalidDocument(t)}}class za extends tS{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Tf(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(t){const e=[];let r=0,o=new dr((l,h)=>Kt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=fb(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=xg(b)-m,e.push(this.De.addEntry(t,l,b))}else if(r-=m,this.trackRemovals){const b=fb(this.De.k,Ln.newNoDocument(l,Lt.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,b))}else e.push(this.De.removeEntry(t,l))}),o.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,r)),Ie.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(r=>(this.Ce.set(e,r.size),r.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function wb(n){return is(n,qa.store)}function md(n){return is(n,hr.store)}function _d(n){return n.path.toArray()}class rS{constructor(t){this.k=t}Nt(t,e,r,o){pt(r<o&&r>=0&&o<=11);const l=new B_("createOrUpgrade",e);var m;r<1&&o>=1&&(t.createObjectStore(Ro.store),(m=t).createObjectStore(cd.store,{keyPath:cd.keyPath}),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ns.store),jE(t),function(m){m.createObjectStore(hr.store)}(t));let h=Ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(br.store),m.deleteObjectStore(rs.store),m.deleteObjectStore(to.store)}(t),jE(t)),h=h.next(()=>function(m){const b=m.store(to.store),D=new to(0,0,Lt.min().toTimestamp(),0);return b.put(to.key,D)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(tr.store).Bt().next(D=>{m.deleteObjectStore(tr.store),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});const N=b.store(tr.store),M=D.map(V=>N.put(V));return Ie.waitFor(M)})}(t,l))),h=h.next(()=>{!function(m){m.createObjectStore(xu.store,{keyPath:xu.keyPath})}(t)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(qa.store)}(t),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(t,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t),function(m){const b=m.objectStore(hr.store);b.createIndex(hr.readTimeIndex,hr.readTimeIndexPath,{unique:!1}),b.createIndex(hr.collectionReadTimeIndex,hr.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Fe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(_f.store,{keyPath:_f.keyPath})})(t),function(m){m.createObjectStore(yf.store,{keyPath:yf.keyPath})}(t)})),h}ke(t){let e=0;return t.store(hr.store).jt((r,o)=>{e+=xg(o)}).next(()=>{const r=new qa(e);return t.store(qa.store).put(qa.key,r)})}Ne(t){const e=t.store(cd.store),r=t.store(tr.store);return e.Bt().next(o=>Ie.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(tr.userMutationsIndex,h).next(m=>Ie.forEach(m,b=>{pt(b.userId===l.userId);const D=Cf(this.k,b);return H_(t,l.userId,D).next(()=>{})}))}))}xe(t){const e=t.store(br.store),r=t.store(hr.store);return t.store(to.store).get(to.key).next(o=>{const l=[];return r.jt((h,m)=>{const b=new un(h),D=[0,xo(b)];l.push(e.get(D).next(N=>N?Ie.resolve():e.put(new br(0,xo(b),o.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(l))})}$e(t,e){t.createObjectStore(dd.store,{keyPath:dd.keyPath});const r=e.store(dd.store),o=new Mg,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:xo(b)})}};return e.store(hr.store).jt({Kt:!0},(h,m)=>{const b=new un(h);return l(b.popLast())}).next(()=>e.store(ns.store).jt({Kt:!0},([h,m,b],D)=>{const N=Mu(m);return l(N.popLast())}))}Fe(t){const e=t.store(rs.store);return e.jt((r,o)=>{const l=Ng(o),h=OE(this.k,l);return e.put(h)})}}function jE(n){n.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.documentTargetsIndex,br.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(to.store)}const $E="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cb{constructor(t,e,r,o,l,h,m,b,D,N){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Me=D,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!Cb.bt())throw new xe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eS(this,o),this.Ge=e+"main",this.k=new $_(b),this.ze=new ko(this.Ge,11,new rS(this.k)),this.He=new XA(this.referenceDelegate,this.k),this.Jt=new FE,this.Je=new nS(this.k,this.Jt),this.Ye=new PE,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,$E);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Oi(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var r=(0,de.Z)(function*(o){if(e.started)return t(o)});return function(o){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,de.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,de.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Z_(t).put(new xu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(hd(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return kg(t).get(Ro.key).next(e=>Ie.resolve(this.un(e)))}hn(t){return Z_(t).delete(this.clientId)}ln(){var t=this;return(0,de.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=is(r,xu.store);return o.Bt().next(l=>{const h=t.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Ie.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(t.Xe)for(const r of e)t.Xe.removeItem(t.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Ie.resolve(!0):kg(t).get(Ro.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,$E);return!1}}return!(!this.networkEnabled||!this.inForeground)||Z_(t).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,de.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Ro.store,xu.store],e=>{const r=new lb(e,Oi.I);return t.an(r).next(()=>t.hn(r))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(r=>this.fn(r.updateTimeMs,e)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>Z_(t).Bt().next(e=>this.dn(e,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(t){return Rg.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,r){let l;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",NE,h=>(l=new lb(h,this.Be?this.Be.next():Oi.I),"readwrite-primary"===e?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw Ar(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new xe(me.FAILED_PRECONDITION,ME);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(t){return kg(t).get(Ro.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(me.FAILED_PRECONDITION,$E)})}cn(t){const e=new Ro(this.clientId,this.allowTabSynchronization,Date.now());return kg(t).put(Ro.key,e)}static bt(){return ko.bt()}an(t){const e=kg(t);return e.get(Ro.key).next(r=>this.un(r)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Ro.key)):Ie.resolve())}fn(t,e){const r=Date.now();return!(t<r-e||t>r&&(Ar(`Detected an update time that is in the future: ${t} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const r=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Ar("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function kg(n){return is(n,Ro.store)}function Z_(n){return is(n,xu.store)}function Og(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class HE{constructor(t,e){this.progress=t,this.In=e}}class q_{constructor(t,e,r){this.Je=t,this.An=e,this.Jt=r}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Pn(t,e,r))}Pn(t,e,r){return this.Je.getEntry(t,e).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(t,e){t.forEach((r,o)=>{for(const l of e)l.applyToLocalView(o)})}vn(t,e){return this.Je.getEntries(t,e).next(r=>this.Vn(t,r).next(()=>r))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return Je.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(t,e.path):mg(e)?this.Dn(t,e,r):this.Cn(t,e,r);var o}Sn(t,e){return this.Rn(t,new Je(e)).next(r=>{let o=x_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(t,e,r){const o=e.collectionGroup;let l=x_();return this.Jt.getCollectionParents(t,o).next(h=>Ie.forEach(h,m=>{const b=(D=e,N=m.child(o),new Au(N,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,N;return this.Cn(t,b,r).next(D=>{D.forEach((N,M)=>{l=l.insert(N,M)})})}).next(()=>l))}Cn(t,e,r){let o,l;return this.Je.getDocumentsMatchingQuery(t,e,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(l=h,this.Nn(t,l,o).next(m=>{o=m;for(const b of l)for(const D of b.mutations){const N=D.key;let M=o.get(N);null==M&&(M=Ln.newInvalidDocument(N),o=o.insert(N,M)),N_(D,M,b.localWriteTime),M.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((h,m)=>{hf(e,m)||(o=o.remove(h))}),o))}Nn(t,e,r){let o=Tn();for(const h of e)for(const m of h.mutations)m instanceof Su&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(t,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class z_{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.kn=r,this.xn=o}static $n(t,e){let r=Tn(),o=Tn();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new z_(t,e.fromCache,r,o)}}class GE{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,r,o){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Lt.min())?this.Mn(t,e):this.On.vn(t,o).next(l=>{const h=this.Ln(e,l);return(A_(e)||pg(e))&&this.Bn(e.limitType,h,o,r)?this.Mn(t,e):(ZC()<=Va.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(t,e){let r=new dr(H0(t));return e.forEach((o,l)=>{hf(t,l)&&(r=r.add(l))}),r}Bn(t,e,r,o){if(r.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Mn(t,e){return ZC()<=Va.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Xs(e)),this.On.getDocumentsMatchingQuery(t,e,Lt.min())}}class Ox{constructor(t,e,r,o){this.persistence=t,this.Un=e,this.k=o,this.qn=new Zr(Kt),this.Kn=new Tf(l=>cf(l),cg),this.jn=Lt.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new q_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function ZE(n,t,e,r){return new Ox(n,t,e,r)}function qE(n,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,de.Z)(function*(n,t){const e=Be(n);let r=e.An,o=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let m;return e.An.getAllMutationBatches(h).next(b=>(m=b,r=e.persistence.getMutationQueue(t),o=new q_(e.Qn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const D=[],N=[];let M=Tn();for(const V of m){D.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}for(const V of b){N.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}return o.vn(h,M).next(V=>({Gn:V,removedBatchIds:D,addedBatchIds:N}))})});return e.An=r,e.Wn=o,e.Un.Fn(e.Wn),l})).apply(this,arguments)}function zE(n,t){const e=Be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,D){const N=b.batch,M=N.keys();let V=Ie.resolve();return M.forEach($=>{V=V.next(()=>D.getEntry(m,$)).next(re=>{const ve=b.docVersions.get($);pt(null!==ve),re.version.compareTo(ve)<0&&(N.applyToRemoteDocument(re,b),re.isValidDocument()&&D.addEntry(re,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,N))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.An.performConsistencyCheck(r)).next(()=>e.Wn.vn(r,o))})}function Tb(n){const t=Be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function WE(n,t){const e=Be(n),r=t.snapshotVersion;let o=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Qn.newChangeBuffer({trackRemovals:!0});o=e.qn;const m=[];t.targetChanges.forEach((D,N)=>{const M=o.get(N);if(!M)return;m.push(e.He.removeMatchingKeys(l,D.removedDocuments,N).next(()=>e.He.addMatchingKeys(l,D.addedDocuments,N)));const V=D.resumeToken;if(V.approximateByteSize()>0){const $=M.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(N,$),re=M,Se=D,pt((ve=$).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(e.He.updateTargetData(l,$))}var re,ve,Se});let b=eo();if(t.documentUpdates.forEach((D,N)=>{t.resolvedLimboDocuments.has(D)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push(YE(l,h,t.documentUpdates,r,void 0).next(D=>{b=D})),!r.isEqual(Lt.min())){const D=e.He.getLastRemoteSnapshotVersion(l).next(N=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(D)}return Ie.waitFor(m).next(()=>h.apply(l)).next(()=>e.Wn.Vn(l,b)).next(()=>b)}).then(l=>(e.qn=o,l))}function YE(n,t,e,r,o){let l=Tn();return e.forEach(h=>l=l.add(h)),t.getEntries(n,l).next(h=>{let m=eo();return e.forEach((b,D)=>{const N=h.get(b),M=(null==o?void 0:o.get(b))||r;D.isNoDocument()&&D.version.isEqual(Lt.min())?(t.removeEntry(b,M),m=m.insert(b,D)):!N.isValidDocument()||D.version.compareTo(N.version)>0||0===D.version.compareTo(N.version)&&N.hasPendingWrites?(t.addEntry(D,M),m=m.insert(b,D)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",D.version)}),m})}function iS(n,t){const e=Be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(r,t)))}function yd(n,t){const e=Be(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.He.getTargetData(r,t).next(l=>l?(o=l,Ie.resolve(o)):e.He.allocateTargetId(r).next(h=>(o=new Vl(t,h,0,r.currentSequenceNumber),e.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.qn=e.qn.insert(r.targetId,r),e.Kn.set(t,r.targetId)),r})}function Ou(n,t,e){return Db.apply(this,arguments)}function Db(){return(Db=(0,de.Z)(function*(n,t,e){const r=Be(n),o=r.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!hd(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}r.qn=r.qn.remove(t),r.Kn.delete(o.target)})).apply(this,arguments)}function Pg(n,t,e){const r=Be(n);let o=Lt.min(),l=Tn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,D){const N=Be(m),M=N.Kn.get(D);return void 0!==M?Ie.resolve(N.qn.get(M)):N.He.getTargetData(b,D)}(r,h,No(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,t,e?o:Lt.min(),e?l:Tn())).next(m=>({documents:m,zn:l})))}function Fg(n,t){const e=Be(n),r=Be(e.He),o=e.qn.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,t).next(h=>h?h.target:null))}function Lg(n){const t=Be(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,o,l){const h=Be(r);let m=eo(),b=pb(l);const D=md(o),N=IDBKeyRange.lowerBound(b,!0);return D.jt({index:hr.readTimeIndex,range:N},(M,V)=>{const $=hb(h.k,V);m=m.insert($.key,$),b=V.readTime}).next(()=>({In:m,readTime:kE(b)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:r})=>(t.jn=r,e))}function Ib(){return(Ib=(0,de.Z)(function*(n){const t=Be(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const o=md(r);let l=Lt.min();return o.jt({index:hr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=kE(m.readTime)),b.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function KE(){return(KE=(0,de.Z)(function*(n,t,e,r){const o=Be(n);let l=Tn(),h=eo(),m=K0();for(const N of e){const M=t.Hn(N.metadata.name);N.document&&(l=l.add(M)),h=h.insert(M,t.Jn(N)),m=m.insert(M,t.Yn(N.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),D=yield yd(o,(N=r,No(ad(un.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>YE(N,b,h,Lt.min(),m).next(M=>(b.apply(N),M)).next(M=>o.He.removeMatchingKeysForTargetId(N,D.targetId).next(()=>o.He.addMatchingKeys(N,l,D.targetId)).next(()=>o.Wn.Vn(N,M)).next(()=>M)))})).apply(this,arguments)}function oS(n,t){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,de.Z)(function*(n,t,e=Tn()){const r=yield yd(n,No(gb(t.bundledQuery))),o=Be(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=ri(t.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,t);const m=r.withResumeToken(lr.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,e,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,t))})})).apply(this,arguments)}class aS{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Ie.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var r;return this.Xn.set(e.id,{id:(r=e).id,version:r.version,createTime:ri(r.createTime)}),Ie.resolve()}getNamedQuery(t,e){return Ie.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(r=e).name,query:gb(r.bundledQuery),readTime:ri(r.readTime)}),Ie.resolve();var r}}class Sb{constructor(){this.ts=new dr(ii.es),this.ns=new dr(ii.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const r=new ii(t,e);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.os(new ii(t,e))}cs(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new Je(new un([])),r=new ii(e,t),o=new ii(e,t+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new Je(new un([])),r=new ii(e,t),o=new ii(e,t+1);let l=Tn();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ii(t,0),r=this.ts.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class ii{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return Je.comparator(t.key,e.key)||Kt(t.fs,e.fs)}static ss(t,e){return Kt(t.fs,e.fs)||Je.comparator(t.key,e.key)}}class uS{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new dr(ii.es)}checkEmpty(t){return Ie.resolve(0===this.An.length)}addMutationBatch(t,e,r,o){const l=this.ds;this.ds++;const h=new cb(l,e,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new ii(m.key,l)),this.Jt.addToCollectionParentIndex(t,m.key.path.popLast());return Ie.resolve(h)}lookupMutationBatch(t,e){return Ie.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.gs(e+1),l=o<0?0:o;return Ie.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Ie.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ii(e,0),o=new ii(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),Ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new dr(Kt);return e.forEach(o=>{const l=new ii(o,0),h=new ii(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Ie.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;Je.isDocumentKey(l)||(l=l.child(""));const h=new ii(new Je(l),0);let m=new dr(Kt);return this.ws.forEachWhile(b=>{const D=b.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(b.fs)),!0)},h),Ie.resolve(this.ys(m))}ys(t){const e=[];return t.forEach(r=>{const o=this._s(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){pt(0===this.ps(e.batchId,"removed")),this.An.shift();let r=this.ws;return Ie.forEach(e.mutations,o=>{const l=new ii(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.ws=r})}ee(t){}containsKey(t,e){const r=new ii(e,0),o=this.ws.firstAfterOrEqual(r);return Ie.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return Ie.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class lS{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Zr(Je.comparator),this.size=0}addEntry(t,e,r){const o=e.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ie.resolve(r?r.document.clone():Ln.newInvalidDocument(e))}getEntries(t,e){let r=eo();return e.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():Ln.newInvalidDocument(o))}),Ie.resolve(r)}getDocumentsMatchingQuery(t,e,r){let o=eo();const l=new Je(e.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:D}}=h.getNext();if(!e.path.isPrefixOf(m.path))break;D.compareTo(r)<=0||hf(e,b)&&(o=o.insert(b.key,b.clone()))}return Ie.resolve(o)}Es(t,e){return Ie.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new cS(this)}getSize(t){return Ie.resolve(this.size)}}class cS extends tS{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?e.push(this.De.addEntry(t,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ie.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class dS{constructor(t){this.persistence=t,this.Is=new Tf(e=>cf(e),cg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.As=0,this.Rs=new Sb,this.targetCount=0,this.Ps=jl.ie()}forEachTarget(t,e){return this.Is.forEach((r,o)=>e(o)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.As&&(this.As=e),Ie.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new jl(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.ce(e),Ie.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=e&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Ie.waitFor(l).next(()=>o)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const r=this.Is.get(e)||null;return Ie.resolve(r)}addMatchingKeys(t,e,r){return this.Rs.rs(e,r),Ie.resolve()}removeMatchingKeys(t,e,r){this.Rs.cs(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),Ie.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Rs.ls(e);return Ie.resolve(r)}containsKey(t,e){return Ie.resolve(this.Rs.containsKey(e))}}class Px{constructor(t,e){this.bs={},this.Be=new Oi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new dS(this),this.Jt=new QA,this.Je=new lS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new $_(e),this.Ye=new aS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new uS(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,r){Le("MemoryPersistence","Starting transaction:",t);const o=new hS(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(t,e){return Ie.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class hS extends xE{constructor(t){super(),this.currentSequenceNumber=t}}class vd{constructor(t){this.persistence=t,this.Cs=new Sb,this.Ns=null}static ks(t){return new vd(t)}get xs(){if(this.Ns)return this.Ns;throw rt()}addReference(t,e,r){return this.Cs.addReference(r,e),this.xs.delete(r.toString()),Ie.resolve()}removeReference(t,e,r){return this.Cs.removeReference(r,e),this.xs.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,r=>{const o=Je.fromPath(r);return this.$s(t,o).next(l=>{l||e.removeEntry(o)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Ie.or([()=>Ie.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function JE(n,t){return`firestore_clients_${n}_${t}`}function QE(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Nb(n,t){return`firestore_targets_${n}_${t}`}class bd{constructor(t,e,r,o){this.user=t,this.batchId=e,this.state=r,this.error=o}static Fs(t,e,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new xe(o.error.code,o.error.message))),h?new bd(t,e,o.state,l):(Ar("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ia{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Fs(t,e){const r=JSON.parse(e);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new xe(r.error.code,r.error.message))),l?new ia(t,r.state,o):(Ar("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ug{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Cg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=y_(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Ug(t,l):(Ar("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Mb{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Mb(e.clientId,e.onlineState):(Ar("SharedClientState",`Failed to parse online state: ${t}`),null)}}class XE{constructor(){this.activeTargetIds=Cg()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xb{constructor(t,e,r,o,l){this.window=t,this.Oe=e,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Zr(Kt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=JE(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new XE),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,de.Z)(function*(){const e=yield t.syncEngine.Tn();for(const o of e){if(o===t.Bs)continue;const l=t.getItem(JE(t.persistenceKey,o));if(l){const h=Ug.Fs(o,l);h&&(t.Ks=t.Ks.insert(h.clientId,h))}}t.Xs();const r=t.storage.getItem(t.Js);if(r){const o=t.Zs(r);o&&t.ti(o)}for(const o of t.js)t.qs(o);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,r){this.ni(t,e,r),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(Nb(this.persistenceKey,t));if(r){const o=ia.Fs(t,r);o&&(e=o.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Nb(this.persistenceKey,t))}updateQueryState(t,e,r){this.ri(t,e,r)}handleUserChange(t,e,r){e.forEach(o=>{this.si(o)}),this.currentUser=t,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,de.Z)(function*(){if(e.started){if(null!==r.key)if(e.Gs.test(r.key)){if(null==r.newValue){const o=e.ci(r.key);return e.ui(o,null)}{const o=e.hi(r.key,r.newValue);if(o)return e.ui(o.clientId,o)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const o=e.li(r.key,r.newValue);if(o)return e.fi(o)}}else if(e.Hs.test(r.key)){if(null!==r.newValue){const o=e.di(r.key,r.newValue);if(o)return e.wi(o)}}else if(r.key===e.Js){if(null!==r.newValue){const o=e.Zs(r.newValue);if(o)return e.ti(o)}}else if(r.key===e.Ws){const o=function(l){let h=Oi.I;if(null!=l)try{const m=JSON.parse(l);pt("number"==typeof m),h=m}catch(m){Ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Oi.I&&e.sequenceNumberHandler(o)}else if(r.key===e.Ys)return e.syncEngine._i()}else e.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,r){const o=new bd(this.currentUser,t,e,r),l=QE(this.persistenceKey,this.currentUser,t);this.setItem(l,o.Os())}si(t){const e=QE(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,r){const o=Nb(this.persistenceKey,t),l=new ia(t,e,r);this.setItem(o,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const r=this.ci(t);return Ug.Fs(r,e)}li(t,e){const r=this.zs.exec(t),o=Number(r[1]);return bd.Fs(new ki(void 0!==r[2]?r[2]:null),o,e)}di(t,e){const r=this.Hs.exec(t),o=Number(r[1]);return ia.Fs(o,e)}Zs(t){return Mb.Fs(t)}fi(t){var e=this;return(0,de.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const r=e?this.Ks.insert(t,e):this.Ks.remove(t),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=Cg();return t.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class Bg{constructor(){this.pi=new XE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,r){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new XE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class fS{Ei(t){}shutdown(){}}class eT{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nT{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class Rb extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,r,o,l){const h=this.Ui(t,e);Le("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(t,h,m,r).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw g_("RestConnection",`${t} failed with error: `,b,"url: ",h,"request:",r),b})}ji(t,e,r,o,l){return this.Bi(t,e,r,o,l)}qi(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}Ui(t,e){return`${this.Mi}/v1/${e}:${tT[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,r,o){return new Promise((l,h)=>{const m=new MA;m.listenOnce(Dx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case M0.NO_ERROR:const D=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(D)),l(D);break;case M0.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),h(new xe(me.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const N=m.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(re)>=0?re:me.UNKNOWN}(M.status);h(new xe(V,M.message))}else h(new xe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(me.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(o);m.send(e,"POST",b,r,15)})}Qi(t,e,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=$C(),h=HC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new NA({})),this.qi(m.initMessageHeaders,e,r),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Le("Connection","Creating WebChannel: "+b,m);const D=l.createWebChannel(b,m);let N=!1,M=!1;const V=new nT({Vi:re=>{M?Le("Connection","Not sending because WebChannel is closed:",re):(N||(Le("Connection","Opening WebChannel transport."),D.open(),N=!0),Le("Connection","WebChannel sending:",re),D.send(re))},Si:()=>D.close()}),$=(re,ve,Se)=>{re.listen(ve,it=>{try{Se(it)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return $(D,ag.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),$(D,ag.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),V.Fi())}),$(D,ag.EventType.ERROR,re=>{M||(M=!0,g_("Connection","WebChannel transport errored:",re),V.Fi(new xe(me.UNAVAILABLE,"The operation could not be completed")))}),$(D,ag.EventType.MESSAGE,re=>{var ve;if(!M){const Se=re.data[0];pt(!!Se);const it=Se,Qe=it.error||(null===(ve=it[0])||void 0===ve?void 0:ve.error);if(Qe){Le("Connection","WebChannel received error:",Qe);const Nt=Qe.status;let at=function(zr){const zu=Sr[zr];if(void 0!==zu)return mE(zu)}(Nt),ln=Qe.message;void 0===at&&(at=me.INTERNAL,ln="Unknown error status: "+Nt+" with message "+Qe.message),M=!0,V.Fi(new xe(at,ln)),D.close()}else Le("Connection","WebChannel received:",Se),V.Oi(Se)}}),$(h,SA.STAT_EVENT,re=>{re.stat===x0.PROXY?Le("Connection","Detected buffering proxy"):re.stat===x0.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function kb(){return"undefined"!=typeof window?window:null}function jg(){return"undefined"!=typeof document?document:null}function $g(n){return new GA(n,!0)}class Ob{constructor(t,e,r=1e3,o=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,e-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Pb{constructor(t,e,r,o,l,h,m,b){this.Oe=t,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Ob(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,de.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,de.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,de.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==t?r.ur.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Ar(e.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):e&&e.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===e&&this.Ir(r,o)},r=>{t(()=>{const o=new xe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(t,e){const r=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var t=this;this.state=5,this.ur.Zi((0,de.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pS extends Pb{constructor(t,e,r,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,h),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:rt(),o=t.targetChange.targetIds||[],l=function(b,D){return b.C?(pt(void 0===D||"string"==typeof D),lr.fromBase64String(D||"")):(pt(void 0===D||D instanceof Uint8Array),lr.fromUint8Array(D||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(b){const D=void 0===b.code?me.UNKNOWN:mE(b.code);return new xe(D,b.message||"")}(h);e=new HA(r,o,l,m||null)}else if("documentChange"in t){const r=t.documentChange,o=Nu(n,r.document.name),l=ri(r.document.updateTime),h=new yi({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(o,l,h);e=new R_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,o=Nu(n,r.document),l=r.readTime?ri(r.readTime):Lt.min(),h=Ln.newNoDocument(o,l);e=new R_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const r=t.documentRemove,o=Nu(n,r.document);e=new R_([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return rt();{const r=t.filter,l=new pE(r.count||0);e=new ld(r.targetId,l)}}var b;return e}(this.k,t),r=function(o){if(!("targetChange"in o))return Lt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Lt.min():l.readTime?ri(l.readTime):Lt.min()}(t);return this.listener.Pr(e,r)}br(t){const e={};e.database=Ig(this.k),e.addTarget=function(o,l){let h;const m=l.target;return h=dg(m)?{documents:TE(o,m)}:{query:DE(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=wE(o,l.resumeToken):l.snapshotVersion.compareTo(Lt.min())>0&&(h.readTime=Tg(o,l.snapshotVersion.toTimestamp())),h}(this.k,t);const r=function(n,t){const e=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.gr(e)}vr(t){const e={};e.database=Ig(this.k),e.removeTarget=t,this.gr(e)}}class rT extends Pb{constructor(t,e,r,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(pt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(pt(void 0!==t),n.map(e=>function(r,o){let l=ri(r.updateTime?r.updateTime:o);return l.isEqual(Lt.min())&&(l=ri(o)),new aE(l,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=ri(t.commitTime);return this.listener.Cr(r,e)}return pt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Ig(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>L_(this.k,r))};this.gr(e)}}class W_ extends class{}{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(t,e,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(me.UNKNOWN,o.toString())})}ji(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(t,e,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(me.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class Y_{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ar(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Fx{constructor(t,e,r,o,l){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,de.Z)(function*(){var b;wd(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,de.Z)(function*(D){const N=Be(D);N.Gr.add(4),yield no(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield Pu(N)}),function(D){return b.apply(this,arguments)})(h))}))}),this.Jr=new Y_(r,o)}}function Pu(n){return gn.apply(this,arguments)}function gn(){return(gn=(0,de.Z)(function*(n){if(wd(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function no(n){return $l.apply(this,arguments)}function $l(){return($l=(0,de.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function Hl(n,t){const e=Be(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),Fu(e)?Hg(e):Td(e).lr()&&wt(e,t))}function K_(n,t){const e=Be(n),r=Td(e);e.Wr.delete(t),r.lr()&&ro(e,t),0===e.Wr.size&&(r.lr()?r._r():wd(e)&&e.Jr.set("Unknown"))}function wt(n,t){n.Yr.X(t.targetId),Td(n).br(t)}function ro(n,t){n.Yr.X(t),Td(n).vr(t)}function Hg(n){n.Yr=new xx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Td(n).start(),n.Jr.Br()}function Fu(n){return wd(n)&&!Td(n).hr()&&n.Wr.size>0}function wd(n){return 0===Be(n).Gr.size}function Fb(n){n.Yr=void 0}function iT(n){return sT.apply(this,arguments)}function sT(){return(sT=(0,de.Z)(function*(n){n.Wr.forEach((t,e)=>{wt(n,t)})})).apply(this,arguments)}function gS(n,t){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,de.Z)(function*(n,t){Fb(n),Fu(n)?(n.Jr.Kr(t),Hg(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Oo(n,t,e){return $n.apply(this,arguments)}function $n(){return($n=(0,de.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof HA&&2===t.state&&t.cause)try{yield(r=(0,de.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,t)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield As(n,r)}else if(t instanceof R_?n.Yr.ot(t):t instanceof ld?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Lt.min()))try{const r=yield Tb(n.localStore);e.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.Wr.get(b);D&&o.Wr.set(b,D.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(lr.EMPTY_BYTE_STRING,b.snapshotVersion)),ro(o,m);const D=new Vl(b.target,m,1,b.sequenceNumber);wt(o,D)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield As(n,r)}var r})).apply(this,arguments)}function As(n,t,e){return J_.apply(this,arguments)}function J_(){return(J_=(0,de.Z)(function*(n,t,e){if(!hd(t))throw t;n.Gr.add(1),yield no(n),n.Jr.set("Offline"),e||(e=()=>Tb(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Pu(n)}))})).apply(this,arguments)}function oT(n,t){return t().catch(e=>As(n,e,t))}function Cd(n){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,de.Z)(function*(n){const t=Be(n),e=Lu(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Df(t);)try{const o=yield iS(t.localStore,r);if(null===o){0===t.Qr.length&&e._r();break}r=o.batchId,Zg(t,o)}catch(o){yield As(t,o)}aT(t)&&Gl(t)})).apply(this,arguments)}function Df(n){return wd(n)&&n.Qr.length<10}function Zg(n,t){n.Qr.push(t);const e=Lu(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function aT(n){return wd(n)&&!Lu(n).hr()&&n.Qr.length>0}function Gl(n){Lu(n).start()}function mS(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,de.Z)(function*(n){Lu(n).kr()})).apply(this,arguments)}function Vb(n){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,de.Z)(function*(n){const t=Lu(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function Ub(n,t,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,de.Z)(function*(n,t,e){const r=n.Qr.shift(),o=db.from(r,t,e);yield oT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Cd(n)})).apply(this,arguments)}function If(n,t){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,de.Z)(function*(n,t){var e;t&&Lu(n).Sr&&(yield(e=(0,de.Z)(function*(r,o){if(gE(l=o.code)&&l!==me.ABORTED){const h=r.Qr.shift();Lu(r).wr(),yield oT(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Cd(r)}var l}),function(r,o){return e.apply(this,arguments)})(n,t)),aT(n)&&Gl(n)})).apply(this,arguments)}function Af(n,t){return ey.apply(this,arguments)}function ey(){return(ey=(0,de.Z)(function*(n,t){const e=Be(n);t?(e.Gr.delete(2),yield Pu(e)):t||(e.Gr.add(2),yield no(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function Td(n){return n.Xr||(n.Xr=function(t,e,r){const o=Be(t);return o.Fr(),new pS(e,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:iT.bind(null,n),Ni:gS.bind(null,n),Pr:Oo.bind(null,n)}),n.zr.push(function(){var t=(0,de.Z)(function*(e){e?(n.Xr.wr(),Fu(n)?Hg(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Fb(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Lu(n){return n.Zr||(n.Zr=function(t,e,r){const o=Be(t);return o.Fr(),new rT(e,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:mS.bind(null,n),Ni:If.bind(null,n),Nr:Vb.bind(null,n),Cr:Ub.bind(null,n)}),n.zr.push(function(){var t=(0,de.Z)(function*(e){e?(n.Zr.wr(),yield Cd(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Sf{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,r,o,l){const h=Date.now()+r,m=new Sf(t,e,h,o,l);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(n,t){if(Ar("AsyncQueue",`${t}: ${n}`),hd(n))return new xe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Zl{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Je.comparator(e.key,r.key):(e,r)=>Je.comparator(e.key,r.key),this.keyedMap=x_(),this.sortedSet=new Zr(this.comparator)}static emptySet(t){return new Zl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class ty{constructor(){this.eo=new Zr(Je.comparator)}track(t){const e=t.doc.key,r=this.eo.get(e);r?0!==t.type&&3===r.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==r.type?this.eo=this.eo.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.eo=this.eo.remove(e):1===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):rt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,r)=>{t.push(r)}),t}}class qg{constructor(t,e,r,o,l,h,m,b){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,r,o){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new qg(t,e,Zl.emptySet(e),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Is(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class Lx{constructor(){this.so=void 0,this.listeners=[]}}class Dt{constructor(){this.queries=new Tf(t=>Mo(t),Is),this.onlineState="Unknown",this.io=new Set}}function uT(n,t){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,de.Z)(function*(n,t){const e=Be(n),r=t.query;let o=!1,l=e.queries.get(r);if(l||(o=!0,l=new Lx),o)try{l.so=yield e.onListen(r)}catch(h){const m=Nf(h,`Initialization of query '${Xs(t.query)}' failed`);return void t.onError(m)}e.queries.set(r,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&lT(e)})).apply(this,arguments)}function jb(n,t){return $b.apply(this,arguments)}function $b(){return($b=(0,de.Z)(function*(n,t){const e=Be(n),r=t.query;let o=!1;const l=e.queries.get(r);if(l){const h=l.listeners.indexOf(t);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function _S(n,t){const e=Be(n);let r=!1;for(const o of t){const h=e.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&lT(e)}function Vx(n,t,e){const r=Be(n),o=r.queries.get(t);if(o)for(const l of o.listeners)l.onError(e);r.queries.delete(t)}function lT(n){n.io.forEach(t=>{t.next()})}class Hb{constructor(t,e,r){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new qg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=qg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class Li{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class cT{constructor(t){this.k=t}Hn(t){return Nu(this.k,t)}Jn(t){return t.metadata.exists?nb(this.k,t.document,!1):Ln.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return ri(t)}}class yS{constructor(t,e,r){this.mo=t,this.localStore=e,this.k=r,this.queries=[],this.documents=[],this.progress=ny(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,r=new cT(this.k);for(const o of t)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(e.get(h)||Tn()).add(l);e.set(h,m)}}return e}complete(){var t=this;return(0,de.Z)(function*(){const e=yield function(n,t,e,r){return KE.apply(this,arguments)}(t.localStore,new cT(t.k),t.documents,t.mo.id),r=t.po(t.documents);for(const o of t.queries)yield oS(t.localStore,o,r.get(o.name));return t.progress.taskState="Success",new HE(Object.assign({},t.progress),e)})()}}function ny(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class fT{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Tn(),this.mutatedKeys=Tn(),this.Ao=H0(t),this.Ro=new Zl(this.Ao)}get Po(){return this.To}bo(t,e){const r=e?e.vo:new ty,o=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=A_(this.query)&&o.size===this.query.limit?o.last():null,D=pg(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((N,M)=>{const V=o.get(N),$=hf(this.query,M)?M:null,re=!!V&&this.mutatedKeys.has(V.key),ve=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Se=!1;V&&$?V.data.isEqual($.data)?re!==ve&&(r.track({type:3,doc:$}),Se=!0):this.Vo(V,$)||(r.track({type:2,doc:$}),Se=!0,(b&&this.Ao($,b)>0||D&&this.Ao($,D)<0)&&(m=!0)):!V&&$?(r.track({type:0,doc:$}),Se=!0):V&&!$&&(r.track({type:1,doc:V}),Se=!0,(b||D)&&(m=!0)),Se&&($?(h=h.add($),l=ve?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),A_(this.query)||pg(this.query))for(;h.size>this.query.limit;){const N=A_(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const o=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((D,N)=>function(M,V){const $=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return $(M)-$(V)}(D.type,N.type)||this.Ao(D.doc,N.doc)),this.So(r);const h=e?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new qg(this.query,t.Ro,o,l,t.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ty,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Tn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const e=[];return t.forEach(r=>{this.Io.has(r)||e.push(new hT(r))}),this.Io.forEach(r=>{t.has(r)||e.push(new dT(r))}),e}ko(t){this.To=t.zn,this.Io=Tn();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return qg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class vS{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class bS{constructor(t){this.key=t,this.$o=!1}}class wS{constructor(t,e,r,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Tf(m=>Mo(m),Is),this.Mo=new Map,this.Lo=new Set,this.Bo=new Zr(Je.comparator),this.Uo=new Map,this.qo=new Sb,this.Ko={},this.jo=new Map,this.Qo=jl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Gb(n,t){return Zb.apply(this,arguments)}function Zb(){return(Zb=(0,de.Z)(function*(n,t){const e=ly(n);let r,o;const l=e.Oo.get(t);if(l)r=l.targetId,e.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield yd(e.localStore,No(t)),m=e.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield qb(e,t,r,"current"===m),e.isPrimaryClient&&Hl(e.remoteStore,h)}return o})).apply(this,arguments)}function qb(n,t,e,r){return ry.apply(this,arguments)}function ry(){return(ry=(0,de.Z)(function*(n,t,e,r){n.Go=(N,M,V)=>{return($=(0,de.Z)(function*(re,ve,Se,it){let Qe=ve.view.bo(Se);Qe.Bn&&(Qe=yield Pg(re.localStore,ve.query,!1).then(({documents:ln})=>ve.view.bo(ln,Qe)));const Nt=it&&it.targetChanges.get(ve.targetId),at=ve.view.applyChanges(Qe,re.isPrimaryClient,Nt);return ew(re,ve.targetId,at.Co),at.snapshot}),function(re,ve,Se,it){return $.apply(this,arguments)})(n,N,M,V);var $};const o=yield Pg(n.localStore,t,!0),l=new fT(t,o.zn),h=l.bo(o.documents),m=Eg.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);ew(n,e,b.Co);const D=new vS(t,e,l);return n.Oo.set(t,D),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),b.snapshot})).apply(this,arguments)}function zb(n,t){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,de.Z)(function*(n,t){const e=Be(n),r=e.Oo.get(t),o=e.Mo.get(r.targetId);if(o.length>1)return e.Mo.set(r.targetId,o.filter(l=>!Is(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ou(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),K_(e.remoteStore,r.targetId),Mf(e,r.targetId)}).catch(Ef))):(Mf(e,r.targetId),yield Ou(e.localStore,r.targetId,!0))})).apply(this,arguments)}function Yb(){return(Yb=(0,de.Z)(function*(n,t,e){const r=cy(n);try{const o=yield function(l,h){const m=Be(l),b=ni.now(),D=h.reduce((M,V)=>M.add(V.key),Tn());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,D).next(V=>{N=V;const $=[];for(const re of h){const ve=lE(re,N.get(re.key));null!=ve&&$.push(new Su(re.key,ve,I_(ve.value.mapValue),vr.exists(!0)))}return m.An.addMutationBatch(M,b,$,h)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new Zr(Kt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,o.batchId,e),yield Vu(r,o.changes),yield Cd(r.remoteStore)}catch(o){const l=Nf(o,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function pT(n,t){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,de.Z)(function*(n,t){const e=Be(n);try{const r=yield WE(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Uo.get(l);h&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?pt(h.$o):o.removedDocuments.size>0&&(pt(h.$o),h.$o=!1))}),yield Vu(e,r,t)}catch(r){yield Ef(r)}})).apply(this,arguments)}function gT(n,t,e){const r=Be(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.Oo.forEach((l,h)=>{const m=h.view.ro(t);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Be(l);m.onlineState=h;let b=!1;m.queries.forEach((D,N)=>{for(const M of N.listeners)M.ro(h)&&(b=!0)}),b&&lT(m)}(r.eventManager,t),o.length&&r.Fo.Pr(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function CS(n,t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,de.Z)(function*(n,t,e){const r=Be(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Uo.get(t),l=o&&o.key;if(l){let h=new Zr(Je.comparator);h=h.insert(l,Ln.newNoDocument(l,Lt.min()));const m=Tn().add(l),b=new ra(Lt.min(),new Map,new dr(Kt),h,m);yield pT(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(t),oy(r)}else yield Ou(r.localStore,t,!1).then(()=>Mf(r,t,e)).catch(Ef)})).apply(this,arguments)}function zg(n,t){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,de.Z)(function*(n,t){const e=Be(n),r=t.batch.batchId;try{const o=yield zE(e.localStore,t);Xb(e,r,null),sy(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Vu(e,o)}catch(o){yield Ef(o)}})).apply(this,arguments)}function ES(n,t,e){return iy.apply(this,arguments)}function iy(){return(iy=(0,de.Z)(function*(n,t,e){const r=Be(n);try{const o=yield function(l,h){const m=Be(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let D;return m.An.lookupMutationBatch(b,h).next(N=>(pt(null!==N),D=N.keys(),m.An.removeMutationBatch(b,N))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,D))})}(r.localStore,t);Xb(r,t,e),sy(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Vu(r,o)}catch(o){yield Ef(o)}})).apply(this,arguments)}function mT(){return(mT=(0,de.Z)(function*(n,t){const e=Be(n);wd(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Be(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const o=e.jo.get(r)||[];o.push(t),e.jo.set(r,o)}catch(r){const o=Nf(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}})).apply(this,arguments)}function sy(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function Xb(n,t,e){const r=Be(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.Ko[r.currentUser.toKey()]=o}}function Mf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Mo.get(t))n.Oo.delete(r),e&&n.Fo.zo(r,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(r=>{n.qo.containsKey(r)||_T(n,r)})}function _T(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(K_(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),oy(n))}function ew(n,t,e){for(const r of e)r instanceof dT?(n.qo.addReference(r.key,t),TS(n,r)):r instanceof hT?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,t),n.qo.containsKey(r.key)||_T(n,r.key)):rt()}function TS(n,t){const e=t.key,r=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(r)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(r),oy(n))}function oy(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new Je(un.fromString(t)),r=n.Qo.next();n.Uo.set(r,new bS(e)),n.Bo=n.Bo.insert(e,r),Hl(n.remoteStore,new Vl(No(ad(e.path)),r,2,Oi.I))}}function Vu(n,t,e){return tw.apply(this,arguments)}function tw(){return(tw=(0,de.Z)(function*(n,t,e){const r=Be(n),o=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,t,e).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,D.fromCache?"not-current":"current"),o.push(D);const N=z_.$n(b.targetId,D);l.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(o),yield(m=(0,de.Z)(function*(b,D){const N=Be(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ie.forEach(D,V=>Ie.forEach(V.kn,$=>N.persistence.referenceDelegate.addReference(M,V.targetId,$)).next(()=>Ie.forEach(V.xn,$=>N.persistence.referenceDelegate.removeReference(M,V.targetId,$)))))}catch(M){if(!hd(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const V=M.targetId;if(!M.fromCache){const $=N.qn.get(V),ve=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);N.qn=N.qn.insert(V,ve)}}}),function(b,D){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function Bx(n,t){return yT.apply(this,arguments)}function yT(){return(yT=(0,de.Z)(function*(n,t){const e=Be(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const r=yield qE(e.localStore,t);e.currentUser=t,(o=e).jo.forEach(h=>{h.forEach(m=>{m.reject(new xe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Vu(e,r.Gn)}var o})).apply(this,arguments)}function jx(n,t){const e=Be(n),r=e.Uo.get(t);if(r&&r.$o)return Tn().add(r.key);{let o=Tn();const l=e.Mo.get(t);if(!l)return o;for(const h of l){const m=e.Oo.get(h);o=o.unionWith(m.view.Po)}return o}}function nw(n,t){return rw.apply(this,arguments)}function rw(){return(rw=(0,de.Z)(function*(n,t){const e=Be(n),r=yield Pg(e.localStore,t.query,!0),o=t.view.ko(r);return e.isPrimaryClient&&ew(e,t.targetId,o.Co),o})).apply(this,arguments)}function DS(n){return iw.apply(this,arguments)}function iw(){return(iw=(0,de.Z)(function*(n){const t=Be(n);return Lg(t.localStore).then(e=>Vu(t,e))})).apply(this,arguments)}function IS(n,t,e,r){return sw.apply(this,arguments)}function sw(){return(sw=(0,de.Z)(function*(n,t,e,r){const o=Be(n),l=yield function(h,m){const b=Be(h),D=Be(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>D.Zt(N,m).next(M=>M?b.Wn.vn(N,M):Ie.resolve(null)))}(o.localStore,t);var m;null!==l?("pending"===e?yield Cd(o.remoteStore):"acknowledged"===e||"rejected"===e?(Xb(o,t,r||null),sy(o,t),m=t,Be(Be(o.localStore).An).ee(m)):rt(),yield Vu(o,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ay(){return(ay=(0,de.Z)(function*(n,t){const e=Be(n);if(ly(e),cy(e),!0===t&&!0!==e.Wo){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield uy(e,r.toArray());e.Wo=!0,yield Af(e.remoteStore,!0);for(const l of o)Hl(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const r=[];let o=Promise.resolve();e.Mo.forEach((l,h)=>{e.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Mf(e,h),Ou(e.localStore,h,!0))),K_(e.remoteStore,h)}),yield o,yield uy(e,r),function(l){const h=Be(l);h.Uo.forEach((m,b)=>{K_(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Zr(Je.comparator)}(e),e.Wo=!1,yield Af(e.remoteStore,!1)}})).apply(this,arguments)}function uy(n,t,e){return ow.apply(this,arguments)}function ow(){return(ow=(0,de.Z)(function*(n,t,e){const r=Be(n),o=[],l=[];for(const h of t){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield yd(r.localStore,No(b[0]));for(const D of b){const N=r.Oo.get(D),M=yield nw(r,N);M.snapshot&&l.push(M.snapshot)}}else{const D=yield Fg(r.localStore,h);m=yield yd(r.localStore,D),yield qb(r,Id(D),h,!1)}o.push(m)}return r.Fo.Pr(l),o})).apply(this,arguments)}function Id(n){return eE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vi(n){const t=Be(n);return Be(Be(t.localStore).persistence).Tn()}function vT(n,t,e,r){return io.apply(this,arguments)}function io(){return(io=(0,de.Z)(function*(n,t,e,r){const o=Be(n);if(o.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(t))switch(e){case"current":case"not-current":{const l=yield Lg(o.localStore),h=ra.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Vu(o,l,h);break}case"rejected":yield Ou(o.localStore,t,!0),Mf(o,t,r);break;default:rt()}})).apply(this,arguments)}function aw(n,t,e){return uw.apply(this,arguments)}function uw(){return(uw=(0,de.Z)(function*(n,t,e){const r=ly(n);if(r.Wo){for(const o of t){if(r.Mo.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const l=yield Fg(r.localStore,o),h=yield yd(r.localStore,l);yield qb(r,Id(l),h.targetId,!1),Hl(r.remoteStore,h)}for(const o of e)r.Mo.has(o)&&(yield Ou(r.localStore,o,!1).then(()=>{K_(r.remoteStore,o),Mf(r,o)}).catch(Ef))}})).apply(this,arguments)}function ly(n){const t=Be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CS.bind(null,t),t.Fo.Pr=_S.bind(null,t.eventManager),t.Fo.zo=Vx.bind(null,t.eventManager),t}function cy(n){const t=Be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ES.bind(null,t),t}class wT{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,de.Z)(function*(){e.k=$g(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return ZE(this.persistence,new GE,t.initialUser,this.k)}Yo(t){return new Px(vd.ks,this.k)}Jo(t){return new Bg}terminate(){var t=this;return(0,de.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class CT extends wT{constructor(t,e,r){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield e().call(r,t),yield function(n){return Ib.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,t),yield cy(r.ta.syncEngine),yield Cd(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(t){return ZE(this.persistence,new GE,t.initialUser,this.k)}Xo(t){return new bb(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Og(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new Cb(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,kb(),jg(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new Bg}}class SS extends CT{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,de.Z)(function*(){yield e().call(r,t);const o=r.ta.syncEngine;r.sharedClientState instanceof xb&&(r.sharedClientState.syncEngine={mi:IS.bind(null,o),gi:vT.bind(null,o),yi:aw.bind(null,o),Tn:Vi.bind(null,o),_i:DS.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,de.Z)(function*(h){yield function(n,t){return ay.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(t){const e=kb();if(!xb.bt(e))throw new xe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Og(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xb(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class dy{initialize(t,e){var r=this;return(0,de.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>gT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,r.syncEngine),yield Af(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Dt}createDatastore(t){const e=$g(t.databaseInfo.databaseId),r=new Rb(t.databaseInfo);return new W_(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,o=t.asyncQueue,l=m=>gT(this.syncEngine,m,0),h=eT.bt()?new eT:new fS,new Fx(e,r,o,l,h);var e,r,o,l,h}createSyncEngine(t,e){return function(r,o,l,h,m,b,D){const N=new wS(r,o,l,h,m,b);return D&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,de.Z)(function*(e){const r=Be(e);Le("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield no(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function ET(n,t=10240){let e=0;return{read:()=>(0,de.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class NS{constructor(t,e){this.sa=t,this.k=e,this.metadata=new _i,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,de.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,de.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,de.Z)(function*(){const e=yield t.oa();if(null===e)return null;const r=t.ia.decode(e),o=Number(r);isNaN(o)&&t.aa(`length string (${r}) is not valid number`);const l=yield t.ca(o);return new Li(JSON.parse(l),e.length+o)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,de.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ca(t){var e=this;return(0,de.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const r=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,de.Z)(function*(){const e=yield t.sa.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class MS{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,de.Z)(function*(l,h){const m=Be(l),b=Ig(m.k)+"/documents",D={documents:h.map($=>Un(m.k,$))},N=yield m.ji("BatchGetDocuments",b,D),M=new Map;N.forEach($=>{const re=function(n,t){return"found"in t?function(e,r){pt(!!r.found);const o=Nu(e,r.found.name),l=ri(r.found.updateTime),h=new yi({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(o,l,h)}(n,t):"missing"in t?function(e,r){pt(!!r.missing),pt(!!r.readTime);const o=Nu(e,r.missing),l=ri(r.readTime);return Ln.newNoDocument(o,l)}(n,t):rt()}(m.k,$);M.set(re.key.toString(),re)});const V=[];return h.forEach($=>{const re=M.get($.toString());pt(!!re),V.push(re)}),V}),function(l,h){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new wg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const l=Je.fromPath(o);t.mutations.push(new W0(l,t.precondition(l)))}),yield(r=(0,de.Z)(function*(o,l){const h=Be(o),m=Ig(h.k)+"/documents",b={writes:l.map(D=>L_(h.k,D))};yield h.Bi("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rt();e=Lt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new xe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vr.updateTime(e):vr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new xe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(e)}return vr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class xf{constructor(t,e,r,o){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new Ob(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,de.Z)(function*(){const e=new MS(t.datastore),r=t.da(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(l=>{t.wa(l)}))}).catch(o=>{t.wa(o)})}))}da(t){try{const e=this.updateFunction(t);return!uf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!gE(e)}return!1}}class $x{constructor(t,e,r,o){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=P0.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,de.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,de.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Nf(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function cw(n,t){return dw.apply(this,arguments)}function dw(){return(dw=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,de.Z)(function*(l){r.isEqual(l)||(yield qE(t.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function xS(n,t){return hy.apply(this,arguments)}function hy(){return(hy=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield hw(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(o=>{return(l=(0,de.Z)(function*(h,m){const b=Be(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const D=wd(b);b.Gr.add(3),yield no(b),D&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Pu(b)}),function(h,m){return l.apply(this,arguments)})(t.remoteStore,o);var l}),n.onlineComponents=t})).apply(this,arguments)}function hw(n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,de.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield cw(n,new wT)),n.offlineComponents})).apply(this,arguments)}function fy(n){return py.apply(this,arguments)}function py(){return(py=(0,de.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield xS(n,new dy)),n.onlineComponents})).apply(this,arguments)}function fw(n){return hw(n).then(t=>t.persistence)}function gy(n){return hw(n).then(t=>t.localStore)}function TT(n){return fy(n).then(t=>t.remoteStore)}function pw(n){return fy(n).then(t=>t.syncEngine)}function Rf(n){return gw.apply(this,arguments)}function gw(){return(gw=(0,de.Z)(function*(n){const t=yield fy(n),e=t.eventManager;return e.onListen=Gb.bind(null,t.syncEngine),e.onUnlisten=zb.bind(null,t.syncEngine),e})).apply(this,arguments)}function mw(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,m,b){const D=new lw({next:M=>{l.enqueueAndForget(()=>jb(o,N));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new xe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Hb(ad(h.path),D,{includeMetadataChanges:!0,wo:!0});return uT(o,N)}(yield Rf(n),n.asyncQueue,t,e,r)})),r.promise}function _w(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,l,h,m,b){const D=new lw({next:M=>{l.enqueueAndForget(()=>jb(o,N)),M.fromCache&&"server"===m.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Hb(h,D,{includeMetadataChanges:!0,wo:!0});return uT(o,N)}(yield Rf(n),n.asyncQueue,t,e,r)})),r.promise}class NT{constructor(t,e,r,o,l,h,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class kf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kf&&t.projectId===this.projectId&&t.database===this.database}}const MT=new Map;function yw(n,t,e){if(!e)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xT(n,t,e,r){if(!0===t&&!0===r)throw new xe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Of(n){if(!Je.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pf(n){if(Je.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function my(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":rt()}function Jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=my(n);throw new xe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function sa(n,t){if(t<=0)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class RT{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ql{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RT({}),this._settingsFrozen=!1,t instanceof kf?this._databaseId=t:(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new xe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(o.options.projectId)}(t))}get app(){if(!this._app)throw new xe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RT(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zC;switch(e.type){case"gapi":const r=e.client;return pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RA(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=MT.get(t);e&&(Le("ComponentProvider","Removing Datastore"),MT.delete(t),e.terminate())}(this),Promise.resolve()}}class Hn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}}class ss{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class Po extends ss{constructor(t,e,r){super(t,e,ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new Je(t))}withConverter(t){return new Po(this.firestore,t,this._path)}}function _y(n,t,...e){if(n=(0,Tt.m9)(n),yw("collection","path",t),n instanceof ql){const r=un.fromString(t,...e);return Pf(r),new Po(n,null,r)}{if(!(n instanceof Hn||n instanceof Po))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(t,...e));return Pf(r),new Po(n.firestore,null,r)}}function Ff(n,t,...e){if(n=(0,Tt.m9)(n),1===arguments.length&&(t=P0.A()),yw("doc","path",t),n instanceof ql){const r=un.fromString(t,...e);return Of(r),new Hn(n,null,new Je(r))}{if(!(n instanceof Hn||n instanceof Po))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(t,...e));return Of(r),new Hn(n.firestore,n instanceof Po?n.converter:null,new Je(r))}}function yy(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),(n instanceof Hn||n instanceof Po)&&(t instanceof Hn||t instanceof Po)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function OT(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),n instanceof ss&&t instanceof ss&&n.firestore===t.firestore&&Is(n._query,t._query)&&n.converter===t.converter}class FS{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Ob(this,"async_queue_retry"),this.Ra=()=>{const e=jg();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=jg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=jg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new _i;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,de.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!hd(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(r=>{throw this.Ta=r,this.Ea=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=e,e}enqueueAfterDelay(t,e,r){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const o=Sf.createAndSchedule(this,t,e,r,l=>this.Va(l));return this.pa.push(o),o}Pa(){this.Ta&&rt()}verifyOperationInProgress(){}Sa(){var t=this;return(0,de.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function vw(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class LS{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gn extends ql{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new FS,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bw(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||bw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bw(n){var t;const e=n._freezeSettings(),r=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new NT(n._databaseId,l,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new $x(n._authCredentials,n._appCheckCredentials,n._queue,r)}function ww(n,t,e){const r=new _i;return n.asyncQueue.enqueue((0,de.Z)(function*(){try{yield cw(n,e),yield xS(n,t),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function UT(n){if(n._initialized||n._terminated)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(lr.fromBase64String(t))}catch(e){throw new xe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wa(lr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Uu{constructor(t){this._methodName=t}}class by{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const BT=/^__.*__$/;class HS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Su(t,this.data,this.fieldMask,e,this.fieldTransforms):new bg(t,this.data,e,this.fieldTransforms)}}class jT{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Su(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function wy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class Jg{constructor(t,e,r,o,l,h){this.settings=t,this.databaseId=e,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Jg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.$a({path:r,Oa:!1});return o.Ma(t),o}La(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return Xg(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(wy(this.xa)&&BT.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class $T{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=r||$g(t)}ja(t,e,r,o=!1){return new Jg({xa:t,methodName:e,Ka:r,path:Hr.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ya(n){const t=n._freezeSettings(),e=$g(n._databaseId);return new $T(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Vf(n,t,e,r,o,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,t,e,o);Dy("Data must be an object, but it was:",h,r);const m=ZT(r,h);let b,D;if(l.merge)b=new rf(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const M of l.mergeFields){const V=Iy(t,M,e);if(!h.contains(V))throw new xe(me.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);qT(N,V)||N.push(V)}b=new rf(N),D=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,D=h.fieldTransforms;return new HS(new yi(m),b,D)}class Cy extends Uu{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cy}}function Cw(n,t,e){return new Jg({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class Ew extends Uu{_toFieldTransform(t){return new Ll(t.path,new pf)}isEqual(t){return t instanceof Ew}}class HT extends Uu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Cw(this,t,!0),r=this.Qa.map(l=>Ad(l,e)),o=new Fl(r);return new Ll(t.path,o)}isEqual(t){return this===t}}class Ey extends Uu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Cw(this,t,!0),r=this.Qa.map(l=>Ad(l,e)),o=new Ga(r);return new Ll(t.path,o)}isEqual(t){return this===t}}class GT extends Uu{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new ud(t.k,iE(t.k,this.Wa));return new Ll(t.path,e)}isEqual(t){return this===t}}function Tw(n,t,e,r){const o=n.ja(1,t,e);Dy("Data must be an object, but it was:",o,r);const l=[],h=yi.empty();nd(r,(b,D)=>{const N=Ay(t,b,e);D=(0,Tt.m9)(D);const M=o.La(N);if(D instanceof Cy)l.push(N);else{const V=Ad(D,M);null!=V&&(l.push(N),h.set(N,V))}});const m=new rf(l);return new jT(h,m,o.fieldTransforms)}function Qg(n,t,e,r,o,l){const h=n.ja(1,t,e),m=[Iy(t,r,e)],b=[o];if(l.length%2!=0)throw new xe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(Iy(t,l[V])),b.push(l[V+1]);const D=[],N=yi.empty();for(let V=m.length-1;V>=0;--V)if(!qT(D,m[V])){const $=m[V];let re=b[V];re=(0,Tt.m9)(re);const ve=h.La($);if(re instanceof Cy)D.push($);else{const Se=Ad(re,ve);null!=Se&&(D.push($),N.set($,Se))}}const M=new rf(D);return new jT(N,M,h.fieldTransforms)}function Ty(n,t,e,r=!1){return Ad(e,n.ja(r?4:3,t))}function Ad(n,t){if(Dw(n=(0,Tt.m9)(n)))return Dy("Unsupported field value:",t,n),ZT(n,t);if(n instanceof Uu)return function(e,r){if(!wy(r.xa))throw r.Ua(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,r){const o=[];let l=0;for(const h of e){let m=Ad(h,r.Ba(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if(null===(e=(0,Tt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iE(r.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=ni.fromDate(e);return{timestampValue:Tg(r.k,o)}}if(e instanceof ni){const o=new ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tg(r.k,o)}}if(e instanceof by)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wa)return{bytesValue:wE(r.k,e._byteString)};if(e instanceof Hn){const o=r.databaseId,l=e.firestore._databaseId;if(!l.isEqual(o))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gf(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Ua(`Unsupported field value: ${my(e)}`)}(n,t)}function ZT(n,t){const e={};return L0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nd(n,(r,o)=>{const l=Ad(o,t.Fa(r));null!=l&&(e[r]=l)}),{mapValue:{fields:e}}}function Dw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof by||n instanceof Wa||n instanceof Hn||n instanceof Uu)}function Dy(n,t,e){if(!Dw(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=my(e);throw t.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Iy(n,t,e){if((t=(0,Tt.m9)(t))instanceof zl)return t._internalPath;if("string"==typeof t)return Ay(n,t);throw Xg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const GS=new RegExp("[~\\*/\\[\\]]");function Ay(n,t,e){if(t.search(GS)>=0)throw Xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new zl(...t.split("."))._internalPath}catch(r){throw Xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Xg(n,t,e,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new xe(me.INVALID_ARGUMENT,m+n+b)}function qT(n,t){return n.some(e=>e.isEqual(t))}class em{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new zT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Sy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class zT extends em{data(){return super.data()}}function Sy(n,t){return"string"==typeof t?Ay(n,t):t instanceof zl?t._internalPath:t._delegate._internalPath}class Wl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ka extends em{constructor(t,e,r,o,l,h){super(t,e,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Sy("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Uf extends Ka{data(t={}){return super.data(t)}}class Bu{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Uf(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Uf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Uf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,D=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),D=l.indexOf(h.doc.key)),{type:ZS(h.type),doc:m,oldIndex:b,newIndex:D}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function WT(n,t){return n instanceof Ka&&t instanceof Ka?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Bu&&t instanceof Bu&&n._firestore===t._firestore&&OT(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function YT(n){if(pg(n)&&0===n.explicitOrderBy.length)throw new xe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}function Sd(n,...t){for(const e of t)n=e._apply(n);return n}class Gx extends Bf{constructor(t,e,r){super(),this.Ga=t,this.za=e,this.Ha=r,this.type="where"}_apply(t){const e=Ya(t.firestore),r=function(o,l,h,m,b,D,N){let M;if(b.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){JS(N,D);const $=[];for(const re of N)$.push(KS(m,o,re));M={arrayValue:{values:$}}}else M=KS(m,o,N)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||JS(N,D),M=Ty(h,"where",N,"in"===D||"not-in"===D);const V=Pi.create(b,D,M);return function($,re){if(re.V()){const Se=gg($);if(null!==Se&&!Se.isEqual(re.field))throw new xe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${re.field.toString()}'`);const it=tE($);null!==it&&KT(0,re.field,it)}const ve=function(Se,it){for(const Qe of Se.filters)if(it.indexOf(Qe.op)>=0)return Qe.op;return null}($,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ve)throw new xe(me.INVALID_ARGUMENT,ve===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ve.toString()}' filters.`)}(o,V),V}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new ss(t.firestore,t.converter,function(o,l){const h=o.filters.concat([l]);return new Au(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,r))}}class qx extends Bf{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(r,o,l){if(null!==r.startAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new df(o,l);return function(m,b){if(null===tE(m)){const D=gg(m);null!==D&&KT(0,D,b.field)}}(r,h),h}(t._query,this.Ga,this.Ja);return new ss(t.firestore,t.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Au(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class qS extends Bf{constructor(t,e,r){super(),this.type=t,this.Ya=e,this.Xa=r}_apply(t){return new ss(t.firestore,t.converter,$0(t._query,this.Ya,this.Xa))}}class zS extends Bf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=YS(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(o=e,new Au((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class WS extends Bf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=YS(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(o=e,new Au((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function YS(n,t,e,r){if(e[0]=(0,Tt.m9)(e[0]),e[0]instanceof em)return function(o,l,h,m,b){if(!m)throw new xe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const N of ts(o))if(N.field.isKeyField())D.push(w_(l,m.key));else{const M=m.data.field(N.field);if(ug(M))throw new xe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=N.field.canonicalString();throw new xe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}D.push(M)}return new hg(D,b)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const o=Ya(n.firestore);return function(l,h,m,b,D,N){const M=l.explicitOrderBy;if(D.length>M.length)throw new xe(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let $=0;$<D.length;$++){const re=D[$];if(M[$].field.isKeyField()){if("string"!=typeof re)throw new xe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof re}`);if(!mg(l)&&-1!==re.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${re}' contains a slash.`);const ve=l.path.child(un.fromString(re));if(!Je.isDocumentKey(ve))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Se=new Je(ve);V.push(w_(h,Se))}else{const ve=Ty(m,b,re);V.push(ve)}}return new hg(V,N)}(n._query,n.firestore._databaseId,o,t,e,r)}}function KS(n,t,e){if("string"==typeof(e=(0,Tt.m9)(e))){if(""===e)throw new xe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(t)&&-1!==e.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(un.fromString(e));if(!Je.isDocumentKey(r))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w_(n,new Je(r))}if(e instanceof Hn)return w_(n,e._key);throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(e)}.`)}function JS(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function KT(n,t,e){if(!e.isEqual(t))throw new xe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Iw{convertValue(t,e="none"){switch(rd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return cr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rt()}}convertObject(t,e){const r={};return nd(t.fields,(o,l)=>{r[o]=this.convertValue(l,e)}),r}convertGeoPoint(t){return new by(cr(t.latitude),cr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=m_(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(af(t));default:return null}}convertTimestamp(t){const e=Ha(t);return new ni(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=un.fromString(t);pt(ob(r));const o=new kf(r.get(1),r.get(3)),l=new Je(r.popFirst(5));return o.isEqual(e)||Ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function Ny(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class eR extends Iw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,e)}}class QS{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ya(t)}set(t,e,r){this._verifyNotCommitted();const o=Nd(t,this._firestore),l=Ny(o.converter,e,r),h=Vf(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,vr.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const l=Nd(t,this._firestore);let h;return h="string"==typeof(e=(0,Tt.m9)(e))||e instanceof zl?Qg(this._dataReader,"WriteBatch.update",l._key,e,r,o):Tw(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(h.toMutation(l._key,vr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Nd(t,this._firestore);return this._mutations=this._mutations.concat(new wg(e._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nd(n,t){if((n=(0,Tt.m9)(n)).firestore!==t)throw new xe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Md extends Iw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,e)}}function JT(n,t,e){n=Jt(n,Hn);const r=Jt(n.firestore,Gn),o=Ny(n.converter,t,e);return jf(r,[Vf(Ya(r),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,vr.none())])}function tN(n,t,e,...r){n=Jt(n,Hn);const o=Jt(n.firestore,Gn),l=Ya(o);let h;return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof zl?Qg(l,"updateDoc",n._key,t,e,r):Tw(l,"updateDoc",n._key,t),jf(o,[h.toMutation(n._key,vr.exists(!0))])}function xd(n,...t){var e,r,o;n=(0,Tt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||vw(t[h])||(l=t[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(vw(t[h])){const M=t[h];t[h]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),t[h+2]=null===(o=M.complete)||void 0===o?void 0:o.bind(M)}let b,D,N;if(n instanceof Hn)D=Jt(n.firestore,Gn),N=ad(n._key.path),b={next:M=>{t[h]&&t[h](Sw(D,n,M))},error:t[h+1],complete:t[h+2]};else{const M=Jt(n,ss);D=Jt(M.firestore,Gn),N=M._query;const V=new Md(D);b={next:$=>{t[h]&&t[h](new Bu(D,V,M,$))},error:t[h+1],complete:t[h+2]},YT(n._query)}return function(M,V,$,re){const ve=new lw(re),Se=new Hb(V,ve,$);return M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return uT(yield Rf(M),Se)})),()=>{ve.na(),M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return jb(yield Rf(M),Se)}))}}(Nr(D),N,m,b)}function jf(n,t){return function(e,r){const o=new _i;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,t,e){return Yb.apply(this,arguments)}(yield pw(e),r,o)})),o.promise}(Nr(n),t)}function Sw(n,t,e){const r=e.docs.get(t._key),o=new Md(n);return new Ka(n,o,t._key,r,new Wl(e.hasPendingWrites,e.fromCache),t.converter)}class Nw extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ya(t)}get(t){const e=Nd(t,this._firestore),r=new eR(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return rt();const l=o[0];if(l.isFoundDocument())return new em(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new em(this._firestore,r,e._key,null,e.converter);throw rt()})}set(t,e,r){const o=Nd(t,this._firestore),l=Ny(o.converter,e,r),h=Vf(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(t,e,r,...o){const l=Nd(t,this._firestore);let h;return h="string"==typeof(e=(0,Tt.m9)(e))||e instanceof zl?Qg(this._dataReader,"Transaction.update",l._key,e,r,o):Tw(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,h),this}delete(t){const e=Nd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Nd(t,this._firestore),r=new Md(this._firestore);return super.get(t).then(o=>new Ka(this._firestore,r,e._key,o._document,new Wl(!1,!1),e.converter))}}function rD(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iD(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function iN(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Xh=Ys.SDK_VERSION,(0,Ys._registerComponent)(new jc.wA("firestore",(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),l=new Gn(o,new xA(e.getProvider("auth-internal")),new kA(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC")),(0,Ys.registerVersion)(GC,"3.4.0",n),(0,Ys.registerVersion)(GC,"3.4.0","esm2017")}();class Yl{constructor(t){this._delegate=t}static fromBase64String(t){return iN(),new Yl(Wa.fromBase64String(t))}static fromUint8Array(t){return iD(),new Yl(Wa.fromUint8Array(t))}toBase64(){return iN(),this._delegate.toBase64()}toUint8Array(){return iD(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mw(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class lR{enableIndexedDbPersistence(t,e){return function(n,t){UT(n=Jt(n,Gn));const e=Nr(n),r=n._freezeSettings(),o=new dy;return ww(e,o,new CT(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){UT(n=Jt(n,Gn));const t=Nr(n),e=n._freezeSettings(),r=new dy;return ww(t,r,new SS(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new xe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(e=(0,de.Z)(function*(r){if(!ko.bt())return Promise.resolve();const o=r+"main";yield ko.delete(o)}),function(r){return e.apply(this,arguments)})(Og(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class xy{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof kf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&g_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var o;const l=(n=Jt(n,ql))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&g_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ki.MOCK_USER;else{h=(0,Tt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new xe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ki(b)}n._authCredentials=new Ax(new qC(h,m))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield fw(n),e=yield TT(n);return t.setNetworkEnabled(!0),function(r){const o=Be(r);return o.Gr.delete(0),Pu(o)}(e)}))}(Nr(n=Jt(n,Gn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield fw(n),e=yield TT(n);return t.setNetworkEnabled(!1),(r=(0,de.Z)(function*(o){const l=Be(o);l.Gr.add(0),yield no(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(Nr(n=Jt(n,Gn)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,xT("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new _i;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(n,t){return mT.apply(this,arguments)}(yield pw(t),e)})),e.promise}(Nr(n=Jt(n,Gn)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new lw(t);return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield Rf(n),o=e,Be(r).io.add(o),void o.next();var r,o})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield Rf(n),o=e,void Be(r).io.delete(o);var r,o}))}}(Nr(n=Jt(n,Gn)),vw(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Kl(this,_y(this._delegate,t))}catch(e){throw os(e,"collection()","Firestore.collection()")}}doc(t){try{return new so(this,Ff(this._delegate,t))}catch(e){throw os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new as(this,function(n,t){if(n=Jt(n,ql),yw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(e=t,new Au(un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const r=yield(o=n,fy(o).then(l=>l.datastore));var o;new xf(n.asyncQueue,r,t,e).run()})),e.promise}(Nr(n=Jt(n,Gn)),e=>t(new Nw(n,e)))}(this._delegate,e=>t(new sN(this,e)))}batch(){return Nr(this._delegate),new sD(new QS(this._delegate,t=>jf(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Nr(n=Jt(n,Gn)),r=new LS;return function(n,t,e,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,D){if(b instanceof Uint8Array)return ET(b,D);if(b instanceof ArrayBuffer)return ET(new Uint8Array(b),D);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new NS(b,h);var b}(e,$g(t));n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function(n,t,e){const r=Be(n);var o;(o=(0,de.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(V,$){const re=Be(V),ve=ri($.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Se=>re.Ye.getBundleMetadata(Se,$.id)).then(Se=>!!Se&&Se.createTime.compareTo(ve)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(ny(b));const D=new yS(b,l.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield D.yo(N);V&&m._updateProgress(V),N=yield h.Ho()}const M=yield D.complete();yield Vu(l,M.In,void 0),yield function(V,$){const re=Be(V);return re.persistence.runTransaction("Save bundle","readwrite",ve=>re.Ye.saveBundleMetadata(ve,$))}(l.localStore,b),m._completeWith(M.progress)}catch(b){g_("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(l,h,m){return o.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield pw(n),o,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,de.Z)(function*(){return function(e,r){const o=Be(e);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield gy(n),t)}))}(Nr(n=Jt(n,Gn)),t).then(e=>e?new ss(n,null,e.query):null)}(this._delegate,t).then(e=>e?new as(this,e):null)}}class Ry extends Iw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yl(new Wa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return so.forKey(e,this.firestore,null)}}class sN{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ry(t)}get(t){const e=Rd(t);return this._delegate.get(e).then(r=>new tm(this._firestore,new Ka(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const o=Rd(t);return r?(rD("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...o),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}}class sD{constructor(t){this._delegate=t}set(t,e,r){const o=Rd(t);return r?(rD("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...o),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class $f{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Uf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ju(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=$f.INSTANCES;let o=r.get(t);o||(o=new WeakMap,r.set(t,o));let l=o.get(e);return l||(l=new $f(t,new Ry(t),e),o.set(e,l)),l}}$f.INSTANCES=new WeakMap;class so{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ry(t)}static forPath(t,e,r){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new so(e,new Hn(e._delegate,r,new Je(t)))}static forKey(t,e,r){return new so(e,new Hn(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Kl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Kl(this.firestore,_y(this._delegate,t))}catch(e){throw os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Tt.m9)(t))instanceof Hn&&yy(this._delegate,t)}set(t,e){e=rD("DocumentReference.set",e);try{return e?JT(this._delegate,t,e):JT(this._delegate,t)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?tN(this._delegate,t):tN(this._delegate,t,e,...r)}catch(o){throw os(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return jf(Jt(n.firestore,Gn),[new wg(n._key,vr.none())])}(this._delegate)}onSnapshot(...t){const e=oN(t),r=aN(t,o=>new tm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return xd(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,Hn);const t=Jt(n.firestore,Gn),e=Nr(t),r=new Md(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const m=yield function(b,D){const N=Be(b);return N.persistence.runTransaction("read document","readonly",M=>N.Wn.Rn(M,D))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new xe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Nf(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield gy(n),t,e);var r})),e.promise}(e,n._key).then(o=>new Ka(t,r,n._key,o,new Wl(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,Hn);const t=Jt(n.firestore,Gn);return mw(Nr(t),n._key,{source:"server"}).then(e=>Sw(t,n,e))}(this._delegate):function(n){n=Jt(n,Hn);const t=Jt(n.firestore,Gn);return mw(Nr(t),n._key).then(e=>Sw(t,n,e))}(this._delegate),e.then(r=>new tm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new so(this.firestore,this._delegate.withConverter(t?$f.getInstance(this.firestore,t):null))}}function os(n,t,e){return n.message=n.message.replace(t,e),n}function oN(n){for(const t of n)if("object"==typeof t&&!Mw(t))return t;return{}}function aN(n,t){var e,r;let o;return o=Mw(n[0])?n[0]:Mw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(t(l))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class tm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new so(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return WT(this._delegate,t._delegate)}}class ju extends tm{data(t){const e=this._delegate.data(t);return function(n,t){n||rt()}(void 0!==e),e}}class as{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ry(t)}where(t,e,r){try{return new as(this.firestore,Sd(this._delegate,function(n,t,e){const r=t,o=Sy("where",n);return new Gx(o,r,e)}(t,e,r)))}catch(o){throw os(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new as(this.firestore,Sd(this._delegate,function(n,t="asc"){const e=t,r=Sy("orderBy",n);return new qx(r,e)}(t,e)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new as(this.firestore,Sd(this._delegate,function(n){return sa("limit",n),new qS("limit",n,"F")}(t)))}catch(e){throw os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new as(this.firestore,Sd(this._delegate,function(n){return sa("limitToLast",n),new qS("limitToLast",n,"L")}(t)))}catch(e){throw os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new zS("startAt",n,!0)}(...t)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new zS("startAfter",n,!1)}(...t)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new WS("endBefore",n,!0)}(...t)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new WS("endAt",n,!1)}(...t)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}isEqual(t){return OT(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=Nr(t),r=new Md(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(r=(0,de.Z)(function*(o,l,h){try{const m=yield Pg(o,l,!0),b=new fT(l,m.zn),D=b.bo(m.documents),N=b.applyChanges(D,!1);h.resolve(N.snapshot)}catch(m){const b=Nf(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield gy(n),t,e);var r})),e.promise}(e,n._query).then(o=>new Bu(t,r,n,o))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=Nr(t),r=new Md(t);return _w(e,n._query,{source:"server"}).then(o=>new Bu(t,r,n,o))}(this._delegate):function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=Nr(t),r=new Md(t);return YT(n._query),_w(e,n._query).then(o=>new Bu(t,r,n,o))}(this._delegate),e.then(r=>new xw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=oN(t),r=aN(t,o=>new xw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return xd(this._delegate,e,r)}withConverter(t){return new as(this.firestore,this._delegate.withConverter(t?$f.getInstance(this.firestore,t):null))}}class uN{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ju(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xw{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ju(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new uN(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new ju(this._firestore,r))})}isEqual(t){return WT(this._delegate,t._delegate)}}class Kl extends as{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new so(this.firestore,t):null}doc(t){try{return new so(this.firestore,void 0===t?Ff(this._delegate):Ff(this._delegate,t))}catch(e){throw os(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Jt(n.firestore,Gn),r=Ff(n),o=Ny(n.converter,t);return jf(e,[Vf(Ya(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new so(this.firestore,e))}isEqual(t){return yy(this._delegate,t._delegate)}withConverter(t){return new Kl(this.firestore,this._delegate.withConverter(t?$f.getInstance(this.firestore,t):null))}}function Rd(n){return Jt(n,Hn)}class us{constructor(...t){this._delegate=new zl(...t)}static documentId(){return new us(Hr.keyField().canonicalString())}isEqual(t){return(t=(0,Tt.m9)(t))instanceof zl&&this._delegate._internalPath.isEqual(t._internalPath)}}class kd{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Ew("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new kd(t)}static delete(){const t=new Cy("deleteField");return t._methodName="FieldValue.delete",new kd(t)}static arrayUnion(...t){const e=function(...n){return new HT("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new kd(e)}static arrayRemove(...t){const e=function(...n){return new Ey("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new kd(e)}static increment(t){const e=function(n){return new GT("increment",n)}(t);return e._methodName="FieldValue.increment",new kd(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Rw={Firestore:xy,GeoPoint:by,Timestamp:ni,Blob:Yl,Transaction:sN,WriteBatch:sD,DocumentReference:so,DocumentSnapshot:tm,Query:as,QueryDocumentSnapshot:ju,QuerySnapshot:xw,CollectionReference:Kl,FieldPath:us,FieldValue:kd,setLogLevel:function(n){!function(n){Iu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new jc.wA("firestore-compat",e=>((t,e)=>new xy(t,e,new lR))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Rw)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(La.Z);var nm=F(6682),Hf=F(9746),oD=F(7771),dN=F(8858);class aD extends an.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new uD(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new lh.N;if(this.isStopped||this.hasError?h=mp.w.EMPTY:(this.observers.push(t),h=new dN.W(this,t)),o&&t.add(t=new Hf.ht(t,o)),e)for(let m=0;m<l&&!t.closed;m++)t.next(r[m]);else for(let m=0;m<l&&!t.closed;m++)t.next(r[m].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||oD.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(t-o[h].time<r);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&o.splice(0,h),o}}class uD{constructor(t,e){this.time=t,this.value=e}}function lD(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let o,h,l=0,m=!1,b=!1;return function(N){let M;l++,!o||m?(m=!1,o=new aD(n,t,r),M=o.subscribe(this),h=N.subscribe({next(V){o.next(V)},error(V){m=!0,o.error(V)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):M=o.subscribe(this),this.add(()=>{l--,M.unsubscribe(),M=void 0,h&&!b&&e&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function ky(n,t){return t?ir(()=>n,t):ir(()=>n)}var Oy=F(2639);F(2329);const vN=new Map,dD={activated:!1,tokenObservers:[]},hD={initialized:!1,enabled:!1};function si(n){return vN.get(n)||dD}function oa(n,t){vN.set(n,t)}function rm(){return hD}class yR{constructor(t,e,r,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,de.Z)(function*(){e.stop();try{e.pending=new Tt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Tt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ui=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mD(n){if(!si(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function _D(n,t){return yD.apply(this,arguments)}function yD(){return(yD=(0,de.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,l)}catch(M){throw Ui.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Ui.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw Ui.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(b[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+D,issuedAtTimeMillis:N}})).apply(this,arguments)}function oi(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Zf="firebase-app-check-store";let Pd=null;function wD(){return Pd||(Pd=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(Ui.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Zf,{keyPath:"compositeKey"})}}}catch(e){t(Ui.create("storage-open",{originalErrorMessage:e.message}))}}),Pd)}function sm(){return(sm=(0,de.Z)(function*(n,t){const r=(yield wD()).transaction(Zf,"readwrite"),l=r.objectStore(Zf).put({compositeKey:n,value:t});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var D;m(Ui.create("storage-set",{originalErrorMessage:null===(D=b.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ld=new Va.Yd("@firebase/app-check");function TN(n,t){return(0,Tt.hl)()?function(n,t){return function(n,t){return sm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ld.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function IN(){return rm().enabled}function om(){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,de.Z)(function*(){const n=rm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const CR={error:"UNKNOWN_ERROR"};function ER(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function Ly(n){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,de.Z)(function*(n,t=!1){const e=n.app;mD(e);const r=si(e);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&Vy(b)&&(o=b)}if(!t&&o&&Vy(o))return{token:o.token};let m,h=!1;if(IN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_D(oi(e,yield om()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const b=yield r.exchangeTokenPromise;return yield TN(e,b),oa(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Ld.warn(b.message):Ld.error(b),l=b}return o?(m={token:o.token},oa(e,Object.assign(Object.assign({},r),{token:o})),yield TN(e,o)):m=AN(l),h&&SD(e,m),m})).apply(this,arguments)}function jw(n,t){const e=si(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),oa(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function AD(n){const{app:t}=n,e=si(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new yR((0,de.Z)(function*(){let r;if(r=si(t).token?yield Ly(n,!0):yield Ly(n),r.error)throw r.error}),()=>!0,()=>{const e=si(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),oa(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function SD(n,t){const e=si(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function Vy(n){return n.expireTimeMillis-Date.now()>0}function AN(n){return{token:ER(CR),error:n}}class DR{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=si(this.app);for(const e of t)jw(this.app,e.next);return Promise.resolve()}}const OD="app-check-internal";(0,Ys._registerComponent)(new jc.wA("app-check",n=>function(n,t){return new DR(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(OD).initialize()})),(0,Ys._registerComponent)(new jc.wA(OD,n=>function(n){return{getToken:t=>Ly(n,t),addTokenListener:t=>function(n,t,e,r){const{app:o}=n,l=si(o),h={next:e,error:r,type:t};if(oa(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Vy(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),AD(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>AD(n))}(n,"INTERNAL",t),removeTokenListener:t=>jw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ys.registerVersion)("@firebase/app-check","0.5.2");class Gw{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;const VD=new a.OlP("angularfire2.auth.use-emulator"),UD=new a.OlP("angularfire2.auth.settings"),jy=new a.OlP("angularfire2.auth.tenant-id"),BD=new a.OlP("angularfire2.auth.langugage-code"),Bi=new a.OlP("angularfire2.auth.use-device-language"),Wf=new a.OlP("angularfire.auth.persistence"),am=(n,t,e,r,o,l,h,m)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[D,N]of Object.entries(h))b.settings[D]=N;return m&&b.setPersistence(m),b},[e,r,o,l,h,m]);let um=(()=>{class n{constructor(e,r,o,l,h,m,b,D,N,M,V,$){const re=new an.xQ,ve=(0,qe.of)(void 0).pipe((0,Hf.QV)(h.outsideAngular),ir(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,ut.U)(()=>(0,Xi.on)(e,l,r)),(0,ut.U)(Se=>am(Se,l,m,D,N,M,b,V)),lD({bufferSize:1,refCount:!1}));if(ga(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{ve.pipe(Jn()).subscribe();const it=ve.pipe(ir(at=>at.getRedirectResult().then(ln=>ln,()=>null)),er.iC,lD({bufferSize:1,refCount:!1})),Qe=ve.pipe(ir(at=>new kt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>at.onAuthStateChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))})))),Nt=ve.pipe(ir(at=>new kt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>at.onIdTokenChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))}))));this.authState=it.pipe(ky(Qe),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular)),this.user=it.pipe(ky(Nt),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular)),this.idToken=this.user.pipe(ir(at=>at?(0,pn.D)(at.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(ir(at=>at?(0,pn.D)(at.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,nm.T)(it,re,this.authState.pipe(Pn(at=>!at))).pipe((0,ut.U)(at=>(null==at?void 0:at.user)?at:null),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular))}return(0,Xi.pX)(this,ve,l,{spy:{apply:(Se,it,Qe)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Qe.then(Nt=>re.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xi.Dh),a.LFG(Xi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(er.HU),a.LFG(VD,8),a.LFG(UD,8),a.LFG(jy,8),a.LFG(BD,8),a.LFG(Bi,8),a.LFG(Wf,8),a.LFG(Gw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$y=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[um]}),n})();function Kw(n,t){return function(n,t=Qm.z){return new kt.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function Jw(n,t){return Kw(n,t).pipe((0,ut.U)(e=>({payload:e,type:"query"})))}function Gy(n,t){return Jw(n,t).pipe(Da(void 0),bt(),(0,ut.U)(([e,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(N=>N.doc.ref.isEqual(h.ref)),D=null==e?void 0:e.payload.docs.find(N=>N.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function jD(n,t,e){return Gy(n,e).pipe(mu((r,o)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Zy(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Zy(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Zy(n,t.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),t),[]),function(n,t){return e=>e.lift(new ea(n,t))}(),(0,ut.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Zy(n,t,e,...r){const o=n.slice();return o.splice(t,e,...r),o}function $D(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class HD{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=Gy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ut.U)(r=>r.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(Da(void 0),bt(),Pn(([r,o])=>o.length>0||!r),(0,ut.U)(([r,o])=>o),er.iC)}auditTrail(t){return this.stateChanges(t).pipe(mu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$D(t);return jD(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),er.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(er.iC)}add(t){return this.ref.add(t)}doc(t){return new $u(this.ref.doc(t),this.afs)}}class $u{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:o,query:l}=zy(r,e);return new HD(o,l,this.afs)}snapshotChanges(){return function(n,t){return Kw(n,t).pipe(Da(void 0),bt(),(0,ut.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pn.D)(this.ref.get(t)).pipe(er.iC)}}class lm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Pn(e=>e.length>0),er.iC):Gy(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(t){return this.stateChanges(t).pipe(mu((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$D(t);return jD(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),er.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(er.iC)}}const qy=new a.OlP("angularfire2.enableFirestorePersistence"),GD=new a.OlP("angularfire2.firestore.persistenceSettings"),YN=new a.OlP("angularfire2.firestore.settings"),KN=new a.OlP("angularfire2.firestore.use-emulator");function zy(n,t=(e=>e)){return{query:t(n),ref:n}}let Qw=(()=>{class n{constructor(e,r,o,l,h,m,b,D,N,M,V,$,re,ve,Se,it,Qe){this.schedulers=b;const Nt=(0,Xi.on)(e,m,r),at=N;M&&am(Nt,m,V,re,ve,Se,$,it),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const ln=m.runOutsideAngular(()=>Nt.firestore());if(l&&ln.settings(l),at&&ln.useEmulator(...at),o&&!ga(h)){const zr=()=>{try{return(0,pn.D)(ln.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(zu){return"undefined"!=typeof console&&console.warn(zu),(0,qe.of)(!1)}};return[ln,m.runOutsideAngular(zr)]}return[ln,(0,qe.of)(!1)]},[l,at,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=zy(o,r),m=this.schedulers.ngZone.run(()=>l);return new HD(m,h,this)}collectionGroup(e,r){const o=r||(h=>h),l=this.firestore.collectionGroup(e);return new lm(o(l),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new $u(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xi.Dh),a.LFG(Xi.xv,8),a.LFG(qy,8),a.LFG(YN,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(er.HU),a.LFG(GD,8),a.LFG(KN,8),a.LFG(um,8),a.LFG(VD,8),a.LFG(UD,8),a.LFG(jy,8),a.LFG(BD,8),a.LFG(Bi,8),a.LFG(Wf,8),a.LFG(Gw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZD=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:qy,useValue:!0},{provide:GD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qw]}),n})(),Hu=(()=>{class n{constructor(e,r){var o=this;this.afs=e,this.auth=r,this.user=null,this.currUser=null,this.userCollection=e.collection("Users"),this.auth.user.subscribe(function(){var l=(0,de.Z)(function*(h){h?yield o.userExist(h):yield o.userNotExist()});return function(h){return l.apply(this,arguments)}}())}userExist(e){var r=this;return(0,de.Z)(function*(){r.user=e;const o=yield r.getUser(e.uid);o?(r.currUser=o,console.log("Cargo User: ",r.currUser),console.log("user still logged in")):yield r.userNotExist()})()}userNotExist(){var e=this;return(0,de.Z)(function*(){e.user=null,e.currUser=null,console.log("no User")})()}getUser(e){var r=this;return(0,de.Z)(function*(){return r.getAllUser().then(o=>o.find(l=>l.uid===e))})()}getAllUser(){var e=this;return(0,de.Z)(function*(){return e.userCollection.get().toPromise().then(r=>r.docs.map(o=>{const l=o.data();return l.dId=o.id,l}))})()}addUser(e){var r=this;return(0,de.Z)(function*(){const o=r.copyAndPrepareUser(e);yield r.userCollection.add(o).then().catch(l=>{console.log(l)})})()}updateUser(e){var r=this;return(0,de.Z)(function*(){const o=r.copyAndPrepareUser(e);let l=[];for(let h of o.car)l.push(r.copyAndPrepareCar(h));o.car=l,yield r.userCollection.doc(e.dId).update(o)})()}deleteUser(){var e=this;return(0,de.Z)(function*(){e.currUser?yield e.userCollection.doc(e.currUser.dId).delete():console.log("User not logged in")})()}copyAndPrepareUser(e){return Object.assign({},e)}copyAndPrepareCar(e){return Object.assign({},e)}login(e,r){var o=this;return(0,de.Z)(function*(){yield o.auth.signInWithEmailAndPassword(e,r),console.log("logged in")})()}logout(){var e=this;return(0,de.Z)(function*(){yield e.auth.signOut(),console.log("logged out")})()}deleteAccount(){return(0,de.Z)(function*(){var e;yield null===(e=Jm.Z.auth().currentUser)||void 0===e?void 0:e.delete(),console.log("deleted account")})()}deleteCar(e){var r=this;return(0,de.Z)(function*(){r.currUser&&(r.currUser.car=r.currUser.car.filter(o=>(console.log(o.mark!==e),o.mark!==e)),r.updateUser(r.currUser).then())})()}register(e,r){var o=this;return(0,de.Z)(function*(){yield o.auth.createUserWithEmailAndPassword(e,r),console.log("created account")})()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qw),a.LFG(um))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JN(n,t){if(1&n&&(a.TgZ(0,"div",10),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij('Hi "',e.userData.currUser.firstname,'", hier ist dein Profil')}}let QN=(()=>{class n{constructor(e,r){this.userData=e,this.router=r}logout(){var e=this;return(0,de.Z)(function*(){yield e.userData.logout()})()}deleteAccount(){var e=this;return(0,de.Z)(function*(){yield e.userData.deleteUser(),yield e.userData.deleteAccount(),console.log("User deleted")})()}navigateToCarList(){this.router.navigate(["/carList"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hu),a.Y36(jr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-loggedin"]],decls:18,vars:1,consts:[[1,"wrapper"],[1,"sidebar"],[1,"row"],[1,"col","text-center"],["src","../../../../assets/img/Icons/user_icon.png","width","120","height","120"],[1,"btn","success","btn-light"],[1,"btn","success","btn-light",3,"click"],[1,"btn","danger","btn-danger",3,"click"],[1,"container"],["class","h3",4,"ngIf"],[1,"h3"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._UZ(4,"img",4),a.TgZ(5,"button",5),a._uU(6,"Profilbild bearbeiten"),a.qZA(),a.TgZ(7,"button",6),a.NdJ("click",function(){return r.navigateToCarList()}),a._uU(8,"Fahrzeuge verwalten"),a.qZA(),a.TgZ(9,"button",6),a.NdJ("click",function(){return r.logout()}),a._uU(10,"Logout"),a.qZA(),a.TgZ(11,"button",7),a.NdJ("click",function(){return r.deleteAccount()}),a._uU(12,"Account l\xf6schen"),a.qZA(),a._UZ(13,"br"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",8),a.TgZ(15,"div",2),a.TgZ(16,"div",3),a.YNc(17,JN,2,1,"div",9),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(17),a.Q6J("ngIf",r.userData.currUser))},directives:[In],styles:[""]}),n})();var XN=F(2476);class Gu{constructor(t,e,r,o,l,h){this.uid=t,this.firstname=e,this.lastname=r,this.username=o,this.birthday=l,this.gender=h,this.car=[],this.money=0,this.evaluation=-1}}var cm=F(9105);function xr(n,t,e,r){return(0,cm.m)(e)&&(r=e,e=void 0),r?xr(n,t,e).pipe((0,ut.U)(o=>(0,vs.k)(o)?r(...o):r(o))):new kt.y(o=>{Vd(n,t,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,e)})}function Vd(n,t,e,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,o),l=()=>h.removeEventListener(t,e,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),l=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),l=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)Vd(n[h],t,e,r,o)}r.add(l)}var Xw=F(6561);function qD(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}class n1{call(t,e){return e.subscribe(new rM(t))}}class rM extends pu{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const l=Cc(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let l=this.subscriptions[o];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}var iM=F(8640);new kt.y(iM.Z);var Kf=F(377);function Wy(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,Co.n)(n,void 0).lift(new sM(t))}class sM{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new kR(t,this.resultSelector))}}class kR extends Kn.L{constructor(t,e,r=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,vs.k)(t)?e.push(new PR(t)):e.push("function"==typeof t[Kf.hZ]?new OR(t[Kf.hZ]()):new FR(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let r=0;r<e;r++){let o=t[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,r=this.destination;for(let h=0;h<e;h++){let m=t[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let o=!1;const l=[];for(let h=0;h<e;h++){let m=t[h],b=m.next();if(m.hasCompleted()&&(o=!0),b.done)return void r.complete();l.push(b.value)}this.resultSelector?this._tryresultSelector(l):r.next(l),o&&r.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class OR{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class PR{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Kf.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class FR extends ci.Ds{constructor(t,e,r){super(t),this.parent=e,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Kf.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,ci.ft)(this.observable,new ci.IY(this))}}function fr(n){return t=>t.lift(new LR(n))}class LR{constructor(t){this.notifier=t}call(t,e){const r=new VR(t),o=(0,ci.ft)(this.notifier,new ci.IY(r));return o&&!r.seenValue?(r.add(o),e.subscribe(r)):r}}class VR extends ci.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function zD(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new UR(n,e))}}class UR{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new aM(t,this.observables,this.project))}}class aM extends pu{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let l=0;l<o;l++)this.toRespond.push(l);for(let l=0;l<o;l++)this.add(Cc(this,e[l],void 0,l))}notifyNext(t,e,r){this.values[r]=e;const o=this.toRespond;if(o.length>0){const l=o.indexOf(r);-1!==l&&o.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}F(1593),F(8819);var g=F(1555);function w(n,t){return new kt.y(e=>{const r=n.length;if(0===r)return void e.complete();const o=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,pn.D)(n[m]);let D=!1;e.add(b.subscribe({next:N=>{D||(D=!0,h++),o[m]=N},error:N=>e.error(N),complete:()=>{l++,(l===r||!D)&&(h===r&&e.next(t?t.reduce((N,M,V)=>(N[M]=o[V],N),{}):o),e.complete())}}))}})}let T=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),A=(()=>{class n extends T{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const k=new a.OlP("NgValueAccessor"),J={provide:k,useExisting:(0,a.Gpc)(()=>Me),multi:!0},oe=new a.OlP("CompositionEventMode");let Me=(()=>{class n extends T{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(oe,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([J]),a.qOj]}),n})();const Ye=new a.OlP("NgValidators"),St=new a.OlP("NgAsyncValidators");function $R(n){return null!=n}function HR(n){const t=(0,a.QGY)(n)?(0,pn.D)(n):n;return(0,a.CqO)(t),t}function GR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ZR(n,t){return t.map(e=>e(n))}function qR(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function cM(n){return null!=n?function(n){if(!n)return null;const t=n.filter($R);return 0==t.length?null:function(e){return GR(ZR(e,t))}}(qR(n)):null}function dM(n){return null!=n?function(n){if(!n)return null;const t=n.filter($R);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,vs.k)(t))return w(t,null);if((0,g.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return w(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return w(n=1===n.length&&(0,vs.k)(n[0])?n[0]:n,null).pipe((0,ut.U)(e=>t(...e)))}return w(n,null)}(ZR(e,t).map(HR)).pipe((0,ut.U)(GR))}}(qR(n)):null}function YR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function KR(n){return n._rawValidators}function JR(n){return n._rawAsyncValidators}function hM(n){return n?Array.isArray(n)?n:[n]:[]}function WD(n,t){return Array.isArray(n)?n.includes(t):n===t}function QR(n,t){const e=hM(t);return hM(n).forEach(o=>{WD(e,o)||e.push(o)}),e}function XR(n,t){return hM(t).filter(e=>!WD(n,e))}let ek=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})(),ao=(()=>{class n extends ek{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();class Qf extends ek{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tk{constructor(t){this._cd=t}is(t){var e,r,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let i1=(()=>{class n extends tk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qf,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),nk=(()=>{class n extends tk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ao,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function KD(n,t){return[...t.path,n]}function s1(n,t){gM(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rk(n,t)})}(n,t),function(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rk(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function JD(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),XD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function QD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gM(n,t){const e=KR(n);null!==t.validator?n.setValidators(YR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=JR(n);null!==t.asyncValidator?n.setAsyncValidators(YR(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();QD(t._rawValidators,o),QD(t._rawAsyncValidators,o)}function XD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=KR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=JR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return QD(t._rawValidators,r),QD(t._rawAsyncValidators,r),e}function rk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function _M(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(l=>{l.constructor===Me?e=l:function(n){return Object.getPrototypeOf(n.constructor)===A}(l)?r=l:o=l}),o||r||e||null}function eI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const o1="VALID",tI="INVALID",Xy="PENDING",a1="DISABLED";function yM(n){return(bM(n)?n.validators:n)||null}function ok(n){return Array.isArray(n)?cM(n):n||null}function vM(n,t){return(bM(t)?t.asyncValidators:n)||null}function ak(n){return Array.isArray(n)?dM(n):n||null}function bM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wM{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ok(this._rawValidators),this._composedAsyncValidatorFn=ak(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===o1}get invalid(){return this.status===tI}get pending(){return this.status==Xy}get disabled(){return this.status===a1}get enabled(){return this.status!==a1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ok(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ak(t)}addValidators(t){this.setValidators(QR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(QR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XR(t,this._rawAsyncValidators))}hasValidator(t){return WD(this._rawValidators,t)}hasAsyncValidator(t){return WD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=a1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=o1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===o1||this.status===Xy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a1:o1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xy,this._hasOwnPendingAsyncValidator=!0;const e=HR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=r instanceof nI?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof UP&&r.at(o)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?a1:this.errors?tI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xy)?Xy:this._anyControlsHaveStatus(tI)?tI:o1}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xf extends wM{constructor(t=null,e,r){super(yM(e),vM(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){eI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){eI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nI extends wM{constructor(t,e,r){super(yM(e),vM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof Xf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,l)=>{r=e(r,o,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class UP extends wM{constructor(t,e,r){super(yM(e),vM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Xf?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const $P={provide:Qf,useExisting:(0,a.Gpc)(()=>l1)},ck=(()=>Promise.resolve(null))();let l1=(()=>{class n extends Qf{constructor(e,r,o,l){super(),this.control=new Xf,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=_M(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),mM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?KD(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){s1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ck.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=""===r||r&&"false"!==r;ck.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ao,9),a.Y36(Ye,10),a.Y36(St,10),a.Y36(k,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([$P]),a.qOj,a.TTD]}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const HP={provide:k,useExisting:(0,a.Gpc)(()=>EM),multi:!0};let EM=(()=>{class n extends A{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([HP]),a.qOj]}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const qP={provide:k,useExisting:(0,a.Gpc)(()=>TM),multi:!0};let TM=(()=>{class n extends A{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("change",function(l){return r.onChange(l.target.value)})("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([qP]),a.qOj]}),n})();const DM=new a.OlP("NgModelWithFormControlWarning"),WP={provide:ao,useExisting:(0,a.Gpc)(()=>rI)};let rI=(()=>{class n extends ao{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return s1(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){JD(e.control||null,e,!1),eI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(JD(r||null,e),o instanceof Xf&&(s1(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function(n,t){gM(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return XD(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gM(this.form,this),this._oldForm&&XD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ye,10),a.Y36(St,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([WP]),a.qOj,a.TTD]}),n})();const JP={provide:Qf,useExisting:(0,a.Gpc)(()=>SM)};let SM=(()=>{class n extends Qf{constructor(e,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=_M(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),mM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return KD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ao,13),a.Y36(Ye,10),a.Y36(St,10),a.Y36(k,10),a.Y36(DM,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([JP]),a.qOj,a.TTD]}),n._ngModelWarningSentOnce=!1,n})();const QP={provide:k,useExisting:(0,a.Gpc)(()=>c1),multi:!0};function mk(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let c1=(()=>{class n extends A{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const o=mk(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&a.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([QP]),a.qOj]}),n})(),iI=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(c1,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const eF={provide:k,useExisting:(0,a.Gpc)(()=>NM),multi:!0};function _k(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let NM=(()=>{class n extends A{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const o=e.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const l=r.selectedOptions;for(let h=0;h<l.length;h++){const m=l.item(h),b=this._getOptionValue(m.value);o.push(b)}}else{const l=r.options;for(let h=0;h<l.length;h++){const m=l.item(h);if(m.selected){const b=this._getOptionValue(m.value);o.push(b)}}}this.value=o,e(o)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([eF]),a.qOj]}),n})(),sI=(()=>{class n{constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_k(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_k(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(NM,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[hk]]}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ak]}),n})(),cF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:DM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ak]}),n})();const ev=["*"],QF=["dialog"];function ep(n){return null!=n}function nv(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const xk={animation:!0,transitionTimerDelayMs:5};let ji=(()=>{class n{constructor(){this.animation=xk.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const c2=()=>{},{transitionTimerDelayMs:d2}=xk,h1=new Map,bi=(n,t,e,r)=>{let o=r.context||{};const l=h1.get(t);if(l)switch(r.runningTransition){case"continue":return Jr.E;case"stop":n.run(()=>l.transition$.complete()),o=Object.assign(l.context,o),h1.delete(t)}const h=e(t,r.animation,o)||c2;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>h()),(0,qe.of)(void 0).pipe(function(n){return t=>new kt.y(e=>t.subscribe(h=>n.run(()=>e.next(h)),h=>n.run(()=>e.error(h)),()=>n.run(()=>e.complete())))}(n));const m=new an.xQ,b=new an.xQ,D=m.pipe(function(...n){return t=>Yi(t,(0,qe.of)(...n))}(!0));h1.set(t,{transition$:m,complete:()=>{b.next(),b.complete()},context:o});const N=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const M=xr(t,"transitionend").pipe(fr(D),Pn(({target:$})=>$===t));(function(...n){if(1===n.length){if(!(0,vs.k)(n[0]))return n[0];n=n[0]}return(0,Co.n)(n,void 0).lift(new n1)})(function(n=0,t,e){let r=-1;return(0,Xw.k)(t)?r=Number(t)<1?1:Number(t):(0,fu.K)(t)&&(e=t),(0,fu.K)(e)||(e=Qm.P),new kt.y(o=>{const l=(0,Xw.k)(n)?n:+n-e.now();return e.schedule(qD,l,{index:0,period:r,subscriber:o})})}(N+d2).pipe(fr(D)),M,b).pipe(fr(D)).subscribe(()=>{h1.delete(t),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let Fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),Uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var qt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(qt||(qt={})),qt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Wk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Yk(n){const t=Array.from(n.querySelectorAll(Wk)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(t);r=this.offset(t,!1),l!==document.documentElement&&(o=this.offset(l,!1)),o.top+=l.clientTop,o.left+=l.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(t,e=!0){const r=t.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,r,o){const[l="top",h="center"]=r.split("-"),m=o?this.offset(t,!1):this.position(t,!1),b=this.getAllStyles(e),D=parseFloat(b.marginTop),N=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let $=0,re=0;switch(l){case"top":$=m.top-(e.offsetHeight+D+N);break;case"bottom":$=m.top+m.height;break;case"left":re=m.left-(e.offsetWidth+M+V);break;case"right":re=m.left+m.width}switch(h){case"top":$=m.top;break;case"bottom":$=m.top+m.height-e.offsetHeight;break;case"left":re=m.left;break;case"right":re=m.left+m.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?re=m.left+m.width/2-e.offsetWidth/2:$=m.top+m.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(re)}px, ${Math.round($)}px)`;const ve=e.getBoundingClientRect(),Se=document.documentElement,it=window.innerHeight||Se.clientHeight,Qe=window.innerWidth||Se.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=Qe&&ve.bottom<=it}},new Date(1882,10,12),new Date(2174,10,25);let sO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r,Sk]]}),n})(),HM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),lO=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ji))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ji))},token:n,providedIn:"root"}),n})();class mm{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}const uV=()=>{};let cO=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):uV}_adjustBody(e){const r=this._document.body,o=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+e}px`,()=>r.style["padding-right"]=o}_isPresent(e){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(e);const o=e.getBoundingClientRect().width-e.clientWidth;return r.removeChild(e),o}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(ce))},token:n,providedIn:"root"}),n})(),lV=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{bi(this._zone,this._el.nativeElement,(e,r)=>{r&&nv(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,r){2&e&&(a.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),a.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class ZM{close(t){}dismiss(t){}}class cV{constructor(t,e,r,o){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new an.xQ,this._dismissed=new an.xQ,this._hidden=new an.xQ,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(fr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(fr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(r=>{!1!==r&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wy(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var y1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(y1||(y1={})),y1))();let dV=(()=>{class n{constructor(e,r,o){this._document=e,this._elRef=r,this._zone=o,this._closed$=new an.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new an.xQ,this.hidden=new an.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Wy(bi(this._zone,e,()=>e.classList.remove("show"),r),bi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Wy(bi(this._zone,this._elRef.nativeElement,(l,h)=>{h&&nv(l),l.classList.add("show")},e),bi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{xr(e,"keydown").pipe(fr(this._closed$),Pn(o=>o.which===qt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(y1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;xr(this._dialogEl.nativeElement,"mousedown").pipe(fr(this._closed$),(0,Qn.b)(()=>r=!1),ir(()=>xr(e,"mouseup").pipe(fr(this._closed$),di(1))),Pn(({target:o})=>e===o)).subscribe(()=>{r=!0}),xr(e,"click").pipe(fr(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(y1.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),o=Yk(e)[0];(r||o||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ce),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&a.Gf(QF,7),2&e){let o;a.iGM(o=a.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(a.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),a.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),a.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ev,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.TgZ(2,"div",2),a.Hsn(3),a.qZA(),a.qZA()),2&e&&a.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),dO=(()=>{class n{constructor(e,r,o,l,h,m){this._applicationRef=e,this._injector=r,this._document=o,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new an.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{n.runOutsideAngular(()=>{const o=xr(t,"focusin").pipe(fr(e),(0,ut.U)(l=>l.target));xr(t,"keydown").pipe(fr(e),Pn(l=>l.which===qt.Tab),zD(o)).subscribe(([l,h])=>{const[m,b]=Yk(t);(h===m||h===t)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&xr(t,"click").pipe(fr(e),zD(o),(0,ut.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(e,r,o,l){const h=l.container instanceof HTMLElement?l.container:ep(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),D=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const N=new ZM,M=this._getContentRef(e,l.injector||r,o,N,l);let V=!1!==l.backdrop?this._attachBackdrop(e,h):void 0,$=this._attachWindowComponent(e,h,M),re=new cV($,M,V,l.beforeDismiss);return this._registerModalRef(re),this._registerWindowCmpt($),re.result.then(b,b),re.result.then(D,D),N.close=ve=>{re.close(ve)},N.dismiss=ve=>{re.dismiss(ve)},this._applyWindowOptions($.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,l),V.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),re}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let l=e.resolveComponentFactory(lV).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,r,o){let h=e.resolveComponentFactory(dV).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,r){this._windowAttributes.forEach(o=>{ep(r[o])&&(e[o]=r[o])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(o=>{ep(r[o])&&(e[o]=r[o])})}_getContentRef(e,r,o,l,h){return o?o instanceof a.Rgc?this._createFromTemplateRef(o,l):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(e,r,o,l,h):new mm([])}_createFromTemplateRef(e,r){const l=e.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new mm([l.rootNodes],l)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new mm([[r]])}_createFromComponent(e,r,o,l,h){const m=e.resolveComponentFactory(o),b=a.zs3.create({providers:[{provide:ZM,useValue:l}],parent:r}),D=m.create(b),N=D.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new mm([[N]],D.hostView,D)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(ce),a.LFG(cO),a.LFG(a.FYo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a.z2F),a.LFG(a.gxx),a.LFG(ce),a.LFG(cO),a.LFG(a.FYo),a.LFG(a.R0b))},token:n,providedIn:"root"}),n})(),hO=(()=>{class n{constructor(e,r,o,l){this._moduleCFR=e,this._injector=r,this._modalStack=o,this._config=l}open(e,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(dO),a.LFG(lO))},n.\u0275prov=a.Yz7({factory:function(){return new n(a.LFG(a._Vd),a.LFG(a.gxx),a.LFG(dO),a.LFG(lO))},token:n,providedIn:"root"}),n})(),fO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[hO]}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();new a.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let UO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[_r]]}),n})();const WV=[Fk,Lk,Uk,$k,Hk,sO,uO,fO,_O,DO,SO,NO,MO,OO,PO,FO,UO];let YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[WV,Fk,Lk,Uk,$k,Hk,sO,uO,fO,_O,DO,SO,NO,MO,OO,PO,FO,UO]}),n})();function KV(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.lastnameMessage)}}function JV(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.firstnameMessage)}}function QV(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.genderMessage)}}function XV(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.birthdayMessage)}}function eU(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.emailMessage)}}function tU(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.usernameMessage)}}function nU(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.passwordMessage)}}function rU(n,t){if(1&n&&(a.TgZ(0,"div",47),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.passwordRepeatMessage)}}let iU=(()=>{class n{constructor(e,r,o){this.activeModal=e,this.router=r,this.userData=o,this.email="",this.firstname="",this.lastname="",this.username="",this.birthday=new Date,this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var e=this;return(0,de.Z)(function*(){try{yield e.userData.register(e.email,e.password);const o=(0,XN.n)().currentUser;e.activeModal.close(),e.router.navigate(["/profil"]),o&&(yield e.userData.addUser(new Gu(o.uid,e.firstname,e.lastname,e.username,e.birthday,e.gender)))}catch(r){"auth/invalid-email"===r.code?(e.emailMessage="E-Mail ist nicht richtig formatiert",e.wrongEmailClass="border-danger"):"auth/weak-password"===r.code&&(e.passwordMessage="Das Passwort ist nicht korrekt",e.wrongPasswordClass="border-danger")}})()}inputCheck(){var e=this;return(0,de.Z)(function*(){e.email.trim().length>0&&e.password.trim().length>0&&e.firstname.trim().length>0&&e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday&&e.password===e.repeatPassword?yield e.register():(0===e.email.trim().length&&(e.emailMessage="Geben Sie Ihre E-Mail an",e.wrongEmailClass="border-danger"),0===e.password.trim().length&&(e.passwordMessage="Geben Sie ein Passwort an",e.wrongPasswordClass="border-danger"),0===e.repeatPassword.trim().length&&(e.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",e.wrongRepeatPasswordClass="border-danger"),e.repeatPassword!==e.password&&(e.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",e.wrongRepeatPasswordClass="border-danger"),0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validEmail(e){e.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){console.log(e),e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(e){e.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(e){console.log(e),e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(e){e.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ZM),a.Y36(jr),a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const o=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._UZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a._uU(6,"Registrieren"),a.qZA(),a.qZA(),a._UZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"button",8),a.NdJ("click",function(){return r.activeModal.dismiss()}),a.TgZ(10,"span",9),a._uU(11,"\xd7"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"div",10),a.TgZ(13,"div",1),a.TgZ(14,"div",2),a.TgZ(15,"div",11),a.TgZ(16,"div",12),a.TgZ(17,"label",13),a._uU(18,"Nachname"),a.qZA(),a.TgZ(19,"input",14,15),a.NdJ("ngModelChange",function(h){return r.lastname=h})("keydown",function(){a.CHM(o);const h=a.MAs(20);return r.validLastname(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(21,KV,2,1,"div",16),a.qZA(),a.qZA(),a.TgZ(22,"div",11),a.TgZ(23,"div",12),a.TgZ(24,"label",17),a._uU(25,"Vorname"),a.qZA(),a.TgZ(26,"input",18,19),a.NdJ("ngModelChange",function(h){return r.firstname=h})("keydown",function(){a.CHM(o);const h=a.MAs(27);return r.validFirstname(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(28,JV,2,1,"div",16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"div",2),a.TgZ(30,"div",11),a.TgZ(31,"div",12),a.TgZ(32,"label",20),a._uU(33,"Geschlecht"),a.qZA(),a.TgZ(34,"select",21,22),a.NdJ("ngModelChange",function(h){return r.gender=h})("change",function(){a.CHM(o);const h=a.MAs(35);return r.validGender(h.value)})("keydown.enter",function(){return r.inputCheck()}),a._UZ(36,"option",23),a.TgZ(37,"option",24),a._uU(38,"Weiblich"),a.qZA(),a.TgZ(39,"option",25),a._uU(40,"M\xe4nnlich"),a.qZA(),a.TgZ(41,"option",26),a._uU(42,"Divers"),a.qZA(),a.qZA(),a.YNc(43,QV,2,1,"div",16),a.qZA(),a.qZA(),a.TgZ(44,"div",11),a.TgZ(45,"div",12),a.TgZ(46,"label",27),a._uU(47,"Geburtstag"),a.qZA(),a.TgZ(48,"input",28,29),a.NdJ("ngModelChange",function(h){return r.birthday=h})("change",function(){a.CHM(o);const h=a.MAs(49);return r.validBirthday(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(50,XV,2,1,"div",16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(51,"div",2),a.TgZ(52,"div",11),a.TgZ(53,"div",12),a.TgZ(54,"label",30),a._uU(55,"Email"),a.qZA(),a.TgZ(56,"input",31,32),a.NdJ("ngModelChange",function(h){return r.email=h})("keydown",function(){a.CHM(o);const h=a.MAs(57);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(58,eU,2,1,"div",16),a.qZA(),a.qZA(),a.TgZ(59,"div",11),a.TgZ(60,"div",12),a.TgZ(61,"label",33),a._uU(62,"Nutzername"),a.qZA(),a.TgZ(63,"input",34,35),a.NdJ("ngModelChange",function(h){return r.username=h})("keydown",function(){a.CHM(o);const h=a.MAs(64);return r.validUsername(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(65,tU,2,1,"div",16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(66,"div",2),a.TgZ(67,"div",11),a.TgZ(68,"div",12),a.TgZ(69,"label",36),a._uU(70,"Passwort"),a.qZA(),a.TgZ(71,"input",37,38),a.NdJ("ngModelChange",function(h){return r.password=h})("keydown",function(){a.CHM(o);const h=a.MAs(72);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(73,nU,2,1,"div",16),a.qZA(),a.qZA(),a.TgZ(74,"div",11),a.TgZ(75,"div",12),a.TgZ(76,"label",39),a._uU(77,"Passwort wiederholen"),a.qZA(),a.TgZ(78,"input",40,41),a.NdJ("ngModelChange",function(h){return r.repeatPassword=h})("keydown",function(){a.CHM(o);const h=a.MAs(79);return r.validRepeatPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),a.qZA(),a.YNc(80,rU,2,1,"div",16),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(81,"div",42),a.TgZ(82,"div",1),a.TgZ(83,"div",43),a.TgZ(84,"div",44),a.TgZ(85,"button",45),a.NdJ("click",function(){return r.inputCheck()}),a._uU(86,"Registrieren "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(87,"div",43),a.TgZ(88,"div",44),a.TgZ(89,"button",46),a.NdJ("click",function(){return r.activeModal.dismiss()}),a._uU(90,"Abbrechen "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}2&e&&(a.xp6(19),a.Gre("form-control ",r.wrongLastname,""),a.Q6J("ngModel",r.lastname),a.xp6(2),a.Q6J("ngIf",""!==r.lastnameMessage),a.xp6(5),a.Gre("form-control ",r.wrongFirstname,""),a.Q6J("ngModel",r.firstname),a.xp6(2),a.Q6J("ngIf",""!==r.firstnameMessage),a.xp6(6),a.Gre("form-control ",r.wrongGender,""),a.Q6J("ngModel",r.gender),a.xp6(9),a.Q6J("ngIf",""!==r.genderMessage),a.xp6(5),a.Gre("form-control ",r.wrongBirthday,""),a.Q6J("ngModel",r.birthday),a.xp6(2),a.Q6J("ngIf",""!==r.birthdayMessage),a.xp6(6),a.Gre("form-control ",r.wrongEmailClass,""),a.Q6J("ngModel",r.email),a.xp6(2),a.Q6J("ngIf",""!==r.emailMessage),a.xp6(5),a.Gre("form-control ",r.wrongUsername,""),a.Q6J("ngModel",r.username),a.xp6(2),a.Q6J("ngIf",""!==r.usernameMessage),a.xp6(6),a.Gre("form-control ",r.wrongPasswordClass,""),a.Q6J("ngModel",r.password),a.xp6(2),a.Q6J("ngIf",""!==r.passwordMessage),a.xp6(5),a.Gre("form-control ",r.wrongRepeatPasswordClass,""),a.Q6J("ngModel",r.repeatPassword),a.xp6(2),a.Q6J("ngIf",""!==r.passwordRepeatMessage))},directives:[Me,i1,l1,In,c1,iI,sI],styles:[""]}),n})();function sU(n,t){if(1&n&&(a.TgZ(0,"div",17),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.emailMessage)}}function oU(n,t){if(1&n&&(a.TgZ(0,"div",17),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.passwordMessage)}}let aU=(()=>{class n{constructor(e,r){this.modalService=e,this.userData=r,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(iU,{animation:!0,centered:!0})}inputCheck(){var e=this;return(0,de.Z)(function*(){0===e.email.trim().length&&0===e.password.trim().length?(e.wrongEmail="border-danger",e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password",e.emailMessage="Please fill out your email"):0===e.email.trim().length?(e.emailMessage="Please fill out your email",e.wrongEmail="border-danger"):0===e.password.trim().length?(e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password"):(e.wrongEmail="",yield e.login())})()}login(){var e=this;return(0,de.Z)(function*(){e.userData.login(e.email,e.password).then(()=>{}).catch(r=>{console.log(r),"auth/invalid-email"===r.code&&(e.emailMessage="E-Mail falsch formatiert",e.wrongEmail="border-danger"),"auth/wrong-password"===r.code&&(e.passwordMessage="Falsches Passwort",e.wrongPassword="border-danger"),"auth/user-not-found"===r.code&&(e.emailMessage="Nutzer nicht gefunden",e.wrongEmail="border-danger")})})()}validEmail(e){e.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(e){e.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hO),a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const o=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a._uU(5,"Login"),a.qZA(),a.qZA(),a.TgZ(6,"div",3),a.TgZ(7,"div",5),a.TgZ(8,"label",6),a._uU(9,"Email"),a.qZA(),a.TgZ(10,"input",7,8),a.NdJ("keydown",function(){a.CHM(o);const h=a.MAs(11);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.email=h}),a.qZA(),a.YNc(12,sU,2,1,"div",9),a.qZA(),a.qZA(),a.TgZ(13,"div",3),a.TgZ(14,"div",5),a.TgZ(15,"label",10),a._uU(16,"Password"),a.qZA(),a.TgZ(17,"input",11,12),a.NdJ("keypress",function(){a.CHM(o);const h=a.MAs(18);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.password=h}),a.qZA(),a.YNc(19,oU,2,1,"div",9),a.qZA(),a.qZA(),a.TgZ(20,"div",13),a.TgZ(21,"div",14),a.TgZ(22,"button",15),a.NdJ("click",function(){return r.inputCheck()}),a._uU(23,"Anmelden "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"div",13),a.TgZ(25,"div",14),a.TgZ(26,"button",16),a.NdJ("click",function(){return r.openRegistrationModal()}),a._uU(27,"Registrieren "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}2&e&&(a.xp6(10),a.Gre("form-control ",r.wrongEmail,""),a.Q6J("ngModel",r.email),a.xp6(2),a.Q6J("ngIf",""!==r.emailMessage),a.xp6(5),a.Gre("form-control ",r.wrongPassword,""),a.Q6J("ngModel",r.password),a.xp6(2),a.Q6J("ngIf",""!==r.passwordMessage))},directives:[Me,i1,l1,In],styles:[""]}),n})();function uU(n,t){1&n&&a._UZ(0,"app-loggedin")}function lU(n,t){1&n&&a._UZ(0,"app-notloggedin")}let cU=(()=>{class n{constructor(e){this.userData=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,r){1&e&&(a.YNc(0,uU,1,0,"app-loggedin",0),a.YNc(1,lU,1,0,"app-notloggedin",0)),2&e&&(a.Q6J("ngIf",r.userData.user),a.xp6(1),a.Q6J("ngIf",!r.userData.user))},directives:[In,QN,aU],styles:[""]}),n})();class dU{constructor(t,e,r,o){this.model=t,this.mark=e,this.seats=r,this.storage=o}}let hU=(()=>{class n{constructor(e){this.userService=e,this.car={},this.deleteEvent=new a.vpe}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-car-item"]],inputs:{car:"car"},outputs:{deleteEvent:"deleteEvent"},decls:12,vars:4,consts:[[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text"],[1,"btn","btn-primary","btn-danger","ml-1",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h5",2),a._uU(3),a.qZA(),a.TgZ(4,"p",3),a._uU(5),a.qZA(),a.TgZ(6,"p",4),a._uU(7),a.qZA(),a.TgZ(8,"p",4),a._uU(9),a.qZA(),a.TgZ(10,"a",5),a.NdJ("click",function(){return r.deleteEvent.emit()}),a._uU(11,"Delete"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Oqu(r.car.model),a.xp6(2),a.Oqu(r.car.mark),a.xp6(2),a.hij("",r.car.seats," Pl\xe4tze"),a.xp6(2),a.hij("",r.car.storage," \u33a5"))},styles:[""]}),n})();function fU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",15),a.TgZ(2,"app-car-item",16),a.NdJ("deleteEvent",function(){const l=a.CHM(e).$implicit;return a.oxw(2).userService.deleteCar(l.mark).then()}),a.qZA(),a.qZA(),a.qZA()}if(2&n){const e=t.$implicit;a.xp6(2),a.Q6J("car",e)}}function pU(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"form",1),a.NdJ("ngSubmit",function(){return a.CHM(e),a.oxw().onSubmit()}),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"span",4),a._uU(5,"Fahrzeug-Model"),a.qZA(),a.qZA(),a._UZ(6,"input",5),a.TgZ(7,"div",3),a.TgZ(8,"span",6),a._uU(9,"Kennzeichen"),a.qZA(),a.qZA(),a._UZ(10,"input",7),a.qZA(),a.TgZ(11,"div",2),a.TgZ(12,"div",3),a.TgZ(13,"span",8),a._uU(14,"Username"),a.qZA(),a.qZA(),a._UZ(15,"input",9),a.TgZ(16,"div",3),a.TgZ(17,"span",10),a._uU(18,"Password"),a.qZA(),a.qZA(),a._UZ(19,"input",11),a.qZA(),a.TgZ(20,"div",2),a.TgZ(21,"button",12),a._uU(22,"Fahrzeug hinzuf\xfcgen"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"div",13),a.YNc(24,fU,3,1,"div",14),a.qZA(),a.qZA()}if(2&n){const e=a.oxw();a.xp6(1),a.Q6J("formGroup",e.form),a.xp6(23),a.Q6J("ngForOf",e.userService.currUser.car)}}let gU=(()=>{class n{constructor(e,r){this.userService=e,this.router=r,this.form=new nI({fahrzeugModel:new Xf,fahrzeugKennzeichen:new Xf,fahrzeugSitzplaetze:new Xf,fahrzeugStauraum:new Xf}),this.userService.currUser||this.router.navigate(["/"])}onSubmit(){let e=new dU(this.form.value.fahrzeugModel,this.form.value.fahrzeugKennzeichen,this.form.value.fahrzeugSitzplaetze,this.form.value.fahrzeugStauraum);this.userService.currUser&&(this.userService.currUser.car.push(e),this.userService.updateUser(this.userService.currUser).then()),document.getElementById("add-car-form").reset()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hu),a.Y36(jr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-carlist"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","add-car-form",2,"margin-top","100px",3,"formGroup","ngSubmit"],[1,"input-group","mb-3",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"input-group-prepend"],["id","add-car-model",1,"input-group-text"],["type","text","placeholder","VW Touran, Porsche 911, ...","aria-label","Fahrzeug-Model","aria-describedby","add-fahrzeug-model","id","add-fahrzeug-model-input","formControlName","fahrzeugModel",1,"form-control"],["id","add-fahrzeug-kennzeichen",1,"input-group-text"],["type","text","placeholder","Kennzeichen","aria-label","Kennzeichen","aria-describedby","add-fahrzeug-kennzeichen","id","add-fahrzeug-kennzeichen-input","formControlName","fahrzeugKennzeichen",1,"form-control"],["id","add-fahrzeug-Sitzplaetze",1,"input-group-text"],["type","number","placeholder","Sitzpl\xe4tze","aria-label","Sitzplaetze","aria-describedby","add-fahrzeug-sitzplaetze","id","add-fahrzeug-sitzplaetze-input","formControlName","fahrzeugSitzplaetze",1,"form-control"],["id","add-Stauraum",1,"input-group-text"],["type","number","placeholder","Stauraum in \u33a5","aria-label","Stauraum","aria-describedby","add-stauraum","id","add-stauraum-input","formControlName","fahrzeugStauraum",1,"form-control"],["type","submit",1,"btn","btn-info",2,"background-color","#005B51"],[2,"display","flex","flex-direction","row","justify-content","center"],[4,"ngFor","ngForOf"],[1,"ml-3","mr-3"],[3,"car","deleteEvent"]],template:function(e,r){1&e&&a.YNc(0,pU,25,2,"div",0),2&e&&a.Q6J("ngIf",r.userService.currUser)},directives:[In,dk,nk,rI,Me,i1,SM,EM,Et,hU],styles:[""]}),n})(),mU=(()=>{class n{constructor(){this.searchbarheigth="5em",this.iconsize="25px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-suchleiste"]],decls:39,vars:36,consts:[[1,"masthead"],[1,"center"],[2,"font-size","4em","color","#005B51","text-align","center","margin-bottom","20px"],[1,"form-row","form-row-style","align-items-center"],[1,"col","colpad"],[1,"input-group","mb-3","border-right"],[1,"row"],[1,"input-group-text","input-opaque"],["src","../../../../assets/img/Icons/von_icon.png"],["type","text","placeholder","Von...",1,"text-opaque"],["src","../../../../assets/img/Icons/nach_icon.png"],["type","text","placeholder","Nach...",1,"text-opaque"],["src","../../../../assets/img/Icons/kalender_icon.png"],["type","date","placeholder","Datum",1,"text-opaque"],["src","../../../../assets/img/Icons/koffer_icon_white.png"],["type","number","placeholder","m\xb3",1,"text-opaque"],["src","../../../../assets/img/Icons/mitfahrer_icon_white.png"],["type","number","placeholder","1",1,"text-opaque"],["type","button",1,"btn","btn-primary","btn-block"]],template:function(e,r){1&e&&(a.TgZ(0,"header",0),a.TgZ(1,"div",1),a.TgZ(2,"h1",2),a._uU(3,"Wir fahren, du sparst!"),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"span",7),a._UZ(9,"img",8),a.qZA(),a._UZ(10,"input",9),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",4),a.TgZ(12,"div",5),a.TgZ(13,"div",6),a.TgZ(14,"span",7),a._UZ(15,"img",10),a.qZA(),a._UZ(16,"input",11),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",4),a.TgZ(18,"div",5),a.TgZ(19,"div",6),a.TgZ(20,"span",7),a._UZ(21,"img",12),a.qZA(),a._UZ(22,"input",13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"div",4),a.TgZ(24,"div",5),a.TgZ(25,"div",6),a.TgZ(26,"span",7),a._UZ(27,"img",14),a.qZA(),a._UZ(28,"input",15),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"div",4),a.TgZ(30,"div",5),a.TgZ(31,"div",6),a.TgZ(32,"span",7),a._UZ(33,"img",16),a.qZA(),a._UZ(34,"input",17),a.qZA(),a.qZA(),a.qZA(),a.TgZ(35,"div",4),a.TgZ(36,"button",18),a.TgZ(37,"h3"),a._uU(38,"Suchen"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(2),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(3),a.Jzz("width: ",r.iconsize,"; margin-left: 10px"),a.xp6(3),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(3),a.Jzz("width: ",r.iconsize,"; margin-left: 10px"),a.xp6(3),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(3),a.Jzz("width: ",r.iconsize,"; margin-left: 10px"),a.xp6(3),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(3),a.Jzz("width: ",r.iconsize,"; margin-left: 10px"),a.xp6(3),a.Jzz("height: ",r.searchbarheigth,""),a.xp6(3),a.Jzz("width: ",r.iconsize,"; margin-left: 10px"),a.xp6(3),a.Jzz("margin-top: -1em; background-color: #005B51;  height: ",r.searchbarheigth,"; border-radius: 0px 35px 35px 0px"))},styles:["header.masthead[_ngcontent-%COMP%]{position:relative;background-color:#343a40;background:url(Zeichenflache_4.661da432fc963621ee16.svg) no-repeat center center;background-size:cover;padding-top:8rem;padding-bottom:8rem;height:40em}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}.center[_ngcontent-%COMP%]{margin:auto;width:70%}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}.colpad[_ngcontent-%COMP%]{padding:0;margin:0;width:2em}.input-opaque[_ngcontent-%COMP%]{background-color:#0000;border-color:#0000}.text-opaque[_ngcontent-%COMP%]{background-color:#0000;color:#fff;border-color:#0000;outline:none}.form-row-style[_ngcontent-%COMP%]{background-color:#0000004d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:35px;position:center;margin:0;padding:0}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})(),_U=(()=>{class n{constructor(){this.boxTitle="",this.infoText="",this.imagePath=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-infobox"]],inputs:{boxTitle:"boxTitle",infoText:"infoText",imagePath:"imagePath"},decls:6,vars:3,consts:[[1,"shadow","p-3","mb-5","bg-white","rounded","infoheight",2,"width","300px","margin","2em","margin-top","5em"],[1,"infoicon",3,"src"],[2,"color","#005B51","text-align","center"],[2,"text-align","center"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"h3",2),a._uU(3),a.qZA(),a.TgZ(4,"p",3),a._uU(5),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.s9C("src",r.imagePath,a.LSH),a.xp6(2),a.Oqu(r.boxTitle),a.xp6(2),a.hij(" ",r.infoText," "))},styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-45px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:20em}"]}),n})();function yU(n,t){if(1&n&&(a.TgZ(0,"div",3),a._UZ(1,"app-infobox",4),a.qZA()),2&n){const e=t.index,r=a.oxw();a.xp6(1),a.Q6J("boxTitle",r.boxTitles[e])("infoText",r.infoTexts[e])("imagePath",r.imagePaths[e])}}let vU=(()=>{class n{constructor(){this.boxTitles=["Lass dich fahren f\xfcr weniger Geld","Dein Transport: Einfach und unkompliziert","Sorglos fahren, dank Nutzerbewertungen"],this.infoTexts=["Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es relativ g\xfcnstig ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es einfach und unkompliziert ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es sorglos, durch Nutzerbewertung, ist, mit uns zu fahren!"],this.imagePaths=["../../assets/img/Icons/money_icon.png","../../assets/img/Icons/transporter_icon.png","../../assets/img/Icons/thumbs_icon.png"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-main-page"]],decls:4,vars:1,consts:[[1,"container"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[3,"boxTitle","infoText","imagePath"]],template:function(e,r){1&e&&(a._UZ(0,"app-suchleiste"),a.TgZ(1,"div",0),a.TgZ(2,"div",1),a.YNc(3,yU,2,3,"div",2),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngForOf",r.boxTitles))},directives:[mU,Et,_U],styles:[""]}),n})();var yI=(()=>(function(n){n[n.NOSTARTEDYET=0]="NOSTARTEDYET",n[n.ONTHEWAY=1]="ONTHEWAY",n[n.ARRIVED=2]="ARRIVED"}(yI||(yI={})),yI))();class bU{constructor(t,e,r,o,l,h,m,b,D,N,M,V,$){this.offer=t,this.startCity=e,this.endCity=r,this.startTime=o,this.duration=l,this.date=h,this.price=m,this.storage=b,this.seats=D,this.description=N,this.driver=M||"",this.passengers=V||[],this.booked=!1,this.status=yI.NOSTARTEDYET,this.car=$||null,this.evaluation=-1}}let wU=(()=>{class n{constructor(e){this.afs=e,this.tourCollection=e.collection("Tours")}copyAndPrepareTour(e){return Object.assign({},e)}addTour(e){var r=this;return(0,de.Z)(function*(){r.tourCollection.add(r.copyAndPrepareTour(e)).then(()=>console.log("tour added")).catch(o=>console.log(o))})()}deleteTour(e){var r=this;return(0,de.Z)(function*(){r.tourCollection.doc(e.dID).delete().then(()=>console.log("tour deleted")).catch(o=>console.log(o))})()}updateTour(e){var r=this;return(0,de.Z)(function*(){r.tourCollection.doc(e.dID).update(e).then(()=>console.log("tour updated")).catch(o=>console.log(o))})()}searchTours(e,r,o,l,h,m){var b=this;return(0,de.Z)(function*(){return b.afs.collection("Tours",D=>D.where("offer","==",e).where("booked","==",!1).where("date","==",l).where("startCity","==",r).where("endCity","==",o).where("storage",">=",h).orderBy("storage","asc")).get().toPromise().then(D=>D.docs.map(N=>{const M=N.data();return M.dID=N.id,M})).then(D=>D.filter(N=>N.seats>=m))})()}sortPrice(e){return e.sort((r,o)=>this.compare(r.price,o.price))}sortEva(e){return e.sort((r,o)=>this.compare(r.price,o.price))}sortStorage(e){return e.sort((r,o)=>this.compare(r.price,o.price))}sortSeats(e){return e.sort((r,o)=>this.compare(r.price,o.price))}compare(e,r){return e==r?0:e>r?1:-1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qw))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CU(n,t){1&n&&(a.TgZ(0,"div",54),a._uU(1,"Erstelle eine Anfrage"),a.qZA())}function EU(n,t){1&n&&(a.TgZ(0,"div",54),a._uU(1,"Erstelle ein Angebot"),a.qZA())}const TU=[{path:"profil",component:cU},{path:"carList",component:gU},{path:"",component:vU},{path:"createTours",component:(()=>{class n{constructor(e,r){this.tourData=e,this.userData=r,this.offer=!1,this.startCity="",this.endCity="",this.startTime="",this.duration="",this.endTime="",this.date="",this.seats="",this.storage="",this.price="",this.description=""}offerOnOff(){this.offer=!this.offer,console.log(this.offer)}showTime(e){console.log("Time: ",e,"Type of: ",typeof e);let r=Number.parseInt(e.substr(0,2)),o=Number.parseInt(e.substr(3,2));console.log("hours: ",r,"minutes: ",o,"type of: ",typeof r,typeof o);const l=Number.parseInt(e);console.log("Time as number: ",l,"Type of:  ",typeof l)}calculateEndTime(){if(this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0){let o=Number.parseInt(this.startTime.substr(0,2))+Number.parseInt(this.duration),l=this.date.substr(8,2);o>=24&&(l=(Number.parseInt(l)+1).toString(),l.trim().length<2&&(l="0"+l),o%=24),this.endTime=o<10?this.date.substr(0,8)+l+"T0"+o.toString():this.date.substr(0,8)+l+"T"+o.toString(),console.log(this.date),this.endTime+=this.startTime.substr(2,3),console.log("Enduhrzeit: "+this.endTime)}}addTour(){var e=this;return(0,de.Z)(function*(){let r=new bU(e.offer,e.startCity,e.endCity,e.startTime,Number.parseInt(e.duration),e.date,Number.parseInt(e.price),Number.parseInt(e.storage),Number.parseInt(e.seats),e.description);e.userData.currUser&&(e.offer?r.driver=e.userData.currUser.uid:r.passengers[0]=e.userData.currUser.uid,yield e.tourData.addTour(r))})()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(wU),a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-tours"]],decls:138,vars:13,consts:[[1,"test"],[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],["class","h2 logoGreenDark m-3",4,"ngIf"],[1,"row","m-3","justify-content-center"],[1,"col"],[1,"d-flex","justify-content-center"],[1,"logoGreenDark","mr-3"],[1,"switch"],["type","checkbox",3,"click"],[1,"slider","round"],[1,"logoGreenDark","ml-3"],[1,"container","rounded","shadow","container","mt-4","bg-white","border-0"],[1,"row","m-4"],[1,"form-group"],["for","cityStart",1,"logoGreenDark"],["type","text","id","cityStart",1,"form-control",3,"ngModel","ngModelChange"],["for","endCity",1,"logoGreenDark"],["type","text","id","endCity",1,"form-control",3,"ngModel","ngModelChange"],["for","date",1,"logoGreenDark"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["for","startTime",1,"logoGreenDark"],["type","time","id","startTime",1,"form-control",3,"ngModel","ngModelChange","keydown"],["for","duration",1,"logoGreenDark"],["name","","id","duration",1,"form-control",3,"ngModel","ngModelChange","click"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","readonly","","id","endTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["for","seats",1,"logoGreenDark"],["name","","id","seats",1,"form-control",3,"ngModel","ngModelChange"],["for","storage",1,"logoGreenDark"],["name","","id","storage",1,"form-control",3,"ngModel","ngModelChange"],["for","customRange3",1,"logoGreenDark"],[1,""],["type","range","min","0","max","500","id","customRange3",1,"form-range","mt-2",2,"min-width","100%","max-width","100%",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label","logoGreenDark"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","justify-content-center"],[1,"col-5","m-4"],[1,"btn","btn-success","btn-block",3,"click"],[1,"h2","logoGreenDark","m-3"]],template:function(e,r){1&e&&(a._UZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.YNc(4,CU,2,0,"div",4),a.YNc(5,EU,2,0,"div",4),a.qZA(),a.qZA(),a.TgZ(6,"div",5),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"div",8),a.TgZ(10,"h5"),a._uU(11,"Angebot"),a.qZA(),a.qZA(),a.TgZ(12,"div"),a.TgZ(13,"label",9),a.TgZ(14,"input",10),a.NdJ("click",function(){return r.offerOnOff()}),a.qZA(),a._UZ(15,"span",11),a.qZA(),a.qZA(),a.TgZ(16,"div",12),a.TgZ(17,"h5"),a._uU(18,"Anfrage"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",13),a._UZ(20,"div",14),a.TgZ(21,"div",2),a.TgZ(22,"div",6),a.TgZ(23,"div",15),a.TgZ(24,"label",16),a._uU(25,"Von"),a.qZA(),a.TgZ(26,"input",17),a.NdJ("ngModelChange",function(l){return r.startCity=l}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(27,"div",6),a.TgZ(28,"div",15),a.TgZ(29,"label",18),a._uU(30,"Nach"),a.qZA(),a.TgZ(31,"input",19),a.NdJ("ngModelChange",function(l){return r.endCity=l}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(32,"div",6),a.TgZ(33,"div",15),a.TgZ(34,"label",20),a._uU(35,"Datum"),a.qZA(),a.TgZ(36,"input",21),a.NdJ("ngModelChange",function(l){return r.date=l})("change",function(){return r.calculateEndTime()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",2),a.TgZ(38,"div",6),a.TgZ(39,"div",15),a.TgZ(40,"label",22),a._uU(41,"Abfahrtszeit"),a.qZA(),a.TgZ(42,"input",23),a.NdJ("ngModelChange",function(l){return r.startTime=l})("keydown",function(){return r.calculateEndTime()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"div",6),a.TgZ(44,"div",15),a.TgZ(45,"label",24),a._uU(46,"Dauer"),a.qZA(),a.TgZ(47,"select",25),a.NdJ("ngModelChange",function(l){return r.duration=l})("click",function(){return r.calculateEndTime()}),a._UZ(48,"option",26),a.TgZ(49,"option",27),a._uU(50,"1h"),a.qZA(),a.TgZ(51,"option",28),a._uU(52,"2h"),a.qZA(),a.TgZ(53,"option",29),a._uU(54,"3h"),a.qZA(),a.TgZ(55,"option",30),a._uU(56,"4h"),a.qZA(),a.TgZ(57,"option",31),a._uU(58,"5h"),a.qZA(),a.TgZ(59,"option",32),a._uU(60,"6h"),a.qZA(),a.TgZ(61,"option",33),a._uU(62,"7h"),a.qZA(),a.TgZ(63,"option",34),a._uU(64,"8h"),a.qZA(),a.TgZ(65,"option",35),a._uU(66,"9h"),a.qZA(),a.TgZ(67,"option",36),a._uU(68,"10h"),a.qZA(),a.TgZ(69,"option",37),a._uU(70,"11h"),a.qZA(),a.TgZ(71,"option",38),a._uU(72,"12h"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(73,"div",6),a.TgZ(74,"div",15),a.TgZ(75,"label",39),a._uU(76,"Ankunftszeit"),a.qZA(),a.TgZ(77,"input",40),a.NdJ("ngModelChange",function(l){return r.endTime=l}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(78,"div",2),a.TgZ(79,"div",41),a.TgZ(80,"div",15),a.TgZ(81,"label",42),a._uU(82,"Sitzpl\xe4tze"),a.qZA(),a.TgZ(83,"select",43),a.NdJ("ngModelChange",function(l){return r.seats=l}),a._UZ(84,"option",26),a.TgZ(85,"option",27),a._uU(86,"1"),a.qZA(),a.TgZ(87,"option",28),a._uU(88,"2"),a.qZA(),a.TgZ(89,"option",29),a._uU(90,"3"),a.qZA(),a.TgZ(91,"option",30),a._uU(92,"4"),a.qZA(),a.TgZ(93,"option",31),a._uU(94,"5"),a.qZA(),a.TgZ(95,"option",32),a._uU(96,"6"),a.qZA(),a.TgZ(97,"option",33),a._uU(98,"7"),a.qZA(),a.TgZ(99,"option",34),a._uU(100,"8"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(101,"div",41),a.TgZ(102,"div",15),a.TgZ(103,"label",44),a._uU(104,"Stauraum"),a.qZA(),a.TgZ(105,"select",45),a.NdJ("ngModelChange",function(l){return r.storage=l}),a._UZ(106,"option",26),a.TgZ(107,"option",27),a._uU(108,"1"),a.qZA(),a.TgZ(109,"option",28),a._uU(110,"2"),a.qZA(),a.TgZ(111,"option",29),a._uU(112,"3"),a.qZA(),a.TgZ(113,"option",30),a._uU(114,"4"),a.qZA(),a.TgZ(115,"option",31),a._uU(116,"5"),a.qZA(),a.TgZ(117,"option",32),a._uU(118,"6"),a.qZA(),a.TgZ(119,"option",33),a._uU(120,"7"),a.qZA(),a.TgZ(121,"option",34),a._uU(122,"8"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(123,"div",41),a.TgZ(124,"div"),a.TgZ(125,"label",46),a._uU(126),a.qZA(),a.qZA(),a.TgZ(127,"div",47),a.TgZ(128,"input",48),a.NdJ("ngModelChange",function(l){return r.price=l}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(129,"div",2),a.TgZ(130,"div",6),a.TgZ(131,"label",49),a._uU(132,"Beschreibung"),a.qZA(),a.TgZ(133,"textarea",50),a.NdJ("ngModelChange",function(l){return r.description=l}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(134,"div",51),a.TgZ(135,"div",52),a.TgZ(136,"button",53),a.NdJ("click",function(){return r.addTour()}),a._uU(137,"Erstellen"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngIf",r.offer),a.xp6(1),a.Q6J("ngIf",!r.offer),a.xp6(21),a.Q6J("ngModel",r.startCity),a.xp6(5),a.Q6J("ngModel",r.endCity),a.xp6(5),a.Q6J("ngModel",r.date),a.xp6(6),a.Q6J("ngModel",r.startTime),a.xp6(5),a.Q6J("ngModel",r.duration),a.xp6(30),a.Q6J("ngModel",r.endTime),a.xp6(6),a.Q6J("ngModel",r.seats),a.xp6(22),a.Q6J("ngModel",r.storage),a.xp6(21),a.hij("Preis: ",r.price,""),a.xp6(2),a.Q6J("ngModel",r.price),a.xp6(5),a.Q6J("ngModel",r.description))},directives:[In,Me,i1,l1,c1,iI,sI,TM],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})()}];let DU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Vv.forRoot(TU)],Vv]}),n})(),IU=(()=>{class n{constructor(e,r){this.router=e,this.authData=r}navigateToUser(){this.router.navigate(["/profil"])}navigateToMainPage(){this.router.navigate(["/"])}navigateToCreateTourPage(){this.router.navigate(["/createTours"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jr),a.Y36(Hu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-xl","navbar-light","bg-light","py-2"],[1,"container-fluid",2,"margin-left","15em","margin-right","15em"],[2,"border","none","background-color","Transparent",3,"click"],["src","../../../assets/img/SVG/LKW.svg","width","180","height","75"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mr-auto"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],["href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],[1,"navbar-nav","me-auto","my-2","my-lg-0"],["href","#",1,"nav-item",2,"margin-right","14px"],[2,"border","none","background-color","Transparent"],["src","../../../assets/img/Icons/search_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],[1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],[1,"nav-item",2,"margin-right","12px"],["src","../../../assets/img/Icons/add_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],["src","../../../assets/img/Icons/user_icon.png","width","43","height","43",2,"float","left"]],template:function(e,r){1&e&&(a.TgZ(0,"nav",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return r.navigateToMainPage()}),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"button",4),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"div",6),a.TgZ(7,"ul",7),a.TgZ(8,"li",8),a.TgZ(9,"a",9),a._uU(10,"Mitfahrgelegenheit"),a.qZA(),a.qZA(),a.TgZ(11,"li",8),a.TgZ(12,"a",10),a._uU(13,"Meine Angebote & Anfragen"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"ul",11),a.TgZ(15,"li",12),a.TgZ(16,"button",13),a._UZ(17,"img",14),a.TgZ(18,"a",15),a._uU(19,"Suchen"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"li",16),a.TgZ(21,"button",2),a.NdJ("click",function(){return r.navigateToCreateTourPage()}),a._UZ(22,"img",17),a.TgZ(23,"a",15),a._uU(24,"Angebot & Anfrage erstellen"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"li"),a.TgZ(26,"button",2),a.NdJ("click",function(){return r.navigateToUser()}),a._UZ(27,"img",18),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},directives:[HM],styles:[".navbar[_ngcontent-%COMP%]{height:100px}"]}),n})(),AU=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"containter"],[1,"row"],[1,"col","bg-light","pb-2","pl-5","pt-2"]],template:function(e,r){1&e&&(a.TgZ(0,"footer",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a._uU(4,"\xa9Cargonaut"),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:40px}"]}),n})(),SU=(()=>{class n{constructor(e){this.router=e,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),"/carList"===this.router.url&&this.router.navigate(["/carList"]),"/createTours"===this.router.url&&this.router.navigate(["/createTours"])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&(a._UZ(0,"app-navbar"),a._UZ(1,"router-outlet"),a._UZ(2,"app-footer"))},directives:[IU,Ph,AU],styles:[""]}),n})();class MU{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xU(t,this.dueTime,this.scheduler))}}class xU extends Kn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(RU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function RU(n){n.debouncedNext()}const BO="firebasestorage.googleapis.com",jO="storageBucket";class kr extends Tt.ZR{constructor(t,e){super(YM(t),`Firebase Storage: ${e} (${YM(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}_codeEquals(t){return YM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function YM(n){return"storage/"+n}function KM(){return new kr("unknown","An unknown error occurred, please check the error payload for server response.")}function $O(){return new kr("canceled","User canceled the upload/download.")}function HO(){return new kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ov(n){return new kr("invalid-argument",n)}function GO(){return new kr("app-deleted","The Firebase app was deleted.")}function ZO(n){return new kr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function v1(n,t){return new kr("invalid-format","String does not match format '"+n+"': "+t)}function b1(n){throw new kr("internal-error","Internal error: "+n)}class Ns{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Ns.makeFromUrl(t,e)}catch(o){return new Ns(t,"")}if(""===r.path)return r;throw function(n){return new kr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function D(at){at.path_=decodeURIComponent(at.path)}const M=e.replace(/[.]/g,"\\."),Nt=[{regex:m,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${e===BO?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let at=0;at<Nt.length;at++){const ln=Nt[at],zr=ln.regex.exec(t);if(zr){let Fo=zr[ln.indices.path];Fo||(Fo=""),r=new Ns(zr[ln.indices.bucket],Fo),ln.postModify(r);break}}if(null==r)throw function(n){return new kr("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class qU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vI(n){return"string"==typeof n||n instanceof String}function qO(n){return JM()&&n instanceof Blob}function JM(){return"undefined"!=typeof Blob}function QM(n,t,e,r){if(r<t)throw ov(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw ov(`Invalid value for '${n}'. Expected ${e} or less.`)}function $d(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function zO(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var np=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(np||(np={})),np))();class QU{constructor(t,e,r,o,l,h,m,b,D,N,M){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=D,this.progressCallback_=N,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,$)=>{this.resolve_=V,this.reject_=$,this.start_()})}start_(){const e=(r,o)=>{const l=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==m){const b=KM();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(o.canceled?this.appDelete_?GO():$O():new kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new bI(!1,null,!0)):this.backoffId_=function(n,t,e){let r=1,o=null,l=null,h=!1,m=0;function b(){return 2===m}let D=!1;function N(...Se){D||(D=!0,t.apply(null,Se))}function M(Se){o=setTimeout(()=>{o=null,n($,b())},Se)}function V(){l&&clearTimeout(l)}function $(Se,...it){if(D)return void V();if(Se)return V(),void N.call(null,Se,...it);if(b()||h)return V(),void N.call(null,Se,...it);let Nt;r<64&&(r*=2),1===m?(m=2,Nt=0):Nt=1e3*(r+Math.random()),M(Nt)}let re=!1;function ve(Se){re||(re=!0,V(),!D&&(null!==o?(Se||(m=2),clearTimeout(o),M(0)):Se||(m=1)))}return M(0),l=setTimeout(()=>{h=!0,ve(!0)},e),ve}((r,o)=>{if(o)return void r(!1,new bI(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===np.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const N=l.getErrorCode()===np.ABORT;return void r(!1,new bI(!1,null,N))}const D=-1!==this.successCodes_.indexOf(b);r(!0,new bI(D,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,o=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||o||l}}class bI{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function s3(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(JM())return new Blob(n);throw new kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const la={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XM{constructor(t,e){this.data=t,this.contentType=e||null}}function ex(n,t){switch(n){case la.RAW:return new XM(WO(t));case la.BASE64:case la.BASE64URL:return new XM(YO(n,t));case la.DATA_URL:return new XM(function(n){const t=new KO(n);return t.base64?YO(la.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw v1(la.DATA_URL,"Malformed data URL.")}return WO(t)}(t.rest)}(t),function(n){return new KO(n).contentType}(t))}throw KM()}function WO(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function YO(n,t){switch(n){case la.BASE64:{const o=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(o||l)throw v1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case la.BASE64URL:{const o=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(o||l)throw v1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(o){throw v1(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class KO{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw v1(la.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}class Jl{constructor(t,e){let r=0,o="";qO(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(qO(this.data_)){const o=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new Jl(o)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Jl(r,!0)}}static getBlob(...t){if(JM()){const e=t.map(r=>r instanceof Jl?r.data_:r);return new Jl(s3.apply(null,e))}{const e=t.map(h=>vI(h)?ex(la.RAW,h).data:h.data_);let r=0;e.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return e.forEach(h=>{for(let m=0;m<h.length;m++)o[l++]=h[m]}),new Jl(o,!0)}}uploadData(){return this.data_}}function tx(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function JO(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function p3(n,t){return t}class uo{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||p3}}let wI=null;function w1(){if(wI)return wI;const n=[];n.push(new uo("bucket")),n.push(new uo("generation")),n.push(new uo("metageneration")),n.push(new uo("name","fullPath",!0));const e=new uo("name");e.xform=function(l,h){return function(n){return!vI(n)||n.length<2?n:JO(n)}(h)},n.push(e);const o=new uo("size");return o.xform=function(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new uo("timeCreated")),n.push(new uo("updated")),n.push(new uo("md5Hash",null,!0)),n.push(new uo("cacheControl",null,!0)),n.push(new uo("contentDisposition",null,!0)),n.push(new uo("contentEncoding",null,!0)),n.push(new uo("contentLanguage",null,!0)),n.push(new uo("contentType",null,!0)),n.push(new uo("metadata","customMetadata",!0)),wI=n,wI}function QO(n,t,e){const r=tx(t);return null===r?null:function(n,t,e){const r={type:"file"},o=e.length;for(let l=0;l<o;l++){const h=e[l];r[h.local]=h.xform(r,t[h.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const l=new Ns(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(r,n),r}(n,r,e)}function nx(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const l=t[o];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const XO="prefixes";class Ql{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(n){if(!n)throw KM()}function CI(n,t){return function(r,o){const l=QO(n,o,t);return Xl(null!==l),l}}function av(n){return function(e,r){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new kr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new kr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new kr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function C1(n){const t=av(n);return function(r,o){let l=t(r,o);return 404===r.getStatus()&&(l=function(n){return new kr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function tP(n,t,e){const o=$d(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(o,"GET",CI(n,e),h);return m.errorHandler=C1(t),m}function E3(n,t,e,r,o){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),r&&(l.pageToken=r),o&&(l.maxResults=o);const m=$d(t.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,N=new Ql(m,"GET",function(n,t){return function(r,o){const l=function(n,t,e){const r=tx(e);return null===r?null:function(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[XO])for(const o of e[XO]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new Ns(t,l));r.prefixes.push(h)}if(e.items)for(const o of e.items){const l=n._makeStorageReference(new Ns(t,o.name));r.items.push(l)}return r}(n,t,r)}(n,t,o);return Xl(null!==l),l}}(n,t.bucket),D);return N.urlParams=l,N.errorHandler=av(t),N}function rP(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class EI{constructor(t,e,r,o){this.current=t,this.total=e,this.finalized=!!r,this.metadata=o||null}}function rx(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Xl(!1)}return Xl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const x3={STATE_CHANGED:"state_changed"},lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ix(n){switch(n){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;case"error":default:return lo.ERROR}}class R3{constructor(t,e,r){if(function(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function uv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class O3 extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=np.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=np.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=np.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o){if(this.sent_)throw b1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw b1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function qu(){return new O3}class aP{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=w1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,o){const l=t.bucketOnlyServerUrl(),h=rP(t,r,o),m={name:h.fullPath},b=$d(l,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=nx(h,e),re=new Ql(b,"POST",function(ve){let Se;rx(ve);try{Se=ve.getResponseHeader("X-Goog-Upload-URL")}catch(it){Xl(!1)}return Xl(vI(Se)),Se},n.maxUploadRetryTime);return re.urlParams=m,re.headers=N,re.body=M,re.errorHandler=av(t),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qu,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const o=function(n,t,e,r){const b=new Ql(e,"POST",function(D){const N=rx(D,["active","final"]);let M=null;try{M=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){Xl(!1)}M||Xl(!1);const V=Number(M);return Xl(!isNaN(V)),new EI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=av(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(o,qu,e,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new EI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function(n,t,e,r,o,l,h,m){const b=new EI(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=b.total-b.current;let N=D;o>0&&(N=Math.min(N,o));const M=b.current,re={"X-Goog-Upload-Command":N===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ve=r.slice(M,M+N);if(null===ve)throw HO();const Nt=new Ql(e,"POST",function(at,ln){const zr=rx(at,["active","final"]),zu=b.current+N,Fo=r.size();let ax;return ax="final"===zr?CI(t,l)(at,ln):null,new EI(zu,Fo,"final"===zr,ax)},t.maxUploadRetryTime);return Nt.headers=re,Nt.body=ve.uploadData(),Nt.progressCallback=m||null,Nt.errorHandler=av(n),Nt}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,qu,o,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=tP(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,qu,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,o){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let Nt="";for(let at=0;at<2;at++)Nt+=Math.random().toString().slice(2);return Nt}();h["Content-Type"]="multipart/related; boundary="+b;const D=rP(t,r,o),N=nx(D,e),$=Jl.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+b+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===$)throw HO();const re={name:D.fullPath},ve=$d(l,n.host,n._protocol),it=n.maxUploadRetryTime,Qe=new Ql(ve,"POST",CI(n,e),it);return Qe.urlParams=re,Qe.headers=h,Qe.body=$.uploadData(),Qe.errorHandler=av(t),Qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qu,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=$O(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ix(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,o){const l=new R3(e||void 0,r||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ix(this._state)){case lo.SUCCESS:uv(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:uv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ix(this._state)){case lo.RUNNING:case lo.PAUSED:t.next&&uv(t.next.bind(t,this.snapshot))();break;case lo.SUCCESS:t.complete&&uv(t.complete.bind(t))();break;case lo.CANCELED:case lo.ERROR:t.error&&uv(t.error.bind(t,this._error))();break;default:t.error&&uv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class _m{constructor(t,e){this._service=t,this._location=e instanceof Ns?e:Ns.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new _m(t,e)}get root(){const t=new Ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JO(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ns(this._location.bucket,t);return new _m(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw ZO(t)}}function lP(n,t,e){return sx.apply(this,arguments)}function sx(){return(sx=(0,de.Z)(function*(n,t,e){const o=yield cP(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield lP(n,t,o.nextPageToken))})).apply(this,arguments)}function cP(n,t){null!=t&&"number"==typeof t.maxResults&&QM("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=E3(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,qu)}function q3(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const o=$d(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(o,"GET",function(n,t){return function(r,o){const l=QO(n,o,t);return Xl(null!==l),function(n,t,e,r){const o=tx(t);if(null===o||!vI(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(D=>{const M=n.fullPath;return $d("/b/"+h(n.bucket)+"/o/"+h(M),e,r)+zO({alt:"media",token:D})})[0]}(l,o,n.host,n._protocol)}}(n,e),h);return m.errorHandler=C1(t),m}(n.storage,n._location,w1());return n.storage.makeRequestWithTokens(t,qu).then(e=>{if(null===e)throw new kr("no-download-url","The given file does not have any download URLs.");return e})}function dP(n,t){const e=function(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Ns(n._location.bucket,e);return new _m(n.storage,r)}function hP(n,t){if(n instanceof ox){const e=n;if(null==e._bucket)throw new kr("no-default-bucket","No default bucket found. Did you set the '"+jO+"' property when initializing the app?");const r=new _m(e,e._bucket);return null!=t?hP(r,t):r}return void 0!==t?dP(n,t):n}function K3(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ox)return function(n,t){return new _m(n,t)}(n,t);throw ov("To use ref(service, url), the first argument must be a Storage instance.")}return hP(n,t)}function fP(n,t){const e=null==t?void 0:t[jO];return null==e?null:Ns.makeFromBucketSpec(e,n)}class ox{constructor(t,e,r,o,l){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=BO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Ns.makeFromBucketSpec(o,this._host):fP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,t):fP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,de.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,de.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _m(this,t)}_makeRequest(t,e,r,o){if(this._deleted)return new qU(GO());{const l=function(n,t,e,r,o,l){const h=zO(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,r),new QU(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(t,this._appId,r,o,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var r=this;return(0,de.Z)(function*(){const[o,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,o,l).getPromise()})()}}const pP="@firebase/storage";function _P(n,t){return K3(n=(0,Tt.m9)(n),t)}(0,Ys._registerComponent)(new jc.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ox(e,r,o,t,Ys.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ys.registerVersion)(pP,"0.9.0",""),(0,Ys.registerVersion)(pP,"0.9.0","esm2017");class TI{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yP{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new TI(r,this,this._ref))},e)}on(t,e,r,o){let l;return e&&(l="function"==typeof e?h=>e(new TI(h,this,this._ref)):{next:e.next?h=>e.next(new TI(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,r||void 0,o||void 0)}}class vP{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Hd(t,this._service))}get items(){return this._delegate.items.map(t=>new Hd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return dP(n,t)}(this._delegate,t);return new Hd(e,this.storage)}get root(){return new Hd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Hd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new yP(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new aP(n,new Jl(t),e)}(n=(0,Tt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=la.RAW,r){this._throwIfRoot("putString");const o=ex(e,t),l=Object.assign({},r);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new yP(new aP(this._delegate,new Jl(o.data,!0),l),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return lP(n,t).then(()=>t)}(n=(0,Tt.m9)(n))}(this._delegate).then(t=>new vP(t,this.storage))}list(t){return function(n,t){return cP(n=(0,Tt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new vP(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=tP(n.storage,n._location,w1());return n.storage.makeRequestWithTokens(t,qu)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,r){const l=$d(t.fullServerUrl(),n.host,n._protocol),m=nx(e,r),D=n.maxOperationRetryTime,N=new Ql(l,"PATCH",CI(n,r),D);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=C1(t),N}(n.storage,n._location,t,w1());return n.storage.makeRequestWithTokens(e,qu)}(n=(0,Tt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return q3(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const r=$d(t.fullServerUrl(),n.host,n._protocol),m=new Ql(r,"DELETE",function(b,D){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=C1(t),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,qu)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw ZO(t)}}class bP{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(wP(t))throw ov("ref() expected a child path but got a URL, use refFromURL instead.");return new Hd(_P(this._delegate,t),this)}refFromURL(t){if(!wP(t))throw ov("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(t,this._delegate.host)}catch(e){throw ov("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hd(_P(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function(n,t,e,r={}){!function(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Tt.Sg)(o,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function wP(n){return/^[A-Za-z]+:\/\//.test(n)}function hB(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new bP(e,r)}function CP(n){const t=function(n){return new kt.y(t=>{const e=h=>t.next(h);e(n.snapshot);const l=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){l()}}).pipe(function(n,t=Qm.P){return e=>e.lift(new MU(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ut.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function DI(n){return{getDownloadURL:()=>(0,qe.of)(void 0).pipe(er.fc,ir(()=>n.getDownloadURL()),er.iC),getMetadata:()=>(0,qe.of)(void 0).pipe(er.fc,ir(()=>n.getMetadata()),er.iC),delete:()=>(0,pn.D)(n.delete()),child:t=>DI(n.child(t)),updateMetadata:t=>(0,pn.D)(n.updateMetadata(t)),put:(t,e)=>CP(n.put(t,e)),putString:(t,e,r)=>CP(n.putString(t,e,r)),list:t=>(0,pn.D)(n.list(t)),listAll:()=>(0,pn.D)(n.listAll())}}!function(n){const t={TaskState:lo,TaskEvent:x3,StringFormat:la,Storage:bP,Reference:Hd};n.INTERNAL.registerComponent(new jc.wA("storage-compat",hB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(La.Z);const gB=new a.OlP("angularfire2.storageBucket"),mB=new a.OlP("angularfire2.storage.maxUploadRetryTime"),_B=new a.OlP("angularfire2.storage.maxOperationRetryTime"),yB=new a.OlP("angularfire2.storage.use-emulator");let vB=(()=>{class n{constructor(e,r,o,l,h,m,b,D,N,M){const V=(0,Xi.on)(e,h,r);this.storage=(0,Xi.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const $=h.runOutsideAngular(()=>V.storage(o||void 0)),re=N;return re&&$.useEmulator(...re),b&&$.setMaxUploadRetryTime(b),D&&$.setMaxOperationRetryTime(D),$},[b,D])}ref(e){return DI(this.storage.ref(e))}refFromURL(e){return DI(this.storage.refFromURL(e))}upload(e,r,o){return DI(this.storage.ref(e)).put(r,o)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xi.Dh),a.LFG(Xi.xv,8),a.LFG(gB,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(er.HU),a.LFG(mB,8),a.LFG(_B,8),a.LFG(yB,8),a.LFG(Gw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),wB=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[vB],imports:[bB]}),n})();const EP_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let CB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[SU]}),n.\u0275inj=a.cJS({providers:[],imports:[[dp,DU,YV,Xi.hO.initializeApp(EP_firebaseConfig),ZD,$y,wB,Sk,cF]]}),n})();(0,a.G48)(),Zo().bootstrapModule(CB).catch(n=>console.error(n))},3394:(We,we,F)=>{"use strict";F.d(we,{Z:()=>Ne});var a=F(3854),j=F(3910),O=F(8026),le=F(5422);class ae{constructor(ge,ne){this._delegate=ge,this.firebase=ne,(0,O._addComponent)(ge,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,ne=O._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(ge);return!Ee.isInitialized()&&"EXPLICIT"===(null===(se=Ee.getComponent())||void 0===se?void 0:se.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:ne})}_removeServiceInstance(ge,ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(ne)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const Te=function(Te){const ge={},ne={__esModule:!0,initializeApp:function(_t,Dn={}){const Ct=O.initializeApp(_t,Dn);if((0,a.r3)(ge,Ct.name))return ge[Ct.name];const gt=new Te(Ct,ne);return ge[Ct.name]=gt,gt},app:Ee,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(_t){const Dn=_t.name,Ct=Dn.replace("-compat","");if(O._registerComponent(_t)&&"PUBLIC"===_t.type){const gt=(Ot=Ee())=>{if("function"!=typeof Ot[Ct])throw ce.create("invalid-app-argument",{appName:Dn});return Ot[Ct]()};void 0!==_t.serviceProps&&(0,a.ZB)(gt,_t.serviceProps),ne[Ct]=gt,Te.prototype[Ct]=function(...Ot){return this._getService.bind(this,Dn).apply(this,_t.multipleInstances?Ot:[])}}return"PUBLIC"===_t.type?ne[Ct]:null},removeApp:function(_t){delete ge[_t]},useAsService:function(_t,Dn){return"serverAuth"===Dn?null:Dn},modularAPIs:O}};function Ee(_t){if(!(0,a.r3)(ge,_t=_t||O._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:_t});return ge[_t]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function(){return Object.keys(ge).map(_t=>ge[_t])}}),Ee.App=Te,ne}(ae);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(ne){(0,a.ZB)(Te,ne)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Te}(),B=new le.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(We,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ei,_DEFAULT_ENTRY_NAME:()=>$i,_addComponent:()=>ds,_addOrOverwriteComponent:()=>Ms,_apps:()=>Wt,_clearComponents:()=>mn,_components:()=>jt,_getProvider:()=>sn,_registerComponent:()=>Ci,_removeServiceInstance:()=>xs,deleteApp:()=>Zn,getApp:()=>ke,getApps:()=>bn,initializeApp:()=>Hi,onLog:()=>Ht,registerVersion:()=>je,setLogLevel:()=>gr});var a=F(8239),j=F(3910),O=F(5422),le=F(3854);class ae{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function(st){const nt=st.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(xt)){const Pt=xt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(xt=>xt).join(" ")}}const ce="@firebase/app",Q="0.7.10",z=new O.Yd("@firebase/app"),$i="[DEFAULT]",co={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,jt=new Map;function ds(st,nt){try{st.container.addComponent(nt)}catch(xt){z.debug(`Component ${nt.name} failed to register with FirebaseApp ${st.name}`,xt)}}function Ms(st,nt){st.container.addOrOverwriteComponent(nt)}function Ci(st){const nt=st.name;if(jt.has(nt))return z.debug(`There were multiple attempts to register component ${nt}.`),!1;jt.set(nt,st);for(const xt of Wt.values())ds(xt,st);return!0}function sn(st,nt){return st.container.getProvider(nt)}function xs(st,nt,xt=$i){sn(st,nt).clearInstance(xt)}function mn(){jt.clear()}const Qt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Rs{constructor(nt,xt,Pt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ei="9.6.0";function Hi(st,nt={}){"object"!=typeof nt&&(nt={name:nt});const xt=Object.assign({name:$i,automaticDataCollectionEnabled:!1},nt),Pt=xt.name;if("string"!=typeof Pt||!Pt)throw Qt.create("bad-app-name",{appName:String(Pt)});const zn=Wt.get(Pt);if(zn){if((0,le.vZ)(st,zn.options)&&(0,le.vZ)(xt,zn.config))return zn;throw Qt.create("duplicate-app",{appName:Pt})}const en=new j.H0(Pt);for(const et of jt.values())en.addComponent(et);const Pe=new Rs(st,xt,en);return Wt.set(Pt,Pe),Pe}function ke(st=$i){const nt=Wt.get(st);if(!nt)throw Qt.create("no-app",{appName:st});return nt}function bn(){return Array.from(Wt.values())}function Zn(st){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(st){const nt=st.name;Wt.has(nt)&&(Wt.delete(nt),yield Promise.all(st.container.getProviders().map(xt=>xt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function je(st,nt,xt){var Pt;let zn=null!==(Pt=co[st])&&void 0!==Pt?Pt:st;xt&&(zn+=`-${xt}`);const en=zn.match(/\s|\//),Pe=nt.match(/\s|\//);if(en||Pe){const et=[`Unable to register library "${zn}" with version "${nt}":`];return en&&et.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),en&&Pe&&et.push("and"),Pe&&et.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void z.warn(et.join(" "))}Ci(new j.wA(`${zn}-version`,()=>({library:zn,version:nt}),"VERSION"))}function Ht(st,nt){if(null!==st&&"function"!=typeof st)throw Qt.create("invalid-log-argument");(0,O.Am)(st,nt)}function gr(st){(0,O.Ub)(st)}Ci(new j.wA("platform-logger",nt=>new ae(nt),"PRIVATE")),je(ce,Q,""),je(ce,Q,"esm2017"),je("fire-js","")},3910:(We,we,F)=>{"use strict";F.d(we,{wA:()=>O,H0:()=>Q});var a=F(8239),j=F(3854);class O{constructor(L,B,G){this.name=L,this.instanceFactory=B,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const le="[DEFAULT]";class ae{constructor(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){const G=new j.BH;if(this.instancesDeferred.set(B,G),this.isInitialized(B)||this.shouldAutoInitialize())try{const he=this.getOrInitializeService({instanceIdentifier:B});he&&G.resolve(he)}catch(he){}}return this.instancesDeferred.get(B).promise}getImmediate(L){var B;const G=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),he=null!==(B=null==L?void 0:L.optional)&&void 0!==B&&B;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(he)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Oe){if(he)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(B){}for(const[B,G]of this.instancesDeferred.entries()){const he=this.normalizeInstanceIdentifier(B);try{const Oe=this.getOrInitializeService({instanceIdentifier:he});G.resolve(Oe)}catch(Oe){}}}}clearInstance(L=le){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,a.Z)(function*(){const B=Array.from(L.instances.values());yield Promise.all([...B.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...B.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=le){return this.instances.has(L)}getOptions(L=le){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:B={}}=L,G=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const he=this.getOrInitializeService({instanceIdentifier:G,options:B});for(const[Oe,Ne]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(he);return he}onInit(L,B){var G;const he=this.normalizeInstanceIdentifier(B),Oe=null!==(G=this.onInitCallbacks.get(he))&&void 0!==G?G:new Set;Oe.add(L),this.onInitCallbacks.set(he,Oe);const Ne=this.instances.get(he);return Ne&&L(Ne,he),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,B){const G=this.onInitCallbacks.get(B);if(G)for(const he of G)try{he(L,B)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:B={}}){let G=this.instances.get(L);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(z=L,z===le?void 0:z),options:B}),this.instances.set(L,G),this.instancesOptions.set(L,B),this.invokeOnInitCallbacks(G,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,G)}catch(he){}var z;return G||null}normalizeInstanceIdentifier(L=le){return this.component?this.component.multipleInstances?L:le:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const B=this.getProvider(L.name);if(B.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);B.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const B=new ae(L,this);return this.providers.set(L,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(We,we,F)=>{"use strict";F.d(we,{in:()=>j,Yd:()=>ce,Ub:()=>Q,Am:()=>z});const a=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ee=(L,B,...G)=>{if(B<L.logLevel)return;const he=(new Date).toISOString(),Oe=ae[B];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Oe](`[${he}]  ${L.name}:`,...G)};class ce{constructor(B){this.name=B,this._logLevel=le,this._logHandler=ee,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in j))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...B),this._logHandler(this,j.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...B),this._logHandler(this,j.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,j.INFO,...B),this._logHandler(this,j.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,j.WARN,...B),this._logHandler(this,j.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...B),this._logHandler(this,j.ERROR,...B)}}function Q(L){a.forEach(B=>{B.setLogLevel(L)})}function z(L,B){for(const G of a){let he=null;B&&B.level&&(he=O[B.level]),G.userLogHandler=null===L?null:(Oe,Ne,...Te)=>{const ge=Te.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(se){return null}}).filter(ne=>ne).join(" ");Ne>=(null!=he?he:Oe.logLevel)&&L({level:j[Ne].toLowerCase(),message:ge,args:Te,type:Oe.name})}}}},8239:(We,we,F)=>{"use strict";function a(O,le,ae,ee,ce,Q,z){try{var L=O[Q](z),B=L.value}catch(G){return void ae(G)}L.done?le(B):Promise.resolve(B).then(ee,ce)}function j(O){return function(){var le=this,ae=arguments;return new Promise(function(ee,ce){var Q=O.apply(le,ae);function z(B){a(Q,ee,ce,z,L,"next",B)}function L(B){a(Q,ee,ce,z,L,"throw",B)}z(void 0)})}}F.d(we,{Z:()=>j})}},We=>{We(We.s=1710)}]);