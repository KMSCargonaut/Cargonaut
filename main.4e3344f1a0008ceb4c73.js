(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:We=>{function we(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}we.keys=()=>[],we.resolve=we,we.id=8255,We.exports=we},7716:(We,we,F)=>{"use strict";F.d(we,{deG:()=>pp,tb:()=>KD,AFp:()=>zD,ip1:()=>Aw,CZH:()=>Rd,hGG:()=>DN,z2F:()=>Od,sBO:()=>Ab,Sil:()=>ju,_Vd:()=>gd,EJc:()=>eN,SBq:()=>za,qLn:()=>kh,vpe:()=>sa,gxx:()=>qc,tBr:()=>bu,XFs:()=>je,OlP:()=>On,zs3:()=>En,ZZ4:()=>Ou,aQg:()=>Fg,soG:()=>My,YKP:()=>Ug,v3s:()=>lT,h0i:()=>ia,PXZ:()=>hx,R0b:()=>us,FiY:()=>Ma,Lbi:()=>YD,g9A:()=>WD,Qsj:()=>eS,FYo:()=>_d,JOm:()=>Fa,Tiy:()=>Og,q3G:()=>vn,tp0:()=>Ur,EAV:()=>Pw,Rgc:()=>vd,dDg:()=>nT,DyG:()=>Aa,q4F:()=>Z_,GfV:()=>VE,s_b:()=>Bg,ifc:()=>Pe,eFA:()=>gN,G48:()=>cN,Gpc:()=>B,X6Q:()=>Gf,_c5:()=>Ly,VLi:()=>lN,c2e:()=>JD,zSh:()=>Zc,wAp:()=>ht,vHH:()=>Ne,EiD:()=>qt,mCW:()=>wl,qzn:()=>Oa,JVY:()=>Rm,pB0:()=>yl,eBb:()=>Dp,L6k:()=>Ep,LAX:()=>Jo,cg1:()=>k_,Tjo:()=>Lw,kL8:()=>Q0,yhl:()=>Mm,dqk:()=>Yt,sIi:()=>Qs,CqO:()=>v_,QGY:()=>id,F4k:()=>sd,RDi:()=>op,AaK:()=>Q,z3N:()=>Ko,qOj:()=>Kc,TTD:()=>_r,_Bn:()=>Bl,xp6:()=>Z1,uIk:()=>Kh,Tol:()=>$0,Gre:()=>z0,DjV:()=>Su,ekj:()=>mg,Suo:()=>Nr,Xpm:()=>nr,lG2:()=>Tt,Yz7:()=>sn,cJS:()=>mn,oAB:()=>Ve,Yjl:()=>xn,Y36:()=>lr,_UZ:()=>af,BQk:()=>Je,ynx:()=>y_,qZA:()=>m_,TgZ:()=>ug,EpF:()=>na,n5z:()=>ch,Ikx:()=>J0,SDv:()=>_b,QtT:()=>RE,pQV:()=>Mg,LFG:()=>Cn,$8M:()=>Dc,NdJ:()=>lg,CRH:()=>bw,oxw:()=>V0,ALo:()=>ED,lcZ:()=>DD,Hsn:()=>yi,F$t:()=>lf,Q6J:()=>Ha,s9C:()=>I_,MGl:()=>Ln,VKq:()=>py,WLB:()=>fw,kEZ:()=>gy,iGM:()=>PS,MAs:()=>VC,CHM:()=>su,LSH:()=>Ih,kYT:()=>dt,Udp:()=>gg,YNc:()=>N0,W1O:()=>kD,_uU:()=>Z0,Oqu:()=>S_,hij:()=>Fl,Gf:()=>FS});var u=F(9765),j=F(5319),O=F(7574),le=F(6682),ae=F(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function z(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=ee({__forward_ref__:ee});function B(i){return i.__forward_ref__=B,i.toString=function(){return Q(this())},i}function G(i){return de(i)?i():i}function de(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===B}class Ne extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function ne(i){return"string"==typeof i?i:null==i?"":String(i)}function se(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ne(i)}function Mt(i,s){const a=s?` in ${s}`:"";throw new Ne("201",`No provider for ${se(i)} found${a}`)}function jt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xt(i){return Qt(i,ke)||Qt(i,qn)}function Qt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Hi(i){return i&&(i.hasOwnProperty(bn)||i.hasOwnProperty(Di))?i[bn]:null}const ke=ee({\u0275prov:ee}),bn=ee({\u0275inj:ee}),qn=ee({ngInjectableDef:ee}),Di=ee({ngInjectorDef:ee});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let Ht;function Zn(i){const s=Ht;return Ht=i,s}function st(i,s,a){const l=Xt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&je.Optional?null:void 0!==s?s:void Mt(Q(i),"Injector")}function Rt(i){return{toString:i}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const et="undefined"!=typeof globalThis&&globalThis,ca="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=et||"undefined"!=typeof global&&global||ca||cn,Z={},q=[],W=ee({\u0275cmp:ee}),be=ee({\u0275dir:ee}),ue=ee({\u0275pipe:ee}),qe=ee({\u0275mod:ee}),lt=ee({\u0275loc:ee}),Gt=ee({\u0275fac:ee}),In=ee({__NG_ELEMENT_ID__:ee});let Wn=0;function nr(i){return Rt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pe.Emulated,id:"c",styles:i.styles||q,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,g=i.pipes;return l.id+=Wn++,l.inputs=Vt(i.inputs,a),l.outputs=Vt(i.outputs),f&&f.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(K):null,l.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y):null,l})}function K(i){return hn(i)||function(i){return i[be]||null}(i)}function Y(i){return function(i){return i[ue]||null}(i)}const Ce={};function Ve(i){return Rt(()=>{const s={type:i.type,bootstrap:i.bootstrap||q,declarations:i.declarations||q,imports:i.imports||q,exports:i.exports||q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ce[i.id]=i.type),s})}function dt(i,s){return Rt(()=>{const a=Sn(i,!0);a.declarations=s.declarations||q,a.imports=s.imports||q,a.exports=s.exports||q})}function Vt(i,s){if(null==i)return Z;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,s&&(s[d]=f)}return a}const Tt=nr;function xn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[W]||null}function Sn(i,s){const a=i[qe]||null;if(!a&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return a}function Ls(i){return Array.isArray(i)&&"object"==typeof i[1]}function Lr(i){return Array.isArray(i)&&!0===i[1]}function tc(i){return 0!=(8&i.flags)}function zu(i){return 2==(2&i.flags)}function Vr(i){return 1==(1&i.flags)}function hs(i){return null!==i.template}function Er(i){return 0!=(512&i[2])}function Ii(i,s){return i.hasOwnProperty(Gt)?i[Gt]:null}class Vs{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function _r(){return oc}function oc(i){return i.type.prototype.ngOnChanges&&(i.setInput=pa),Us}function Us(){const i=Jd(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Z)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function pa(i,s,a,l){const d=Jd(i)||function(i,s){return i[Ai]=s}(i,{previous:Z,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[a],w=g[y];f[y]=new Vs(w&&w.currentValue,s,g===Z),i[l]=s}_r.ngInherit=!0;const Ai="__ngSimpleChanges__";function Jd(i){return i[Ai]||null}let fs;function op(i){fs=i}function _o(){return void 0!==fs?fs:"undefined"!=typeof document?document:void 0}function kn(i){return!!i.listen}const Dr={createRenderer:(i,s)=>_o()};function on(i){for(;Array.isArray(i);)i=i[0];return i}function _a(i,s){return on(s[i])}function Si(i,s){return on(s[i.index])}function lc(i,s){return i.data[s]}function qi(i,s){return i[s]}function li(i,s){const a=s[i];return Ls(a)?a:a[0]}function Qu(i){return 4==(4&i[2])}function ru(i){return 128==(128&i[2])}function ps(i,s){return null==s?null:i[s]}function Xu(i){i[18]=0}function Uo(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ct={lFrame:lp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return ct.bindingsEnabled}function Te(){return ct.lFrame.lView}function xt(){return ct.lFrame.tView}function su(i){return ct.lFrame.contextLView=i,i[8]}function wn(){let i=ou();for(;null!==i&&64===i.type;)i=i.parent;return i}function ou(){return ct.lFrame.currentTNode}function Zi(){const i=ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Yr(i,s){const a=ct.lFrame;a.currentTNode=i,a.isParent=s}function au(){return ct.lFrame.isParent}function ya(){ct.lFrame.isParent=!1}function nl(){return ct.isInCheckNoChangesMode}function vo(i){ct.isInCheckNoChangesMode=i}function or(){const i=ct.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Kr(){return ct.lFrame.bindingIndex}function ms(){return ct.lFrame.bindingIndex++}function Tr(i){const s=ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ba(i){ct.lFrame.inI18n=i}function hc(i,s){const a=ct.lFrame;a.bindingIndex=a.bindingRootIndex=i,fc(s)}function fc(i){ct.lFrame.currentDirectiveIndex=i}function pc(){return ct.lFrame.currentQueryIndex}function jo(i){ct.lFrame.currentQueryIndex=i}function rl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function lu(i,s,a){if(a&je.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&je.Host||(d=rl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=ct.lFrame=il();return l.currentTNode=s,l.lView=i,!0}function cu(i){const s=il(),a=i[1];ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function il(){const i=ct.lFrame,s=null===i?null:i.child;return null===s?lp(i):s}function lp(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function th(){const i=ct.lFrame;return ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const sl=th;function $o(){const i=th();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return ct.lFrame.selectedIndex}function bo(i){ct.lFrame.selectedIndex=i}function Yn(){const i=ct.lFrame;return lc(i.tView,i.selectedIndex)}function wa(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:A}=f;g&&(i.contentHooks||(i.contentHooks=[])).push(-a,g),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function Ca(i,s,a){_c(i,s,3,a)}function Ho(i,s,a,l){(3&i[2])===a&&_c(i,s,a,l)}function rr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function _c(i,s,a,l){const f=null!=l?l:-1,g=s.length-1;let y=0;for(let w=void 0!==l?65535&i[18]:0;w<g;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=l&&y>=l)break}else s[w]<0&&(i[18]+=65536),(y<f||-1==f)&&(rh(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function rh(i,s,a,l){const d=a[l]<0,f=a[l+1],y=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ul{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function sh(i,s,a){const l=kn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const g=a[d++],y=a[d++],w=a[d++];l?i.setAttribute(s,y,w,g):s.setAttributeNS(g,y,w)}else{const g=f,y=a[++d];Bs(g)?l&&i.setProperty(s,g,y):l?i.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function hp(i){return 3===i||4===i||6===i}function Bs(i){return 64===i.charCodeAt(0)}function ll(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||fp(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function fp(i,s,a,l,d){let f=0,g=i.length;if(-1===s)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,s),f=g+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function vc(i){return-1!==i}function zi(i){return 32767&i}function js(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let bc=!0;function Da(i){const s=bc;return bc=i,s}let ah=0;function wo(i,s){const a=pn(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,hu(l.data,i),hu(s,null),hu(l.blueprint,null));const d=Ze(i,s),f=i.injectorIndex;if(vc(d)){const g=zi(d),y=js(d,s),w=y[1].data;for(let D=0;D<8;D++)s[f+D]=y[g+D]|w[g+D]}return s[f+8]=d,f}function hu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function pn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ze(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const f=d[1],g=f.type;if(l=2===g?f.declTNode:1===g?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function an(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(In)&&(l=a[In]),null==l&&(l=a[In]=ah++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Rn(i,s,a){if(a&je.Optional)return i;Mt(s,"NodeInjector")}function fu(i,s,a,l){if(a&je.Optional&&void 0===l&&(l=null),0==(a&(je.Self|je.Host))){const d=i[9],f=Zn(void 0);try{return d?d.get(s,l,a&je.Optional):st(s,l,a&je.Optional)}finally{Zn(f)}}return Rn(l,s,a)}function vs(i,s,a,l=je.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(In)?i[In]:void 0;return"number"==typeof s?s>=0?255&s:pu:s}(a);if("function"==typeof f){if(!lu(s,i,l))return l&je.Host?Rn(d,a,l):fu(s,a,l,d);try{const g=f(l);if(null!=g||l&je.Optional)return g;Mt(a)}finally{sl()}}else if("number"==typeof f){let g=null,y=pn(i,s),w=-1,D=l&je.Host?s[16][6]:null;for((-1===y||l&je.SkipSelf)&&(w=-1===y?Ze(i,s):s[y+8],-1!==w&&Ec(l,!1)?(g=s[1],y=zi(w),s=js(w,s)):y=-1);-1!==y;){const A=s[1];if(Co(f,y,A.data)){const k=cl(y,s,a,g,l,D);if(k!==Kn)return k}w=s[y+8],-1!==w&&Ec(l,s[1].data[y+8]===D)&&Co(f,y,s)?(g=A,y=zi(w),s=js(w,s)):y=-1}}}return fu(s,a,l,d)}const Kn={};function pu(){return new Ni(wn(),Te())}function cl(i,s,a,l,d,f){const g=s[1],y=g.data[i+8],A=dl(y,g,a,null==l?zu(y)&&bc:l!=g&&0!=(3&y.type),d&je.Host&&f===y);return null!==A?kt(s,g,A,y):Kn}function dl(i,s,a,l,d){const f=i.providerIndexes,g=s.data,y=1048575&f,w=i.directiveStart,A=f>>20,P=d?y+A:i.directiveEnd;for(let $=l?y:y+A;$<P;$++){const J=g[$];if($<w&&a===J||$>=w&&J.type===a)return $}if(d){const $=g[w];if($&&hs($)&&$.type===a)return w}return null}function kt(i,s,a,l){let d=i[a];const f=s.data;if(function(i){return i instanceof ul}(d)){const g=d;g.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(se(f[a]));const y=Da(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?Zn(g.injectImpl):null;lu(i,l,je.Default);try{d=i[a]=g.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const g=oc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&Zn(w),Da(y),g.resolving=!1,sl()}}return d}function Co(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ec(i,s){return!(i&je.Self||i&je.Host&&s)}class Ni{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return vs(this._tNode,this._lView,s,l,a)}}function ch(i){return Rt(()=>{const s=i.prototype.constructor,a=s[Gt]||gu(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Gt]||gu(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function gu(i){return de(i)?()=>{const s=gu(G(i));return s&&s()}:Ii(i)}function Dc(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(hp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(wn(),i)}const Mi="__parameters__";function Eo(i,s,a){return Rt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(w,D,A){const k=w.hasOwnProperty(Mi)?w[Mi]:Object.defineProperty(w,Mi,{value:[]})[Mi];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(g),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class On{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pp=new On("AnalyzeForEntryComponents"),Aa=Function;function Ki(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Ki(l,s)):s!==i&&s.push(l)}return s}function bs(i,s){i.forEach(a=>Array.isArray(a)?bs(a,s):s(a))}function _u(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ri(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Hs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function Jn(i,s,a){let l=To(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Qn(i,s){const a=To(i,s);if(a>=0)return i[1|a]}function To(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),g=i[f<<a];if(s===g)return f<<a;g>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const Ut={},nn="__NG_DI_FLAG__",sr="ngTempTokenPath",ar=/\n/gm,yu="__source",qs=ee({provide:String,useValue:ee});let fi;function mt(i){const s=fi;return fi=i,s}function hv(i,s=je.Default){if(void 0===fi)throw new Error("inject() must be called from an injection context");return null===fi?st(i,void 0,s):fi.get(i,s&je.Optional?null:void 0,s)}function Cn(i,s=je.Default){return(Ht||hv)(G(i),s)}function zo(i){const s=[];for(let a=0;a<i.length;a++){const l=G(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=je.Default;for(let g=0;g<l.length;g++){const y=l[g],w=yp(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(Cn(d,f))}else s.push(Cn(l))}return s}function vu(i,s){return i[nn]=s,i.prototype[nn]=s,i}function yp(i){return i[nn]}function Zs(i,s,a,l){const d=i[sr];throw s[yu]&&d.unshift(s[yu]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(ar,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[sr]=null,i}const bu=vu(Eo("Inject",i=>({token:i})),-1),Ma=vu(Eo("Optional"),8),Ur=vu(Eo("SkipSelf"),4);let wu;function Yo(i){var s;return(null===(s=function(){if(void 0===wu&&(wu=null,Yt.trustedTypes))try{wu=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wu}())||void 0===s?void 0:s.createHTML(i))||i}class Cu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mv extends Cu{getTypeName(){return"HTML"}}class _v extends Cu{getTypeName(){return"Style"}}class Ch extends Cu{getTypeName(){return"Script"}}class yv extends Cu{getTypeName(){return"URL"}}class vv extends Cu{getTypeName(){return"ResourceURL"}}function Ko(i){return i instanceof Cu?i.changingThisBreaksApplicationSecurity:i}function Oa(i,s){const a=Mm(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Mm(i){return i instanceof Cu&&i.getTypeName()||null}function Rm(i){return new mv(i)}function Ep(i){return new _v(i)}function Dp(i){return new Ch(i)}function Jo(i){return new yv(i)}function yl(i){return new vv(i)}function Tp(i){const s=new bv(i);return function(){try{return!!(new window.DOMParser).parseFromString(Yo(""),"text/html")}catch(i){return!1}}()?new xm(s):s}class xm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Yo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class bv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Yo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Yo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const g=a.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Eh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wl(i){return(i=String(i)).match(Eh)||i.match(bl)?i:"unsafe:"+i}function kc(i){return(i=String(i)).split(",").map(s=>wl(s.trim())).join(", ")}function zs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Qo(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Dh=zs("area,br,col,hr,img,wbr"),Ip=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cl=zs("rp,rt"),Ap=Qo(Dh,Qo(Ip,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qo(Cl,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qo(Cl,Ip)),v=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=zs("srcset"),S=Qo(v,p,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),x=zs("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ap.hasOwnProperty(a))return this.sanitizedSomething=!0,!x.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),g=f.name,y=g.toLowerCase();if(!S.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=wl(w)),p[y]&&(w=kc(w)),this.buf.push(" ",g,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ap.hasOwnProperty(a)&&!Dh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Fe(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$e=/([^\#-~ |!])/g;function Fe(i){return i.replace(/&/g,"&amp;").replace(ye,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($e,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ot;function qt(i,s){let a=null;try{ot=ot||Tp(i);let l=s?String(s):"";a=ot.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=ot.getInertBodyElement(l)}while(l!==f);return Yo((new X).sanitizeChildren(yn(a)||a))}finally{if(a){const l=yn(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function yn(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var vn=(()=>((vn=vn||{})[vn.NONE=0]="NONE",vn[vn.HTML=1]="HTML",vn[vn.STYLE=2]="STYLE",vn[vn.SCRIPT=3]="SCRIPT",vn[vn.URL=4]="URL",vn[vn.RESOURCE_URL=5]="RESOURCE_URL",vn))();function Ih(i){const s=function(){const i=Te();return i&&i[12]}();return s?s.sanitize(vn.URL,i)||"":Oa(i,"URL")?Ko(i):wl(ne(i))}const Mh="__ngContext__";function pi(i,s){i[Mh]=s}function Ev(i){const s=function(i){return i[Mh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Fc(i){return i.ngOriginalError}function II(i,...s){i.error(...s)}class kh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||II;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Fc(s)):null}_findOriginalError(s){let a=s&&Fc(s);for(;a&&Fc(a);)a=Fc(a);return a||null}}const NI=/^>|^->|<!--|-->|--!>|<!-$/g,Sv=/(<|>)/;const S1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Pa(i){return i instanceof Function?i():i}var Fa=(()=>((Fa=Fa||{})[Fa.Important=1]="Important",Fa[Fa.DashCase=2]="DashCase",Fa))();let Nv;function Bm(i,s){return Nv(i,s)}function xp(i){const s=i[3];return Lr(s)?s[3]:s}function jm(i){return Mv(i[13])}function k1(i){return Mv(i[4])}function Mv(i){for(;null!==i&&!Lr(i);)i=i[4];return i}function Lc(i,s,a,l,d){if(null!=l){let f,g=!1;Lr(l)?f=l:Ls(l)&&(g=!0,l=l[0]);const y=on(l);0===i&&null!==a?null==d?V1(s,a,y):Tl(s,a,y,d||null,!0):1===i&&null!==a?Tl(s,a,y,d||null,!0):2===i?Fv(s,y,g):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,l,d){const f=a[7];f!==on(a)&&Lc(s,i,l,f,d);for(let y=10;y<a.length;y++){const w=a[y];Uc(w[1],w,i,s,l,f)}}(s,i,f,a,d)}}function $m(i,s){return kn(i)?i.createText(s):i.createTextNode(s)}function O1(i,s,a){kn(i)?i.setValue(s,a):s.textContent=a}function FI(i,s){return i.createComment(function(i){return i.replace(NI,s=>s.replace(Sv,"\u200b$1\u200b"))}(s))}function Rv(i,s,a){return kn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Hm(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Uo(d,-1)),a.splice(l,1)}function Gm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&Hm(d,l),s>0&&(i[a-1][4]=l[4]);const f=Ri(i,10+s);!function(i,s){Uc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const g=f[19];null!==g&&g.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function P1(i,s){if(!(256&s[2])){const a=s[11];kn(a)&&a.destroyNode&&Uc(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Dl(i[1],i);for(;s;){let a=null;if(Ls(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Ls(s)&&Dl(s[1],s),s=s[3];null===s&&(s=i),Ls(s)&&Dl(s[1],s),a=s&&s[4]}s=a}}(s)}}function Dl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ul)){const f=a[l+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],w=f[g+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+1],y="function"==typeof g?g(s):on(s[g]),w=l[d=a[f+2]],D=a[f+3];"boolean"==typeof D?y.removeEventListener(a[f],w,D):D>=0?l[d=D]():l[d=-D].unsubscribe(),f+=2}else{const g=l[d=a[f+1]];a[f].call(g)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&kn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Lr(s[3])){a!==s[3]&&Hm(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function F1(i,s,a){return L1(i,s.parent,a)}function L1(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Si(l,a)}function Tl(i,s,a,l,d){kn(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function V1(i,s,a){kn(i)?i.appendChild(s,a):s.appendChild(a)}function U1(i,s,a,l,d){null!==l?Tl(i,s,a,l,d):V1(i,s,a)}function qm(i,s){return kn(i)?i.parentNode(s):s.parentNode}function zm(i,s,a){return Vc(i,s,a)}function Wm(i,s,a){return 40&i.type?Si(i,a):null}let kv,Vc=Wm;function B1(i,s){Vc=i,kv=s}function Ph(i,s,a,l){const d=F1(i,l,s),f=s[11],y=zm(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)U1(f,d,a[w],y,!1);else U1(f,d,a,y,!1);void 0!==kv&&kv(f,l,s,a,d)}function Ym(i,s){if(null!==s){const a=s.type;if(3&a)return Si(s,i);if(4&a)return Pv(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Ym(i,l);{const d=i[s.index];return Lr(d)?Pv(-1,d):on(d)}}if(32&a)return Bm(s,i)()||on(i[s.index]);{const l=Ov(i,s);return null!==l?Array.isArray(l)?l[0]:Ym(xp(i[16]),l):Ym(i,s.next)}}return null}function Ov(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Pv(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Ym(l,d)}return s[7]}function Fv(i,s,a){const l=qm(i,s);l&&function(i,s,a,l){kn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function Km(i,s,a,l,d,f,g){for(;null!=a;){const y=l[a.index],w=a.type;if(g&&0===s&&(y&&pi(on(y),l),a.flags|=4),64!=(64&a.flags))if(8&w)Km(i,s,a.child,l,d,f,!1),Lc(s,i,d,y,f);else if(32&w){const D=Bm(a,l);let A;for(;A=D();)Lc(s,i,d,A,f);Lc(s,i,d,y,f)}else 16&w?Il(i,s,l,a,d,f):Lc(s,i,d,y,f);a=g?a.projectionNext:a.next}}function Uc(i,s,a,l,d,f){Km(a,l,i.firstChild,s,d,f,!1)}function Il(i,s,a,l,d,f){const g=a[16],w=g[6].projection[l.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)Lc(s,i,d,w[D],f);else Km(i,s,w,g[3],d,f,!0)}function $1(i,s,a){kn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Lv(i,s,a){kn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Vv(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}const H1="ng-template";function qI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Vv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Uv(i){return 4===i.type&&i.value!==H1}function ZI(i,s,a){return s===(4!==i.type||a?i.value:H1)}function zI(i,s,a){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(hp(i[s]))return s;return i.length}(d);let g=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!g)if(4&l){if(l=2|1&l,""!==w&&!ZI(i,w,a)||""===w&&1===s.length){if(Xo(l))return!1;g=!0}}else{const D=8&l?w:s[++y];if(8&l&&null!==i.attrs){if(!qI(i.attrs,D,a)){if(Xo(l))return!1;g=!0}continue}const k=Bv(8&l?"class":w,d,Uv(i),a);if(-1===k){if(Xo(l))return!1;g=!0;continue}if(""!==D){let P;P=k>f?"":d[k+1].toLowerCase();const $=8&l?P:null;if($&&-1!==Vv($,D,0)||2&l&&D!==P){if(Xo(l))return!1;g=!0}}}}else{if(!g&&!Xo(l)&&!Xo(w))return!1;if(g&&Xo(w))continue;g=!1,l=w|1&l}}return Xo(l)||g}function Xo(i){return 0==(1&i)}function Bv(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function G1(i,s,a=!1){for(let l=0;l<s.length;l++)if(zI(i,s[l],a))return!0;return!1}function dR(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function fe(i,s){return i?":not("+s.trim()+")":s}function Jm(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&l){const y=i[++a];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+g:4&l&&(d+=" "+g);else""!==d&&!Xo(g)&&(s+=fe(f,d),d=""),l=g,f=f||!Xo(l);a++}return""!==d&&(s+=fe(f,d)),s}const bt={};function Z1(i){z1(xt(),Te(),Ir()+i,nl())}function z1(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ca(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ho(s,f,0,a)}bo(a)}function Bc(i,s){return i<<17|s<<2}function ea(i){return i>>17&32767}function Y1(i){return 2|i}function La(i){return(131068&i)>>2}function Ys(i,s){return-131069&i|s<<2}function Va(i){return 1|i}function qv(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const g=i.data[f];jo(d),g.contentQueries(2,s[f],f)}}}function Sl(i,s,a,l,d,f,g,y,w,D){const A=s.blueprint.slice();return A[0]=d,A[2]=140|l,Xu(A),A[3]=A[15]=i,A[8]=a,A[10]=g||i&&i[10],A[11]=y||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=D||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function Nl(i,s,a,l,d){let f=i.data[s];if(null===f)f=Fp(i,s,a,l,d),ct.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const g=Zi();f.injectorIndex=null===g?-1:g.injectorIndex}return Yr(f,!0),f}function Fp(i,s,a,l,d){const f=ou(),g=au(),w=i.data[s]=function(i,s,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function Ml(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function Lp(i,s,a){cu(s);try{const l=i.viewQuery;null!==l&&Eu(1,l,a);const d=i.template;null!==d&&zv(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&qv(i,s),i.staticViewQueries&&Eu(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)Gp(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,$o()}}function Vh(i,s,a,l){const d=s[2];if(256==(256&d))return;cu(s);const f=nl();try{Xu(s),function(i){ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&zv(i,s,a,2,l);const g=3==(3&d);if(!f)if(g){const D=i.preOrderCheckHooks;null!==D&&Ca(s,D,null)}else{const D=i.preOrderHooks;null!==D&&Ho(s,D,0,null),rr(s,0)}if(function(i){for(let s=jm(i);null!==s;s=k1(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(1024&d[2])&&Uo(f,1),d[2]|=1024}}}(s),function(i){for(let s=jm(i);null!==s;s=k1(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];ru(l)&&Vh(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&qv(i,s),!f)if(g){const D=i.contentCheckHooks;null!==D&&Ca(s,D)}else{const D=i.contentHooks;null!==D&&Ho(s,D,1),rr(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)bo(~d);else{const f=d,g=a[++l],y=a[++l];hc(g,f),y(2,s[f])}}}finally{bo(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)pC(i,s[a])}(s,y);const w=i.viewQuery;if(null!==w&&Eu(2,w,l),!f)if(g){const D=i.viewCheckHooks;null!==D&&Ca(s,D)}else{const D=i.viewHooks;null!==D&&Ho(s,D,2),rr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Uo(s[3],-1))}finally{$o()}}function Zv(i,s,a,l){const d=s[10],f=!nl(),g=Qu(s);try{f&&!g&&d.begin&&d.begin(),g&&Lp(i,s,l),Vh(i,s,a,l)}finally{f&&!g&&d.end&&d.end()}}function zv(i,s,a,l,d){const f=Ir(),g=2&l;try{bo(-1),g&&s.length>20&&z1(i,s,20,nl()),a(l,d)}finally{bo(f)}}function oC(i,s,a){if(tc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const g=i.data[f];g.contentQueries&&g.contentQueries(1,a[f],f)}}}function Wv(i,s,a){!iu()||(function(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||wo(a,s),pi(l,s);const g=a.initialInputs;for(let y=d;y<f;y++){const w=i.data[y],D=hs(w);D&&e0(s,a,w);const A=kt(s,i,y,a);pi(A,s),null!==g&&n0(0,y-d,A,w,0,g),D&&(li(a.index,s)[8]=A)}}(i,s,a,Si(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,g=a.index,y=ct.lFrame.currentDirectiveIndex;try{bo(g);for(let w=l;w<d;w++){const D=i.data[w],A=s[w];fc(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$p(D,A)}}finally{bo(-1),fc(y)}}(i,s,a))}function Xr(i,s,a=Si){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const g=l[f+1],y=-1===g?a(s,i):i[g];i[d++]=y}}}function Uh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=n_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function n_(i,s,a,l,d,f,g,y,w,D){const A=20+l,k=A+d,P=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:bt);return a}(A,k),$="function"==typeof D?D():D;return P[1]={type:i,blueprint:P,template:a,queries:null,viewQuery:y,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:$,incompleteFirstPass:!1}}function Bp(i,s,a,l){const d=l0(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Bh(i).push(l,d.length-1))}function r_(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Cs(i,s,a,l,d,f,g,y){const w=Si(s,a);let A,D=s.inputs;!y&&null!=D&&(A=D[l])?(d0(i,a,A,l,d),zu(s)&&function(i,s){const a=li(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=g?g(d,s.value||"",l):d,kn(f)?f.setProperty(w,l,d):Bs(l)||(w.setProperty?w.setProperty(l,d):w[l]=d))}function jp(i,s,a,l){let d=!1;if(iu()){const f=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const g=l[f];G1(a,g.selectors,!1)&&(d||(d=[]),an(wo(a,s),i,g.type),hs(g)?(lC(i,a),d.unshift(g)):d.push(g))}return d}(i,s,a),g=null===l?null:{"":-1};if(null!==f){d=!0,dC(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const k=f[A];k.providersResolver&&k.providersResolver(k)}let y=!1,w=!1,D=Ml(i,s,f.length,null);for(let A=0;A<f.length;A++){const k=f[A];a.mergedAttrs=ll(a.mergedAttrs,k.hostAttrs),hC(i,a,s,D,k),cC(D,k,g),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const P=k.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),D++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,g=[];let y=null,w=null;for(let D=s.directiveStart;D<l;D++){const A=d[D],k=A.inputs,P=null===f||Uv(s)?null:fC(k,f);g.push(P),y=r_(k,D,y),w=r_(A.outputs,D,w)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=w}(i,a)}g&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(a,l,g)}return a.mergedAttrs=ll(a.mergedAttrs,a.attrs),d}function s_(i,s,a,l,d,f){const g=f.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(l,d,g)}}function $p(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function lC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function cC(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;hs(s)&&(a[""]=i)}}function dC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function hC(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=Ii(d.type)),g=new ul(f,hs(d),null);i.blueprint[l]=g,a[l]=g,s_(i,s,0,l,Ml(i,a,d.hostVars,bt),d)}function e0(i,s,a){const l=Si(s,i),d=Uh(a),f=i[10],g=qp(i,Sl(i,d,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=g}function t0(i,s,a,l,d,f,g){if(null==f)kn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==g?ne(f):g(f,l||"",d);kn(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}function n0(i,s,a,l,d,f){const g=f[s];if(null!==g){const y=l.setInput;for(let w=0;w<g.length;){const D=g[w++],A=g[w++],k=g[w++];null!==y?l.setInput(a,k,D,A):a[A]=k}}}function fC(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Hp(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function pC(i,s){const a=li(s,i);if(ru(a)){const l=a[1];80&a[2]?Vh(l,a,l.template,a[8]):a[5]>0&&o0(a)}}function o0(i){for(let l=jm(i);null!==l;l=k1(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const g=f[1];Vh(g,f,g.template,f[8])}else f[5]>0&&o0(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=li(a[l],i);ru(d)&&d[5]>0&&o0(d)}}function Gp(i,s){const a=li(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Lp(l,a,a[8])}function qp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function o_(i){for(;i;){i[2]|=64;const s=xp(i);if(Er(i)&&!s)return i;i=s}return null}function u0(i,s,a){const l=s[10];l.begin&&l.begin();try{Vh(i,s,i.template,a)}catch(d){throw xi(s,d),d}finally{l.end&&l.end()}}function Hc(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Ev(a),d=l[1];Zv(d,l,d.template,a)}}(i[8])}function Eu(i,s,a){jo(0),s(i,a)}const u_=(()=>Promise.resolve(null))();function l0(i){return i[7]||(i[7]=[])}function Bh(i){return i.cleanup||(i.cleanup=[])}function xi(i,s){const a=i[9],l=a?a.get(kh,null):null;l&&l.handleError(s)}function d0(i,s,a,l,d){for(let f=0;f<a.length;){const g=a[f++],y=a[f++],w=s[g],D=i.data[g];null!==D.setInput?D.setInput(w,d,l,y):w[y]=d}}function Gc(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?f=y:1==f?d=z(d,y):2==f&&(l=z(l,y+": "+s[++g]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const qc=new On("INJECTOR",-1);class jh{get(s,a=Ut){if(a===Ut){const l=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw l.name="NullInjectorError",l}return a}}const Zc=new On("Set Injector scope."),zc={},f0={};let $h;function Hh(){return void 0===$h&&($h=new jh),$h}function yC(i,s=null,a=null,l){return new p0(i,a,s||Hh(),l)}class p0{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&bs(a,y=>this.processProvider(y,s,a)),bs([s],y=>this.processInjectorType(y,[],f)),this.records.set(qc,Wc(void 0,this));const g=this.records.get(Zc);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Ut,l=je.Default){this.assertNotDestroyed();const d=mt(this),f=Zn(void 0);try{if(!(l&je.SkipSelf)){let y=this.records.get(s);if(void 0===y){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof On)&&Xt(s);y=w&&this.injectableDefInScope(w)?Wc(Gh(s),zc):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&je.Self?Hh():this.parent).get(s,a=l&je.Optional&&a===Ut?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[sr]=g[sr]||[]).unshift(Q(s)),d)throw g;return Zs(g,s,"R3InjectorError",this.source)}throw g}finally{Zn(f),mt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=G(s)))return!1;let d=Hi(s);const f=null==d&&s.ngModule||void 0,g=void 0===f?s:f,y=-1!==l.indexOf(g);if(void 0!==f&&(d=Hi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;l.push(g);try{bs(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:P,providers:$}=A[k];bs($,J=>this.processProvider(J,P,$||q))}}this.injectorDefTypes.add(g);const w=Ii(g)||(()=>new g);this.records.set(g,Wc(w,zc));const D=d.providers;if(null!=D&&!y){const A=s;bs(D,k=>this.processProvider(k,A,D))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let d=Du(s=G(s))?s:G(s&&s.provide);const f=bC(i=s)?Wc(void 0,i.useValue):Wc(m0(i),zc);var i;if(Du(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Wc(void 0,zc,!0),g.factory=()=>zo(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===zc&&(a.value=f0,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=G(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Gh(i){const s=Xt(i),a=null!==s?s.factory:Ii(i);if(null!==a)return a;if(i instanceof On)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Hs(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[ke]||i[qn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function m0(i,s,a){let l;if(Du(i)){const d=G(i);return Ii(d)||Gh(d)}if(bC(i))l=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...zo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>Cn(G(i.useExisting));else{const d=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ii(d)||Gh(d);l=()=>new d(...zo(i.deps))}return l}function Wc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function bC(i){return null!==i&&"object"==typeof i&&qs in i}function Du(i){return"function"==typeof i}const l_=function(i,s,a){return function(i,s=null,a=null,l){const d=yC(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let En=(()=>{class i{static create(a,l){return Array.isArray(a)?l_(a,l,""):l_(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Ut,i.NULL=new jh,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>Cn(qc)}),i.__NG_ELEMENT_ID__=-1,i})();function C0(i,s){wa(Ev(i)[1],wn())}function Kc(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(hs(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const g=i;g.inputs=ur(i.inputs),g.declaredInputs=ur(i.declaredInputs),g.outputs=ur(i.outputs);const y=d.hostBindings;y&&bA(i,y);const w=d.viewQuery,D=d.contentQueries;if(w&&OC(i,w),D&&vA(i,D),ce(i.inputs,d.inputs),ce(i.declaredInputs,d.declaredInputs),ce(i.outputs,d.outputs),hs(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===Kc&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=ll(d.hostAttrs,a=ll(a,d.hostAttrs))}}(l)}function ur(i){return i===Z?{}:i===q?[]:i}function OC(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function vA(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function bA(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let ng=null;function Jc(){if(!ng){const i=Yt.Symbol;if(i&&i.iterator)ng=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ng=l)}}}return ng}class So{constructor(s){this.wrapped=s}static wrap(s){return new So(s)}static unwrap(s){return So.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof So}}function Qs(i){return!!ig(i)&&(Array.isArray(i)||!(i instanceof Map)&&Jc()in i)}function ig(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Es(i,s,a){return i[s]=a}function ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ja(i,s,a,l){const d=ti(i,s,a);return ti(i,s+1,l)||d}function Kh(i,s,a,l){const d=Te();return ti(d,ms(),s)&&(xt(),function(i,s,a,l,d,f){const g=Si(i,s);t0(s[11],g,f,i.value,a,l,d)}(Yn(),d,i,s,a,l)),Kh}function Qc(i,s,a,l){return ti(i,ms(),a)?s+ne(a)+l:bt}function ed(i,s,a,l,d,f,g,y,w,D){const k=function(i,s,a,l,d,f){const g=ja(i,s,a,l);return ja(i,s+2,d,f)||g}(i,Kr(),a,d,g,w);return Tr(4),k?s+ne(a)+l+ne(d)+f+ne(g)+y+ne(w)+D:bt}function N0(i,s,a,l,d,f,g,y){const w=Te(),D=xt(),A=i+20,k=D.firstCreatePass?function(i,s,a,l,d,f,g,y,w){const D=s.consts,A=Nl(s,i,4,g||null,ps(D,y));jp(s,a,A,ps(D,w)),wa(s,A);const k=A.tViews=n_(2,A,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,A),k.queries=s.queries.embeddedTView(A)),A}(A,D,w,s,a,l,d,f,g):D.data[A];Yr(k,!1);const P=w[11].createComment("");Ph(D,w,P,k),pi(P,w),qp(w,w[A]=Hp(P,w,P,k)),Vr(k)&&Wv(D,w,k),null!=g&&Xr(w,k,y)}function VC(i){return qi(ct.lFrame.contextLView,20+i)}function lr(i,s=je.Default){const a=Te();return null===a?Cn(i,s):vs(wn(),a,G(i),s)}function Ha(i,s,a){const l=Te();return ti(l,ms(),s)&&Cs(xt(),Yn(),l,i,s,l[11],a,!1),Ha}function cr(i,s,a,l,d){const g=d?"class":"style";d0(i,a,s.inputs[g],g,l)}function ug(i,s,a,l){const d=Te(),f=xt(),g=20+i,y=d[11],w=d[g]=Rv(y,s,ct.lFrame.currentNamespace),D=f.firstCreatePass?function(i,s,a,l,d,f,g){const y=s.consts,D=Nl(s,i,2,d,ps(y,f));return jp(s,a,D,ps(y,g)),null!==D.attrs&&Gc(D,D.attrs,!1),null!==D.mergedAttrs&&Gc(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(g,f,d,0,s,a,l):f.data[g];Yr(D,!0);const A=D.mergedAttrs;null!==A&&sh(y,w,A);const k=D.classes;null!==k&&Lv(y,w,k);const P=D.styles;null!==P&&$1(y,w,P),64!=(64&D.flags)&&Ph(f,d,w,D),0===ct.lFrame.elementDepthCount&&pi(w,d),ct.lFrame.elementDepthCount++,Vr(D)&&(Wv(f,d,D),oC(f,D,d)),null!==l&&Xr(d,D)}function m_(){let i=wn();au()?ya():(i=i.parent,Yr(i,!1));const s=i;ct.lFrame.elementDepthCount--;const a=xt();a.firstCreatePass&&(wa(a,i),tc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&cr(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&cr(a,s,Te(),s.stylesWithoutHost,!1)}function af(i,s,a,l){ug(i,s,a,l),m_()}function y_(i,s,a){const l=Te(),d=xt(),f=i+20,g=d.firstCreatePass?function(i,s,a,l,d){const f=s.consts,g=ps(f,l),y=Nl(s,i,8,"ng-container",g);return null!==g&&Gc(y,g,!0),jp(s,a,y,ps(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,l,s,a):d.data[f];Yr(g,!0);const y=l[f]=l[11].createComment("");Ph(d,l,y,g),pi(y,l),Vr(g)&&(Wv(d,l,g),oC(d,g,l)),null!=a&&Xr(l,g)}function Je(){let i=wn();const s=xt();au()?ya():(i=i.parent,Yr(i,!1)),s.firstCreatePass&&(wa(s,i),tc(i)&&s.queries.elementEnd(i))}function na(){return Te()}function id(i){return!!i&&"function"==typeof i.then}function sd(i){return!!i&&"function"==typeof i.subscribe}const v_=sd;function lg(i,s,a,l){const d=Te(),f=xt(),g=wn();return function(i,s,a,l,d,f,g,y){const w=Vr(l),A=i.firstCreatePass&&Bh(i),k=s[8],P=l0(s);let $=!0;if(3&l.type||y){const oe=Si(l,s),Me=y?y(oe):oe,_e=P.length,tt=y?Ye=>y(on(Ye[l.index])):l.index;if(kn(a)){let Ye=null;if(!y&&w&&(Ye=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===l){const y=s[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof g&&(f+=2)}return null}(i,s,d,l.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=f,Ye.__ngLastListenerFn__=f,$=!1;else{f=D_(l,s,k,f,!1);const St=a.listen(Me,d,f);P.push(f,St),A&&A.push(d,tt,_e,_e+1)}}else f=D_(l,s,k,f,!0),Me.addEventListener(d,f,g),P.push(f),A&&A.push(d,tt,_e,g)}else f=D_(l,s,k,f,!1);const J=l.outputs;let pe;if($&&null!==J&&(pe=J[d])){const oe=pe.length;if(oe)for(let Me=0;Me<oe;Me+=2){const Zr=s[pe[Me]][pe[Me+1]].subscribe(f),ua=P.length;P.push(f,Zr),A&&A.push(d,l.index,ua,-(ua+1))}}}(f,d,d[11],g,i,s,!!a,l),lg}function E_(i,s,a,l){try{return!1!==a(l)}catch(d){return xi(i,d),!1}}function D_(i,s,a,l,d){return function f(g){if(g===Function)return l;const y=2&i.flags?li(i.index,s):s;0==(32&s[2])&&o_(y);let w=E_(s,0,l,g),D=f.__ngNextListenerFn__;for(;D;)w=E_(s,0,D,g)&&w,D=D.__ngNextListenerFn__;return d&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function V0(i=1){return function(i){return(ct.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ct.lFrame.contextLView))[8]}(i)}function T_(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?G1(i,f,!0):dR(l,f))return d}else a=d}return a}function lf(i){const s=Te()[16][6];if(!s.projection){const l=s.projection=Hs(i?i.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){const g=i?T_(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:l[g]=f,d[g]=f),f=f.next}}}function yi(i,s=0,a){const l=Te(),d=xt(),f=Nl(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),ya(),64!=(64&f.flags)&&function(i,s,a){Il(s[11],0,s,a,F1(i,a,s),zm(a.parent||s[6],a,s))}(d,l,f)}function I_(i,s,a){return Ln(i,"",s,"",a),I_}function Ln(i,s,a,l,d){const f=Te(),g=Qc(f,s,a,l);return g!==bt&&Cs(xt(),Yn(),f,i,g,f[11],d,!1),Ln}function B0(i,s,a,l,d){const f=i[a+1],g=null===s;let y=l?ea(f):La(f),w=!1;for(;0!==y&&(!1===w||g);){const A=i[y+1];PA(i[y],s)&&(w=!0,i[y+1]=l?Va(A):Y1(A)),y=l?ea(A):La(A)}w&&(i[a+1]=l?Y1(f):Va(f))}function PA(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&To(i,s)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WC(i){return i.substring(Gr.key,Gr.keyEnd)}function fg(i,s){const a=Gr.textEnd;return a===s?-1:(s=Gr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Gr.key=s,a),od(i,s,a))}function od(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function gg(i,s,a){return Mo(i,s,a,!1),gg}function mg(i,s){return Mo(i,s,null,!0),mg}function $0(i){Xs(Jn,Is,i,!0)}function Is(i,s){for(let a=function(i){return function(i){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=i.length}(i),fg(i,od(i,0,Gr.textEnd))}(s);a>=0;a=fg(s,a))Jn(i,WC(s),!0)}function Mo(i,s,a,l){const d=Te(),f=xt(),g=Tr(2);f.firstUpdatePass&&H0(f,i,g,l),s!==bt&&ti(d,g,s)&&Pl(f,f.data[Ir()],d,d[11],i,d[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Ko(i)))),i}(s,a),l,g)}function Xs(i,s,a,l){const d=xt(),f=Tr(2);d.firstUpdatePass&&H0(d,null,f,l);const g=Te();if(a!==bt&&ti(g,f,a)){const y=d.data[Ir()];if(ud(y,l)&&!hf(d,f)){let w=l?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(a=z(w,a||"")),cr(d,y,g,a,l)}else!function(i,s,a,l,d,f,g,y){d===bt&&(d=q);let w=0,D=0,A=0<d.length?d[0]:null,k=0<f.length?f[0]:null;for(;null!==A||null!==k;){const P=w<d.length?d[w+1]:void 0,$=D<f.length?f[D+1]:void 0;let pe,J=null;A===k?(w+=2,D+=2,P!==$&&(J=k,pe=$)):null===k||null!==A&&A<k?(w+=2,J=A):(D+=2,J=k,pe=$),null!==J&&Pl(i,s,a,l,J,pe,g,y),A=w<d.length?d[w]:null,k=D<f.length?f[D]:null}}(d,y,g,g[11],g[f+1],g[f+1]=function(i,s,a){if(null==a||""===a)return q;const l=[],d=Ko(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,f)}}function hf(i,s){return s>=i.expandoStartIndex}function H0(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[Ir()],g=hf(i,a);ud(f,l)&&null===s&&!g&&(s=!1),s=function(i,s,a,l){const d=function(i){const s=ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=_g(a=ff(null,i,s,a,l),s.attrs,l),f=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(a=ff(d,i,s,a,l),null===f){let w=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==La(l))return i[ea(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=ff(null,i,s,w[1],l),w=_g(w,s.attrs,l),function(i,s,a,l){i[ea(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else f=function(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=_g(l,i[f].hostAttrs,a);return _g(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function(i,s,a,l,d,f){let g=f?s.classBindings:s.styleBindings,y=ea(g),w=La(g);i[l]=a;let A,D=!1;if(Array.isArray(a)){const k=a;A=k[1],(null===A||To(k,A)>0)&&(D=!0)}else A=a;if(d)if(0!==w){const P=ea(i[y+1]);i[l+1]=Bc(P,y),0!==P&&(i[P+1]=Ys(i[P+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=Bc(y,0),0!==y&&(i[y+1]=Ys(i[y+1],l)),y=l;else i[l+1]=Bc(w,0),0===y?y=l:i[w+1]=Ys(i[w+1],l),w=l;D&&(i[l+1]=Y1(i[l+1])),B0(i,A,l,!0),B0(i,A,l,!1),function(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&To(f,s)>=0&&(a[l+1]=Va(a[l+1]))}(s,A,i,l,f),g=Bc(y,w),f?s.classBindings=g:s.styleBindings=g}(d,f,s,a,g,l)}}function ff(i,s,a,l,d){let f=null;const g=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<g&&(f=s[y],l=_g(l,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),l}function _g(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const g=s[f];"number"==typeof g?d=g:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Jn(i,g,!!a||s[++f]))}return void 0===i?null:i}function Pl(i,s,a,l,d,f,g,y){if(!(3&s.type))return;const w=i.data,D=w[y+1];Ga(function(i){return 1==(1&i)}(D)?q0(w,s,a,d,La(D),g):void 0)||(Ga(f)||function(i){return 2==(2&i)}(D)&&(f=q0(w,null,a,d,y,g)),function(i,s,a,l,d){const f=kn(i);if(s)d?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let g=-1===l.indexOf("-")?void 0:Fa.DashCase;if(null==d)f?i.removeStyle(a,l,g):a.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=Fa.Important),f?i.setStyle(a,l,d,g):a.style.setProperty(l,d,y?"important":"")}}}(l,g,_a(Ir(),a),d,f))}function q0(i,s,a,l,d,f){const g=null===s;let y;for(;d>0;){const w=i[d],D=Array.isArray(w),A=D?w[1]:w,k=null===A;let P=a[d+1];P===bt&&(P=k?q:void 0);let $=k?Qn(P,l):A===l?P:void 0;if(D&&!Ga($)&&($=Qn(w,l)),Ga($)&&(y=$,g))return y;const J=i[d+1];d=g?ea(J):La(J)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=Qn(w,l))}return y}function Ga(i){return void 0!==i}function ud(i,s){return 0!=(i.flags&(s?16:32))}function Z0(i,s=""){const a=Te(),l=xt(),d=i+20,f=l.firstCreatePass?Nl(l,d,1,s,null):l.data[d],g=a[d]=$m(a[11],s);Ph(l,a,g,f),Yr(f,!1)}function S_(i){return Fl("",i,""),S_}function Fl(i,s,a){const l=Te(),d=Qc(l,i,s,a);return d!==bt&&function(i,s,a){const l=_a(s,i);O1(i[11],l,a)}(l,Ir(),d),Fl}function z0(i,s,a){Xs(Jn,Is,Qc(Te(),i,s,a),!0)}function Su(i,s,a,l,d,f,g,y,w){Xs(Jn,Is,ed(Te(),i,s,a,l,d,f,g,y,w),!0)}function J0(i,s,a){const l=Te();return ti(l,ms(),s)&&Cs(xt(),Yn(),l,i,s,l[11],a,!0),J0}const ra=void 0;var x_=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ld={};function k_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=X0(s);if(a)return a;const l=s.split("-")[0];if(a=X0(l),a)return a;if("en"===l)return x_;throw new Error(`Missing locale data for the locale "${i}".`)}function Q0(i){return k_(i)[ht.PluralCase]}function X0(i){return i in ld||(ld[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),ld[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Dg=["zero","one","two","few","many"],O_="en-US",gf={marker:"element"},Tg={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let P_=O_;function F_(i){(function(i,s){null==i&&jt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(P_=i.toLowerCase().replace(/_/g,"-"))}function eb(i,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Wm(i,0,a):on(a[d])}function tb(i,s,a,l,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let g=l,y=null;if(3&s.type||(y=g,g=d),null!==g&&0==(2&s.flags))for(let w=1;w<f.length;w++)Tl(i,g,a[f[w]],y,!1)}}function nb(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];_E(l)||$A(l,s)&&null===L_(l)&&yE(l,s.index)}}function _E(i){return!(64&i.type)}function $A(i,s){return _E(s)||i.index>s.index}function L_(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function yE(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(B1(eb,tb),i.insertBeforeIndex=s)}function Ag(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function wE(i,s,a){const l=Fp(i,a,64,null,null);return nb(s,l),l}function V_(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function rb(i){return i>>>17}function ib(i){return(131070&i)>>>1}let Sg=0,qa=0;function CE(i,s,a,l){const d=a[11];let g,f=null;for(let y=0;y<s.length;y++){const w=s[y];if("string"==typeof w){const D=s[++y];null===a[D]&&(a[D]=$m(d,w))}else if("number"==typeof w)switch(1&w){case 0:const D=rb(w);let A,k;if(null===f&&(f=D,g=qm(d,l)),D===f?(A=l,k=g):(A=null,k=on(a[D])),null!==k){const pe=ib(w);Tl(d,k,a[pe],A,!1);const Me=Ag(i,pe);if(null!==Me&&"object"==typeof Me){const _e=V_(Me,a);null!==_e&&CE(i,Me.create[_e],a,a[Me.anchorIdx])}}break;case 1:const $=s[++y],J=s[++y];t0(d,_a(w>>>1,a),null,null,$,J,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case Tg:const D=s[++y],A=s[++y];null===a[A]&&pi(a[A]=FI(d,D),a);break;case gf:const k=s[++y],P=s[++y];null===a[P]&&pi(a[P]=Rv(d,k,null),a)}}}function ob(i,s,a,l,d){for(let f=0;f<a.length;f++){const g=a[f],y=a[++f];if(g&d){let w="";for(let D=f+1;D<=f+y;D++){const A=a[D];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=ne(s[l-A]);else{const k=A>>>2;switch(3&A){case 1:const P=a[++D],$=a[++D],J=i.data[k];"string"==typeof J?t0(s[11],s[k],null,J,P,w,$):Cs(i,J,s,P,w,s[11],$,!1);break;case 0:const pe=s[k];null!==pe&&O1(s[11],pe,w);break;case 2:ZA(i,Ag(i,k),s,w);break;case 3:Ro(i,Ag(i,k),l,s)}}}}else{const w=a[f+1];if(w>0&&3==(3&w)){const A=Ag(i,w>>>2);s[A.currentCaseLViewIndex]<0&&Ro(i,A,l,s)}}f+=y}}function Ro(i,s,a,l){let d=l[s.currentCaseLViewIndex];if(null!==d){let f=Sg;d<0&&(d=l[s.currentCaseLViewIndex]=~d,f=-1),ob(i,l,s.update[d],a,f)}}function ZA(i,s,a,l){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function(i,s){const a=Q0(s)(parseInt(i,10)),l=Dg[a];return void 0!==l?l:"other"}(s,P_);a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(V_(s,a)!==d&&(ab(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const g=a[s.anchorIdx];g&&CE(i,s.create[d],a,g)}}function ab(i,s,a){let l=V_(s,a);if(null!==l){const d=s.remove[l];for(let f=0;f<d.length;f++){const g=d[f];if(g>0){const y=_a(g,a);null!==y&&Fv(a[11],y)}else ab(i,Ag(i,~g),a)}}}function zA(){const i=[];let a,l,s=-1;function f(y,w){s=0;const D=V_(y,w);l=null!==D?y.remove[D]:q}function g(){if(s<l.length){const y=l[s++];return y>0?a[y]:(i.push(s,l),f(a[1].data[~y],a),g())}return 0===i.length?null:(l=i.pop(),s=i.pop(),g())}return function(y,w){for(a=w;i.length;)i.pop();return f(y.value,w),g}}const U_=/\ufffd(\d+):?\d*\ufffd/gi,Za=/\ufffd(\d+)\ufffd/,rs=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,to=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dd=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ru=/\uE500/g;function DE(i,s,a,l,d,f,g){const y=Ml(i,l,1,null);let w=y<<Un.SHIFT,D=Zi();s===D&&(D=null),null===D&&(w|=Un.APPEND_EAGERLY),g&&(w|=Un.COMMENT,function(i){void 0===Nv&&(Nv=i())}(zA)),d.push(w,null===f?"":f);const A=Fp(i,y,g?32:1,null===f?"":f,null);nb(a,A);const k=A.index;return Yr(A,!1),null!==D&&s!==D&&function(i,s){let a=i.insertBeforeIndex;null===a?(B1(eb,tb),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&jt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(D,k),A}function TE(i,s,a,l,d,f,g){const y=g.match(U_),w=DE(i,s,a,f,l,y?null:g,!1);y&&Ie(d,g,w.index,null,0,null)}function Ie(i,s,a,l,d,f){const g=i.length,y=g+1;i.push(null,null);const w=g+2,D=s.split(U_);let A=0;for(let k=0;k<D.length;k++){const P=D[k];if(1&k){const $=d+parseInt(P,10);i.push(-1-$),A|=ko($)}else""!==P&&i.push(P)}return i.push(a<<2|(l?1:0)),l&&i.push(l,f),i[g]=A,i[y]=i.length-w,A}function ko(i){return 1<<Math.min(i,31)}function vf(i){let s,f,a="",l=0,d=!1;for(;null!==(s=to.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(l=s.index,d=!1):(a+=i.substring(l,s.index+s[0].length),f=s[1],d=!0);return a+=i.substr(l),a}function AE(i,s,a,l,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:Ml(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(ko(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,f,y);const w=d.values;for(let D=0;D<w.length;D++){const A=w[D],k=[];for(let P=0;P<A.length;P++){const $=A[P];if("string"!=typeof $){const J=k.push($)-1;A[P]=`\x3c!--\ufffd${J}\ufffd--\x3e`}}g=ub(i,y,s,a,l,d.cases[D],A.join(""),k)|g}g&&function(i,s,a){i.push(s,1,a<<2|3)}(a,g,f)}function fd(i){const s=[],a=[];let l=1,d=0;const f=j_(i=i.replace(rs,function(g,y,w){return l="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===l&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const w=j_(f[g++]);s.length>a.length&&a.push(w)}return{type:l,mainBinding:d,cases:s,values:a}}function j_(i){if(!i)return[];let s=0;const a=[],l=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const w=i.substring(s,y);rs.test(w)?l.push(fd(w)):l.push(w),s=y+1}}else{if(0==a.length){const w=i.substring(s,y);l.push(w),s=y+1}a.push("{")}}const g=i.substring(s);return l.push(g),l}function ub(i,s,a,l,d,f,g,y){const w=[],D=[],A=[];s.cases.push(f),s.create.push(w),s.remove.push(D),s.update.push(A);const P=Tp(_o()).getInertBodyElement(g),$=yn(P)||P;return $?lb(i,s,a,l,w,D,A,$,d,y,0):0}function lb(i,s,a,l,d,f,g,y,w,D,A){let k=0,P=y.firstChild;for(;P;){const $=Ml(i,a,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const J=P,pe=J.tagName.toLowerCase();if(Ap.hasOwnProperty(pe)){$_(d,gf,pe,w,$),i.data[$]=pe;const tt=J.attributes;for(let Ye=0;Ye<tt.length;Ye++){const St=tt.item(Ye),Zr=St.name.toLowerCase();St.value.match(U_)?S.hasOwnProperty(Zr)&&Ie(g,St.value,$,St.name,0,v[Zr]?wl:p[Zr]?kc:null):hb(d,$,St)}k=lb(i,s,a,l,d,f,g,P,$,D,A+1)|k,is(f,$,A)}break;case Node.TEXT_NODE:const oe=P.textContent||"",Me=oe.match(U_);$_(d,null,Me?"":oe,w,$),is(f,$,A),Me&&(k=Ie(g,oe,$,null,0,null)|k);break;case Node.COMMENT_NODE:const _e=Za.exec(P.textContent||"");if(_e){const Ye=D[parseInt(_e[1],10)];$_(d,Tg,"",w,$),AE(i,a,l,w,Ye,$),cb(f,$,A)}}P=P.nextSibling}return k}function is(i,s,a){0===a&&i.push(s)}function cb(i,s,a){0===a&&(i.push(~s),i.push(s))}function $_(i,s,a,l,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,l,d))}function hb(i,s,a){i.push(s<<1|1,a.name,a.value)}function ME(i,s,a=-1){const l=xt(),d=Te(),f=20+i,g=ps(l.consts,s),y=Zi();l.firstCreatePass&&function(i,s,a,l,d,f){const g=Zi(),y=[],w=[],D=[[]],A=function(i){return i.replace(Ru," ")}(d=function(i,s){if(function(i){return-1===i}(s))return vf(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return vf(i.substring(a,l))}}(d,f)).split(dd);for(let k=0;k<A.length;k++){let P=A[k];if(0==(1&k)){const $=j_(P);for(let J=0;J<$.length;J++){let pe=$[J];if(0==(1&J)){const oe=pe;""!==oe&&TE(i,g,D[0],y,w,a,oe)}else{const oe=pe;if("object"!=typeof oe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);AE(i,a,w,s,oe,DE(i,g,D[0],a,y,"",!0).index)}}}else{const $=47===P.charCodeAt(0),pe=(P.charCodeAt($?1:0),20+Number.parseInt(P.substring($?2:1)));if($)D.shift(),Yr(Zi(),!1);else{const oe=wE(i,D[0],pe);D.unshift([]),Yr(oe,!0)}}}i.data[l]={create:y,update:w}}(l,null===y?0:y.index,d,f,g,a);const w=l.data[f],A=L1(l,y===d[6]?null:y,d);(function(i,s,a,l){const d=i[11];for(let f=0;f<s.length;f++){const g=s[f++],y=s[f],w=(g&Un.COMMENT)===Un.COMMENT,D=(g&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,A=g>>>Un.SHIFT;let k=i[A];null===k&&(k=i[A]=w?d.createComment(y):$m(d,y)),D&&null!==a&&Tl(d,a,k,l,!1)}})(d,w.create,A,y&&8&y.type?d[y.index]:null),ba(!0)}function _b(i,s,a){ME(i,s,a),ba(!1)}function Mg(i){return function(i){i&&(Sg|=1<<Math.min(qa,31)),qa++}(ti(Te(),ms(),i)),Mg}function RE(i){!function(i,s,a){if(qa>0){const l=i.data[a];ob(i,s,Array.isArray(l)?l:l.update,Kr()-qa-1,Sg)}Sg=0,qa=0}(xt(),Te(),i+20)}function Fi(i,s,a,l,d){if(i=G(i),Array.isArray(i))for(let f=0;f<i.length;f++)Fi(i[f],s,a,l,d);else{const f=xt(),g=Te();let y=Du(i)?i:G(i.provide),w=m0(i);const D=wn(),A=1048575&D.providerIndexes,k=D.directiveStart,P=D.providerIndexes>>20;if(Du(i)||!i.multi){const $=new ul(w,d,lr),J=xg(y,s,d?A:A+P,k);-1===J?(an(wo(D,g),f,y),H_(f,i,s.length),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push($),g.push($)):(a[J]=$,g[J]=$)}else{const $=xg(y,s,A+P,k),J=xg(y,s,A,A+P),pe=$>=0&&a[$],oe=J>=0&&a[J];if(d&&!oe||!d&&!pe){an(wo(D,g),f,y);const Me=function(i,s,a,l,d){const f=new ul(i,a,lr);return f.multi=[],f.index=s,f.componentProviders=0,Rg(f,d,l&&!a),f}(d?Vl:OE,a.length,d,l,w);!d&&oe&&(a[J].providerFactory=Me),H_(f,i,s.length,0),s.push(y),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),a.push(Me),g.push(Me)}else H_(f,i,$>-1?$:J,Rg(a[d?J:$],w,!d&&l));!d&&l&&oe&&a[J].componentProviders++}}}function H_(i,s,a,l){const d=Du(s);if(d||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=y.indexOf(a);-1===w?y.push(a,[l,g]):y[w+1].push(l,g)}else y.push(a,g)}}}function Rg(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function xg(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function OE(i,s,a,l){return Ul(this.multi,[])}function Vl(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=kt(a,a[1],this.providerFactory.index,l);f=y.slice(0,g),Ul(d,f);for(let w=g;w<y.length;w++)f.push(y[w])}else f=[],Ul(d,f);return f}function Ul(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Bl(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=xt();if(l.firstCreatePass){const d=hs(i);Fi(a,l.data,l.blueprint,d,!0),Fi(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class pd{}const xu="ngComponent";class vb{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[xu]=i,s}(s)}}let gd=(()=>{class i{}return i.NULL=new vb,i})();function G_(...i){}function ku(i,s){return new za(Si(i,s))}const XA=function(){return ku(wn(),Te())};let za=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=XA,i})();function wb(i){return i instanceof za?i.nativeElement:i}class _d{}let eS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Cb(),i})();const Cb=function(){const i=Te(),a=li(wn().index,i);return function(i){return i[11]}(Ls(a)?a:i)};let Og=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class VE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Z_=new VE("12.2.13");class z_{constructor(){}supports(s){return Qs(s)}create(s){return new BE(s)}}const UE=(i,s)=>s;class BE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||UE}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const g=!l||a&&a.currentIndex<Db(l,d,f)?a:l,y=Db(g,d,f),w=g.currentIndex;if(g===l)d--,l=l._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const D=y-d,A=w-d;if(D!=A){for(let P=0;P<D;P++){const $=P<f.length?f[P]:f[P]=0,J=$+P;A<=J&&J<D&&(f[P]=$+1)}f[g.previousIndex]=A-D}}y!==w&&s(g,y,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Qs(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,g,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],g=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,g)?(l&&(a=this._verifyReinsertion(a,f,g,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,y),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Jc()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,y=>{g=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,g)?(l&&(a=this._verifyReinsertion(a,y,g,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,g,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new jE(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new $E),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $E),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class jE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Eb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class $E{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Eb,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Db(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class HE{constructor(){}supports(s){return s instanceof Map||ig(s)}create(){return new GE}}class GE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ig(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const l=new tS(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class tS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yd(){return new Ou([new z_])}let Ou=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||yd()),deps:[[i,new Ur,new Ma]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:yd}),i})();function Pg(){return new Fg([new HE])}let Fg=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Pg()),deps:[[i,new Ur,new Ma]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:Pg}),i})();function Lg(i,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(on(f)),Lr(f))for(let y=10;y<f.length;y++){const w=f[y],D=w[1].firstChild;null!==D&&Lg(w[1],w,D,l)}const g=a.type;if(8&g)Lg(i,s,a.child,l);else if(32&g){const y=Bm(a,s);let w;for(;w=y();)l.push(w)}else if(16&g){const y=Ov(s,a);if(Array.isArray(y))l.push(...y);else{const w=xp(s[16]);Lg(w[1],w,y,l,!0)}}a=d?a.projectionNext:a.next}return l}class Vg{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Lg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Lr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Gm(s,l),Ri(a,l))}this._attachedToViewContainer=!1}P1(this._lView[1],this._lView)}onDestroy(s){Bp(this._lView[1],this._lView,null,s)}markForCheck(){o_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){u0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){vo(!0);try{u0(i,s,a)}finally{vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Uc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Ib extends Vg{constructor(s){super(s),this._view=s}detectChanges(){Hc(this._view)}checkNoChanges(){!function(i){vo(!0);try{Hc(i)}finally{vo(!1)}}(this._view)}get context(){return null}}const rS=function(i){return function(i,s,a){if(zu(i)&&!a){const l=li(i.index,s);return new Vg(l,l)}return 47&i.type?new Vg(s[16],s):null}(wn(),Te(),16==(16&i))};let Ab=(()=>{class i{}return i.__NG_ELEMENT_ID__=rS,i})();const ii=[new HE],oS=new Ou([new z_]),aS=new Fg(ii),lS=function(){return bd(wn(),Te())};let vd=(()=>{class i{}return i.__NG_ELEMENT_ID__=lS,i})();const ZE=vd,zE=class extends ZE{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Sl(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),Lp(a,l,s),new Vg(l)}};function bd(i,s){return 4&i.type?new zE(s,i,ku(i,s)):null}class ia{}class Ug{}const Rb=function(){return kb(wn(),Te())};let Bg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Rb,i})();const YE=Bg,KE=class extends YE{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ze(this._hostTNode,this._hostLView);if(vc(s)){const a=js(s,this._hostLView),l=zi(s);return new Ni(a[1].data[l+8],a)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=JE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,f){const g=l||this.parentInjector;if(!f&&null==s.ngModule&&g){const w=g.get(ia,null);w&&(f=w)}const y=s.create(g,d,void 0,f);return this.insert(y.hostView,a),y}insert(s,a){const l=s._lView,d=l[1];if(Lr(l[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const k=l[3],P=new KE(k,k[6],k[3]);P.detach(P.indexOf(s))}}const f=this._adjustIndex(a),g=this._lContainer;!function(i,s,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=s),l<f-10?(s[4]=a[d],_u(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const g=s[17];null!==g&&a!==g&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,l,g,f);const y=Pv(f,g),w=l[11],D=qm(w,g[7]);return null!==D&&function(i,s,a,l,d,f){l[0]=d,l[6]=s,Uc(i,l,a,1,d,f)}(d,g[6],w,l,D,y),s.attachToViewContainerRef(),_u(xb(g),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=JE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Gm(this._lContainer,a);l&&(Ri(xb(this._lContainer),a),P1(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Gm(this._lContainer,a);return l&&null!=Ri(xb(this._lContainer),a)?new Vg(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function JE(i){return i[8]}function xb(i){return i[8]||(i[8]=[])}function kb(i,s){let a;const l=s[i.index];if(Lr(l))a=l;else{let d;if(8&i.type)d=on(l);else{const f=s[11];d=f.createComment("");const g=Si(i,s);Tl(f,qm(f,g),d,function(i,s){return kn(i)?i.nextSibling(s):s.nextSibling}(f,g),!1)}s[i.index]=a=Hp(l,s,d,i),qp(s,a)}return new KE(a,i,s)}const Id={};class cy extends gd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=hn(s);return new dy(a,this.ngModule)}}function gD(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const _D=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>S1});class dy extends pd{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(Jm).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return gD(this.componentDef.inputs)}get outputs(){return gD(this.componentDef.outputs)}create(s,a,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const f=i.get(a,Id,d);return f!==Id||l===Id?f:s.get(a,l,d)}}}(s,d.injector):s,g=f.get(_d,Dr),y=f.get(Og,null),w=g.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=l?function(i,s,a){if(kn(i))return i.selectRootElement(s,a===Pe.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(w,l,this.componentDef.encapsulation):Rv(g.createRenderer(null,this.componentDef),D,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),k=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||S1,clean:u_,playerHandler:s||null,flags:0}}(),$=n_(0,null,null,1,0,null,null,null,null,null),J=Sl(null,$,P,k,null,null,g,w,y,f);let pe,oe;cu(J);try{const Me=function(i,s,a,l,d,f){const g=a[1];a[20]=i;const w=Nl(g,20,2,"#host",null),D=w.mergedAttrs=s.hostAttrs;null!==D&&(Gc(w,D,!0),null!==i&&(sh(d,i,D),null!==w.classes&&Lv(d,i,w.classes),null!==w.styles&&$1(d,i,w.styles)));const A=l.createRenderer(i,s),k=Sl(a,Uh(s),null,s.onPush?64:16,a[20],w,l,A,f||null,null);return g.firstCreatePass&&(an(wo(w,a),g,s.type),lC(g,w),dC(w,a.length,1)),qp(a,k),a[20]=k}(A,this.componentDef,J,g,w);if(A)if(l)sh(w,A,["ng-version",Z_.full]);else{const{attrs:_e,classes:tt}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!Xo(d))break;d=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);_e&&sh(w,A,_e),tt&&tt.length>0&&Lv(w,A,tt.join(" "))}if(oe=lc($,20),void 0!==a){const _e=oe.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const Ye=a[tt];_e.push(null!=Ye?Array.from(Ye):null)}}pe=function(i,s,a,l,d){const f=a[1],g=function(i,s,a){const l=wn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),hC(i,l,s,Ml(i,s,1,null),a));const d=kt(s,i,l.directiveStart,l);pi(d,s);const f=Si(l,s);return f&&pi(f,s),d}(f,a,s);if(l.components.push(g),i[8]=g,d&&d.forEach(w=>w(g,s)),s.contentQueries){const w=wn();s.contentQueries(1,g,w.directiveStart)}const y=wn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bo(y.index),s_(a[1],y,0,y.directiveStart,y.directiveEnd,s),$p(s,g)),g}(Me,this.componentDef,J,P,[C0]),Lp($,J,null)}finally{$o()}return new IS(this.componentType,pe,ku(oe,J),J,oe)}}class IS extends class{}{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Ib(d),this.componentType=s}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Rf=new Map;class hw extends ia{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cy(this);const l=Sn(s),d=s[lt]||null;d&&F_(d),this._bootstrapComponents=Pa(l.bootstrap),this._r3Injector=yC(s,a,[{provide:ia,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=En.THROW_IF_NOT_FOUND,l=je.Default){return s===En||s===ia||s===qc?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Yg extends Ug{constructor(s){super(),this.moduleType=s,null!==Sn(s)&&function(i){const s=new Set;!function a(l){const d=Sn(l,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,Rf.get(f),l),Rf.set(f,l));const g=Pa(d.imports);for(const y of g)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new hw(this.moduleType,s)}}function py(i,s,a,l){return mw(Te(),or(),i,s,a,l)}function fw(i,s,a,l,d){return function(i,s,a,l,d,f,g){const y=s+a;return ja(i,y,d,f)?Es(i,y+2,g?l.call(g,d,f):l(d,f)):Kg(i,y+2)}(Te(),or(),i,s,a,l,d)}function gy(i,s,a,l,d,f){return function(i,s,a,l,d,f,g,y){const w=s+a;return function(i,s,a,l,d){const f=ja(i,s,a,l);return ti(i,s+2,d)||f}(i,w,d,f,g)?Es(i,w+3,y?l.call(y,d,f,g):l(d,f,g)):Kg(i,w+3)}(Te(),or(),i,s,a,l,d,f)}function Kg(i,s){const a=i[s];return a===bt?void 0:a}function mw(i,s,a,l,d,f){const g=s+a;return ti(i,g,d)?Es(i,g+1,f?l.call(f,d):l(d)):Kg(i,g+1)}function ED(i,s){const a=xt();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=Ii(l.type)),g=Zn(lr);try{const y=Da(!1),w=f();return Da(y),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Te(),d,w),w}finally{Zn(g)}}function DD(i,s,a){const l=i+20,d=Te(),f=qi(d,l);return function(i,s){So.isWrapped(s)&&(s=So.unwrap(s),i[Kr()]=bt);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?mw(d,or(),s,f.transform,a,f):f.transform(a))}function Jt(i){return s=>{setTimeout(i,void 0,s)}}const sa=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,f,g;let y=s,w=a||(()=>null),D=l;if(s&&"object"==typeof s){const k=s;y=null===(d=k.next)||void 0===d?void 0:d.bind(k),w=null===(f=k.error)||void 0===f?void 0:f.bind(k),D=null===(g=k.complete)||void 0===g?void 0:g.bind(k)}this.__isAsync&&(w=Jt(w),y&&(y=Jt(y)),D&&(D=Jt(D)));const A=super.subscribe({next:y,error:w,complete:D});return s instanceof j.w&&s.add(A),A}};function AD(){return this._results[Jc()]()}class ql{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Jc(),l=ql.prototype;l[a]||(l[a]=AD)}get changes(){return this._changes||(this._changes=new sa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Ki(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Po{constructor(s){this.queryList=s,this.matches=null}clone(){return new Po(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new _y(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==xD(s,a).matches&&this.queries[a].setDirty()}}class SD{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ff{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Ff(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class yy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new yy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,ND(a,f)),this.matchTNodeWithReadOption(s,a,dl(a,s,f,!1,!1))}else l===vd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,dl(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===za||d===Bg||d===vd&&4&a.type)this.addMatch(a.index,-2);else{const f=dl(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function ND(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function vw(i,s,a,l){return-1===a?function(i,s){return 11&i.type?ku(i,s):4&i.type?bd(i,s):null}(s,i):-2===a?function(i,s,a){return a===za?ku(s,i):a===vd?bd(s,i):a===Bg?kb(s,i):void 0}(i,s,l):kt(i,i[1],a,s)}function MD(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,g=a.matches,y=[];for(let w=0;w<g.length;w+=2){const D=g[w];y.push(D<0?null:vw(s,f[D],g[w+1],a.metadata.read))}d.matches=y}return d.matches}function Gn(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const g=MD(i,s,d,a);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)l.push(g[y/2]);else{const D=f[y+1],A=s[-w];for(let k=10;k<A.length;k++){const P=A[k];P[17]===P[3]&&Gn(P[1],P,D,l)}if(null!==A[9]){const k=A[9];for(let P=0;P<k.length;P++){const $=k[P];Gn($[1],$,D,l)}}}}}return l}function PS(i){const s=Te(),a=xt(),l=pc();jo(l+1);const d=xD(a,l);if(i.dirty&&Qu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Gn(a,s,l,[]):MD(a,s,d,l);i.reset(f,wb),i.notifyOnChanges()}return!0}return!1}function FS(i,s,a){const l=xt();l.firstCreatePass&&(ww(l,new SD(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),RD(l,Te(),s)}function Nr(i,s,a,l){const d=xt();if(d.firstCreatePass){const f=wn();ww(d,new SD(s,a,l),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}RD(d,Te(),a)}function bw(){return i=Te(),s=pc(),i[19].queries[s].queryList;var i,s}function RD(i,s,a){const l=new ql(4==(4&a));Bp(i,s,l,l.destroy),null===s[19]&&(s[19]=new _y),s[19].queries.push(new Po(l))}function ww(i,s,a){null===i.queries&&(i.queries=new Ff),i.queries.track(new yy(s,a))}function xD(i,s){return i.queries.getByIndex(s)}function kD(i,s){return bd(i,s)}const Aw=new On("Application Initializer");let Rd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=G_,this.reject=G_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(id(f))a.push(f);else if(v_(f)){const g=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});a.push(g)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Cn(Aw,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const zD=new On("AppId"),Sw={provide:zD,useFactory:function(){return`${Nw()}${Nw()}${Nw()}`},deps:[]};function Nw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WD=new On("Platform Initializer"),YD=new On("Platform ID"),KD=new On("appBootstrapListener");let JD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const My=new On("LocaleId"),eN=new On("DefaultCurrencyCode");class Mw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Ry=function(i){return new Yg(i)},xy=Ry,eT=function(i){return Promise.resolve(Ry(i))},so=function(i){const s=Ry(i),l=Pa(Sn(i).declarations).reduce((d,f)=>{const g=hn(f);return g&&d.push(new dy(g)),d},[]);return new Mw(s,l)},os=so,tm=function(i){return Promise.resolve(so(i))};let ju=(()=>{class i{constructor(){this.compileModuleSync=xy,this.compileModuleAsync=eT,this.compileModuleAndAllComponentsSync=os,this.compileModuleAndAllComponentsAsync=tm}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const Rw=(()=>Promise.resolve(0))();function Yl(i){"undefined"==typeof Zone?Rw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class us{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Yt.requestAnimationFrame,s=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,nm(i),i.isCheckStableRunning=!0,xw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),nm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,g,y)=>{try{return Hf(i),a.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),tT(i)}},onInvoke:(a,l,d,f,g,y,w)=>{try{return Hf(i),a.invoke(d,f,g,y,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),tT(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,nm(i),xw(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,s,kd,G_,G_);try{return f.runTask(g,a,l)}finally{f.cancelTask(g)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const kd={};function xw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function nm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Hf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function tT(i){i._nesting--,xw(i)}class uN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let nT=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),Yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Cn(us))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),rT=(()=>{class i{constructor(){this._applications=new Map,ky.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return ky.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class iT{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function lN(i){ky=i}let ky=new iT,Oy=!0,kw=!1;function Gf(){return kw=!0,Oy}function cN(){if(kw)throw new Error("Cannot enable prod mode after platform setup.");Oy=!1}let Ja;const pN=new On("AllowMultipleToken");class hx{constructor(s,a){this.name=s,this.token=a}}function gN(i,s,a=[]){const l=`Platform: ${s}`,d=new On(l);return(f=[])=>{let g=oT();if(!g||g.injector.get(pN,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:Zc,useValue:"platform"});!function(i){if(Ja&&!Ja.destroyed&&!Ja.injector.get(pN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ja=i.get(aT);const s=i.get(WD,null);s&&s.forEach(a=>a())}(En.create({providers:y,name:l}))}return function(i){const s=oT();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function oT(){return Ja&&!Ja.destroyed?Ja:null}let aT=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const y=function(i,s){let a;return a="noop"===i?new uN:("zone.js"===i?void 0:i)||new us({enableLongStackTrace:Gf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),w=[{provide:us,useValue:y}];return y.run(()=>{const D=En.create({providers:w,parent:this.injector,name:a.moduleType.name}),A=a.create(D),k=A.injector.get(kh,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:$=>{k.handleError($)}});A.onDestroy(()=>{Ow(this._modules,A),P.unsubscribe()})}),function(i,s,a){try{const l=a();return id(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,y,()=>{const P=A.injector.get(Rd);return P.runInitializers(),P.donePromise.then(()=>(F_(A.injector.get(My,O_)||O_),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,l=[]){const d=rm({},l);return function(i,s,a){const l=new Yg(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(Od);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${Q(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Cn(En))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function rm(i,s){return Array.isArray(s)?s.reduce(rm,i):Object.assign(Object.assign({},i),s)}let Od=(()=>{class i{constructor(a,l,d,f,g){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new O.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),Yl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(y,w.pipe((0,ae.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof pd?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ia),y=d.create(En.NULL,[],l||d.selector,f),w=y.location.nativeElement,D=y.injector.get(nT,null),A=D&&y.injector.get(rT);return D&&A&&A.registerApplication(w,D),y.onDestroy(()=>{this.detachView(y.hostView),Ow(this.components,y),A&&A.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ow(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(KD,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Cn(us),Cn(En),Cn(kh),Cn(gd),Cn(Rd))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function Ow(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class lT{}class dT{}const yN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pw=(()=>{class i{constructor(a,l){this._compiler=a,this._config=l||yN}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[l,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(l).then(f=>f[d]).then(f=>im(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[l,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>im(g,l,d))}}return i.\u0275fac=function(a){return new(a||i)(Cn(ju),Cn(dT,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function im(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const Lw=function(i){return null},Ly=gN(null,"core",[{provide:YD,useValue:"unknown"},{provide:aT,deps:[En]},{provide:rT,deps:[]},{provide:JD,deps:[]}]),ET=[{provide:Od,useClass:Od,deps:[us,En,kh,gd,Rd]},{provide:_D,deps:[us],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Rd,useClass:Rd,deps:[[new Ma,Aw]]},{provide:ju,useClass:ju,deps:[]},Sw,{provide:Ou,useFactory:function(){return oS},deps:[]},{provide:Fg,useFactory:function(){return aS},deps:[]},{provide:My,useFactory:function(i){return F_(i=i||"undefined"!=typeof $localize&&$localize.locale||O_),i},deps:[[new bu(My),new Ma,new Ur]]},{provide:eN,useValue:"USD"}];let DN=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Cn(Od))},i.\u0275mod=Ve({type:i}),i.\u0275inj=mn({providers:ET}),i})()},8939:(We,we,F)=>{"use strict";F.d(we,{hO:()=>de,xv:()=>z,Dh:()=>Q,GT:()=>ee,cc:()=>Oe,on:()=>L,pX:()=>ae});var u=F(7716),j=F(7841),O=F(9396);We=F.hmd(We);const le=["ngOnDestroy"],ae=(ne,se,Ee,xe={})=>new Proxy(ne,{get:(At,Mt)=>Ee.runOutsideAngular(()=>{var zt;if(ne[Mt])return(null===(zt=null==xe?void 0:xe.spy)||void 0===zt?void 0:zt.get)&&xe.spy.get(Mt,ne[Mt]),ne[Mt];if(le.indexOf(Mt)>-1)return()=>{};const _t=se.toPromise().then(Tn=>{const Ct=Tn&&Tn[Mt];return"function"==typeof Ct?Ct.bind(Tn):Ct&&Ct.then?Ct.then(gt=>Ee.run(()=>gt)):Ee.run(()=>Ct)});return new Proxy(()=>{},{get:(Tn,Ct)=>_t[Ct],apply:(Tn,Ct,gt)=>_t.then(Ot=>{var Xe;const Bt=Ot&&Ot(...gt);return(null===(Xe=null==xe?void 0:xe.spy)||void 0===Xe?void 0:Xe.apply)&&xe.spy.apply(Mt,gt,Bt),Bt})})})}),ee=(ne,se)=>{se.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(xe=>{Object.defineProperty(ne.prototype,xe,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,xe))})})};class ce{constructor(se){return se}}const Q=new u.OlP("angularfire2.app.options"),z=new u.OlP("angularfire2.app.name");function L(ne,se,Ee){const At="object"==typeof Ee&&Ee||{};At.name=At.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const zt=j.Z.apps.filter(_t=>_t&&_t.name===At.name)[0]||se.runOutsideAngular(()=>j.Z.initializeApp(ne,At));try{JSON.stringify(ne)!==JSON.stringify(zt.options)&&B("error",`${zt.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_t){}return new ce(zt)}const B=(ne,...se)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ne](...se)},G={provide:ce,useFactory:L,deps:[Q,u.R0b,[new u.FiY,z]]};let de=(()=>{class ne{constructor(Ee){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,Ee.toString())}static initializeApp(Ee,xe){return{ngModule:ne,providers:[{provide:Q,useValue:Ee},{provide:z,useValue:xe}]}}}return ne.\u0275fac=function(Ee){return new(Ee||ne)(u.LFG(u.Lbi))},ne.\u0275mod=u.oAB({type:ne}),ne.\u0275inj=u.cJS({providers:[G]}),ne})();function Oe(ne,se,Ee,xe,At){const[,Mt,zt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ne)||[];if(Mt)return function(ne,se){try{return ne.toString()===se.toString()}catch(Ee){return ne===se}}(At,zt)||(ge("error",`${se} was already initialized on the ${Ee} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:At,was:zt})),Mt;{const _t=xe();return globalThis.\u0275AngularfireInstanceCache.push([ne,_t,At]),_t}}const De=!!We.hot,ge=(ne,...se)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ne](...se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(We,we,F)=>{"use strict";F.d(we,{q4:()=>Tm,iC:()=>Qn,fc:()=>ph,HU:()=>fh,vb:()=>_u,JM:()=>bs});var u=F(7716),j=F(2329),O=F(8239),le=F(8026),ae=F(3854),ee=F(3910),ce=F(5422),Q=F(6676);const z="@firebase/installations",L="0.5.4",G=`w:${L}`,de="FIS_v2",se=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function xe({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function At(E){return{token:E.token,requestStatus:2,expiresIn:Ot(E.expiresIn),creationTime:Date.now()}}function Mt(E,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(E,I){const U=(yield I.json()).error;return se.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function _t({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Tn(E,{refreshToken:I}){const R=_t(E);return R.append("Authorization",function(E){return`${de} ${E}`}(I)),R}function Ct(E){return gt.apply(this,arguments)}function gt(){return(gt=(0,O.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Ot(E){return Number(E.replace("s","000"))}function Bt(E,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(E,{fid:I}){const R=xe(E),he={method:"POST",headers:_t(E),body:JSON.stringify({fid:I,authVersion:de,appId:E.appId,sdkVersion:G})},Ae=yield Ct(()=>fetch(R,he));if(Ae.ok){const Ge=yield Ae.json();return{fid:Ge.fid||I,registrationStatus:2,refreshToken:Ge.refreshToken,authToken:At(Ge.authToken)}}throw yield Mt("Create Installation",Ae)})).apply(this,arguments)}function cs(E){return new Promise(I=>{setTimeout(I,E)})}const $i=/^[cdef][\w-]{21}$/;function Wt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const R=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return $i.test(R)?R:""}catch(E){return""}}function ds(E){return`${E.appName}!${E.appId}`}const Ms=new Map;function Ci(E,I){const R=ds(E);mn(R,I),function(E,I){const R=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=E=>{mn(E.data.key,E.data.fid)}),Qt);R&&R.postMessage({key:E,fid:I}),0===Ms.size&&Qt&&(Qt.close(),Qt=null)}(R,I)}function mn(E,I){const R=Ms.get(E);if(R)for(const U of R)U(I)}let Qt=null;const bn="firebase-installations-store";let qn=null;function Di(){return qn||(qn=(0,Q.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(bn)}})),qn}function je(E,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(E,I){const R=ds(E),te=(yield Di()).transaction(bn,"readwrite"),he=te.objectStore(bn),Ae=yield he.get(R);return yield he.put(I,R),yield te.complete,(!Ae||Ae.fid!==I.fid)&&Ci(E,I.fid),I})).apply(this,arguments)}function gr(E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,O.Z)(function*(E){const I=ds(E),U=(yield Di()).transaction(bn,"readwrite");yield U.objectStore(bn).delete(I),yield U.complete})).apply(this,arguments)}function st(E,I){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(E,I){const R=ds(E),te=(yield Di()).transaction(bn,"readwrite"),he=te.objectStore(bn),Ae=yield he.get(R),Ge=I(Ae);return void 0===Ge?yield he.delete(R):yield he.put(Ge,R),yield te.complete,Ge&&(!Ae||Ae.fid!==Ge.fid)&&Ci(E,Ge.fid),Ge})).apply(this,arguments)}function Rt(E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(E){let I;const R=yield st(E,U=>{const te=zn(U),he=en(E,te);return I=he.registrationPromise,he.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function zn(E){return Yt(E||{fid:Wt(),registrationStatus:0})}function en(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(se.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(E,I){return et.apply(this,arguments)}(E,R)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ca(E)}:{installationEntry:I}}function et(){return(et=(0,O.Z)(function*(E,I){try{return je(E,yield Bt(E,I))}catch(R){throw Ee(R)&&409===R.customData.serverCode?yield gr(E):yield je(E,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function ca(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(E){let I=yield tn(E);for(;1===I.registrationStatus;)yield cs(100),I=yield tn(E);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Rt(E);return U||R}return I})).apply(this,arguments)}function tn(E){return st(E,I=>{if(!I)throw se.create("installation-not-found");return Yt(I)})}function Yt(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ho(E,I){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*({appConfig:E,platformLoggerProvider:I},R){const U=q(E,R),te=Tn(E,R),he=I.getImmediate({optional:!0});he&&te.append("x-firebase-client",he.getPlatformInfoString());const Ge={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:G}})},ze=yield Ct(()=>fetch(U,Ge));if(ze.ok)return At(yield ze.json());throw yield Mt("Generate Auth Token",ze)})).apply(this,arguments)}function q(E,{fid:I}){return`${xe(E)}/${I}/authTokens:generate`}function W(E){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*(E,I=!1){let R;const U=yield st(E.appConfig,he=>{if(!Wn(he))throw se.create("not-registered");const Ae=he.authToken;if(!I&&nr(Ae))return he;if(1===Ae.requestStatus)return R=ue(E,I),he;{if(!navigator.onLine)throw se.create("app-offline");const Ge=K(he);return R=Gt(E,Ge),Ge}});return R?yield R:U.authToken})).apply(this,arguments)}function ue(E,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(E,I){let R=yield lt(E.appConfig);for(;1===R.authToken.requestStatus;)yield cs(100),R=yield lt(E.appConfig);const U=R.authToken;return 0===U.requestStatus?W(E,I):U})).apply(this,arguments)}function lt(E){return st(E,I=>{if(!Wn(I))throw se.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Gt(E,I){return In.apply(this,arguments)}function In(){return(In=(0,O.Z)(function*(E,I){try{const R=yield ho(E,I),U=Object.assign(Object.assign({},I),{authToken:R});return yield je(E.appConfig,U),R}catch(R){if(!Ee(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield je(E.appConfig,U)}else yield gr(E.appConfig);throw R}})).apply(this,arguments)}function Wn(E){return void 0!==E&&2===E.registrationStatus}function nr(E){return 2===E.requestStatus&&!function(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function K(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function Ve(){return(Ve=(0,O.Z)(function*(E){const I=E,{installationEntry:R,registrationPromise:U}=yield Rt(I.appConfig);return U?U.catch(console.error):W(I).catch(console.error),R.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(E,I=!1){const R=E;return yield Tt(R.appConfig),(yield W(R,I)).token})).apply(this,arguments)}function Tt(E){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(E){const{registrationPromise:I}=yield Rt(E);I&&(yield I)})).apply(this,arguments)}function fn(E){return se.create("missing-app-config-values",{valueName:E})}const Wr="installations";(0,le._registerComponent)(new ee.wA(Wr,E=>{const I=E.getProvider("app").getImmediate();return{app:I,appConfig:function(E){if(!E||!E.options)throw fn("App Configuration");if(!E.name)throw fn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!E.options[R])throw fn(R);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I),platformLoggerProvider:(0,le._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ee.wA("installations-internal",E=>{const I=E.getProvider("app").getImmediate(),R=(0,le._getProvider)(I,Wr).getImmediate();return{getId:()=>function(E){return Ve.apply(this,arguments)}(R),getToken:te=>function(E){return Vt.apply(this,arguments)}(R,te)}},"PRIVATE")),(0,le.registerVersion)(z,L),(0,le.registerVersion)(z,L,"esm2017");const da="@firebase/remote-config",mr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vr{constructor(I,R,U,te){this.client=I,this.storage=R,this.storageCache=U,this.logger=te}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,te=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var R=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(te&&R.isCachedDataFresh(I.cacheMaxAgeMillis,U))return te;I.eTag=te&&te.eTag;const he=yield R.client.fetch(I),Ae=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Ae.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Ae),he})()}}function hs(E=navigator){return E.languages&&E.languages[0]||E.language}class Er{constructor(I,R,U,te,he,Ae){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=U,this.projectId=te,this.apiKey=he,this.appId=Ae}fetch(I){var R=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:R.appId,language_code:hs()},Ut={method:"POST",headers:Ge,body:JSON.stringify(ze)},nn=fetch(Ae,Ut),sr=new Promise((qs,fi)=>{I.signal.addEventListener(()=>{const mt=new Error("The operation was aborted.");mt.name="AbortError",fi(mt)})});let hi;try{yield Promise.race([nn,sr]),hi=yield nn}catch(qs){let fi="fetch-client-network";throw"AbortError"===qs.name&&(fi="fetch-timeout"),mr.create(fi,{originalErrorMessage:qs.message})}let ar=hi.status;const Sa=hi.headers.get("ETag")||void 0;let yu,Na;if(200===hi.status){let qs;try{qs=yield hi.json()}catch(fi){throw mr.create("fetch-client-parse",{originalErrorMessage:fi.message})}yu=qs.entries,Na=qs.state}if("INSTANCE_STATE_UNSPECIFIED"===Na?ar=500:"NO_CHANGE"===Na?ar=304:("NO_TEMPLATE"===Na||"EMPTY_CONFIG"===Na)&&(yu={}),304!==ar&&200!==ar)throw mr.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:Sa,config:yu}})()}}class Gd{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:U}){var te=this;return(0,O.Z)(function*(){yield function(E,I){return new Promise((R,U)=>{const te=Math.max(I-Date.now(),0),he=setTimeout(R,te);E.addEventListener(()=>{clearTimeout(he),U(mr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const he=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),he}catch(he){if(!function(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(he))throw he;const Ae={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Ae),te.attemptFetch(I,Ae)}})()}}class Zd{constructor(I,R,U,te,he){this.app=I,this._client=R,this._storageCache=U,this._storage=te,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rc(E,I){const R=E.target.error||void 0;return mr.create(I,{originalErrorMessage:R&&R.message})}const mo="app_namespace_store";class Wd{constructor(I,R,U,te=function(){return new Promise((E,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{I(rc(U,"storage-open"))},R.onsuccess=U=>{E(U.target.result)},R.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(mo,{keyPath:"compositeKey"})}}}catch(R){I(mr.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,he)=>{const Ge=U.transaction([mo],"readonly").objectStore(mo),ze=R.createCompositeKey(I);try{const Ut=Ge.get(ze);Ut.onerror=nn=>{he(rc(nn,"storage-get"))},Ut.onsuccess=nn=>{const sr=nn.target.result;te(sr?sr.value:void 0)}}catch(Ut){he(mr.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(I,R){var U=this;return(0,O.Z)(function*(){const te=yield U.openDbPromise;return new Promise((he,Ae)=>{const ze=te.transaction([mo],"readwrite").objectStore(mo),Ut=U.createCompositeKey(I);try{const nn=ze.put({compositeKey:Ut,value:R});nn.onerror=sr=>{Ae(rc(sr,"storage-set"))},nn.onsuccess=()=>{he()}}catch(nn){Ae(mr.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const U=yield R.openDbPromise;return new Promise((te,he)=>{const Ge=U.transaction([mo],"readwrite").objectStore(mo),ze=R.createCompositeKey(I);try{const Ut=Ge.delete(ze);Ut.onerror=nn=>{he(rc(nn,"storage-delete"))},Ut.onsuccess=()=>{te()}}catch(Ut){he(mr.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class bm{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),he=yield R;he&&(I.lastFetchStatus=he);const Ae=yield U;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Ge=yield te;Ge&&(I.activeConfig=Ge)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function sp(){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("remote-config",function(I,{instanceIdentifier:R}){const U=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mr.create("registration-window");if(!(0,ae.hl)())throw mr.create("indexed-db-unavailable");const{projectId:he,apiKey:Ae,appId:Ge}=U.options;if(!he)throw mr.create("registration-project-id");if(!Ae)throw mr.create("registration-api-key");if(!Ge)throw mr.create("registration-app-id");const ze=new Wd(Ge,U.name,R=R||"firebase"),Ut=new bm(ze),nn=new ce.Yd(da);nn.logLevel=ce.in.ERROR;const sr=new Er(te,le.SDK_VERSION,R,he,Ae,Ge),hi=new Gd(sr,ze),ar=new Vr(hi,ze,Ut,nn),Sa=new Zd(U,ar,Ut,ze,nn);return function(E){const I=(0,ae.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(da,"0.3.3"),(0,le.registerVersion)(da,"0.3.3","esm2017");const Yu="/firebase-messaging-sw.js",Kd="/firebase-cloud-messaging-push-scope",sc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ii="google.c.a.c_id",Vs="google.c.a.c_l",_r="google.c.a.ts",oc="google.c.a.e";var pa=(()=>{return(E=pa||(pa={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",pa;var E})();function Ai(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jd(E){const R=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),te=new Uint8Array(U.length);for(let he=0;he<U.length;++he)te[he]=U.charCodeAt(he);return te}const ga="fcm_token_details_db",ac="fcm_token_object_Store";function Gi(E){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(ga))return null;let I=null;return(yield(0,Q.openDb)(ga,5,function(){var U=(0,O.Z)(function*(te){var he;if(te.oldVersion<2||!te.objectStoreNames.contains(ac))return;const Ae=te.transaction.objectStore(ac),Ge=yield Ae.index("fcmSenderId").get(E);if(yield Ae.clear(),Ge)if(2===te.oldVersion){const ze=Ge;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(he=ze.createTime)&&void 0!==he?he:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ai(ze.vapidKey)}}}else if(3===te.oldVersion){const ze=Ge;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}else if(4===te.oldVersion){const ze=Ge;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(ga),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Ju(I)?I:null})).apply(this,arguments)}function Ju(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const _o="firebase-messaging-store";let ma=null;function kn(){return ma||(ma=(0,Q.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(_o)}})),ma}function nu(E){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(E){const I=_a(E),U=yield(yield kn()).transaction(_o).objectStore(_o).get(I);if(U)return U;{const te=yield Gi(E.appConfig.senderId);if(te)return yield yo(E,te),te}})).apply(this,arguments)}function yo(E,I){return on.apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(E,I){const R=_a(E),te=(yield kn()).transaction(_o,"readwrite");return yield te.objectStore(_o).put(I,R),yield te.complete,I})).apply(this,arguments)}function ap(E){return uc.apply(this,arguments)}function uc(){return(uc=(0,O.Z)(function*(E){const I=_a(E),U=(yield kn()).transaction(_o,"readwrite");yield U.objectStore(_o).delete(I),yield U.complete})).apply(this,arguments)}function _a({appConfig:E}){return E.appId}const Mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lc(E,I){return qi.apply(this,arguments)}function qi(){return(qi=(0,O.Z)(function*(E,I){const R=yield Xu(E),U=ct(I),te={method:"POST",headers:R,body:JSON.stringify(U)};let he;try{he=yield(yield fetch(ps(E.appConfig),te)).json()}catch(Ae){throw Mn.create("token-subscribe-failed",{errorInfo:Ae})}if(he.error)throw Mn.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw Mn.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function li(E,I){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,O.Z)(function*(E,I){const R=yield Xu(E),U=ct(I.subscriptionOptions),te={method:"PATCH",headers:R,body:JSON.stringify(U)};let he;try{he=yield(yield fetch(`${ps(E.appConfig)}/${I.token}`,te)).json()}catch(Ae){throw Mn.create("token-update-failed",{errorInfo:Ae})}if(he.error)throw Mn.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw Mn.create("token-update-no-token");return he.token})).apply(this,arguments)}function ru(E,I){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(E,I){const U={method:"DELETE",headers:yield Xu(E)};try{const he=yield(yield fetch(`${ps(E.appConfig)}/${I}`,U)).json();if(he.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(te){throw Mn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function ps({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Xu(E){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*({appConfig:E,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ct({p256dh:E,auth:I,endpoint:R,vapidKey:U}){const te={web:{endpoint:R,auth:I,p256dh:E}};return U!==sc&&(te.web.applicationPubKey=U),te}const Xd=6048e5;function eh(E){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(E){const I=yield su(E.swRegistration,E.vapidKey),R={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Ai(I.getKey("auth")),p256dh:Ai(I.getKey("p256dh"))},U=yield nu(E.firebaseDependencies);if(U){if(ou(U.subscriptionOptions,R))return Date.now()>=U.createTime+Xd?dc(E,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield ru(E.firebaseDependencies,U.token)}catch(te){console.warn(te)}return Te(E.firebaseDependencies,R)}return Te(E.firebaseDependencies,R)})).apply(this,arguments)}function el(E){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(E){const I=yield nu(E.firebaseDependencies);I&&(yield ru(E.firebaseDependencies,I.token),yield ap(E.firebaseDependencies));const R=yield E.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function dc(E,I){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(E,I){try{const R=yield li(E.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield yo(E.firebaseDependencies,U),R}catch(R){throw yield el(E),R}})).apply(this,arguments)}function Te(E,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(E,I){const U={token:yield lc(E,I),createTime:Date.now(),subscriptionOptions:I};return yield yo(E,U),U.token})).apply(this,arguments)}function su(E,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jd(I)})})).apply(this,arguments)}function ou(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function Zi(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,I){if(!I.notification)return;E.notification={};const R=I.notification.title;R&&(E.notification.title=R);const U=I.notification.body;U&&(E.notification.body=U);const te=I.notification.image;te&&(E.notification.image=te)}(I,E),function(E,I){!I.data||(E.data=I.data)}(I,E),function(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const R=I.fcmOptions.link;R&&(E.fcmOptions.link=R);const U=I.fcmOptions.analytics_label;U&&(E.fcmOptions.analyticsLabel=U)}(I,E),I}function up(E){return"object"==typeof E&&!!E&&Ii in E}function tl(E,I){const R=[];for(let U=0;U<E.length;U++)R.push(E.charAt(U)),U<I.length&&R.push(I.charAt(U));return R.join("")}function vo(E){return Mn.create("missing-app-config-values",{valueName:E})}tl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(I,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(E){if(!E||!E.options)throw vo("App Configuration Object");if(!E.name)throw vo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=E;for(const U of I)if(!R[U])throw vo(U);return{appName:E.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Kr(E){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Yu,{scope:Kd}),E.swRegistration.update().catch(()=>{})}catch(I){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ms(E,I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,O.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield Kr(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function wm(E,I){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=sc)})).apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(E,I){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield wm(E,null==I?void 0:I.vapidKey),yield ms(E,null==I?void 0:I.serviceWorkerRegistration),eh(E)})).apply(this,arguments)}function fc(E,I,R){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(E,I,R){const U=pc(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Ii],message_name:R[Vs],message_time:R[_r],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pc(E){switch(E){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,O.Z)(function*(E,I){const R=I.data;if(!R.isFirebaseMessaging)return;E.onMessageHandler&&R.messageType===pa.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Zi(R)):E.onMessageHandler.next(Zi(R)));const U=R.data;up(U)&&"1"===U[oc]&&(yield fc(E,R.messageType,U))})).apply(this,arguments)}const lu="@firebase/messaging";function sl(){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ee.wA("messaging",E=>{const I=new or(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(E,I){return rl.apply(this,arguments)}(I,R)),I},"PUBLIC")),(0,le._registerComponent)(new ee.wA("messaging-internal",E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:U=>function(E,I){return uu.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,le.registerVersion)(lu,"0.9.4"),(0,le.registerVersion)(lu,"0.9.4","esm2017");const al="analytics",gc="firebase_id",Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ho="https://www.googletagmanager.com/gtag/js",rr=new ce.Yd("@firebase/analytics");function _c(E){return Promise.all(E.map(I=>I.catch(R=>R)))}function rh(E,I){const R=document.createElement("script");R.src=`${Ho}?l=${E}&id=${I}`,R.async=!0,document.head.appendChild(R)}function ul(E,I,R,U,te,he){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(E,I,R,U,te,he){const Ae=U[te];try{if(Ae)yield I[Ae];else{const ze=(yield _c(R)).find(Ut=>Ut.measurementId===te);ze&&(yield I[ze.appId])}}catch(Ge){rr.error(Ge)}E("config",te,he)})).apply(this,arguments)}function ih(E,I,R,U,te){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(E,I,R,U,te){try{let he=[];if(te&&te.send_to){let Ae=te.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ge=yield _c(R);for(const ze of Ae){const Ut=Ge.find(sr=>sr.measurementId===ze),nn=Ut&&I[Ut.appId];if(!nn){he=[];break}he.push(nn)}}0===he.length&&(he=Object.values(I)),yield Promise.all(he),E("event",U,te||{})}catch(he){rr.error(he)}})).apply(this,arguments)}function Cm(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(Ho))return I;return null}const ys=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ll=new class{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function fp(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function vc(E){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(E){var I;const{appId:R,apiKey:U}=E,te={method:"GET",headers:fp(U)},he=Ca.replace("{app-id}",R),Ae=yield fetch(he,te);if(200!==Ae.status&&304!==Ae.status){let Ge="";try{const ze=yield Ae.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(Ge=ze.error.message)}catch(ze){}throw ys.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ge})}return Ae.json()})).apply(this,arguments)}function Ea(E){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(E,I=ll,R){const{appId:U,apiKey:te,measurementId:he}=E.options;if(!U)throw ys.create("no-app-id");if(!te){if(he)return{measurementId:he,appId:U};throw ys.create("no-api-key")}const Ae=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new wc;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==R?R:6e4),bc({appId:U,apiKey:te,measurementId:he},Ae,Ge,I)})).apply(this,arguments)}function bc(E,I,R){return Da.apply(this,arguments)}function Da(){return(Da=(0,O.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:R},U,te=ll){const{appId:he,measurementId:Ae}=E;try{yield dv(U,I)}catch(Ge){if(Ae)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:he,measurementId:Ae};throw Ge}try{const Ge=yield vc(E);return te.deleteThrottleMetadata(he),Ge}catch(Ge){if(!oh(Ge)){if(te.deleteThrottleMetadata(he),Ae)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:he,measurementId:Ae};throw Ge}const ze=503===Number(Ge.customData.httpStatus)?(0,ae.$s)(R,te.intervalMillis,30):(0,ae.$s)(R,te.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+ze,backoffCount:R+1};return te.setThrottleMetadata(he,Ut),rr.debug(`Calling attemptFetch again in ${ze} millis`),bc(E,Ut,U,te)}})).apply(this,arguments)}function dv(E,I){return new Promise((R,U)=>{const te=Math.max(I-Date.now(),0),he=setTimeout(R,te);E.addEventListener(()=>{clearTimeout(he),U(ys.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function oh(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class wc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ah(){return uh.apply(this,arguments)}function uh(){return(uh=(0,O.Z)(function*(){if(!(0,ae.hl)())return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return rr.warn(ys.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(E,I,R,U,te,he,Ae){var Ge;const ze=Ea(E);ze.then(ar=>{R[ar.measurementId]=ar.appId,E.options.measurementId&&ar.measurementId!==E.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>rr.error(ar)),I.push(ze);const Ut=ah().then(ar=>{if(ar)return U.getId()}),[nn,sr]=yield Promise.all([ze,Ut]);Cm()||rh(he,nn.measurementId),te("js",new Date);const hi=null!==(Ge=null==Ae?void 0:Ae.config)&&void 0!==Ge?Ge:{};return hi.origin="firebase",hi.update=!0,null!=sr&&(hi[gc]=sr),te("config",nn.measurementId,hi),nn.measurementId})).apply(this,arguments)}class pn{constructor(I){this.app=I}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},an=[];const lh={};let vs,Kn,Rn="dataLayer",pu=!1;function kt(E,I,R){!function(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((U,te)=>`(${te+1}) ${U}`).join(" "),R=ys.create("invalid-analytics-context",{errorInfo:I});rr.warn(R.message)}}();const U=E.options.appId;if(!U)throw ys.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ys.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[U])throw ys.create("already-exists",{id:U});if(!pu){!function(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(Rn);const{wrappedGtag:he,gtagCore:Ae}=function(E,I,R,U,te){let he=function(...Ae){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(he=window[te]),window[te]=function(E,I,R,U){function he(){return(he=(0,O.Z)(function*(Ae,Ge,ze){try{"event"===Ae?yield ih(E,I,R,Ge,ze):"config"===Ae?yield ul(E,I,R,U,Ge,ze):E("set",Ge)}catch(Ut){rr.error(Ut)}})).apply(this,arguments)}return function(Ae,Ge,ze){return he.apply(this,arguments)}}(he,E,I,R),{gtagCore:he,wrappedGtag:window[te]}}(Ze,an,lh,Rn,"gtag");Kn=he,vs=Ae,pu=!0}return Ze[U]=function(E,I,R,U,te,he,Ae){return hu.apply(this,arguments)}(E,an,lh,I,vs,Rn,R),new pn(E)}function Co(){return(Co=(0,O.Z)(function*(E,I,R,U,te){if(te&&te.global)E("event",R,U);else{const he=yield I;E("event",R,Object.assign(Object.assign({},U),{send_to:he}))}})).apply(this,arguments)}function Eo(){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}const pp="@firebase/analytics";(0,le._registerComponent)(new ee.wA(al,(I,{options:R})=>kt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ee.wA("analytics-internal",function(I){try{const R=I.getProvider(al).getImmediate();return{logEvent:(U,te,he)=>function(E,I,R,U){E=(0,ae.m9)(E),function(E,I,R,U,te){return Co.apply(this,arguments)}(Kn,Ze[E.app.options.appId],I,R,U).catch(te=>rr.error(te))}(R,U,te,he)}}catch(R){throw ys.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(pp,"0.7.4"),(0,le.registerVersion)(pp,"0.7.4","esm2017");var gp=F(7771),Dm=F(3637),Ta=F(8307),mu=F(9746),hh=F(2639);const Tm=new u.GfV("7.2.0"),Tc="__angularfire_symbol__analyticsIsSupported",Do="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupported";function bs(E,I,R){if(I){if(1===I.length)return I[0];const he=I.filter(Ae=>Ae.app===R);if(1===he.length)return he[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[Tc]||(globalThis[Tc]=Eo().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Aa]||(globalThis[Aa]=sl().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[Do]||(globalThis[Do]=sp().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const _u=(E,I)=>{const R=I?[I]:(0,j.C6)(),U=[];return R.forEach(te=>{te.container.getProvider(E).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function Ri(){}class Hs{constructor(I,R=gp.N){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,U){const te=this.zone;return this.delegate.schedule(function(Ae){te.runGuarded(()=>{I.apply(this,[Ae])})},R,U)}}class Ac{constructor(I){this.zone=I,this.task=null}call(I,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ri,{},Ri,Ri)),R.pipe((0,Ta.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fh=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Hs(Zone.current)),this.insideAngular=R.run(()=>new Hs(Zone.current,Dm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Zo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ph(E){return E.pipe((0,mu.QV)(Zo().outsideAngular))}function Qn(E){return Zo(),function(E){return function(R){return(R=R.lift(new Ac(E.ngZone))).pipe((0,hh.R)(E.outsideAngular),(0,mu.QV)(E.insideAngular))}}(Zo())(E)}},2476:(We,we,F)=>{"use strict";F.d(we,{$:()=>wm,A:()=>co,E:()=>Lr,G:()=>Er,I:()=>Us,K:()=>Os,L:()=>nu,M:()=>ap,N:()=>uc,P:()=>te,Q:()=>_a,R:()=>Zo,T:()=>on,U:()=>qi,V:()=>li,W:()=>Xu,X:()=>Zi,Y:()=>au,Z:()=>up,_:()=>or,a:()=>vs,a0:()=>hc,a1:()=>fc,a2:()=>pc,a3:()=>rl,a4:()=>cu,a5:()=>lp,a6:()=>th,a7:()=>$o,a8:()=>cp,a9:()=>Yn,aA:()=>Wo,aB:()=>Zs,aC:()=>Fr,aG:()=>cl,aJ:()=>Mn,aa:()=>cv,ab:()=>al,ae:()=>Ca,af:()=>rr,ag:()=>_c,aj:()=>cc,ak:()=>Em,am:()=>bc,an:()=>uh,ao:()=>rp,ap:()=>qn,aq:()=>eu,ar:()=>Ps,as:()=>Xt,at:()=>Eh,au:()=>vh,av:()=>Qt,aw:()=>ke,ax:()=>je,ay:()=>ft,az:()=>gl,b:()=>Rn,c:()=>ar,d:()=>qs,e:()=>yu,f:()=>bu,g:()=>_h,h:()=>Ur,i:()=>gp,j:()=>Nm,k:()=>kc,l:()=>Qn,m:()=>Dh,n:()=>Ap,o:()=>cs,r:()=>mp,s:()=>ph,u:()=>R,z:()=>ds});var u=F(8239),j=F(3854),O=F(8026);function ce(v,p){var _={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(_[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(_[C[S]]=v[C[S]])}return _}var Xe=F(5422),Bt=F(3910);const cs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},co={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ds=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ms=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ci=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rs=new Xe.Yd("@firebase/auth");function mn(v,...p){Rs.logLevel<=Xe.in.ERROR&&Rs.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Xt(v,...p){throw Hi(v,...p)}function Qt(v,...p){return Hi(v,...p)}function xs(v,p,_){const C=Object.assign(Object.assign({},Ms()),{[p]:_});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function Ei(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Xt(v,"argument-error"),xs(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(v,...p){if("string"!=typeof v){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ci.create(v,...p)}function ke(v,p,..._){if(!v)throw Hi(p,..._)}function bn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw mn(p),new Error(p)}function qn(v,p){v||bn(p)}const Di=new Map;function je(v){qn(v instanceof Function,"Expected a class definition");let p=Di.get(v);return p?(qn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Di.set(v,p),p)}function Zn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function st(){return"http:"===nt()||"https:"===nt()}function nt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class zn{constructor(p,_){this.shortDelay=p,this.longDelay=_,qn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){qn(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ca=new zn(3e4,6e4);function cn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,_,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(v,p,_,C,S={}){return dn(v,S,()=>{let x={},X={};C&&("GET"===p?X=C:x={body:JSON.stringify(C)});const ye=(0,j.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),$e=new(Pe.headers());return $e.set("Content-Type","application/json"),$e.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&$e.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(W(v,v.config.apiHost,_,ye),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function dn(v,p,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(v,p,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},et),p);try{const S=new be(v),x=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const X=yield x.json();if("needConfirmation"in X)throw ue(v,"account-exists-with-different-credential",X);if(x.ok&&!("errorMessage"in X))return X;{const ye=x.ok?X.errorMessage:X.error.message,[$e,Fe]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw ue(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw ue(v,"email-already-in-use",X);const ot=C[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw xs(v,ot,Fe);Xt(v,ot)}}catch(S){if(S instanceof j.ZR)throw S;Xt(v,"network-request-failed")}})).apply(this,arguments)}function Z(v,p,_,C){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(v,p,_,C,S={}){const x=yield tn(v,p,_,C,S);return"mfaPendingCredential"in x&&Xt(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function W(v,p,_,C){const S=`${p}${_}?${C}`;return v.config.emulator?en(v.config,S):`${v.config.apiScheme}://${S}`}class be{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Qt(this.auth,"timeout")),ca.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ue(v,p,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Qt(v,p,C);return S.customData._tokenResponse=_,S}function lt(){return(lt=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gt(v,p){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ie(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,u.Z)(function*(v,p=!1){const _=(0,j.m9)(v),C=yield _.getIdToken(p),S=dt(C);ke(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,X=null==x?void 0:x.sign_in_provider;return{claims:S,token:C,authTime:ie(Ve(S.auth_time)),issuedAtTime:ie(Ve(S.iat)),expirationTime:ie(Ve(S.exp)),signInProvider:X||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Ve(v){return 1e3*Number(v)}function dt(v){const[p,_,C]=v.split(".");if(void 0===p||void 0===_||void 0===C)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,j.tV)(_);return S?JSON.parse(S):(mn("Failed to decode base64 JWT payload"),null)}catch(S){return mn("Caught error parsing JWT payload as JSON",S),null}}function Tt(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&hn(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function hn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class An{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class vt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(v){var p;const _=v.auth,C=yield v.getIdToken(),S=yield Tt(v,Wn(_,{idToken:C}));ke(null==S?void 0:S.users.length,_,"internal-error");const x=S.users[0];v._notifyReloadListener(x);const X=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?fn(x.providerUserInfo):[],ye=Ft(v.providerData,X),ot=!!v.isAnonymous&&!(v.email&&x.passwordHash||(null==ye?void 0:ye.length)),qt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ye,metadata:new vt(x.createdAt,x.lastLoginAt),isAnonymous:ot};Object.assign(v,qt)})).apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(v){const p=(0,j.m9)(v);yield Sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ft(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function fn(v){return v.map(p=>{var{providerId:_}=p,C=ce(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ks(){return(ks=(0,u.Z)(function*(v,p){const _=yield dn(v,{},()=>{const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:x}=v.config,X=W(v,S,"/v1/token",`key=${x}`);return Pe.fetch()(X,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ke(p.idToken,"internal-error"),ke(void 0!==p.idToken,"internal-error"),ke(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=dt(v);return ke(p,"internal-error"),ke(void 0!==p.exp,"internal-error"),ke(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,u.Z)(function*(){return ke(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:X}=yield function(v,p){return ks.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(S,x,Number(X))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:S,expirationTime:x}=_,X=new Vn;return C&&(ke("string"==typeof C,"internal-error",{appName:p}),X.refreshToken=C),S&&(ke("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),x&&(ke("number"==typeof x,"internal-error",{appName:p}),X.expirationTime=x),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return bn("not implemented")}}function Cr(v,p){ke("string"==typeof v||void 0===v,"internal-error",{appName:p})}class _n{constructor(p){var{uid:_,auth:C,stsTokenManager:S}=p,x=ce(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new vt(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,u.Z)(function*(){const C=yield Tt(_,_.stsTokenManager.getToken(_.auth,p));return ke(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(ke(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new _n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield Sn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const _=yield p.getIdToken();return yield Tt(p,function(v,p){return lt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,S,x,X,ye,$e,Fe,ot;const qt=null!==(C=_.displayName)&&void 0!==C?C:void 0,yn=null!==(S=_.email)&&void 0!==S?S:void 0,Br=null!==(x=_.phoneNumber)&&void 0!==x?x:void 0,vn=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Oc=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,Th=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,Ih=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Sp=null!==(ot=_.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Ah,emailVerified:km,isAnonymous:Sh,providerData:Io,stsTokenManager:Om}=_;ke(Ah&&Om,p,"internal-error");const El=Vn.fromJSON(this.name,Om);ke("string"==typeof Ah,p,"internal-error"),Cr(qt,p.name),Cr(yn,p.name),ke("boolean"==typeof km,p,"internal-error"),ke("boolean"==typeof Sh,p,"internal-error"),Cr(Br,p.name),Cr(vn,p.name),Cr(Oc,p.name),Cr(Th,p.name),Cr(Ih,p.name),Cr(Sp,p.name);const Pm=new _n({uid:Ah,auth:p,email:yn,emailVerified:km,displayName:qt,isAnonymous:Sh,photoURL:vn,phoneNumber:Br,tenantId:Oc,stsTokenManager:El,createdAt:Ih,lastLoginAt:Sp});return Io&&Array.isArray(Io)&&(Pm.providerData=Io.map(Pc=>Object.assign({},Pc))),Th&&(Pm._redirectEventId=Th),Pm}static _fromIdTokenResponse(p,_,C=!1){return(0,u.Z)(function*(){const S=new Vn;S.updateFromServerResponse(_);const x=new _n({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Sn(x),x})()}}const Os=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,u.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,u.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,u.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function ft(v,p,_){return`firebase:${v}:${p}:${_}`}class ui{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:S,name:x}=this.auth;this.fullUserKey=ft(this.userKey,S.apiKey,x),this.fullPersistenceKey=ft("persistence",S.apiKey,x),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?_n._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,u.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,u.Z)(function*(){if(!_.length)return new ui(je(Os),p,C);const S=(yield Promise.all(_.map(function(){var Fe=(0,u.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let x=S[0]||je(Os);const X=ft(C,p.config.apiKey,p.name);let ye=null;for(const Fe of _)try{const ot=yield Fe._get(X);if(ot){const qt=_n._fromJSON(p,ot);Fe!==x&&(ye=qt),x=Fe;break}}catch(ot){}const $e=S.filter(Fe=>Fe._shouldAllowMigration);return x._shouldAllowMigration&&$e.length?(x=$e[0],ye&&(yield x._set(X,ye.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,u.Z)(function*(ot){if(ot!==x)try{yield ot._remove(X)}catch(qt){}});return function(ot){return Fe.apply(this,arguments)}}())),new ui(x,p,C)):new ui(x,p,C)})()}}function po(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ha(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(mr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ti(p))return"Blackberry";if(It(p))return"Webos";if(Lo(p))return"Safari";if((p.includes("chrome/")||Or(p))&&!p.includes("edge/"))return"Chrome";if(Ps(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function mr(v=(0,j.z$)()){return/firefox\//i.test(v)}function Lo(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Or(v=(0,j.z$)()){return/crios\//i.test(v)}function ha(v=(0,j.z$)()){return/iemobile/i.test(v)}function Ps(v=(0,j.z$)()){return/android/i.test(v)}function Ti(v=(0,j.z$)()){return/blackberry/i.test(v)}function It(v=(0,j.z$)()){return/webos/i.test(v)}function eu(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function rp(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vo(v=(0,j.z$)()){return eu(v)||Ps(v)||It(v)||Ti(v)||/windows phone/i.test(v)||ha(v)}function Fs(v,p=[]){let _;switch(v){case"Browser":_=po((0,j.z$)());break;case"Worker":_=`${po((0,j.z$)())}-${v}`;break;default:_=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class Pr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ls(this),this.idTokenSubscription=new Ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=je(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,x;C._deleted||(C.persistenceManager=yield ui.create(C,p),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(x=C.currentUser)||void 0===x?void 0:x.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,u.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const x=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==S?void 0:S._redirectEventId,ye=yield _.tryRedirectSignIn(p);(!x||x===X)&&(null==ye?void 0:ye.user)&&(S=ye.user)}return S?S._redirectEventId?(ke(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,u.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,u.Z)(function*(){try{yield Sn(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,u.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&ke(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return p&&ke(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(je(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,u.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&je(p)||_._popupRedirectResolver;ke(C,_,"argument-error"),_.redirectPersistenceManager=yield ui.create(_,[je(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,u.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,u.Z)(function*(){if(p===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,S){if(this._deleted)return()=>{};const x="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(X,this,"internal-error"),X.then(()=>x(this.currentUser)),"function"==typeof _?p.addObserver(_,C,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Fr(v){return(0,j.m9)(v)}class Ls{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(v,p,_){const C=Fr(v);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),x=tc(p),{host:X,port:ye}=function(v){const p=tc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const x=S[1];return{host:x,port:Vr(C.substr(x.length+1))}}{const[x,X]=C.split(":");return{host:x,port:Vr(X)}}}(p);C.config.emulator={url:`${x}//${X}${null===ye?"":`:${ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:ye,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function tc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Vr(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Er{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return bn("not implemented")}_getIdTokenResponse(p){return bn("not implemented")}_linkToIdToken(p,_){return bn("not implemented")}_getReauthenticationResolver(p){return bn("not implemented")}}function ip(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",cn(v,p))})).apply(this,arguments)}function Gd(v,p){return qd.apply(this,arguments)}function qd(){return(qd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ym(v,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",cn(v,p))})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPassword",cn(v,p))})).apply(this,arguments)}function ic(v,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",cn(v,p))})).apply(this,arguments)}function vm(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,u.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function bm(v,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,u.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function lv(v,p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function sp(v,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function Kd(){return(Kd=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}class Ii extends Er{constructor(p,_,C,S=null){super("password",C),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ii(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new Ii(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return mo.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return Kd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Xt(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Gd(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Ku.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Xt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vs(v,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithIdp",cn(v,p))})).apply(this,arguments)}class Us extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Us(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=_,x=ce(_,["providerId","signInMethod"]);if(!C||!S)return null;const X=new Us(C,S);return X.idToken=x.idToken||void 0,X.accessToken=x.accessToken||void 0,X.secret=x.secret,X.nonce=x.nonce,X.pendingToken=x.pendingToken||null,X}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function pa(v,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",cn(v,p))})).apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p))})).apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(v,p){const _=yield Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p));if(_.temporaryProof)throw ue(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Gi={USER_NOT_FOUND:"user-not-found"};function Ju(){return(Ju=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gi)})).apply(this,arguments)}class fs extends Er{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new fs({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new fs({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ga.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return ac.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Ju.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:x}=p;return C||_||S||x?new fs({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:x}):null}}class ma{constructor(p){var _,C,S,x,X,ye;const $e=(0,j.zd)((0,j.pd)(p)),Fe=null!==(_=$e.apiKey)&&void 0!==_?_:null,ot=null!==(C=$e.oobCode)&&void 0!==C?C:null,qt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=$e.mode)&&void 0!==S?S:null);ke(Fe&&ot&&qt,"argument-error"),this.apiKey=Fe,this.operation=qt,this.code=ot,this.continueUrl=null!==(x=$e.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ye=$e.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const _=function(v){const p=(0,j.zd)((0,j.pd)(v)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||p||v}(p);try{return new ma(_)}catch(C){return null}}}let nu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Ii._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=ma.parseLink(C);return ke(S,"argument-error"),Ii._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Dr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class on extends yo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ke("providerId"in _&&"signInMethod"in _,"argument-error"),Us._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ke(p.idToken||p.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return on.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return on.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:x,nonce:X,providerId:ye}=p;if(!C&&!S&&!_&&!x||!ye)return null;try{return new on(ye)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:x})}catch($e){return null}}}let ap=(()=>{class v extends yo{constructor(){super("facebook.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return v.credential(C,S)}catch(x){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),_a=(()=>{class v extends yo{constructor(){super("github.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Mn extends Er{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:x}=_;return C&&S&&x&&C===S?new Mn(C,x):null}static _create(p,_){return new Mn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qi extends Dr{constructor(p){ke(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return qi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return qi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Mn.fromJSON(p);return ke(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Mn._create(C,_)}catch(S){return null}}}let li=(()=>{class v extends yo{constructor(){super("twitter.com")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return v.credential(C,S)}catch(x){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Qu(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signUp",cn(v,p))})).apply(this,arguments)}class yr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,S=!1){return(0,u.Z)(function*(){const x=yield _n._fromIdTokenResponse(p,C,S),X=ps(C);return new yr({user:x,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=ps(C);return new yr({user:p,providerId:S,_tokenResponse:C,operationType:_})})()}}function ps(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Xu(v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v){var p;const _=Fr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new yr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Qu(_,{returnSecureToken:!0}),S=yield yr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class ct extends j.ZR{constructor(p,_,C,S){var x;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,ct.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,S){return new ct(p,_,C,S)}}function Xd(v,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?ct._fromErrorAndOperation(v,x,p,C):x})}function eh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function cc(v,p){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v);yield gs(!0,_,p);const{providerUserInfo:C}=yield Gt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=eh(C||[]);return _.providerData=_.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function iu(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(v,p,_=!1){const C=yield Tt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return yr._forOperation(v,"link",C)})).apply(this,arguments)}function gs(v,p,_){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(v,p,_){yield Sn(p);const S=!1===v?"provider-already-linked":"no-such-provider";ke(eh(p.providerData).has(_)===v,p.auth,S)})).apply(this,arguments)}function xt(v,p){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(v,p,_=!1){const{auth:C}=v,S="reauthenticate";try{const x=yield Tt(v,Xd(C,S,p,v),_);ke(x.idToken,C,"internal-error");const X=dt(x.idToken);ke(X,C,"internal-error");const{sub:ye}=X;return ke(v.uid===ye,C,"user-mismatch"),yr._forOperation(v,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Xt(C,"user-mismatch"),x}})).apply(this,arguments)}function wn(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(v,p,_=!1){const C="signIn",S=yield Xd(v,C,p),x=yield yr._fromIdTokenResponse(v,C,S);return _||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Zi(v,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(v,p){return wn(Fr(v),p)})).apply(this,arguments)}function au(v,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v);return yield gs(!1,_,p.providerId),iu(_,p)})).apply(this,arguments)}function up(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(v,p){return xt((0,j.m9)(v),p)})).apply(this,arguments)}function nl(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,p){return Z(v,"POST","/v1/accounts:signInWithCustomToken",cn(v,p))})).apply(this,arguments)}function or(v,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(v,p){const _=Fr(v),C=yield nl(_,{token:p,returnSecureToken:!0}),S=yield yr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class va{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ms._fromServerResponse(p,_):Xt(p,"internal-error")}}class ms extends va{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ms(_)}}function Tr(v,p,_){var C;ke((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ke(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ke(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ke(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function wm(v,p,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"PASSWORD_RESET",email:p};_&&Tr(C,S,_),yield bm(C,S)})).apply(this,arguments)}function hc(v,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(v,p,_){yield ip((0,j.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function fc(v,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(v,p){yield ym((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function pc(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v),C=yield ip(_,{oobCode:p}),S=C.requestType;switch(ke(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,_,"internal-error");default:ke(C.email,_,"internal-error")}let x=null;return C.mfaInfo&&(x=va._fromServerResponse(Fr(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function rl(v,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(v,p){const{data:_}=yield pc((0,j.m9)(v),p);return _.email})).apply(this,arguments)}function cu(v,p,_){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v,p,_){const C=Fr(v),S=yield Qu(C,{returnSecureToken:!0,email:p,password:_}),x=yield yr._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(x.user),x})).apply(this,arguments)}function lp(v,p,_){return Zi((0,j.m9)(v),nu.credential(p,_))}function th(v,p,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};ke(_.handleCodeInApp,C,"argument-error"),_&&Tr(C,S,_),yield lv(C,S)})).apply(this,arguments)}function $o(v,p){const _=ma.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function cp(v,p,_){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=nu.credentialWithLink(p,_||Zn());return ke(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Zi(C,S)})).apply(this,arguments)}function Ir(v,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",cn(v,p))})).apply(this,arguments)}function Yn(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(v,p){const C={identifier:p,continueUri:st()?Zn():"http://localhost"},{signinMethods:S}=yield Ir((0,j.m9)(v),C);return S||[]})).apply(this,arguments)}function cv(v,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,u.Z)(function*(v,p){const _=(0,j.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Tr(_.auth,S,p);const{email:x}=yield vm(_.auth,S);x!==v.email&&(yield v.reload())})).apply(this,arguments)}function al(v,p,_){return gc.apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Tr(C.auth,x,_);const{email:X}=yield sp(C.auth,x);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function mc(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ca(v,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,j.m9)(v),x={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield Tt(C,mc(C.auth,x));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const ye=C.providerData.find(({providerId:$e})=>"password"===$e);ye&&(ye.displayName=C.displayName,ye.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function rr(v,p){return rh((0,j.m9)(v),p,null)}function _c(v,p){return rh((0,j.m9)(v),null,p)}function rh(v,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(v,p,_){const{auth:C}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(x.email=p),_&&(x.password=_);const X=yield Tt(v,Gd(C,x));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Go{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class ih extends Go{constructor(p,_,C,S){super(p,_,C),this.username=S}}class qo extends Go{constructor(p,_){super(p,"facebook.com",_)}}class yc extends ih{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class dp extends Go{constructor(p,_){super(p,"google.com",_)}}class Cm extends ih{constructor(p,_,C){super(p,"twitter.com",_,C)}}function Em(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Go(x,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new qo(x,S);case"github.com":return new yc(x,S);case"google.com":return new dp(x,S);case"twitter.com":return new Cm(x,S,v.screenName||null);case"custom":case"anonymous":return new Go(x,null);default:return new Go(x,C,S)}}(_)}class Ea{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Ea("enroll",p)}static _fromMfaPendingCredential(p){return new Ea("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ea._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Ea._fromIdtoken(p.multiFactorSession.idToken)}return null}}class js{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=Fr(p),S=_.customData._serverResponse,x=(S.mfaInfo||[]).map(ye=>va._fromServerResponse(C,ye));ke(S.mfaPendingCredential,C,"internal-error");const X=Ea._fromMfaPendingCredential(S.mfaPendingCredential);return new js(X,x,function(){var ye=(0,u.Z)(function*($e){const Fe=yield $e._process(C,X);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const qt=yield yr._fromIdTokenResponse(C,_.operationType,ot);return yield C._updateCurrentUser(qt.user),qt;case"reauthenticate":return ke(_.user,C,"internal-error"),yr._forOperation(_.user,_.operationType,ot);default:Xt(C,"internal-error")}});return function($e){return ye.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,u.Z)(function*(){return _.signInResolver(p)})()}}function bc(v,p){var _;const C=(0,j.m9)(v),S=p;return ke(p.customData.operationType,C,"argument-error"),ke(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),js._fromError(C,S)}function Da(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",cn(v,p))}class wc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>va._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new wc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Ea._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,u.Z)(function*(){const S=p,x=yield C.getSession(),X=yield Tt(C.user,S._process(C.user.auth,x,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(p){var _=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),x=yield Tt(_.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(v,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(x);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const ah=new WeakMap;function uh(v){const p=(0,j.m9)(v);return ah.has(p)||ah.set(p,wc._fromUser(p)),ah.get(p)}const wo="__sak";class hu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rn=(()=>{class v extends hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,j.z$)();return Lo(v)||eu(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Vo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),x=this.localCache[C];S!==x&&_(C,x,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((ye,$e,Fe)=>{this.notifyListeners(ye,Fe)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(S);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const x=()=>{const ye=this.storage.getItem(S);!C&&this.localCache[S]===ye||this.notifyListeners(S,ye)},X=this.storage.getItem(S);(0,j.w1)()&&10===document.documentMode&&X!==_.newValue&&_.newValue!==_.oldValue?setTimeout(x,10):x()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,x=this;return(0,u.Z)(function*(){yield S().call(x,_,C),x.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,u.Z)(function*(){const x=yield C().call(S,_);return S.localCache[_]=JSON.stringify(x),x})()}_remove(_){var C=()=>super._remove,S=this;return(0,u.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),vs=(()=>{class v extends hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let pu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(x=>x.isListeningto(_));if(C)return C;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,u.Z)(function*(){const S=_,{eventId:x,eventType:X,data:ye}=S.data,$e=C.handlersMap[X];if(!(null==$e?void 0:$e.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:X});const Fe=Array.from($e).map(function(){var qt=(0,u.Z)(function*(yn){return yn(S.origin,ye)});return function(yn){return qt.apply(this,arguments)}}()),ot=yield function(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:x,eventType:X,response:ot})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cl(v="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return v+_}class dl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var S=this;return(0,u.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let X,ye;return new Promise(($e,Fe)=>{const ot=cl("",20);x.port1.start();const qt=setTimeout(()=>{Fe(new Error("unsupported_event"))},C);ye={messageChannel:x,onMessage(yn){const Br=yn;if(Br.data.eventId===ot)switch(Br.data.status){case"ack":clearTimeout(qt),X=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e(Br.data.response);break;default:clearTimeout(qt),clearTimeout(X),Fe(new Error("invalid_response"))}}},S.handlers.add(ye),x.port1.addEventListener("message",ye.onMessage),S.target.postMessage({eventType:p,eventId:ot,data:_},[x.port2])}).finally(()=>{ye&&S.removeMessageHandler(ye)})})()}}function kt(){return window}function Co(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Ni(){return(Ni=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Dc="firebaseLocalStorageDb",Mi="firebaseLocalStorage",$s="fbase_key";class Yi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jr(v,p){return v.transaction([Mi],p?"readwrite":"readonly").objectStore(Mi)}function hl(){const v=indexedDB.open(Dc,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Mi,{keyPath:$s})}catch(S){_(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Mi)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(Dc);return new Yi(v).toPromise()}(),p(yield hl()))}))})}function ut(v,p,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(v,p,_){const C=Jr(v,!0).put({[$s]:p,value:_});return new Yi(C).toPromise()})).apply(this,arguments)}function dh(){return(dh=(0,u.Z)(function*(v,p){const _=Jr(v,!1).get(p),C=yield new Yi(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function On(v,p){const _=Jr(v,!0).delete(p);return new Yi(_).toPromise()}const gp=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield hl()),_.db})()}_withRetries(_){var C=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const x=yield C._openDb();return yield _(x)}catch(x){if(S++>3)throw x;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Co()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=pu._getInstance(Co()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(S,x){return{keyProcessed:(yield _._poll()).includes(x.key)}});return function(S,x){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return Ni.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new dl(_.activeServiceWorker);const x=yield _.sender._send("ping",{},800);!x||(null===(C=x[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield hl();return yield ut(_,wo,"1"),yield On(_,wo),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(x=>ut(x,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,u.Z)(function*(){const S=yield C._withRetries(x=>function(v,p){return dh.apply(this,arguments)}(x,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(S=>On(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const C=yield _._withRetries(X=>{const ye=Jr(X,!1).getAll();return new Yi(ye).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:X,value:ye}of C)x.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(ye)&&(_.notifyListeners(X,ye),S.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!x.has(X)&&(_.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const x of Array.from(S))x(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Dm(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",cn(v,p))}function hh(){return(hh=(0,u.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const x=Qt("internal-error");x.customData=S,_(x)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Tc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class Aa{constructor(p){this.auth=p,this.counter=Fn,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new Bn(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||Fn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,u.Z)(function*(){var C;return null===(C=_._widgets.get(p||Fn))||void 0===C||C.execute(),""})()}}class Bn{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ke(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pl=Tc("rcb"),Ki=new zn(3e4,6e4);class _u{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,_=""){return ke((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(kt().grecaptcha):new Promise((C,S)=>{const x=kt().setTimeout(()=>{S(Qt(p,"network-request-failed"))},Ki.get());kt()[pl]=()=>{kt().clearTimeout(x),delete kt()[pl];const ye=kt().grecaptcha;if(!ye)return void S(Qt(p,"internal-error"));const $e=ye.render;ye.render=(Fe,ot)=>{const qt=$e(Fe,ot);return this.counter++,qt},this.hostLanguage=_,C(ye)},Pn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:pl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(x),S(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hs{load(p){return(0,u.Z)(function*(){return new Aa(p)})()}clearedOneInstance(){}}const Ac="recaptcha",fh={theme:"light",type:"image"};class Zo{constructor(p,_=Object.assign({},fh),C){this.parameters=_,this.type=Ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(C),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ke(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hs:new _u,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(x=>{const X=ye=>{!ye||(p.tokenChangeListeners.delete(X),x(ye))};p.tokenChangeListeners.add(X),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=kt()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){ke(st()&&!Co(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return hh.apply(this,arguments)}(p.auth);ke(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gs{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=fs._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ph(v,p,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(v,p,_){const C=Fr(v),S=yield E(C,p,(0,j.m9)(_));return new Gs(S,x=>Zi(C,x))})).apply(this,arguments)}function Qn(v,p,_){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);yield gs(!1,C,"phone");const S=yield E(C.auth,p,(0,j.m9)(_));return new Gs(S,x=>au(C,x))})).apply(this,arguments)}function mp(v,p,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=yield E(C.auth,p,(0,j.m9)(_));return new Gs(S,x=>up(C,x))})).apply(this,arguments)}function E(v,p,_){return I.apply(this,arguments)}function I(){return(I=(0,u.Z)(function*(v,p,_){var C;const S=yield _.verify();try{let x;if(ke("string"==typeof S,v,"argument-error"),ke(_.type===Ac,v,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const X=x.session;if("phoneNumber"in x)return ke("enroll"===X.type,v,"internal-error"),(yield Da(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ke("signin"===X.type,v,"internal-error");const ye=(null===(C=x.multiFactorHint)||void 0===C?void 0:C.uid)||x.multiFactorUid;return ke(ye,v,"missing-multi-factor-info"),(yield Dm(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield pa(v,{phoneNumber:x.phoneNumber,recaptchaToken:S});return X}}finally{_._reset()}})).apply(this,arguments)}function R(v,p){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(v,p){yield iu((0,j.m9)(v),p)})).apply(this,arguments)}let te=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Fr(_)}verifyPhoneNumber(_,C){return E(this.auth,_,(0,j.m9)(C))}static credential(_,C){return fs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?fs._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function he(v,p){return p?je(p):(ke(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ae extends Er{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Vs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Vs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ge(v){return wn(v.auth,new Ae(v),v.bypassAuthState)}function ze(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),xt(_,new Ae(v),v.bypassAuthState)}function Ut(v){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),iu(_,new Ae(v),v.bypassAuthState)})).apply(this,arguments)}class sr{constructor(p,_,C,S,x=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,u.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:x,tenantId:X,error:ye,type:$e}=p;if(ye)return void _.reject(ye);const Fe={auth:_.auth,requestUri:C,sessionId:S,tenantId:X||void 0,postBody:x||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(Fe))}catch(ot){_.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ge;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return ze;default:Xt(this.auth,"internal-error")}}resolve(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hi=new zn(2e3,1e4);function ar(v,p,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(v,p,_){const C=Fr(v);Ei(v,p,Dr);const S=he(C,_);return new mt(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function yu(v,p,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Dr);const S=he(C.auth,_);return new mt(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function qs(v,p,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Dr);const S=he(C.auth,_);return new mt(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let mt=(()=>{class v extends sr{constructor(_,C,S,x,X){super(_,C,x,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const C=yield _.execute();return ke(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,u.Z)(function*(){qn(1===_.filter.length,"Popup operations only handle one event");const C=cl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hi.get())};_()}}return v.currentPopupAction=null,v})();const Cn=new Map;class _p extends sr{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,u.Z)(function*(){let C=Cn.get(_.auth._key());if(!C){try{const x=(yield function(v,p){return zo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(x)}catch(S){C=()=>Promise.reject(S)}Cn.set(_.auth._key(),C)}return _.bypassAuthState||Cn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function zo(){return(zo=(0,u.Z)(function*(v,p){const _=Sm(p),C=gh(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function vu(v,p){return yp.apply(this,arguments)}function yp(){return(yp=(0,u.Z)(function*(v,p){return gh(v)._set(Sm(p),"true")})).apply(this,arguments)}function Zs(){Cn.clear()}function gh(v){return je(v._redirectPersistence)}function Sm(v){return ft("pendingRedirect",v.config.apiKey,v.name)}function bu(v,p,_){return function(v,p,_){return Xn.apply(this,arguments)}(v,p,_)}function Xn(){return(Xn=(0,u.Z)(function*(v,p,_){const C=Fr(v);Ei(v,p,Dr);const S=he(C,_);return yield vu(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ur(v,p,_){return function(v,p,_){return mh.apply(this,arguments)}(v,p,_)}function mh(){return(mh=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Dr);const S=he(C.auth,_);yield vu(S,C.auth);const x=yield Mc(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function _h(v,p,_){return function(v,p,_){return yh.apply(this,arguments)}(v,p,_)}function yh(){return(yh=(0,u.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ei(C.auth,p,Dr);const S=he(C.auth,_);yield gs(!1,C,p.providerId),yield vu(S,C.auth);const x=yield Mc(C);return S._openRedirect(C.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function Nm(v,p){return vp.apply(this,arguments)}function vp(){return(vp=(0,u.Z)(function*(v,p){return yield Fr(v)._initializationPromise,Wo(v,p,!1)})).apply(this,arguments)}function Wo(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,p,_=!1){const C=Fr(v),S=he(C,p),X=yield new _p(C,S,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,p)),X})).apply(this,arguments)}function Mc(v){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(v){const p=cl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class gl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ka(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!ka(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(p))}saveEventToCache(p){this.cachedEventUids.add(pv(p)),this.lastProcessedEventTime=Date.now()}}function pv(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ka({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function vh(v){return wu.apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const bp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yo=/^https?/;function bh(){return(bh=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield vh(v);for(const _ of p)try{if(wp(_))return}catch(C){}Xt(v,"unauthorized-domain")})).apply(this,arguments)}function wp(v){const p=Zn(),{protocol:_,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!Yo.test(_))return!1;if(bp.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const wh=new zn(3e4,6e4);function ml(){const v=kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let _l=null;function Cp(v){return _l=_l||function(v){return new Promise((p,_)=>{var C,S,x;function X(){ml(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ml(),_(Qt(v,"network-request-failed"))},timeout:wh.get()})}if(null===(S=null===(C=kt().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=kt().gapi)||void 0===x?void 0:x.load)){const ye=Tc("iframefcb");return kt()[ye]=()=>{gapi.load?X():_(Qt(v,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${ye}`)}X()}}).catch(p=>{throw _l=null,p})}(v),_l}const Cu=new zn(5e3,15e3),Ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vv(v){const p=v.config;ke(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=yv.get(v.config.apiHost);S&&(C.eid=S);const x=v._getFrameworks();return x.length&&(C.fw=x.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Oa(){return(Oa=(0,u.Z)(function*(v){const p=yield Cp(v),_=kt().gapi;return ke(_,v,"internal-error"),p.open({where:document.body,url:vv(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ch,dontclear:!0},C=>new Promise(function(){var S=(0,u.Z)(function*(x,X){yield C.restyle({setHideOnLeave:!1});const ye=Qt(v,"network-request-failed"),$e=kt().setTimeout(()=>{X(ye)},Cu.get());function Fe(){kt().clearTimeout($e),x(C)}C.ping(Fe).then(Fe,()=>{X(ye)})});return function(x,X){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Mm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Eh(v,p,_,C,S,x){ke(v.config.authDomain,v,"auth-domain-config-required"),ke(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:S};if(p instanceof Dr){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,Fe]of Object.entries(x||{}))X[$e]=Fe}if(p instanceof yo){const $e=p.getScopes().filter(Fe=>""!==Fe);$e.length>0&&(X.scopes=$e.join(","))}v.tenantId&&(X.tid=v.tenantId);const ye=X;for(const $e of Object.keys(ye))void 0===ye[$e]&&delete ye[$e];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(ye).slice(1)}`}const bl="webStorageSupport",kc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Wo}_openPopup(p,_,C,S){var x=this;return(0,u.Z)(function*(){var X;qn(null===(X=x.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ye=Eh(p,_,C,Zn(),S);return function(v,p,_,C=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let ye="";const $e=Object.assign(Object.assign({},Mm),{width:C.toString(),height:S.toString(),top:x,left:X}),Fe=(0,j.z$)().toLowerCase();_&&(ye=Or(Fe)?"_blank":_),mr(Fe)&&(p=p||"http://localhost",$e.scrollbars="yes");const ot=Object.entries($e).reduce((yn,[Br,vn])=>`${yn}${Br}=${vn},`,"");if(function(v=(0,j.z$)()){var p;return eu(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==ye)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",ye),new yl(null);const qt=window.open(p||"",ye,ot);ke(qt,v,"popup-blocked");try{qt.focus()}catch(yn){}return new yl(qt)}(p,ye,cl())})()}_openRedirect(p,_,C,S){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(p),v=Eh(p,_,C,Zn(),S),kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:x}=this.eventManagers[_];return S?Promise.resolve(S):(qn(x,"If manager is not set, promise should be"),x)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C}initAndGetManager(p){var _=this;return(0,u.Z)(function*(){const C=yield function(v){return Oa.apply(this,arguments)}(p),S=new gl(p);return C.register("authEvent",x=>(ke(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(bl,{type:bl},S=>{var x;const X=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[bl];void 0!==X&&_(!!X),Xt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return bh.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vo()||Lo()||eu()}};class Qo extends class{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return bn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qo(p)}_finalizeEnroll(p,_,C){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",cn(v,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",cn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dh=(()=>{class v{constructor(){}static assertion(_){return Qo._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Ip="@firebase/auth";class wv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ap(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const S=_.getImmediate(),x=_.getOptions();if((0,j.vZ)(x,null!=p?p:{}))return S;Xt(S,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:kc,persistence:[gp,Rn,vs]})}v="Browser",(0,O._registerComponent)(new Bt.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:x}=C.options;return(X=>{ke(S&&!S.includes(":"),"invalid-api-key",{appName:X.name}),ke(!(null==x?void 0:x.includes(":")),"argument-error",{appName:X.name});const ye={apiKey:S,authDomain:x,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fs(v)},$e=new Pr(X,ye);return function(v,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(je);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}($e,_),$e})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Bt.wA("auth-internal",p=>{const _=Fr(p.getProvider("auth").getImmediate());return new wv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ip,"0.19.3",void 0),(0,O.registerVersion)(Ip,"0.19.3","esm2017")},3854:(We,we,F)=>{"use strict";F.d(we,{BH:()=>de,LL:()=>Ke,ZR:()=>Bt,zI:()=>gt,US:()=>ee,tV:()=>z,$s:()=>tn,r3:()=>sn,Sg:()=>Oe,ne:()=>qn,vZ:()=>Qt,ZB:()=>B,pd:()=>ke,m9:()=>ho,z$:()=>Ne,jU:()=>ne,ru:()=>se,d:()=>xe,xb:()=>mn,w1:()=>At,hl:()=>Tn,uI:()=>De,UG:()=>ge,b$:()=>Ee,G6:()=>_t,Mn:()=>Mt,xO:()=>Ei,zd:()=>Hi,eu:()=>Ct});const le=function(Z){const q=[];let W=0;for(let be=0;be<Z.length;be++){let ue=Z.charCodeAt(be);ue<128?q[W++]=ue:ue<2048?(q[W++]=ue>>6|192,q[W++]=63&ue|128):55296==(64512&ue)&&be+1<Z.length&&56320==(64512&Z.charCodeAt(be+1))?(ue=65536+((1023&ue)<<10)+(1023&Z.charCodeAt(++be)),q[W++]=ue>>18|240,q[W++]=ue>>12&63|128,q[W++]=ue>>6&63|128,q[W++]=63&ue|128):(q[W++]=ue>>12|224,q[W++]=ue>>6&63|128,q[W++]=63&ue|128)}return q},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let ue=0;ue<Z.length;ue+=3){const qe=Z[ue],lt=ue+1<Z.length,Gt=lt?Z[ue+1]:0,In=ue+2<Z.length,Wn=In?Z[ue+2]:0;let K=(15&Gt)<<2|Wn>>6,Y=63&Wn;In||(Y=64,lt||(K=64)),be.push(W[qe>>2],W[(3&qe)<<4|Gt>>4],W[K],W[Y])}return be.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(le(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let W=0,be=0;for(;W<Z.length;){const ue=Z[W++];if(ue<128)q[be++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const qe=Z[W++];q[be++]=String.fromCharCode((31&ue)<<6|63&qe)}else if(ue>239&&ue<365){const In=((7&ue)<<18|(63&Z[W++])<<12|(63&Z[W++])<<6|63&Z[W++])-65536;q[be++]=String.fromCharCode(55296+(In>>10)),q[be++]=String.fromCharCode(56320+(1023&In))}else{const qe=Z[W++],lt=Z[W++];q[be++]=String.fromCharCode((15&ue)<<12|(63&qe)<<6|63&lt)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const W=q?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let ue=0;ue<Z.length;){const qe=W[Z.charAt(ue++)],Gt=ue<Z.length?W[Z.charAt(ue)]:0;++ue;const Wn=ue<Z.length?W[Z.charAt(ue)]:64;++ue;const ie=ue<Z.length?W[Z.charAt(ue)]:64;if(++ue,null==qe||null==Gt||null==Wn||null==ie)throw Error();be.push(qe<<2|Gt>>4),64!==Wn&&(be.push(Gt<<4&240|Wn>>2),64!==ie&&be.push(Wn<<6&192|ie))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},Q=function(Z){return function(Z){const q=le(Z);return ee.encodeByteArray(q,!0)}(Z).replace(/\./g,"")},z=function(Z){try{return ee.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function B(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const W in q)!q.hasOwnProperty(W)||!G(W)||(Z[W]=B(Z[W],q[W]));return Z}function G(Z){return"__proto__"!==Z}class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,W)=>{this.resolve=q,this.reject=W})}wrapCallback(q){return(W,be)=>{W?this.reject(W):this.resolve(be),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(W):q(W,be))}}}function Oe(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=q||"demo-project",ue=Z.iat||0,qe=Z.sub||Z.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:ue,exp:ue+3600,auth_time:ue,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(lt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ne(){return"object"==typeof self&&self.self===self}function se(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return Ne().indexOf("Electron/")>=0}function At(){const Z=Ne();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Mt(){return Ne().indexOf("MSAppHost/")>=0}function _t(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tn(){return"object"==typeof indexedDB}function Ct(){return new Promise((Z,q)=>{try{let W=!0;const be="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(be);ue.onsuccess=()=>{ue.result.close(),W||self.indexedDB.deleteDatabase(be),Z(!0)},ue.onupgradeneeded=()=>{W=!1},ue.onerror=()=>{var qe;q((null===(qe=ue.error)||void 0===qe?void 0:qe.message)||"")}}catch(W){q(W)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bt extends Error{constructor(q,W,be){super(W),this.code=q,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(q,W,be){this.service=q,this.serviceName=W,this.errors=be}create(q,...W){const be=W[0]||{},ue=`${this.service}/${q}`,qe=this.errors[q],lt=qe?function(Z,q){return Z.replace(Xa,(W,be)=>{const ue=q[be];return null!=ue?String(ue):`<${be}?>`})}(qe,be):"Error";return new Bt(ue,`${this.serviceName}: ${lt} (${ue}).`,be)}}const Xa=/\{\$([^}]+)}/g;function sn(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function mn(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function Qt(Z,q){if(Z===q)return!0;const W=Object.keys(Z),be=Object.keys(q);for(const ue of W){if(!be.includes(ue))return!1;const qe=Z[ue],lt=q[ue];if(xs(qe)&&xs(lt)){if(!Qt(qe,lt))return!1}else if(qe!==lt)return!1}for(const ue of be)if(!W.includes(ue))return!1;return!0}function xs(Z){return null!==Z&&"object"==typeof Z}function Ei(Z){const q=[];for(const[W,be]of Object.entries(Z))Array.isArray(be)?be.forEach(ue=>{q.push(encodeURIComponent(W)+"="+encodeURIComponent(ue))}):q.push(encodeURIComponent(W)+"="+encodeURIComponent(be));return q.length?"&"+q.join("&"):""}function Hi(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[ue,qe]=be.split("=");q[decodeURIComponent(ue)]=decodeURIComponent(qe)}}),q}function ke(Z){const q=Z.indexOf("?");if(!q)return"";const W=Z.indexOf("#",q);return Z.substring(q,W>0?W:void 0)}function qn(Z,q){const W=new Di(Z,q);return W.subscribe.bind(W)}class Di{constructor(q,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{q(this)}).catch(be=>{this.error(be)})}next(q){this.forEachObserver(W=>{W.next(q)})}error(q){this.forEachObserver(W=>{W.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,W,be){let ue;if(void 0===q&&void 0===W&&void 0===be)throw new Error("Missing Observer.");ue=function(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const W of["next","error","complete"])if(W in Z&&"function"==typeof Z[W])return!0;return!1}(q)?q:{next:q,error:W,complete:be},void 0===ue.next&&(ue.next=gr),void 0===ue.error&&(ue.error=gr),void 0===ue.complete&&(ue.complete=gr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(lt){}}),this.observers.push(ue),qe}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,q)}sendOne(q,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{W(this.observers[q])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gr(){}function tn(Z,q=1e3,W=2){const be=q*Math.pow(W,Z),ue=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+ue)}function ho(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(We,we,F)=>{"use strict";F.d(we,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.6.0","app")},7841:(We,we,F)=>{"use strict";F.d(we,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(We,we,F)=>{"use strict";F.r(we);var u=F(8239),j=F(3394),O=F(2476),le=F(3854),ce=(F(8026),F(5422),F(3910));function Q(){return window}function B(){return(B=(0,u.Z)(function*(ie,K,Y){var Ce;const{BuildInfo:Ve}=Q();(0,O.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dt=yield ne(K.sessionId),Vt={};return(0,O.aq)()?Vt.ibi=Ve.packageName:(0,O.ar)()?Vt.apn=Ve.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),Ve.displayName&&(Vt.appDisplayName=Ve.displayName),Vt.sessionId=dt,(0,O.at)(ie,Y,K.type,void 0,null!==(Ce=K.eventId)&&void 0!==Ce?Ce:void 0,Vt)})).apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(ie){const{BuildInfo:K}=Q(),Y={};(0,O.aq)()?Y.iosBundleId=K.packageName:(0,O.ar)()?Y.androidPackageName=K.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,Y)})).apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(ie,K,Y){const{cordova:Ce}=Q();let Ve=()=>{};try{yield new Promise((dt,Vt)=>{let Tt=null;function xn(){var vt;dt();const Sn=null===(vt=Ce.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function hn(){Tt||(Tt=window.setTimeout(()=>{Vt((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}K.addPassiveListener(xn),document.addEventListener("resume",hn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",An,!1),Ve=()=>{K.removePassiveListener(xn),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",An,!1),Tt&&window.clearTimeout(Tt)}})}finally{Ve()}})).apply(this,arguments)}function ne(ie){return se.apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(ie){const K=Ee(ie),Y=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(Y)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ee(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const K=new ArrayBuffer(ie.length),Y=new Uint8Array(K);for(let Ce=0;Ce<ie.length;Ce++)Y[Ce]=ie.charCodeAt(Ce);return Y}class At extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(K)),super.onEvent(K)}initialized(){var K=this;return(0,u.Z)(function*(){yield K.initPromise})()}}function _t(ie){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(ie){const K=yield Ot()._get(Xe(ie));return K&&(yield Ot()._remove(Xe(ie))),K})).apply(this,arguments)}function gt(){const ie=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const Ce=Math.floor(Math.random()*K.length);ie.push(K.charAt(Ce))}return ie.join("")}function Ot(){return(0,O.ax)(O.b)}function Xe(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function cs(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[K,...Y]=ie.split("?");return(0,le.zd)(Y.join("?"))}function Wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function sn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function mn(ie=(0,le.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hi(){try{const ie=self.localStorage,K=O.aG();if(ie)return ie.setItem(K,"1"),ie.removeItem(K),!function(ie=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,le.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,le.hl)()}catch(ie){return ke()&&(0,le.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return("http:"===sn()||"https:"===sn()||(0,le.ru)()||mn())&&!((0,le.b$)()||(0,le.UG)())&&Hi()&&!ke()}function qn(){return mn()&&"undefined"!=typeof document}function je(){return(je=(0,u.Z)(function*(){return!!qn()&&new Promise(ie=>{const K=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ie(!0)})})})).apply(this,arguments)}const Ht={LOCAL:"local",NONE:"none",SESSION:"session"},gr=O.aw,Zn="persistence";function nt(ie){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(ie){yield ie._initializationPromise;const K=zn(),Y=O.ay(Zn,ie.config.apiKey,ie.name);(null==K?void 0:K.sessionStorage)&&K.sessionStorage.setItem(Y,ie._getPersistence())})).apply(this,arguments)}function zn(){return"undefined"!=typeof window?window:null}const en=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,u.Z)(function*(){const Ce=K._key();let Ve=Y.eventManagers.get(Ce);return Ve||(Ve=new At(K),Y.eventManagers.set(Ce,Ve),Y.attachCallbackListeners(K,Ve)),Ve})()}_openPopup(K){(0,O.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,u.Z)(function*(){!function(ie){var K,Y,Ce,Ve,dt,Vt,Tt,xn,hn,An;const vt=Q();(0,O.aw)("function"==typeof(null===(K=null==vt?void 0:vt.universalLinks)||void 0===K?void 0:K.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(Y=null==vt?void 0:vt.BuildInfo)||void 0===Y?void 0:Y.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(dt=null===(Ve=null===(Ce=null==vt?void 0:vt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===dt?void 0:dt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(xn=null===(Tt=null===(Vt=null==vt?void 0:vt.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===xn?void 0:xn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(An=null===(hn=null==vt?void 0:vt.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===An?void 0:An.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Vt=yield dt._initialize(K);yield Vt.initialized(),Vt.resetRedirect(),(0,O.aB)(),yield dt._originValidation(K);const Tt=function(ie,K,Y=null){return{type:K,eventId:Y,urlResponse:null,sessionId:gt(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(K,Ce,Ve);yield function(ie,K){return Ot()._set(Xe(ie),K)}(K,Tt);const xn=yield function(ie,K,Y){return B.apply(this,arguments)}(K,Tt,Y),hn=yield function(ie){const{cordova:K}=Q();return new Promise(Y=>{K.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?K.plugins.browsertab.openUrl(ie):Ve=K.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),Y(Ve)})})}(xn);return function(ie,K,Y){return De.apply(this,arguments)}(K,Vt,hn)})()}_isIframeWebStorageSupported(K,Y){throw new Error("Method not implemented.")}_originValidation(K){const Y=K._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function(ie){return de.apply(this,arguments)}(K)),this.originValidationPromises[Y]}attachCallbackListeners(K,Y){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:dt}=Q(),Vt=setTimeout((0,u.Z)(function*(){yield _t(K),Y.onEvent(Wt())}),500),Tt=function(){var An=(0,u.Z)(function*(vt){clearTimeout(Vt);const Sn=yield _t(K);let fo=null;Sn&&(null==vt?void 0:vt.url)&&(fo=function(ie,K){var Y,Ce;const Ve=function(ie){const K=cs(ie),Y=K.link?decodeURIComponent(K.link):void 0,Ce=cs(Y).link,Ve=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return cs(Ve).link||Ve||Ce||Y||ie}(K);if(Ve.includes("/__/auth/callback")){const dt=cs(Ve),Vt=dt.firebaseError?function(ie){try{return JSON.parse(ie)}catch(K){return null}}(decodeURIComponent(dt.firebaseError)):null,Tt=null===(Ce=null===(Y=null==Vt?void 0:Vt.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ce?void 0:Ce[1],xn=Tt?(0,O.av)(Tt):null;return xn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Ve,postBody:null}}return null}(Sn,vt.url)),Y.onEvent(fo||Wt())});return function(Sn){return An.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Tt);const xn=Ve,hn=`${dt.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var An=(0,u.Z)(function*(vt){if(vt.toLowerCase().startsWith(hn)&&Tt({url:vt}),"function"==typeof xn)try{xn(vt)}catch(Sn){console.error(Sn)}});return function(vt){return An.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,Y,Ce,Ve){var dt=this;return(0,u.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(K,Y,Ce,Ve)})()}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,u.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(K,Y,Ce,Ve)})()}_isIframeWebStorageSupported(K,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,Y)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,u.Z)(function*(){if(K.underlyingResolver)return;const Y=yield function(){return je.apply(this,arguments)}();K.underlyingResolver=Y?K.cordovaResolver:K.browserResolver})()}}function et(ie){return ie.unwrap()}function cn(ie){return Yt(ie)}function Yt(ie){const{_tokenResponse:K}=ie instanceof le.ZR?ie.customData:ie;if(!K)return null;if(!(ie instanceof le.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return O.P.credentialFromResult(ie);const Y=K.providerId;if(!Y||Y===O.o.PASSWORD)return null;let Ce;switch(Y){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:dt,oauthTokenSecret:Vt,pendingToken:Tt,nonce:xn}=K;return dt||Vt||Ve||Tt?Tt?Y.startsWith("saml.")?O.aJ._create(Y,Tt):O.I._fromParams({providerId:Y,signInMethod:Y,pendingToken:Tt,idToken:Ve,accessToken:dt}):new O.T(Y).credential({idToken:Ve,accessToken:dt,rawNonce:xn}):null}return ie instanceof le.ZR?Ce.credentialFromError(ie):Ce.credentialFromResult(ie)}function dn(ie,K){return K.catch(Y=>{throw Y instanceof le.ZR&&function(ie,K){var Y;const Ce=null===(Y=K.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new q(ie,O.am(ie,K));else if(Ce){const Ve=Yt(K),dt=K;Ve&&(dt.credential=Ve,dt.tenantId=Ce.tenantId||void 0,dt.email=Ce.email||void 0,dt.phoneNumber=Ce.phoneNumber||void 0)}}(ie,Y),Y}).then(Y=>{const Ve=Y.user;return{operationType:Y.operationType,credential:cn(Y),additionalUserInfo:O.ak(Y),user:W.getOrCreate(Ve)}})}function ho(ie,K){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(ie,K){const Y=yield K;return{verificationId:Y.verificationId,confirm:Ce=>dn(ie,Y.confirm(Ce))}})).apply(this,arguments)}class q{constructor(K,Y){this.resolver=Y,this.auth=K.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dn(et(this.auth),this.resolver.resolveSignIn(K))}}class W{constructor(K){this._delegate=K,this.multiFactor=O.an(K)}static getOrCreate(K){return W.USER_MAP.has(K)||W.USER_MAP.set(K,new W(K)),W.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.Y(Y._delegate,K))})()}linkWithPhoneNumber(K,Y){var Ce=this;return(0,u.Z)(function*(){return ho(Ce.auth,O.l(Ce._delegate,K,Y))})()}linkWithPopup(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.d(Y._delegate,K,Pe))})()}linkWithRedirect(K){var Y=this;return(0,u.Z)(function*(){return yield nt(O.aC(Y.auth)),O.g(Y._delegate,K,Pe)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var Y=this;return(0,u.Z)(function*(){return dn(Y.auth,O.Z(Y._delegate,K))})()}reauthenticateWithPhoneNumber(K,Y){return ho(this.auth,O.r(this._delegate,K,Y))}reauthenticateWithPopup(K){return dn(this.auth,O.e(this._delegate,K,Pe))}reauthenticateWithRedirect(K){var Y=this;return(0,u.Z)(function*(){return yield nt(O.aC(Y.auth)),O.h(Y._delegate,K,Pe)})()}sendEmailVerification(K){return O.aa(this._delegate,K)}unlink(K){var Y=this;return(0,u.Z)(function*(){return yield O.aj(Y._delegate,K),Y})()}updateEmail(K){return O.af(this._delegate,K)}updatePassword(K){return O.ag(this._delegate,K)}updatePhoneNumber(K){return O.u(this._delegate,K)}updateProfile(K){return O.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,Y){return O.ab(this._delegate,K,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const be=O.aw;let ue=(()=>{class ie{constructor(Y,Ce){if(this.app=Y,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=Y.options;be(Ve,"invalid-api-key",{appName:Y.name});let dt=[O.K];if("undefined"!=typeof window){dt=function(ie,K){const Y=zn();if(!(null==Y?void 0:Y.sessionStorage))return[];const Ce=O.ay(Zn,ie,K);switch(Y.sessionStorage.getItem(Ce)){case Ht.NONE:return[O.K];case Ht.LOCAL:return[O.i,O.a];case Ht.SESSION:return[O.a];default:return[]}}(Ve,Y.name);for(const Tt of[O.i,O.b,O.a])dt.includes(Tt)||dt.push(Tt)}be(Ve,"invalid-api-key",{appName:Y.name});const Vt="undefined"!=typeof window?Pe:void 0;this._delegate=Ce.initialize({options:{persistence:dt,popupRedirectResolver:Vt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ce){O.E(this._delegate,Y,Ce)}applyActionCode(Y){return O.a1(this._delegate,Y)}checkActionCode(Y){return O.a2(this._delegate,Y)}confirmPasswordReset(Y,Ce){return O.a0(this._delegate,Y,Ce)}createUserWithEmailAndPassword(Y,Ce){var Ve=this;return(0,u.Z)(function*(){return dn(Ve._delegate,O.a4(Ve._delegate,Y,Ce))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return O.a9(this._delegate,Y)}isSignInWithEmailLink(Y){return O.a7(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,u.Z)(function*(){be(bn(),Y._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(Y._delegate,Pe);return Ce?dn(Y._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function(ie,K){(0,O.aC)(ie)._logFramework(K)}(this._delegate,Y)}onAuthStateChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:Tt}=qe(Y,Ce,Ve);return this._delegate.onAuthStateChanged(dt,Vt,Tt)}onIdTokenChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:Tt}=qe(Y,Ce,Ve);return this._delegate.onIdTokenChanged(dt,Vt,Tt)}sendSignInLinkToEmail(Y,Ce){return O.a6(this._delegate,Y,Ce)}sendPasswordResetEmail(Y,Ce){return O.$(this._delegate,Y,Ce||void 0)}setPersistence(Y){var Ce=this;return(0,u.Z)(function*(){let Ve;switch(function(ie,K){gr(Object.values(Ht).includes(K),ie,"invalid-persistence-type"),(0,le.b$)()?gr(K!==Ht.SESSION,ie,"unsupported-persistence-type"):(0,le.UG)()?gr(K===Ht.NONE,ie,"unsupported-persistence-type"):ke()?gr(K===Ht.NONE||K===Ht.LOCAL&&(0,le.hl)(),ie,"unsupported-persistence-type"):gr(K===Ht.NONE||Hi(),ie,"unsupported-persistence-type")}(Ce._delegate,Y),Y){case Ht.SESSION:Ve=O.a;break;case Ht.LOCAL:Ve=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ht.NONE:Ve=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return dn(this._delegate,O.W(this._delegate))}signInWithCredential(Y){return dn(this._delegate,O.X(this._delegate,Y))}signInWithCustomToken(Y){return dn(this._delegate,O._(this._delegate,Y))}signInWithEmailAndPassword(Y,Ce){return dn(this._delegate,O.a5(this._delegate,Y,Ce))}signInWithEmailLink(Y,Ce){return dn(this._delegate,O.a8(this._delegate,Y,Ce))}signInWithPhoneNumber(Y,Ce){return ho(this._delegate,O.s(this._delegate,Y,Ce))}signInWithPopup(Y){var Ce=this;return(0,u.Z)(function*(){return be(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),dn(Ce._delegate,O.c(Ce._delegate,Y,Pe))})()}signInWithRedirect(Y){var Ce=this;return(0,u.Z)(function*(){return be(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield nt(Ce._delegate),O.f(Ce._delegate,Y,Pe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return O.a3(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Ht,ie})();function qe(ie,K,Y){let Ce=ie;"function"!=typeof ie&&({next:Ce,error:K,complete:Y}=ie);const Ve=Ce;return{next:Vt=>Ve(Vt&&W.getOrCreate(Vt)),error:K,complete:Y}}class lt{constructor(){this.providerId="phone",this._delegate=new O.P(et(j.Z.auth()))}static credential(K,Y){return O.P.credential(K,Y)}verifyPhoneNumber(K,Y){return this._delegate.verifyPhoneNumber(K,Y)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=O.P.PROVIDER_ID;const Gt=O.aw;var ie;(ie=j.Z).INTERNAL.registerComponent(new ce.wA("auth-compat",K=>{const Y=K.getProvider("app-compat").getImmediate(),Ce=K.getProvider("auth");return new ue(Y,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(K,Y,Ce=j.Z.app()){var Ve;Gt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(K,Y,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ue,AuthCredential:O.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(We,we){!function(F){"use strict";function u(ge){return Array.prototype.slice.call(ge)}function j(ge){return new Promise(function(ne,se){ge.onsuccess=function(){ne(ge.result)},ge.onerror=function(){se(ge.error)}})}function O(ge,ne,se){var Ee,xe=new Promise(function(At,Mt){j(Ee=ge[ne].apply(ge,se)).then(At,Mt)});return xe.request=Ee,xe}function le(ge,ne,se){var Ee=O(ge,ne,se);return Ee.then(function(xe){if(xe)return new L(xe,Ee.request)})}function ae(ge,ne,se){se.forEach(function(Ee){Object.defineProperty(ge.prototype,Ee,{get:function(){return this[ne][Ee]},set:function(xe){this[ne][Ee]=xe}})})}function ee(ge,ne,se,Ee){Ee.forEach(function(xe){xe in se.prototype&&(ge.prototype[xe]=function(){return O(this[ne],xe,arguments)})})}function ce(ge,ne,se,Ee){Ee.forEach(function(xe){xe in se.prototype&&(ge.prototype[xe]=function(){return this[ne][xe].apply(this[ne],arguments)})})}function Q(ge,ne,se,Ee){Ee.forEach(function(xe){xe in se.prototype&&(ge.prototype[xe]=function(){return le(this[ne],xe,arguments)})})}function z(ge){this._index=ge}function L(ge,ne){this._cursor=ge,this._request=ne}function B(ge){this._store=ge}function G(ge){this._tx=ge,this.complete=new Promise(function(ne,se){ge.oncomplete=function(){ne()},ge.onerror=function(){se(ge.error)},ge.onabort=function(){se(ge.error)}})}function de(ge,ne,se){this._db=ge,this.oldVersion=ne,this.transaction=new G(se)}function Oe(ge){this._db=ge}ae(z,"_index",["name","keyPath","multiEntry","unique"]),ee(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(L,"_cursor",["direction","key","primaryKey","value"]),ee(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var ne=this,se=arguments;return Promise.resolve().then(function(){return ne._cursor[ge].apply(ne._cursor,se),j(ne._request).then(function(Ee){if(Ee)return new L(Ee,ne._request)})})})}),B.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ae(B,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce(B,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ae(G,"_tx",["objectStoreNames","mode"]),ce(G,"_tx",IDBTransaction,["abort"]),de.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ae(de,"_db",["name","version","objectStoreNames"]),ce(de,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},ae(Oe,"_db",["name","version","objectStoreNames"]),ce(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[B,z].forEach(function(ne){ge in ne.prototype&&(ne.prototype[ge.replace("open","iterate")]=function(){var se=u(arguments),Ee=se[se.length-1],xe=this._store||this._index,At=xe[ge].apply(xe,se.slice(0,-1));At.onsuccess=function(){Ee(At.result)}})})}),[z,B].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(ne,se){var Ee=this,xe=[];return new Promise(function(At){Ee.iterateCursor(ne,function(Mt){Mt?(xe.push(Mt.value),void 0===se||xe.length!=se?Mt.continue():At(xe)):At(xe)})})})}),F.openDb=function(ge,ne,se){var Ee=O(indexedDB,"open",[ge,ne]),xe=Ee.request;return xe&&(xe.onupgradeneeded=function(At){se&&se(new de(xe.result,At.oldVersion,xe.transaction))}),Ee.then(function(At){return new Oe(At)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},1593:(We,we,F)=>{"use strict";F.d(we,{P:()=>ce});var u=F(9193),j=F(5917),O=F(7574);class ce{constructor(z,L,B){this.kind=z,this.value=L,this.error=B,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,L,B){switch(this.kind){case"N":return z&&z(this.value);case"E":return L&&L(this.error);case"C":return B&&B()}}accept(z,L,B){return z&&"function"==typeof z.next?this.observe(z):this.do(z,L,B)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return Q=this.error,new O.y(L=>L.error(Q));case"C":return(0,u.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new ce("N",z):ce.undefinedValueNotification}static createError(z){return new ce("E",void 0,z)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},7574:(We,we,F)=>{"use strict";F.d(we,{y:()=>B});var u=F(7393),O=F(9181),le=F(6490),ee=F(6554),ce=F(4487);var L=F(2494);let B=(()=>{class de{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const De=new de;return De.source=this,De.operator=Ne,De}subscribe(Ne,De,ge){const{operator:ne}=this,se=function(de,Oe,Ne){if(de){if(de instanceof u.L)return de;if(de[O.b])return de[O.b]()}return de||Oe||Ne?new u.L(de,Oe,Ne):new u.L(le.c)}(Ne,De,ge);if(se.add(ne?ne.call(se,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!se.syncErrorThrowable?this._subscribe(se):this._trySubscribe(se)),L.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable&&(se.syncErrorThrowable=!1,se.syncErrorThrown))throw se.syncErrorValue;return se}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(De){L.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=De),function(de){for(;de;){const{closed:Oe,destination:Ne,isStopped:De}=de;if(Oe||De)return!1;de=Ne&&Ne instanceof u.L?Ne:null}return!0}(Ne)?Ne.error(De):console.warn(De)}}forEach(Ne,De){return new(De=G(De))((ge,ne)=>{let se;se=this.subscribe(Ee=>{try{Ne(Ee)}catch(xe){ne(xe),se&&se.unsubscribe()}},ne,ge)})}_subscribe(Ne){const{source:De}=this;return De&&De.subscribe(Ne)}[ee.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(de){return 0===de.length?ce.y:1===de.length?de[0]:function(Ne){return de.reduce((De,ge)=>ge(De),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=G(Ne))((De,ge)=>{let ne;this.subscribe(se=>ne=se,se=>ge(se),()=>De(ne))})}}return de.create=Oe=>new de(Oe),de})();function G(de){if(de||(de=L.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(We,we,F)=>{"use strict";F.d(we,{c:()=>O});var u=F(2494),j=F(4449);const O={closed:!0,next(le){},error(le){if(u.v.useDeprecatedSynchronousErrorHandling)throw le;(0,j.z)(le)},complete(){}}},9765:(We,we,F)=>{"use strict";F.d(we,{Yc:()=>ce,xQ:()=>Q});var u=F(7574),j=F(7393),O=F(5319),le=F(7971),ae=F(8858),ee=F(9181);class ce extends j.L{constructor(B){super(B),this.destination=B}}let Q=(()=>{class L extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ce(this)}lift(G){const de=new z(this,this);return de.operator=G,de}next(G){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:de}=this,Oe=de.length,Ne=de.slice();for(let De=0;De<Oe;De++)Ne[De].next(G)}}error(G){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:de}=this,Oe=de.length,Ne=de.slice();for(let De=0;De<Oe;De++)Ne[De].error(G);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:G}=this,de=G.length,Oe=G.slice();for(let Ne=0;Ne<de;Ne++)Oe[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new le.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new le.N;return this.hasError?(G.error(this.thrownError),O.w.EMPTY):this.isStopped?(G.complete(),O.w.EMPTY):(this.observers.push(G),new ae.W(this,G))}asObservable(){const G=new u.y;return G.source=this,G}}return L.create=(B,G)=>new z(B,G),L})();class z extends Q{constructor(B,G){super(),this.destination=B,this.source=G}next(B){const{destination:G}=this;G&&G.next&&G.next(B)}error(B){const{destination:G}=this;G&&G.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:G}=this;return G?this.source.subscribe(B):O.w.EMPTY}}},8858:(We,we,F)=>{"use strict";F.d(we,{W:()=>j});var u=F(5319);class j extends u.w{constructor(le,ae){super(),this.subject=le,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ae=le.observers;if(this.subject=null,!ae||0===ae.length||le.isStopped||le.closed)return;const ee=ae.indexOf(this.subscriber);-1!==ee&&ae.splice(ee,1)}}},7393:(We,we,F)=>{"use strict";F.d(we,{L:()=>ce});var u=F(9105),j=F(6490),O=F(5319),le=F(9181),ae=F(2494),ee=F(4449);class ce extends O.w{constructor(L,B,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof ce?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,L,B,G)}}[le.b](){return this}static create(L,B,G){const de=new ce(L,B,G);return de.syncErrorThrowable=!1,de}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Q extends ce{constructor(L,B,G,de){super(),this._parentSubscriber=L;let Oe,Ne=this;(0,u.m)(B)?Oe=B:B&&(Oe=B.next,G=B.error,de=B.complete,B!==j.c&&(Ne=Object.create(B),(0,u.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=Oe,this._error=G,this._complete=de}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ae.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:G}=ae.v;if(this._error)G&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)G?(B.syncErrorValue=L,B.syncErrorThrown=!0):(0,ee.z)(L),this.unsubscribe();else{if(this.unsubscribe(),G)throw L;(0,ee.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const B=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,B){try{L.call(this._context,B)}catch(G){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ee.z)(G)}}__tryOrSetError(L,B,G){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,G)}catch(de){return ae.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=de,L.syncErrorThrown=!0,!0):((0,ee.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(We,we,F)=>{"use strict";F.d(we,{w:()=>ee});var u=F(9796),j=F(1555),O=F(9105);const ae=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,B)=>`${B+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:B,_unsubscribe:G,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ee)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(G)){B&&(this._unsubscribe=void 0);try{G.call(this)}catch(Oe){z=Oe instanceof ae?ce(Oe.errors):[Oe]}}if((0,u.k)(de)){let Oe=-1,Ne=de.length;for(;++Oe<Ne;){const De=de[Oe];if((0,j.K)(De))try{De.unsubscribe()}catch(ge){z=z||[],ge instanceof ae?z=z.concat(ce(ge.errors)):z.push(ge)}}}if(z)throw new ae(z)}add(z){let L=z;if(!z)return ee.EMPTY;switch(typeof z){case"function":L=new ee(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ee)){const de=L;L=new ee,L._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=L;if(null===B)L._parentOrParents=this;else if(B instanceof ee){if(B===this)return L;L._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return L;B.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[L]:G.push(L),L}remove(z){const L=this._subscriptions;if(L){const B=L.indexOf(z);-1!==B&&L.splice(B,1)}}}var Q;function ce(Q){return Q.reduce((z,L)=>z.concat(L instanceof ae?L.errors:L),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(We,we,F)=>{"use strict";F.d(we,{v:()=>j});let u=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=O},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(We,we,F)=>{"use strict";F.d(we,{IY:()=>le,Ds:()=>ee,ft:()=>Q});var u=F(7393),j=F(7574),O=F(7444);class le extends u.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends u.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Q(z,L){if(L.closed)return;if(z instanceof j.y)return z.subscribe(L);let B;try{B=(0,O.s)(z)(L)}catch(G){L.error(G)}return B}},2441:(We,we,F)=>{"use strict";F.d(we,{c:()=>ae,N:()=>ee});var u=F(9765),j=F(7574),O=F(5319),le=F(1307);class ae extends j.y{constructor(B,G){super(),this.source=B,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new O.w,B.add(this.source.subscribe(new ce(this.getSubject(),this))),B.closed&&(this._connection=null,B=O.w.EMPTY)),B}refCount(){return(0,le.x)()(this)}}const ee=(()=>{const L=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ce extends u.Yc{constructor(B,G){super(B),this.connectable=G}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const G=B._connection;B._refCount=0,B._subject=null,B._connection=null,G&&G.unsubscribe()}}}},9193:(We,we,F)=>{"use strict";F.d(we,{E:()=>j,c:()=>O});var u=F(7574);const j=new u.y(ae=>ae.complete());function O(ae){return ae?function(ae){return new u.y(ee=>ae.schedule(()=>ee.complete()))}(ae):j}},4402:(We,we,F)=>{"use strict";F.d(we,{D:()=>Ne});var u=F(7574),j=F(7444),O=F(5319),le=F(6554),ce=F(4087),Q=F(377),B=F(4072),G=F(9489);function Ne(De,ge){return ge?function(De,ge){if(null!=De){if(function(De){return De&&"function"==typeof De[le.L]}(De))return function(De,ge){return new u.y(ne=>{const se=new O.w;return se.add(ge.schedule(()=>{const Ee=De[le.L]();se.add(Ee.subscribe({next(xe){se.add(ge.schedule(()=>ne.next(xe)))},error(xe){se.add(ge.schedule(()=>ne.error(xe)))},complete(){se.add(ge.schedule(()=>ne.complete()))}}))})),se})}(De,ge);if((0,B.t)(De))return function(De,ge){return new u.y(ne=>{const se=new O.w;return se.add(ge.schedule(()=>De.then(Ee=>{se.add(ge.schedule(()=>{ne.next(Ee),se.add(ge.schedule(()=>ne.complete()))}))},Ee=>{se.add(ge.schedule(()=>ne.error(Ee)))}))),se})}(De,ge);if((0,G.z)(De))return(0,ce.r)(De,ge);if(function(De){return De&&"function"==typeof De[Q.hZ]}(De)||"string"==typeof De)return function(De,ge){if(!De)throw new Error("Iterable cannot be null");return new u.y(ne=>{const se=new O.w;let Ee;return se.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),se.add(ge.schedule(()=>{Ee=De[Q.hZ](),se.add(ge.schedule(function(){if(ne.closed)return;let xe,At;try{const Mt=Ee.next();xe=Mt.value,At=Mt.done}catch(Mt){return void ne.error(Mt)}At?ne.complete():(ne.next(xe),this.schedule())}))})),se})}(De,ge)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,ge):De instanceof u.y?De:new u.y((0,j.s)(De))}},6693:(We,we,F)=>{"use strict";F.d(we,{n:()=>le});var u=F(7574),j=F(5015),O=F(4087);function le(ae,ee){return ee?(0,O.r)(ae,ee):new u.y((0,j.V)(ae))}},6682:(We,we,F)=>{"use strict";F.d(we,{T:()=>ae});var u=F(7574),j=F(4869),O=F(3282),le=F(6693);function ae(...ee){let ce=Number.POSITIVE_INFINITY,Q=null,z=ee[ee.length-1];return(0,j.K)(z)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ce=ee.pop())):"number"==typeof z&&(ce=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof u.y?ee[0]:(0,O.J)(ce)((0,le.n)(ee,Q))}},5917:(We,we,F)=>{"use strict";F.d(we,{of:()=>le});var u=F(4869),j=F(6693),O=F(4087);function le(...ae){let ee=ae[ae.length-1];return(0,u.K)(ee)?(ae.pop(),(0,O.r)(ae,ee)):(0,j.n)(ae)}},8002:(We,we,F)=>{"use strict";F.d(we,{U:()=>j});var u=F(7393);function j(ae,ee){return function(Q){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new O(ae,ee))}}class O{constructor(ee,ce){this.project=ee,this.thisArg=ce}call(ee,ce){return ce.subscribe(new le(ee,this.project,this.thisArg))}}class le extends u.L{constructor(ee,ce,Q){super(ee),this.project=ce,this.count=0,this.thisArg=Q||this}_next(ee){let ce;try{ce=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(ce)}}},3282:(We,we,F)=>{"use strict";F.d(we,{J:()=>O});var u=F(9773),j=F(4487);function O(le=Number.POSITIVE_INFINITY){return(0,u.zg)(j.y,le)}},9773:(We,we,F)=>{"use strict";F.d(we,{zg:()=>le});var u=F(8002),j=F(4402),O=F(5345);function le(Q,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(le((G,de)=>(0,j.D)(Q(G,de)).pipe((0,u.U)((Oe,Ne)=>z(G,Oe,de,Ne))),L)):("number"==typeof z&&(L=z),B=>B.lift(new ae(Q,L)))}class ae{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new ee(z,this.project,this.concurrent))}}class ee extends O.Ds{constructor(z,L,B=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const B=this.index++;try{L=this.project(z,B)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(L)}_innerSub(z){const L=new O.IY(this),B=this.destination;B.add(L);const G=(0,O.ft)(z,L);G!==L&&B.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(We,we,F)=>{"use strict";F.d(we,{QV:()=>O,ht:()=>ae});var u=F(7393),j=F(1593);function O(ce,Q=0){return function(L){return L.lift(new le(ce,Q))}}class le{constructor(Q,z=0){this.scheduler=Q,this.delay=z}call(Q,z){return z.subscribe(new ae(Q,this.scheduler,this.delay))}}class ae extends u.L{constructor(Q,z,L=0){super(Q),this.scheduler=z,this.delay=L}static dispatch(Q){const{notification:z,destination:L}=Q;z.observe(L),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new ee(Q,this.destination)))}_next(Q){this.scheduleMessage(j.P.createNext(Q))}_error(Q){this.scheduleMessage(j.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(j.P.createComplete()),this.unsubscribe()}}class ee{constructor(Q,z){this.notification=Q,this.destination=z}}},1307:(We,we,F)=>{"use strict";F.d(we,{x:()=>j});var u=F(7393);function j(){return function(ee){return ee.lift(new O(ee))}}class O{constructor(ee){this.connectable=ee}call(ee,ce){const{connectable:Q}=this;Q._refCount++;const z=new le(ee,Q),L=ce.subscribe(z);return z.closed||(z.connection=Q.connect()),L}}class le extends u.L{constructor(ee,ce){super(ee),this.connectable=ce}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ce=ee._refCount;if(ce<=0)return void(this.connection=null);if(ee._refCount=ce-1,ce>1)return void(this.connection=null);const{connection:Q}=this,z=ee._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(We,we,F)=>{"use strict";F.d(we,{B:()=>ce});var u=F(2441);var le=F(1307),ae=F(9765);function ee(){return new ae.xQ}function ce(){return Q=>(0,le.x)()(function(Q,z){return function(B){let G;G="function"==typeof Q?Q:function(){return Q};const de=Object.create(B,u.N);return de.source=B,de.subjectFactory=G,de}}(ee)(Q))}},2639:(We,we,F)=>{"use strict";F.d(we,{R:()=>De});var u=F(7574);let j=1;const O=Promise.resolve(),le={};function ae(ne){return ne in le&&(delete le[ne],!0)}const ee={setImmediate(ne){const se=j++;return le[se]=!0,O.then(()=>ae(se)&&ne()),se},clearImmediate(ne){ae(ne)}};var Q=F(6465),L=F(6102);const de=new class extends L.v{flush(se){this.active=!0,this.scheduled=void 0;const{actions:Ee}=this;let xe,At=-1,Mt=Ee.length;se=se||Ee.shift();do{if(xe=se.execute(se.state,se.delay))break}while(++At<Mt&&(se=Ee.shift()));if(this.active=!1,xe){for(;++At<Mt&&(se=Ee.shift());)se.unsubscribe();throw xe}}}(class extends Q.o{constructor(se,Ee){super(se,Ee),this.scheduler=se,this.work=Ee}requestAsyncId(se,Ee,xe=0){return null!==xe&&xe>0?super.requestAsyncId(se,Ee,xe):(se.actions.push(this),se.scheduled||(se.scheduled=ee.setImmediate(se.flush.bind(se,null))))}recycleAsyncId(se,Ee,xe=0){if(null!==xe&&xe>0||null===xe&&this.delay>0)return super.recycleAsyncId(se,Ee,xe);0===se.actions.length&&(ee.clearImmediate(Ee),se.scheduled=void 0)}});var Oe=F(6561);class Ne extends u.y{constructor(se,Ee=0,xe=de){super(),this.source=se,this.delayTime=Ee,this.scheduler=xe,(!(0,Oe.k)(Ee)||Ee<0)&&(this.delayTime=0),(!xe||"function"!=typeof xe.schedule)&&(this.scheduler=de)}static create(se,Ee=0,xe=de){return new Ne(se,Ee,xe)}static dispatch(se){const{source:Ee,subscriber:xe}=se;return this.add(Ee.subscribe(xe))}_subscribe(se){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:se})}}function De(ne,se=0){return function(xe){return xe.lift(new ge(ne,se))}}class ge{constructor(se,Ee){this.scheduler=se,this.delay=Ee}call(se,Ee){return new Ne(Ee,this.delay,this.scheduler).subscribe(se)}}},8307:(We,we,F)=>{"use strict";F.d(we,{b:()=>le});var u=F(7393),j=F(8640),O=F(9105);function le(ce,Q,z){return function(B){return B.lift(new ae(ce,Q,z))}}class ae{constructor(Q,z,L){this.nextOrObserver=Q,this.error=z,this.complete=L}call(Q,z){return z.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends u.L{constructor(Q,z,L,B){super(Q),this._tapNext=j.Z,this._tapError=j.Z,this._tapComplete=j.Z,this._tapError=L||j.Z,this._tapComplete=B||j.Z,(0,O.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||j.Z,this._tapError=z.error||j.Z,this._tapComplete=z.complete||j.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(We,we,F)=>{"use strict";F.d(we,{r:()=>O});var u=F(7574),j=F(5319);function O(le,ae){return new u.y(ee=>{const ce=new j.w;let Q=0;return ce.add(ae.schedule(function(){Q!==le.length?(ee.next(le[Q++]),ee.closed||ce.add(this.schedule())):ee.complete()})),ce})}},6465:(We,we,F)=>{"use strict";F.d(we,{o:()=>O});var u=F(5319);class j extends u.w{constructor(ae,ee){super()}schedule(ae,ee=0){return this}}class O extends j{constructor(ae,ee){super(ae,ee),this.scheduler=ae,this.work=ee,this.pending=!1}schedule(ae,ee=0){if(this.closed)return this;this.state=ae;const ce=this.id,Q=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Q,ce,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(ae,ee,ce=0){return setInterval(ae.flush.bind(ae,this),ce)}recycleAsyncId(ae,ee,ce=0){if(null!==ce&&this.delay===ce&&!1===this.pending)return ee;clearInterval(ee)}execute(ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ae,ee);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ee){let Q,ce=!1;try{this.work(ae)}catch(z){ce=!0,Q=!!z&&z||new Error(z)}if(ce)return this.unsubscribe(),Q}_unsubscribe(){const ae=this.id,ee=this.scheduler,ce=ee.actions,Q=ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&ce.splice(Q,1),null!=ae&&(this.id=this.recycleAsyncId(ee,ae,null)),this.delay=null}}},6102:(We,we,F)=>{"use strict";F.d(we,{v:()=>j});let u=(()=>{class O{constructor(ae,ee=O.now){this.SchedulerAction=ae,this.now=ee}schedule(ae,ee=0,ce){return new this.SchedulerAction(this,ae).schedule(ce,ee)}}return O.now=()=>Date.now(),O})();class j extends u{constructor(le,ae=u.now){super(le,()=>j.delegate&&j.delegate!==this?j.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ae=0,ee){return j.delegate&&j.delegate!==this?j.delegate.schedule(le,ae,ee):super.schedule(le,ae,ee)}flush(le){const{actions:ae}=this;if(this.active)return void ae.push(le);let ee;this.active=!0;do{if(ee=le.execute(le.state,le.delay))break}while(le=ae.shift());if(this.active=!1,ee){for(;le=ae.shift();)le.unsubscribe();throw ee}}}},3637:(We,we,F)=>{"use strict";F.d(we,{z:()=>O,P:()=>le});var u=F(6465);const O=new(F(6102).v)(u.o),le=O},7771:(We,we,F)=>{"use strict";F.d(we,{c:()=>ee,N:()=>ae});var u=F(6465),O=F(6102);const ae=new class extends O.v{}(class extends u.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(Q,z,L):Q.flush(this)}}),ee=ae},377:(We,we,F)=>{"use strict";F.d(we,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,we,F)=>{"use strict";F.d(we,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,we,F)=>{"use strict";F.d(we,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,we,F)=>{"use strict";F.d(we,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(We,we,F)=>{"use strict";function u(j){setTimeout(()=>{throw j},0)}F.d(we,{z:()=>u})},4487:(We,we,F)=>{"use strict";function u(j){return j}F.d(we,{y:()=>u})},9796:(We,we,F)=>{"use strict";F.d(we,{k:()=>u});const u=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(We,we,F)=>{"use strict";F.d(we,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(We,we,F)=>{"use strict";function u(j){return"function"==typeof j}F.d(we,{m:()=>u})},6561:(We,we,F)=>{"use strict";F.d(we,{k:()=>j});var u=F(9796);function j(O){return!(0,u.k)(O)&&O-parseFloat(O)+1>=0}},1555:(We,we,F)=>{"use strict";function u(j){return null!==j&&"object"==typeof j}F.d(we,{K:()=>u})},4072:(We,we,F)=>{"use strict";function u(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(we,{t:()=>u})},4869:(We,we,F)=>{"use strict";function u(j){return j&&"function"==typeof j.schedule}F.d(we,{K:()=>u})},8640:(We,we,F)=>{"use strict";function u(){}F.d(we,{Z:()=>u})},7444:(We,we,F)=>{"use strict";F.d(we,{s:()=>B});var u=F(5015),j=F(4449),le=F(377),ee=F(6554),Q=F(9489),z=F(4072),L=F(1555);const B=G=>{if(G&&"function"==typeof G[ee.L])return(G=>de=>{const Oe=G[ee.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(de)})(G);if((0,Q.z)(G))return(0,u.V)(G);if((0,z.t)(G))return(G=>de=>(G.then(Oe=>{de.closed||(de.next(Oe),de.complete())},Oe=>de.error(Oe)).then(null,j.z),de))(G);if(G&&"function"==typeof G[le.hZ])return(G=>de=>{const Oe=G[le.hZ]();for(;;){let Ne;try{Ne=Oe.next()}catch(De){return de.error(De),de}if(Ne.done){de.complete();break}if(de.next(Ne.value),de.closed)break}return"function"==typeof Oe.return&&de.add(()=>{Oe.return&&Oe.return()}),de})(G);{const Oe=`You provided ${(0,L.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(We,we,F)=>{"use strict";F.d(we,{V:()=>u});const u=j=>O=>{for(let le=0,ae=j.length;le<ae&&!O.closed;le++)O.next(j[le]);O.complete()}},5964:(We,we,F)=>{"use strict";var u=F(7716);let j=null;function O(){return j}const ce=new u.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,u.LFG)(B)}const L=new u.OlP("Location Initialized");let B=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){G()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){G()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=(0,u.Yz7)({factory:de,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function de(){return new B((0,u.LFG)(ce))}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:ne,token:n,providedIn:"root"}),n})();function ne(n){const e=(0,u.LFG)(ce).location;return new Ee((0,u.LFG)(Q),e&&e.origin||"")}const se=new u.OlP("appBaseHref");let Ee=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+De(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const h=this.prepareExternalUrl(o+De(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){const h=this.prepareExternalUrl(o+De(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q),u.LFG(se,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let h=this.prepareExternalUrl(o+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){let h=this.prepareExternalUrl(o+De(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q),u.LFG(se,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),At=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(_t(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+De(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_t(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+De(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(Q))},n.normalizeQueryParams=De,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275prov=(0,u.Yz7)({factory:Mt,token:n,providedIn:"root"}),n})();function Mt(){return new At((0,u.LFG)(ge),(0,u.LFG)(Q))}function _t(n){return n.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const ke=u.kL8;class ui{}let mr=(()=>{class n extends ui{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ke(r||this.locale)(t)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ti{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let It=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,c,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Ti(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new eu(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,h);const b=new eu(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class eu{constructor(e,t){this.record=e,this.view=t}}let Nn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ec,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ec{constructor(){this.$implicit=null,this.ngIf=null}}function Vo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let _r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:ui,useClass:mr}]}),n})();function ga(n){return"server"===n}let tu=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ju((0,u.LFG)(ce),window)}),n})();class Ju{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new nu,j||(j=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Dr=Dr||document.querySelector("base"),Dr?Dr.getAttribute("href"):null);return null==t?null:function(n){on=on||document.createElement("a"),on.setAttribute("href",n);const e=on.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let on,Dr=null;const uc=new u.OlP("TRANSITION_ID"),Si=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[uc,ce,u.zs3],multi:!0}];class Mn{static init(){(0,u.VLi)(new Mn)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const m=function(b){h=h||b,c--,0==c&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=new u.OlP("EventManagerPlugins");let Te=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let su=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wn=(()=>{class n extends su{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ou),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ou))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ou(n){O().remove(n)}const Zi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yr=/%COMP%/g;function or(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?or(n,o,t):(o=o.replace(Yr,n),t.push(o))}return t}function Kr(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ms=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Tr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new uu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=or(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Te),u.LFG(wn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Tr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Zi[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Zi[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Zi[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kr(r)):this.eventManager.addEventListener(e,t,Kr(r))}}class uu extends Tr{constructor(e,t,r,o){super(e),this.component=r;const c=or(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Yr,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Yr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends Tr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=or(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const m=document.createElement("style");m.textContent=c[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Bo=(()=>{class n extends xt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=["alt","control","meta","shift"],du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let al=(()=>{class n extends xt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if($o.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),h+=b+".")}),h+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ir.hasOwnProperty(e)&&(e=Ir[e]))}return du[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),$o.forEach(c=>{c!=o&&nh[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){nu.makeCurrent(),Mn.init()},multi:!0},{provide:ce,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),yc=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:gs,useClass:Bo,multi:!0,deps:[ce,u.R0b,u.Lbi]},{provide:gs,useClass:al,multi:!0,deps:[ce]},[],{provide:ms,useClass:ms,deps:[Te,wn,u.AFp]},{provide:u.FYo,useExisting:ms},{provide:su,useExisting:wn},{provide:wn,useClass:wn,deps:[ce]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Te,useClass:Te,deps:[gs,u.R0b]},{provide:class{},useClass:lc,deps:[]},[]];let dp=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:uc,useExisting:u.AFp},Si]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:yc,imports:[_r,u.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),Ze=F(5917),an=F(9765),lh=F(7971);class Rn extends an.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new lh.N;return this._value}next(e){super.next(this._value=e)}}var fu=F(4869),vs=F(9796),Kn=F(7393);class pu extends Kn.L{notifyNext(e,t,r,o,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class cl extends Kn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var dl=F(7444),kt=F(7574);function Cc(n,e,t,r,o=new cl(n,t,r)){if(!o.closed)return e instanceof kt.y?e.subscribe(o):(0,dl.s)(e)(o)}var Co=F(6693);const Ec={};class ch{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new gu(e,this.resultSelector))}}class gu extends pu{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ec),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Cc(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===Ec?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Wi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Mi=F(3282);function Yi(...n){return(0,Mi.J)(1)((0,Ze.of)(...n))}var Jr=F(9193);function Eo(n){return new kt.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,pn.D)(t):(0,Jr.c)()).subscribe(e)})}var hl=F(2441),ut=F(8002),ci=F(5345);function ir(n,e){return"function"==typeof e?t=>t.pipe(ir((r,o)=>(0,pn.D)(n(r,o)).pipe((0,ut.U)((c,h)=>e(r,c,o,h))))):t=>t.lift(new dh(n))}class dh{constructor(e){this.project=e}call(e,t){return t.subscribe(new On(e,this.project))}}class On extends ci.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new ci.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,ci.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const fl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function di(n){return e=>0===n?(0,Jr.c)():e.lift(new gp(n))}class gp{constructor(e){if(this.total=e,this.total<0)throw new fl}call(e,t){return t.subscribe(new Dm(e,this.total))}}class Dm extends Kn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Ta(...n){const e=n[n.length-1];return(0,fu.K)(e)?(n.pop(),t=>Yi(n,t,e)):t=>Yi(n,t)}function mu(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new hh(n,e,t))}}class hh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Tm(e,this.accumulator,this.seed,this.hasSeed))}}class Tm extends Kn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Pn(n,e){return function(r){return r.lift(new Tc(n,e))}}class Tc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ia(e,this.predicate,this.thisArg))}}class Ia extends Kn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Do(n){return function(t){const r=new Fn(n),o=t.lift(r);return r.caught=o}}class Fn{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Aa(e,this.selector,this.caught))}}class Aa extends ci.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new ci.IY(this);this.add(r);const o=(0,ci.ft)(t,r);o!==r&&this.add(o)}}}var Bn=F(9773);function Ic(n,e){return(0,Bn.zg)(n,e,1)}function pl(n){return function(t){return 0===n?(0,Jr.c)():t.lift(new Ki(n))}}class Ki{constructor(e){if(this.total=e,this.total<0)throw new fl}call(e,t){return t.subscribe(new bs(e,this.total))}}class bs extends Kn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const h=t++%r;e.next(o[h])}}e.complete()}}function _u(n=Ac){return e=>e.lift(new Ri(n))}class Ri{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Hs(e,this.errorFactory))}}class Hs extends Kn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ac(){return new Wi}function fh(n=null){return e=>e.lift(new Zo(n))}class Zo{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Im(e,this.defaultValue))}}class Im extends Kn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gs=F(4487);function Jn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pn((o,c)=>n(o,c,r)):Gs.y,di(1),t?fh(e):_u(()=>new Wi))}var Qn=F(8307),To=F(1307),mp=F(5319);class E{constructor(e){this.callback=e}call(e,t){return t.subscribe(new I(e,this.callback))}}class I extends Kn.L{constructor(e,t){super(e),this.add(new mp.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class U extends R{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class he extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ge extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends R{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sa{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class hv{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cn(n){return new hv(n)}const _p="ngNavigationCancelingError";function Am(n){const e=Error("NavigationCancelingError: "+n);return e[_p]=!0,e}function vu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],m=n[c];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Zs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!gh(n[o],e[o]))return!1;return!0}function gh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function Sm(n){return Array.prototype.concat.apply([],n)}function bu(n){return n.length>0?n[n.length-1]:null}function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ur(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,Ze.of)(n)}const mh={exact:function Nm(n,e,t){if(!ka(n.segments,e.segments)||!Mc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Nm(n.children[r],e.children[r],t))return!1;return!0},subset:Wo},_h={exact:function(n,e){return Zs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gh(n[t],e[t]))},ignored:()=>!0};function Nc(n,e,t){return mh[t.paths](n.root,e.root,t.matrixParams)&&_h[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Wo(n,e,t){return Ra(n,e,e.segments,t)}function Ra(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ka(o,t)||e.hasChildren()||!Mc(o,t,r))}if(n.segments.length===t.length){if(!ka(n.segments,t)||!Mc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Wo(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ka(n.segments,o)&&Mc(n.segments,o,r)&&n.children[mt])&&Ra(n.children[mt],e,c,r)}}function Mc(n,e,t){return e.every((r,o)=>_h[t](n[o].parameters,r.parameters))}class xa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return bp.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yo(this)}}class gl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Cp(this)}}function ka(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class vh{}class wu{parse(e){const t=new Mm(e);return new xa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Rc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${wp(t)}=${wp(o)}`).join("&"):`${wp(t)}=${wp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const bp=new wu;function Yo(n){return n.segments.map(e=>Cp(e)).join("/")}function Rc(n,e){if(!n.hasChildren())return Yo(n);if(e){const t=n.children[mt]?Rc(n.children[mt],!1):"",r=[];return Xn(n.children,(o,c)=>{c!==mt&&r.push(`${c}:${Rc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Xn(n.children,(r,o)=>{o===mt&&(t=t.concat(e(r,o)))}),Xn(n.children,(r,o)=>{o!==mt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===mt?[Rc(n.children[mt],!1)]:[`${o}:${Rc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${Yo(n)}/${t[0]}`:`${Yo(n)}/(${t.join("//")})`}}function bh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wp(n){return bh(n).replace(/%3B/gi,";")}function ml(n){return bh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(n){return decodeURIComponent(n)}function _l(n){return xc(n.replace(/\+/g,"%20"))}function Cp(n){return`${ml(n.path)}${function(n){return Object.keys(n).map(e=>`;${ml(e)}=${ml(n[e])}`).join("")}(n.parameters)}`}const _v=/^[^\/()?;=#]+/;function Ch(n){const e=n.match(_v);return e?e[0]:""}const yv=/^[^=?&#]+/,Ko=/^[^?&#]+/;class Mm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[mt]=new $t(e,t)),r}parseSegment(){const e=Ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gl(xc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ch(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ch(this.remaining);o&&(r=o,this.capture(r))}e[xc(t)]=xc(r)}parseQueryParam(e){const t=function(n){const e=n.match(yv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Ko);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=_l(t),c=_l(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ch(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=mt);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[mt]:new $t([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Rm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ep(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ep(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Dp(e,this._root).map(t=>t.value)}}function Ep(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ep(n,t);if(r)return r}return null}function Dp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dp(n,t);if(r.length)return r.unshift(e),r}return[]}class Jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Tp extends Rm{constructor(e,t){super(e),this.snapshot=t,kc(this,e)}toString(){return this.snapshot.toString()}}function xm(n,e){const t=function(n,e){const h=new bl([],{},{},"",{},mt,e,null,n.root,-1,{});return new wl("",new Jo(h,[]))}(n,e),r=new Rn([new gl("",{})]),o=new Rn({}),c=new Rn({}),h=new Rn({}),m=new Rn(""),b=new vl(r,o,h,m,c,mt,e,t.root);return b.snapshot=t.root,new Tp(new Jo(b,[]),t)}class vl{constructor(e,t,r,o,c,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>Cn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>Cn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bl{constructor(e,t,r,o,c,h,m,b,T,N,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=T,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wl extends Rm{constructor(e,t){super(t),this.url=e,kc(this,t)}toString(){return zs(this._root)}}function kc(n,e){e.value._routerState=n,e.children.forEach(t=>kc(n,t))}function zs(n){const e=n.children.length>0?` { ${n.children.map(zs).join(", ")} } `:"";return`${n.value}${e}`}function Qo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dh(n,e){return Zs(n.params,e.params)&&function(n,e){return ka(n,e)&&n.every((t,r)=>Zs(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Dh(n.parent,e.parent))}function Cl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Cl(n,r,o);return Cl(n,r)})}(n,e,t);return new Jo(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return wv(e,h),h}}const r=function(n){return new vl(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Cl(n,c));return new Jo(r,o)}}function wv(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)wv(n.children[t],e.children[t])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,r,o){let c={};return r&&Xn(r,(h,m)=>{c[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new xa(t.root===n?e:C(t.root,n,e),c,o)}function C(n,e,t){const r={};return Xn(n.children,(o,c)=>{r[c]=o===e?t:C(o,e,t)}),new $t(n.segments,r)}class S{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(p);if(o&&o!==bu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ot(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return qt(n,e,t);const r=function(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const h=n.segments[o],m=t[r];if(p(m))break;const b=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!Th(b,T,h))return c;r+=2}else{if(!Th(b,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new $t(n.segments.slice(0,r.pathIndex),{});return c.children[mt]=new $t(n.segments.slice(r.pathIndex),n.children),qt(c,0,o)}return r.match&&0===o.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Br(n,e,t):r.match?qt(n,0,o):Br(n,e,t)}function qt(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[mt]:n}}(t),o={};return Xn(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=ot(n.children[h],e,c))}),Xn(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new $t(n.segments,o)}}function Br(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(p(c)){const b=vn(c.outlets);return new $t(r,b)}if(0===o&&v(t[0])){r.push(new gl(n.segments[e].path,Oc(t[0]))),o++;continue}const h=p(c)?c.outlets[mt]:`${c}`,m=o<t.length-1?t[o+1]:null;h&&m&&v(m)?(r.push(new gl(h,Oc(m))),o+=2):(r.push(new gl(h,{})),o++)}return new $t(r,{})}function vn(n){const e={};return Xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Br(new $t([],{}),0,t))}),e}function Oc(n){const e={};return Xn(n,(t,r)=>e[r]=`${t}`),e}function Th(n,e,t){return n==t.path&&Zs(e,t.parameters)}class Sp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=yl(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),Xn(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=yl(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=yl(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new qs(c.value.snapshot))}),e.children.length&&this.forwardEvent(new yu(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Qo(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Ah(m.route)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Ah(n){Qo(n.value),n.children.forEach(Ah)}class Sh{constructor(e,t){this.routes=e,this.module=t}}function Io(n){return"function"==typeof n}function El(n){return n instanceof xa}const Nh=Symbol("INITIAL_VALUE");function Mh(){return ir(n=>function(...n){let e,t;return(0,fu.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,vs.k)(n[0])&&(n=n[0]),(0,Co.n)(n,t).lift(new ch(e))}(n.map(e=>e.pipe(di(1),Ta(Nh)))).pipe(mu((e,t)=>{let r=!1;return t.reduce((o,c,h)=>o!==Nh?o:(c===Nh&&(r=!0),r||!1!==c&&h!==t.length-1&&!El(c)?o:c),e)},Nh),Pn(e=>e!==Nh),(0,ut.U)(e=>El(e)?e:!0===e),di(1)))}let pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[Ph]},encapsulation:2}),n})();function Rh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ev(r,CI(e,r))}}function Ev(n,e){n.children&&Rh(n.children,e)}function CI(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Dv(n){const e=n.children&&n.children.map(Dv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=pi),t}function Ws(n){return n.outlet||mt}function C1(n,e){const t=n.filter(r=>Ws(r)===e);return t.push(...n.filter(r=>Ws(r)!==e)),t}const Tv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Tv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||vu)(t,n,e);if(!c)return Object.assign({},Tv);const h={};Xn(c.posParams,(b,T)=>{h[T]=b.path});const m=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Np(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xh(n,e,r)&&Ws(r)!==mt)}(n,t,r)){const h=new $t(e,function(n,e,t,r){const o={};o[mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Ws(c)!==mt){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Ws(c)]=h}return o}(n,e,r,new $t(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xh(n,e,r))}(n,t,r)){const h=new $t(n.segments,function(n,e,t,r,o,c){const h={};for(const m of r)if(xh(n,t,m)&&!o[Ws(m)]){const b=new $t([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[Ws(m)]=b}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new $t(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function xh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Iv(n,e,t,r){return!!(Ws(n)===r||r!==mt&&xh(e,t,n))&&("**"===n.path||Fm(e,n,t).matched)}function D1(n,e,t){return 0===e.length&&!n.children[t]}class Lm{constructor(e){this.segmentGroup=e||null}}class Av{constructor(e){this.urlTree=e}}function Fc(n){return new kt.y(e=>e.error(new Lm(n)))}function T1(n){return new kt.y(e=>e.error(new Av(n)))}function II(n){return new kt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class SI{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Np(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,mt).pipe((0,ut.U)(c=>this.createUrlTree(Sv(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(c=>{if(c instanceof Av)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Lm?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,mt).pipe((0,ut.U)(o=>this.createUrlTree(Sv(o),e.queryParams,e.fragment))).pipe(Do(o=>{throw o instanceof Lm?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new $t([],{[mt]:e}):e;return new xa(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(c=>new $t([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,pn.D)(o).pipe(Ic(c=>{const h=r.children[c],m=C1(t,c);return this.expandSegmentGroup(e,m,h,c).pipe((0,ut.U)(b=>({segment:b,outlet:c})))}),mu((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pn((o,c)=>n(o,c,r)):Gs.y,pl(1),t?fh(e):_u(()=>new Wi))}())}expandSegment(e,t,r,o,c,h){return(0,pn.D)(r).pipe(Ic(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,c,h).pipe(Do(T=>{if(T instanceof Lm)return(0,Ze.of)(null);throw T}))),Jn(m=>!!m),Do((m,b)=>{if(m instanceof Wi||"EmptyError"===m.name){if(D1(t,o,c))return(0,Ze.of)(new $t([],{}));throw new Lm(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,c,h,m){return Iv(o,t,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h):Fc(t):Fc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?T1(c):this.lineralizeSegments(r,c).pipe((0,Bn.zg)(h=>{const m=new $t(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){const{matched:m,consumedSegments:b,lastChild:T,positionalParamSegments:N}=Fm(t,o,c);if(!m)return Fc(t);const M=this.applyRedirectCommands(b,o.redirectTo,N);return o.redirectTo.startsWith("/")?T1(M):this.lineralizeSegments(o,M).pipe((0,Bn.zg)(V=>this.expandSegment(e,t,r,V.concat(c.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ze.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ut.U)(V=>(r._loadedConfig=V,new $t(o,{})))):(0,Ze.of)(new $t(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Fm(t,r,o);if(!h)return Fc(t);const T=o.slice(b);return this.getChildConfig(e,r,o).pipe((0,Bn.zg)(M=>{const V=M.module,H=M.routes,{segmentGroup:re,slicedSegments:ve}=Np(t,m,T,H),Se=new $t(re.segments,re.children);if(0===ve.length&&Se.hasChildren())return this.expandChildren(V,H,Se).pipe((0,ut.U)(at=>new $t(m,at)));if(0===H.length&&0===ve.length)return(0,Ze.of)(new $t(m,{}));const it=Ws(r)===c;return this.expandSegment(V,Se,H,ve,it?mt:c,!0).pipe((0,ut.U)(Nt=>new $t(m.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ze.of)(new Sh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ze.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Bn.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,ut.U)(c=>(t._loadedConfig=c,c))):(n=t,new kt.y(e=>e.error(Am(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ze.of)(new Sh([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ze.of)(!0);const c=o.map(h=>{const m=e.get(h);let b;if((n=m)&&Io(n.canLoad))b=m.canLoad(t,r);else{if(!Io(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}var n;return Ur(b)});return(0,Ze.of)(c).pipe(Mh(),(0,Qn.b)(h=>{if(!El(h))return;const m=Am(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ut.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ze.of)(r);if(o.numberOfChildren>1||!o.children[mt])return II(e.redirectTo);o=o.children[mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new xa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[c]=t[m]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let h={};return Xn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new $t(c,h)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Sv(n){const e={};for(const r of Object.keys(n.children)){const c=Sv(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[mt]){const e=n.children[mt];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}class Mp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qi{constructor(e,t){this.component=e,this.route=t}}function I1(n,e,t){const r=n._root;return Um(r,e?e._root:null,t,[r.value])}function Vm(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Um(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=yl(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ka(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ka(n.url,e.url)||!Zs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dh(n,e)||!Zs(n.queryParams,e.queryParams);case"paramsChange":default:return!Dh(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Mp(r)):(c.data=h.data,c._resolvedData=h._resolvedData),Um(n,e,c.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Qi(m.outlet.component,h))}else h&&Rp(e,m,o),o.canActivateChecks.push(new Mp(r)),Um(n,null,c.component?m?m.children:null:t,r,o)})(h,c[h.value.outlet],t,r.concat([h.value]),o),delete c[h.value.outlet]}),Xn(c,(h,m)=>Rp(h,t.getContext(m),o)),o}function Rp(n,e,t){const r=yl(n),o=n.value;Xn(r,(c,h)=>{Rp(c,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Qi(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Nv{}function Bm(n){return new kt.y(e=>e.error(n))}class M1{constructor(e,t,r,o,c,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Np(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,mt);if(null===t)return null;const r=new bl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Jo(r,t),c=new wl(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Eh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],m=C1(e,c),b=this.processSegmentGroup(m,h,c);if(null===b)return null;r.push(...b)}const o=jm(r);return o.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,r,o);if(null!==h)return h}return D1(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Iv(e,t,r,o))return null;let c,h=[],m=[];if("**"===e.path){const H=r.length>0?bu(r).parameters:{};c=new bl(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(e),Ws(e),e.component,e,Mv(t),PI(t)+r.length,$m(e))}else{const H=Fm(t,e,r);if(!H.matched)return null;h=H.consumedSegments,m=r.slice(H.lastChild),c=new bl(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lc(e),Ws(e),e.component,e,Mv(t),PI(t)+h.length,$m(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Np(t,h,m,b.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const H=this.processChildren(b,T);return null===H?null:[new Jo(c,H)]}if(0===b.length&&0===N.length)return[new Jo(c,[])];const M=Ws(e)===o,V=this.processSegment(b,T,N,M?mt:o);return null===V?null:[new Jo(c,V)]}}function x1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jm(n){const e=[],t=new Set;for(const r of n){if(!x1(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=jm(r.children);e.push(new Jo(r.value,o))}return e.filter(r=>!t.has(r))}function Mv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Lc(n){return n.data||{}}function $m(n){return n.resolve||{}}function xv(n){return ir(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,ut.U)(()=>e)):(0,Ze.of)(e)})}class jI extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hm=new u.OlP("ROUTES");class Gm{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ut.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new Sh(Sm(h.injector.get(Hm,void 0,u.XFs.Self|u.XFs.Optional)).map(Dv),h)}),Do(c=>{throw t._loader$=void 0,c}));return t._loader$=new hl.c(o,()=>new an.xQ).pipe((0,To.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pn.D)(this.loader.load(e)):Ur(e()).pipe((0,Bn.zg)(t=>t instanceof u.YKP?(0,Ze.of)(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class P1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dl,this.attachRef=null}}class Dl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new P1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class HI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function F1(n){throw n}function L1(n,e,t){return e.parse("/")}function Tl(n,e){return(0,Ze.of)(null)}const V1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class n{constructor(t,r,o,c,h,m,b,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.xQ,this.errorHandler=F1,this.malformedUriErrorHandler=L1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Tl,afterPreactivation:Tl},this.urlHandlingStrategy=new HI,this.routeReuseStrategy=new jI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const V=h.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new xa(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gm(m,b,H=>this.triggerEvent(new hi(H)),H=>this.triggerEvent(new ar(H))),this.routerState=xm(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Pn(o=>0!==o.id),(0,ut.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ir(o=>{let c=!1,h=!1;return(0,Ze.of)(o).pipe((0,Qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(m=>{const b=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Zm(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ze.of)(m).pipe(ir(M=>{const V=this.transitions.getValue();return r.next(new U(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Jr.E:Promise.resolve(M)}),function(n,e,t,r){return ir(o=>function(n,e,t,r,o){return new SI(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ut.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Bn.zg)(c=>function(n,e,t,r,o="emptyOnly",c="legacy"){try{const h=new M1(n,e,t,r,o,c).recognize();return null===h?Bm(new Nv):(0,Ze.of)(h)}catch(h){return Bm(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,ut.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new Ge(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:re,restoredState:ve,extras:Se}=m,it=new U(V,this.serializeUrl(H),re,ve);r.next(it);const Qe=xm(H,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},m),{targetSnapshot:Qe,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Jr.E}),xv(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:H}}=m;return this.hooks.beforePreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!H})}),(0,Qn.b)(m=>{const b=new ze(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,ut.U)(m=>Object.assign(Object.assign({},m),{guards:I1(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Bn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Ze.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,pn.D)(n).pipe((0,Bn.zg)(o=>function(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ze.of)(!0);const h=c.map(m=>{const b=Vm(m,e,o);let T;if(function(n){return n&&Io(n.canDeactivate)}(b))T=Ur(b.canDeactivate(n,e,t,r));else{if(!Io(b))throw new Error("Invalid CanDeactivate guard");T=Ur(b(n,e,t,r))}return T.pipe(Jn())});return(0,Ze.of)(h).pipe(Mh())}(o.component,o.route,t,e,r)),Jn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Bn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,pn.D)(e).pipe(Ic(o=>Yi(function(n,e){return null!==n&&e&&e(new Sa(n)),(0,Ze.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Na(n)),(0,Ze.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Eo(()=>{const m=h.guards.map(b=>{const T=Vm(b,h.node,t);let N;if(function(n){return n&&Io(n.canActivateChild)}(T))N=Ur(T.canActivateChild(r,n));else{if(!Io(T))throw new Error("Invalid CanActivateChild guard");N=Ur(T(r,n))}return N.pipe(Jn())});return(0,Ze.of)(m).pipe(Mh())}));return(0,Ze.of)(c).pipe(Mh())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ze.of)(!0);const o=r.map(c=>Eo(()=>{const h=Vm(c,e,t);let m;if(function(n){return n&&Io(n.canActivate)}(h))m=Ur(h.canActivate(e,n));else{if(!Io(h))throw new Error("Invalid CanActivate guard");m=Ur(h(e,n))}return m.pipe(Jn())}));return(0,Ze.of)(o).pipe(Mh())}(n,o.route,t))),Jn(o=>!0!==o,!0))}(r,c,n,e):(0,Ze.of)(m)),(0,ut.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Qn.b)(m=>{if(El(m.guardsResult)){const T=Am(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const b=new Ut(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),xv(m=>{if(m.guards.canActivateChecks.length)return(0,Ze.of)(m).pipe((0,Qn.b)(b=>{const T=new nn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),ir(b=>{let T=!1;return(0,Ze.of)(b).pipe(function(n,e){return(0,Bn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ze.of)(t);let c=0;return(0,pn.D)(o).pipe(Ic(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ze.of)({});const c={};return(0,pn.D)(o).pipe((0,Bn.zg)(h=>function(n,e,t,r){const o=Vm(n,e,r);return Ur(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Qn.b)(m=>{c[h]=m}))),pl(1),(0,Bn.zg)(()=>Object.keys(c).length===o.length?(0,Ze.of)(c):Jr.E))}(n._resolve,n,e,r).pipe((0,ut.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Eh(n,t).resolve),null)))}(h.route,r,n,e)),(0,Qn.b)(()=>c++),pl(1),(0,Bn.zg)(h=>c===o.length?(0,Ze.of)(t):Jr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Qn.b)(b=>{const T=new sr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}))}),xv(m=>{const{targetSnapshot:b,id:T,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:H}}=m;return this.hooks.afterPreactivation(b,{navigationId:T,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!H})}),(0,ut.U)(m=>{const b=function(n,e,t){const r=Cl(n,e._root,t?t._root:void 0);return new Tp(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Qn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new Sp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Qn.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new E(n))}(()=>{var m;if(!c&&!h){const b=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,b)):this.cancelNavigationTransition(o,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Do(m=>{if(h=!0,function(n){return n&&n[_p]}(m)){const b=El(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const T=new he(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zm(o.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ae(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return Jr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:c,urlTree:h}=r,m={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,o,c,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rh(t),this.config=t.map(Dv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,T=o||this.routerState.root,N=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,o){if(0===t.length)return _(e.root,e.root,e,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Xn(c.outlets,(b,T)=>{m[T]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new S(t,e,r)}(t);if(c.toRoot())return _(e.root,new $t([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new X(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new X(c,c===e.root,0)}const r=v(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new X(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),m=h.processChildren?qt(h.segmentGroup,h.index,c.commands):ot(h.segmentGroup,h.index,c.commands);return _(h.segmentGroup,m,e,r,o)}(T,this.currentUrlTree,t,M,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=El(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},V1):!1===r?Object.assign({},U1):r,El(t))return Nc(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Nc(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,h){var m,b;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=Zm(r)&&T&&!Zm(T.source),H=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(N&&H)return Promise.resolve(!0);let re,ve,Se;h?(re=h.resolve,ve=h.reject,Se=h.promise):Se=new Promise((Nt,at)=>{re=Nt,ve=at});const it=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Qe=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:it,targetPageId:Qe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:re,reject:ve,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new he(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(vh),u.LFG(Dl),u.LFG(At),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Zm(n){return"imperative"!==n}let Ph=(()=>{class n{constructor(t,r,o,c,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=c||mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new Ym(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Dl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Ym{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vl?this.route:e===Dl?this.childContexts:this.parent.get(e,t)}}class Ov{}class Fv{preload(e,t){return(0,Ze.of)(null)}}let Km=(()=>{class n{constructor(t,r,o,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new Gm(r,o,T=>t.triggerEvent(new hi(T)),T=>t.triggerEvent(new ar(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(t=>t instanceof te),Ic(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,pn.D)(o).pipe((0,Mi.J)(),(0,ut.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ze.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Bn.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jr),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Ov))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Uc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof te&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jr),u.LFG(tu),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=new u.OlP("ROUTER_CONFIGURATION"),j1=new u.OlP("ROUTER_FORROOT_GUARD"),$1=[At,{provide:vh,useClass:wu},{provide:jr,useFactory:function(n,e,t,r,o,c,h,m={},b,T){const N=new jr(null,n,e,t,r,o,c,Sm(h));return b&&(N.urlHandlingStrategy=b),T&&(N.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(m,N),m.enableTracing&&N.events.subscribe(M=>{var V,H;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(H=console.groupEnd)||void 0===H||H.call(console)}),N},deps:[vh,Dl,At,u.zs3,u.v3s,u.Sil,Hm,Il,[class{},new u.FiY],[class{},new u.FiY]]},Dl,{provide:vl,useFactory:function(n){return n.routerState.root},deps:[jr]},{provide:u.v3s,useClass:u.EAV},Km,Fv,class{preload(e,t){return t().pipe(Do(()=>(0,Ze.of)(null)))}},{provide:Il,useValue:{enableTracing:!1}}];function Lv(){return new u.PXZ("Router",jr)}let Vv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$1,Uv(t),{provide:j1,useFactory:qI,deps:[[jr,new u.FiY,new u.tp0]]},{provide:Il,useValue:r||{}},{provide:ge,useFactory:H1,deps:[Q,[new u.tBr(se),new u.FiY],Il]},{provide:Uc,useFactory:cR,deps:[jr,tu,Il]},{provide:Ov,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Fv},{provide:u.PXZ,multi:!0,useFactory:Lv},[Bv,{provide:u.ip1,multi:!0,useFactory:G1,deps:[Bv]},{provide:q1,useFactory:WI,deps:[Bv]},{provide:u.tb,multi:!0,useExisting:q1}]]}}static forChild(t){return{ngModule:n,providers:[Uv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j1,8),u.LFG(jr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function cR(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Uc(n,e,t)}function H1(n,e,t={}){return t.useHash?new xe(n,e):new Ee(n,e)}function qI(n){return"guarded"}function Uv(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Hm,multi:!0,useValue:n}]}let Bv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new an.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),c=this.injector.get(jr),h=this.injector.get(Il);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Il),o=this.injector.get(Km),c=this.injector.get(Uc),h=this.injector.get(jr),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function G1(n){return n.appInitializer.bind(n)}function WI(n){return n.bootstrapListener.bind(n)}const q1=new u.OlP("Router Initializer");var fe=F(8239),Jm=F(7841),Qm=F(3637),er=F(9396);function bt(){return n=>n.lift(new Z1)}class Z1{call(e,t){return t.subscribe(new z1(e))}}class z1 extends Kn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class ea{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new W1(e,this.compare,this.keySelector))}}class W1 extends Kn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var He,Xi=F(8939),La=(F(4828),F(3394)),Ys=F(8026),jc=F(3910),Va=F(5422),Et=F(3854),K1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Al={},Fh=Fh||{},yt=K1||self;function Lh(){}function J1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var X1="closure_uid_"+(1e9*Math.random()>>>0),KI=0;function hR(n,e,t){return n.call.apply(n.bind,arguments)}function eC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Qr(n,e,t){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hR:eC).apply(null,arguments)}function Xm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $r(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function $c(){this.s=this.s,this.o=this.o}var pR={};$c.prototype.s=!1,$c.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,X1)&&n[X1]||(n[X1]=++KI)}(this);delete pR[n]}},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},QI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function XI(n){return Array.prototype.concat.apply([],arguments)}function tC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jv(n){return/^[\s\xa0]*$/.test(n)}var gi,eA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ws(n,e){return-1!=n.indexOf(e)}function Ua(n,e){return n<e?-1:n>e?1:0}e:{var nC=yt.navigator;if(nC){var $v=nC.userAgent;if($v){gi=$v;break e}}gi=""}function Op(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Hv(n){const e={};for(const t in n)e[t]=n[t];return e}var e_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<e_.length;c++)t=e_[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ba(n){return Ba[" "](n),n}Ba[" "]=Lh;var Sl,n,tA=ws(gi,"Opera"),Pp=ws(gi,"Trident")||ws(gi,"MSIE"),t_=ws(gi,"Edge"),Gv=t_||Pp,qv=ws(gi,"Gecko")&&!(ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge"))&&!(ws(gi,"Trident")||ws(gi,"MSIE"))&&!ws(gi,"Edge"),nA=ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge");function sC(){var n=yt.document;return n?n.documentMode:void 0}e:{var Nl="",Fp=(n=gi,qv?/rv:([^\);]+)(\)|;)/.exec(n):t_?/Edge\/([\d\.]+)/.exec(n):Pp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nA?/WebKit\/(\S+)/.exec(n):tA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Fp&&(Nl=Fp?Fp[1]:""),Pp){var Ml=sC();if(null!=Ml&&Ml>parseFloat(Nl)){Sl=String(Ml);break e}}Sl=Nl}var Lp={};function Vh(){return e=Lp,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=eA(String(Sl)).split("."),t=eA("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",c=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Ua(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Ua(0==o[2].length,0==c[2].length)||Ua(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var oC=yt.document&&Pp&&(sC()||parseInt(Sl,10))||void 0,Wv=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",Lh,e),yt.removeEventListener("test",Lh,e)}catch(t){}return n}();function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Uh(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qv){e:{try{Ba(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:n_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uh.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},$r(Uh,Xr);var n_={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),aC=0;function mR(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++aC,this.ca=this.fa=!1}function Up(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Bp(n){this.src=n,this.g={},this.h=0}function Yv(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=JI(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Up(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function r_(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}Bp.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=r_(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new mR(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var Kv="closure_lm_"+(1e6*Math.random()|0),Jv={};function Cs(n,e,t,r,o){if(r&&r.once)return iA(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Cs(n,e[c],t,r,o);return null}return t=Qv(t),n&&n[Vp]?n.N(e,t,kp(r)?!!r.capture:!!r,o):uC(n,e,t,!1,r,o)}function uC(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var h=kp(o)?!!o.capture:!!o,m=jp(n);if(m||(n[Kv]=m=new Bp(n)),(t=m.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=aA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Wv||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(oA(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function iA(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)iA(n,e[c],t,r,o);return null}return t=Qv(t),n&&n[Vp]?n.O(e,t,kp(r)?!!r.capture:!!r,o):uC(n,e,t,!0,r,o)}function sA(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)sA(n,e[c],t,r,o);else r=kp(r)?!!r.capture:!!r,t=Qv(t),n&&n[Vp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=r_(c=n.g[e],t,r,o))&&(Up(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=jp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=r_(e,t,r,o)),(t=-1<n?e[n]:null)&&i_(t))}function i_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Vp])Yv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(oA(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jp(e))?(Yv(t,n),0==t.h&&(t.src=null,e[Kv]=null)):Up(n)}}}function oA(n){return n in Jv?Jv[n]:Jv[n]="on"+n}function aA(n,e){if(n.ca)n=!0;else{e=new Uh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&i_(n),n=t.call(r,e)}return n}function jp(n){return(n=n[Kv])instanceof Bp?n:null}var s_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(n){return"function"==typeof n?n:(n[s_]||(n[s_]=function(e){return n.handleEvent(e)}),n[s_])}function ei(){$c.call(this),this.i=new Bp(this),this.P=this,this.I=null}function mi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var o=e;rC(e=new Xr(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=$p(h,r,!0,e)&&o}if(o=$p(h=e.g=n,r,!0,e)&&o,o=$p(h,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=$p(h=e.g=t[c],r,!1,e)&&o}function $p(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var m=h.listener,b=h.ia||h.src;h.fa&&Yv(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}$r(ei,$c),ei.prototype[Vp]=!0,ei.prototype.removeEventListener=function(n,e,t,r){sA(this,n,e,t,r)},ei.prototype.M=function(){if(ei.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Up(t[r]);delete n.g[e],n.h--}}this.I=null},ei.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xv=yt.JSON.stringify;function lC(){var n=fC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ao,cC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dC,n=>n.reset());class dC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hC(n){yt.setTimeout(()=>{throw n},0)}function e0(n,e){Ao||function(){var n=yt.Promise.resolve(void 0);Ao=function(){n.then(_R)}}(),n0||(Ao(),n0=!0),fC.add(n,e)}var n0=!1,fC=new class{constructor(){this.h=this.g=null}add(e,t){const r=cC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function _R(){for(var n;n=lC();){try{n.h.call(n.g)}catch(t){hC(t)}var e=cC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}n0=!1}function Hp(n,e){ei.call(this),this.h=n||1,this.g=e||yt,this.j=Qr(this.kb,this),this.l=Date.now()}function r0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function s0(n,e,t){if("function"==typeof n)t&&(n=Qr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function pC(n){n.g=s0(()=>{n.g=null,n.i&&(n.i=!1,pC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$r(Hp,ei),(He=Hp.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mi(this,"tick"),this.da&&(r0(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){Hp.Z.M.call(this),r0(this),delete this.g};class o0 extends $c{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pC(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gp(n){$c.call(this),this.h=n,this.g={}}$r(Gp,$c);var gC=[];function qp(n,e,t,r){Array.isArray(t)||(t&&(gC[0]=t.toString()),t=gC);for(var o=0;o<t.length;o++){var c=Cs(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function o_(n){Op(n.g,function(e,t){this.g.hasOwnProperty(t)&&i_(e)},n),n.g={}}function a_(){this.g=!0}function Hc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return Xv(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Gp.prototype.M=function(){Gp.Z.M.call(this),o_(this)},Gp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},a_.prototype.Aa=function(){this.g=!1},a_.prototype.info=function(){};var Eu={},dA=null;function u_(){return dA=dA||new ei}function l0(n){Xr.call(this,Eu.Ma,n)}function Bh(n){const e=u_();mi(e,new l0(e,n))}function c0(n,e){Xr.call(this,Eu.STAT_EVENT,n),this.stat=e}function xi(n){const e=u_();mi(e,new c0(e,n))}function d0(n,e){Xr.call(this,Eu.Na,n),this.size=e}function Ks(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}Eu.Ma="serverreachability",$r(l0,Xr),Eu.STAT_EVENT="statevent",$r(c0,Xr),Eu.Na="timingevent",$r(d0,Xr);var Gc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function h0(){}function qc(){}h0.prototype.h=null;var f0,jh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zc(){Xr.call(this,"d")}function zc(){Xr.call(this,"c")}function $h(){}function Hh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Gp(this),this.P=yC,this.W=new Hp(n=Gv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _C}function _C(){this.i=null,this.g="",this.h=!1}$r(Zc,Xr),$r(zc,Xr),$r($h,h0),$h.prototype.g=function(){return new XMLHttpRequest},$h.prototype.i=function(){return{}},f0=new $h;var yC=45e3,p0={},Gh={};function g0(n,e,t){n.K=1,n.v=Wp(ta(e)),n.s=t,n.U=!0,vC(n,null)}function vC(n,e){n.F=Date.now(),Zp(n),n.A=ta(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),v0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new _C,n.g=A0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new o0(Qr(n.Ia,n,n.g),n.O)),qp(n.V,n.g,"readystatechange",n.gb),e=n.H?Hv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Bh(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var h="",m=c.split("&"),b=0;b<m.length;b++){var T=m[b].split("=");if(1<T.length){var N=T[0];T=T[1];var M=N.split("_");h=2<=M.length&&"type"==M[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function m0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Wc(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=bC(n,t),o==Gh){4==e&&(n.o=4,xi(14),r=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(o==p0){n.o=4,xi(15),Hc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hc(n.j,n.m,o,null),_0(n,o)}m0(n)&&o!=Gh&&o!=p0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kl(e),e.L=!0,xi(11))):(Hc(n.j,n.m,t,"[Invalid Chunked Response]"),Yc(n),zp(n))}function bC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gh:(t=Number(e.substring(t,r)),isNaN(t)?p0:(r+=1)+t>e.length?Gh:(e=e.substr(r,t),n.C=r+t,e))}function Zp(n){n.Y=Date.now()+n.P,wC(n,n.P)}function wC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ks(Qr(n.eb,n),e)}function Du(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function zp(n){0==n.l.G||n.I||E0(n.l,n)}function Yc(n){Du(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,r0(n.W),o_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||b0(t.i,n)))if(t.I=n.N,!n.J&&b0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ks(Qr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Tu(t),ja(t)}xl(t),xi(18)}if(1>=f_(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Ol(t,11)}else if((n.J||t.g==n)&&Tu(t),!jv(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const N=T[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const V=T[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const re=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var c=r.i;!c.g&&(ws(re,"spdy")||ws(re,"quic")||ws(re,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(p_(c,c.h),c.h=null))}if(r.D){const ve=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,jn(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=I0(r,r.H?r.la:null,r.W),h.J){w0(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Du(m),Zp(m)),r.g=h}else ed(r);0<t.l.length&&Kh(t)}else"stop"!=T[0]&&"close"!=T[0]||Ol(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Ol(t,7):ti(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Bh(4)}catch(T){}}function CC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(J1(n)||"string"==typeof n)QI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(J1(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(J1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function qh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof qh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function l_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];En(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)En(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function En(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=Hh.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==Qs(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const N=Qs(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||Gv||this.g&&(this.h.h||this.g.ga()||FC(this.g)))){this.I||4!=N||7==e||Bh(8==e||0>=M?3:2),Du(this);var t=this.g.ba();this.N=t;t:if(m0(this)){var r=FC(this.g);n="";var o=r.length,c=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yc(this),zp(this);var h="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jv(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,xi(12),Yc(this),zp(this);break e}Hc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_0(this,t)}this.U?(Wc(this,N,h),Gv&&this.i&&3==N&&(qp(this.V,this.W,"tick",this.fb),this.W.start())):(Hc(this.j,this.m,h,null),_0(this,h)),4==N&&Yc(this),this.i&&!this.I&&(4==N?E0(this.l,this):(this.i=!1,Zp(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Yc(this),zp(this)}}}catch(N){}},He.fb=function(){if(this.g){var n=Qs(this.g),e=this.g.ga();this.C<e.length&&(Du(this),Wc(this,n,e),this.i&&4!=n&&Zp(this))}},He.cancel=function(){this.I=!0,Yc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bh(3),xi(17)),Yc(this),this.o=2,zp(this)):wC(this,this.Y-n)},(He=qh.prototype).R=function(){l_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return l_(this),this.g.concat()},He.get=function(n,e){return En(this.h,n)?this.h[n]:e},He.set=function(n,e){En(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var c_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function es(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof es){this.g=void 0!==e?e:n.g,Zh(this,n.j),this.s=n.s,y0(this,n.i),d_(this,n.m),this.l=n.l,e=n.h;var t=new Qp;t.i=e.i,e.g&&(t.g=new qh(e.g),t.h=e.h),EC(this,t),this.o=n.o}else n&&(t=String(n).match(c_))?(this.g=!!e,Zh(this,t[1]||"",!0),this.s=Yp(t[2]||""),y0(this,t[3]||"",!0),d_(this,t[4]),this.l=Yp(t[5]||"",!0),EC(this,t[6]||"",!0),this.o=Yp(t[7]||"")):(this.g=!!e,this.h=new Qp(null,this.g))}function ta(n){return new es(n)}function Zh(n,e,t){n.j=t?Yp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function y0(n,e,t){n.i=t?Yp(e,!0):e}function d_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function EC(n,e,t){e instanceof Qp?(n.h=e,function(n,e){e&&!n.j&&(Rl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(MC(this,r),v0(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Kp(e,SC)),n.h=new Qp(e,n.g))}function jn(n,e,t){n.h.set(e,t)}function Wp(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}es.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kp(e,h_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kp(e,h_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kp(t,"/"==t.charAt(0)?AC:IC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kp(t,NC)),n.join("")};var h_=/[#\/\?@]/g,IC=/[#\?:]/g,AC=/[#\?]/g,SC=/[#\?@]/g,NC=/#/g;function Qp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rl(n){n.g||(n.g=new qh,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MC(n,e){Rl(n),e=Xp(n,e),En(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,En((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&l_(n)))}function RC(n,e){return Rl(n),e=Xp(n,e),En(n.g.h,e)}function v0(n,e,t){MC(n,e),0<t.length&&(n.i=null,n.g.set(Xp(n,e),tC(t)),n.h+=t.length)}function Xp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kC(n){this.l=n||vR,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=Qp.prototype).add=function(n,e){Rl(this),this.i=null,n=Xp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Rl(this),this.g.forEach(function(t,r){QI(t,function(o){n.call(e,o,r,this)},this)},this)},He.T=function(){Rl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},He.R=function(n){Rl(this);var e=[];if("string"==typeof n)RC(this,n)&&(e=XI(e,this.g.get(Xp(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=XI(e,n[t])}return e},He.set=function(n,e){return Rl(this),this.i=null,RC(this,n=Xp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=o;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var vR=10;function gA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f_(n){return n.h?1:n.g?n.g.size:0}function b0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function p_(n,e){n.g?n.g.add(e):n.h=e}function w0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tC(n.i)}function Js(){}function bR(){this.g=new Js}function wR(n,e,t){const r=t||"";try{CC(n,function(o,c){let h=o;kp(o)&&(h=Xv(o)),e.push(r+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function eg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function zh(n){this.l=n.$b||null,this.j=n.ib||!1}function tg(n,e){ei.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=C0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kC.prototype.cancel=function(){if(this.i=mA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Js.prototype.stringify=function(n){return yt.JSON.stringify(n,void 0)},Js.prototype.parse=function(n){return yt.JSON.parse(n,void 0)},$r(zh,h0),zh.prototype.g=function(){return new tg(this.l,this.j)},zh.prototype.i=function(n){return function(){return n}}({}),$r(tg,ei);var C0=0;function _A(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kc(n)}function Kc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=tg.prototype).open=function(n,e){if(this.readyState!=C0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kc(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=C0},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_A(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wh(this):Kc(this),3==this.readyState&&_A(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,Wh(this))},He.Ta=function(n){this.g&&(this.response=n,Wh(this))},He.ha=function(){this.g&&Wh(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yA=yt.JSON.parse;function ur(n){ei.call(this),this.headers=new qh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OC,this.K=this.L=!1}$r(ur,ei);var OC="",vA=/^https?$/i,bA=["POST","PUT"];function CA(n){return"content-type"==n.toLowerCase()}function PC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ng(n),rg(n)}function ng(n){n.D||(n.D=!0,mi(n,"complete"),mi(n,"error"))}function Jc(n){if(n.h&&void 0!==Fh&&(!n.C[1]||4!=Qs(n)||2!=n.ba()))if(n.v&&4==Qs(n))s0(n.Fa,0,n);else if(mi(n,"readystatechange"),4==Qs(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(c_)[1]||null;if(!o&&yt.self&&yt.self.location){var c=yt.self.location.protocol;o=c.substr(0,c.length-1)}r=!vA.test(o?o.toLowerCase():"")}t=r}if(t)mi(n,"complete"),mi(n,"success");else{n.m=6;try{var h=2<Qs(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",ng(n)}}finally{rg(n)}}}function rg(n,e){if(n.g){So(n);const t=n.g,r=n.C[0]?Lh:null;n.g=null,n.C=null,e||mi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function So(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function Qs(n){return n.g?n.g.readyState:0}function FC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ig(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Op(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function Es(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Yh(n){this.za=0,this.l=[],this.h=new a_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Es("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Es("baseRetryDelayMs",5e3,n),this.$a=Es("retryDelaySeedMs",1e4,n),this.Ya=Es("forwardChannelMaxRetries",2,n),this.ra=Es("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kC(n&&n.concurrentRequestLimit),this.Ca=new bR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ti(n){if(sg(n),3==n.G){var e=n.V++,t=ta(n.F);jn(t,"SID",n.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),$a(n,t),(e=new Hh(n,n.h,e,void 0)).K=2,e.v=Wp(ta(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon&&(t=yt.navigator.sendBeacon(e.v.toString(),"")),!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=A0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zp(e)}T0(n)}function ja(n){n.g&&(kl(n),n.g.cancel(),n.g=null)}function sg(n){ja(n),n.u&&(yt.clearTimeout(n.u),n.u=null),Tu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function Ds(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kh(n)}function Kh(n){gA(n.i)||n.m||(n.m=!0,e0(n.Ha,n),n.C=0)}function Qc(n,e){var t;t=e?e.m:n.V++;const r=ta(n.F);jn(r,"SID",n.J),jn(r,"RID",t),jn(r,"AID",n.U),$a(n,r),n.o&&n.s&&ig(r,n.o,n.s),t=new Hh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Xc(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),p_(n.i,t),g0(t,r,e)}function $a(n,e){n.j&&CC({},function(t,r){jn(e,r,t)})}function Xc(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Qr(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let m=!0;for(let b=0;b<t;b++){let T=o[b].h;const N=o[b].g;if(T-=c,0>T)c=Math.max(0,o[b].h-100),m=!1;else try{wR(N,h,"req"+T+"_")}catch(M){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ed(n){n.g||n.u||(n.Y=1,e0(n.Ga,n),n.A=0)}function xl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ks(Qr(n.Ga,n),D0(n,n.A)),n.A++,0))}function kl(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function td(n){n.g=new Hh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ta(n.oa);jn(e,"RID","rpc"),jn(e,"SID",n.J),jn(e,"CI",n.N?"0":"1"),jn(e,"AID",n.U),$a(n,e),jn(e,"TYPE","xmlhttp"),n.o&&n.s&&ig(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Wp(ta(e)),t.s=null,t.U=!0,vC(t,n)}function Tu(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function E0(n,e){var t=null;if(n.g==e){Tu(n),kl(n),n.g=null;var r=2}else{if(!b0(n.i,e))return;t=e.D,w0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;mi(r=u_(),new d0(r,t,e,o)),Kh(n)}else ed(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(f_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ks(Qr(n.Ha,n,e),D0(n,n.C)),n.C++,0)))}(n,e)||2==r&&xl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ol(n,5);break;case 4:Ol(n,10);break;case 3:Ol(n,6);break;default:Ol(n,2)}}function D0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ol(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Qr(n.jb,n);t||(t=new es("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||Zh(t,"https"),Wp(t)),function(n,e){const t=new a_;if(yt.Image){const r=new Image;r.onload=Xm(eg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Xm(eg,t,r,"TestLoadImage: error",!1,e),r.onabort=Xm(eg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xm(eg,t,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xi(2);n.G=0,n.j&&n.j.va(e),T0(n),sg(n)}function T0(n){n.G=0,n.I=-1,n.j&&((0!=mA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,tC(n.l),n.l.length=0),n.j.ua())}function I0(n,e,t){let r=function(n){return n instanceof es?ta(n):new es(n,void 0)}(t);if(""!=r.i)e&&y0(r,e+"."+r.i),d_(r,r.m);else{const o=yt.location;r=function(n,e,t,r){var o=new es(null,void 0);return n&&Zh(o,n),e&&y0(o,e),t&&d_(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Op(n.aa,function(o,c){jn(r,c,o)}),t=n.sa,(e=n.D)&&t&&jn(r,e,t),jn(r,"VER",n.ma),$a(n,r),r}function A0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(t&&n.Ba&&!n.qa?new zh({ib:!0}):n.qa)).L=n.H,e}function S0(){}function og(){if(Pp&&!(10<=Number(oC)))throw Error("Environmental error: no available transport.")}function Ts(n,e){ei.call(this),this.g=new Yh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!jv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qh(this)}function LC(n){Zc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function N0(){zc.call(this),this.status=1}function Qh(n){this.g=n}(He=ur.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:f0),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void PC(this,c)}n=t||"";const o=new qh(this.headers);r&&CC(r,function(c,h){o.set(h,c)}),r=function(n){e:{var e=CA;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=yt.FormData&&n instanceof yt.FormData,!(0<=JI(bA,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{So(this),0<this.B&&((this.K=function(n){return Pp&&Vh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=s0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){PC(this,c)}},He.pa=function(){void 0!==Fh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mi(this,"complete"),mi(this,"abort"),rg(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rg(this,!0)),ur.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Jc(this):this.cb())},He.cb=function(){Jc(this)},He.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yA(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Yh.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Hh(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Hv(c),rC(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xc(this,o,e),jn(t=ta(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),$a(this,t),this.o&&c&&ig(t,this.o,c),p_(this.i,o),this.Ra&&jn(t,"TYPE","init"),this.ja?(jn(t,"$req",e),jn(t,"SID","null"),o.$=!0,g0(o,t,null)):g0(o,t,e),this.G=2}}else 3==this.G&&(n?Qc(this,n):0==this.l.length||gA(this.i)||Qc(this))},He.Ga=function(){if(this.u=null,td(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ks(Qr(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),ja(this),td(this))},He.ab=function(){null!=this.v&&(this.v=null,ja(this),xl(this),xi(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(He=S0.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},og.prototype.g=function(n,e){return new Ts(n,e)},$r(Ts,ei),Ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),e0(Qr(n.hb,n,e))),xi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=I0(n,null,n.W),Kh(n)},Ts.prototype.close=function(){ti(this.g)},Ts.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ds(this.g,e)}else this.v?((e={}).__data__=Xv(n),Ds(this.g,e)):Ds(this.g,n)},Ts.prototype.M=function(){this.g.j=null,delete this.j,ti(this.g),delete this.g,Ts.Z.M.call(this)},$r(LC,Zc),$r(N0,zc),$r(Qh,S0),Qh.prototype.xa=function(){mi(this.g,"a")},Qh.prototype.wa=function(n){mi(this.g,new LC(n))},Qh.prototype.va=function(n){mi(this.g,new N0(n))},Qh.prototype.ua=function(){mi(this.g,"b")},og.prototype.createWebChannel=og.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,mC.COMPLETE="complete",qc.EventType=jh,jh.OPEN="a",jh.CLOSE="b",jh.ERROR="c",jh.MESSAGE="d",ei.prototype.listen=ei.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var VC=Al.createWebChannelTransport=function(){return new og},UC=Al.getStatEventTarget=function(){return u_()},M0=Al.ErrorCode=Gc,ER=Al.EventType=mC,DA=Al.Event=Eu,R0=Al.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TA=Al.FetchXmlHttpFactory=zh,ag=Al.WebChannel=qc,IA=Al.XhrIo=ur;const BC="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Xh="9.6.0";const Iu=new Va.Yd("@firebase/firestore");function jC(){return Iu.logLevel}function Le(n,...e){if(Iu.logLevel<=Va.in.DEBUG){const t=e.map(x0);Iu.debug(`Firestore (${Xh}): ${n}`,...t)}}function Ar(n,...e){if(Iu.logLevel<=Va.in.ERROR){const t=e.map(x0);Iu.error(`Firestore (${Xh}): ${n}`,...t)}}function g_(n,...e){if(Iu.logLevel<=Va.in.WARN){const t=e.map(x0);Iu.warn(`Firestore (${Xh}): ${n}`,...t)}}function x0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Xh}) INTERNAL ASSERTION FAILED: `+n;throw Ar(e),new Error(e)}function pt(n,e){n||rt()}function Be(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class TR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AA{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let h=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _i,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const T=h;e.enqueueRetryable((0,fe.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},b=T=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _i)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new $C(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new ki(e)}}class ef{constructor(e,t,r){this.type="FirstParty",this.user=ki.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class SA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ef(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NA{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(c=o).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`),t(c.token);var c})};const r=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt("string"==typeof t.token),new O0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Oi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function RA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Oi.I=-1;class P0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=RA(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function tf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function GC(n){return n+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ni(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new ni(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function F0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function L0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class nf{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===nf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends nf{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new un(t)}static emptyPath(){return new un([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends nf{construct(e,t,r){return new Hr(e,t,r)}static isValidIdentifier(e){return IR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Re(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(c(),o++)}if(c(),h)throw new Re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hr(t)}static emptyPath(){return new Hr([])}}class rf{constructor(e){this.fields=e,e.sort(Hr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new lr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new lr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(n){if(pt(!!n),"string"==typeof n){let e=0;const t=xA.exec(n);if(pt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sf(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function ug(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function m_(n){const e=n.mapValue.fields.__previous_value__;return ug(e)?m_(e):e}function af(n){const e=Ha(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}function uf(n){return null==n}function __(n){return 0===n&&1/n==-1/0}function y_(n){return"number"==typeof n&&Number.isInteger(n)&&!__(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(un.fromString(e))}static fromName(e){return new Je(un.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new un(e.slice()))}}function rd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ug(n)?4:10:rt()}function na(n,e){const t=rd(n);if(t!==rd(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return af(n).isEqual(af(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ha(r.timestampValue),h=Ha(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,sf(n.bytesValue).isEqual(sf(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return cr(r.geoPointValue.latitude)===cr(o.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return cr(r.integerValue)===cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=cr(r.doubleValue),h=cr(o.doubleValue);return c===h?__(c)===__(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return tf(n.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(F0(c)!==F0(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===h[m]||!na(c[m],h[m])))return!1;return!0}(n,e);default:return rt()}var o}function id(n,e){return void 0!==(n.values||[]).find(t=>na(t,e))}function sd(n,e){const t=rd(n),r=rd(e);if(t!==r)return Kt(t,r);switch(t){case 0:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=cr(o.integerValue||o.doubleValue),m=cr(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return v_(n.timestampValue,e.timestampValue);case 4:return v_(af(n),af(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(o,c){const h=sf(o),m=sf(c);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),m=c.split("/");for(let b=0;b<h.length&&b<m.length;b++){const T=Kt(h[b],m[b]);if(0!==T)return T}return Kt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Kt(cr(o.latitude),cr(c.latitude));return 0!==h?h:Kt(cr(o.longitude),cr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const h=o.values||[],m=c.values||[];for(let b=0;b<h.length&&b<m.length;++b){const T=sd(h[b],m[b]);if(T)return T}return Kt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const h=o.fields||{},m=Object.keys(h),b=c.fields||{},T=Object.keys(b);m.sort(),T.sort();for(let N=0;N<m.length&&N<T.length;++N){const M=Kt(m[N],T[N]);if(0!==M)return M;const V=sd(h[m[N]],b[T[N]]);if(0!==V)return V}return Kt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw rt()}}function v_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Ha(n),r=Ha(e),o=Kt(t.seconds,r.seconds);return 0!==o?o:Kt(t.nanos,r.nanos)}function lg(n){return b_(n)}function b_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ha(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sf(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=b_(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const m of o)h?h=!1:c+=",",c+=`${m}:${b_(r.fields[m])}`;return c+"}"}(n.mapValue):rt();var e}function w_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function C_(n){return!!n&&"integerValue"in n}function E_(n){return!!n&&"arrayValue"in n}function D_(n){return!!n&&"nullValue"in n}function V0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function T_(n){return!!n&&"mapValue"in n}function lf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!T_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lf(t)}setAll(e){let t=Hr.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=lf(h):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());T_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];T_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){nd(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new yi(lf(this.value))}}function I_(n){const e=[];return nd(n.fields,(t,r)=>{const o=new Hr([t]);if(T_(r)){const c=I_(r.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new rf(e)}class Ln{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ln(e,0,Lt.min(),yi.empty(),0)}static newFoundDocument(e,t,r){return new Ln(e,1,t,r,0)}static newNoDocument(e,t){return new Ln(e,2,t,yi.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,yi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ln(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qC{constructor(e,t=null,r=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.R=null}}function U0(n,e=null,t=[],r=[],o=null,c=null,h=null){return new qC(n,e,t,r,o,c,h)}function cf(n){const e=Be(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+lg(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=fg(e.startAt)),e.endAt&&(t+="|ub:",t+=fg(e.endAt)),e.R=t}return e.R}function cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!YC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!na(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!od(n.startAt,e.startAt)&&od(n.endAt,e.endAt)}function dg(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new SR(e,t,r):"array-contains"===t?new PA(e,r):"in"===t?new Gr(e,r):"not-in"===t?new WC(e,r):"array-contains-any"===t?new FA(e,r):new Pi(e,t,r)}static P(e,t,r){return"in"===t?new kA(e,r):new OA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(sd(t,this.value)):null!==t&&rd(this.value)===rd(t)&&this.v(sd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SR extends Pi{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.v(t)}}class kA extends Pi{constructor(e,t){super(e,"in",t),this.keys=B0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OA extends Pi{constructor(e,t){super(e,"not-in",t),this.keys=B0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function B0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class PA extends Pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E_(t)&&id(t.arrayValue,this.value)}}class Gr extends Pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&id(this.value.arrayValue,t)}}class WC extends Pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!id(this.value.arrayValue,t)}}class FA extends Pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}class hg{constructor(e,t){this.position=e,this.before=t}}function fg(n){return`${n.before?"b":"a"}:${n.position.map(e=>lg(e)).join(",")}`}class df{constructor(e,t="asc"){this.field=e,this.dir=t}}function YC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function j0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(r=c.field.isKeyField()?Je.comparator(Je.fromName(h.referenceValue),t.key):sd(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function od(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!na(n.position[t],e.position[t]))return!1;return!0}class Au{constructor(e,t=null,r=[],o=[],c=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function KC(n,e,t,r,o,c,h,m){return new Au(n,e,t,r,o,c,h,m)}function ad(n){return new Au(n)}function A_(n){return!uf(n.limit)&&"F"===n.limitType}function pg(n){return!uf(n.limit)&&"L"===n.limitType}function JC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gg(n){for(const e of n.filters)if(e.V())return e.field;return null}function mg(n){return null!==n.collectionGroup}function ts(n){const e=Be(n);if(null===e.S){e.S=[];const t=gg(e),r=JC(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new df(t)),e.S.push(new df(Hr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.S.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new df(Hr.keyField(),c))}}}return e.S}function No(n){const e=Be(n);if(!e.D)if("F"===e.limitType)e.D=U0(e.path,e.collectionGroup,ts(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of ts(e))t.push(new df(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new hg(e.endAt.position,!e.endAt.before):null,o=e.startAt?new hg(e.startAt.position,!e.startAt.before):null;e.D=U0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function $0(n,e,t){return new Au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Is(n,e){return cg(No(n),No(e))&&n.limitType===e.limitType}function Mo(n){return`${cf(No(n))}|lt:${n.limitType}`}function Xs(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${lg(r.value)}`;var r}).join(", ")}]`),uf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+fg(n.startAt)),n.endAt&&(e+=", endAt: "+fg(n.endAt)),`Target(${e})`}(No(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!j0(t.startAt,ts(t),r)||t.endAt&&j0(t.endAt,ts(t),r)));var t,r}function H0(n){return(e,t)=>{let r=!1;for(const o of ts(n)){const c=LA(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function LA(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(o,c,h){const m=c.data.field(o),b=h.data.field(o);return null!==m&&null!==b?sd(m,b):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function QC(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(e)?"-0":e}}function XC(n){return{integerValue:""+n}}function eE(n,e){return y_(e)?XC(e):QC(n,e)}class ff{constructor(){this._=void 0}}function _g(n,e,t){return n instanceof pf?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Pl?q0(n,e):n instanceof Ga?tE(n,e):function(r,o){const c=G0(r,o),h=Z0(c)+Z0(r.N);return C_(c)&&C_(r.N)?XC(h):QC(r.k,h)}(n,e)}function VA(n,e,t){return n instanceof Pl?q0(n,e):n instanceof Ga?tE(n,e):t}function G0(n,e){return n instanceof ud?C_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class pf extends ff{}class Pl extends ff{constructor(e){super(),this.elements=e}}function q0(n,e){const t=S_(e);for(const r of n.elements)t.some(o=>na(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ga extends ff{constructor(e){super(),this.elements=e}}function tE(n,e){let t=S_(e);for(const r of n.elements)t=t.filter(o=>!na(o,r));return{arrayValue:{values:t}}}class ud extends ff{constructor(e,t){super(),this.k=e,this.N=t}}function Z0(n){return cr(n.integerValue||n.doubleValue)}function S_(n){return E_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fl{constructor(e,t){this.field=e,this.transform=t}}class rE{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vg{}function iE(n,e,t){n instanceof bg?function(r,o,c){const h=r.value.clone(),m=uE(r.fieldTransforms,o,c.transformResults);h.setAll(m),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Su?function(r,o,c){if(!yg(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=uE(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(aE(r)),m.setAll(h),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function N_(n,e,t){var o;n instanceof bg?function(r,o,c){if(!yg(r.precondition,o))return;const h=r.value.clone(),m=lE(r.fieldTransforms,c,o);h.setAll(m),o.convertToFoundDocument(oE(o),h).setHasLocalMutations()}(n,e,t):n instanceof Su?function(r,o,c){if(!yg(r.precondition,o))return;const h=lE(r.fieldTransforms,c,o),m=o.data;m.setAll(aE(r)),m.setAll(h),o.convertToFoundDocument(oE(o),m).setHasLocalMutations()}(n,e,t):yg(n.precondition,o=e)&&o.convertToNoDocument(Lt.min())}function sE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=G0(r.transform,o||null);null!=c&&(null==t&&(t=yi.empty()),t.set(r.field,c))}return t||null}function z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tf(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Pl&&r instanceof Pl||t instanceof Ga&&r instanceof Ga?tf(t.elements,r.elements,na):t instanceof ud&&r instanceof ud?na(t.N,r.N):t instanceof pf&&r instanceof pf);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function oE(n){return n.isFoundDocument()?n.version:Lt.min()}class bg extends vg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Su extends vg{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function aE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uE(n,e,t){const r=new Map;pt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,m=e.data.field(c.field);r.set(c.field,VA(h,m,t[o]))}return r}function lE(n,e,t){const r=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);r.set(o.field,_g(c,h,e))}return r}class wg extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class W0 extends vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class UA{constructor(e){this.count=e}}var Sr,rn;function cE(n){switch(n){default:return rt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function dE(n){if(void 0===n)return Ar("GRPC error has no .code"),me.UNKNOWN;switch(n){case Sr.OK:return me.OK;case Sr.CANCELLED:return me.CANCELLED;case Sr.UNKNOWN:return me.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return me.INTERNAL;case Sr.UNAVAILABLE:return me.UNAVAILABLE;case Sr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Sr.NOT_FOUND:return me.NOT_FOUND;case Sr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Sr.ABORTED:return me.ABORTED;case Sr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Sr.DATA_LOSS:return me.DATA_LOSS;default:return rt()}}(rn=Sr||(Sr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class qr{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new M_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new M_(this.root,e,this.comparator,!1)}getReverseIterator(){return new M_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new M_(this.root,e,this.comparator,!0)}}class M_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:vi.RED,this.left=null!=o?o:vi.EMPTY,this.right=null!=c?c:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new vi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return vi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hE=new qr(Je.comparator);function eo(){return hE}const fE=new qr(Je.comparator);function R_(){return fE}const pE=new qr(Je.comparator);function K0(){return pE}const gE=new dr(Je.comparator);function Dn(...n){let e=gE;for(const t of n)e=e.add(t);return e}const J0=new dr(Kt);function Cg(){return J0}class ra{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Eg.createSynthesizedTargetChangeForCurrentChange(e,t)),new ra(Lt.min(),r,Cg(),eo(),Dn())}}class Eg{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Eg(lr.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class x_{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.F=o}}class ld{constructor(e,t){this.targetId=e,this.O=t}}class BA{constructor(e,t,r=lr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class k_{constructor(){this.M=0,this.L=X0(),this.B=lr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Dn(),t=Dn(),r=Dn();return this.L.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new Eg(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=X0()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class NR{constructor(e){this.et=e,this.nt=new Map,this.st=eo(),this.it=Q0(),this.rt=new dr(Kt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.O.count,o=this.wt(t);if(o){const c=o.target;if(dg(c))if(0===r){const h=new Je(c.path);this.ct(t,h,Ln.newNoDocument(h,Lt.min()))}else pt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((c,h)=>{const m=this.wt(h);if(m){if(c.current&&dg(m.target)){const b=new Je(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Ln.newNoDocument(b,e))}c.j&&(t.set(h,c.G()),c.H())}});let r=Dn();this.it.forEach((c,h)=>{let m=!0;h.forEachWhile(b=>{const T=this.wt(b);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(c))});const o=new ra(e,t,this.rt,this.st,r);return this.st=eo(),this.it=Q0(),this.rt=new dr(Kt),o}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new k_,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new dr(Kt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new k_),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Q0(){return new qr(Je.comparator)}function X0(){return new qr(Je.comparator)}const MR={asc:"ASCENDING",desc:"DESCENDING"},ht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jA{constructor(e,t){this.databaseId=e,this.C=t}}function Dg(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(n,e){return n.C?e.toBase64():e.toUint8Array()}function O_(n,e){return Dg(n,e.toTimestamp())}function ri(n){return pt(!!n),Lt.fromTimestamp(function(e){const t=Ha(e);return new ni(t.seconds,t.nanos)}(n))}function gf(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tg(n){const e=un.fromString(n);return pt(ob(e)),e}function Un(n,e){return gf(n.databaseId,e.path)}function Nu(n,e){const t=Tg(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(eb(t))}function P_(n,e){return gf(n.databaseId,e)}function F_(n){const e=Tg(n);return 4===e.length?un.emptyPath():eb(e)}function Ig(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eb(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tb(n,e,t){return{name:Un(n,e),fields:t.value.mapValue.fields}}function nb(n,e,t){const r=Nu(n,e.name),o=ri(e.updateTime),c=new yi({mapValue:{fields:e.fields}}),h=Ln.newFoundDocument(r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function L_(n,e){let t;if(e instanceof bg)t={update:tb(n,e.key,e.value)};else if(e instanceof wg)t={delete:Un(n,e.key)};else if(e instanceof Su)t={update:tb(n,e.key,e.data),updateMask:CE(e.fieldMask)};else{if(!(e instanceof W0))return rt();t={verify:Un(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof pf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ga)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ud)return{fieldPath:c.field.canonicalString(),increment:h.N};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:O_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}function yE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?vr.updateTime(ri(o.updateTime)):void 0!==o.exists?vr.exists(o.exists):vr.none():vr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,h){let m=null;"setToServerValue"in h?(pt("REQUEST_TIME"===h.setToServerValue),m=new pf):"appendMissingElements"in h?m=new Pl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ga(h.removeAllFromArray.values||[]):"increment"in h?m=new ud(c,h.increment):rt();const b=Hr.fromServerFormat(h.fieldPath);return new Fl(b,m)}(n,o)):[];var o;if(e.update){const o=Nu(n,e.update.name),c=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new rf((e.updateMask.fieldPaths||[]).map(T=>Hr.fromServerFormat(T)));return new Su(o,c,h,t,r)}return new bg(o,c,t,r)}if(e.delete){const o=Nu(n,e.delete);return new wg(o,t)}if(e.verify){const o=Nu(n,e.verify);return new W0(o,t)}return rt()}function vE(n,e){return{documents:[P_(n,e.path)]}}function bE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=P_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=P_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(T=>function(N){if("=="===N.op){if(V0(N.value))return{unaryFilter:{field:qa(N.field),op:"IS_NAN"}};if(D_(N.value))return{unaryFilter:{field:qa(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(V0(N.value))return{unaryFilter:{field:qa(N.field),op:"IS_NOT_NAN"}};if(D_(N.value))return{unaryFilter:{field:qa(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(N.field),op:Sg(N.op),value:N.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(m){if(0!==m.length)return m.map(b=>{return{field:qa((T=b).field),direction:HA(T.dir)};var T})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(b=e.limit,n.C||uf(b)?b:{value:b});var b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=ib(e.startAt)),e.endAt&&(t.structuredQuery.endAt=ib(e.endAt)),t}function wE(n){let e=F_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){pt(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=rb(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new df(mf((M=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(N){let M;return M="object"==typeof N?N.value:N,uf(M)?null:M}(t.limit));let b=null;t.startAt&&(b=sb(t.startAt));let T=null;return t.endAt&&(T=sb(t.endAt)),KC(e,o,h,c,m,"F",b,T)}function rb(n){return n?void 0!==n.unaryFilter?[qA(n)]:void 0!==n.fieldFilter?[GA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>rb(e)).reduce((e,t)=>e.concat(t)):rt():[]}function ib(n){return{before:n.before,values:n.position}}function sb(n){return new hg(n.values||[],!!n.before)}function HA(n){return MR[n]}function Sg(n){return ht[n]}function qa(n){return{fieldPath:n.canonicalString()}}function mf(n){return Hr.fromServerFormat(n.fieldPath)}function GA(n){return Pi.create(mf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function qA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=mf(n.unaryFilter.field);return Pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=mf(n.unaryFilter.field);return Pi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mf(n.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mf(n.unaryFilter.field);return Pi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function CE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ob(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ro(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ab(e)),e=ZA(n.get(t),e);return ab(e)}function ZA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function ab(n){return n+"\x01\x01"}function Mu(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&rt(),n.charAt(h+1)){case"\x01":const m=n.substring(c,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:rt()}c=h+2}return new un(r)}class zA{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class xo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}xo.store="owner",xo.key="owner";class cd{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}cd.store="mutationQueues",cd.keyPath="userId";class tr{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];class ns{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ro(t)]}static key(e,t,r){return[e,Ro(t),r]}}ns.store="documentMutations",ns.PLACEHOLDER=new ns;class EE{constructor(e,t){this.path=e,this.readTime=t}}class U_{constructor(e,t){this.path=e,this.version=t}}class hr{constructor(e,t,r,o,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=h}}hr.store="remoteDocuments",hr.readTimeIndex="readTimeIndex",hr.readTimeIndexPath="readTime",hr.collectionReadTimeIndex="collectionReadTimeIndex",hr.collectionReadTimeIndexPath=["parentPath","readTime"];class Za{constructor(e){this.byteSize=e}}Za.store="remoteDocumentGlobal",Za.key="remoteDocumentGlobalKey";class rs{constructor(e,t,r,o,c,h,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=m}}rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];class br{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}br.store="targetDocuments",br.keyPath=["targetId","path"],br.documentTargetsIndex="documentTargetsIndex",br.documentTargetsKeyPath=["path","targetId"];class to{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}to.key="targetGlobalKey",to.store="targetGlobal";class dd{constructor(e,t){this.collectionId=e,this.parent=t}}dd.store="collectionParents",dd.keyPath=["collectionId","parent"];class Ru{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}Ru.store="clientMetadata",Ru.keyPath="clientId";class _f{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}_f.store="bundles",_f.keyPath="bundleId";class yf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}yf.store="namedQueries",yf.keyPath="name";const DE=[cd.store,tr.store,ns.store,hr.store,rs.store,xo.store,to.store,br.store,Ru.store,Za.store,dd.store,_f.store,yf.store],TE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,r)=>{t(e)})}static reject(e){return new Ie((t,r)=>{r(e)})}static waitFor(e){return new Ie((t,r)=>{let o=0,c=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++c,h&&c===o&&t()},b=>r(b))}),h=!0,c===o&&t()})}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next(o=>o?Ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class B_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new _i,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new vf(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=ub(r.target.error);this.It.reject(new vf(e,o))}}static open(e,t,r,o){try{return new B_(t,e.transaction(o,r))}catch(c){throw new vf(t,c)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new AE(t)}}class ko{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===ko.Pt((0,Et.z$)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),fd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Et.hl)())return!1;if(ko.vt())return!0;const e=(0,Et.z$)(),t=ko.Pt(e),r=0<t&&t<10,o=ko.Vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,fe.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{o(new vf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Re(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Re(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new vf(e,m))},c.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,fe.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.Ct(e);const b=B_.open(c.db,e,h?"readonly":"readwrite",r),T=o(b).catch(N=>(b.abort(N),Ie.reject(N))).toPromise();return T.catch(()=>{}),yield b.At,T}catch(b){const T="FirebaseError"!==b.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),c.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WA{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return fd(this.$t.delete())}}class vf extends Re{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hd(n){return"IndexedDbTransactionError"===n.name}class AE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fd(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),fd(this.store.add(e))}get(e){return fd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),fd(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),fd(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(c,h)=>{o.push(h)}).next(()=>o)}qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(c,h,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Ie((r,o)=>{t.onerror=c=>{const h=ub(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ie((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new WA(m),T=t(m.primaryKey,m.value,b);if(T instanceof Ie){const N=T.catch(M=>(b.done(),Ie.reject(M)));r.push(N)}b.isDone?o():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>Ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fd(n){return new Ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=ub(r.target.error);t(o)}})}let j_=!1;function ub(n){const e=ko.Pt((0,Et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return j_||(j_=!0,setTimeout(()=>{throw r},0)),r}}return n}class lb extends IE{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function is(n,e){const t=Be(n);return ko.Dt(t.Wt,e)}class cb{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iE(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&N_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&N_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(t,r)=>z0(t,r))&&tf(this.baseMutations,e.baseMutations,(t,r)=>z0(t,r))}}class db{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){pt(e.mutations.length===r.length);let o=K0();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new db(e,t,r,o)}}class Ll{constructor(e,t,r,o,c=Lt.min(),h=Lt.min(),m=lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $_{constructor(e){this.Gt=e}}function hb(n,e){if(e.document)return nb(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Je.fromSegments(e.noDocument.path),r=wf(e.noDocument.readTime),o=Ln.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Je.fromSegments(e.unknownDocument.path),r=wf(e.unknownDocument.version);return Ln.newUnknownDocument(t,r)}return rt()}function fb(n,e,t){const r=pb(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:Un(m=n.Gt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Dg(m,b.version.toTimestamp())};return new hr(null,null,c,e.hasCommittedMutations,r,o)}var m,b;if(e.isNoDocument()){const c=e.key.path.toArray(),h=bf(e.version),m=e.hasCommittedMutations;return new hr(null,new EE(c,h),null,m,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=bf(e.version);return new hr(new U_(c,h),null,null,!0,r,o)}return rt()}function pb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function SE(n){const e=new ni(n[0],n[1]);return Lt.fromTimestamp(e)}function bf(n){const e=n.toTimestamp();return new zA(e.seconds,e.nanoseconds)}function wf(n){const e=new ni(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Cf(n,e){const t=(e.baseMutations||[]).map(c=>yE(n.Gt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>yE(n.Gt,c)),o=ni.fromMillis(e.localWriteTimeMs);return new cb(e.batchId,o,t,r)}function Ng(n){const e=wf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wf(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var o;return void 0!==n.query.documents?(pt(1===(o=n.query).documents.length),r=No(ad(F_(o.documents[0])))):r=No(wE(n.query)),new Ll(r,n.targetId,0,n.lastListenSequenceNumber,e,t,lr.fromBase64String(n.resumeToken))}function NE(n,e){const t=bf(e.snapshotVersion),r=bf(e.lastLimboFreeSnapshotVersion);let o;o=dg(e.target)?vE(n.Gt,e.target):bE(n.Gt,e.target);const c=e.resumeToken.toBase64();return new rs(e.targetId,cf(e.target),t,c,e.sequenceNumber,r,o)}function gb(n){const e=wE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(e,e.limit,"L"):e}class ME{getBundleMetadata(e,t){return mb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:wf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return mb(e).put({bundleId:(r=t).id,createTime:bf(ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return _b(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:gb(o.bundledQuery),readTime:wf(o.readTime)};var o})}saveNamedQuery(e,t){return _b(e).put({name:(r=t).name,readTime:bf(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mb(n){return is(n,_f.store)}function _b(n){return is(n,yf.store)}class YA{constructor(){this.zt=new Mg}addToCollectionParentIndex(e,t){return this.zt.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.zt.getEntries(t))}}class Mg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dr(un.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dr(un.comparator)).toArray()}}class RE{constructor(){this.Ht=new Mg}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const c={collectionId:r,parent:Ro(o)};return xE(e).put(c)}return Ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[GC(t),""],!1,!0);return xE(e).Bt(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(Mu(h.parent))}return r})}}function xE(n){return is(n,dd.store)}const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function H_(n,e,t){const r=n.store(tr.store),o=n.store(ns.store),c=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.jt({range:h},(N,M,V)=>(m++,V.delete()));c.push(b.next(()=>{pt(1===m)}));const T=[];for(const N of t.mutations){const M=ns.key(e,N.key.path,t.batchId);c.push(o.delete(M)),T.push(N.key)}return Ie.waitFor(c).next(()=>T)}function Rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class xg{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){pt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new xg(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).jt({index:tr.userMutationsIndex,range:r},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=Ul(e),h=Vl(e);return h.add({}).next(m=>{pt("number"==typeof m);const b=new cb(m,t,r,o),T=function(V,H,re){const ve=re.baseMutations.map(it=>L_(V.Gt,it)),Se=re.mutations.map(it=>L_(V.Gt,it));return new tr(H,re.batchId,re.localWriteTime.toMillis(),ve,Se)}(this.k,this.userId,b),N=[];let M=new dr((V,H)=>Kt(V.canonicalString(),H.canonicalString()));for(const V of o){const H=ns.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),N.push(h.put(T)),N.push(c.put(H,ns.PLACEHOLDER))}return M.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Ie.waitFor(N).next(()=>b)})}lookupMutationBatch(e,t){return Vl(e).get(t).next(r=>r?(pt(r.userId===this.userId),Cf(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ie.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Vl(e).jt({index:tr.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(pt(m.batchId>=r),c=Cf(this.k,m)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vl(e).jt({index:tr.userMutationsIndex,range:t,reverse:!0},(o,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).Bt(tr.userMutationsIndex,t).next(r=>r.map(o=>Cf(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ns.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return Ul(e).jt({range:o},(h,m,b)=>{const[T,N,M]=h,V=Mu(N);if(T===this.userId&&t.path.isEqual(V))return Vl(e).get(M).next(H=>{if(!H)throw rt();pt(H.userId===this.userId),c.push(Cf(this.k,H))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Kt);const o=[];return t.forEach(c=>{const h=ns.prefixForPath(this.userId,c.path),m=IDBKeyRange.lowerBound(h),b=Ul(e).jt({range:m},(T,N,M)=>{const[V,H,re]=T,ve=Mu(H);V===this.userId&&c.path.isEqual(ve)?r=r.add(re):M.done()});o.push(b)}),Ie.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=ns.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let m=new dr(Kt);return Ul(e).jt({range:h},(b,T,N)=>{const[M,V,H]=b,re=Mu(V);M===this.userId&&r.isPrefixOf(re)?re.length===o&&(m=m.add(H)):N.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Vl(e).get(c).next(h=>{if(null===h)throw rt();pt(h.userId===this.userId),r.push(Cf(this.k,h))}))}),Ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return H_(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ie.resolve();const r=IDBKeyRange.lowerBound(ns.prefixForUser(this.userId)),o=[];return Ul(e).jt({range:r},(c,h,m)=>{if(c[0]===this.userId){const b=Mu(c[1]);o.push(b)}else m.done()}).next(()=>{pt(0===o.length)})})}containsKey(e,t){return OE(e,this.userId,t)}ne(e){return PE(e).get(this.userId).next(t=>t||new cd(this.userId,-1,""))}}function OE(n,e,t){const r=ns.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return Ul(n).jt({range:c,Kt:!0},(m,b,T)=>{const[N,M,V]=m;N===e&&M===o&&(h=!0),T.done()}).next(()=>h)}function Vl(n){return is(n,tr.store)}function Ul(n){return is(n,ns.store)}function PE(n){return is(n,cd.store)}class Bl{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Bl(0)}static re(){return new Bl(-1)}}class KA{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new Bl(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Lt.fromTimestamp(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ae(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pd(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return pd(e).jt((h,m)=>{const b=Ng(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,c.push(this.removeTargetData(e,b)))}).next(()=>Ie.waitFor(c)).next(()=>o)}forEachTarget(e,t){return pd(e).jt((r,o)=>{const c=Ng(o);t(c)})}oe(e){return yb(e).get(to.key).next(t=>(pt(null!==t),t))}ae(e,t){return yb(e).put(to.key,t)}ce(e,t){return pd(e).put(NE(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cf(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return pd(e).jt({range:o,index:rs.queryTargetsIndexName},(h,m,b)=>{const T=Ng(m);cg(t,T.target)&&(c=T,b.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=xu(e);return t.forEach(h=>{const m=Ro(h.path);o.push(c.put(new br(r,m))),o.push(this.referenceDelegate.addReference(e,r,h))}),Ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=xu(e);return Ie.forEach(t,c=>{const h=Ro(c.path);return Ie.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=xu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=xu(e);let c=Dn();return o.jt({range:r,Kt:!0},(h,m,b)=>{const T=Mu(h[1]),N=new Je(T);c=c.add(N)}).next(()=>c)}containsKey(e,t){const r=Ro(t.path),o=IDBKeyRange.bound([r],[GC(r)],!1,!0);let c=0;return xu(e).jt({index:br.documentTargetsIndex,Kt:!0,range:o},([h,m],b,T)=>{0!==h&&(c++,T.done())}).next(()=>c>0)}Et(e,t){return pd(e).get(t).next(r=>r?Ng(r):null)}}function pd(n){return is(n,rs.store)}function yb(n){return is(n,to.store)}function xu(n){return is(n,br.store)}function Ef(n){return vb.apply(this,arguments)}function vb(){return(vb=(0,fe.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==TE)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function gd([n,e],[t,r]){const o=Kt(n,t);return 0===o?Kt(e,r):o}class RR{constructor(e){this.he=e,this.buffer=new dr(gd),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gd(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,fe.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){hd(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ef(o)}yield t.me(e)}))}}class G_{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(Oi.I);const r=new RR(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(kE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,c,h,m,b,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,h=Date.now(),this.nthSequenceNumber(e,o))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(c=M,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),jC()<=Va.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${c} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(T-b)+`ms\nTotal Duration: ${T-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:M})))}}class JA{constructor(e,t){this.db=e,this.garbageCollector=new G_(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return ku(e,r)}removeReference(e,t,r){return ku(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ku(e,t)}Ae(e,t){return function(r,o){let c=!1;return PE(r).Qt(h=>OE(r,h,o).next(m=>(m&&(c=!0),Ie.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ie(e,(h,m)=>{if(m<=t){const b=this.Ae(e,h).next(T=>{if(!T)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),xu(e).delete([0,Ro(h.path)])))});o.push(b)}}).next(()=>Ie.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ku(e,t)}Ie(e,t){const r=xu(e);let o,c=Oi.I;return r.jt({index:br.documentTargetsIndex},([h,m],{path:b,sequenceNumber:T})=>{0===h?(c!==Oi.I&&t(new Je(Mu(o)),c),c=T,o=b):c=Oi.I}).next(()=>{c!==Oi.I&&t(new Je(Mu(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ku(n,e){return xu(n).put((r=n.currentSequenceNumber,new br(0,Ro(e.path),r)));var r}class Df{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){nd(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return L0(this.inner)}}class QA{constructor(){this.changes=new Df(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Lt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ln.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ie.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XA{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return md(e).put(_d(t),r)}removeEntry(e,t){const r=md(e),o=_d(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return md(e).get(_d(t)).next(r=>this.Pe(t,r))}be(e,t){return md(e).get(_d(t)).next(r=>({document:this.Pe(t,r),size:Rg(r)}))}getEntries(e,t){let r=eo();return this.ve(e,t,(o,c)=>{const h=this.Pe(o,c);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=eo(),o=new qr(Je.comparator);return this.ve(e,t,(c,h)=>{const m=this.Pe(c,h);r=r.insert(c,m),o=o.insert(c,Rg(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Ie.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return md(e).jt({range:o},(m,b,T)=>{const N=Je.fromSegments(m);for(;h&&Je.comparator(h,N)<0;)r(h,null),h=c.getNext();h&&h.isEqual(N)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=eo();const c=t.path.length+1,h={};if(r.isEqual(Lt.min())){const m=t.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),b=pb(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=hr.collectionReadTimeIndex}return md(e).jt(h,(m,b,T)=>{if(m.length!==c)return;const N=hb(this.k,b);t.path.isPrefixOf(N.key.path)?hf(t,N)&&(o=o.insert(N.key,N)):T.done()}).next(()=>o)}newChangeBuffer(e){return new za(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wb(e).get(Za.key).next(t=>(pt(!!t),t))}Re(e,t){return wb(e).put(Za.key,t)}Pe(e,t){if(t){const r=hb(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Ln.newInvalidDocument(e)}}class za extends QA{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Df(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new dr((c,h)=>Kt(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const m=this.Ce.get(c);if(h.document.isValidDocument()){const b=fb(this.De.k,h.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=Rg(b)-m,t.push(this.De.addEntry(e,c,b))}else if(r-=m,this.trackRemovals){const b=fb(this.De.k,Ln.newNoDocument(c,Lt.min()),this.getReadTime(c));t.push(this.De.addEntry(e,c,b))}else t.push(this.De.removeEntry(e,c))}),o.forEach(c=>{t.push(this.De.Jt.addToCollectionParentIndex(e,c))}),t.push(this.De.updateMetadata(e,r)),Ie.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((c,h)=>{this.Ce.set(c,h)}),r))}}function wb(n){return is(n,Za.store)}function md(n){return is(n,hr.store)}function _d(n){return n.path.toArray()}class eS{constructor(e){this.k=e}Nt(e,t,r,o){pt(r<o&&r>=0&&o<=11);const c=new B_("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(xo.store),(m=e).createObjectStore(cd.store,{keyPath:cd.keyPath}),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ns.store),FE(e),function(m){m.createObjectStore(hr.store)}(e));let h=Ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(br.store),m.deleteObjectStore(rs.store),m.deleteObjectStore(to.store)}(e),FE(e)),h=h.next(()=>function(m){const b=m.store(to.store),T=new to(0,0,Lt.min().toTimestamp(),0);return b.put(to.key,T)}(c))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(tr.store).Bt().next(T=>{m.deleteObjectStore(tr.store),m.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});const N=b.store(tr.store),M=T.map(V=>N.put(V));return Ie.waitFor(M)})}(e,c))),h=h.next(()=>{!function(m){m.createObjectStore(Ru.store,{keyPath:Ru.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(c))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(Za.store)}(e),this.ke(c)))),r<7&&o>=7&&(h=h.next(()=>this.xe(c))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,c))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const b=m.objectStore(hr.store);b.createIndex(hr.readTimeIndex,hr.readTimeIndexPath,{unique:!1}),b.createIndex(hr.collectionReadTimeIndex,hr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Fe(c))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(_f.store,{keyPath:_f.keyPath})})(e),function(m){m.createObjectStore(yf.store,{keyPath:yf.keyPath})}(e)})),h}ke(e){let t=0;return e.store(hr.store).jt((r,o)=>{t+=Rg(o)}).next(()=>{const r=new Za(t);return e.store(Za.store).put(Za.key,r)})}Ne(e){const t=e.store(cd.store),r=e.store(tr.store);return t.Bt().next(o=>Ie.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Bt(tr.userMutationsIndex,h).next(m=>Ie.forEach(m,b=>{pt(b.userId===c.userId);const T=Cf(this.k,b);return H_(e,c.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(br.store),r=e.store(hr.store);return e.store(to.store).get(to.key).next(o=>{const c=[];return r.jt((h,m)=>{const b=new un(h),T=[0,Ro(b)];c.push(t.get(T).next(N=>N?Ie.resolve():t.put(new br(0,Ro(b),o.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(c))})}$e(e,t){e.createObjectStore(dd.store,{keyPath:dd.keyPath});const r=t.store(dd.store),o=new Mg,c=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:Ro(b)})}};return t.store(hr.store).jt({Kt:!0},(h,m)=>{const b=new un(h);return c(b.popLast())}).next(()=>t.store(ns.store).jt({Kt:!0},([h,m,b],T)=>{const N=Mu(m);return c(N.popLast())}))}Fe(e){const t=e.store(rs.store);return t.jt((r,o)=>{const c=Ng(o),h=NE(this.k,c);return t.put(h)})}}function FE(n){n.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.documentTargetsIndex,br.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(to.store)}const LE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cb{constructor(e,t,r,o,c,h,m,b,T,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=m,this.Me=T,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!Cb.bt())throw new Re(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JA(this,o),this.Ge=t+"main",this.k=new $_(b),this.ze=new ko(this.Ge,11,new eS(this.k)),this.He=new KA(this.referenceDelegate,this.k),this.Jt=new RE,this.Je=new XA(this.k,this.Jt),this.Ye=new ME,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,LE);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Oi(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,fe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>q_(e).put(new Ru(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(hd(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return kg(e).get(xo.key).next(t=>Ie.resolve(this.un(t)))}hn(e){return q_(e).delete(this.clientId)}ln(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=is(r,Ru.store);return o.Bt().next(c=>{const h=e.dn(c,18e5),m=c.filter(b=>-1===h.indexOf(b));return Ie.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ie.resolve(!0):kg(e).get(xo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Re(me.FAILED_PRECONDITION,LE);return!1}}return!(!this.networkEnabled||!this.inForeground)||q_(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[xo.store,Ru.store],t=>{const r=new lb(t,Oi.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>q_(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return xg.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let c;return Le("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",DE,h=>(c=new lb(h,this.Be?this.Be.next():Oi.I),"readwrite-primary"===t?this.rn(c).next(m=>!!m||this.on(c)).next(m=>{if(!m)throw Ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Re(me.FAILED_PRECONDITION,TE);return r(c)}).next(m=>this.cn(c).next(()=>m)):this.En(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}En(e){return kg(e).get(xo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(me.FAILED_PRECONDITION,LE)})}cn(e){const t=new xo(this.clientId,this.allowTabSynchronization,Date.now());return kg(e).put(xo.key,t)}static bt(){return ko.bt()}an(e){const t=kg(e);return t.get(xo.key).next(r=>this.un(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(xo.key)):Ie.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Ar("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kg(n){return is(n,xo.store)}function q_(n){return is(n,Ru.store)}function Og(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class VE{constructor(e,t){this.progress=e,this.In=t}}class Z_{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):mg(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new Je(t)).next(r=>{let o=R_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let c=R_();return this.Jt.getCollectionParents(e,o).next(h=>Ie.forEach(h,m=>{const b=(T=t,N=m.child(o),new Au(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Cn(e,b,r).next(T=>{T.forEach((N,M)=>{c=c.insert(N,M)})})}).next(()=>c))}Cn(e,t,r){let o,c;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Nn(e,c,o).next(m=>{o=m;for(const b of c)for(const T of b.mutations){const N=T.key;let M=o.get(N);null==M&&(M=Ln.newInvalidDocument(N),o=o.insert(N,M)),N_(T,M,b.localWriteTime),M.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((h,m)=>{hf(t,m)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=Dn();for(const h of t)for(const m of h.mutations)m instanceof Su&&null===r.get(m.key)&&(o=o.add(m.key));let c=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(c=c.insert(m,b))}),c))}}class z_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=Dn(),o=Dn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new z_(e,t.fromCache,r,o)}}class UE{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(Lt.min())?this.Mn(e,t):this.On.vn(e,o).next(c=>{const h=this.Ln(t,c);return(A_(t)||pg(t))&&this.Bn(t.limitType,h,o,r)?this.Mn(e,t):(jC()<=Va.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var c}Ln(e,t){let r=new dr(H0(e));return t.forEach((o,c)=>{hf(e,c)&&(r=r.add(c))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Mn(e,t){return jC()<=Va.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.On.getDocumentsMatchingQuery(e,t,Lt.min())}}class xR{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new qr(Kt),this.Kn=new Df(c=>cf(c),cg),this.jn=Lt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Z_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function BE(n,e,t,r){return new xR(n,e,t,r)}function jE(n,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,fe.Z)(function*(n,e){const t=Be(n);let r=t.An,o=t.Wn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let m;return t.An.getAllMutationBatches(h).next(b=>(m=b,r=t.persistence.getMutationQueue(e),o=new Z_(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const T=[],N=[];let M=Dn();for(const V of m){T.push(V.batchId);for(const H of V.mutations)M=M.add(H.key)}for(const V of b){N.push(V.batchId);for(const H of V.mutations)M=M.add(H.key)}return o.vn(h,M).next(V=>({Gn:V,removedBatchIds:T,addedBatchIds:N}))})});return t.An=r,t.Wn=o,t.Un.Fn(t.Wn),c})).apply(this,arguments)}function $E(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,T){const N=b.batch,M=N.keys();let V=Ie.resolve();return M.forEach(H=>{V=V.next(()=>T.getEntry(m,H)).next(re=>{const ve=b.docVersions.get(H);pt(null!==ve),re.version.compareTo(ve)<0&&(N.applyToRemoteDocument(re,b),re.isValidDocument()&&T.addEntry(re,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,N))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function Db(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function HE(n,e){const t=Be(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((T,N)=>{const M=o.get(N);if(!M)return;m.push(t.He.removeMatchingKeys(c,T.removedDocuments,N).next(()=>t.He.addMatchingKeys(c,T.addedDocuments,N)));const V=T.resumeToken;if(V.approximateByteSize()>0){const H=M.withResumeToken(V,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(N,H),re=M,Se=T,pt((ve=H).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(t.He.updateTargetData(c,H))}var re,ve,Se});let b=eo();if(e.documentUpdates.forEach((T,N)=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(GE(c,h,e.documentUpdates,r,void 0).next(T=>{b=T})),!r.isEqual(Lt.min())){const T=t.He.getLastRemoteSnapshotVersion(c).next(N=>t.He.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(T)}return Ie.waitFor(m).next(()=>h.apply(c)).next(()=>t.Wn.Vn(c,b)).next(()=>b)}).then(c=>(t.qn=o,c))}function GE(n,e,t,r,o){let c=Dn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let m=eo();return t.forEach((b,T)=>{const N=h.get(b),M=(null==o?void 0:o.get(b))||r;T.isNoDocument()&&T.version.isEqual(Lt.min())?(e.removeEntry(b,M),m=m.insert(b,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(T,M),m=m.insert(b,T)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",T.version)}),m})}function tS(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function yd(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(c=>c?(o=c,Ie.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new Ll(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Ou(n,e,t){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,fe.Z)(function*(n,e,t){const r=Be(n),o=r.qn.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!hd(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function Pg(n,e,t){const r=Be(n);let o=Lt.min(),c=Dn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,T){const N=Be(m),M=N.Kn.get(T);return void 0!==M?Ie.resolve(N.qn.get(M)):N.He.getTargetData(b,T)}(r,h,No(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{c=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:Lt.min(),t?c:Dn())).next(m=>({documents:m,zn:c})))}function Fg(n,e){const t=Be(n),r=Be(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Et(c,e).next(h=>h?h.target:null))}function Lg(n){const e=Be(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const h=Be(r);let m=eo(),b=pb(c);const T=md(o),N=IDBKeyRange.lowerBound(b,!0);return T.jt({index:hr.readTimeIndex,range:N},(M,V)=>{const H=hb(h.k,V);m=m.insert(H.key,H),b=V.readTime}).next(()=>({In:m,readTime:SE(b)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function Ib(){return(Ib=(0,fe.Z)(function*(n){const e=Be(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=md(r);let c=Lt.min();return o.jt({index:hr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(c=SE(m.readTime)),b.done()}).next(()=>c)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function qE(){return(qE=(0,fe.Z)(function*(n,e,t,r){const o=Be(n);let c=Dn(),h=eo(),m=K0();for(const N of t){const M=e.Hn(N.metadata.name);N.document&&(c=c.add(M)),h=h.insert(M,e.Jn(N)),m=m.insert(M,e.Yn(N.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),T=yield yd(o,(N=r,No(ad(un.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>GE(N,b,h,Lt.min(),m).next(M=>(b.apply(N),M)).next(M=>o.He.removeMatchingKeysForTargetId(N,T.targetId).next(()=>o.He.addMatchingKeys(N,c,T.targetId)).next(()=>o.Wn.Vn(N,M)).next(()=>M)))})).apply(this,arguments)}function rS(n,e){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,fe.Z)(function*(n,e,t=Dn()){const r=yield yd(n,No(gb(e.bundledQuery))),o=Be(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=ri(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(c,e);const m=r.withResumeToken(lr.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(c,m).next(()=>o.He.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.He.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(c,e))})})).apply(this,arguments)}class iS{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ri(r.createTime)}),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:gb(r.bundledQuery),readTime:ri(r.readTime)}),Ie.resolve();var r}}class Sb{constructor(){this.ts=new dr(ii.es),this.ns=new dr(ii.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new ii(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new ii(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Je(new un([])),r=new ii(t,e),o=new ii(t,e+1),c=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),c.push(h.key)}),c}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Je(new un([])),r=new ii(t,e),o=new ii(t,e+1);let c=Dn();return this.ns.forEachInRange([r,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new ii(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ii{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Je.comparator(e.key,t.key)||Kt(e.fs,t.fs)}static ss(e,t){return Kt(e.fs,t.fs)||Je.comparator(e.key,t.key)}}class sS{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new dr(ii.es)}checkEmpty(e){return Ie.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const c=this.ds;this.ds++;const h=new cb(c,t,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new ii(m.key,c)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Ie.resolve(h)}lookupMutationBatch(e,t){return Ie.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),c=o<0?0:o;return Ie.resolve(this.An.length>c?this.An[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ie.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ii(t,0),o=new ii(t,Number.POSITIVE_INFINITY),c=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);c.push(m)}),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(Kt);return t.forEach(o=>{const c=new ii(o,0),h=new ii(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([c,h],m=>{r=r.add(m.fs)})}),Ie.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Je.isDocumentKey(c)||(c=c.child(""));const h=new ii(new Je(c),0);let m=new dr(Kt);return this.ws.forEachWhile(b=>{const T=b.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(b.fs)),!0)},h),Ie.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){pt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ie.forEach(t.mutations,o=>{const c=new ii(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new ii(t,0),o=this.ws.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ie.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class oS{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new qr(Je.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),h=c?c.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.clone():Ln.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():Ln.newInvalidDocument(o))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=eo();const c=new Je(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:m,value:{document:b,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(m.path))break;T.compareTo(r)<=0||hf(t,b)&&(o=o.insert(b.key,b.clone()))}return Ie.resolve(o)}Es(e,t){return Ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aS(this)}getSize(e){return Ie.resolve(this.size)}}class aS extends QA{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ie.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class uS{constructor(e){this.persistence=e,this.Is=new Df(t=>cf(t),cg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.As=0,this.Rs=new Sb,this.targetCount=0,this.Ps=Bl.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ie.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Bl(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.ce(t),Ie.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ie.waitFor(c).next(()=>o)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this.Rs.containsKey(t))}}class kR{constructor(e,t){this.bs={},this.Be=new Oi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new uS(this),this.Jt=new YA,this.Je=new oS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new $_(t),this.Ye=new iS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new sS(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const o=new lS(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(c=>this.referenceDelegate.Ss(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ds(e,t){return Ie.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class lS extends IE{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Cs=new Sb,this.Ns=null}static ks(e){return new vd(e)}get xs(){if(this.Ns)return this.Ns;throw rt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,r=>{const o=Je.fromPath(r);return this.$s(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ie.or([()=>Ie.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function ZE(n,e){return`firestore_clients_${n}_${e}`}function zE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Nb(n,e){return`firestore_targets_${n}_${e}`}class bd{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Fs(e,t,r){const o=JSON.parse(r);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Re(o.error.code,o.error.message))),h?new bd(e,t,o.state,c):(Ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ia{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Re(r.error.code,r.error.message))),c?new ia(e,r.state,o):(Ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ug{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Cg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=y_(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return o?new Ug(e,c):(Ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Mb{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Mb(t.clientId,t.onlineState):(Ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WE{constructor(){this.activeTargetIds=Cg()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rb{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new qr(Kt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Qs=ZE(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new WE),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const c=e.getItem(ZE(e.persistenceKey,o));if(c){const h=Ug.Fs(o,c);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Nb(this.persistenceKey,e));if(r){const o=ia.Fs(e,r);o&&(t=o.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(c){let h=Oi.I;if(null!=c)try{const m=JSON.parse(c);pt("number"==typeof m),h=m}catch(m){Ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Oi.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const o=new bd(this.currentUser,e,t,r),c=zE(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}si(e){const t=zE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=Nb(this.persistenceKey,e),c=new ia(e,t,r);this.setItem(o,c.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return Ug.Fs(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return bd.Fs(new ki(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return ia.Fs(o,t)}Zs(e){return Mb.Fs(e)}fi(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),c=this.ei(r),h=[],m=[];return c.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{c.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Cg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Bg{constructor(){this.pi=new WE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new WE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class cS{Ei(e){}shutdown(){}}class YE{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const KE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class JE{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class xb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,c){const h=this.Ui(e,t);Le("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,c),this.Ki(e,h,m,r).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw g_("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}ji(e,t,r,o,c){return this.Bi(e,t,r,o,c)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}Ui(e,t){return`${this.Mi}/v1/${t}:${KE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((c,h)=>{const m=new IA;m.listenOnce(ER.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case M0.NO_ERROR:const T=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(T)),c(T);break;case M0.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),h(new Re(me.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const N=m.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function(H){const re=H.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(re)>=0?re:me.UNKNOWN}(M.status);h(new Re(V,M.message))}else h(new Re(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Re(me.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}Qi(e,t,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=VC(),h=UC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new TA({})),this.qi(m.initMessageHeaders,t,r),(0,Et.uI)()||(0,Et.b$)()||(0,Et.d)()||(0,Et.w1)()||(0,Et.Mn)()||(0,Et.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Le("Connection","Creating WebChannel: "+b,m);const T=c.createWebChannel(b,m);let N=!1,M=!1;const V=new JE({Vi:re=>{M?Le("Connection","Not sending because WebChannel is closed:",re):(N||(Le("Connection","Opening WebChannel transport."),T.open(),N=!0),Le("Connection","WebChannel sending:",re),T.send(re))},Si:()=>T.close()}),H=(re,ve,Se)=>{re.listen(ve,it=>{try{Se(it)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return H(T,ag.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),H(T,ag.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),V.Fi())}),H(T,ag.EventType.ERROR,re=>{M||(M=!0,g_("Connection","WebChannel transport errored:",re),V.Fi(new Re(me.UNAVAILABLE,"The operation could not be completed")))}),H(T,ag.EventType.MESSAGE,re=>{var ve;if(!M){const Se=re.data[0];pt(!!Se);const it=Se,Qe=it.error||(null===(ve=it[0])||void 0===ve?void 0:ve.error);if(Qe){Le("Connection","WebChannel received error:",Qe);const Nt=Qe.status;let at=function(zr){const Zu=Sr[zr];if(void 0!==Zu)return dE(Zu)}(Nt),ln=Qe.message;void 0===at&&(at=me.INTERNAL,ln="Unknown error status: "+Nt+" with message "+Qe.message),M=!0,V.Fi(new Re(at,ln)),T.close()}else Le("Connection","WebChannel received:",Se),V.Oi(Se)}}),H(h,DA.STAT_EVENT,re=>{re.stat===R0.PROXY?Le("Connection","Detected buffering proxy"):re.stat===R0.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function kb(){return"undefined"!=typeof window?window:null}function jg(){return"undefined"!=typeof document?document:null}function $g(n){return new jA(n,!0)}class Ob{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=c,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Pb{constructor(e,t,r,o,c,h,m,b){this.Oe=e,this.nr=r,this.sr=o,this.ir=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Ob(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,fe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,fe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Re(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,fe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dS extends Pb{constructor(e,t,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=c}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:rt(),o=e.targetChange.targetIds||[],c=function(b,T){return b.C?(pt(void 0===T||"string"==typeof T),lr.fromBase64String(T||"")):(pt(void 0===T||T instanceof Uint8Array),lr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const T=void 0===b.code?me.UNKNOWN:dE(b.code);return new Re(T,b.message||"")}(h);t=new BA(r,o,c,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Nu(n,r.document.name),c=ri(r.document.updateTime),h=new yi({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(o,c,h);t=new x_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Nu(n,r.document),c=r.readTime?ri(r.readTime):Lt.min(),h=Ln.newNoDocument(o,c);t=new x_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Nu(n,r.document);t=new x_([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,c=new UA(r.count||0);t=new ld(r.targetId,c)}}var b;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return Lt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ri(c.readTime):Lt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=Ig(this.k),t.addTarget=function(o,c){let h;const m=c.target;return h=dg(m)?{documents:vE(o,m)}:{query:bE(o,m)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=mE(o,c.resumeToken):c.snapshotVersion.compareTo(Lt.min())>0&&(h.readTime=Dg(o,c.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Ig(this.k),t.removeTarget=e,this.gr(t)}}class QE extends Pb{constructor(e,t,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=c,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(r,o){let c=ri(r.updateTime?r.updateTime:o);return c.isEqual(Lt.min())&&(c=ri(o)),new rE(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.Cr(r,t)}return pt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Ig(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>L_(this.k,r))};this.gr(t)}}class W_ extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.Bi(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(me.UNKNOWN,o.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.ir.ji(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(me.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class Y_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ar(t),this.Lr=!1):Le("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class OR{constructor(e,t,r,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=c,this.Hr.Ei(m=>{r.enqueueAndForget((0,fe.Z)(function*(){var b;wd(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,fe.Z)(function*(T){const N=Be(T);N.Gr.add(4),yield no(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield Pu(N)}),function(T){return b.apply(this,arguments)})(h))}))}),this.Jr=new Y_(r,o)}}function Pu(n){return gn.apply(this,arguments)}function gn(){return(gn=(0,fe.Z)(function*(n){if(wd(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function no(n){return jl.apply(this,arguments)}function jl(){return(jl=(0,fe.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function $l(n,e){const t=Be(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Fu(t)?Hg(t):Dd(t).lr()&&wt(t,e))}function K_(n,e){const t=Be(n),r=Dd(t);t.Wr.delete(e),r.lr()&&ro(t,e),0===t.Wr.size&&(r.lr()?r._r():wd(t)&&t.Jr.set("Unknown"))}function wt(n,e){n.Yr.X(e.targetId),Dd(n).br(e)}function ro(n,e){n.Yr.X(e),Dd(n).vr(e)}function Hg(n){n.Yr=new NR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Dd(n).start(),n.Jr.Br()}function Fu(n){return wd(n)&&!Dd(n).hr()&&n.Wr.size>0}function wd(n){return 0===Be(n).Gr.size}function Fb(n){n.Yr=void 0}function XE(n){return eD.apply(this,arguments)}function eD(){return(eD=(0,fe.Z)(function*(n){n.Wr.forEach((e,t)=>{wt(n,e)})})).apply(this,arguments)}function hS(n,e){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,fe.Z)(function*(n,e){Fb(n),Fu(n)?(n.Jr.Kr(e),Hg(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Oo(n,e,t){return $n.apply(this,arguments)}function $n(){return($n=(0,fe.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof BA&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(o,c){const h=c.cause;for(const m of c.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield As(n,r)}else if(e instanceof x_?n.Yr.ot(e):e instanceof ld?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Lt.min()))try{const r=yield Db(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const h=o.Yr.gt(c);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.Wr.get(b);T&&o.Wr.set(b,T.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(lr.EMPTY_BYTE_STRING,b.snapshotVersion)),ro(o,m);const T=new Ll(b.target,m,1,b.sequenceNumber);wt(o,T)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield As(n,r)}var r})).apply(this,arguments)}function As(n,e,t){return J_.apply(this,arguments)}function J_(){return(J_=(0,fe.Z)(function*(n,e,t){if(!hd(e))throw e;n.Gr.add(1),yield no(n),n.Jr.set("Offline"),t||(t=()=>Db(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Pu(n)}))})).apply(this,arguments)}function tD(n,e){return e().catch(t=>As(n,t,e))}function Cd(n){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,fe.Z)(function*(n){const e=Be(n),t=Lu(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Tf(e);)try{const o=yield tS(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,qg(e,o)}catch(o){yield As(e,o)}nD(e)&&Hl(e)})).apply(this,arguments)}function Tf(n){return wd(n)&&n.Qr.length<10}function qg(n,e){n.Qr.push(e);const t=Lu(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function nD(n){return wd(n)&&!Lu(n).hr()&&n.Qr.length>0}function Hl(n){Lu(n).start()}function fS(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,fe.Z)(function*(n){Lu(n).kr()})).apply(this,arguments)}function Vb(n){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,fe.Z)(function*(n){const e=Lu(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function Ub(n,e,t){return X_.apply(this,arguments)}function X_(){return(X_=(0,fe.Z)(function*(n,e,t){const r=n.Qr.shift(),o=db.from(r,e,t);yield tD(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Cd(n)})).apply(this,arguments)}function If(n,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,fe.Z)(function*(n,e){var t;e&&Lu(n).Sr&&(yield(t=(0,fe.Z)(function*(r,o){if(cE(c=o.code)&&c!==me.ABORTED){const h=r.Qr.shift();Lu(r).wr(),yield tD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Cd(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),nD(n)&&Hl(n)})).apply(this,arguments)}function Af(n,e){return ey.apply(this,arguments)}function ey(){return(ey=(0,fe.Z)(function*(n,e){const t=Be(n);e?(t.Gr.delete(2),yield Pu(t)):e||(t.Gr.add(2),yield no(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Dd(n){return n.Xr||(n.Xr=function(e,t,r){const o=Be(e);return o.Fr(),new dS(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:XE.bind(null,n),Ni:hS.bind(null,n),Pr:Oo.bind(null,n)}),n.zr.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Xr.wr(),Fu(n)?Hg(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Fb(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Lu(n){return n.Zr||(n.Zr=function(e,t,r){const o=Be(e);return o.Fr(),new QE(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:fS.bind(null,n),Ni:If.bind(null,n),Nr:Vb.bind(null,n),Cr:Ub.bind(null,n)}),n.zr.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Zr.wr(),yield Cd(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class Sf{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,c){const h=Date.now()+r,m=new Sf(e,t,h,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),hd(n))return new Re(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Gl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=R_(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ty{constructor(){this.eo=new qr(Je.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):rt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zg{constructor(e,t,r,o,c,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Zg(e,t,Gl.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Is(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class PR{constructor(){this.so=void 0,this.listeners=[]}}class Dt{constructor(){this.queries=new Df(e=>Mo(e),Is),this.onlineState="Unknown",this.io=new Set}}function rD(n,e){return Td.apply(this,arguments)}function Td(){return(Td=(0,fe.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new PR),o)try{c.so=yield t.onListen(r)}catch(h){const m=Nf(h,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.ro(t.onlineState),c.so&&e.oo(c.so)&&iD(t)})).apply(this,arguments)}function jb(n,e){return $b.apply(this,arguments)}function $b(){return($b=(0,fe.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function pS(n,e){const t=Be(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&iD(t)}function FR(n,e,t){const r=Be(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function iD(n){n.io.forEach(e=>{e.next()})}class Hb{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Zg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Li{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class sD{constructor(e){this.k=e}Hn(e){return Nu(this.k,e)}Jn(e){return e.metadata.exists?nb(this.k,e.document,!1):Ln.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ri(e)}}class gS{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=ny(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new sD(this.k);for(const o of e)if(o.metadata.queries){const c=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Dn()).add(c);t.set(h,m)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function(n,e,t,r){return qE.apply(this,arguments)}(e.localStore,new sD(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield rS(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new VE(Object.assign({},e.progress),t)})()}}function ny(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oD{constructor(e){this.key=e}}class aD{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Dn(),this.mutatedKeys=Dn(),this.Ao=H0(e),this.Ro=new Gl(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new ty,o=t?t.Ro:this.Ro;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=A_(this.query)&&o.size===this.query.limit?o.last():null,T=pg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,M)=>{const V=o.get(N),H=hf(this.query,M)?M:null,re=!!V&&this.mutatedKeys.has(V.key),ve=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Se=!1;V&&H?V.data.isEqual(H.data)?re!==ve&&(r.track({type:3,doc:H}),Se=!0):this.Vo(V,H)||(r.track({type:2,doc:H}),Se=!0,(b&&this.Ao(H,b)>0||T&&this.Ao(H,T)<0)&&(m=!0)):!V&&H?(r.track({type:0,doc:H}),Se=!0):V&&!H&&(r.track({type:1,doc:V}),Se=!0,(b||T)&&(m=!0)),Se&&(H?(h=h.add(H),c=ve?c.add(N):c.delete(N)):(h=h.delete(N),c=c.delete(N)))}),A_(this.query)||pg(this.query))for(;h.size>this.query.limit;){const N=A_(this.query)?h.last():h.first();h=h.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:m,mutatedKeys:c}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const c=e.vo.no();c.sort((T,N)=>function(M,V){const H=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return H(M)-H(V)}(T.type,N.type)||this.Ao(T.doc,N.doc)),this.So(r);const h=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==c.length||b?{snapshot:new Zg(this.query,e.Ro,o,c,e.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ty,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Dn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new aD(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new oD(r))}),t}ko(e){this.To=e.zn,this.Io=Dn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Zg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class mS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _S{constructor(e){this.key=e,this.$o=!1}}class yS{constructor(e,t,r,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Df(m=>Mo(m),Is),this.Mo=new Map,this.Lo=new Set,this.Bo=new qr(Je.comparator),this.Uo=new Map,this.qo=new Sb,this.Ko={},this.jo=new Map,this.Qo=Bl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Gb(n,e){return qb.apply(this,arguments)}function qb(){return(qb=(0,fe.Z)(function*(n,e){const t=ly(n);let r,o;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.xo();else{const h=yield yd(t.localStore,No(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield Zb(t,e,r,"current"===m),t.isPrimaryClient&&$l(t.remoteStore,h)}return o})).apply(this,arguments)}function Zb(n,e,t,r){return ry.apply(this,arguments)}function ry(){return(ry=(0,fe.Z)(function*(n,e,t,r){n.Go=(N,M,V)=>{return(H=(0,fe.Z)(function*(re,ve,Se,it){let Qe=ve.view.bo(Se);Qe.Bn&&(Qe=yield Pg(re.localStore,ve.query,!1).then(({documents:ln})=>ve.view.bo(ln,Qe)));const Nt=it&&it.targetChanges.get(ve.targetId),at=ve.view.applyChanges(Qe,re.isPrimaryClient,Nt);return ew(re,ve.targetId,at.Co),at.snapshot}),function(re,ve,Se,it){return H.apply(this,arguments)})(n,N,M,V);var H};const o=yield Pg(n.localStore,e,!0),c=new uD(e,o.zn),h=c.bo(o.documents),m=Eg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=c.applyChanges(h,n.isPrimaryClient,m);ew(n,t,b.Co);const T=new mS(e,t,c);return n.Oo.set(e,T),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),b.snapshot})).apply(this,arguments)}function zb(n,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,fe.Z)(function*(n,e){const t=Be(n),r=t.Oo.get(e),o=t.Mo.get(r.targetId);if(o.length>1)return t.Mo.set(r.targetId,o.filter(c=>!Is(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ou(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),K_(t.remoteStore,r.targetId),Mf(t,r.targetId)}).catch(Ef))):(Mf(t,r.targetId),yield Ou(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Yb(){return(Yb=(0,fe.Z)(function*(n,e,t){const r=cy(n);try{const o=yield function(c,h){const m=Be(c),b=ni.now(),T=h.reduce((M,V)=>M.add(V.key),Dn());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,T).next(V=>{N=V;const H=[];for(const re of h){const ve=sE(re,N.get(re.key));null!=ve&&H.push(new Su(re.key,ve,I_(ve.value.mapValue),vr.exists(!0)))}return m.An.addMutationBatch(M,b,H,h)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,h,m){let b=c.Ko[c.currentUser.toKey()];b||(b=new qr(Kt)),b=b.insert(h,m),c.Ko[c.currentUser.toKey()]=b}(r,o.batchId,t),yield Vu(r,o.changes),yield Cd(r.remoteStore)}catch(o){const c=Nf(o,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function lD(n,e){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,fe.Z)(function*(n,e){const t=Be(n);try{const r=yield HE(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Uo.get(c);h&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?pt(h.$o):o.removedDocuments.size>0&&(pt(h.$o),h.$o=!1))}),yield Vu(t,r,e)}catch(r){yield Ef(r)}})).apply(this,arguments)}function cD(n,e,t){const r=Be(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((c,h)=>{const m=h.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(c,h){const m=Be(c);m.onlineState=h;let b=!1;m.queries.forEach((T,N)=>{for(const M of N.listeners)M.ro(h)&&(b=!0)}),b&&iD(m)}(r.eventManager,e),o.length&&r.Fo.Pr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vS(n,e,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,fe.Z)(function*(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),c=o&&o.key;if(c){let h=new qr(Je.comparator);h=h.insert(c,Ln.newNoDocument(c,Lt.min()));const m=Dn().add(c),b=new ra(Lt.min(),new Map,new dr(Kt),h,m);yield lD(r,b),r.Bo=r.Bo.remove(c),r.Uo.delete(e),oy(r)}else yield Ou(r.localStore,e,!1).then(()=>Mf(r,e,t)).catch(Ef)})).apply(this,arguments)}function zg(n,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,fe.Z)(function*(n,e){const t=Be(n),r=e.batch.batchId;try{const o=yield $E(t.localStore,e);Xb(t,r,null),sy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vu(t,o)}catch(o){yield Ef(o)}})).apply(this,arguments)}function bS(n,e,t){return iy.apply(this,arguments)}function iy(){return(iy=(0,fe.Z)(function*(n,e,t){const r=Be(n);try{const o=yield function(c,h){const m=Be(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let T;return m.An.lookupMutationBatch(b,h).next(N=>(pt(null!==N),T=N.keys(),m.An.removeMutationBatch(b,N))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,T))})}(r.localStore,e);Xb(r,e,t),sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(r,o)}catch(o){yield Ef(o)}})).apply(this,arguments)}function dD(){return(dD=(0,fe.Z)(function*(n,e){const t=Be(n);wd(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=Be(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=Nf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function sy(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function Xb(n,e,t){const r=Be(n);let o=r.Ko[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||hD(n,r)})}function hD(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(K_(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),oy(n))}function ew(n,e,t){for(const r of t)r instanceof oD?(n.qo.addReference(r.key,e),wS(n,r)):r instanceof aD?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||hD(n,r.key)):rt()}function wS(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.Lo.add(r),oy(n))}function oy(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Je(un.fromString(e)),r=n.Qo.next();n.Uo.set(r,new _S(t)),n.Bo=n.Bo.insert(t,r),$l(n.remoteStore,new Ll(No(ad(t.path)),r,2,Oi.I))}}function Vu(n,e,t){return tw.apply(this,arguments)}function tw(){return(tw=(0,fe.Z)(function*(n,e,t){const r=Be(n),o=[],c=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,T.fromCache?"not-current":"current"),o.push(T);const N=z_.$n(b.targetId,T);c.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(o),yield(m=(0,fe.Z)(function*(b,T){const N=Be(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ie.forEach(T,V=>Ie.forEach(V.kn,H=>N.persistence.referenceDelegate.addReference(M,V.targetId,H)).next(()=>Ie.forEach(V.xn,H=>N.persistence.referenceDelegate.removeReference(M,V.targetId,H)))))}catch(M){if(!hd(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const V=M.targetId;if(!M.fromCache){const H=N.qn.get(V),ve=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.qn=N.qn.insert(V,ve)}}}),function(b,T){return m.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function VR(n,e){return fD.apply(this,arguments)}function fD(){return(fD=(0,fe.Z)(function*(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield jE(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(m=>{m.reject(new Re(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vu(t,r.Gn)}var o})).apply(this,arguments)}function UR(n,e){const t=Be(n),r=t.Uo.get(e);if(r&&r.$o)return Dn().add(r.key);{let o=Dn();const c=t.Mo.get(e);if(!c)return o;for(const h of c){const m=t.Oo.get(h);o=o.unionWith(m.view.Po)}return o}}function nw(n,e){return rw.apply(this,arguments)}function rw(){return(rw=(0,fe.Z)(function*(n,e){const t=Be(n),r=yield Pg(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&ew(t,e.targetId,o.Co),o})).apply(this,arguments)}function CS(n){return iw.apply(this,arguments)}function iw(){return(iw=(0,fe.Z)(function*(n){const e=Be(n);return Lg(e.localStore).then(t=>Vu(e,t))})).apply(this,arguments)}function ES(n,e,t,r){return sw.apply(this,arguments)}function sw(){return(sw=(0,fe.Z)(function*(n,e,t,r){const o=Be(n),c=yield function(h,m){const b=Be(h),T=Be(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Zt(N,m).next(M=>M?b.Wn.vn(N,M):Ie.resolve(null)))}(o.localStore,e);var m;null!==c?("pending"===t?yield Cd(o.remoteStore):"acknowledged"===t||"rejected"===t?(Xb(o,e,r||null),sy(o,e),m=e,Be(Be(o.localStore).An).ee(m)):rt(),yield Vu(o,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ay(){return(ay=(0,fe.Z)(function*(n,e){const t=Be(n);if(ly(t),cy(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield uy(t,r.toArray());t.Wo=!0,yield Af(t.remoteStore,!0);for(const c of o)$l(t.remoteStore,c)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Mo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Mf(t,h),Ou(t.localStore,h,!0))),K_(t.remoteStore,h)}),yield o,yield uy(t,r),function(c){const h=Be(c);h.Uo.forEach((m,b)=>{K_(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new qr(Je.comparator)}(t),t.Wo=!1,yield Af(t.remoteStore,!1)}})).apply(this,arguments)}function uy(n,e,t){return ow.apply(this,arguments)}function ow(){return(ow=(0,fe.Z)(function*(n,e,t){const r=Be(n),o=[],c=[];for(const h of e){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield yd(r.localStore,No(b[0]));for(const T of b){const N=r.Oo.get(T),M=yield nw(r,N);M.snapshot&&c.push(M.snapshot)}}else{const T=yield Fg(r.localStore,h);m=yield yd(r.localStore,T),yield Zb(r,Id(T),h,!1)}o.push(m)}return r.Fo.Pr(c),o})).apply(this,arguments)}function Id(n){return KC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vi(n){const e=Be(n);return Be(Be(e.localStore).persistence).Tn()}function pD(n,e,t,r){return io.apply(this,arguments)}function io(){return(io=(0,fe.Z)(function*(n,e,t,r){const o=Be(n);if(o.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(e))switch(t){case"current":case"not-current":{const c=yield Lg(o.localStore),h=ra.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vu(o,c,h);break}case"rejected":yield Ou(o.localStore,e,!0),Mf(o,e,r);break;default:rt()}})).apply(this,arguments)}function aw(n,e,t){return uw.apply(this,arguments)}function uw(){return(uw=(0,fe.Z)(function*(n,e,t){const r=ly(n);if(r.Wo){for(const o of e){if(r.Mo.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const c=yield Fg(r.localStore,o),h=yield yd(r.localStore,c);yield Zb(r,Id(c),h.targetId,!1),$l(r.remoteStore,h)}for(const o of t)r.Mo.has(o)&&(yield Ou(r.localStore,o,!1).then(()=>{K_(r.remoteStore,o),Mf(r,o)}).catch(Ef))}})).apply(this,arguments)}function ly(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vS.bind(null,e),e.Fo.Pr=pS.bind(null,e.eventManager),e.Fo.zo=FR.bind(null,e.eventManager),e}function cy(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bS.bind(null,e),e}class mD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.k=$g(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return BE(this.persistence,new UE,e.initialUser,this.k)}Yo(e){return new kR(vd.ks,this.k)}Jo(e){return new Bg}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _D extends mD{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e),yield function(n){return Ib.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield cy(r.ta.syncEngine),yield Cd(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return BE(this.persistence,new UE,e.initialUser,this.k)}Xo(e){return new bb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new Cb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kb(),jg(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Bg}}class TS extends _D{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e);const o=r.ta.syncEngine;r.sharedClientState instanceof Rb&&(r.sharedClientState.syncEngine={mi:ES.bind(null,o),gi:pD.bind(null,o),yi:aw.bind(null,o),Tn:Vi.bind(null,o),_i:CS.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var c=(0,fe.Z)(function*(h){yield function(n,e){return ay.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Jo(e){const t=kb();if(!Rb.bt(t))throw new Re(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dy{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>cD(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=VR.bind(null,r.syncEngine),yield Af(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dt}createDatastore(e){const t=$g(e.databaseInfo.databaseId),r=new xb(e.databaseInfo);return new W_(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=m=>cD(this.syncEngine,m,0),h=YE.bt()?new YE:new cS,new OR(t,r,o,c,h);var t,r,o,c,h}createSyncEngine(e,t){return function(r,o,c,h,m,b,T){const N=new yS(r,o,c,h,m,b);return T&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const r=Be(t);Le("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield no(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yD(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class IS{constructor(e,t){this.sa=e,this.k=t,this.metadata=new _i,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,fe.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),o=Number(r);isNaN(o)&&e.aa(`length string (${r}) is not valid number`);const c=yield e.ca(o);return new Li(JSON.parse(c),t.length+o)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,fe.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,fe.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,fe.Z)(function*(c,h){const m=Be(c),b=Ig(m.k)+"/documents",T={documents:h.map(H=>Un(m.k,H))},N=yield m.ji("BatchGetDocuments",b,T),M=new Map;N.forEach(H=>{const re=function(n,e){return"found"in e?function(t,r){pt(!!r.found);const o=Nu(t,r.found.name),c=ri(r.found.updateTime),h=new yi({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(o,c,h)}(n,e):"missing"in e?function(t,r){pt(!!r.missing),pt(!!r.readTime);const o=Nu(t,r.missing),c=ri(r.readTime);return Ln.newNoDocument(o,c)}(n,e):rt()}(m.k,H);M.set(re.key.toString(),re)});const V=[];return h.forEach(H=>{const re=M.get(H.toString());pt(!!re),V.push(re)}),V}),function(c,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Je.fromPath(o);e.mutations.push(new W0(c,e.precondition(c)))}),yield(r=(0,fe.Z)(function*(o,c){const h=Be(o),m=Ig(h.k)+"/documents",b={writes:c.map(T=>L_(h.k,T))};yield h.Bi("Commit",m,b)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Re(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rf{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new Ob(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,fe.Z)(function*(){const t=new AS(e.datastore),r=e.da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.wa(c)}))}).catch(o=>{e.wa(o)})}))}da(e){try{const t=this.updateFunction(e);return!uf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!cE(t)}return!1}}class BR{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=P0.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,fe.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Nf(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function cw(n,e){return dw.apply(this,arguments)}function dw(){return(dw=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,fe.Z)(function*(c){r.isEqual(c)||(yield jE(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function SS(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hw(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,fe.Z)(function*(h,m){const b=Be(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const T=wd(b);b.Gr.add(3),yield no(b),T&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Pu(b)}),function(h,m){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e})).apply(this,arguments)}function hw(n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,fe.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield cw(n,new mD)),n.offlineComponents})).apply(this,arguments)}function fy(n){return py.apply(this,arguments)}function py(){return(py=(0,fe.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield SS(n,new dy)),n.onlineComponents})).apply(this,arguments)}function fw(n){return hw(n).then(e=>e.persistence)}function gy(n){return hw(n).then(e=>e.localStore)}function vD(n){return fy(n).then(e=>e.remoteStore)}function pw(n){return fy(n).then(e=>e.syncEngine)}function xf(n){return gw.apply(this,arguments)}function gw(){return(gw=(0,fe.Z)(function*(n){const e=yield fy(n),t=e.eventManager;return t.onListen=Gb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t})).apply(this,arguments)}function mw(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(o,c,h,m,b){const T=new lw({next:M=>{c.enqueueAndForget(()=>jb(o,N));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new Re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new Re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Hb(ad(h.path),T,{includeMetadataChanges:!0,wo:!0});return rD(o,N)}(yield xf(n),n.asyncQueue,e,t,r)})),r.promise}function _w(n,e,t={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(o,c,h,m,b){const T=new lw({next:M=>{c.enqueueAndForget(()=>jb(o,N)),M.fromCache&&"server"===m.source?b.reject(new Re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new Hb(h,T,{includeMetadataChanges:!0,wo:!0});return rD(o,N)}(yield xf(n),n.asyncQueue,e,t,r)})),r.promise}class DD{constructor(e,t,r,o,c,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class kf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}const TD=new Map;function yw(n,e,t){if(!t)throw new Re(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ID(n,e,t,r){if(!0===e&&!0===r)throw new Re(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Of(n){if(!Je.isDocumentKey(n))throw new Re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pf(n){if(Je.isDocumentKey(n))throw new Re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function my(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=my(n);throw new Re(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sa(n,e){if(e<=0)throw new Re(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class AD{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ql{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AD({}),this._settingsFrozen=!1,e instanceof kf?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(o.options.projectId)}(e))}get app(){if(!this._app)throw new Re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AD(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HC;switch(t.type){case"gapi":const r=t.client;return pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TD.get(e);t&&(Le("ComponentProvider","Removing Datastore"),TD.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ss{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Po extends ss{constructor(e,t,r){super(e,t,ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Je(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function _y(n,e,...t){if(n=(0,Et.m9)(n),yw("collection","path",e),n instanceof ql){const r=un.fromString(e,...t);return Pf(r),new Po(n,null,r)}{if(!(n instanceof Hn||n instanceof Po))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return Pf(r),new Po(n.firestore,null,r)}}function Ff(n,e,...t){if(n=(0,Et.m9)(n),1===arguments.length&&(e=P0.A()),yw("doc","path",e),n instanceof ql){const r=un.fromString(e,...t);return Of(r),new Hn(n,null,new Je(r))}{if(!(n instanceof Hn||n instanceof Po))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return Of(r),new Hn(n.firestore,n instanceof Po?n.converter:null,new Je(r))}}function yy(n,e){return n=(0,Et.m9)(n),e=(0,Et.m9)(e),(n instanceof Hn||n instanceof Po)&&(e instanceof Hn||e instanceof Po)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ND(n,e){return n=(0,Et.m9)(n),e=(0,Et.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&Is(n._query,e._query)&&n.converter===e.converter}class kS{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Ob(this,"async_queue_retry"),this.Ra=()=>{const t=jg();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=jg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=jg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new _i;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,fe.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!hd(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=Sf.createAndSchedule(this,e,t,r,c=>this.Va(c));return this.pa.push(o),o}Pa(){this.Ta&&rt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function vw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class OS{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends ql{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bw(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||bw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bw(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DD(n._databaseId,c,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new BR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function ww(n,e,t){const r=new _i;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield cw(n,t),yield SS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function OD(n){if(n._initialized||n._terminated)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(lr.fromBase64String(e))}catch(t){throw new Re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uu{constructor(e){this._methodName=e}}class by{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const PD=/^__.*__$/;class BS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Su(e,this.data,this.fieldMask,t,this.fieldTransforms):new bg(e,this.data,t,this.fieldTransforms)}}class FD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Su(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class Jg{constructor(e,t,r,o,c,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ka(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.Ma(e),o}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Xg(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(wy(this.xa)&&PD.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class LD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||$g(e)}ja(e,t,r,o=!1){return new Jg({xa:e,methodName:t,Ka:r,path:Hr.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ya(n){const e=n._freezeSettings(),t=$g(n._databaseId);return new LD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Vf(n,e,t,r,o,c={}){const h=n.ja(c.merge||c.mergeFields?2:0,e,t,o);Ty("Data must be an object, but it was:",h,r);const m=BD(r,h);let b,T;if(c.merge)b=new rf(h.fieldMask),T=h.fieldTransforms;else if(c.mergeFields){const N=[];for(const M of c.mergeFields){const V=Iy(e,M,t);if(!h.contains(V))throw new Re(me.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);jD(N,V)||N.push(V)}b=new rf(N),T=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,T=h.fieldTransforms;return new BS(new yi(m),b,T)}class Cy extends Uu{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cy}}function Cw(n,e,t){return new Jg({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Ew extends Uu{_toFieldTransform(e){return new Fl(e.path,new pf)}isEqual(e){return e instanceof Ew}}class VD extends Uu{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Cw(this,e,!0),r=this.Qa.map(c=>Ad(c,t)),o=new Pl(r);return new Fl(e.path,o)}isEqual(e){return this===e}}class Ey extends Uu{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Cw(this,e,!0),r=this.Qa.map(c=>Ad(c,t)),o=new Ga(r);return new Fl(e.path,o)}isEqual(e){return this===e}}class UD extends Uu{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new ud(e.k,eE(e.k,this.Wa));return new Fl(e.path,t)}isEqual(e){return this===e}}function Dw(n,e,t,r){const o=n.ja(1,e,t);Ty("Data must be an object, but it was:",o,r);const c=[],h=yi.empty();nd(r,(b,T)=>{const N=Ay(e,b,t);T=(0,Et.m9)(T);const M=o.La(N);if(T instanceof Cy)c.push(N);else{const V=Ad(T,M);null!=V&&(c.push(N),h.set(N,V))}});const m=new rf(c);return new FD(h,m,o.fieldTransforms)}function Qg(n,e,t,r,o,c){const h=n.ja(1,e,t),m=[Iy(e,r,t)],b=[o];if(c.length%2!=0)throw new Re(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)m.push(Iy(e,c[V])),b.push(c[V+1]);const T=[],N=yi.empty();for(let V=m.length-1;V>=0;--V)if(!jD(T,m[V])){const H=m[V];let re=b[V];re=(0,Et.m9)(re);const ve=h.La(H);if(re instanceof Cy)T.push(H);else{const Se=Ad(re,ve);null!=Se&&(T.push(H),N.set(H,Se))}}const M=new rf(T);return new FD(N,M,h.fieldTransforms)}function Dy(n,e,t,r=!1){return Ad(t,n.ja(r?4:3,e))}function Ad(n,e){if(Tw(n=(0,Et.m9)(n)))return Ty("Unsupported field value:",e,n),BD(n,e);if(n instanceof Uu)return function(t,r){if(!wy(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const h of t){let m=Ad(h,r.Ba(c));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eE(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ni.fromDate(t);return{timestampValue:Dg(r.k,o)}}if(t instanceof ni){const o=new ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dg(r.k,o)}}if(t instanceof by)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wa)return{bytesValue:mE(r.k,t._byteString)};if(t instanceof Hn){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Ua(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gf(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${my(t)}`)}(n,e)}function BD(n,e){const t={};return L0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nd(n,(r,o)=>{const c=Ad(o,e.Fa(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function Tw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof by||n instanceof Wa||n instanceof Hn||n instanceof Uu)}function Ty(n,e,t){if(!Tw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=my(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Iy(n,e,t){if((e=(0,Et.m9)(e))instanceof Zl)return e._internalPath;if("string"==typeof e)return Ay(n,e);throw Xg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const jS=new RegExp("[~\\*/\\[\\]]");function Ay(n,e,t){if(e.search(jS)>=0)throw Xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zl(...e.split("."))._internalPath}catch(r){throw Xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xg(n,e,t,r,o){const c=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(c||h)&&(b+=" (found",c&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Re(me.INVALID_ARGUMENT,m+n+b)}function jD(n,e){return n.some(t=>t.isEqual(e))}class em{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $D extends em{data(){return super.data()}}function Sy(n,e){return"string"==typeof e?Ay(n,e):e instanceof Zl?e._internalPath:e._delegate._internalPath}class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends em{constructor(e,t,r,o,c,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Uf extends Ka{data(e={}){return super.data(e)}}class Bu{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uf(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Uf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Uf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,T=-1;return 0!==h.type&&(b=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),T=c.indexOf(h.doc.key)),{type:$S(h.type),doc:m,oldIndex:b,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $S(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function HD(n,e){return n instanceof Ka&&e instanceof Ka?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bu&&e instanceof Bu&&n._firestore===e._firestore&&ND(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function GD(n){if(pg(n)&&0===n.explicitOrderBy.length)throw new Re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}function Sd(n,...e){for(const t of e)n=t._apply(n);return n}class $R extends Bf{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=Ya(e.firestore),r=function(o,c,h,m,b,T,N){let M;if(b.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){WS(N,T);const H=[];for(const re of N)H.push(zS(m,o,re));M={arrayValue:{values:H}}}else M=zS(m,o,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||WS(N,T),M=Dy(h,"where",N,"in"===T||"not-in"===T);const V=Pi.create(b,T,M);return function(H,re){if(re.V()){const Se=gg(H);if(null!==Se&&!Se.isEqual(re.field))throw new Re(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${re.field.toString()}'`);const it=JC(H);null!==it&&qD(0,re.field,it)}const ve=function(Se,it){for(const Qe of Se.filters)if(it.indexOf(Qe.op)>=0)return Qe.op;return null}(H,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ve)throw new Re(me.INVALID_ARGUMENT,ve===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ve.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ss(e.firestore,e.converter,function(o,c){const h=o.filters.concat([c]);return new Au(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class GR extends Bf{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new df(o,c);return function(m,b){if(null===JC(m)){const T=gg(m);null!==T&&qD(0,T,b.field)}}(r,h),h}(e._query,this.Ga,this.Ja);return new ss(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Au(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HS extends Bf{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new ss(e.firestore,e.converter,$0(e._query,this.Ya,this.Xa))}}class GS extends Bf{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=ZS(e,this.type,this.Za,this.tc);return new ss(e.firestore,e.converter,(o=t,new Au((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class qS extends Bf{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=ZS(e,this.type,this.Za,this.tc);return new ss(e.firestore,e.converter,(o=t,new Au((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function ZS(n,e,t,r){if(t[0]=(0,Et.m9)(t[0]),t[0]instanceof em)return function(o,c,h,m,b){if(!m)throw new Re(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of ts(o))if(N.field.isKeyField())T.push(w_(c,m.key));else{const M=m.data.field(N.field);if(ug(M))throw new Re(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=N.field.canonicalString();throw new Re(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(M)}return new hg(T,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Ya(n.firestore);return function(c,h,m,b,T,N){const M=c.explicitOrderBy;if(T.length>M.length)throw new Re(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<T.length;H++){const re=T[H];if(M[H].field.isKeyField()){if("string"!=typeof re)throw new Re(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof re}`);if(!mg(c)&&-1!==re.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${re}' contains a slash.`);const ve=c.path.child(un.fromString(re));if(!Je.isDocumentKey(ve))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Se=new Je(ve);V.push(w_(h,Se))}else{const ve=Dy(m,b,re);V.push(ve)}}return new hg(V,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function zS(n,e,t){if("string"==typeof(t=(0,Et.m9)(t))){if(""===t)throw new Re(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mg(e)&&-1!==t.indexOf("/"))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Je.isDocumentKey(r))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w_(n,new Je(r))}if(t instanceof Hn)return w_(n,t._key);throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(t)}.`)}function WS(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qD(n,e,t){if(!t.isEqual(e))throw new Re(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Iw{convertValue(e,t="none"){switch(rd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return nd(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new by(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=m_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);pt(ob(r));const o=new kf(r.get(1),r.get(3)),c=new Je(r.popFirst(5));return o.isEqual(t)||Ar(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Ny(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class QR extends Iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class YS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ya(e)}set(e,t,r){this._verifyNotCommitted();const o=Nd(e,this._firestore),c=Ny(o.converter,t,r),h=Vf(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,vr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Nd(e,this._firestore);let h;return h="string"==typeof(t=(0,Et.m9)(t))||t instanceof Zl?Qg(this._dataReader,"WriteBatch.update",c._key,t,r,o):Dw(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nd(e,this._firestore);return this._mutations=this._mutations.concat(new wg(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nd(n,e){if((n=(0,Et.m9)(n)).firestore!==e)throw new Re(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Md extends Iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function ZD(n,e,t){n=Jt(n,Hn);const r=Jt(n.firestore,Gn),o=Ny(n.converter,e,t);return jf(r,[Vf(Ya(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,vr.none())])}function QS(n,e,t,...r){n=Jt(n,Hn);const o=Jt(n.firestore,Gn),c=Ya(o);let h;return h="string"==typeof(e=(0,Et.m9)(e))||e instanceof Zl?Qg(c,"updateDoc",n._key,e,t,r):Dw(c,"updateDoc",n._key,e),jf(o,[h.toMutation(n._key,vr.exists(!0))])}function Rd(n,...e){var t,r,o;n=(0,Et.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||vw(e[h])||(c=e[h],h++);const m={includeMetadataChanges:c.includeMetadataChanges};if(vw(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(o=M.complete)||void 0===o?void 0:o.bind(M)}let b,T,N;if(n instanceof Hn)T=Jt(n.firestore,Gn),N=ad(n._key.path),b={next:M=>{e[h]&&e[h](Sw(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=Jt(n,ss);T=Jt(M.firestore,Gn),N=M._query;const V=new Md(T);b={next:H=>{e[h]&&e[h](new Bu(T,V,M,H))},error:e[h+1],complete:e[h+2]},GD(n._query)}return function(M,V,H,re){const ve=new lw(re),Se=new Hb(V,ve,H);return M.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return rD(yield xf(M),Se)})),()=>{ve.na(),M.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return jb(yield xf(M),Se)}))}}(Nr(T),N,m,b)}function jf(n,e){return function(t,r){const o=new _i;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(n,e,t){return Yb.apply(this,arguments)}(yield pw(t),r,o)})),o.promise}(Nr(n),e)}function Sw(n,e,t){const r=t.docs.get(e._key),o=new Md(n);return new Ka(n,o,e._key,r,new zl(t.hasPendingWrites,t.fromCache),e.converter)}class Nw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ya(e)}get(e){const t=Nd(e,this._firestore),r=new QR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return rt();const c=o[0];if(c.isFoundDocument())return new em(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new em(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const o=Nd(e,this._firestore),c=Ny(o.converter,t,r),h=Vf(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const c=Nd(e,this._firestore);let h;return h="string"==typeof(t=(0,Et.m9)(t))||t instanceof Zl?Qg(this._dataReader,"Transaction.update",c._key,t,r,o):Dw(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Nd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nd(e,this._firestore),r=new Md(this._firestore);return super.get(e).then(o=>new Ka(this._firestore,r,t._key,o._document,new zl(!1,!1),t.converter))}}function QD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function XD(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function tN(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Xh=Ys.SDK_VERSION,(0,Ys._registerComponent)(new jc.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new Gn(o,new AA(t.getProvider("auth-internal")),new NA(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Ys.registerVersion)(BC,"3.4.0",n),(0,Ys.registerVersion)(BC,"3.4.0","esm2017")}();class Wl{constructor(e){this._delegate=e}static fromBase64String(e){return tN(),new Wl(Wa.fromBase64String(e))}static fromUint8Array(e){return XD(),new Wl(Wa.fromUint8Array(e))}toBase64(){return tN(),this._delegate.toBase64()}toUint8Array(){return XD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mw(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class ax{enableIndexedDbPersistence(e,t){return function(n,e){OD(n=Jt(n,Gn));const t=Nr(n),r=n._freezeSettings(),o=new dy;return ww(t,o,new _D(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){OD(n=Jt(n,Gn));const e=Nr(n),t=n._freezeSettings(),r=new dy;return ww(e,r,new TS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Re(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(r){if(!ko.bt())return Promise.resolve();const o=r+"main";yield ko.delete(o)}),function(r){return t.apply(this,arguments)})(Og(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ry{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof kf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&g_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=Jt(n,ql))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&g_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ki.MOCK_USER;else{h=(0,Et.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ki(b)}n._authCredentials=new TR(new $C(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield fw(n),t=yield vD(n);return e.setNetworkEnabled(!0),function(r){const o=Be(r);return o.Gr.delete(0),Pu(o)}(t)}))}(Nr(n=Jt(n,Gn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield fw(n),t=yield vD(n);return e.setNetworkEnabled(!1),(r=(0,fe.Z)(function*(o){const c=Be(o);c.Gr.add(0),yield no(c),c.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Jt(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ID("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new _i;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(n,e){return dD.apply(this,arguments)}(yield pw(e),t)})),t.promise}(Nr(n=Jt(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new lw(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield xf(n),o=t,Be(r).io.add(o),void o.next();var r,o})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield xf(n),o=t,void Be(r).io.delete(o);var r,o}))}}(Nr(n=Jt(n,Gn)),vw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yl(this,_y(this._delegate,e))}catch(t){throw os(t,"collection()","Firestore.collection()")}}doc(e){try{return new so(this,Ff(this._delegate,e))}catch(t){throw os(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new as(this,function(n,e){if(n=Jt(n,ql),yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new Au(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw os(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const r=yield(o=n,fy(o).then(c=>c.datastore));var o;new Rf(n.asyncQueue,r,e,t).run()})),t.promise}(Nr(n=Jt(n,Gn)),t=>e(new Nw(n,t)))}(this._delegate,t=>e(new nN(this,t)))}batch(){return Nr(this._delegate),new eT(new YS(this._delegate,e=>jf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Nr(n=Jt(n,Gn)),r=new OS;return function(n,e,t,r){const o=function(c,h){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,b=function(b,T){if(b instanceof Uint8Array)return yD(b,T);if(b instanceof ArrayBuffer)return yD(new Uint8Array(b),T);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new IS(b,h);var b}(t,$g(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function(n,e,t){const r=Be(n);var o;(o=(0,fe.Z)(function*(c,h,m){try{const b=yield h.getMetadata();if(yield function(V,H){const re=Be(V),ve=ri(H.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Se=>re.Ye.getBundleMetadata(Se,H.id)).then(Se=>!!Se&&Se.createTime.compareTo(ve)>=0)}(c.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(ny(b));const T=new gS(b,c.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield T.yo(N);V&&m._updateProgress(V),N=yield h.Ho()}const M=yield T.complete();yield Vu(c,M.In,void 0),yield function(V,H){const re=Be(V);return re.persistence.runTransaction("Save bundle","readwrite",ve=>re.Ye.saveBundleMetadata(ve,H))}(c.localStore,b),m._completeWith(M.progress)}catch(b){g_("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(c,h,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield pw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,r){const o=Be(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ye.getNamedQuery(c,r))}(yield gy(n),e)}))}(Nr(n=Jt(n,Gn)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new as(this,t):null)}}class xy extends Iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(new Wa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return so.forKey(t,this.firestore,null)}}class nN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}get(e){const t=xd(e);return this._delegate.get(t).then(r=>new tm(this._firestore,new Ka(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=xd(e);return r?(QD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=xd(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=xd(e);return this._delegate.delete(t),this}}class eT{constructor(e){this._delegate=e}set(e,t,r){const o=xd(e);return r?(QD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=xd(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=xd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $f{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Uf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ju(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$f.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new $f(e,new xy(e),t),o.set(t,c)),c}}$f.INSTANCES=new WeakMap;class so{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new so(t,new Hn(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new so(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yl(this.firestore,_y(this._delegate,e))}catch(t){throw os(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Et.m9)(e))instanceof Hn&&yy(this._delegate,e)}set(e,t){t=QD("DocumentReference.set",t);try{return t?ZD(this._delegate,e,t):ZD(this._delegate,e)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?QS(this._delegate,e):QS(this._delegate,e,t,...r)}catch(o){throw os(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return jf(Jt(n.firestore,Gn),[new wg(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=rN(e),r=iN(e,o=>new tm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Rd(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Jt(n,Hn);const e=Jt(n.firestore,Gn),t=Nr(e),r=new Md(e);return function(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(o,c,h){try{const m=yield function(b,T){const N=Be(b);return N.persistence.runTransaction("read document","readonly",M=>N.Wn.Rn(M,T))}(o,c);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Re(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Nf(m,`Failed to get document '${c} from cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield gy(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Ka(e,r,n._key,o,new zl(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Jt(n,Hn);const e=Jt(n.firestore,Gn);return mw(Nr(e),n._key,{source:"server"}).then(t=>Sw(e,n,t))}(this._delegate):function(n){n=Jt(n,Hn);const e=Jt(n.firestore,Gn);return mw(Nr(e),n._key).then(t=>Sw(e,n,t))}(this._delegate),t.then(r=>new tm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new so(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}function os(n,e,t){return n.message=n.message.replace(e,t),n}function rN(n){for(const e of n)if("object"==typeof e&&!Mw(e))return e;return{}}function iN(n,e){var t,r;let o;return o=Mw(n[0])?n[0]:Mw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class tm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new so(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return HD(this._delegate,e._delegate)}}class ju extends tm{data(e){const t=this._delegate.data(e);return function(n,e){n||rt()}(void 0!==t),t}}class as{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}where(e,t,r){try{return new as(this.firestore,Sd(this._delegate,function(n,e,t){const r=e,o=Sy("where",n);return new $R(o,r,t)}(e,t,r)))}catch(o){throw os(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new as(this.firestore,Sd(this._delegate,function(n,e="asc"){const t=e,r=Sy("orderBy",n);return new GR(r,t)}(e,t)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new as(this.firestore,Sd(this._delegate,function(n){return sa("limit",n),new HS("limit",n,"F")}(e)))}catch(t){throw os(t,"limit()","Query.limit()")}}limitToLast(e){try{return new as(this.firestore,Sd(this._delegate,function(n){return sa("limitToLast",n),new HS("limitToLast",n,"L")}(e)))}catch(t){throw os(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new GS("startAt",n,!0)}(...e)))}catch(t){throw os(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new GS("startAfter",n,!1)}(...e)))}catch(t){throw os(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new qS("endBefore",n,!0)}(...e)))}catch(t){throw os(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new as(this.firestore,Sd(this._delegate,function(...n){return new qS("endAt",n,!1)}(...e)))}catch(t){throw os(t,"endAt()","Query.endAt()")}}isEqual(e){return ND(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Jt(n,ss);const e=Jt(n.firestore,Gn),t=Nr(e),r=new Md(e);return function(n,e){const t=new _i;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(o,c,h){try{const m=yield Pg(o,c,!0),b=new uD(c,m.zn),T=b.bo(m.documents),N=b.applyChanges(T,!1);h.resolve(N.snapshot)}catch(m){const b=Nf(m,`Failed to execute query '${c} against cache`);h.reject(b)}}),function(o,c,h){return r.apply(this,arguments)})(yield gy(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Bu(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Jt(n,ss);const e=Jt(n.firestore,Gn),t=Nr(e),r=new Md(e);return _w(t,n._query,{source:"server"}).then(o=>new Bu(e,r,n,o))}(this._delegate):function(n){n=Jt(n,ss);const e=Jt(n.firestore,Gn),t=Nr(e),r=new Md(e);return GD(n._query),_w(t,n._query).then(o=>new Bu(e,r,n,o))}(this._delegate),t.then(r=>new Rw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=rN(e),r=iN(e,o=>new Rw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Rd(this._delegate,t,r)}withConverter(e){return new as(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}class sN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ju(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ju(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ju(this._firestore,r))})}isEqual(e){return HD(this._delegate,e._delegate)}}class Yl extends as{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new so(this.firestore,e):null}doc(e){try{return new so(this.firestore,void 0===e?Ff(this._delegate):Ff(this._delegate,e))}catch(t){throw os(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Jt(n.firestore,Gn),r=Ff(n),o=Ny(n.converter,e);return jf(t,[Vf(Ya(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new so(this.firestore,t))}isEqual(e){return yy(this._delegate,e._delegate)}withConverter(e){return new Yl(this.firestore,this._delegate.withConverter(e?$f.getInstance(this.firestore,e):null))}}function xd(n){return Jt(n,Hn)}class us{constructor(...e){this._delegate=new Zl(...e)}static documentId(){return new us(Hr.keyField().canonicalString())}isEqual(e){return(e=(0,Et.m9)(e))instanceof Zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class kd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ew("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new kd(e)}static delete(){const e=new Cy("deleteField");return e._methodName="FieldValue.delete",new kd(e)}static arrayUnion(...e){const t=function(...n){return new VD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new kd(t)}static arrayRemove(...e){const t=function(...n){return new Ey("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new kd(t)}static increment(e){const t=function(n){return new UD("increment",n)}(e);return t._methodName="FieldValue.increment",new kd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xw={Firestore:Ry,GeoPoint:by,Timestamp:ni,Blob:Wl,Transaction:nN,WriteBatch:eT,DocumentReference:so,DocumentSnapshot:tm,Query:as,QueryDocumentSnapshot:ju,QuerySnapshot:Rw,CollectionReference:Yl,FieldPath:us,FieldValue:kd,setLogLevel:function(n){!function(n){Iu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new jc.wA("firestore-compat",t=>((e,t)=>new Ry(e,t,new ax))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},xw)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(La.Z);var nm=F(6682),Hf=F(9746),tT=F(7771),uN=F(8858);class nT extends an.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new rT(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let h;if(this.closed)throw new lh.N;if(this.isStopped||this.hasError?h=mp.w.EMPTY:(this.observers.push(e),h=new uN.W(this,e)),o&&e.add(e=new Hf.ht(e,o)),t)for(let m=0;m<c&&!e.closed;m++)e.next(r[m]);else for(let m=0;m<c&&!e.closed;m++)e.next(r[m].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||tT.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let h=0;for(;h<c&&!(e-o[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&o.splice(0,h),o}}class rT{constructor(e,t){this.time=e,this.value=t}}function iT(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,c=0,m=!1,b=!1;return function(N){let M;c++,!o||m?(m=!1,o=new nT(n,e,r),M=o.subscribe(this),h=N.subscribe({next(V){o.next(V)},error(V){m=!0,o.error(V)},complete(){b=!0,h=void 0,o.complete()}}),b&&(h=void 0)):M=o.subscribe(this),this.add(()=>{c--,M.unsubscribe(),M=void 0,h&&!b&&t&&0===c&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function ky(n,e){return e?ir(()=>n,e):ir(()=>n)}var Oy=F(2639);F(2329);const mN=new Map,oT={activated:!1,tokenObservers:[]},aT={initialized:!1,enabled:!1};function si(n){return mN.get(n)||oT}function oa(n,e){mN.set(n,e)}function rm(){return aT}class mx{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new Et.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Et.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ui=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dT(n){if(!si(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function hT(n,e){return fT.apply(this,arguments)}function fT(){return(fT=(0,fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,c)}catch(M){throw Ui.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Ui.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw Ui.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(b[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function oi(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const qf="firebase-app-check-store";let Pd=null;function mT(){return Pd||(Pd=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ui.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(qf,{keyPath:"compositeKey"})}}}catch(t){e(Ui.create("storage-open",{originalErrorMessage:t.message}))}}),Pd)}function sm(){return(sm=(0,fe.Z)(function*(n,e){const r=(yield mT()).transaction(qf,"readwrite"),c=r.objectStore(qf).put({compositeKey:n,value:e});return new Promise((h,m)=>{c.onsuccess=b=>{h()},r.onerror=b=>{var T;m(Ui.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Ld=new Va.Yd("@firebase/app-check");function wN(n,e){return(0,Et.hl)()?function(n,e){return function(n,e){return sm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ld.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EN(){return rm().enabled}function om(){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,fe.Z)(function*(){const n=rm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bx={error:"UNKNOWN_ERROR"};function wx(n){return Et.US.encodeString(JSON.stringify(n),!1)}function Ly(n){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,fe.Z)(function*(n,e=!1){const t=n.app;dT(t);const r=si(t);let c,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&Vy(b)&&(o=b)}if(!e&&o&&Vy(o))return{token:o.token};let m,h=!1;if(EN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hT(oi(t,yield om()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const b=yield r.exchangeTokenPromise;return yield wN(t,b),oa(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Ld.warn(b.message):Ld.error(b),c=b}return o?(m={token:o.token},oa(t,Object.assign(Object.assign({},r),{token:o})),yield wN(t,o)):m=DN(c),h&&ET(t,m),m})).apply(this,arguments)}function jw(n,e){const t=si(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),oa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function CT(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new mx((0,fe.Z)(function*(){let r;if(r=si(e).token?yield Ly(n,!0):yield Ly(n),r.error)throw r.error}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),oa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ET(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Vy(n){return n.expireTimeMillis-Date.now()>0}function DN(n){return{token:wx(bx),error:n}}class Ex{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)jw(this.app,t.next);return Promise.resolve()}}const NT="app-check-internal";(0,Ys._registerComponent)(new jc.wA("app-check",n=>function(n,e){return new Ex(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(NT).initialize()})),(0,Ys._registerComponent)(new jc.wA(NT,n=>function(n){return{getToken:e=>Ly(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=si(o),h={next:t,error:r,type:e};if(oa(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&Vy(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),CT(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>CT(n))}(n,"INTERNAL",e),removeTokenListener:e=>jw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ys.registerVersion)("@firebase/app-check","0.5.2");class Gw{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;const kT=new u.OlP("angularfire2.auth.use-emulator"),OT=new u.OlP("angularfire2.auth.settings"),jy=new u.OlP("angularfire2.auth.tenant-id"),PT=new u.OlP("angularfire2.auth.langugage-code"),Bi=new u.OlP("angularfire2.auth.use-device-language"),Wf=new u.OlP("angularfire.auth.persistence"),am=(n,e,t,r,o,c,h,m)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,c&&b.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))b.settings[T]=N;return m&&b.setPersistence(m),b},[t,r,o,c,h,m]);let um=(()=>{class n{constructor(t,r,o,c,h,m,b,T,N,M,V,H){const re=new an.xQ,ve=(0,Ze.of)(void 0).pipe((0,Hf.QV)(h.outsideAngular),ir(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,ut.U)(()=>(0,Xi.on)(t,c,r)),(0,ut.U)(Se=>am(Se,c,m,T,N,M,b,V)),iT({bufferSize:1,refCount:!1}));if(ga(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{ve.pipe(Jn()).subscribe();const it=ve.pipe(ir(at=>at.getRedirectResult().then(ln=>ln,()=>null)),er.iC,iT({bufferSize:1,refCount:!1})),Qe=ve.pipe(ir(at=>new kt.y(ln=>({unsubscribe:c.runOutsideAngular(()=>at.onAuthStateChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))})))),Nt=ve.pipe(ir(at=>new kt.y(ln=>({unsubscribe:c.runOutsideAngular(()=>at.onIdTokenChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))}))));this.authState=it.pipe(ky(Qe),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular)),this.user=it.pipe(ky(Nt),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular)),this.idToken=this.user.pipe(ir(at=>at?(0,pn.D)(at.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(ir(at=>at?(0,pn.D)(at.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,nm.T)(it,re,this.authState.pipe(Pn(at=>!at))).pipe((0,ut.U)(at=>(null==at?void 0:at.user)?at:null),(0,Oy.R)(h.outsideAngular),(0,Hf.QV)(h.insideAngular))}return(0,Xi.pX)(this,ve,c,{spy:{apply:(Se,it,Qe)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Qe.then(Nt=>re.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xi.Dh),u.LFG(Xi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(er.HU),u.LFG(kT,8),u.LFG(OT,8),u.LFG(jy,8),u.LFG(PT,8),u.LFG(Bi,8),u.LFG(Wf,8),u.LFG(Gw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$y=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[um]}),n})();function Kw(n,e){return function(n,e=Qm.z){return new kt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Jw(n,e){return Kw(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function Gy(n,e){return Jw(n,e).pipe(Ta(void 0),bt(),(0,ut.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(N=>N.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),c}))}function FT(n,e,t){return Gy(n,t).pipe(mu((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qy(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qy(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qy(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function(n,e){return t=>t.lift(new ea(n,e))}(),(0,ut.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function qy(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function LT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class VT{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Gy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ta(void 0),bt(),Pn(([r,o])=>o.length>0||!r),(0,ut.U)(([r,o])=>o),er.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LT(e);return FT(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),er.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(er.iC)}add(e){return this.ref.add(e)}doc(e){return new $u(this.ref.doc(e),this.afs)}}class $u{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=zy(r,t);return new VT(o,c,this.afs)}snapshotChanges(){return function(n,e){return Kw(n,e).pipe(Ta(void 0),bt(),(0,ut.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(er.iC)}}class lm{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Gy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Pn(t=>t.length>0),er.iC):Gy(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(e){return this.stateChanges(e).pipe(mu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LT(e);return FT(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return Jw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),er.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(er.iC)}}const Zy=new u.OlP("angularfire2.enableFirestorePersistence"),UT=new u.OlP("angularfire2.firestore.persistenceSettings"),ZN=new u.OlP("angularfire2.firestore.settings"),zN=new u.OlP("angularfire2.firestore.use-emulator");function zy(n,e=(t=>t)){return{query:e(n),ref:n}}let BT=(()=>{class n{constructor(t,r,o,c,h,m,b,T,N,M,V,H,re,ve,Se,it,Qe){this.schedulers=b;const Nt=(0,Xi.on)(t,m,r),at=N;M&&am(Nt,m,V,re,ve,Se,H,it),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const ln=m.runOutsideAngular(()=>Nt.firestore());if(c&&ln.settings(c),at&&ln.useEmulator(...at),o&&!ga(h)){const zr=()=>{try{return(0,pn.D)(ln.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Zu){return"undefined"!=typeof console&&console.warn(Zu),(0,Ze.of)(!1)}};return[ln,m.runOutsideAngular(zr)]}return[ln,(0,Ze.of)(!1)]},[c,at,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=zy(o,r),m=this.schedulers.ngZone.run(()=>c);return new VT(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),c=this.firestore.collectionGroup(t);return new lm(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new $u(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xi.Dh),u.LFG(Xi.xv,8),u.LFG(Zy,8),u.LFG(ZN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(er.HU),u.LFG(UT,8),u.LFG(zN,8),u.LFG(um,8),u.LFG(kT,8),u.LFG(OT,8),u.LFG(jy,8),u.LFG(PT,8),u.LFG(Bi,8),u.LFG(Wf,8),u.LFG(Gw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jT=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Zy,useValue:!0},{provide:UT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[BT]}),n})(),Kl=(()=>{class n{constructor(t,r){var o=this;this.afs=t,this.auth=r,this.user=null,this.currUser=null,this.userCollection=t.collection("Users"),this.auth.user.subscribe(function(){var c=(0,fe.Z)(function*(h){h?yield o.userExist(h):yield o.userNotExist()});return function(h){return c.apply(this,arguments)}}())}userExist(t){var r=this;return(0,fe.Z)(function*(){r.user=t;const o=yield r.getUser(t.uid);o?(r.currUser=o,console.log("Cargo User: ",r.currUser),console.log("user still logged in")):yield r.userNotExist()})()}userNotExist(){var t=this;return(0,fe.Z)(function*(){t.user=null,t.currUser=null,console.log("no User")})()}getUser(t){var r=this;return(0,fe.Z)(function*(){return r.getAllUser().then(o=>o.find(c=>c.uid===t))})()}getAllUser(){var t=this;return(0,fe.Z)(function*(){return t.userCollection.get().toPromise().then(r=>r.docs.map(o=>{const c=o.data();return c.dId=o.id,c}))})()}addUser(t){var r=this;return(0,fe.Z)(function*(){const o=r.copyAndPrepareUser(t);yield r.userCollection.add(o).then().catch(c=>{console.log(c)})})()}updateUser(t){var r=this;return(0,fe.Z)(function*(){const o=r.copyAndPrepareUser(t);let c=[];for(let h of o.car)c.push(r.copyAndPrepareCar(h));o.car=c,yield r.userCollection.doc(t.dId).update(o)})()}deleteUser(){var t=this;return(0,fe.Z)(function*(){t.currUser?yield t.userCollection.doc(t.currUser.dId).delete():console.log("User not logged in")})()}copyAndPrepareUser(t){return Object.assign({},t)}copyAndPrepareCar(t){return Object.assign({},t)}login(t,r){var o=this;return(0,fe.Z)(function*(){yield o.auth.signInWithEmailAndPassword(t,r),console.log("logged in")})()}logout(){var t=this;return(0,fe.Z)(function*(){yield t.auth.signOut(),console.log("logged out")})()}deleteAccount(){return(0,fe.Z)(function*(){var t;yield null===(t=Jm.Z.auth().currentUser)||void 0===t?void 0:t.delete(),console.log("deleted account")})()}deleteCar(t){var r=this;return(0,fe.Z)(function*(){r.currUser&&(r.currUser.car=r.currUser.car.filter(o=>(console.log(o.mark!==t),o.mark!==t)),r.updateUser(r.currUser).then())})()}register(t,r){var o=this;return(0,fe.Z)(function*(){yield o.auth.createUserWithEmailAndPassword(t,r),console.log("created account")})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BT),u.LFG(um))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WN(n,e){if(1&n&&(u.TgZ(0,"div",10),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij('Hi "',t.userData.currUser.firstname,'", hier ist dein Profil')}}let YN=(()=>{class n{constructor(t,r){this.userData=t,this.router=r}logout(){var t=this;return(0,fe.Z)(function*(){yield t.userData.logout()})()}deleteAccount(){var t=this;return(0,fe.Z)(function*(){yield t.userData.deleteUser(),yield t.userData.deleteAccount(),console.log("User deleted")})()}navigateToCarList(){this.router.navigate(["/carList"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kl),u.Y36(jr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loggedin"]],decls:18,vars:1,consts:[[1,"wrapper"],[1,"sidebar"],[1,"row"],[1,"col","text-center"],["src","../../../../assets/img/Export/Icons/user_icon.png","width","120","height","120"],[1,"btn","success","btn-light"],[1,"btn","success","btn-light",3,"click"],[1,"btn","danger","btn-danger",3,"click"],[1,"container"],["class","h3",4,"ngIf"],[1,"h3"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.TgZ(5,"button",5),u._uU(6,"Profilbild bearbeiten"),u.qZA(),u.TgZ(7,"button",6),u.NdJ("click",function(){return r.navigateToCarList()}),u._uU(8,"Fahrzeuge verwalten"),u.qZA(),u.TgZ(9,"button",6),u.NdJ("click",function(){return r.logout()}),u._uU(10,"Logout"),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return r.deleteAccount()}),u._uU(12,"Account l\xf6schen"),u.qZA(),u._UZ(13,"br"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"div",8),u.TgZ(15,"div",2),u.TgZ(16,"div",3),u.YNc(17,WN,2,1,"div",9),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(17),u.Q6J("ngIf",r.userData.currUser))},directives:[Nn],styles:[""]}),n})();var KN=F(2476);class Hu{constructor(e,t,r,o,c,h){this.uid=e,this.firstname=t,this.lastname=r,this.username=o,this.birthday=c,this.gender=h,this.evaluation=-1,this.money=0,this.car=[]}}var cm=F(9105);function Rr(n,e,t,r){return(0,cm.m)(t)&&(r=t,t=void 0),r?Rr(n,e,t).pipe((0,ut.U)(o=>(0,vs.k)(o)?r(...o):r(o))):new kt.y(o=>{Vd(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function Vd(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),c=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),c=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),c=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)Vd(n[h],e,t,r,o)}r.add(c)}var Qw=F(6561);function $T(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}class t1{call(e,t){return t.subscribe(new eM(e))}}class eM extends pu{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const c=Cc(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}var tM=F(8640);new kt.y(tM.Z);var Kf=F(377);function Wy(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,Co.n)(n,void 0).lift(new nM(e))}class nM{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Rx(e,this.resultSelector))}}class Rx extends Kn.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,vs.k)(e)?t.push(new kx(e)):t.push("function"==typeof e[Kf.hZ]?new xx(e[Kf.hZ]()):new Ox(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let h=0;h<t;h++){let m=e[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let o=!1;const c=[];for(let h=0;h<t;h++){let m=e[h],b=m.next();if(m.hasCompleted()&&(o=!0),b.done)return void r.complete();c.push(b.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class xx{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class kx{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Kf.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ox extends ci.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Kf.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,ci.ft)(this.observable,new ci.IY(this))}}function fr(n){return e=>e.lift(new Px(n))}class Px{constructor(e){this.notifier=e}call(e,t){const r=new Fx(e),o=(0,ci.ft)(this.notifier,new ci.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class Fx extends ci.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function HT(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new Lx(n,t))}}class Lx{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new iM(e,this.observables,this.project))}}class iM extends pu{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(Cc(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}F(1593),F(8819);var g=F(1555);function w(n,e){return new kt.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let c=0,h=0;for(let m=0;m<r;m++){const b=(0,pn.D)(n[m]);let T=!1;t.add(b.subscribe({next:N=>{T||(T=!0,h++),o[m]=N},error:N=>t.error(N),complete:()=>{c++,(c===r||!T)&&(h===r&&t.next(e?e.reduce((N,M,V)=>(N[M]=o[V],N),{}):o),t.complete())}}))}})}let D=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),A=(()=>{class n extends D{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const k=new u.OlP("NgValueAccessor"),J={provide:k,useExisting:(0,u.Gpc)(()=>Me),multi:!0},oe=new u.OlP("CompositionEventMode");let Me=(()=>{class n extends D{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(oe,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([J]),u.qOj]}),n})();const Ye=new u.OlP("NgValidators"),St=new u.OlP("NgAsyncValidators");function Bx(n){return null!=n}function jx(n){const e=(0,u.QGY)(n)?(0,pn.D)(n):n;return(0,u.CqO)(e),e}function $x(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Hx(n,e){return e.map(t=>t(n))}function Gx(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function aM(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Bx);return 0==e.length?null:function(t){return $x(Hx(t,e))}}(Gx(n)):null}function uM(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Bx);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,vs.k)(e))return w(e,null);if((0,g.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return w(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return w(n=1===n.length&&(0,vs.k)(n[0])?n[0]:n,null).pipe((0,ut.U)(t=>e(...t)))}return w(n,null)}(Hx(t,e).map(jx)).pipe((0,ut.U)($x))}}(Gx(n)):null}function zx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wx(n){return n._rawValidators}function Yx(n){return n._rawAsyncValidators}function lM(n){return n?Array.isArray(n)?n:[n]:[]}function GT(n,e){return Array.isArray(n)?n.includes(e):n===e}function Kx(n,e){const t=lM(e);return lM(n).forEach(o=>{GT(t,o)||t.push(o)}),t}function Jx(n,e){return lM(e).filter(t=>!GT(n,t))}let Qx=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})(),ao=(()=>{class n extends Qx{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class Qf extends Qx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xx{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let qT=(()=>{class n extends Xx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qf,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),ek=(()=>{class n extends Xx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ao,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function zT(n,e){return[...e.path,n]}function r1(n,e){hM(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tk(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function WT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),KT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function YT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hM(n,e){const t=Wx(n);null!==e.validator?n.setValidators(zx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Yx(n);null!==e.asyncValidator?n.setAsyncValidators(zx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();YT(e._rawValidators,o),YT(e._rawAsyncValidators,o)}function KT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Wx(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.validator);c.length!==o.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const o=Yx(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==e.asyncValidator);c.length!==o.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return YT(e._rawValidators,r),YT(e._rawAsyncValidators,r),t}function tk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function pM(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Me?t=c:function(n){return Object.getPrototypeOf(n.constructor)===A}(c)?r=c:o=c}),o||r||t||null}function JT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const i1="VALID",QT="INVALID",Xy="PENDING",s1="DISABLED";function gM(n){return(_M(n)?n.validators:n)||null}function ik(n){return Array.isArray(n)?aM(n):n||null}function mM(n,e){return(_M(e)?e.asyncValidators:n)||null}function sk(n){return Array.isArray(n)?uM(n):n||null}function _M(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class yM{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ik(this._rawValidators),this._composedAsyncValidatorFn=sk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===i1}get invalid(){return this.status===QT}get pending(){return this.status==Xy}get disabled(){return this.status===s1}get enabled(){return this.status!==s1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ik(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=sk(e)}addValidators(e){this.setValidators(Kx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jx(e,this._rawAsyncValidators))}hasValidator(e){return GT(this._rawValidators,e)}hasAsyncValidator(e){return GT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=s1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=i1,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===i1||this.status===Xy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?s1:i1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xy,this._hasOwnPendingAsyncValidator=!0;const t=jx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof XT?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof VP&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?s1:this.errors?QT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xy)?Xy:this._anyControlsHaveStatus(QT)?QT:i1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_M(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xf extends yM{constructor(e=null,t,r){super(gM(t),mM(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class XT extends yM{constructor(e,t,r){super(gM(t),mM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Xf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class VP extends yM{constructor(e,t,r){super(gM(t),mM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Xf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const jP={provide:Qf,useExisting:(0,u.Gpc)(()=>eI)},uk=(()=>Promise.resolve(null))();let eI=(()=>{class n extends Qf{constructor(t,r,o,c){super(),this.control=new Xf,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=pM(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),fM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zT(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){r1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;uk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ao,9),u.Y36(Ye,10),u.Y36(St,10),u.Y36(k,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([jP]),u.qOj,u.TTD]}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const $P={provide:k,useExisting:(0,u.Gpc)(()=>bM),multi:!0};let bM=(()=>{class n extends A{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([$P]),u.qOj]}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const wM=new u.OlP("NgModelWithFormControlWarning"),zP={provide:ao,useExisting:(0,u.Gpc)(()=>tI)};let tI=(()=>{class n extends ao{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(KT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return r1(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){WT(t.control||null,t,!1),JT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(WT(r||null,t),o instanceof Xf&&(r1(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){hM(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return KT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hM(this.form,this),this._oldForm&&KT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ye,10),u.Y36(St,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([zP]),u.qOj,u.TTD]}),n})();const KP={provide:Qf,useExisting:(0,u.Gpc)(()=>DM)};let DM=(()=>{class n extends Qf{constructor(t,r,o,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=pM(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),fM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ao,13),u.Y36(Ye,10),u.Y36(St,10),u.Y36(k,10),u.Y36(wM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([KP]),u.qOj,u.TTD]}),n._ngModelWarningSentOnce=!1,n})();const JP={provide:k,useExisting:(0,u.Gpc)(()=>nI),multi:!0};function gk(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nI=(()=>{class n extends A{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const o=gk(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([JP]),u.qOj]}),n})(),TM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(gk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(nI,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const XP={provide:k,useExisting:(0,u.Gpc)(()=>IM),multi:!0};function mk(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let IM=(()=>{class n extends A{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(c=>this._getOptionId(c));r=(c,h)=>{c._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let h=0;h<c.length;h++){const m=c.item(h),b=this._getOptionValue(m.value);o.push(b)}}else{const c=r.options;for(let h=0;h<c.length;h++){const m=c.item(h);if(m.selected){const b=this._getOptionValue(m.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([XP]),u.qOj]}),n})(),AM=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(mk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(mk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(IM,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ck]]}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ik]}),n})(),lF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wM,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ik]}),n})();const ev=["*"],JF=["dialog"];function ep(n){return null!=n}function nv(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Mk={animation:!0,transitionTimerDelayMs:5};let ji=(()=>{class n{constructor(){this.animation=Mk.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const l2=()=>{},{transitionTimerDelayMs:c2}=Mk,u1=new Map,bi=(n,e,t,r)=>{let o=r.context||{};const c=u1.get(e);if(c)switch(r.runningTransition){case"continue":return Jr.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),u1.delete(e)}const h=t(e,r.animation,o)||l2;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),(0,Ze.of)(void 0).pipe(function(n){return e=>new kt.y(t=>e.subscribe(h=>n.run(()=>t.next(h)),h=>n.run(()=>t.error(h)),()=>n.run(()=>t.complete())))}(n));const m=new an.xQ,b=new an.xQ,T=m.pipe(function(...n){return e=>Yi(e,(0,Ze.of)(...n))}(!0));u1.set(e,{transition$:m,complete:()=>{b.next(),b.complete()},context:o});const N=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=Rr(e,"transitionend").pipe(fr(T),Pn(({target:H})=>H===e));(function(...n){if(1===n.length){if(!(0,vs.k)(n[0]))return n[0];n=n[0]}return(0,Co.n)(n,void 0).lift(new t1)})(function(n=0,e,t){let r=-1;return(0,Qw.k)(e)?r=Number(e)<1?1:Number(e):(0,fu.K)(e)&&(t=e),(0,fu.K)(t)||(t=Qm.P),new kt.y(o=>{const c=(0,Qw.k)(n)?n:+n-t.now();return t.schedule($T,c,{index:0,period:r,subscriber:o})})}(N+c2).pipe(fr(T)),M,b).pipe(fr(T)).subscribe(()=>{u1.delete(e),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),Vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Zt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Zt||(Zt={})),Zt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Wk(n){const e=Array.from(n.querySelectorAll(zk)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(e);r=this.offset(e,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.pageYOffset-document.documentElement.clientTop,o_left=window.pageXOffset-document.documentElement.clientLeft;let c={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(e,t,r,o){const[c="top",h="center"]=r.split("-"),m=o?this.offset(e,!1):this.position(e,!1),b=this.getAllStyles(t),T=parseFloat(b.marginTop),N=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let H=0,re=0;switch(c){case"top":H=m.top-(t.offsetHeight+T+N);break;case"bottom":H=m.top+m.height;break;case"left":re=m.left-(t.offsetWidth+M+V);break;case"right":re=m.left+m.width}switch(h){case"top":H=m.top;break;case"bottom":H=m.top+m.height-t.offsetHeight;break;case"left":re=m.left;break;case"right":re=m.left+m.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?re=m.left+m.width/2-t.offsetWidth/2:H=m.top+m.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(re)}px, ${Math.round(H)}px)`;const ve=t.getBoundingClientRect(),Se=document.documentElement,it=window.innerHeight||Se.clientHeight,Qe=window.innerWidth||Se.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=Qe&&ve.bottom<=it}},new Date(1882,10,12),new Date(2174,10,25);let iO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r,Ak]]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),aO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),uO=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ji))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ji))},token:n,providedIn:"root"}),n})();class mm{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}const aV=()=>{};let lO=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):aV}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ce))},token:n,providedIn:"root"}),n})(),uV=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{bi(this._zone,this._el.nativeElement,(t,r)=>{r&&nv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class HM{close(e){}dismiss(e){}}class lV{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new an.xQ,this._dismissed=new an.xQ,this._hidden=new an.xQ,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(fr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(fr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ze.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wy(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var p1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(p1||(p1={})),p1))();let cV=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new an.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new an.xQ,this.hidden=new an.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Wy(bi(this._zone,t,()=>t.classList.remove("show"),r),bi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};Wy(bi(this._zone,this._elRef.nativeElement,(c,h)=>{h&&nv(c),c.classList.add("show")},t),bi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Rr(t,"keydown").pipe(fr(this._closed$),Pn(o=>o.which===Zt.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(p1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Rr(this._dialogEl.nativeElement,"mousedown").pipe(fr(this._closed$),(0,Qn.b)(()=>r=!1),ir(()=>Rr(t,"mouseup").pipe(fr(this._closed$),di(1))),Pn(({target:o})=>t===o)).subscribe(()=>{r=!0}),Rr(t,"click").pipe(fr(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(p1.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=Wk(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ce),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(JF,7),2&t){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ev,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),cO=(()=>{class n{constructor(t,r,o,c,h,m){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new an.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const o=Rr(e,"focusin").pipe(fr(t),(0,ut.U)(c=>c.target));Rr(e,"keydown").pipe(fr(t),Pn(c=>c.which===Zt.Tab),HT(o)).subscribe(([c,h])=>{const[m,b]=Wk(e);(h===m||h===e)&&c.shiftKey&&(b.focus(),c.preventDefault()),h===b&&!c.shiftKey&&(m.focus(),c.preventDefault())}),r&&Rr(e,"click").pipe(fr(t),HT(o),(0,ut.U)(c=>c[1])).subscribe(c=>c.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(t,r,o,c){const h=c.container instanceof HTMLElement?c.container:ep(c.container)?this._document.querySelector(c.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const N=new HM,M=this._getContentRef(t,c.injector||r,o,N,c);let V=!1!==c.backdrop?this._attachBackdrop(t,h):void 0,H=this._attachWindowComponent(t,h,M),re=new lV(H,M,V,c.beforeDismiss);return this._registerModalRef(re),this._registerWindowCmpt(H),re.result.then(b,b),re.result.then(T,T),N.close=ve=>{re.close(ve)},N.dismiss=ve=>{re.dismiss(ve)},this._applyWindowOptions(H.instance,c),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,c),V.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),re}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(uV).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,o){let h=t.resolveComponentFactory(cV).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{ep(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{ep(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,c,h){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,c):function(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,c,h):new mm([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(c),new mm([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new mm([[r]])}_createFromComponent(t,r,o,c,h){const m=t.resolveComponentFactory(o),b=u.zs3.create({providers:[{provide:HM,useValue:c}],parent:r}),T=m.create(b),N=T.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new mm([[N]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ce),u.LFG(lO),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(ce),u.LFG(lO),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),dO=(()=>{class n{constructor(t,r,o,c){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=c}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(cO),u.LFG(uO))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(cO),u.LFG(uO))},token:n,providedIn:"root"}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[dO]}),n})(),mO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[_r]]}),n})();const zV=[Pk,Fk,Vk,jk,$k,iO,aO,hO,mO,DO,AO,SO,NO,kO,OO,PO,VO];let WV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zV,Pk,Fk,Vk,jk,$k,iO,aO,hO,mO,DO,AO,SO,NO,kO,OO,PO,VO]}),n})();function YV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.lastnameMessage)}}function KV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.firstnameMessage)}}function JV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.genderMessage)}}function QV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.birthdayMessage)}}function XV(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.emailMessage)}}function eU(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.usernameMessage)}}function tU(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordMessage)}}function nU(n,e){if(1&n&&(u.TgZ(0,"div",47),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordRepeatMessage)}}let rU=(()=>{class n{constructor(t,r,o){this.activeModal=t,this.router=r,this.userData=o,this.email="",this.firstname="",this.lastname="",this.username="",this.birthday=new Date,this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var t=this;return(0,fe.Z)(function*(){try{yield t.userData.register(t.email,t.password);const o=(0,KN.n)().currentUser;t.activeModal.close(),t.router.navigate(["/profil"]),o&&(yield t.userData.addUser(new Hu(o.uid,t.firstname,t.lastname,t.username,t.birthday,t.gender)))}catch(r){"auth/invalid-email"===r.code?(t.emailMessage="E-Mail ist nicht richtig formatiert",t.wrongEmailClass="border-danger"):"auth/weak-password"===r.code&&(t.passwordMessage="Das Passwort ist nicht korrekt",t.wrongPasswordClass="border-danger")}})()}inputCheck(){var t=this;return(0,fe.Z)(function*(){t.email.trim().length>0&&t.password.trim().length>0&&t.firstname.trim().length>0&&t.lastname.trim().length>0&&t.gender.trim().length>0&&t.username.trim().length>0&&null!=t.birthday&&t.password===t.repeatPassword?yield t.register():(0===t.email.trim().length&&(t.emailMessage="Geben Sie Ihre E-Mail an",t.wrongEmailClass="border-danger"),0===t.password.trim().length&&(t.passwordMessage="Geben Sie ein Passwort an",t.wrongPasswordClass="border-danger"),0===t.repeatPassword.trim().length&&(t.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",t.wrongRepeatPasswordClass="border-danger"),t.repeatPassword!==t.password&&(t.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",t.wrongRepeatPasswordClass="border-danger"),0===t.firstname.trim().length&&(t.firstnameMessage="Geben Sie Ihren Vornamen an",t.wrongFirstname="border-danger"),0===t.lastname.trim().length&&(t.lastnameMessage="Geben Sie Ihren Nachnamen an",t.wrongLastname="border-danger"),0===t.username.trim().length&&(t.usernameMessage="Geben Sie einen Nutzername an",t.wrongUsername="border-danger"),0===t.gender.trim().length&&(t.genderMessage="Geben Sie Ihr Geschlecht an",t.wrongGender="border-danger"),void 0===t.birthday&&(t.birthdayMessage="Geben Sie Ihren Geburtstag an",t.wrongBirthday="border-danger"))})()}validEmail(t){t.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(t){t.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(t){t.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(t){t.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(t){console.log(t),t.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(t){t.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(t){console.log(t),t.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(t){t.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HM),u.Y36(jr),u.Y36(Kl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u._uU(6,"Registrieren"),u.qZA(),u.qZA(),u._UZ(7,"div",6),u.TgZ(8,"div",7),u.TgZ(9,"button",8),u.NdJ("click",function(){return r.activeModal.dismiss()}),u.TgZ(10,"span",9),u._uU(11,"\xd7"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",10),u.TgZ(13,"div",1),u.TgZ(14,"div",2),u.TgZ(15,"div",11),u.TgZ(16,"div",12),u.TgZ(17,"label",13),u._uU(18,"Nachname"),u.qZA(),u.TgZ(19,"input",14,15),u.NdJ("ngModelChange",function(h){return r.lastname=h})("keydown",function(){u.CHM(o);const h=u.MAs(20);return r.validLastname(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(21,YV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(22,"div",11),u.TgZ(23,"div",12),u.TgZ(24,"label",17),u._uU(25,"Vorname"),u.qZA(),u.TgZ(26,"input",18,19),u.NdJ("ngModelChange",function(h){return r.firstname=h})("keydown",function(){u.CHM(o);const h=u.MAs(27);return r.validFirstname(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(28,KV,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(29,"div",2),u.TgZ(30,"div",11),u.TgZ(31,"div",12),u.TgZ(32,"label",20),u._uU(33,"Geschlecht"),u.qZA(),u.TgZ(34,"select",21,22),u.NdJ("ngModelChange",function(h){return r.gender=h})("change",function(){u.CHM(o);const h=u.MAs(35);return r.validGender(h.value)})("keydown.enter",function(){return r.inputCheck()}),u._UZ(36,"option",23),u.TgZ(37,"option",24),u._uU(38,"Weiblich"),u.qZA(),u.TgZ(39,"option",25),u._uU(40,"M\xe4nnlich"),u.qZA(),u.TgZ(41,"option",26),u._uU(42,"Divers"),u.qZA(),u.qZA(),u.YNc(43,JV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(44,"div",11),u.TgZ(45,"div",12),u.TgZ(46,"label",27),u._uU(47,"Geburtstag"),u.qZA(),u.TgZ(48,"input",28,29),u.NdJ("ngModelChange",function(h){return r.birthday=h})("change",function(){u.CHM(o);const h=u.MAs(49);return r.validBirthday(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(50,QV,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(51,"div",2),u.TgZ(52,"div",11),u.TgZ(53,"div",12),u.TgZ(54,"label",30),u._uU(55,"Email"),u.qZA(),u.TgZ(56,"input",31,32),u.NdJ("ngModelChange",function(h){return r.email=h})("keydown",function(){u.CHM(o);const h=u.MAs(57);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(58,XV,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(59,"div",11),u.TgZ(60,"div",12),u.TgZ(61,"label",33),u._uU(62,"Nutzername"),u.qZA(),u.TgZ(63,"input",34,35),u.NdJ("ngModelChange",function(h){return r.username=h})("keydown",function(){u.CHM(o);const h=u.MAs(64);return r.validUsername(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(65,eU,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(66,"div",2),u.TgZ(67,"div",11),u.TgZ(68,"div",12),u.TgZ(69,"label",36),u._uU(70,"Passwort"),u.qZA(),u.TgZ(71,"input",37,38),u.NdJ("ngModelChange",function(h){return r.password=h})("keydown",function(){u.CHM(o);const h=u.MAs(72);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(73,tU,2,1,"div",16),u.qZA(),u.qZA(),u.TgZ(74,"div",11),u.TgZ(75,"div",12),u.TgZ(76,"label",39),u._uU(77,"Passwort wiederholen"),u.qZA(),u.TgZ(78,"input",40,41),u.NdJ("ngModelChange",function(h){return r.repeatPassword=h})("keydown",function(){u.CHM(o);const h=u.MAs(79);return r.validRepeatPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),u.qZA(),u.YNc(80,nU,2,1,"div",16),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(81,"div",42),u.TgZ(82,"div",1),u.TgZ(83,"div",43),u.TgZ(84,"div",44),u.TgZ(85,"button",45),u.NdJ("click",function(){return r.inputCheck()}),u._uU(86,"Registrieren "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(87,"div",43),u.TgZ(88,"div",44),u.TgZ(89,"button",46),u.NdJ("click",function(){return r.activeModal.dismiss()}),u._uU(90,"Abbrechen "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(19),u.Gre("form-control ",r.wrongLastname,""),u.Q6J("ngModel",r.lastname),u.xp6(2),u.Q6J("ngIf",""!==r.lastnameMessage),u.xp6(5),u.Gre("form-control ",r.wrongFirstname,""),u.Q6J("ngModel",r.firstname),u.xp6(2),u.Q6J("ngIf",""!==r.firstnameMessage),u.xp6(6),u.Gre("form-control ",r.wrongGender,""),u.Q6J("ngModel",r.gender),u.xp6(9),u.Q6J("ngIf",""!==r.genderMessage),u.xp6(5),u.Gre("form-control ",r.wrongBirthday,""),u.Q6J("ngModel",r.birthday),u.xp6(2),u.Q6J("ngIf",""!==r.birthdayMessage),u.xp6(6),u.Gre("form-control ",r.wrongEmailClass,""),u.Q6J("ngModel",r.email),u.xp6(2),u.Q6J("ngIf",""!==r.emailMessage),u.xp6(5),u.Gre("form-control ",r.wrongUsername,""),u.Q6J("ngModel",r.username),u.xp6(2),u.Q6J("ngIf",""!==r.usernameMessage),u.xp6(6),u.Gre("form-control ",r.wrongPasswordClass,""),u.Q6J("ngModel",r.password),u.xp6(2),u.Q6J("ngIf",""!==r.passwordMessage),u.xp6(5),u.Gre("form-control ",r.wrongRepeatPasswordClass,""),u.Q6J("ngModel",r.repeatPassword),u.xp6(2),u.Q6J("ngIf",""!==r.passwordRepeatMessage))},directives:[Me,qT,eI,Nn,nI,TM,AM],styles:[""]}),n})();function iU(n,e){if(1&n&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.emailMessage)}}function sU(n,e){if(1&n&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.passwordMessage)}}let oU=(()=>{class n{constructor(t,r){this.modalService=t,this.userData=r,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(rU,{animation:!0,centered:!0})}inputCheck(){var t=this;return(0,fe.Z)(function*(){0===t.email.trim().length&&0===t.password.trim().length?(t.wrongEmail="border-danger",t.wrongPassword="border-danger",t.passwordMessage="Please fill out your password",t.emailMessage="Please fill out your email"):0===t.email.trim().length?(t.emailMessage="Please fill out your email",t.wrongEmail="border-danger"):0===t.password.trim().length?(t.wrongPassword="border-danger",t.passwordMessage="Please fill out your password"):(t.wrongEmail="",yield t.login())})()}login(){var t=this;return(0,fe.Z)(function*(){t.userData.login(t.email,t.password).then(()=>{}).catch(r=>{console.log(r),"auth/invalid-email"===r.code&&(t.emailMessage="E-Mail falsch formatiert",t.wrongEmail="border-danger"),"auth/wrong-password"===r.code&&(t.passwordMessage="Falsches Passwort",t.wrongPassword="border-danger"),"auth/user-not-found"===r.code&&(t.emailMessage="Nutzer nicht gefunden",t.wrongEmail="border-danger")})})()}validEmail(t){t.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(t){t.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dO),u.Y36(Kl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u._uU(5,"Login"),u.qZA(),u.qZA(),u.TgZ(6,"div",3),u.TgZ(7,"div",5),u.TgZ(8,"label",6),u._uU(9,"Email"),u.qZA(),u.TgZ(10,"input",7,8),u.NdJ("keydown",function(){u.CHM(o);const h=u.MAs(11);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.email=h}),u.qZA(),u.YNc(12,iU,2,1,"div",9),u.qZA(),u.qZA(),u.TgZ(13,"div",3),u.TgZ(14,"div",5),u.TgZ(15,"label",10),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",11,12),u.NdJ("keypress",function(){u.CHM(o);const h=u.MAs(18);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.password=h}),u.qZA(),u.YNc(19,sU,2,1,"div",9),u.qZA(),u.qZA(),u.TgZ(20,"div",13),u.TgZ(21,"div",14),u.TgZ(22,"button",15),u.NdJ("click",function(){return r.inputCheck()}),u._uU(23,"Anmelden "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div",13),u.TgZ(25,"div",14),u.TgZ(26,"button",16),u.NdJ("click",function(){return r.openRegistrationModal()}),u._uU(27,"Registrieren "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(10),u.Gre("form-control ",r.wrongEmail,""),u.Q6J("ngModel",r.email),u.xp6(2),u.Q6J("ngIf",""!==r.emailMessage),u.xp6(5),u.Gre("form-control ",r.wrongPassword,""),u.Q6J("ngModel",r.password),u.xp6(2),u.Q6J("ngIf",""!==r.passwordMessage))},directives:[Me,qT,eI,Nn],styles:[""]}),n})();function aU(n,e){1&n&&u._UZ(0,"app-loggedin")}function uU(n,e){1&n&&u._UZ(0,"app-notloggedin")}let lU=(()=>{class n{constructor(t){this.userData=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(u.YNc(0,aU,1,0,"app-loggedin",0),u.YNc(1,uU,1,0,"app-notloggedin",0)),2&t&&(u.Q6J("ngIf",r.userData.user),u.xp6(1),u.Q6J("ngIf",!r.userData.user))},directives:[Nn,YN,oU],styles:[""]}),n})();class cU{constructor(e,t,r,o){this.model=e,this.mark=t,this.seats=r,this.storage=o}}let dU=(()=>{class n{constructor(t){this.userService=t,this.car={},this.deleteEvent=new u.vpe,this.editEvent=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-car-item"]],inputs:{car:"car"},outputs:{deleteEvent:"deleteEvent",editEvent:"editEvent"},decls:14,vars:4,consts:[[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text"],[1,"btn","btn-primary","btn-light","mr-1",3,"click"],[1,"btn","btn-primary","btn-danger","ml-1",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h5",2),u._uU(3),u.qZA(),u.TgZ(4,"p",3),u._uU(5),u.qZA(),u.TgZ(6,"p",4),u._uU(7),u.qZA(),u.TgZ(8,"p",4),u._uU(9),u.qZA(),u.TgZ(10,"a",5),u.NdJ("click",function(){return r.editEvent.emit()}),u._uU(11,"Edit"),u.qZA(),u.TgZ(12,"a",6),u.NdJ("click",function(){return r.deleteEvent.emit()}),u._uU(13,"Delete"),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Oqu(r.car.model),u.xp6(2),u.Oqu(r.car.mark),u.xp6(2),u.hij("",r.car.seats," Pl\xe4tze"),u.xp6(2),u.hij("",r.car.storage," \u33a5"))},styles:[""]}),n})();function hU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",15),u.TgZ(2,"app-car-item",16),u.NdJ("editEvent",function(){const c=u.CHM(t).$implicit;return u.oxw(2).editCar(c.mark)})("deleteEvent",function(){const c=u.CHM(t).$implicit;return u.oxw(2).userService.deleteCar(c.mark).then()}),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(2),u.Q6J("car",t)}}function fU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"form",1),u.NdJ("ngSubmit",function(){return u.CHM(t),u.oxw().onSubmit()}),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"span",4),u._uU(5,"Fahrzeug-Model"),u.qZA(),u.qZA(),u._UZ(6,"input",5),u.TgZ(7,"div",3),u.TgZ(8,"span",6),u._uU(9,"Kennzeichen"),u.qZA(),u.qZA(),u._UZ(10,"input",7),u.qZA(),u.TgZ(11,"div",2),u.TgZ(12,"div",3),u.TgZ(13,"span",8),u._uU(14,"Username"),u.qZA(),u.qZA(),u._UZ(15,"input",9),u.TgZ(16,"div",3),u.TgZ(17,"span",10),u._uU(18,"Password"),u.qZA(),u.qZA(),u._UZ(19,"input",11),u.qZA(),u.TgZ(20,"div",2),u.TgZ(21,"button",12),u._uU(22,"Fahrzeug hinzuf\xfcgen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"div",13),u.YNc(24,hU,3,1,"div",14),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("formGroup",t.form),u.xp6(23),u.Q6J("ngForOf",t.userService.currUser.car)}}const pU=[{path:"profil",component:lU},{path:"carList",component:(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.form=new XT({fahrzeugModel:new Xf,fahrzeugKennzeichen:new Xf,fahrzeugSitzplaetze:new Xf,fahrzeugStauraum:new Xf}),this.userService.currUser||this.router.navigate(["/"])}onSubmit(){let t=new cU(this.form.value.fahrzeugModel,this.form.value.fahrzeugKennzeichen,this.form.value.fahrzeugSitzplaetze,this.form.value.fahrzeugStauraum);this.userService.currUser&&(this.userService.currUser.car.push(t),this.userService.updateUser(this.userService.currUser).then()),document.getElementById("add-car-form").reset()}editCar(t){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kl),u.Y36(jr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-carlist"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","add-car-form",2,"margin-top","100px",3,"formGroup","ngSubmit"],[1,"input-group","mb-3",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"input-group-prepend"],["id","add-car-model",1,"input-group-text"],["type","text","placeholder","VW Touran, Porsche 911, ...","aria-label","Fahrzeug-Model","aria-describedby","add-fahrzeug-model","id","add-fahrzeug-model-input","formControlName","fahrzeugModel",1,"form-control"],["id","add-fahrzeug-kennzeichen",1,"input-group-text"],["type","text","placeholder","Kennzeichen","aria-label","Kennzeichen","aria-describedby","add-fahrzeug-kennzeichen","id","add-fahrzeug-kennzeichen-input","formControlName","fahrzeugKennzeichen",1,"form-control"],["id","add-fahrzeug-Sitzplaetze",1,"input-group-text"],["type","number","placeholder","Sitzpl\xe4tze","aria-label","Sitzplaetze","aria-describedby","add-fahrzeug-sitzplaetze","id","add-fahrzeug-sitzplaetze-input","formControlName","fahrzeugSitzplaetze",1,"form-control"],["id","add-Stauraum",1,"input-group-text"],["type","number","placeholder","Stauraum in \u33a5","aria-label","Stauraum","aria-describedby","add-stauraum","id","add-stauraum-input","formControlName","fahrzeugStauraum",1,"form-control"],["type","submit",1,"btn","btn-info",2,"background-color","#005B51"],[2,"display","flex","flex-direction","row","justify-content","center"],[4,"ngFor","ngForOf"],[1,"ml-3","mr-3"],[3,"car","editEvent","deleteEvent"]],template:function(t,r){1&t&&u.YNc(0,fU,25,2,"div",0),2&t&&u.Q6J("ngIf",r.userService.currUser)},directives:[Nn,lk,ek,tI,Me,qT,DM,bM,It,dU],styles:[""]}),n})()}];let gU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vv.forRoot(pU)],Vv]}),n})(),mU=(()=>{class n{constructor(t,r){this.router=t,this.authData=r}navigateToUser(){this.router.navigate(["/profil"])}navigateToMainPage(){this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jr),u.Y36(Kl))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-xl","navbar-light","bg-light","py-2"],[1,"container-fluid",2,"margin-left","15em","margin-right","15em"],[2,"border","none","background-color","Transparent",3,"click"],["src","../../../assets/img/Export/SVG/LKW.svg","width","180","height","75"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mr-auto"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],["href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],[1,"navbar-nav","me-auto","my-2","my-lg-0"],["href","#",1,"nav-item",2,"margin-right","14px"],[2,"border","none","background-color","Transparent"],["src","../../../assets/img/Export/Icons/search_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],[1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],[1,"nav-item",2,"margin-right","12px"],["src","../../../assets/img/Export/Icons/add_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],["href","#",1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],["src","../../../assets/img/Export/Icons/user_icon.png","width","43","height","43",2,"float","left"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"button",2),u.NdJ("click",function(){return r.navigateToMainPage()}),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6),u.TgZ(7,"ul",7),u.TgZ(8,"li",8),u.TgZ(9,"a",9),u._uU(10,"Mitfahrgelegenheit"),u.qZA(),u.qZA(),u.TgZ(11,"li",8),u.TgZ(12,"a",10),u._uU(13,"Meine Angebote & Anfragen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"ul",11),u.TgZ(15,"li",12),u.TgZ(16,"button",13),u._UZ(17,"img",14),u.TgZ(18,"a",15),u._uU(19,"Suchen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"li",16),u.TgZ(21,"button",13),u._UZ(22,"img",17),u.TgZ(23,"a",18),u._uU(24,"Angebot & Anfrage erstellen"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"li"),u.TgZ(26,"button",2),u.NdJ("click",function(){return r.navigateToUser()}),u._UZ(27,"img",19),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[jM],styles:[""]}),n})(),_U=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"containter"],[1,"row"],[1,"col","bg-light","pb-2","pl-5","pt-2"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._uU(4,"\xa9Cargonaut"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%}"]}),n})(),yU=(()=>{class n{constructor(t){this.router=t,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),"/carList"===this.router.url&&this.router.navigate(["/carList"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u._UZ(1,"router-outlet"),u._UZ(2,"app-footer"))},directives:[mU,Ph,_U],styles:[""]}),n})();class bU{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new wU(e,this.dueTime,this.scheduler))}}class wU extends Kn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function CU(n){n.debouncedNext()}const UO="firebasestorage.googleapis.com",BO="storageBucket";class kr extends Et.ZR{constructor(e,t){super(zM(e),`Firebase Storage: ${t} (${zM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}_codeEquals(e){return zM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function zM(n){return"storage/"+n}function WM(){return new kr("unknown","An unknown error occurred, please check the error payload for server response.")}function jO(){return new kr("canceled","User canceled the upload/download.")}function $O(){return new kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ov(n){return new kr("invalid-argument",n)}function HO(){return new kr("app-deleted","The Firebase app was deleted.")}function GO(n){return new kr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function g1(n,e){return new kr("invalid-format","String does not match format '"+n+"': "+e)}function m1(n){throw new kr("internal-error","Internal error: "+n)}class Ns{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ns.makeFromUrl(e,t)}catch(o){return new Ns(e,"")}if(""===r.path)return r;throw function(n){return new kr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(at){at.path_=decodeURIComponent(at.path)}const M=t.replace(/[.]/g,"\\."),Nt=[{regex:m,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===UO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let at=0;at<Nt.length;at++){const ln=Nt[at],zr=ln.regex.exec(e);if(zr){let Fo=zr[ln.indices.path];Fo||(Fo=""),r=new Ns(zr[ln.indices.bucket],Fo),ln.postModify(r);break}}if(null==r)throw function(n){return new kr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class FU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gI(n){return"string"==typeof n||n instanceof String}function qO(n){return YM()&&n instanceof Blob}function YM(){return"undefined"!=typeof Blob}function KM(n,e,t,r){if(r<e)throw ov(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ov(`Invalid value for '${n}'. Expected ${t} or less.`)}function $d(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var np=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(np||(np={})),np))();class $U{constructor(e,t,r,o,c,h,m,b,T,N,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=N,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function(n){return void 0!==n}(b)?c():c(b)}catch(b){h(b)}else if(null!==m){const b=WM();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(o.canceled?this.appDelete_?HO():jO():new kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new mI(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,c=null,h=!1,m=0;function b(){return 2===m}let T=!1;function N(...Se){T||(T=!0,e.apply(null,Se))}function M(Se){o=setTimeout(()=>{o=null,n(H,b())},Se)}function V(){c&&clearTimeout(c)}function H(Se,...it){if(T)return void V();if(Se)return V(),void N.call(null,Se,...it);if(b()||h)return V(),void N.call(null,Se,...it);let Nt;r<64&&(r*=2),1===m?(m=2,Nt=0):Nt=1e3*(r+Math.random()),M(Nt)}let re=!1;function ve(Se){re||(re=!0,V(),!T&&(null!==o?(Se||(m=2),clearTimeout(o),M(0)):Se||(m=1)))}return M(0),c=setTimeout(()=>{h=!0,ve(!0)},t),ve}((r,o)=>{if(o)return void r(!1,new mI(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===np.NO_ERROR,b=c.getStatus();if(!m||this.isRetryStatusCode_(b)){const N=c.getErrorCode()===np.ABORT;return void r(!1,new mI(!1,null,N))}const T=-1!==this.successCodes_.indexOf(b);r(!0,new mI(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class mI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function YU(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(YM())return new Blob(n);throw new kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const la={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class JM{constructor(e,t){this.data=e,this.contentType=t||null}}function QM(n,e){switch(n){case la.RAW:return new JM(zO(e));case la.BASE64:case la.BASE64URL:return new JM(WO(n,e));case la.DATA_URL:return new JM(function(n){const e=new YO(n);return e.base64?WO(la.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw g1(la.DATA_URL,"Malformed data URL.")}return zO(e)}(e.rest)}(e),function(n){return new YO(n).contentType}(e))}throw WM()}function zO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WO(n,e){switch(n){case la.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw g1(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case la.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw g1(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw g1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class YO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw g1(la.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class Jl{constructor(e,t){let r=0,o="";qO(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(qO(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Jl(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Jl(r,!0)}}static getBlob(...e){if(YM()){const t=e.map(r=>r instanceof Jl?r.data_:r);return new Jl(YU.apply(null,t))}{const t=e.map(h=>gI(h)?QM(la.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[c++]=h[m]}),new Jl(o,!0)}}uploadData(){return this.data_}}function XM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function KO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function iB(n,e){return e}class uo{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||iB}}let _I=null;function _1(){if(_I)return _I;const n=[];n.push(new uo("bucket")),n.push(new uo("generation")),n.push(new uo("metageneration")),n.push(new uo("name","fullPath",!0));const t=new uo("name");t.xform=function(c,h){return function(n){return!gI(n)||n.length<2?n:KO(n)}(h)},n.push(t);const o=new uo("size");return o.xform=function(c,h){return void 0!==h?Number(h):h},n.push(o),n.push(new uo("timeCreated")),n.push(new uo("updated")),n.push(new uo("md5Hash",null,!0)),n.push(new uo("cacheControl",null,!0)),n.push(new uo("contentDisposition",null,!0)),n.push(new uo("contentEncoding",null,!0)),n.push(new uo("contentLanguage",null,!0)),n.push(new uo("contentType",null,!0)),n.push(new uo("metadata","customMetadata",!0)),_I=n,_I}function JO(n,e,t){const r=XM(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const h=t[c];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new Ns(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function eR(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const QO="prefixes";class Ql{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(n){if(!n)throw WM()}function yI(n,e){return function(r,o){const c=JO(n,o,e);return Xl(null!==c),c}}function av(n){return function(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new kr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new kr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new kr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function y1(n){const e=av(n);return function(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function(n){return new kr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function eP(n,e,t){const o=$d(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(o,"GET",yI(n,t),h);return m.errorHandler=y1(e),m}function fB(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const m=$d(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,N=new Ql(m,"GET",function(n,e){return function(r,o){const c=function(n,e,t){const r=XM(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[QO])for(const o of t[QO]){const c=o.replace(/\/$/,""),h=n._makeStorageReference(new Ns(e,c));r.prefixes.push(h)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new Ns(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return Xl(null!==c),c}}(n,e.bucket),T);return N.urlParams=c,N.errorHandler=av(e),N}function nP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class vI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function tR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Xl(!1)}return Xl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const wB={STATE_CHANGED:"state_changed"},lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nR(n){switch(n){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;case"error":default:return lo.ERROR}}class CB{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function uv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class DB extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=np.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=np.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=np.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw m1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw m1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw m1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw m1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw m1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function qu(){return new DB}class oP{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=_1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h=nP(e,r,o),m={name:h.fullPath},b=$d(c,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=eR(h,t),re=new Ql(b,"POST",function(ve){let Se;tR(ve);try{Se=ve.getResponseHeader("X-Goog-Upload-URL")}catch(it){Xl(!1)}return Xl(gI(Se)),Se},n.maxUploadRetryTime);return re.urlParams=m,re.headers=N,re.body=M,re.errorHandler=av(e),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const b=new Ql(t,"POST",function(T){const N=tR(T,["active","final"]);let M=null;try{M=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){Xl(!1)}M||Xl(!1);const V=Number(M);return Xl(!isNaN(V)),new vI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=av(e),b}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,qu,t,r);this._request=c,c.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new vI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let h;try{h=function(n,e,t,r,o,c,h,m){const b=new vI(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=b.total-b.current;let N=T;o>0&&(N=Math.min(N,o));const M=b.current,re={"X-Goog-Upload-Command":N===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ve=r.slice(M,M+N);if(null===ve)throw $O();const Nt=new Ql(t,"POST",function(at,ln){const zr=tR(at,["active","final"]),Zu=b.current+N,Fo=r.size();let sR;return sR="final"===zr?yI(e,c)(at,ln):null,new vI(Zu,Fo,"final"===zr,sR)},e.maxUploadRetryTime);return Nt.headers=re,Nt.body=ve.uploadData(),Nt.progressCallback=m||null,Nt.errorHandler=av(n),Nt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,qu,o,c);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=eP(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,qu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let Nt="";for(let at=0;at<2;at++)Nt+=Math.random().toString().slice(2);return Nt}();h["Content-Type"]="multipart/related; boundary="+b;const T=nP(e,r,o),N=eR(T,t),H=Jl.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+b+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===H)throw $O();const re={name:T.fullPath},ve=$d(c,n.host,n._protocol),it=n.maxUploadRetryTime,Qe=new Ql(ve,"POST",yI(n,t),it);return Qe.urlParams=re,Qe.headers=h,Qe.body=H.uploadData(),Qe.errorHandler=av(e),Qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,qu,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jO(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=nR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new CB(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(nR(this._state)){case lo.SUCCESS:uv(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:uv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nR(this._state)){case lo.RUNNING:case lo.PAUSED:e.next&&uv(e.next.bind(e,this.snapshot))();break;case lo.SUCCESS:e.complete&&uv(e.complete.bind(e))();break;case lo.CANCELED:case lo.ERROR:e.error&&uv(e.error.bind(e,this._error))();break;default:e.error&&uv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _m{constructor(e,t){this._service=e,this._location=t instanceof Ns?t:Ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _m(e,t)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KO(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ns(this._location.bucket,e);return new _m(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw GO(e)}}function uP(n,e,t){return rR.apply(this,arguments)}function rR(){return(rR=(0,fe.Z)(function*(n,e,t){const o=yield lP(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield uP(n,e,o.nextPageToken))})).apply(this,arguments)}function lP(n,e){null!=e&&"number"==typeof e.maxResults&&KM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=fB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,qu)}function FB(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=$d(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(o,"GET",function(n,e){return function(r,o){const c=JO(n,o,e);return Xl(null!==c),function(n,e,t,r){const o=XM(e);if(null===o||!gI(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(T=>{const M=n.fullPath;return $d("/b/"+h(n.bucket)+"/o/"+h(M),t,r)+ZO({alt:"media",token:T})})[0]}(c,o,n.host,n._protocol)}}(n,t),h);return m.errorHandler=y1(e),m}(n.storage,n._location,_1());return n.storage.makeRequestWithTokens(e,qu).then(t=>{if(null===t)throw new kr("no-download-url","The given file does not have any download URLs.");return t})}function cP(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ns(n._location.bucket,t);return new _m(n.storage,r)}function dP(n,e){if(n instanceof iR){const t=n;if(null==t._bucket)throw new kr("no-default-bucket","No default bucket found. Did you set the '"+BO+"' property when initializing the app?");const r=new _m(t,t._bucket);return null!=e?dP(r,e):r}return void 0!==e?cP(n,e):n}function BB(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof iR)return function(n,e){return new _m(n,e)}(n,e);throw ov("To use ref(service, url), the first argument must be a Storage instance.")}return dP(n,e)}function hP(n,e){const t=null==e?void 0:e[BO];return null==t?null:Ns.makeFromBucketSpec(t,n)}class iR{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=UO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Ns.makeFromBucketSpec(o,this._host):hP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,e):hP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,fe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,fe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _m(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new FU(HO());{const c=function(n,e,t,r,o,c){const h=ZO(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(b,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new $U(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,fe.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,c).getPromise()})()}}const fP="@firebase/storage";function mP(n,e){return BB(n=(0,Et.m9)(n),e)}(0,Ys._registerComponent)(new jc.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new iR(t,r,o,e,Ys.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ys.registerVersion)(fP,"0.9.0",""),(0,Ys.registerVersion)(fP,"0.9.0","esm2017");class bI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _P{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new bI(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?h=>t(new bI(h,this,this._ref)):{next:t.next?h=>t.next(new bI(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class yP{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Hd(e,this._service))}get items(){return this._delegate.items.map(e=>new Hd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return cP(n,e)}(this._delegate,e);return new Hd(t,this.storage)}get root(){return new Hd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Hd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _P(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new oP(n,new Jl(e),t)}(n=(0,Et.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=la.RAW,r){this._throwIfRoot("putString");const o=QM(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new _P(new oP(this._delegate,new Jl(o.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return uP(n,e).then(()=>e)}(n=(0,Et.m9)(n))}(this._delegate).then(e=>new yP(e,this.storage))}list(e){return function(n,e){return lP(n=(0,Et.m9)(n),e)}(this._delegate,e||void 0).then(t=>new yP(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=eP(n.storage,n._location,_1());return n.storage.makeRequestWithTokens(e,qu)}(n=(0,Et.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const c=$d(e.fullServerUrl(),n.host,n._protocol),m=eR(t,r),T=n.maxOperationRetryTime,N=new Ql(c,"PATCH",yI(n,r),T);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=y1(e),N}(n.storage,n._location,e,_1());return n.storage.makeRequestWithTokens(t,qu)}(n=(0,Et.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return FB(n=(0,Et.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=$d(e.fullServerUrl(),n.host,n._protocol),m=new Ql(r,"DELETE",function(b,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=y1(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,qu)}(n=(0,Et.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw GO(e)}}class vP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bP(e))throw ov("ref() expected a child path but got a URL, use refFromURL instead.");return new Hd(mP(this._delegate,e),this)}refFromURL(e){if(!bP(e))throw ov("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(e,this._delegate.host)}catch(t){throw ov("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hd(mP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Et.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function bP(n){return/^[A-Za-z]+:\/\//.test(n)}function n3(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new vP(t,r)}function wP(n){const e=function(n){return new kt.y(e=>{const t=h=>e.next(h);t(n.snapshot);const c=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){c()}}).pipe(function(n,e=Qm.P){return t=>t.lift(new bU(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ut.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function wI(n){return{getDownloadURL:()=>(0,Ze.of)(void 0).pipe(er.fc,ir(()=>n.getDownloadURL()),er.iC),getMetadata:()=>(0,Ze.of)(void 0).pipe(er.fc,ir(()=>n.getMetadata()),er.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>wI(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>wP(n.put(e,t)),putString:(e,t,r)=>wP(n.putString(e,t,r)),list:e=>(0,pn.D)(n.list(e)),listAll:()=>(0,pn.D)(n.listAll())}}!function(n){const e={TaskState:lo,TaskEvent:wB,StringFormat:la,Storage:vP,Reference:Hd};n.INTERNAL.registerComponent(new jc.wA("storage-compat",n3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(La.Z);const s3=new u.OlP("angularfire2.storageBucket"),o3=new u.OlP("angularfire2.storage.maxUploadRetryTime"),a3=new u.OlP("angularfire2.storage.maxOperationRetryTime"),u3=new u.OlP("angularfire2.storage.use-emulator");let l3=(()=>{class n{constructor(t,r,o,c,h,m,b,T,N,M){const V=(0,Xi.on)(t,h,r);this.storage=(0,Xi.cc)(`${V.name}.storage.${o}`,"AngularFireStorage",V.name,()=>{const H=h.runOutsideAngular(()=>V.storage(o||void 0)),re=N;return re&&H.useEmulator(...re),b&&H.setMaxUploadRetryTime(b),T&&H.setMaxOperationRetryTime(T),H},[b,T])}ref(t){return wI(this.storage.ref(t))}refFromURL(t){return wI(this.storage.refFromURL(t))}upload(t,r,o){return wI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xi.Dh),u.LFG(Xi.xv,8),u.LFG(s3,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(er.HU),u.LFG(o3,8),u.LFG(a3,8),u.LFG(u3,8),u.LFG(Gw,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),c3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),d3=(()=>{class n{constructor(){Jm.Z.registerVersion("angularfire",er.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[l3],imports:[c3]}),n})();const CP_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[yU]}),n.\u0275inj=u.cJS({providers:[],imports:[[dp,gU,WV,Xi.hO.initializeApp(CP_firebaseConfig),jT,$y,d3,Ak,lF]]}),n})();(0,u.G48)(),qo().bootstrapModule(h3).catch(n=>console.error(n))},3394:(We,we,F)=>{"use strict";F.d(we,{Z:()=>Ne});var u=F(3854),j=F(3910),O=F(8026),le=F(5422);class ae{constructor(ge,ne){this._delegate=ge,this.firebase=ne,(0,O._addComponent)(ge,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,ne=O._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(ge);return!Ee.isInitialized()&&"EXPLICIT"===(null===(se=Ee.getComponent())||void 0===se?void 0:se.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:ne})}_removeServiceInstance(ge,ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(ne)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const De=function(De){const ge={},ne={__esModule:!0,initializeApp:function(_t,Tn={}){const Ct=O.initializeApp(_t,Tn);if((0,u.r3)(ge,Ct.name))return ge[Ct.name];const gt=new De(Ct,ne);return ge[Ct.name]=gt,gt},app:Ee,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(_t){const Tn=_t.name,Ct=Tn.replace("-compat","");if(O._registerComponent(_t)&&"PUBLIC"===_t.type){const gt=(Ot=Ee())=>{if("function"!=typeof Ot[Ct])throw ce.create("invalid-app-argument",{appName:Tn});return Ot[Ct]()};void 0!==_t.serviceProps&&(0,u.ZB)(gt,_t.serviceProps),ne[Ct]=gt,De.prototype[Ct]=function(...Ot){return this._getService.bind(this,Tn).apply(this,_t.multipleInstances?Ot:[])}}return"PUBLIC"===_t.type?ne[Ct]:null},removeApp:function(_t){delete ge[_t]},useAsService:function(_t,Tn){return"serverAuth"===Tn?null:Tn},modularAPIs:O}};function Ee(_t){if(!(0,u.r3)(ge,_t=_t||O._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:_t});return ge[_t]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function(){return Object.keys(ge).map(_t=>ge[_t])}}),Ee.App=De,ne}(ae);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(ne){(0,u.ZB)(De,ne)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),De}(),B=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(We,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ei,_DEFAULT_ENTRY_NAME:()=>$i,_addComponent:()=>ds,_addOrOverwriteComponent:()=>Ms,_apps:()=>Wt,_clearComponents:()=>mn,_components:()=>jt,_getProvider:()=>sn,_registerComponent:()=>Ci,_removeServiceInstance:()=>Rs,deleteApp:()=>qn,getApp:()=>ke,getApps:()=>bn,initializeApp:()=>Hi,onLog:()=>Ht,registerVersion:()=>je,setLogLevel:()=>gr});var u=F(8239),j=F(3910),O=F(5422),le=F(3854);class ae{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function(st){const nt=st.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(Rt)){const Pt=Rt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(Rt=>Rt).join(" ")}}const ce="@firebase/app",Q="0.7.10",z=new O.Yd("@firebase/app"),$i="[DEFAULT]",co={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,jt=new Map;function ds(st,nt){try{st.container.addComponent(nt)}catch(Rt){z.debug(`Component ${nt.name} failed to register with FirebaseApp ${st.name}`,Rt)}}function Ms(st,nt){st.container.addOrOverwriteComponent(nt)}function Ci(st){const nt=st.name;if(jt.has(nt))return z.debug(`There were multiple attempts to register component ${nt}.`),!1;jt.set(nt,st);for(const Rt of Wt.values())ds(Rt,st);return!0}function sn(st,nt){return st.container.getProvider(nt)}function Rs(st,nt,Rt=$i){sn(st,nt).clearInstance(Rt)}function mn(){jt.clear()}const Qt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xs{constructor(nt,Rt,Pt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ei="9.6.0";function Hi(st,nt={}){"object"!=typeof nt&&(nt={name:nt});const Rt=Object.assign({name:$i,automaticDataCollectionEnabled:!1},nt),Pt=Rt.name;if("string"!=typeof Pt||!Pt)throw Qt.create("bad-app-name",{appName:String(Pt)});const zn=Wt.get(Pt);if(zn){if((0,le.vZ)(st,zn.options)&&(0,le.vZ)(Rt,zn.config))return zn;throw Qt.create("duplicate-app",{appName:Pt})}const en=new j.H0(Pt);for(const et of jt.values())en.addComponent(et);const Pe=new xs(st,Rt,en);return Wt.set(Pt,Pe),Pe}function ke(st=$i){const nt=Wt.get(st);if(!nt)throw Qt.create("no-app",{appName:st});return nt}function bn(){return Array.from(Wt.values())}function qn(st){return Di.apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(st){const nt=st.name;Wt.has(nt)&&(Wt.delete(nt),yield Promise.all(st.container.getProviders().map(Rt=>Rt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function je(st,nt,Rt){var Pt;let zn=null!==(Pt=co[st])&&void 0!==Pt?Pt:st;Rt&&(zn+=`-${Rt}`);const en=zn.match(/\s|\//),Pe=nt.match(/\s|\//);if(en||Pe){const et=[`Unable to register library "${zn}" with version "${nt}":`];return en&&et.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),en&&Pe&&et.push("and"),Pe&&et.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void z.warn(et.join(" "))}Ci(new j.wA(`${zn}-version`,()=>({library:zn,version:nt}),"VERSION"))}function Ht(st,nt){if(null!==st&&"function"!=typeof st)throw Qt.create("invalid-log-argument");(0,O.Am)(st,nt)}function gr(st){(0,O.Ub)(st)}Ci(new j.wA("platform-logger",nt=>new ae(nt),"PRIVATE")),je(ce,Q,""),je(ce,Q,"esm2017"),je("fire-js","")},3910:(We,we,F)=>{"use strict";F.d(we,{wA:()=>O,H0:()=>Q});var u=F(8239),j=F(3854);class O{constructor(L,B,G){this.name=L,this.instanceFactory=B,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const le="[DEFAULT]";class ae{constructor(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){const G=new j.BH;if(this.instancesDeferred.set(B,G),this.isInitialized(B)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:B});de&&G.resolve(de)}catch(de){}}return this.instancesDeferred.get(B).promise}getImmediate(L){var B;const G=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),de=null!==(B=null==L?void 0:L.optional)&&void 0!==B&&B;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Oe){if(de)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(B){}for(const[B,G]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(B);try{const Oe=this.getOrInitializeService({instanceIdentifier:de});G.resolve(Oe)}catch(Oe){}}}}clearInstance(L=le){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,u.Z)(function*(){const B=Array.from(L.instances.values());yield Promise.all([...B.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...B.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=le){return this.instances.has(L)}getOptions(L=le){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:B={}}=L,G=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:G,options:B});for(const[Oe,Ne]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(de);return de}onInit(L,B){var G;const de=this.normalizeInstanceIdentifier(B),Oe=null!==(G=this.onInitCallbacks.get(de))&&void 0!==G?G:new Set;Oe.add(L),this.onInitCallbacks.set(de,Oe);const Ne=this.instances.get(de);return Ne&&L(Ne,de),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,B){const G=this.onInitCallbacks.get(B);if(G)for(const de of G)try{de(L,B)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:B={}}){let G=this.instances.get(L);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(z=L,z===le?void 0:z),options:B}),this.instances.set(L,G),this.instancesOptions.set(L,B),this.invokeOnInitCallbacks(G,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,G)}catch(de){}var z;return G||null}normalizeInstanceIdentifier(L=le){return this.component?this.component.multipleInstances?L:le:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const B=this.getProvider(L.name);if(B.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);B.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const B=new ae(L,this);return this.providers.set(L,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(We,we,F)=>{"use strict";F.d(we,{in:()=>j,Yd:()=>ce,Ub:()=>Q,Am:()=>z});const u=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ee=(L,B,...G)=>{if(B<L.logLevel)return;const de=(new Date).toISOString(),Oe=ae[B];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Oe](`[${de}]  ${L.name}:`,...G)};class ce{constructor(B){this.name=B,this._logLevel=le,this._logHandler=ee,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in j))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...B),this._logHandler(this,j.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...B),this._logHandler(this,j.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,j.INFO,...B),this._logHandler(this,j.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,j.WARN,...B),this._logHandler(this,j.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...B),this._logHandler(this,j.ERROR,...B)}}function Q(L){u.forEach(B=>{B.setLogLevel(L)})}function z(L,B){for(const G of u){let de=null;B&&B.level&&(de=O[B.level]),G.userLogHandler=null===L?null:(Oe,Ne,...De)=>{const ge=De.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(se){return null}}).filter(ne=>ne).join(" ");Ne>=(null!=de?de:Oe.logLevel)&&L({level:j[Ne].toLowerCase(),message:ge,args:De,type:Oe.name})}}}},8239:(We,we,F)=>{"use strict";function u(O,le,ae,ee,ce,Q,z){try{var L=O[Q](z),B=L.value}catch(G){return void ae(G)}L.done?le(B):Promise.resolve(B).then(ee,ce)}function j(O){return function(){var le=this,ae=arguments;return new Promise(function(ee,ce){var Q=O.apply(le,ae);function z(B){u(Q,ee,ce,z,L,"next",B)}function L(B){u(Q,ee,ce,z,L,"throw",B)}z(void 0)})}}F.d(we,{Z:()=>j})}},We=>{We(We.s=5964)}]);