(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:Ye=>{function we(F){return Promise.resolve().then(()=>{var r=new Error("Cannot find module '"+F+"'");throw r.code="MODULE_NOT_FOUND",r})}we.keys=()=>[],we.resolve=we,we.id=8255,Ye.exports=we},7716:(Ye,we,F)=>{"use strict";F.d(we,{deG:()=>Cp,tb:()=>uE,AFp:()=>Ob,ip1:()=>Rb,CZH:()=>Wf,hGG:()=>zy,z2F:()=>ac,sBO:()=>ES,Sil:()=>zu,_Vd:()=>Wl,EJc:()=>cE,SBq:()=>Ga,qLn:()=>jh,vpe:()=>Ot,gxx:()=>id,tBr:()=>wu,XFs:()=>Ve,OlP:()=>On,zs3:()=>Un,ZZ4:()=>Bu,aQg:()=>Fd,soG:()=>Fy,YKP:()=>Pf,v3s:()=>FM,h0i:()=>za,PXZ:()=>bk,R0b:()=>$r,FiY:()=>Ra,Lbi:()=>aE,g9A:()=>oE,Qsj:()=>ly,FYo:()=>oa,JOm:()=>Ua,Tiy:()=>xf,q3G:()=>bn,tp0:()=>Vr,EAV:()=>ZM,Rgc:()=>Bg,dDg:()=>gE,DyG:()=>Na,q4F:()=>I1,GfV:()=>cy,s_b:()=>Ff,ifc:()=>Pe,eFA:()=>RM,G48:()=>Vy,Gpc:()=>V,X6Q:()=>Uy,_c5:()=>VM,VLi:()=>_E,c2e:()=>lE,zSh:()=>Su,wAp:()=>ft,vHH:()=>Ne,EiD:()=>zt,mCW:()=>Il,qzn:()=>La,JVY:()=>Ym,pB0:()=>El,eBb:()=>Rp,L6k:()=>kp,LAX:()=>Ko,cg1:()=>Q_,Tjo:()=>UM,kL8:()=>DC,yhl:()=>zm,dqk:()=>Kt,sIi:()=>rf,CqO:()=>Hl,QGY:()=>Ao,F4k:()=>cf,RDi:()=>gp,AaK:()=>X,z3N:()=>Jo,qOj:()=>dd,TTD:()=>mr,_Bn:()=>T1,xp6:()=>Eu,uIk:()=>ag,Tol:()=>Js,Gre:()=>dC,DjV:()=>yf,ekj:()=>Tg,Suo:()=>rM,Xpm:()=>nr,lG2:()=>At,Yz7:()=>un,cJS:()=>_n,oAB:()=>Ze,Yjl:()=>kn,Y36:()=>hg,_UZ:()=>Jv,BQk:()=>q_,ynx:()=>lf,qZA:()=>fg,TgZ:()=>Bl,EpF:()=>jl,n5z:()=>bh,Ikx:()=>wn,SDv:()=>y1,QtT:()=>sy,pQV:()=>v1,LFG:()=>Dn,$8M:()=>Zc,NdJ:()=>B_,CRH:()=>Nr,kcU:()=>Sc,O4$:()=>hu,oxw:()=>Qv,ALo:()=>LD,lcZ:()=>ZD,Hsn:()=>df,F$t:()=>mg,Q6J:()=>Wv,s9C:()=>ni,MGl:()=>_g,VKq:()=>tm,WLB:()=>Iy,kEZ:()=>pb,iGM:()=>tr,MAs:()=>yd,CHM:()=>su,LSH:()=>Fh,kYT:()=>ht,Udp:()=>wg,YNc:()=>jv,W1O:()=>JD,_uU:()=>Id,Oqu:()=>Y_,hij:()=>Dg,HOy:()=>r1,Gf:()=>nM});var r=F(9765),q=F(5319),O=F(7574),ce=F(6682),ue=F(8819);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function X(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(X).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const L=te({__forward_ref__:te});function V(s){return s.__forward_ref__=V,s.toString=function(){return X(this())},s}function H(s){return fe(s)?s():s}function fe(s){return"function"==typeof s&&s.hasOwnProperty(L)&&s.__forward_ref__===V}class Ne extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function re(s){return"string"==typeof s?s:null==s?"":String(s)}function ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():re(s)}function Mt(s,o){const u=o?` in ${o}`:"";throw new Ne("201",`No provider for ${ae(s)} found${u}`)}function Bt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}function un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _n(s){return{providers:s.providers||[],imports:s.imports||[]}}function en(s){return Xt(s,Re)||Xt(s,Hn)}function Xt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Yi(s){return s&&(s.hasOwnProperty(Tn)||s.hasOwnProperty(Ri))?s[Tn]:null}const Re=te({\u0275prov:te}),Tn=te({\u0275inj:te}),Hn=te({ngInjectableDef:te}),Ri=te({ngInjectorDef:te});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let Ht;function $n(s){const o=Ht;return Ht=s,o}function it(s,o,u){const c=en(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ve.Optional?null:void 0!==o?o:void Mt(X(s),"Injector")}function Nt(s){return{toString:s}.toString()}var Ft=(()=>((Ft=Ft||{})[Ft.OnPush=0]="OnPush",Ft[Ft.Default=1]="Default",Ft))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const Qe="undefined"!=typeof globalThis&&globalThis,fa="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=Qe||"undefined"!=typeof global&&global||fa||hn,G={},$=[],W=te({\u0275cmp:te}),be=te({\u0275dir:te}),le=te({\u0275pipe:te}),He=te({\u0275mod:te}),lt=te({\u0275loc:te}),Gt=te({\u0275fac:te}),In=te({__NG_ELEMENT_ID__:te});let zn=0;function nr(s){return Nt(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||$,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pe.Emulated,id:"c",styles:s.styles||$,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,m=s.pipes;return c.id+=zn++,c.inputs=Ut(s.inputs,u),c.outputs=Ut(s.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Q):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(K):null,c})}function Q(s){return pn(s)||function(s){return s[be]||null}(s)}function K(s){return function(s){return s[le]||null}(s)}const Te={};function Ze(s){return Nt(()=>{const o={type:s.type,bootstrap:s.bootstrap||$,declarations:s.declarations||$,imports:s.imports||$,exports:s.exports||$,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Te[s.id]=s.type),o})}function ht(s,o){return Nt(()=>{const u=Mn(s,!0);u.declarations=o.declarations||$,u.imports=o.imports||$,u.exports=o.exports||$})}function Ut(s,o){if(null==s)return G;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const At=nr;function kn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function pn(s){return s[W]||null}function Mn(s,o){const u=s[He]||null;if(!u&&!0===o)throw new Error(`Type ${X(s)} does not have '\u0275mod' property.`);return u}function Ps(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zr(s){return Array.isArray(s)&&!0===s[1]}function pc(s){return 0!=(8&s.flags)}function tl(s){return 2==(2&s.flags)}function Ur(s){return 1==(1&s.flags)}function fs(s){return null!==s.template}function Cr(s){return 0!=(512&s[2])}function Pi(s,o){return s.hasOwnProperty(Gt)?s[Gt]:null}class Fs{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function mr(){return vc}function vc(s){return s.type.prototype.ngOnChanges&&(s.setInput=_a),Ls}function Ls(){const s=uh(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===G)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function _a(s,o,u,c){const d=uh(s)||function(s,o){return s[Fi]=o}(s,{previous:G,current:null}),f=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[u],w=m[y];f[y]=new Fs(w&&w.currentValue,o,m===G),s[c]=o}mr.ngInherit=!0;const Fi="__ngSimpleChanges__";function uh(s){return s[Fi]||null}const tu="http://www.w3.org/2000/svg";let ps;function gp(s){ps=s}function ho(){return void 0!==ps?ps:"undefined"!=typeof document?document:void 0}function Rn(s){return!!s.listen}const Dr={createRenderer:(s,o)=>ho()};function ln(s){for(;Array.isArray(s);)s=s[0];return s}function ba(s,o){return ln(o[s])}function Li(s,o){return ln(o[s.index])}function Tc(s,o){return s.data[o]}function Ji(s,o){return s[o]}function hi(s,o){const u=o[s];return Ps(u)?u:u[0]}function ol(s){return 4==(4&s[2])}function ru(s){return 128==(128&s[2])}function gs(s,o){return null==o?null:s[o]}function al(s){s[18]=0}function Uo(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const dt={lFrame:yp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return dt.bindingsEnabled}function Ee(){return dt.lFrame.lView}function xt(){return dt.lFrame.tView}function su(s){return dt.lFrame.contextLView=s,s[8]}function Cn(){let s=ou();for(;null!==s&&64===s.type;)s=s.parent;return s}function ou(){return dt.lFrame.currentTNode}function Ki(){const s=dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Yr(s,o){const u=dt.lFrame;u.currentTNode=s,u.isParent=o}function au(){return dt.lFrame.isParent}function wa(){dt.lFrame.isParent=!1}function cl(){return dt.isInCheckNoChangesMode}function po(s){dt.isInCheckNoChangesMode=s}function lr(){const s=dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Wr(){return dt.lFrame.bindingIndex}function _s(){return dt.lFrame.bindingIndex++}function Er(s){const o=dt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Ca(s){dt.lFrame.inI18n=s}function Ec(s,o){const u=dt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ac(o)}function Ac(s){dt.lFrame.currentDirectiveIndex=s}function Ic(){return dt.lFrame.currentQueryIndex}function qo(s){dt.lFrame.currentQueryIndex=s}function dl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function lu(s,o,u){if(u&Ve.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&Ve.Host||(d=dl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=dt.lFrame=hl();return c.currentTNode=o,c.lView=s,!0}function cu(s){const o=hl(),u=s[1];dt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function hl(){const s=dt.lFrame,o=null===s?null:s.child;return null===o?yp(s):o}function yp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hh(){const s=dt.lFrame;return dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const fl=hh;function Bo(){const s=hh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ar(){return dt.lFrame.selectedIndex}function go(s){dt.lFrame.selectedIndex=s}function Yn(){const s=dt.lFrame;return Tc(s.tView,s.selectedIndex)}function hu(){dt.lFrame.currentNamespace=tu}function Sc(){dt.lFrame.currentNamespace=null}function Da(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:I}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-u,m),y&&((s.contentHooks||(s.contentHooks=[])).push(u,y),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,y)),w&&(s.viewHooks||(s.viewHooks=[])).push(-u,w),E&&((s.viewHooks||(s.viewHooks=[])).push(u,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,E)),null!=I&&(s.destroyHooks||(s.destroyHooks=[])).push(u,I)}}function Ea(s,o,u){xc(s,o,3,u)}function jo(s,o,u,c){(3&s[2])===u&&xc(s,o,u,c)}function rr(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function xc(s,o,u,c){const f=null!=c?c:-1,m=o.length-1;let y=0;for(let w=void 0!==c?65535&s[18]:0;w<m;w++)if("number"==typeof o[w+1]){if(y=o[w],null!=c&&y>=c)break}else o[w]<0&&(s[18]+=65536),(y<f||-1==f)&&(fh(s,u,o,w),s[18]=(4294901760&s[18])+w+2),w++}function fh(s,o,u,c){const d=u[c]<0,f=u[c+1],y=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class gl{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function gh(s,o,u){const c=Rn(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const m=u[d++],y=u[d++],w=u[d++];c?s.setAttribute(o,y,w,m):o.setAttributeNS(m,y,w)}else{const m=f,y=u[++d];Zs(m)?c&&s.setProperty(o,m,y):c?s.setAttribute(o,m,y):o.setAttribute(m,y),d++}}return d}function wp(s){return 3===s||4===s||6===s}function Zs(s){return 64===s.charCodeAt(0)}function ml(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Tp(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Tp(s,o,u,c,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const y=s[f++];if("number"==typeof y){if(y===o){m=-1;break}if(y>o){m=f-1;break}}}for(;f<s.length;){const y=s[f];if("number"==typeof y)break;if(y===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function Rc(s){return-1!==s}function Qi(s){return 32767&s}function Us(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Oc=!0;function Ia(s){const o=Oc;return Oc=s,o}let _h=0;function mo(s,o){const u=mn(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,fu(c.data,s),fu(o,null),fu(c.blueprint,null));const d=$e(s,o),f=s.injectorIndex;if(Rc(d)){const m=Qi(d),y=Us(d,o),w=y[1].data;for(let E=0;E<8;E++)o[f+E]=y[m+E]|w[m+E]}return o[f+8]=d,f}function fu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function mn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function $e(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const f=d[1],m=f.type;if(c=2===m?f.declTNode:1===m?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function cn(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(In)&&(c=u[In]),null==c&&(c=u[In]=_h++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function xn(s,o,u){if(u&Ve.Optional)return s;Mt(o,"NodeInjector")}function pu(s,o,u,c){if(u&Ve.Optional&&void 0===c&&(c=null),0==(u&(Ve.Self|Ve.Host))){const d=s[9],f=$n(void 0);try{return d?d.get(o,c,u&Ve.Optional):it(o,c,u&Ve.Optional)}finally{$n(f)}}return xn(c,o,u)}function bs(s,o,u,c=Ve.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(In)?s[In]:void 0;return"number"==typeof o?o>=0?255&o:gu:o}(u);if("function"==typeof f){if(!lu(o,s,c))return c&Ve.Host?xn(d,u,c):pu(o,u,c,d);try{const m=f(c);if(null!=m||c&Ve.Optional)return m;Mt(u)}finally{fl()}}else if("number"==typeof f){let m=null,y=mn(s,o),w=-1,E=c&Ve.Host?o[16][6]:null;for((-1===y||c&Ve.SkipSelf)&&(w=-1===y?$e(s,o):o[y+8],-1!==w&&Lc(c,!1)?(m=o[1],y=Qi(w),o=Us(w,o)):y=-1);-1!==y;){const I=o[1];if(_o(f,y,I.data)){const R=_l(y,o,u,m,c,E);if(R!==Wn)return R}w=o[y+8],-1!==w&&Lc(c,o[1].data[y+8]===E)&&_o(f,y,o)?(m=I,y=Qi(w),o=Us(w,o)):y=-1}}}return pu(o,u,c,d)}const Wn={};function gu(){return new Zi(Cn(),Ee())}function _l(s,o,u,c,d,f){const m=o[1],y=m.data[s+8],I=yl(y,m,u,null==c?tl(y)&&Oc:c!=m&&0!=(3&y.type),d&Ve.Host&&f===y);return null!==I?kt(o,m,I,y):Wn}function yl(s,o,u,c,d){const f=s.providerIndexes,m=o.data,y=1048575&f,w=s.directiveStart,I=f>>20,P=d?y+I:s.directiveEnd;for(let j=c?y:y+I;j<P;j++){const Y=m[j];if(j<w&&u===Y||j>=w&&Y.type===u)return j}if(d){const j=m[w];if(j&&fs(j)&&j.type===u)return w}return null}function kt(s,o,u,c){let d=s[u];const f=o.data;if(function(s){return s instanceof gl}(d)){const m=d;m.resolving&&function(s,o){throw new Ne("200",`Circular dependency in DI detected for ${s}`)}(ae(f[u]));const y=Ia(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?$n(m.injectImpl):null;lu(s,c,Ve.Default);try{d=s[u]=m.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const m=vc(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==w&&$n(w),Ia(y),m.resolving=!1,fl()}}return d}function _o(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Lc(s,o){return!(s&Ve.Self||s&Ve.Host&&o)}class Zi{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return bs(this._tNode,this._lView,o,c,u)}}function bh(s){return Nt(()=>{const o=s.prototype.constructor,u=o[Gt]||mu(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[Gt]||mu(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function mu(s){return fe(s)?()=>{const o=mu(H(s));return o&&o()}:Pi(s)}function Zc(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(wp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(Cn(),s)}const Ui="__parameters__";function yo(s,o,u){return Nt(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return y.annotation=m,y;function y(w,E,I){const R=w.hasOwnProperty(Ui)?w[Ui]:Object.defineProperty(w,Ui,{value:[]})[Ui];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(m),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class On{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cp=new On("AnalyzeForEntryComponents"),Na=Function;function ts(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),ts(c,o)):o!==s&&o.push(c)}return o}function ws(s,o){s.forEach(u=>Array.isArray(u)?ws(u,o):o(u))}function yu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Vi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qs(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}function Jn(s,o,u){let c=bo(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Kn(s,o){const u=bo(s,o);if(u>=0)return s[1|u]}function bo(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),m=s[f<<u];if(o===m)return f<<u;m>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const Vt={},rn="__NG_DI_FLAG__",sr="ngTempTokenPath",cr=/\n/gm,vu="__source",js=te({provide:String,useValue:te});let mi;function _t(s){const o=mi;return mi=s,o}function v0(s,o=Ve.Default){if(void 0===mi)throw new Error("inject() must be called from an injection context");return null===mi?it(s,void 0,o):mi.get(s,o&Ve.Optional?null:void 0,o)}function Dn(s,o=Ve.Default){return(Ht||v0)(H(s),o)}function zo(s){const o=[];for(let u=0;u<s.length;u++){const c=H(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Ve.Default;for(let m=0;m<c.length;m++){const y=c[m],w=Ip(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}o.push(Dn(d,f))}else o.push(Dn(c))}return o}function bu(s,o){return s[rn]=o,s.prototype[rn]=o,s}function Ip(s){return s[rn]}function Hs(s,o,u,c){const d=s[sr];throw o[vu]&&d.unshift(o[vu]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=X(o);if(Array.isArray(o))d=o.map(X).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let y=o[m];f.push(m+":"+("string"==typeof y?JSON.stringify(y):X(y)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(cr,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[sr]=null,s}const wu=bu(yo("Inject",s=>({token:s})),-1),Ra=bu(yo("Optional"),8),Vr=bu(yo("SkipSelf"),4);let Tu;function Wo(s){var o;return(null===(o=function(){if(void 0===Tu&&(Tu=null,Kt.trustedTypes))try{Tu=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Tu}())||void 0===o?void 0:o.createHTML(s))||s}class Cu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class C0 extends Cu{getTypeName(){return"HTML"}}class D0 extends Cu{getTypeName(){return"Style"}}class kh extends Cu{getTypeName(){return"Script"}}class E0 extends Cu{getTypeName(){return"URL"}}class A0 extends Cu{getTypeName(){return"ResourceURL"}}function Jo(s){return s instanceof Cu?s.changingThisBreaksApplicationSecurity:s}function La(s,o){const u=zm(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function zm(s){return s instanceof Cu&&s.getTypeName()||null}function Ym(s){return new C0(s)}function kp(s){return new D0(s)}function Rp(s){return new kh(s)}function Ko(s){return new E0(s)}function El(s){return new A0(s)}function Op(s){const o=new I0(s);return function(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch(s){return!1}}()?new Wm(o):o}class Wm{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Wo(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class I0{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Wo(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Wo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const m=u.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&o.removeAttribute(m)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Rh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Al=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Il(s){return(s=String(s)).match(Rh)||s.match(Al)?s:"unsafe:"+s}function zc(s){return(s=String(s)).split(",").map(o=>Il(o.trim())).join(", ")}function $s(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Qo(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Oh=$s("area,br,col,hr,img,wbr"),Pp=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sl=$s("rp,rt"),Fp=Qo(Oh,Qo(Pp,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qo(Sl,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qo(Sl,Pp)),v=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=$s("srcset"),M=Qo(v,p,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k=$s("script,style,template");class ee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Fp.hasOwnProperty(u))return this.sanitizedSomething=!0,!k.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),m=f.name,y=m.toLowerCase();if(!M.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=Il(w)),p[y]&&(w=zc(w)),this.buf.push(" ",m,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Fp.hasOwnProperty(u)&&!Oh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Fe(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Be=/([^\#-~ |!])/g;function Fe(s){return s.replace(/&/g,"&amp;").replace(ye,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Be,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let st;function zt(s,o){let u=null;try{st=st||Op(s);let c=o?String(o):"";u=st.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=st.getInertBodyElement(c)}while(c!==f);return Wo((new ee).sanitizeChildren(vn(u)||u))}finally{if(u){const c=vn(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function vn(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Fh(s){const o=function(){const s=Ee();return s&&s[12]}();return o?o.sanitize(bn.URL,s)||"":La(s,"URL")?Jo(s):Il(re(s))}const Vh="__ngContext__";function _i(s,o){s[Vh]=o}function N0(s){const o=function(s){return s[Vh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Jc(s){return s.ngOriginalError}function qA(s,...o){s.error(...o)}class jh{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||qA;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(Jc(o)):null}_findOriginalError(o){let u=o&&Jc(o);for(;u&&Jc(u);)u=Jc(u);return u||null}}const HA=/^>|^->|<!--|-->|--!>|<!-$/g,P0=/(<|>)/;const Bw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function Za(s){return s instanceof Function?s():s}var Ua=(()=>((Ua=Ua||{})[Ua.Important=1]="Important",Ua[Ua.DashCase=2]="DashCase",Ua))();let F0;function r_(s,o){return F0(s,o)}function qp(s){const o=s[3];return Zr(o)?o[3]:o}function i_(s){return L0(s[13])}function zw(s){return L0(s[4])}function L0(s){for(;null!==s&&!Zr(s);)s=s[4];return s}function Kc(s,o,u,c,d){if(null!=c){let f,m=!1;Zr(c)?f=c:Ps(c)&&(m=!0,c=c[0]);const y=ln(c);0===s&&null!==u?null==d?Qw(o,u,y):xl(o,u,y,d||null,!0):1===s&&null!==u?xl(o,u,y,d||null,!0):2===s?j0(o,y,m):3===s&&o.destroyNode(y),null!=f&&function(s,o,u,c,d){const f=u[7];f!==ln(u)&&Kc(o,s,c,f,d);for(let y=10;y<u.length;y++){const w=u[y];Xc(w[1],w,s,o,c,f)}}(o,s,f,u,d)}}function s_(s,o){return Rn(s)?s.createText(o):s.createTextNode(o)}function Yw(s,o,u){Rn(s)?s.setValue(o,u):o.textContent=u}function KA(s,o){return s.createComment(function(s){return s.replace(HA,o=>o.replace(P0,"\u200b$1\u200b"))}(o))}function Z0(s,o,u){return Rn(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function o_(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Uo(d,-1)),u.splice(c,1)}function a_(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&o_(d,c),o>0&&(s[u-1][4]=c[4]);const f=Vi(s,10+o);!function(s,o){Xc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const m=f[19];null!==m&&m.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Ww(s,o){if(!(256&o[2])){const u=o[11];Rn(u)&&u.destroyNode&&Xc(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return Nl(s[1],s);for(;o;){let u=null;if(Ps(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Ps(o)&&Nl(o[1],o),o=o[3];null===o&&(o=s),Ps(o)&&Nl(o[1],o),u=o&&o[4]}o=u}}(o)}}function Nl(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof gl)){const f=u[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const y=d[f[m]],w=f[m+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const m=u[f+1],y="function"==typeof m?m(o):ln(o[m]),w=c[d=u[f+2]],E=u[f+3];"boolean"==typeof E?y.removeEventListener(u[f],w,E):E>=0?c[d=E]():c[d=-E].unsubscribe(),f+=2}else{const m=c[d=u[f+1]];u[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Rn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Zr(o[3])){u!==o[3]&&o_(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function Jw(s,o,u){return Kw(s,o.parent,u)}function Kw(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Li(c,u)}function xl(s,o,u,c,d){Rn(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function Qw(s,o,u){Rn(s)?s.appendChild(o,u):o.appendChild(u)}function Xw(s,o,u,c,d){null!==c?xl(s,o,u,c,d):Qw(s,o,u)}function u_(s,o){return Rn(s)?s.parentNode(o):o.parentNode}function c_(s,o,u){return Qc(s,o,u)}function d_(s,o,u){return 40&s.type?Li(s,u):null}let V0,Qc=d_;function eT(s,o){Qc=s,V0=o}function $h(s,o,u,c){const d=Jw(s,c,o),f=o[11],y=c_(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)Xw(f,d,u[w],y,!1);else Xw(f,d,u,y,!1);void 0!==V0&&V0(f,c,o,u,d)}function h_(s,o){if(null!==o){const u=o.type;if(3&u)return Li(o,s);if(4&u)return B0(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return h_(s,c);{const d=s[o.index];return Zr(d)?B0(-1,d):ln(d)}}if(32&u)return r_(o,s)()||ln(s[o.index]);{const c=q0(s,o);return null!==c?Array.isArray(c)?c[0]:h_(qp(s[16]),c):h_(s,o.next)}}return null}function q0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function B0(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return h_(c,d)}return o[7]}function j0(s,o,u){const c=u_(s,o);c&&function(s,o,u,c){Rn(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}function f_(s,o,u,c,d,f,m){for(;null!=u;){const y=c[u.index],w=u.type;if(m&&0===o&&(y&&_i(ln(y),c),u.flags|=4),64!=(64&u.flags))if(8&w)f_(s,o,u.child,c,d,f,!1),Kc(o,s,d,y,f);else if(32&w){const E=r_(u,c);let I;for(;I=E();)Kc(o,s,d,I,f);Kc(o,s,d,y,f)}else 16&w?kl(s,o,c,u,d,f):Kc(o,s,d,y,f);u=m?u.projectionNext:u.next}}function Xc(s,o,u,c,d,f){f_(u,c,s.firstChild,o,d,f,!1)}function kl(s,o,u,c,d,f){const m=u[16],w=m[6].projection[c.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Kc(o,s,d,w[E],f);else f_(s,o,w,m[3],d,f,!0)}function nT(s,o,u){Rn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function H0(s,o,u){Rn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function $0(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const rT="ng-template";function oI(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==$0(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function G0(s){return 4===s.type&&s.value!==rT}function aI(s,o,u){return o===(4!==s.type||u?s.value:rT)}function uI(s,o,u){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(wp(s[o]))return o;return s.length}(d);let m=!1;for(let y=0;y<o.length;y++){const w=o[y];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!aI(s,w,u)||""===w&&1===o.length){if(Xo(c))return!1;m=!0}}else{const E=8&c?w:o[++y];if(8&c&&null!==s.attrs){if(!oI(s.attrs,E,u)){if(Xo(c))return!1;m=!0}continue}const R=z0(8&c?"class":w,d,G0(s),u);if(-1===R){if(Xo(c))return!1;m=!0;continue}if(""!==E){let P;P=R>f?"":d[R+1].toLowerCase();const j=8&c?P:null;if(j&&-1!==$0(j,E,0)||2&c&&E!==P){if(Xo(c))return!1;m=!0}}}}else{if(!m&&!Xo(c)&&!Xo(w))return!1;if(m&&Xo(w))continue;m=!1,c=w|1&c}}return Xo(c)||m}function Xo(s){return 0==(1&s)}function z0(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let y=o[++d];for(;"string"==typeof y;)y=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function iT(s,o,u=!1){for(let c=0;c<o.length;c++)if(uI(s,o[c],u))return!0;return!1}function bx(s,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function J(s,o){return s?":not("+o.trim()+")":o}function p_(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&c){const y=s[++u];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Xo(m)&&(o+=J(f,d),d=""),c=m,f=f||!Xo(c);u++}return""!==d&&(o+=J(f,d)),o}const ut={};function Eu(s){ed(xt(),Ee(),Ar()+s,cl())}function ed(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Ea(o,f,u)}else{const f=s.preOrderHooks;null!==f&&jo(o,f,0,u)}go(u)}function td(s,o){return s<<17|o<<2}function sn(s){return s>>17&32767}function W0(s){return 2|s}function To(s){return(131068&s)>>2}function J0(s,o){return-131069&s|o<<2}function yi(s){return 1|s}function b_(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const m=s.data[f];qo(d),m.contentQueries(2,o[f],f)}}}function Wh(s,o,u,c,d,f,m,y,w,E){const I=o.blueprint.slice();return I[0]=d,I[2]=140|c,al(I),I[3]=I[15]=s,I[8]=u,I[10]=m||s&&s[10],I[11]=y||s&&s[11],I[12]=w||s&&s[12]||null,I[9]=E||s&&s[9]||null,I[6]=f,I[16]=2==o.type?s[16]:I,I}function Iu(s,o,u,c,d){let f=s.data[o];if(null===f)f=jp(s,o,u,c,d),dt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const m=Ki();f.injectorIndex=null===m?-1:m.injectorIndex}return Yr(f,!0),f}function jp(s,o,u,c,d){const f=ou(),m=au(),w=s.data[o]=function(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function Ol(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function rd(s,o,u){cu(o);try{const c=s.viewQuery;null!==c&&_v(1,c,u);const d=s.template;null!==d&&w_(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&b_(s,o),s.staticViewQueries&&_v(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)AI(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Bo()}}function Jh(s,o,u,c){const d=o[2];if(256==(256&d))return;cu(o);const f=cl();try{al(o),function(s){dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&w_(s,o,u,2,c);const m=3==(3&d);if(!f)if(m){const E=s.preOrderCheckHooks;null!==E&&Ea(o,E,null)}else{const E=s.preOrderHooks;null!==E&&jo(o,E,0,null),rr(o,0)}if(function(s){for(let o=i_(s);null!==o;o=zw(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Uo(f,1),d[2]|=1024}}}(o),function(s){for(let o=i_(s);null!==o;o=zw(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];ru(c)&&Jh(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&b_(s,o),!f)if(m){const E=s.contentCheckHooks;null!==E&&Ea(o,E)}else{const E=s.contentHooks;null!==E&&jo(o,E,1),rr(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)go(~d);else{const f=d,m=u[++c],y=u[++c];Ec(m,f),y(2,o[f])}}}finally{go(-1)}}(s,o);const y=s.components;null!==y&&function(s,o){for(let u=0;u<o.length;u++)gv(s,o[u])}(o,y);const w=s.viewQuery;if(null!==w&&_v(2,w,c),!f)if(m){const E=s.viewCheckHooks;null!==E&&Ea(o,E)}else{const E=s.viewHooks;null!==E&&jo(o,E,2),rr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Uo(o[3],-1))}finally{Bo()}}function yI(s,o,u,c){const d=o[10],f=!cl(),m=ol(o);try{f&&!m&&d.begin&&d.begin(),m&&rd(s,o,c),Jh(s,o,u,c)}finally{f&&!m&&d.end&&d.end()}}function w_(s,o,u,c,d){const f=Ar(),m=2&c;try{go(-1),m&&o.length>20&&ed(s,o,20,cl()),u(c,d)}finally{go(f)}}function rv(s,o,u){if(pc(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,u[f],f)}}}function iv(s,o,u){!iu()||(function(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||mo(u,o),_i(c,o);const m=u.initialInputs;for(let y=d;y<f;y++){const w=s.data[y],E=fs(w);E&&CI(o,u,w);const I=kt(o,s,y,u);_i(I,o),null!==m&&DI(0,y-d,I,w,0,m),E&&(hi(u.index,o)[8]=I)}}(s,o,u,Li(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,m=u.index,y=dt.lFrame.currentDirectiveIndex;try{go(m);for(let w=c;w<d;w++){const E=s.data[w],I=o[w];Ac(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Qr(E,I)}}finally{go(-1),Ac(y)}}(s,o,u))}function sv(s,o,u=Li){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],y=-1===m?u(o,s):s[m];s[d++]=y}}}function wi(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pl(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pl(s,o,u,c,d,f,m,y,w,E){const I=20+c,R=I+d,P=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:ut);return u}(I,R),j="function"==typeof E?E():E;return P[1]={type:s,blueprint:P,template:u,queries:null,viewQuery:y,declTNode:o,data:P.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:j,incompleteFirstPass:!1}}function Hp(s,o,u,c){const d=Yp(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&yv(s).push(c,d.length-1))}function C_(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function ss(s,o,u,c,d,f,m,y){const w=Li(o,u);let I,E=o.inputs;!y&&null!=E&&(I=E[c])?(Bi(s,u,I,c,d),tl(o)&&function(s,o){const u=hi(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,o.value||"",c):d,Rn(f)?f.setProperty(w,c,d):Zs(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function lv(s,o,u,c){let d=!1;if(iu()){const f=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const m=c[f];iT(u,m.selectors,!1)&&(d||(d=[]),cn(mo(u,o),s,m.type),fs(m)?(A_(s,u),d.unshift(m)):d.push(m))}return d}(s,o,u),m=null===c?null:{"":-1};if(null!==f){d=!0,hv(u,s.data.length,f.length);for(let I=0;I<f.length;I++){const R=f[I];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,E=Ol(s,o,f.length,null);for(let I=0;I<f.length;I++){const R=f[I];u.mergedAttrs=ml(u.mergedAttrs,R.hostAttrs),yT(s,u,o,E,R),TI(E,R,m),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const P=R.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),E++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,m=[];let y=null,w=null;for(let E=o.directiveStart;E<c;E++){const I=d[E],R=I.inputs,P=null===f||G0(o)?null:fv(R,f);m.push(P),y=C_(R,E,y),w=C_(I.outputs,E,w)}null!==y&&(y.hasOwnProperty("class")&&(o.flags|=16),y.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=m,o.inputs=y,o.outputs=w}(s,u)}m&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Ne("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(u,c,m)}return u.mergedAttrs=ml(u.mergedAttrs,u.attrs),d}function D_(s,o,u,c,d,f){const m=f.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const w=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=w&&y.push(w),y.push(c,d,m)}}function Qr(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function A_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function TI(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;fs(o)&&(u[""]=s)}}function hv(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function yT(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=Pi(d.type)),m=new gl(f,fs(d),null);s.blueprint[c]=m,u[c]=m,D_(s,o,0,c,Ol(s,u,d.hostVars,ut),d)}function CI(s,o,u){const c=Li(o,s),d=wi(u),f=s[10],m=zp(s,Wh(s,d,null,u.onPush?64:16,c,o,f,f.createRenderer(c,u),null,null));s[o.index]=m}function $p(s,o,u,c,d,f,m){if(null==f)Rn(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const y=null==m?re(f):m(f,c||"",d);Rn(s)?s.setAttribute(o,d,y,u):u?o.setAttributeNS(u,d,y):o.setAttribute(d,y)}}function DI(s,o,u,c,d,f){const m=f[o];if(null!==m){const y=c.setInput;for(let w=0;w<m.length;){const E=m[w++],I=m[w++],R=m[w++];null!==y?c.setInput(u,R,E,I):u[I]=R}}}function fv(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function vT(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function gv(s,o){const u=hi(o,s);if(ru(u)){const c=u[1];80&u[2]?Jh(c,u,c.template,u[8]):u[5]>0&&S_(u)}}function S_(s){for(let c=i_(s);null!==c;c=zw(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const m=f[1];Jh(m,f,m.template,f[8])}else f[5]>0&&S_(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=hi(u[c],s);ru(d)&&d[5]>0&&S_(d)}}function AI(s,o){const u=hi(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),rd(c,u,u[8])}function zp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function M_(s){for(;s;){s[2]|=64;const o=qp(s);if(Cr(s)&&!o)return s;s=o}return null}function mv(s,o,u){const c=o[10];c.begin&&c.begin();try{Jh(s,o,s.template,u)}catch(d){throw vv(o,d),d}finally{c.end&&c.end()}}function wT(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=N0(u),d=c[1];yI(d,c,d.template,u)}}(s[8])}function _v(s,o,u){qo(0),o(s,u)}const TT=(()=>Promise.resolve(null))();function Yp(s){return s[7]||(s[7]=[])}function yv(s){return s.cleanup||(s.cleanup=[])}function vv(s,o){const u=s[9],c=u?u.get(jh,null):null;c&&c.handleError(o)}function Bi(s,o,u,c,d){for(let f=0;f<u.length;){const m=u[f++],y=u[f++],w=o[m],E=s.data[m];null!==E.setInput?E.setInput(w,d,c,y):w[y]=d}}function Va(s,o,u){const c=ba(o,s);Yw(s[11],c,u)}function Fl(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?f=y:1==f?d=z(d,y):2==f&&(c=z(c,y+": "+o[++m]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const id=new On("INJECTOR",-1);class bv{get(o,u=Vt){if(u===Vt){const c=new Error(`NullInjectorError: No provider for ${X(o)}!`);throw c.name="NullInjectorError",c}return u}}const Su=new On("Set Injector scope."),sd={},wv={};let Wp;function Jp(){return void 0===Wp&&(Wp=new bv),Wp}function Tv(s,o=null,u=null,c){return new SI(s,u,o||Jp(),c)}class SI{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&ws(u,y=>this.processProvider(y,o,u)),ws([o],y=>this.processInjectorType(y,[],f)),this.records.set(id,od(void 0,this));const m=this.records.get(Su);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof o?null:X(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Vt,c=Ve.Default){this.assertNotDestroyed();const d=_t(this),f=$n(void 0);try{if(!(c&Ve.SkipSelf)){let y=this.records.get(o);if(void 0===y){const w=("function"==typeof(s=o)||"object"==typeof s&&s instanceof On)&&en(o);y=w&&this.injectableDefInScope(w)?od(Qp(o),sd):null,this.records.set(o,y)}if(null!=y)return this.hydrate(o,y)}return(c&Ve.Self?Jp():this.parent).get(o,u=c&Ve.Optional&&u===Vt?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[sr]=m[sr]||[]).unshift(X(o)),d)throw m;return Hs(m,o,"R3InjectorError",this.source)}throw m}finally{$n(f),_t(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(X(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=H(o)))return!1;let d=Yi(o);const f=null==d&&o.ngModule||void 0,m=void 0===f?o:f,y=-1!==c.indexOf(m);if(void 0!==f&&(d=Yi(f)),null==d)return!1;if(null!=d.imports&&!y){let I;c.push(m);try{ws(d.imports,R=>{this.processInjectorType(R,u,c)&&(void 0===I&&(I=[]),I.push(R))})}finally{}if(void 0!==I)for(let R=0;R<I.length;R++){const{ngModule:P,providers:j}=I[R];ws(j,Y=>this.processProvider(Y,P,j||$))}}this.injectorDefTypes.add(m);const w=Pi(m)||(()=>new m);this.records.set(m,od(w,sd));const E=d.providers;if(null!=E&&!y){const I=o;ws(E,R=>this.processProvider(R,I,E))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,c){let d=ad(o=H(o))?o:H(o&&o.provide);const f=Ev(s=o)?od(void 0,s.useValue):od(Dv(s),sd);var s;if(ad(o)||!0!==o.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=od(void 0,sd,!0),m.factory=()=>zo(m.multi),this.records.set(d,m)),d=o,m.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===sd&&(u.value=wv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=H(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Qp(s){const o=en(s),u=null!==o?o.factory:Pi(s);if(null!==u)return u;if(s instanceof On)throw new Error(`Token ${X(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=qs(o,"?");throw new Error(`Can't resolve all parameters for ${X(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[Re]||s[Hn]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Dv(s,o,u){let c;if(ad(s)){const d=H(s);return Pi(d)||Qp(d)}if(Ev(s))c=()=>H(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...zo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Dn(H(s.useExisting));else{const d=H(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Pi(d)||Qp(d);c=()=>new d(...zo(s.deps))}return c}function od(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Ev(s){return null!==s&&"object"==typeof s&&js in s}function ad(s){return"function"==typeof s}const ld=function(s,o,u){return function(s,o=null,u=null,c){const d=Tv(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let Un=(()=>{class s{static create(u,c){return Array.isArray(u)?ld(u,c,""):ld(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=Vt,s.NULL=new bv,s.\u0275prov=un({token:s,providedIn:"any",factory:()=>Dn(id)}),s.__NG_ELEMENT_ID__=-1,s})();function Z_(s,o){Da(N0(s)[1],Cn())}function dd(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(fs(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const m=s;m.inputs=Ov(s.inputs),m.declaredInputs=Ov(s.declaredInputs),m.outputs=Ov(s.outputs);const y=d.hostBindings;y&&ZI(s,y);const w=d.viewQuery,E=d.contentQueries;if(w&&Ir(s,w),E&&OT(s,E),de(s.inputs,d.inputs),de(s.declaredInputs,d.declaredInputs),de(s.outputs,d.outputs),fs(d)&&d.data.animation){const I=s.data;I.animation=(I.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const y=f[m];y&&y.ngInherit&&y(s),y===dd&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=ml(d.hostAttrs,u=ml(u,d.hostAttrs))}}(c)}function Ov(s){return s===G?{}:s===$?[]:s}function Ir(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function OT(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function ZI(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let og=null;function hd(){if(!og){const s=Kt.Symbol;if(s&&s.iterator)og=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(og=c)}}}return og}class Ts{constructor(o){this.wrapped=o}static wrap(o){return new Ts(o)}static unwrap(o){return Ts.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof Ts}}function rf(s){return!!Fv(s)&&(Array.isArray(s)||!(s instanceof Map)&&hd()in s)}function Fv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Eo(s,o,u){return s[o]=u}function Ti(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Pu(s,o,u,c){const d=Ti(s,o,u);return Ti(s,o+1,c)||d}function ag(s,o,u,c){const d=Ee();return Ti(d,_s(),o)&&(xt(),function(s,o,u,c,d,f){const m=Li(s,o);$p(o[11],m,f,s.value,u,c,d)}(Yn(),d,s,o,u,c)),ag}function sf(s,o,u,c){return Ti(s,_s(),u)?o+re(u)+c:ut}function gd(s,o,u,c,d,f,m,y,w,E){const R=function(s,o,u,c,d,f){const m=Pu(s,o,u,c);return Pu(s,o+2,d,f)||m}(s,Wr(),u,d,m,w);return Er(4),R?o+re(u)+c+re(d)+f+re(m)+y+re(w)+E:ut}function jv(s,o,u,c,d,f,m,y){const w=Ee(),E=xt(),I=s+20,R=E.firstCreatePass?function(s,o,u,c,d,f,m,y,w){const E=o.consts,I=Iu(o,s,4,m||null,gs(E,y));lv(o,u,I,gs(E,w)),Da(o,I);const R=I.tViews=Pl(2,I,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,E);return null!==o.queries&&(o.queries.template(o,I),R.queries=o.queries.embeddedTView(I)),I}(I,E,w,o,u,c,d,f,m):E.data[I];Yr(R,!1);const P=w[11].createComment("");$h(E,w,P,R),_i(P,w),zp(w,w[I]=vT(P,w,P,R)),Ur(R)&&iv(E,w,R),null!=m&&sv(w,R,y)}function yd(s){return Ji(dt.lFrame.contextLView,20+s)}function hg(s,o=Ve.Default){const u=Ee();return null===u?Dn(s,o):bs(Cn(),u,H(s),o)}function Wv(s,o,u){const c=Ee();return Ti(c,_s(),o)&&ss(xt(),Yn(),c,s,o,c[11],u,!1),Wv}function Ba(s,o,u,c,d){const m=d?"class":"style";Bi(s,u,o.inputs[m],m,c)}function Bl(s,o,u,c){const d=Ee(),f=xt(),m=20+s,y=d[11],w=d[m]=Z0(y,o,dt.lFrame.currentNamespace),E=f.firstCreatePass?function(s,o,u,c,d,f,m){const y=o.consts,E=Iu(o,s,2,d,gs(y,f));return lv(o,u,E,gs(y,m)),null!==E.attrs&&Fl(E,E.attrs,!1),null!==E.mergedAttrs&&Fl(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(m,f,d,0,o,u,c):f.data[m];Yr(E,!0);const I=E.mergedAttrs;null!==I&&gh(y,w,I);const R=E.classes;null!==R&&H0(y,w,R);const P=E.styles;null!==P&&nT(y,w,P),64!=(64&E.flags)&&$h(f,d,w,E),0===dt.lFrame.elementDepthCount&&_i(w,d),dt.lFrame.elementDepthCount++,Ur(E)&&(iv(f,d,E),rv(f,E,d)),null!==c&&sv(d,E)}function fg(){let s=Cn();au()?wa():(s=s.parent,Yr(s,!1));const o=s;dt.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(Da(u,s),pc(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Ba(u,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Ba(u,o,Ee(),o.stylesWithoutHost,!1)}function Jv(s,o,u,c){Bl(s,o,u,c),fg()}function lf(s,o,u){const c=Ee(),d=xt(),f=s+20,m=d.firstCreatePass?function(s,o,u,c,d){const f=o.consts,m=gs(f,c),y=Iu(o,s,8,"ng-container",m);return null!==m&&Fl(y,m,!0),lv(o,u,y,gs(f,d)),null!==o.queries&&o.queries.elementStart(o,y),y}(f,d,c,o,u):d.data[f];Yr(m,!0);const y=c[f]=c[11].createComment("");$h(d,c,y,m),_i(y,c),Ur(m)&&(iv(d,c,m),rv(d,m,c)),null!=u&&sv(c,m)}function q_(){let s=Cn();const o=xt();au()?wa():(s=s.parent,Yr(s,!1)),o.firstCreatePass&&(Da(o,s),pc(s)&&o.queries.elementEnd(s))}function jl(){return Ee()}function Ao(s){return!!s&&"function"==typeof s.then}function cf(s){return!!s&&"function"==typeof s.subscribe}const Hl=cf;function B_(s,o,u,c){const d=Ee(),f=xt(),m=Cn();return function(s,o,u,c,d,f,m,y){const w=Ur(c),I=s.firstCreatePass&&yv(s),R=o[8],P=Yp(o);let j=!0;if(3&c.type||y){const oe=Li(c,o),Ae=y?y(oe):oe,_e=P.length,tt=y?bt=>y(ln(bt[c.index])):c.index;if(Rn(u)){let bt=null;if(!y&&w&&(bt=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===u&&d[f+1]===c){const y=o[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,c.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=f,bt.__ngLastListenerFn__=f,j=!1;else{f=gg(c,o,R,f,!1);const $t=u.listen(Ae,d,f);P.push(f,$t),I&&I.push(d,tt,_e,_e+1)}}else f=gg(c,o,R,f,!0),Ae.addEventListener(d,f,m),P.push(f),I&&I.push(d,tt,_e,m)}else f=gg(c,o,R,f,!1);const Y=c.outputs;let he;if(j&&null!==Y&&(he=Y[d])){const oe=he.length;if(oe)for(let Ae=0;Ae<oe;Ae+=2){const kr=o[he[Ae]][he[Ae+1]].subscribe(f),to=P.length;P.push(f,kr),I&&I.push(d,c.index,to,-(to+1))}}}(f,d,d[11],m,s,o,!!u,c),B_}function H_(s,o,u,c){try{return!1!==u(c)}catch(d){return vv(s,d),!1}}function gg(s,o,u,c,d){return function f(m){if(m===Function)return c;const y=2&s.flags?hi(s.index,o):o;0==(32&o[2])&&M_(y);let w=H_(o,0,c,m),E=f.__ngNextListenerFn__;for(;E;)w=H_(o,0,E,m)&&w,E=E.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Qv(s=1){return function(s){return(dt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,dt.lFrame.contextLView))[8]}(s)}function JT(s,o){let u=null;const c=function(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?iT(s,f,!0):bx(c,f))return d}else u=d}return u}function mg(s){const o=Ee()[16][6];if(!o.projection){const c=o.projection=qs(s?s.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const m=s?JT(f,s):0;null!==m&&(d[m]?d[m].projectionNext=f:c[m]=f,d[m]=f),f=f.next}}}function df(s,o=0,u){const c=Ee(),d=xt(),f=Iu(d,20+s,16,null,u||null);null===f.projection&&(f.projection=o),wa(),64!=(64&f.flags)&&function(s,o,u){kl(o[11],0,o,u,Jw(s,u,o),c_(u.parent||o[6],u,o))}(d,c,f)}function ni(s,o,u){return _g(s,"",o,"",u),ni}function _g(s,o,u,c,d){const f=Ee(),m=sf(f,o,u,c);return m!==ut&&ss(xt(),Yn(),f,s,m,f[11],d,!1),_g}function XT(s,o,u,c,d){const f=s[u+1],m=null===o;let y=c?sn(f):To(f),w=!1;for(;0!==y&&(!1===w||m);){const I=s[y+1];eC(s[y],o)&&(w=!0,s[y+1]=c?yi(I):W0(I)),y=c?sn(I):To(I)}w&&(s[u+1]=c?W0(f):yi(f))}function eC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&bo(s,o)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tC(s){return s.substring(jr.key,jr.keyEnd)}function ff(s,o){const u=jr.textEnd;return u===o?-1:(o=jr.keyEnd=function(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,jr.key=o,u),Dd(s,o,u))}function Dd(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function wg(s,o,u){return os(s,o,u,!1),wg}function Tg(s,o){return os(s,o,null,!0),Tg}function Js(s){So(Jn,ta,s,!0)}function ta(s,o){for(let u=function(s){return function(s){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=s.length}(s),ff(s,Dd(s,0,jr.textEnd))}(o);u>=0;u=ff(o,u))Jn(s,tC(o),!0)}function os(s,o,u,c){const d=Ee(),f=xt(),m=Er(2);f.firstUpdatePass&&mf(f,s,m,c),o!==ut&&Ti(d,m,o)&&Ed(f,f.data[Ar()],d,d[11],s,d[m+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=X(Jo(s)))),s}(o,u),c,m)}function So(s,o,u,c){const d=xt(),f=Er(2);d.firstUpdatePass&&mf(d,null,f,c);const m=Ee();if(u!==ut&&Ti(m,f,u)){const y=d.data[Ar()];if(n1(y,c)&&!G_(d,f)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(u=z(w,u||"")),Ba(d,y,m,u,c)}else!function(s,o,u,c,d,f,m,y){d===ut&&(d=$);let w=0,E=0,I=0<d.length?d[0]:null,R=0<f.length?f[0]:null;for(;null!==I||null!==R;){const P=w<d.length?d[w+1]:void 0,j=E<f.length?f[E+1]:void 0;let he,Y=null;I===R?(w+=2,E+=2,P!==j&&(Y=R,he=j)):null===R||null!==I&&I<R?(w+=2,Y=I):(E+=2,Y=R,he=j),null!==Y&&Ed(s,o,u,c,Y,he,m,y),I=w<d.length?d[w]:null,R=E<f.length?f[E]:null}}(d,y,m,m[11],m[f+1],m[f+1]=function(s,o,u){if(null==u||""===u)return $;const c=[],d=Jo(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,f)}}function G_(s,o){return o>=s.expandoStartIndex}function mf(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[Ar()],m=G_(s,u);n1(f,c)&&null===o&&!m&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=$l(u=z_(null,s,o,u,c),o.attrs,c),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(u=z_(d,s,o,u,c),null===f){let w=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==To(c))return s[sn(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=z_(null,s,o,w[1],c),w=$l(w,o.attrs,c),function(s,o,u,c){s[sn(u?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else f=function(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=$l(c,s[f].hostAttrs,u);return $l(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function(s,o,u,c,d,f){let m=f?o.classBindings:o.styleBindings,y=sn(m),w=To(m);s[c]=u;let I,E=!1;if(Array.isArray(u)){const R=u;I=R[1],(null===I||bo(R,I)>0)&&(E=!0)}else I=u;if(d)if(0!==w){const P=sn(s[y+1]);s[c+1]=td(P,y),0!==P&&(s[P+1]=J0(s[P+1],c)),s[y+1]=function(s,o){return 131071&s|o<<17}(s[y+1],c)}else s[c+1]=td(y,0),0!==y&&(s[y+1]=J0(s[y+1],c)),y=c;else s[c+1]=td(w,0),0===y?y=c:s[w+1]=J0(s[w+1],c),w=c;E&&(s[c+1]=W0(s[c+1])),XT(s,I,c,!0),XT(s,I,c,!1),function(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&bo(f,o)>=0&&(u[c+1]=yi(u[c+1]))}(o,I,s,c,f),m=td(y,w),f?o.classBindings=m:o.styleBindings=m}(d,f,o,u,m,c)}}function z_(s,o,u,c,d){let f=null;const m=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<m&&(f=o[y],c=$l(c,f.hostAttrs,d),f!==s);)y++;return null!==s&&(u.directiveStylingLast=y),c}function $l(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jn(s,m,!!u||o[++f]))}return void 0===s?null:s}function Ed(s,o,u,c,d,f,m,y){if(!(3&o.type))return;const w=s.data,E=w[y+1];Cg(function(s){return 1==(1&s)}(E)?Gl(w,o,u,d,To(E),m):void 0)||(Cg(f)||function(s){return 2==(2&s)}(E)&&(f=Gl(w,null,u,d,y,m)),function(s,o,u,c,d){const f=Rn(s);if(o)d?f?s.addClass(u,c):u.classList.add(c):f?s.removeClass(u,c):u.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Ua.DashCase;if(null==d)f?s.removeStyle(u,c,m):u.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=Ua.Important),f?s.setStyle(u,c,d,m):u.style.setProperty(c,d,y?"important":"")}}}(c,m,ba(Ar(),u),d,f))}function Gl(s,o,u,c,d,f){const m=null===o;let y;for(;d>0;){const w=s[d],E=Array.isArray(w),I=E?w[1]:w,R=null===I;let P=u[d+1];P===ut&&(P=R?$:void 0);let j=R?Kn(P,c):I===c?P:void 0;if(E&&!Cg(j)&&(j=Kn(w,c)),Cg(j)&&(y=j,m))return y;const Y=s[d+1];d=m?sn(Y):To(Y)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(y=Kn(w,c))}return y}function Cg(s){return void 0!==s}function n1(s,o){return 0!=(s.flags&(o?16:32))}function Id(s,o=""){const u=Ee(),c=xt(),d=s+20,f=c.firstCreatePass?Iu(c,d,1,o,null):c.data[d],m=u[d]=s_(u[11],o);$h(c,u,m,f),Yr(f,!1)}function Y_(s){return Dg("",s,""),Y_}function Dg(s,o,u){const c=Ee(),d=sf(c,s,o,u);return d!==ut&&Va(c,Ar(),d),Dg}function r1(s,o,u,c,d,f,m,y,w){const E=Ee(),I=gd(E,s,o,u,c,d,f,m,y,w);return I!==ut&&Va(E,Ar(),I),r1}function dC(s,o,u){So(Jn,ta,sf(Ee(),s,o,u),!0)}function yf(s,o,u,c,d,f,m,y,w){So(Jn,ta,gd(Ee(),s,o,u,c,d,f,m,y,w),!0)}function wn(s,o,u){const c=Ee();return Ti(c,_s(),o)&&ss(xt(),Yn(),c,s,o,c[11],u,!0),wn}const ja=void 0;var Mg=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Zu={};function Q_(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=a1(o);if(u)return u;const c=o.split("-")[0];if(u=a1(c),u)return u;if("en"===c)return Mg;throw new Error(`Missing locale data for the locale "${s}".`)}function DC(s){return Q_(s)[ft.PluralCase]}function a1(s){return s in Zu||(Zu[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),Zu[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const oS=["zero","one","two","few","many"],xg="en-US",vr={marker:"element"},vf={marker:"ICU"};var ar=(()=>((ar=ar||{})[ar.SHIFT=2]="SHIFT",ar[ar.APPEND_EAGERLY=1]="APPEND_EAGERLY",ar[ar.COMMENT=2]="COMMENT",ar))();let na=xg;function kg(s){(function(s,o){null==s&&Bt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(na=s.toLowerCase().replace(/_/g,"-"))}function bf(s,o,u){const c=o.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?d_(s,0,u):ln(u[d])}function u1(s,o,u,c,d){const f=o.insertBeforeIndex;if(Array.isArray(f)){let m=c,y=null;if(3&o.type||(y=m,m=d),null!==m&&0==(2&o.flags))for(let w=1;w<f.length;w++)xl(s,m,u[f[w]],y,!1)}}function l1(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const c=s[u];c1(c)||uS(c,o)&&null===lS(c)&&ey(c,o.index)}}function c1(s){return!(64&s.type)}function uS(s,o){return c1(o)||s.index>o.index}function lS(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function ey(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(eT(bf,u1),s.insertBeforeIndex=o)}function wf(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function IC(s,o,u){const c=jp(s,u,64,null,null);return l1(o,c),c}function Rg(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function SC(s){return s>>>17}function d1(s){return(131070&s)>>>1}let Og=0,Pg=0;function NC(s,o,u,c){const d=u[11];let m,f=null;for(let y=0;y<o.length;y++){const w=o[y];if("string"==typeof w){const E=o[++y];null===u[E]&&(u[E]=s_(d,w))}else if("number"==typeof w)switch(1&w){case 0:const E=SC(w);let I,R;if(null===f&&(f=E,m=u_(d,c)),E===f?(I=c,R=m):(I=null,R=ln(u[E])),null!==R){const he=d1(w);xl(d,R,u[he],I,!1);const Ae=wf(s,he);if(null!==Ae&&"object"==typeof Ae){const _e=Rg(Ae,u);null!==_e&&NC(s,Ae.create[_e],u,u[Ae.anchorIdx])}}break;case 1:const j=o[++y],Y=o[++y];$p(d,ba(w>>>1,u),null,null,j,Y,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case vf:const E=o[++y],I=o[++y];null===u[I]&&_i(u[I]=KA(d,E),u);break;case vr:const R=o[++y],P=o[++y];null===u[P]&&_i(u[P]=Z0(d,R,null),u)}}}function xC(s,o,u,c,d){for(let f=0;f<u.length;f++){const m=u[f],y=u[++f];if(m&d){let w="";for(let E=f+1;E<=f+y;E++){const I=u[E];if("string"==typeof I)w+=I;else if("number"==typeof I)if(I<0)w+=re(o[c-I]);else{const R=I>>>2;switch(3&I){case 1:const P=u[++E],j=u[++E],Y=s.data[R];"string"==typeof Y?$p(o[11],o[R],null,Y,P,w,j):ss(s,Y,o,P,w,o[11],j,!1);break;case 0:const he=o[R];null!==he&&Yw(o[11],he,w);break;case 2:ra(s,wf(s,R),o,w);break;case 3:f1(s,wf(s,R),c,o)}}}}else{const w=u[f+1];if(w>0&&3==(3&w)){const I=wf(s,w>>>2);o[I.currentCaseLViewIndex]<0&&f1(s,I,c,o)}}f+=y}}function f1(s,o,u,c){let d=c[o.currentCaseLViewIndex];if(null!==d){let f=Og;d<0&&(d=c[o.currentCaseLViewIndex]=~d,f=-1),xC(s,c,o.update[d],u,f)}}function ra(s,o,u,c){const d=function(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const c=function(s,o){const u=DC(o)(parseInt(s,10)),c=oS[u];return void 0!==c?c:"other"}(o,na);u=s.cases.indexOf(c),-1===u&&"other"!==c&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,c);if(Rg(o,u)!==d&&(kC(s,o,u),u[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const m=u[o.anchorIdx];m&&NC(s,o.create[d],u,m)}}function kC(s,o,u){let c=Rg(o,u);if(null!==c){const d=o.remove[c];for(let f=0;f<d.length;f++){const m=d[f];if(m>0){const y=ba(m,u);null!==y&&j0(u[11],y)}else kC(s,wf(s,~m),u)}}}function Uu(){const s=[];let u,c,o=-1;function f(y,w){o=0;const E=Rg(y,w);c=null!==E?y.remove[E]:$}function m(){if(o<c.length){const y=c[o++];return y>0?u[y]:(s.push(o,c),f(u[1].data[~y],u),m())}return 0===s.length?null:(c=s.pop(),o=s.pop(),m())}return function(y,w){for(u=w;s.length;)s.pop();return f(y.value,w),m}}const ty=/\ufffd(\d+):?\d*\ufffd/gi,hr=/\ufffd(\d+)\ufffd/,ia=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ii=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Qs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Md=/\uE500/g;function Nd(s,o,u,c,d,f,m){const y=Ol(s,c,1,null);let w=y<<ar.SHIFT,E=Ki();o===E&&(E=null),null===E&&(w|=ar.APPEND_EAGERLY),m&&(w|=ar.COMMENT,function(s){void 0===F0&&(F0=s())}(Uu)),d.push(w,null===f?"":f);const I=jp(s,y,m?32:1,null===f?"":f,null);l1(u,I);const R=I.index;return Yr(I,!1),null!==E&&o!==E&&function(s,o){let u=s.insertBeforeIndex;null===u?(eT(bf,u1),u=s.insertBeforeIndex=[null,o]):(function(s,o,u){s!=o&&Bt(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(E,R),I}function fS(s,o,u,c,d,f,m){const y=m.match(ty),w=Nd(s,o,u,f,c,y?null:m,!1);y&&xd(d,m,w.index,null,0,null)}function xd(s,o,u,c,d,f){const m=s.length,y=m+1;s.push(null,null);const w=m+2,E=o.split(ty);let I=0;for(let R=0;R<E.length;R++){const P=E[R];if(1&R){const j=d+parseInt(P,10);s.push(-1-j),I|=Fg(j)}else""!==P&&s.push(P)}return s.push(u<<2|(c?1:0)),c&&s.push(c,f),s[m]=I,s[y]=s.length-w,I}function Fg(s){return 1<<Math.min(s,31)}function PC(s){let o,f,u="",c=0,d=!1;for(;null!==(o=Ii.exec(s));)d?o[0]===`\ufffd/*${f}\ufffd`&&(c=o.index,d=!1):(u+=s.substring(c,o.index+o[0].length),f=o[1],d=!0);return u+=s.substr(c),u}function Yl(s,o,u,c,d,f){let m=0;const y={type:d.type,currentCaseLViewIndex:Ol(s,o,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(s,o,u){s.push(Fg(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,d,f),function(s,o,u){const c=s.data[o];null===c?s.data[o]=u:c.value=u}(s,f,y);const w=d.values;for(let E=0;E<w.length;E++){const I=w[E],R=[];for(let P=0;P<I.length;P++){const j=I[P];if("string"!=typeof j){const Y=R.push(j)-1;I[P]=`\x3c!--\ufffd${Y}\ufffd--\x3e`}}m=FC(s,y,o,u,c,d.cases[E],I.join(""),R)|m}m&&function(s,o,u){s.push(o,1,u<<2|3)}(u,m,f)}function pS(s){const o=[],u=[];let c=1,d=0;const f=qu(s=s.replace(ia,function(m,y,w){return c="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let m=0;m<f.length;){let y=f[m++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&o.push(y);const w=qu(f[m++]);o.length>u.length&&u.push(w)}return{type:c,mainBinding:d,cases:o,values:u}}function qu(s){if(!s)return[];let o=0;const u=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(s);){const y=f.index;if("}"==f[0]){if(u.pop(),0==u.length){const w=s.substring(o,y);ia.test(w)?c.push(pS(w)):c.push(w),o=y+1}}else{if(0==u.length){const w=s.substring(o,y);c.push(w),o=y+1}u.push("{")}}const m=s.substring(o);return c.push(m),c}function FC(s,o,u,c,d,f,m,y){const w=[],E=[],I=[];o.cases.push(f),o.create.push(w),o.remove.push(E),o.update.push(I);const P=Op(ho()).getInertBodyElement(m),j=vn(P)||P;return j?ny(s,o,u,c,w,E,I,j,d,y,0):0}function ny(s,o,u,c,d,f,m,y,w,E,I){let R=0,P=y.firstChild;for(;P;){const j=Ol(s,u,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const Y=P,he=Y.tagName.toLowerCase();if(Fp.hasOwnProperty(he)){Ha(d,vr,he,w,j),s.data[j]=he;const tt=Y.attributes;for(let bt=0;bt<tt.length;bt++){const $t=tt.item(bt),kr=$t.name.toLowerCase();$t.value.match(ty)?M.hasOwnProperty(kr)&&xd(m,$t.value,j,$t.name,0,v[kr]?Il:p[kr]?zc:null):LC(d,j,$t)}R=ny(s,o,u,c,d,f,m,P,j,E,I+1)|R,p1(f,j,I)}break;case Node.TEXT_NODE:const oe=P.textContent||"",Ae=oe.match(ty);Ha(d,null,Ae?"":oe,w,j),p1(f,j,I),Ae&&(R=xd(m,oe,j,null,0,null)|R);break;case Node.COMMENT_NODE:const _e=hr.exec(P.textContent||"");if(_e){const bt=E[parseInt(_e[1],10)];Ha(d,vf,"",w,j),Yl(s,u,c,w,bt,j),Cs(f,j,I)}}P=P.nextSibling}return R}function p1(s,o,u){0===u&&s.push(o)}function Cs(s,o,u){0===u&&(s.push(~o),s.push(o))}function Ha(s,o,u,c,d){null!==o&&s.push(o),s.push(u,d,function(s,o,u){return 0|o<<17|u<<1}(0,c,d))}function LC(s,o,u){s.push(o<<1|1,u.name,u.value)}function iy(s,o,u=-1){const c=xt(),d=Ee(),f=20+s,m=gs(c.consts,o),y=Ki();c.firstCreatePass&&function(s,o,u,c,d,f){const m=Ki(),y=[],w=[],E=[[]],I=function(s){return s.replace(Md," ")}(d=function(s,o){if(function(s){return-1===s}(o))return PC(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return PC(s.substring(u,c))}}(d,f)).split(Qs);for(let R=0;R<I.length;R++){let P=I[R];if(0==(1&R)){const j=qu(P);for(let Y=0;Y<j.length;Y++){let he=j[Y];if(0==(1&Y)){const oe=he;""!==oe&&fS(s,m,E[0],y,w,u,oe)}else{const oe=he;if("object"!=typeof oe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Yl(s,u,w,o,oe,Nd(s,m,E[0],u,y,"",!0).index)}}}else{const j=47===P.charCodeAt(0),he=(P.charCodeAt(j?1:0),20+Number.parseInt(P.substring(j?2:1)));if(j)E.shift(),Yr(Ki(),!1);else{const oe=IC(s,E[0],he);E.unshift([]),Yr(oe,!0)}}}s.data[c]={create:y,update:w}}(c,null===y?0:y.index,d,f,m,u);const w=c.data[f],I=Kw(c,y===d[6]?null:y,d);(function(s,o,u,c){const d=s[11];for(let f=0;f<o.length;f++){const m=o[f++],y=o[f],w=(m&ar.COMMENT)===ar.COMMENT,E=(m&ar.APPEND_EAGERLY)===ar.APPEND_EAGERLY,I=m>>>ar.SHIFT;let R=s[I];null===R&&(R=s[I]=w?d.createComment(y):s_(d,y)),E&&null!==u&&xl(d,u,R,c,!1)}})(d,w.create,I,y&&8&y.type?d[y.index]:null),Ca(!0)}function y1(s,o,u){iy(s,o,u),Ca(!1)}function v1(s){return function(s){s&&(Og|=1<<Math.min(Pg,31)),Pg++}(Ti(Ee(),_s(),s)),v1}function sy(s){!function(s,o,u){if(Pg>0){const c=s.data[u];xC(s,o,Array.isArray(c)?c:c.update,Wr()-Pg-1,Og)}Og=0,Pg=0}(xt(),Ee(),s+20)}function oy(s,o,u,c,d){if(s=H(s),Array.isArray(s))for(let f=0;f<s.length;f++)oy(s[f],o,u,c,d);else{const f=xt(),m=Ee();let y=ad(s)?s:H(s.provide),w=Dv(s);const E=Cn(),I=1048575&E.providerIndexes,R=E.directiveStart,P=E.providerIndexes>>20;if(ad(s)||!s.multi){const j=new gl(w,d,hg),Y=Sf(y,o,d?I:I+P,R);-1===Y?(cn(mo(E,m),f,y),Hi(f,s,o.length),o.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(j),m.push(j)):(u[Y]=j,m[Y]=j)}else{const j=Sf(y,o,I+P,R),Y=Sf(y,o,I,I+P),he=j>=0&&u[j],oe=Y>=0&&u[Y];if(d&&!oe||!d&&!he){cn(mo(E,m),f,y);const Ae=function(s,o,u,c,d){const f=new gl(s,u,hg);return f.multi=[],f.index=o,f.componentProviders=0,b1(f,d,c&&!u),f}(d?HC:w1,u.length,d,c,w);!d&&oe&&(u[Y].providerFactory=Ae),Hi(f,s,o.length,0),o.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(Ae),m.push(Ae)}else Hi(f,s,j>-1?j:Y,b1(u[d?Y:j],w,!d&&c));!d&&c&&oe&&u[Y].componentProviders++}}}function Hi(s,o,u,c){const d=ad(o);if(d||function(s){return!!s.useClass}(o)){const m=(o.useClass||o).prototype.ngOnDestroy;if(m){const y=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const w=y.indexOf(u);-1===w?y.push(u,[c,m]):y[w+1].push(c,m)}else y.push(u,m)}}}function b1(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Sf(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function w1(s,o,u,c){return $a(this.multi,[])}function HC(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=kt(u,u[1],this.providerFactory.index,c);f=y.slice(0,m),$a(d,f);for(let w=m;w<y.length;w++)f.push(y[w])}else f=[],$a(d,f);return f}function $a(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function T1(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=xt();if(c.firstCreatePass){const d=fs(s);oy(u,c.data,c.blueprint,d,!0),oy(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class $C{}const C1="ngComponent";class Pd{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${X(s)}. Did you add it to @NgModule.entryComponents?`);return o[C1]=s,o}(o)}}let Wl=(()=>{class s{}return s.NULL=new Pd,s})();function ay(...s){}function Nf(s,o){return new Ga(Li(s,o))}const GC=function(){return Nf(Cn(),Ee())};let Ga=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=GC,s})();function zC(s){return s instanceof Ga?s.nativeElement:s}class oa{}let ly=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>E1(),s})();const E1=function(){const s=Ee(),u=hi(Cn().index,s);return function(s){return s[11]}(Ps(u)?u:s)};let xf=(()=>{class s{}return s.\u0275prov=un({token:s,providedIn:"root",factory:()=>null}),s})();class cy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const I1=new cy("12.2.13");class S1{constructor(){}supports(o){return rf(o)}create(o){return new TS(o)}}const M1=(s,o)=>o;class TS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||M1}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const m=!c||u&&u.currentIndex<JC(c,d,f)?u:c,y=JC(m,d,f),w=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{f||(f=[]);const E=y-d,I=w-d;if(E!=I){for(let P=0;P<E;P++){const j=P<f.length?f[P]:f[P]=0,Y=j+P;I<=Y&&Y<E&&(f[P]=j+1)}f[m.previousIndex]=I-E}}y!==w&&o(m,y,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!rf(o))throw new Error(`Error trying to diff '${X(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)f=o[y],m=this._trackByFn(y,f),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,f,m,y)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,m,y),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[hd()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,y=>{m=this._trackByFn(d,y),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,y,m,d)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,m,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new YC(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new dy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class YC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class dy{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new WC,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JC(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class N1{constructor(){}supports(o){return o instanceof Map||Fv(o)}create(){return new CS}}class CS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Fv(o)))throw new Error(`Error trying to diff '${X(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new KC(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class KC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QC(){return new Bu([new S1])}let Bu=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||QC()),deps:[[s,new Vr,new Ra]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:QC}),s})();function hy(){return new Fd([new N1])}let Fd=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||hy()),deps:[[s,new Vr,new Ra]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:hy}),s})();function qg(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(ln(f)),Zr(f))for(let y=10;y<f.length;y++){const w=f[y],E=w[1].firstChild;null!==E&&qg(w[1],w,E,c)}const m=u.type;if(8&m)qg(s,o,u.child,c);else if(32&m){const y=r_(u,o);let w;for(;w=y();)c.push(w)}else if(16&m){const y=q0(o,u);if(Array.isArray(y))c.push(...y);else{const w=qp(o[16]);qg(w[1],w,y,c,!0)}}u=d?u.projectionNext:u.next}return c}class Rf{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return qg(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Zr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(a_(o,c),Vi(u,c))}this._attachedToViewContainer=!1}Ww(this._lView[1],this._lView)}onDestroy(o){Hp(this._lView[1],this._lView,null,o)}markForCheck(){M_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){po(!0);try{mv(s,o,u)}finally{po(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Xc(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class DS extends Rf{constructor(o){super(o),this._view=o}detectChanges(){wT(this._view)}checkNoChanges(){!function(s){po(!0);try{wT(s)}finally{po(!1)}}(this._view)}get context(){return null}}const k1=function(s){return function(s,o,u){if(tl(s)&&!u){const c=hi(s.index,o);return new Rf(c,c)}return 47&s.type?new Rf(o[16],o):null}(Cn(),Ee(),16==(16&s))};let ES=(()=>{class s{}return s.__NG_ELEMENT_ID__=k1,s})();const O1=[new N1],IS=new Bu([new S1]),SS=new Fd(O1),NS=function(){return Of(Cn(),Ee())};let Bg=(()=>{class s{}return s.__NG_ELEMENT_ID__=NS,s})();const P1=Bg,XC=class extends P1{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Wh(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),rd(u,c,o),new Rf(c)}};function Of(s,o){return 4&s.type?new XC(o,s,Nf(s,o)):null}class za{}class Pf{}const F1=function(){return iD(Cn(),Ee())};let Ff=(()=>{class s{}return s.__NG_ELEMENT_ID__=F1,s})();const xS=Ff,L1=class extends xS{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Nf(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const o=$e(this._hostTNode,this._hostLView);if(Rc(o)){const u=Us(o,this._hostLView),c=Qi(o);return new Zi(u[1].data[c+8],u)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=rD(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,f){const m=c||this.parentInjector;if(!f&&null==o.ngModule&&m){const w=m.get(za,null);w&&(f=w)}const y=o.create(m,d,void 0,f);return this.insert(y.hostView,u),y}insert(o,u){const c=o._lView,d=c[1];if(Zr(c[3])){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const R=c[3],P=new L1(R,R[6],R[3]);P.detach(P.indexOf(o))}}const f=this._adjustIndex(u),m=this._lContainer;!function(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],yu(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const m=o[17];null!==m&&u!==m&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(m,o);const y=o[19];null!==y&&y.insertView(s),o[2]|=128}(d,c,m,f);const y=B0(f,m),w=c[11],E=u_(w,m[7]);return null!==E&&function(s,o,u,c,d,f){c[0]=d,c[6]=o,Xc(s,c,u,1,d,f)}(d,m[6],w,c,E,y),o.attachToViewContainerRef(),yu(Z1(m),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=rD(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=a_(this._lContainer,u);c&&(Vi(Z1(this._lContainer),u),Ww(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=a_(this._lContainer,u);return c&&null!=Vi(Z1(this._lContainer),u)?new Rf(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function rD(s){return s[8]}function Z1(s){return s[8]||(s[8]=[])}function iD(s,o){let u;const c=o[s.index];if(Zr(c))u=c;else{let d;if(8&s.type)d=ln(c);else{const f=o[11];d=f.createComment("");const m=Li(s,o);xl(f,u_(f,m),d,function(s,o){return Rn(s)?s.nextSibling(o):o.nextSibling}(f,m),!1)}o[s.index]=u=vT(c,o,d,s),zp(o,u)}return new L1(u,s,o)}const nc={};class Dy extends Wl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=pn(o);return new MD(u,this.ngModule)}}function Ey(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const ID=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bw});class MD extends $C{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(p_).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Ey(this.componentDef.inputs)}get outputs(){return Ey(this.componentDef.outputs)}create(o,u,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const f=s.get(u,nc,d);return f!==nc||c===nc?f:o.get(u,c,d)}}}(o,d.injector):o,m=f.get(oa,Dr),y=f.get(xf,null),w=m.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",I=c?function(s,o,u){if(Rn(s))return s.selectRootElement(o,u===Pe.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(w,c,this.componentDef.encapsulation):Z0(m.createRenderer(null,this.componentDef),E,function(s){const o=s.toLowerCase();return"svg"===o?tu:"math"===o?"http://www.w3.org/1998/MathML/":null}(E)),R=this.componentDef.onPush?576:528,P=function(s,o){return{components:[],scheduler:s||Bw,clean:TT,playerHandler:o||null,flags:0}}(),j=Pl(0,null,null,1,0,null,null,null,null,null),Y=Wh(null,j,P,R,null,null,m,w,y,f);let he,oe;cu(Y);try{const Ae=function(s,o,u,c,d,f){const m=u[1];u[20]=s;const w=Iu(m,20,2,"#host",null),E=w.mergedAttrs=o.hostAttrs;null!==E&&(Fl(w,E,!0),null!==s&&(gh(d,s,E),null!==w.classes&&H0(d,s,w.classes),null!==w.styles&&nT(d,s,w.styles)));const I=c.createRenderer(s,o),R=Wh(u,wi(o),null,o.onPush?64:16,u[20],w,c,I,f||null,null);return m.firstCreatePass&&(cn(mo(w,u),m,o.type),A_(m,w),hv(w,u.length,1)),zp(u,R),u[20]=R}(I,this.componentDef,Y,m,w);if(I)if(c)gh(w,I,["ng-version",I1.full]);else{const{attrs:_e,classes:tt}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Xo(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);_e&&gh(w,I,_e),tt&&tt.length>0&&H0(w,I,tt.join(" "))}if(oe=Tc(j,20),void 0!==u){const _e=oe.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const bt=u[tt];_e.push(null!=bt?Array.from(bt):null)}}he=function(s,o,u,c,d){const f=u[1],m=function(s,o,u){const c=Cn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),yT(s,c,o,Ol(s,o,1,null),u));const d=kt(o,s,c.directiveStart,c);_i(d,o);const f=Li(c,o);return f&&_i(f,o),d}(f,u,o);if(c.components.push(m),s[8]=m,d&&d.forEach(w=>w(m,o)),o.contentQueries){const w=Cn();o.contentQueries(1,m,w.directiveStart)}const y=Cn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(go(y.index),D_(u[1],y,0,y.directiveStart,y.directiveEnd,o),Qr(o,m)),m}(Ae,this.componentDef,Y,P,[Z_]),rd(j,Y,null)}finally{Bo()}return new Ay(this.componentType,he,Nf(oe,Y),Y,oe)}}class Ay extends class{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new DS(d),this.componentType=o}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Uf=new Map;class hb extends za{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dy(this);const c=Mn(o),d=o[lt]||null;d&&kg(d),this._bootstrapComponents=Za(c.bootstrap),this._r3Injector=Tv(o,u,[{provide:za,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],X(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Un.THROW_IF_NOT_FOUND,c=Ve.Default){return o===Un||o===za||o===id?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class em extends Pf{constructor(o){super(),this.moduleType=o,null!==Mn(o)&&function(s){const o=new Set;!function u(c){const d=Mn(c,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${X(o)} vs ${X(o.name)}`)}(f,Uf.get(f),c),Uf.set(f,c));const m=Za(d.imports);for(const y of m)o.has(y)||(o.add(y),u(y))}(s)}(o)}create(o){return new hb(this.moduleType,o)}}function tm(s,o,u,c){return OD(Ee(),lr(),s,o,u,c)}function Iy(s,o,u,c,d){return function(s,o,u,c,d,f,m){const y=o+u;return Pu(s,y,d,f)?Eo(s,y+2,m?c.call(m,d,f):c(d,f)):nm(s,y+2)}(Ee(),lr(),s,o,u,c,d)}function pb(s,o,u,c,d,f){return function(s,o,u,c,d,f,m,y){const w=o+u;return function(s,o,u,c,d){const f=Pu(s,o,u,c);return Ti(s,o+2,d)||f}(s,w,d,f,m)?Eo(s,w+3,y?c.call(y,d,f,m):c(d,f,m)):nm(s,w+3)}(Ee(),lr(),s,o,u,c,d,f)}function nm(s,o){const u=s[o];return u===ut?void 0:u}function OD(s,o,u,c,d,f){const m=o+u;return Ti(s,m,d)?Eo(s,m+1,f?c.call(f,d):c(d)):nm(s,m+1)}function LD(s,o){const u=xt();let c;const d=s+20;u.firstCreatePass?(c=function(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}throw new Ne("302",`The pipe '${s}' could not be found!`)}(o,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const f=c.factory||(c.factory=Pi(c.type)),m=$n(hg);try{const y=Ia(!1),w=f();return Ia(y),function(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Ee(),d,w),w}finally{$n(m)}}function ZD(s,o,u){const c=s+20,d=Ee(),f=Ji(d,c);return function(s,o){Ts.isWrapped(o)&&(o=Ts.unwrap(o),s[Wr()]=ut);return o}(d,function(s,o){return s[1].data[o].pure}(d,c)?OD(d,lr(),o,f.transform,u,f):f.transform(u))}function Hf(s){return o=>{setTimeout(s,void 0,o)}}const Ot=class extends r.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,f,m;let y=o,w=u||(()=>null),E=c;if(o&&"object"==typeof o){const R=o;y=null===(d=R.next)||void 0===d?void 0:d.bind(R),w=null===(f=R.error)||void 0===f?void 0:f.bind(R),E=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(w=Hf(w),y&&(y=Hf(y)),E&&(E=Hf(E)));const I=super.subscribe({next:y,error:w,complete:E});return o instanceof q.w&&o.add(I),I}};function qD(){return this._results[hd()]()}class rm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hd(),c=rm.prototype;c[u]||(c[u]=qD)}get changes(){return this._changes||(this._changes=new Ot)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=ts(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class oi{constructor(o){this.queryList=o,this.matches=null}clone(){return new oi(this.queryList)}setDirty(){this.queryList.setDirty()}}class No{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const m=u.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new No(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==WD(o,u).matches&&this.queries[u].setDirty()}}class wb{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Tb{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Tb(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class $f{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new $f(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,BD(u,f)),this.matchTNodeWithReadOption(o,u,yl(u,o,f,!1,!1))}else c===Bg?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,yl(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ga||d===Ff||d===Bg&&4&u.type)this.addMatch(u.index,-2);else{const f=yl(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function BD(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function tM(s,o,u,c){return-1===u?function(s,o){return 11&s.type?Nf(s,o):4&s.type?Of(s,o):null}(o,s):-2===u?function(s,o,u){return u===Ga?Nf(o,s):u===Bg?Of(o,s):u===Ff?iD(o,s):void 0}(s,o,c):kt(s,s[1],u,o)}function HD(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,m=u.matches,y=[];for(let w=0;w<m.length;w+=2){const E=m[w];y.push(E<0?null:tM(o,f[E],m[w+1],u.metadata.read))}d.matches=y}return d.matches}function Db(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const m=HD(s,o,d,u);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)c.push(m[y/2]);else{const E=f[y+1],I=o[-w];for(let R=10;R<I.length;R++){const P=I[R];P[17]===P[3]&&Db(P[1],P,E,c)}if(null!==I[9]){const R=I[9];for(let P=0;P<R.length;P++){const j=R[P];Db(j[1],j,E,c)}}}}}return c}function tr(s){const o=Ee(),u=xt(),c=Ic();qo(c+1);const d=WD(u,c);if(s.dirty&&ol(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?Db(u,o,c,[]):HD(u,o,d,c);s.reset(f,zC),s.notifyOnChanges()}return!0}return!1}function nM(s,o,u){const c=xt();c.firstCreatePass&&(zD(c,new wb(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),GD(c,Ee(),o)}function rM(s,o,u,c){const d=xt();if(d.firstCreatePass){const f=Cn();zD(d,new wb(o,u,c),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}GD(d,Ee(),u)}function Nr(){return s=Ee(),o=Ic(),s[19].queries[o].queryList;var s,o}function GD(s,o,u){const c=new rm(4==(4&u));Hp(s,o,c,c.destroy),null===o[19]&&(o[19]=new No),o[19].queries.push(new oi(c))}function zD(s,o,u){null===s.queries&&(s.queries=new Tb),s.queries.track(new $f(o,u))}function WD(s,o){return s.queries.getByIndex(o)}function JD(s,o){return Of(s,o)}const Rb=new On("Application Initializer");let Wf=(()=>{class s{constructor(u){this.appInits=u,this.resolve=ay,this.reject=ay,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Ao(f))u.push(f);else if(Hl(f)){const m=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});u.push(m)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Dn(Rb,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const Ob=new On("AppId"),Jf={provide:Ob,useFactory:function(){return`${dm()}${dm()}${dm()}`},deps:[]};function dm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oE=new On("Platform Initializer"),aE=new On("Platform ID"),uE=new On("appBootstrapListener");let lE=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const Fy=new On("LocaleId"),cE=new On("DefaultCurrencyCode");class fm{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const Fb=function(s){return new em(s)},hE=Fb,fE=function(s){return Promise.resolve(Fb(s))},oc=function(s){const o=Fb(s),c=Za(Mn(s).declarations).reduce((d,f)=>{const m=pn(f);return m&&d.push(new MD(m)),d},[]);return new fm(o,c)},ko=oc,pE=function(s){return Promise.resolve(oc(s))};let zu=(()=>{class s{constructor(){this.compileModuleSync=hE,this.compileModuleAsync=fE,this.compileModuleAndAllComponentsSync=ko,this.compileModuleAndAllComponentsAsync=pE}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();const EM=(()=>Promise.resolve(0))();function gm(s){"undefined"==typeof Zone?EM.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class $r{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=Kt.requestAnimationFrame,o=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ub(s),s.isCheckStableRunning=!0,Yu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ub(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,m,y)=>{try{return Ly(s),u.invokeTask(d,f,m,y)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),Qf(s)}},onInvoke:(u,c,d,f,m,y,w)=>{try{return Ly(s),u.invoke(d,f,m,y,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),Qf(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Ub(s),Yu(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,Zb,ay,ay);try{return f.runTask(m,u,c)}finally{f.cancelTask(m)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const Zb={};function Yu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ub(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ly(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Qf(s){s._nesting--,Yu(s)}class SM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot,this.onMicrotaskEmpty=new Ot,this.onStable=new Ot,this.onError=new Ot}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let gE=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gm(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Dn($r))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})(),mE=(()=>{class s{constructor(){this._applications=new Map,Vb.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Vb.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();class MM{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function _E(s){Vb=s}let Vb=new MM,qb=!0,Zy=!1;function Uy(){return Zy=!0,qb}function Vy(){if(Zy)throw new Error("Cannot enable prod mode after platform setup.");qb=!1}let ca;const kM=new On("AllowMultipleToken");class bk{constructor(o,u){this.name=o,this.token=u}}function RM(s,o,u=[]){const c=`Platform: ${o}`,d=new On(c);return(f=[])=>{let m=jb();if(!m||m.injector.get(kM,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const y=u.concat(f).concat({provide:d,useValue:!0},{provide:Su,useValue:"platform"});!function(s){if(ca&&!ca.destroyed&&!ca.injector.get(kM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ca=s.get(yE);const o=s.get(oE,null);o&&o.forEach(u=>u())}(Un.create({providers:y,name:c}))}return function(s){const o=jb();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function jb(){return ca&&!ca.destroyed?ca:null}let yE=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const y=function(s,o){let u;return u="noop"===s?new SM:("zone.js"===s?void 0:s)||new $r({enableLongStackTrace:Uy(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:$r,useValue:y}];return y.run(()=>{const E=Un.create({providers:w,parent:this.injector,name:u.moduleType.name}),I=u.create(E),R=I.injector.get(jh,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:j=>{R.handleError(j)}});I.onDestroy(()=>{mm(this._modules,I),P.unsubscribe()})}),function(s,o,u){try{const c=u();return Ao(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(R,y,()=>{const P=I.injector.get(Wf);return P.runInitializers(),P.donePromise.then(()=>(kg(I.injector.get(Fy,xg)||xg),this._moduleDoBootstrap(I),I))})})}bootstrapModule(u,c=[]){const d=Ro({},c);return function(s,o,u){const c=new em(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(ac);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${X(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Dn(Un))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function Ro(s,o){return Array.isArray(o)?o.reduce(Ro,s):Object.assign(Object.assign({},s),o)}let ac=(()=>{class s{constructor(u,c,d,f,m){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new O.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{$r.assertNotInAngularZone(),gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{$r.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe((0,ue.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof $C?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(za),y=d.create(Un.NULL,[],c||d.selector,f),w=y.location.nativeElement,E=y.injector.get(gE,null),I=E&&y.injector.get(mE);return E&&I&&I.registerApplication(w,E),y.onDestroy(()=>{this.detachView(y.hostView),mm(this.components,y),I&&I.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;mm(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(uE,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Dn($r),Dn(Un),Dn(jh),Dn(Wl),Dn(Wf))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function mm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class FM{}class qy{}const TE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ZM=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||TE}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>By(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[d+f]).then(m=>By(m,c,d))}}return s.\u0275fac=function(u){return new(u||s)(Dn(zu),Dn(qy,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})();function By(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const UM=function(s){return null},VM=RM(null,"core",[{provide:aE,useValue:"unknown"},{provide:yE,deps:[Un]},{provide:mE,deps:[]},{provide:lE,deps:[]}]),BM=[{provide:ac,useClass:ac,deps:[$r,Un,jh,Wl,Wf]},{provide:ID,deps:[$r],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Wf,useClass:Wf,deps:[[new Ra,Rb]]},{provide:zu,useClass:zu,deps:[]},Jf,{provide:Bu,useFactory:function(){return IS},deps:[]},{provide:Fd,useFactory:function(){return SS},deps:[]},{provide:Fy,useFactory:function(s){return kg(s=s||"undefined"!=typeof $localize&&$localize.locale||xg),s},deps:[[new wu(Fy),new Ra,new Vr]]},{provide:cE,useValue:"USD"}];let zy=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Dn(ac))},s.\u0275mod=Ze({type:s}),s.\u0275inj=_n({providers:BM}),s})()},8939:(Ye,we,F)=>{"use strict";F.d(we,{hO:()=>fe,xv:()=>z,Dh:()=>X,GT:()=>te,cc:()=>Oe,on:()=>L,pX:()=>ue});var r=F(7716),q=F(7841),O=F(9396);Ye=F.hmd(Ye);const ce=["ngOnDestroy"],ue=(re,ae,Ce,ke={})=>new Proxy(re,{get:(It,Mt)=>Ce.runOutsideAngular(()=>{var Wt;if(re[Mt])return(null===(Wt=null==ke?void 0:ke.spy)||void 0===Wt?void 0:Wt.get)&&ke.spy.get(Mt,re[Mt]),re[Mt];if(ce.indexOf(Mt)>-1)return()=>{};const vt=ae.toPromise().then(An=>{const Dt=An&&An[Mt];return"function"==typeof Dt?Dt.bind(An):Dt&&Dt.then?Dt.then(mt=>Ce.run(()=>mt)):Ce.run(()=>Dt)});return new Proxy(()=>{},{get:(An,Dt)=>vt[Dt],apply:(An,Dt,mt)=>vt.then(Pt=>{var Ke;const qt=Pt&&Pt(...mt);return(null===(Ke=null==ke?void 0:ke.spy)||void 0===Ke?void 0:Ke.apply)&&ke.spy.apply(Mt,mt,qt),qt})})})}),te=(re,ae)=>{ae.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(ke=>{Object.defineProperty(re.prototype,ke,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,ke))})})};class de{constructor(ae){return ae}}const X=new r.OlP("angularfire2.app.options"),z=new r.OlP("angularfire2.app.name");function L(re,ae,Ce){const It="object"==typeof Ce&&Ce||{};It.name=It.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const Wt=q.Z.apps.filter(vt=>vt&&vt.name===It.name)[0]||ae.runOutsideAngular(()=>q.Z.initializeApp(re,It));try{JSON.stringify(re)!==JSON.stringify(Wt.options)&&V("error",`${Wt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new de(Wt)}const V=(re,...ae)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[re](...ae)},H={provide:de,useFactory:L,deps:[X,r.R0b,[new r.FiY,z]]};let fe=(()=>{class re{constructor(Ce){q.Z.registerVersion("angularfire",O.q4.full,"core"),q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),q.Z.registerVersion("angular",r.q4F.full,Ce.toString())}static initializeApp(Ce,ke){return{ngModule:re,providers:[{provide:X,useValue:Ce},{provide:z,useValue:ke}]}}}return re.\u0275fac=function(Ce){return new(Ce||re)(r.LFG(r.Lbi))},re.\u0275mod=r.oAB({type:re}),re.\u0275inj=r.cJS({providers:[H]}),re})();function Oe(re,ae,Ce,ke,It){const[,Mt,Wt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===re)||[];if(Mt)return function(re,ae){try{return re.toString()===ae.toString()}catch(Ce){return re===ae}}(It,Wt)||(ge("error",`${ae} was already initialized on the ${Ce} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:It,was:Wt})),Mt;{const vt=ke();return globalThis.\u0275AngularfireInstanceCache.push([re,vt,It]),vt}}const De=!!Ye.hot,ge=(re,...ae)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[re](...ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(Ye,we,F)=>{"use strict";F.d(we,{q4:()=>Bm,iC:()=>Kn,fc:()=>Dh,HU:()=>Ch,vb:()=>yu,JM:()=>ws});var r=F(7716),q=F(2329),O=F(8239),ce=F(8026),ue=F(3854),te=F(3910),de=F(5422),X=F(6676);const z="@firebase/installations",L="0.5.4",H=`w:${L}`,fe="FIS_v2",ae=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(D){return D instanceof ue.ZR&&D.code.includes("request-failed")}function ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function It(D){return{token:D.token,requestStatus:2,expiresIn:Pt(D.expiresIn),creationTime:Date.now()}}function Mt(D,A){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(D,A){const U=(yield A.json()).error;return ae.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function vt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function An(D,{refreshToken:A}){const x=vt(D);return x.append("Authorization",function(D){return`${fe} ${D}`}(A)),x}function Dt(D){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function Pt(D){return Number(D.replace("s","000"))}function qt(D,A){return We.apply(this,arguments)}function We(){return(We=(0,O.Z)(function*(D,{fid:A}){const x=ke(D),pe={method:"POST",headers:vt(D),body:JSON.stringify({fid:A,authVersion:fe,appId:D.appId,sdkVersion:H})},Ie=yield Dt(()=>fetch(x,pe));if(Ie.ok){const je=yield Ie.json();return{fid:je.fid||A,registrationStatus:2,refreshToken:je.refreshToken,authToken:It(je.authToken)}}throw yield Mt("Create Installation",Ie)})).apply(this,arguments)}function ds(D){return new Promise(A=>{setTimeout(A,D)})}const zi=/^[cdef][\w-]{21}$/;function Jt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return zi.test(x)?x:""}catch(D){return""}}function hs(D){return`${D.appName}!${D.appId}`}const Ss=new Map;function xi(D,A){const x=hs(D);_n(x,A),function(D,A){const x=(!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=D=>{_n(D.data.key,D.data.fid)}),Xt);x&&x.postMessage({key:D,fid:A}),0===Ss.size&&Xt&&(Xt.close(),Xt=null)}(x,A)}function _n(D,A){const x=Ss.get(D);if(x)for(const U of x)U(A)}let Xt=null;const Tn="firebase-installations-store";let Hn=null;function Ri(){return Hn||(Hn=(0,X.openDb)("firebase-installations-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(Tn)}})),Hn}function Ve(D,A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(D,A){const x=hs(D),ne=(yield Ri()).transaction(Tn,"readwrite"),pe=ne.objectStore(Tn),Ie=yield pe.get(x);return yield pe.put(A,x),yield ne.complete,(!Ie||Ie.fid!==A.fid)&&xi(D,A.fid),A})).apply(this,arguments)}function pr(D){return $n.apply(this,arguments)}function $n(){return($n=(0,O.Z)(function*(D){const A=hs(D),U=(yield Ri()).transaction(Tn,"readwrite");yield U.objectStore(Tn).delete(A),yield U.complete})).apply(this,arguments)}function it(D,A){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(D,A){const x=hs(D),ne=(yield Ri()).transaction(Tn,"readwrite"),pe=ne.objectStore(Tn),Ie=yield pe.get(x),je=A(Ie);return void 0===je?yield pe.delete(x):yield pe.put(je,x),yield ne.complete,je&&(!Ie||Ie.fid!==je.fid)&&xi(D,je.fid),je})).apply(this,arguments)}function Nt(D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,O.Z)(function*(D){let A;const x=yield it(D,U=>{const ne=Gn(U),pe=tn(D,ne);return A=pe.registrationPromise,pe.installationEntry});return""===x.fid?{installationEntry:yield A}:{installationEntry:x,registrationPromise:A}})).apply(this,arguments)}function Gn(D){return Kt(D||{fid:Jt(),registrationStatus:0})}function tn(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ae.create("app-offline"))};const x={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(D,A){return Qe.apply(this,arguments)}(D,x)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:fa(D)}:{installationEntry:A}}function Qe(){return(Qe=(0,O.Z)(function*(D,A){try{return Ve(D,yield qt(D,A))}catch(x){throw Ce(x)&&409===x.customData.serverCode?yield pr(D):yield Ve(D,{fid:A.fid,registrationStatus:0}),x}})).apply(this,arguments)}function fa(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,O.Z)(function*(D){let A=yield nn(D);for(;1===A.registrationStatus;)yield ds(100),A=yield nn(D);if(0===A.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Nt(D);return U||x}return A})).apply(this,arguments)}function nn(D){return it(D,A=>{if(!A)throw ae.create("installation-not-found");return Kt(A)})}function Kt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function oo(D,A){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:D,platformLoggerProvider:A},x){const U=$(D,x),ne=An(D,x),pe=A.getImmediate({optional:!0});pe&&ne.append("x-firebase-client",pe.getPlatformInfoString());const je={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:H}})},Ge=yield Dt(()=>fetch(U,je));if(Ge.ok)return It(yield Ge.json());throw yield Mt("Generate Auth Token",Ge)})).apply(this,arguments)}function $(D,{fid:A}){return`${ke(D)}/${A}/authTokens:generate`}function W(D){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*(D,A=!1){let x;const U=yield it(D.appConfig,pe=>{if(!zn(pe))throw ae.create("not-registered");const Ie=pe.authToken;if(!A&&nr(Ie))return pe;if(1===Ie.requestStatus)return x=le(D,A),pe;{if(!navigator.onLine)throw ae.create("app-offline");const je=Q(pe);return x=Gt(D,je),je}});return x?yield x:U.authToken})).apply(this,arguments)}function le(D,A){return He.apply(this,arguments)}function He(){return(He=(0,O.Z)(function*(D,A){let x=yield lt(D.appConfig);for(;1===x.authToken.requestStatus;)yield ds(100),x=yield lt(D.appConfig);const U=x.authToken;return 0===U.requestStatus?W(D,A):U})).apply(this,arguments)}function lt(D){return it(D,A=>{if(!zn(A))throw ae.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Gt(D,A){return In.apply(this,arguments)}function In(){return(In=(0,O.Z)(function*(D,A){try{const x=yield oo(D,A),U=Object.assign(Object.assign({},A),{authToken:x});return yield Ve(D.appConfig,U),x}catch(x){if(!Ce(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ve(D.appConfig,U)}else yield pr(D.appConfig);throw x}})).apply(this,arguments)}function zn(D){return void 0!==D&&2===D.registrationStatus}function nr(D){return 2===D.requestStatus&&!function(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+36e5}(D)}function Q(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}function Ze(){return(Ze=(0,O.Z)(function*(D){const A=D,{installationEntry:x,registrationPromise:U}=yield Nt(A.appConfig);return U?U.catch(console.error):W(A).catch(console.error),x.fid})).apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(D,A=!1){const x=D;return yield At(x.appConfig),(yield W(x,A)).token})).apply(this,arguments)}function At(D){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(D){const{registrationPromise:A}=yield Nt(D);A&&(yield A)})).apply(this,arguments)}function gn(D){return ae.create("missing-app-config-values",{valueName:D})}const zr="installations";(0,ce._registerComponent)(new te.wA(zr,D=>{const A=D.getProvider("app").getImmediate();return{app:A,appConfig:function(D){if(!D||!D.options)throw gn("App Configuration");if(!D.name)throw gn("App Name");const A=["projectId","apiKey","appId"];for(const x of A)if(!D.options[x])throw gn(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A),platformLoggerProvider:(0,ce._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new te.wA("installations-internal",D=>{const A=D.getProvider("app").getImmediate(),x=(0,ce._getProvider)(A,zr).getImmediate();return{getId:()=>function(D){return Ze.apply(this,arguments)}(x),getToken:ne=>function(D){return Ut.apply(this,arguments)}(x,ne)}},"PRIVATE")),(0,ce.registerVersion)(z,L),(0,ce.registerVersion)(z,L,"esm2017");const pa="@firebase/remote-config",gr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ur{constructor(A,x,U,ne){this.client=A,this.storage=x,this.storageCache=U,this.logger=ne}isCachedDataFresh(A,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,ne=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var x=this;return(0,O.Z)(function*(){const[U,ne]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(ne&&x.isCachedDataFresh(A.cacheMaxAgeMillis,U))return ne;A.eTag=ne&&ne.eTag;const pe=yield x.client.fetch(A),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ie),pe})()}}function fs(D=navigator){return D.languages&&D.languages[0]||D.language}class Cr{constructor(A,x,U,ne,pe,Ie){this.firebaseInstallations=A,this.sdkVersion=x,this.namespace=U,this.projectId=ne,this.apiKey=pe,this.appId=Ie}fetch(A){var x=this;return(0,O.Z)(function*(){const[U,ne]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:ne,app_id:x.appId,language_code:fs()},Vt={method:"POST",headers:je,body:JSON.stringify(Ge)},rn=fetch(Ie,Vt),sr=new Promise((js,mi)=>{A.signal.addEventListener(()=>{const _t=new Error("The operation was aborted.");_t.name="AbortError",mi(_t)})});let gi;try{yield Promise.race([rn,sr]),gi=yield rn}catch(js){let mi="fetch-client-network";throw"AbortError"===js.name&&(mi="fetch-timeout"),gr.create(mi,{originalErrorMessage:js.message})}let cr=gi.status;const xa=gi.headers.get("ETag")||void 0;let vu,ka;if(200===gi.status){let js;try{js=yield gi.json()}catch(mi){throw gr.create("fetch-client-parse",{originalErrorMessage:mi.message})}vu=js.entries,ka=js.state}if("INSTANCE_STATE_UNSPECIFIED"===ka?cr=500:"NO_CHANGE"===ka?cr=304:("NO_TEMPLATE"===ka||"EMPTY_CONFIG"===ka)&&(vu={}),304!==cr&&200!==cr)throw gr.create("fetch-status",{httpStatus:cr});return{status:cr,eTag:xa,config:vu}})()}}class th{constructor(A,x){this.client=A,this.storage=x}fetch(A){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:x,backoffCount:U}){var ne=this;return(0,O.Z)(function*(){yield function(D,A){return new Promise((x,U)=>{const ne=Math.max(A-Date.now(),0),pe=setTimeout(x,ne);D.addEventListener(()=>{clearTimeout(pe),U(gr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,x);try{const pe=yield ne.client.fetch(A);return yield ne.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(pe))throw pe;const Ie={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield ne.storage.setThrottleMetadata(Ie),ne.attemptFetch(A,Ie)}})()}}class rh{constructor(A,x,U,ne,pe){this.app=A,this._client=x,this._storageCache=U,this._storage=ne,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mc(D,A){const x=D.target.error||void 0;return gr.create(A,{originalErrorMessage:x&&x.message})}const co="app_namespace_store";class sh{constructor(A,x,U,ne=function(){return new Promise((D,A)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{A(mc(U,"storage-open"))},x.onsuccess=U=>{D(U.target.result)},x.onupgradeneeded=U=>{const ne=U.target.result;switch(U.oldVersion){case 0:ne.createObjectStore(co,{keyPath:"compositeKey"})}}}catch(x){A(gr.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=A,this.appName=x,this.namespace=U,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((ne,pe)=>{const je=U.transaction([co],"readonly").objectStore(co),Ge=x.createCompositeKey(A);try{const Vt=je.get(Ge);Vt.onerror=rn=>{pe(mc(rn,"storage-get"))},Vt.onsuccess=rn=>{const sr=rn.target.result;ne(sr?sr.value:void 0)}}catch(Vt){pe(gr.create("storage-get",{originalErrorMessage:Vt&&Vt.message}))}})})()}set(A,x){var U=this;return(0,O.Z)(function*(){const ne=yield U.openDbPromise;return new Promise((pe,Ie)=>{const Ge=ne.transaction([co],"readwrite").objectStore(co),Vt=U.createCompositeKey(A);try{const rn=Ge.put({compositeKey:Vt,value:x});rn.onerror=sr=>{Ie(mc(sr,"storage-set"))},rn.onsuccess=()=>{pe()}}catch(rn){Ie(gr.create("storage-set",{originalErrorMessage:rn&&rn.message}))}})})()}delete(A){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((ne,pe)=>{const je=U.transaction([co],"readwrite").objectStore(co),Ge=x.createCompositeKey(A);try{const Vt=je.delete(Ge);Vt.onerror=rn=>{pe(mc(rn,"storage-delete"))},Vt.onsuccess=()=>{ne()}}catch(Vt){pe(gr.create("storage-delete",{originalErrorMessage:Vt&&Vt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Lm{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,O.Z)(function*(){const x=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),pe=yield x;pe&&(A.lastFetchStatus=pe);const Ie=yield U;Ie&&(A.lastSuccessfulFetchTimestampMillis=Ie);const je=yield ne;je&&(A.activeConfig=je)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function pp(){return ma.apply(this,arguments)}function ma(){return(ma=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new te.wA("remote-config",function(A,{instanceIdentifier:x}){const U=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gr.create("registration-window");if(!(0,ue.hl)())throw gr.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ie,appId:je}=U.options;if(!pe)throw gr.create("registration-project-id");if(!Ie)throw gr.create("registration-api-key");if(!je)throw gr.create("registration-app-id");const Ge=new sh(je,U.name,x=x||"firebase"),Vt=new Lm(Ge),rn=new de.Yd(pa);rn.logLevel=de.in.ERROR;const sr=new Cr(ne,ce.SDK_VERSION,x,pe,Ie,je),gi=new th(sr,Ge),cr=new Ur(gi,Ge,Vt,rn),xa=new rh(U,cr,Vt,Ge,rn);return function(D){const A=(0,ue.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(pa,"0.3.3"),(0,ce.registerVersion)(pa,"0.3.3","esm2017");const rl="/firebase-messaging-sw.js",ah="/firebase-cloud-messaging-push-scope",yc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pi="google.c.a.c_id",Fs="google.c.a.c_l",mr="google.c.a.ts",vc="google.c.a.e";var _a=(()=>{return(D=_a||(_a={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",_a;var D})();function Fi(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uh(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),ne=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)ne[pe]=U.charCodeAt(pe);return ne}const ya="fcm_token_details_db",bc="fcm_token_object_Store";function Wi(D){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(ya))return null;let A=null;return(yield(0,X.openDb)(ya,5,function(){var U=(0,O.Z)(function*(ne){var pe;if(ne.oldVersion<2||!ne.objectStoreNames.contains(bc))return;const Ie=ne.transaction.objectStore(bc),je=yield Ie.index("fcmSenderId").get(D);if(yield Ie.clear(),je)if(2===ne.oldVersion){const Ge=je;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;A={token:Ge.fcmToken,createTime:null!==(pe=Ge.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Fi(Ge.vapidKey)}}}else if(3===ne.oldVersion){const Ge=je;A={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Fi(Ge.auth),p256dh:Fi(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Fi(Ge.vapidKey)}}}else if(4===ne.oldVersion){const Ge=je;A={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Fi(Ge.auth),p256dh:Fi(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Fi(Ge.vapidKey)}}}});return function(ne){return U.apply(this,arguments)}}())).close(),yield(0,X.deleteDb)(ya),yield(0,X.deleteDb)("fcm_vapid_details_db"),yield(0,X.deleteDb)("undefined"),sl(A)?A:null})).apply(this,arguments)}function sl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const ho="firebase-messaging-store";let va=null;function Rn(){return va||(va=(0,X.openDb)("firebase-messaging-database",1,D=>{switch(D.oldVersion){case 0:D.createObjectStore(ho)}})),va}function nu(D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(D){const A=ba(D),U=yield(yield Rn()).transaction(ho).objectStore(ho).get(A);if(U)return U;{const ne=yield Wi(D.appConfig.senderId);if(ne)return yield fo(D,ne),ne}})).apply(this,arguments)}function fo(D,A){return ln.apply(this,arguments)}function ln(){return(ln=(0,O.Z)(function*(D,A){const x=ba(D),ne=(yield Rn()).transaction(ho,"readwrite");return yield ne.objectStore(ho).put(A,x),yield ne.complete,A})).apply(this,arguments)}function mp(D){return wc.apply(this,arguments)}function wc(){return(wc=(0,O.Z)(function*(D){const A=ba(D),U=(yield Rn()).transaction(ho,"readwrite");yield U.objectStore(ho).delete(A),yield U.complete})).apply(this,arguments)}function ba({appConfig:D}){return D.appId}const Nn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tc(D,A){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,O.Z)(function*(D,A){const x=yield al(D),U=dt(A),ne={method:"POST",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(gs(D.appConfig),ne)).json()}catch(Ie){throw Nn.create("token-subscribe-failed",{errorInfo:Ie})}if(pe.error)throw Nn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Nn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function hi(D,A){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(D,A){const x=yield al(D),U=dt(A.subscriptionOptions),ne={method:"PATCH",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${gs(D.appConfig)}/${A.token}`,ne)).json()}catch(Ie){throw Nn.create("token-update-failed",{errorInfo:Ie})}if(pe.error)throw Nn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Nn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function ru(D,A){return _r.apply(this,arguments)}function _r(){return(_r=(0,O.Z)(function*(D,A){const U={method:"DELETE",headers:yield al(D)};try{const pe=yield(yield fetch(`${gs(D.appConfig)}/${A}`,U)).json();if(pe.error)throw Nn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(ne){throw Nn.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function gs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function al(D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*({appConfig:D,installations:A}){const x=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function dt({p256dh:D,auth:A,endpoint:x,vapidKey:U}){const ne={web:{endpoint:x,auth:A,p256dh:D}};return U!==yc&&(ne.web.applicationPubKey=U),ne}const ch=6048e5;function dh(D){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,O.Z)(function*(D){const A=yield su(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:Fi(A.getKey("auth")),p256dh:Fi(A.getKey("p256dh"))},U=yield nu(D.firebaseDependencies);if(U){if(ou(U.subscriptionOptions,x))return Date.now()>=U.createTime+ch?Dc(D,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield ru(D.firebaseDependencies,U.token)}catch(ne){console.warn(ne)}return Ee(D.firebaseDependencies,x)}return Ee(D.firebaseDependencies,x)})).apply(this,arguments)}function ul(D){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(D){const A=yield nu(D.firebaseDependencies);A&&(yield ru(D.firebaseDependencies,A.token),yield mp(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Dc(D,A){return ms.apply(this,arguments)}function ms(){return(ms=(0,O.Z)(function*(D,A){try{const x=yield hi(D.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:x,createTime:Date.now()});return yield fo(D.firebaseDependencies,U),x}catch(x){throw yield ul(D),x}})).apply(this,arguments)}function Ee(D,A){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(D,A){const U={token:yield Tc(D,A),createTime:Date.now(),subscriptionOptions:A};return yield fo(D,U),U.token})).apply(this,arguments)}function su(D,A){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uh(A)})})).apply(this,arguments)}function ou(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}function Ki(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,A){if(!A.notification)return;D.notification={};const x=A.notification.title;x&&(D.notification.title=x);const U=A.notification.body;U&&(D.notification.body=U);const ne=A.notification.image;ne&&(D.notification.image=ne)}(A,D),function(D,A){!A.data||(D.data=A.data)}(A,D),function(D,A){if(!A.fcmOptions)return;D.fcmOptions={};const x=A.fcmOptions.link;x&&(D.fcmOptions.link=x);const U=A.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(A,D),A}function _p(D){return"object"==typeof D&&!!D&&Pi in D}function ll(D,A){const x=[];for(let U=0;U<D.length;U++)x.push(D.charAt(U)),U<A.length&&x.push(A.charAt(U));return x.join("")}function po(D){return Nn.create("missing-app-config-values",{valueName:D})}ll("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ll("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lr{constructor(A,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function(D){if(!D||!D.options)throw po("App Configuration Object");if(!D.name)throw po("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const U of A)if(!x[U])throw po(U);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Wr(D){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(rl,{scope:ah}),D.swRegistration.update().catch(()=>{})}catch(A){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function _s(D,A){return Er.apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield Wr(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function Zm(D,A){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,O.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=yc)})).apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(D,A){if(!navigator)throw Nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nn.create("permission-blocked");return yield Zm(D,null==A?void 0:A.vapidKey),yield _s(D,null==A?void 0:A.serviceWorkerRegistration),dh(D)})).apply(this,arguments)}function Ac(D,A,x){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,O.Z)(function*(D,A,x){const U=Ic(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Pi],message_name:x[Fs],message_time:x[mr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ic(D){switch(D){case _a.NOTIFICATION_CLICKED:return"notification_open";case _a.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function dl(){return(dl=(0,O.Z)(function*(D,A){const x=A.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===_a.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ki(x)):D.onMessageHandler.next(Ki(x)));const U=x.data;_p(U)&&"1"===U[vc]&&(yield Ac(D,x.messageType,U))})).apply(this,arguments)}const lu="@firebase/messaging";function fl(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ue.hl)()&&(yield(0,ue.eu)())&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new te.wA("messaging",D=>{const A=new lr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(D,A){return dl.apply(this,arguments)}(A,x)),A},"PUBLIC")),(0,ce._registerComponent)(new te.wA("messaging-internal",D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,A){return uu.apply(this,arguments)}(A,U)}},"PRIVATE")),(0,ce.registerVersion)(lu,"0.9.4"),(0,ce.registerVersion)(lu,"0.9.4","esm2017");const pl="analytics",Mc="firebase_id",Ea="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",rr=new de.Yd("@firebase/analytics");function xc(D){return Promise.all(D.map(A=>A.catch(x=>x)))}function fh(D,A){const x=document.createElement("script");x.src=`${jo}?l=${D}&id=${A}`,x.async=!0,document.head.appendChild(x)}function gl(D,A,x,U,ne,pe){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(D,A,x,U,ne,pe){const Ie=U[ne];try{if(Ie)yield A[Ie];else{const Ge=(yield xc(x)).find(Vt=>Vt.measurementId===ne);Ge&&(yield A[Ge.appId])}}catch(je){rr.error(je)}D("config",ne,pe)})).apply(this,arguments)}function ph(D,A,x,U,ne){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(D,A,x,U,ne){try{let pe=[];if(ne&&ne.send_to){let Ie=ne.send_to;Array.isArray(Ie)||(Ie=[Ie]);const je=yield xc(x);for(const Ge of Ie){const Vt=je.find(sr=>sr.measurementId===Ge),rn=Vt&&A[Vt.appId];if(!rn){pe=[];break}pe.push(rn)}}0===pe.length&&(pe=Object.values(A)),yield Promise.all(pe),D("event",U,ne||{})}catch(pe){rr.error(pe)}})).apply(this,arguments)}function Um(){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(jo))return A;return null}const vs=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ml=new class{constructor(A={},x=1e3){this.throttleMetadata=A,this.intervalMillis=x}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,x){this.throttleMetadata[A]=x}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Tp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Rc(D){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,O.Z)(function*(D){var A;const{appId:x,apiKey:U}=D,ne={method:"GET",headers:Tp(U)},pe=Ea.replace("{app-id}",x),Ie=yield fetch(pe,ne);if(200!==Ie.status&&304!==Ie.status){let je="";try{const Ge=yield Ie.json();(null===(A=Ge.error)||void 0===A?void 0:A.message)&&(je=Ge.error.message)}catch(Ge){}throw vs.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:je})}return Ie.json()})).apply(this,arguments)}function Aa(D){return Us.apply(this,arguments)}function Us(){return(Us=(0,O.Z)(function*(D,A=ml,x){const{appId:U,apiKey:ne,measurementId:pe}=D.options;if(!U)throw vs.create("no-app-id");if(!ne){if(pe)return{measurementId:pe,appId:U};throw vs.create("no-api-key")}const Ie=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Pc;return setTimeout((0,O.Z)(function*(){je.abort()}),void 0!==x?x:6e4),Oc({appId:U,apiKey:ne,measurementId:pe},Ie,je,A)})).apply(this,arguments)}function Oc(D,A,x){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:x},U,ne=ml){const{appId:pe,measurementId:Ie}=D;try{yield y0(U,A)}catch(je){if(Ie)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:pe,measurementId:Ie};throw je}try{const je=yield Rc(D);return ne.deleteThrottleMetadata(pe),je}catch(je){if(!mh(je)){if(ne.deleteThrottleMetadata(pe),Ie)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${je.message}]`),{appId:pe,measurementId:Ie};throw je}const Ge=503===Number(je.customData.httpStatus)?(0,ue.$s)(x,ne.intervalMillis,30):(0,ue.$s)(x,ne.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return ne.setThrottleMetadata(pe,Vt),rr.debug(`Calling attemptFetch again in ${Ge} millis`),Oc(D,Vt,U,ne)}})).apply(this,arguments)}function y0(D,A){return new Promise((x,U)=>{const ne=Math.max(A-Date.now(),0),pe=setTimeout(x,ne);D.addEventListener(()=>{clearTimeout(pe),U(vs.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function mh(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Pc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function _h(){return yh.apply(this,arguments)}function yh(){return(yh=(0,O.Z)(function*(){if(!(0,ue.hl)())return rr.warn(vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(D){return rr.warn(vs.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(D,A,x,U,ne,pe,Ie){var je;const Ge=Aa(D);Ge.then(cr=>{x[cr.measurementId]=cr.appId,D.options.measurementId&&cr.measurementId!==D.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cr=>rr.error(cr)),A.push(Ge);const Vt=_h().then(cr=>{if(cr)return U.getId()}),[rn,sr]=yield Promise.all([Ge,Vt]);Um()||fh(pe,rn.measurementId),ne("js",new Date);const gi=null!==(je=null==Ie?void 0:Ie.config)&&void 0!==je?je:{};return gi.origin="firebase",gi.update=!0,null!=sr&&(gi[Mc]=sr),ne("config",rn.measurementId,gi),rn.measurementId})).apply(this,arguments)}class mn{constructor(A){this.app=A}_delete(){return delete $e[this.app.options.appId],Promise.resolve()}}let $e={},cn=[];const vh={};let bs,Wn,xn="dataLayer",gu=!1;function kt(D,A,x){!function(){const D=[];if((0,ue.ru)()&&D.push("This is a browser extension environment."),(0,ue.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((U,ne)=>`(${ne+1}) ${U}`).join(" "),x=vs.create("invalid-analytics-context",{errorInfo:A});rr.warn(x.message)}}();const U=D.options.appId;if(!U)throw vs.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw vs.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$e[U])throw vs.create("already-exists",{id:U});if(!gu){!function(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(xn);const{wrappedGtag:pe,gtagCore:Ie}=function(D,A,x,U,ne){let pe=function(...Ie){window[U].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(pe=window[ne]),window[ne]=function(D,A,x,U){function pe(){return(pe=(0,O.Z)(function*(Ie,je,Ge){try{"event"===Ie?yield ph(D,A,x,je,Ge):"config"===Ie?yield gl(D,A,x,U,je,Ge):D("set",je)}catch(Vt){rr.error(Vt)}})).apply(this,arguments)}return function(Ie,je,Ge){return pe.apply(this,arguments)}}(pe,D,A,x),{gtagCore:pe,wrappedGtag:window[ne]}}($e,cn,vh,xn,"gtag");Wn=pe,bs=Ie,gu=!0}return $e[U]=function(D,A,x,U,ne,pe,Ie){return fu.apply(this,arguments)}(D,cn,vh,A,bs,xn,x),new mn(D)}function _o(){return(_o=(0,O.Z)(function*(D,A,x,U,ne){if(ne&&ne.global)D("event",x,U);else{const pe=yield A;D("event",x,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function yo(){return vl.apply(this,arguments)}function vl(){return(vl=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}const Cp="@firebase/analytics";(0,ce._registerComponent)(new te.wA(pl,(A,{options:x})=>kt(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new te.wA("analytics-internal",function(A){try{const x=A.getProvider(pl).getImmediate();return{logEvent:(U,ne,pe)=>function(D,A,x,U){D=(0,ue.m9)(D),function(D,A,x,U,ne){return _o.apply(this,arguments)}(Wn,$e[D.app.options.appId],A,x,U).catch(ne=>rr.error(ne))}(x,U,ne,pe)}}catch(x){throw vs.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(Cp,"0.7.4"),(0,ce.registerVersion)(Cp,"0.7.4","esm2017");var Dp=F(7771),qm=F(3637),Sa=F(8307),_u=F(9746),Th=F(2639);const Bm=new r.GfV("7.2.0"),Uc="__angularfire_symbol__analyticsIsSupported",vo="__angularfire_symbol__remoteConfigIsSupported",Na="__angularfire_symbol__messagingIsSupported";function ws(D,A,x){if(A){if(1===A.length)return A[0];const pe=A.filter(Ie=>Ie.app===x);if(1===pe.length)return pe[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Uc]||(globalThis[Uc]=yo().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Na]||(globalThis[Na]=fl().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[vo]||(globalThis[vo]=pp().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const yu=(D,A)=>{const x=A?[A]:(0,q.C6)(),U=[];return x.forEach(ne=>{ne.container.getProvider(D).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function Vi(){}class qs{constructor(A,x=Dp.N){this.zone=A,this.delegate=x}now(){return this.delegate.now()}schedule(A,x,U){const ne=this.zone;return this.delegate.schedule(function(Ie){ne.runGuarded(()=>{A.apply(this,[Ie])})},x,U)}}class qc{constructor(A){this.zone=A,this.task=null}call(A,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),x.pipe((0,Sa.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ch=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new qs(Zone.current)),this.insideAngular=x.run(()=>new qs(Zone.current,qm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(r.LFG(r.R0b))},D.\u0275prov=r.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Go(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Dh(D){return D.pipe((0,_u.QV)(Go().outsideAngular))}function Kn(D){return Go(),function(D){return function(x){return(x=x.lift(new qc(D.ngZone))).pipe((0,Th.R)(D.outsideAngular),(0,_u.QV)(D.insideAngular))}}(Go())(D)}},2476:(Ye,we,F)=>{"use strict";F.d(we,{$:()=>Zm,A:()=>so,E:()=>Zr,G:()=>Cr,I:()=>Ls,K:()=>ks,L:()=>nu,M:()=>mp,N:()=>wc,P:()=>ne,Q:()=>ba,R:()=>Go,T:()=>ln,U:()=>Ji,V:()=>hi,W:()=>al,X:()=>Ki,Y:()=>au,Z:()=>_p,_:()=>lr,a:()=>bs,a0:()=>Ec,a1:()=>Ac,a2:()=>Ic,a3:()=>dl,a4:()=>cu,a5:()=>yp,a6:()=>hh,a7:()=>Bo,a8:()=>vp,a9:()=>Yn,aA:()=>Yo,aB:()=>Hs,aC:()=>Lr,aG:()=>_l,aJ:()=>Nn,aa:()=>_0,ab:()=>pl,ae:()=>Ea,af:()=>rr,ag:()=>xc,aj:()=>Cc,ak:()=>Vm,am:()=>Oc,an:()=>yh,ao:()=>hp,ap:()=>Hn,aq:()=>eu,ar:()=>Rs,as:()=>en,at:()=>Rh,au:()=>Mh,av:()=>Xt,aw:()=>Re,ax:()=>Ve,ay:()=>pt,az:()=>Tl,b:()=>xn,c:()=>cr,d:()=>js,e:()=>vu,f:()=>wu,g:()=>Ih,h:()=>Vr,i:()=>Dp,j:()=>Gm,k:()=>zc,l:()=>Kn,m:()=>Oh,n:()=>Fp,o:()=>ds,r:()=>Ep,s:()=>Dh,u:()=>x,z:()=>hs});var r=F(8239),q=F(3854),O=F(8026);function de(v,p){var _={};for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&p.indexOf(T)<0&&(_[T]=v[T]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(T=Object.getOwnPropertySymbols(v);M<T.length;M++)p.indexOf(T[M])<0&&Object.prototype.propertyIsEnumerable.call(v,T[M])&&(_[T[M]]=v[T[M]])}return _}var Ke=F(5422),qt=F(3910);const ds={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},so={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const hs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ss=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xi=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ms=new Ke.Yd("@firebase/auth");function _n(v,...p){Ms.logLevel<=Ke.in.ERROR&&Ms.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function en(v,...p){throw Yi(v,...p)}function Xt(v,...p){return Yi(v,...p)}function Ns(v,p,_){const T=Object.assign(Object.assign({},Ss()),{[p]:_});return new q.LL("auth","Firebase",T).create(p,{appName:v.name})}function ki(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&en(v,"argument-error"),Ns(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yi(v,...p){if("string"!=typeof v){const _=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=v.name),v._errorFactory.create(_,...T)}return xi.create(v,...p)}function Re(v,p,..._){if(!v)throw Yi(p,..._)}function Tn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw _n(p),new Error(p)}function Hn(v,p){v||Tn(p)}const Ri=new Map;function Ve(v){Hn(v instanceof Function,"Expected a class definition");let p=Ri.get(v);return p?(Hn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ri.set(v,p),p)}function $n(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function it(){return"http:"===nt()||"https:"===nt()}function nt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Gn{constructor(p,_){this.shortDelay=p,this.longDelay=_,Hn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(v,p){Hn(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,T){this.fetchImpl=p,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fa=new Gn(3e4,6e4);function hn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function nn(v,p,_,T){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(v,p,_,T,M={}){return fn(v,M,()=>{let k={},ee={};T&&("GET"===p?ee=T:k={body:JSON.stringify(T)});const ye=(0,q.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),Be=new(Pe.headers());return Be.set("Content-Type","application/json"),Be.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Be.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(W(v,v.config.apiHost,_,ye),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function fn(v,p,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,r.Z)(function*(v,p,_){v._canInitEmulator=!1;const T=Object.assign(Object.assign({},Qe),p);try{const M=new be(v),k=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ee=yield k.json();if("needConfirmation"in ee)throw le(v,"account-exists-with-different-credential",ee);if(k.ok&&!("errorMessage"in ee))return ee;{const ye=k.ok?ee.errorMessage:ee.error.message,[Be,Fe]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw le(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Be)throw le(v,"email-already-in-use",ee);const st=T[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Ns(v,st,Fe);en(v,st)}}catch(M){if(M instanceof q.ZR)throw M;en(v,"network-request-failed")}})).apply(this,arguments)}function G(v,p,_,T){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(v,p,_,T,M={}){const k=yield nn(v,p,_,T,M);return"mfaPendingCredential"in k&&en(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(v,p,_,T){const M=`${p}${_}?${T}`;return v.config.emulator?tn(v.config,M):`${v.config.apiScheme}://${M}`}class be{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(Xt(this.auth,"timeout")),fa.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function le(v,p,_){const T={appName:v.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const M=Xt(v,p,T);return M.customData._tokenResponse=_,M}function lt(){return(lt=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gt(v,p){return In.apply(this,arguments)}function In(){return(In=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function se(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Te(){return(Te=(0,r.Z)(function*(v,p=!1){const _=(0,q.m9)(v),T=yield _.getIdToken(p),M=ht(T);Re(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,ee=null==k?void 0:k.sign_in_provider;return{claims:M,token:T,authTime:se(Ze(M.auth_time)),issuedAtTime:se(Ze(M.iat)),expirationTime:se(Ze(M.exp)),signInProvider:ee||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ze(v){return 1e3*Number(v)}function ht(v){const[p,_,T]=v.split(".");if(void 0===p||void 0===_||void 0===T)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,q.tV)(_);return M?JSON.parse(M):(_n("Failed to decode base64 JWT payload"),null)}catch(M){return _n("Caught error parsing JWT payload as JSON",M),null}}function At(v,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,r.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(T){throw T instanceof q.ZR&&pn(T)&&v.auth.currentUser===v&&(yield v.auth.signOut()),T}})).apply(this,arguments)}function pn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Sn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,r.Z)(function*(){yield _.iteration()}),T)}iteration(){var p=this;return(0,r.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class wt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=se(this.lastLoginAt),this.creationTime=se(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(v){return ao.apply(this,arguments)}function ao(){return(ao=(0,r.Z)(function*(v){var p;const _=v.auth,T=yield v.getIdToken(),M=yield At(v,zn(_,{idToken:T}));Re(null==M?void 0:M.users.length,_,"internal-error");const k=M.users[0];v._notifyReloadListener(k);const ee=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?gn(k.providerUserInfo):[],ye=Lt(v.providerData,ee),st=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==ye?void 0:ye.length)),zt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ye,metadata:new wt(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(v,zt)})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(v){const p=(0,q.m9)(v);yield Mn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Lt(v,p){return[...v.filter(T=>!p.some(M=>M.providerId===T.providerId)),...p]}function gn(v){return v.map(p=>{var{providerId:_}=p,T=de(p,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function xs(){return(xs=(0,r.Z)(function*(v,p){const _=yield fn(v,{},()=>{const T=(0,q.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=v.config,ee=W(v,M,"/v1/token",`key=${k}`);return Pe.fetch()(ee,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Re(p.idToken,"internal-error"),Re(void 0!==p.idToken,"internal-error"),Re(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=ht(v);return Re(p,"internal-error"),Re(void 0!==p.exp,"internal-error"),Re(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var T=this;return(0,r.Z)(function*(){return Re(!T.accessToken||T.refreshToken,p,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var T=this;return(0,r.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:ee}=yield function(v,p){return xs.apply(this,arguments)}(p,_);T.updateTokensAndExpiration(M,k,Number(ee))})()}updateTokensAndExpiration(p,_,T){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,_){const{refreshToken:T,accessToken:M,expirationTime:k}=_,ee=new Zn;return T&&(Re("string"==typeof T,"internal-error",{appName:p}),ee.refreshToken=T),M&&(Re("string"==typeof M,"internal-error",{appName:p}),ee.accessToken=M),k&&(Re("number"==typeof k,"internal-error",{appName:p}),ee.expirationTime=k),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Zn,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function Tr(v,p){Re("string"==typeof v||void 0===v,"internal-error",{appName:p})}class yn{constructor(p){var{uid:_,auth:T,stsTokenManager:M}=p,k=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new wt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,r.Z)(function*(){const T=yield At(_,_.stsTokenManager.getToken(_.auth,p));return Re(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(p){return function(v){return Te.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(Re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new yn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var T=this;return(0,r.Z)(function*(){let M=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield Mn(T)),yield T.auth._persistUserIfCurrent(T),M&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,r.Z)(function*(){const _=yield p.getIdToken();return yield At(p,function(v,p){return lt.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var T,M,k,ee,ye,Be,Fe,st;const zt=null!==(T=_.displayName)&&void 0!==T?T:void 0,vn=null!==(M=_.email)&&void 0!==M?M:void 0,qr=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,bn=null!==(ee=_.photoURL)&&void 0!==ee?ee:void 0,Yc=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,Ph=null!==(Be=_._redirectEventId)&&void 0!==Be?Be:void 0,Fh=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Lp=null!==(st=_.lastLoginAt)&&void 0!==st?st:void 0,{uid:Lh,emailVerified:Jm,isAnonymous:Zh,providerData:wo,stsTokenManager:Km}=_;Re(Lh&&Km,p,"internal-error");const Ml=Zn.fromJSON(this.name,Km);Re("string"==typeof Lh,p,"internal-error"),Tr(zt,p.name),Tr(vn,p.name),Re("boolean"==typeof Jm,p,"internal-error"),Re("boolean"==typeof Zh,p,"internal-error"),Tr(qr,p.name),Tr(bn,p.name),Tr(Yc,p.name),Tr(Ph,p.name),Tr(Fh,p.name),Tr(Lp,p.name);const Qm=new yn({uid:Lh,auth:p,email:vn,emailVerified:Jm,displayName:zt,isAnonymous:Zh,photoURL:bn,phoneNumber:qr,tenantId:Yc,stsTokenManager:Ml,createdAt:Fh,lastLoginAt:Lp});return wo&&Array.isArray(wo)&&(Qm.providerData=wo.map(Wc=>Object.assign({},Wc))),Ph&&(Qm._redirectEventId=Ph),Qm}static _fromIdTokenResponse(p,_,T=!1){return(0,r.Z)(function*(){const M=new Zn;M.updateFromServerResponse(_);const k=new yn({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:T});return yield Mn(k),k})()}}const ks=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(_,T){var M=this;return(0,r.Z)(function*(){M.storage[_]=T})()}_get(_){var T=this;return(0,r.Z)(function*(){const M=T.storage[_];return void 0===M?null:M})()}_remove(_){var T=this;return(0,r.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return v.type="NONE",v})();function pt(v,p,_){return`firebase:${v}:${p}:${_}`}class di{constructor(p,_,T){this.persistence=p,this.auth=_,this.userKey=T;const{config:M,name:k}=this.auth;this.fullUserKey=pt(this.userKey,M.apiKey,k),this.fullPersistenceKey=pt("persistence",M.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,r.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?yn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,r.Z)(function*(){if(_.persistence===p)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,T="authUser"){return(0,r.Z)(function*(){if(!_.length)return new di(Ve(ks),p,T);const M=(yield Promise.all(_.map(function(){var Fe=(0,r.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let k=M[0]||Ve(ks);const ee=pt(T,p.config.apiKey,p.name);let ye=null;for(const Fe of _)try{const st=yield Fe._get(ee);if(st){const zt=yn._fromJSON(p,st);Fe!==k&&(ye=zt),k=Fe;break}}catch(st){}const Be=M.filter(Fe=>Fe._shouldAllowMigration);return k._shouldAllowMigration&&Be.length?(k=Be[0],ye&&(yield k._set(ee,ye.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,r.Z)(function*(st){if(st!==k)try{yield st._remove(ee)}catch(zt){}});return function(st){return Fe.apply(this,arguments)}}())),new di(k,p,T)):new di(k,p,T)})()}}function uo(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ga(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(gr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Oi(p))return"Blackberry";if(ct(p))return"Webos";if(Lo(p))return"Safari";if((p.includes("chrome/")||Pr(p))&&!p.includes("edge/"))return"Chrome";if(Rs(p))return"Android";{const T=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function gr(v=(0,q.z$)()){return/firefox\//i.test(v)}function Lo(v=(0,q.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Pr(v=(0,q.z$)()){return/crios\//i.test(v)}function ga(v=(0,q.z$)()){return/iemobile/i.test(v)}function Rs(v=(0,q.z$)()){return/android/i.test(v)}function Oi(v=(0,q.z$)()){return/blackberry/i.test(v)}function ct(v=(0,q.z$)()){return/webos/i.test(v)}function eu(v=(0,q.z$)()){return/iphone|ipad|ipod/i.test(v)}function hp(v=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Zo(v=(0,q.z$)()){return eu(v)||Rs(v)||ct(v)||Oi(v)||/windows phone/i.test(v)||ga(v)}function Os(v,p=[]){let _;switch(v){case"Browser":_=uo((0,q.z$)());break;case"Worker":_=`${uo((0,q.z$)())}-${v}`;break;default:_=v}const T=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${T}`}class Fr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var T=this;return _&&(this._popupRedirectResolver=Ve(_)),this._initializationPromise=this.queue((0,r.Z)(function*(){var M,k;T._deleted||(T.persistenceManager=yield di.create(T,p),!T._deleted&&((null===(M=T._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(k=T.currentUser)||void 0===k?void 0:k.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,r.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,r.Z)(function*(){var T;let M=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const k=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,ee=null==M?void 0:M._redirectEventId,ye=yield _.tryRedirectSignIn(p);(!k||k===ee)&&(null==ye?void 0:ye.user)&&(M=ye.user)}return M?M._redirectEventId?(Re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,r.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(M){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,r.Z)(function*(){try{yield Mn(p)}catch(T){if("auth/network-request-failed"!==T.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,r.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,r.Z)(function*(){const T=p?(0,q.m9)(p):null;return T&&Re(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,r.Z)(function*(){if(!_._deleted)return p&&Re(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,r.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,r.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,r.Z)(function*(){yield _.assertedPersistence.setPersistence(Ve(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new q.LL("auth","Firebase",p())}onAuthStateChanged(p,_,T){return this.registerStateListener(this.authStateSubscription,p,_,T)}onIdTokenChanged(p,_,T){return this.registerStateListener(this.idTokenSubscription,p,_,T)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var T=this;return(0,r.Z)(function*(){const M=yield T.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,r.Z)(function*(){if(!_.redirectPersistenceManager){const T=p&&Ve(p)||_._popupRedirectResolver;Re(T,_,"argument-error"),_.redirectPersistenceManager=yield di.create(_,[Ve(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,r.Z)(function*(){var T,M;return _._isInitialized&&(yield _.queue((0,r.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,r.Z)(function*(){if(p===_.currentUser)return _.queue((0,r.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,T,M){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(ee,this,"internal-error"),ee.then(()=>k(this.currentUser)),"function"==typeof _?p.addObserver(_,T,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,r.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Lr(v){return(0,q.m9)(v)}class Ps{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,q.ne)(_=>this.observer=_)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zr(v,p,_){const T=Lr(v);Re(T._canInitEmulator,T,"emulator-config-failed"),Re(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),k=pc(p),{host:ee,port:ye}=function(v){const p=pc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(T);if(M){const k=M[1];return{host:k,port:Ur(T.substr(k.length+1))}}{const[k,ee]=T.split(":");return{host:k,port:Ur(ee)}}}(p);T.config.emulator={url:`${k}//${ee}${null===ye?"":`:${ye}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ee,port:ye,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function pc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ur(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Cr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Tn("not implemented")}_getIdTokenResponse(p){return Tn("not implemented")}_linkToIdToken(p,_){return Tn("not implemented")}_getReauthenticationResolver(p){return Tn("not implemented")}}function fp(v,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:resetPassword",hn(v,p))})).apply(this,arguments)}function th(v,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pm(v,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:update",hn(v,p))})).apply(this,arguments)}function co(){return(co=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPassword",hn(v,p))})).apply(this,arguments)}function _c(v,p){return ih.apply(this,arguments)}function ih(){return(ih=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:sendOobCode",hn(v,p))})).apply(this,arguments)}function Fm(v,p){return sh.apply(this,arguments)}function sh(){return(sh=(0,r.Z)(function*(v,p){return _c(v,p)})).apply(this,arguments)}function Lm(v,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,r.Z)(function*(v,p){return _c(v,p)})).apply(this,arguments)}function m0(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,r.Z)(function*(v,p){return _c(v,p)})).apply(this,arguments)}function pp(v,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,r.Z)(function*(v,p){return _c(v,p)})).apply(this,arguments)}function ah(){return(ah=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithEmailLink",hn(v,p))})).apply(this,arguments)}function il(){return(il=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithEmailLink",hn(v,p))})).apply(this,arguments)}class Pi extends Cr{constructor(p,_,T,M=null){super("password",T),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Pi(p,_,"password")}static _fromEmailAndCode(p,_,T=null){return new Pi(p,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,r.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return co.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return ah.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:en(p,"internal-error")}})()}_linkToIdToken(p,_){var T=this;return(0,r.Z)(function*(){switch(T.signInMethod){case"password":return th(p,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(v,p){return il.apply(this,arguments)}(p,{idToken:_,email:T._email,oobCode:T._password});default:en(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Fs(v,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithIdp",hn(v,p))})).apply(this,arguments)}class Ls extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ls(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):en("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:M}=_,k=de(_,["providerId","signInMethod"]);if(!T||!M)return null;const ee=new Ls(T,M);return ee.idToken=k.idToken||void 0,ee.accessToken=k.accessToken||void 0,ee.secret=k.secret,ee.nonce=k.nonce,ee.pendingToken=k.pendingToken||null,ee}_getIdTokenResponse(p){return Fs(p,this.buildRequest())}_linkToIdToken(p,_){const T=this.buildRequest();return T.idToken=_,Fs(p,T)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Fs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,q.xO)(_)}return p}}function _a(v,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:sendVerificationCode",hn(v,p))})).apply(this,arguments)}function ya(){return(ya=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,p))})).apply(this,arguments)}function bc(){return(bc=(0,r.Z)(function*(v,p){const _=yield G(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,p));if(_.temporaryProof)throw le(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wi={USER_NOT_FOUND:"user-not-found"};function sl(){return(sl=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithPhoneNumber",hn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wi)})).apply(this,arguments)}class ps extends Cr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new ps({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new ps({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ya.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return bc.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return sl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:T,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:T,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:T,phoneNumber:M,temporaryProof:k}=p;return T||_||M||k?new ps({verificationId:_,verificationCode:T,phoneNumber:M,temporaryProof:k}):null}}class va{constructor(p){var _,T,M,k,ee,ye;const Be=(0,q.zd)((0,q.pd)(p)),Fe=null!==(_=Be.apiKey)&&void 0!==_?_:null,st=null!==(T=Be.oobCode)&&void 0!==T?T:null,zt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Be.mode)&&void 0!==M?M:null);Re(Fe&&st&&zt,"argument-error"),this.apiKey=Fe,this.operation=zt,this.code=st,this.continueUrl=null!==(k=Be.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ee=Be.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(ye=Be.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const _=function(v){const p=(0,q.zd)((0,q.pd)(v)).link,_=p?(0,q.zd)((0,q.pd)(p)).deep_link_id:null,T=(0,q.zd)((0,q.pd)(v)).deep_link_id;return(T?(0,q.zd)((0,q.pd)(T)).link:null)||T||_||p||v}(p);try{return new va(_)}catch(T){return null}}}let nu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,T){return Pi._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const M=va.parseLink(T);return Re(M,"argument-error"),Pi._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Dr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fo extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ln extends fo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return Re("providerId"in _&&"signInMethod"in _,"argument-error"),Ls._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Re(p.idToken||p.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ln.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ln.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:M,pendingToken:k,nonce:ee,providerId:ye}=p;if(!T&&!M&&!_&&!k||!ye)return null;try{return new ln(ye)._credential({idToken:_,accessToken:T,nonce:ee,pendingToken:k})}catch(Be){return null}}}let mp=(()=>{class v extends fo{constructor(){super("facebook.com")}static credential(_){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),wc=(()=>{class v extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:M}=_;if(!T&&!M)return null;try{return v.credential(T,M)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ba=(()=>{class v extends fo{constructor(){super("github.com")}static credential(_){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Nn extends Cr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Fs(p,this.buildRequest())}_linkToIdToken(p,_){const T=this.buildRequest();return T.idToken=_,Fs(p,T)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Fs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:M,pendingToken:k}=_;return T&&M&&k&&T===M?new Nn(T,k):null}static _create(p,_){return new Nn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ji extends Dr{constructor(p){Re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ji.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ji.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Nn.fromJSON(p);return Re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:T}=p;if(!_||!T)return null;try{return Nn._create(T,_)}catch(M){return null}}}let hi=(()=>{class v extends fo{constructor(){super("twitter.com")}static credential(_,T){return Ls._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:M}=_;if(!T||!M)return null;try{return v.credential(T,M)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ol(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signUp",hn(v,p))})).apply(this,arguments)}class _r{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,T,M=!1){return(0,r.Z)(function*(){const k=yield yn._fromIdTokenResponse(p,T,M),ee=gs(T);return new _r({user:k,providerId:ee,_tokenResponse:T,operationType:_})})()}static _forOperation(p,_,T){return(0,r.Z)(function*(){yield p._updateTokensIfNecessary(T,!0);const M=gs(T);return new _r({user:p,providerId:M,_tokenResponse:T,operationType:_})})()}}function gs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function al(v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,r.Z)(function*(v){var p;const _=Lr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new _r({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield ol(_,{returnSecureToken:!0}),M=yield _r._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class dt extends q.ZR{constructor(p,_,T,M){var k;super(_.code,_.message),this.operationType=T,this.user=M,Object.setPrototypeOf(this,dt.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,_,T,M){return new dt(p,_,T,M)}}function ch(v,p,_,T){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?dt._fromErrorAndOperation(v,k,p,T):k})}function dh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Cc(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,r.Z)(function*(v,p){const _=(0,q.m9)(v);yield ms(!0,_,p);const{providerUserInfo:T}=yield Gt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=dh(T||[]);return _.providerData=_.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function iu(v,p){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,r.Z)(function*(v,p,_=!1){const T=yield At(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return _r._forOperation(v,"link",T)})).apply(this,arguments)}function ms(v,p,_){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,r.Z)(function*(v,p,_){yield Mn(p);const M=!1===v?"provider-already-linked":"no-such-provider";Re(dh(p.providerData).has(_)===v,p.auth,M)})).apply(this,arguments)}function xt(v,p){return su.apply(this,arguments)}function su(){return(su=(0,r.Z)(function*(v,p,_=!1){const{auth:T}=v,M="reauthenticate";try{const k=yield At(v,ch(T,M,p,v),_);Re(k.idToken,T,"internal-error");const ee=ht(k.idToken);Re(ee,T,"internal-error");const{sub:ye}=ee;return Re(v.uid===ye,T,"user-mismatch"),_r._forOperation(v,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&en(T,"user-mismatch"),k}})).apply(this,arguments)}function Cn(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,r.Z)(function*(v,p,_=!1){const T="signIn",M=yield ch(v,T,p),k=yield _r._fromIdTokenResponse(v,T,M);return _||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ki(v,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,r.Z)(function*(v,p){return Cn(Lr(v),p)})).apply(this,arguments)}function au(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,r.Z)(function*(v,p){const _=(0,q.m9)(v);return yield ms(!1,_,p.providerId),iu(_,p)})).apply(this,arguments)}function _p(v,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,r.Z)(function*(v,p){return xt((0,q.m9)(v),p)})).apply(this,arguments)}function cl(v,p){return po.apply(this,arguments)}function po(){return(po=(0,r.Z)(function*(v,p){return G(v,"POST","/v1/accounts:signInWithCustomToken",hn(v,p))})).apply(this,arguments)}function lr(v,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,r.Z)(function*(v,p){const _=Lr(v),T=yield cl(_,{token:p,returnSecureToken:!0}),M=yield _r._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ta{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?_s._fromServerResponse(p,_):en(p,"internal-error")}}class _s extends Ta{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new _s(_)}}function Er(v,p,_){var T;Re((null===(T=_.url)||void 0===T?void 0:T.length)>0,v,"invalid-continue-uri"),Re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Re(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(Re(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Zm(v,p,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v),M={requestType:"PASSWORD_RESET",email:p};_&&Er(T,M,_),yield Lm(T,M)})).apply(this,arguments)}function Ec(v,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,r.Z)(function*(v,p,_){yield fp((0,q.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function Ac(v,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,r.Z)(function*(v,p){yield Pm((0,q.m9)(v),{oobCode:p})})).apply(this,arguments)}function Ic(v,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,r.Z)(function*(v,p){const _=(0,q.m9)(v),T=yield fp(_,{oobCode:p}),M=T.requestType;switch(Re(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(T.mfaInfo,_,"internal-error");default:Re(T.email,_,"internal-error")}let k=null;return T.mfaInfo&&(k=Ta._fromServerResponse(Lr(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function dl(v,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,r.Z)(function*(v,p){const{data:_}=yield Ic((0,q.m9)(v),p);return _.email})).apply(this,arguments)}function cu(v,p,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,r.Z)(function*(v,p,_){const T=Lr(v),M=yield ol(T,{returnSecureToken:!0,email:p,password:_}),k=yield _r._fromIdTokenResponse(T,"signIn",M);return yield T._updateCurrentUser(k.user),k})).apply(this,arguments)}function yp(v,p,_){return Ki((0,q.m9)(v),nu.credential(p,_))}function hh(v,p,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};Re(_.handleCodeInApp,T,"argument-error"),_&&Er(T,M,_),yield m0(T,M)})).apply(this,arguments)}function Bo(v,p){const _=va.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function vp(v,p,_){return du.apply(this,arguments)}function du(){return(du=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v),M=nu.credentialWithLink(p,_||$n());return Re(M._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Ki(T,M)})).apply(this,arguments)}function Ar(v,p){return go.apply(this,arguments)}function go(){return(go=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:createAuthUri",hn(v,p))})).apply(this,arguments)}function Yn(v,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,r.Z)(function*(v,p){const T={identifier:p,continueUri:it()?$n():"http://localhost"},{signinMethods:M}=yield Ar((0,q.m9)(v),T);return M||[]})).apply(this,arguments)}function _0(v,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,r.Z)(function*(v,p){const _=(0,q.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Er(_.auth,M,p);const{email:k}=yield Fm(_.auth,M);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function pl(v,p,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Er(T.auth,k,_);const{email:ee}=yield pp(T.auth,k);ee!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nc(v,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,r.Z)(function*(v,p){return nn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ea(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,r.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const T=(0,q.m9)(v),k={idToken:yield T.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},ee=yield At(T,Nc(T.auth,k));T.displayName=ee.displayName||null,T.photoURL=ee.photoUrl||null;const ye=T.providerData.find(({providerId:Be})=>"password"===Be);ye&&(ye.displayName=T.displayName,ye.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ee)})).apply(this,arguments)}function rr(v,p){return fh((0,q.m9)(v),p,null)}function xc(v,p){return fh((0,q.m9)(v),null,p)}function fh(v,p,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,r.Z)(function*(v,p,_){const{auth:T}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),_&&(k.password=_);const ee=yield At(v,th(T,k));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Ho{constructor(p,_,T={}){this.isNewUser=p,this.providerId=_,this.profile=T}}class ph extends Ho{constructor(p,_,T,M){super(p,_,T),this.username=M}}class $o extends Ho{constructor(p,_){super(p,"facebook.com",_)}}class kc extends ph{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class bp extends Ho{constructor(p,_){super(p,"google.com",_)}}class Um extends ph{constructor(p,_,T){super(p,"twitter.com",_,T)}}function Vm(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:T}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!T&&(null==v?void 0:v.idToken)){const ee=null===(_=null===(p=ht(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(ee)return new Ho(k,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!T)return null;switch(T){case"facebook.com":return new $o(k,M);case"github.com":return new kc(k,M);case"google.com":return new bp(k,M);case"twitter.com":return new Um(k,M,v.screenName||null);case"custom":case"anonymous":return new Ho(k,null);default:return new Ho(k,T,M)}}(_)}class Aa{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Aa("enroll",p)}static _fromMfaPendingCredential(p){return new Aa("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,T;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Aa._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(T=p.multiFactorSession)||void 0===T?void 0:T.idToken)return Aa._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Us{constructor(p,_,T){this.session=p,this.hints=_,this.signInResolver=T}static _fromError(p,_){const T=Lr(p),M=_.customData._serverResponse,k=(M.mfaInfo||[]).map(ye=>Ta._fromServerResponse(T,ye));Re(M.mfaPendingCredential,T,"internal-error");const ee=Aa._fromMfaPendingCredential(M.mfaPendingCredential);return new Us(ee,k,function(){var ye=(0,r.Z)(function*(Be){const Fe=yield Be._process(T,ee);delete M.mfaInfo,delete M.mfaPendingCredential;const st=Object.assign(Object.assign({},M),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const zt=yield _r._fromIdTokenResponse(T,_.operationType,st);return yield T._updateCurrentUser(zt.user),zt;case"reauthenticate":return Re(_.user,T,"internal-error"),_r._forOperation(_.user,_.operationType,st);default:en(T,"internal-error")}});return function(Be){return ye.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,r.Z)(function*(){return _.signInResolver(p)})()}}function Oc(v,p){var _;const T=(0,q.m9)(v),M=p;return Re(p.customData.operationType,T,"argument-error"),Re(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Us._fromError(T,M)}function Ia(v,p){return nn(v,"POST","/v2/accounts/mfaEnrollment:start",hn(v,p))}class Pc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>Ta._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new Pc(p)}getSession(){var p=this;return(0,r.Z)(function*(){return Aa._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var T=this;return(0,r.Z)(function*(){const M=p,k=yield T.getSession(),ee=yield At(T.user,M._process(T.user.auth,k,_));return yield T.user._updateTokensIfNecessary(ee),T.user.reload()})()}unenroll(p){var _=this;return(0,r.Z)(function*(){const T="string"==typeof p?p:p.uid,M=yield _.user.getIdToken(),k=yield At(_.user,function(v,p){return nn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(v,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ee})=>ee!==T),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(ee){if("auth/user-token-expired"!==ee.code)throw ee}})()}}const _h=new WeakMap;function yh(v){const p=(0,q.m9)(v);return _h.has(p)||_h.set(p,Pc._fromUser(p)),_h.get(p)}const mo="__sak";class fu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class v extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,q.z$)();return Lo(v)||eu(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Zo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const M=this.storage.getItem(T),k=this.localCache[T];M!==k&&_(T,k,M)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((ye,Be,Fe)=>{this.notifyListeners(ye,Fe)});const M=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(M);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!T)return}const k=()=>{const ye=this.storage.getItem(M);!T&&this.localCache[M]===ye||this.notifyListeners(M,ye)},ee=this.storage.getItem(M);(0,q.w1)()&&10===document.documentMode&&ee!==_.newValue&&_.newValue!==_.oldValue?setTimeout(k,10):k()}notifyListeners(_,T){this.localCache[_]=T;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var M=()=>super._set,k=this;return(0,r.Z)(function*(){yield M().call(k,_,T),k.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,M=this;return(0,r.Z)(function*(){const k=yield T().call(M,_);return M.localCache[_]=JSON.stringify(k),k})()}_remove(_){var T=()=>super._remove,M=this;return(0,r.Z)(function*(){yield T().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),bs=(()=>{class v extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return v.type="SESSION",v})();let gu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(k=>k.isListeningto(_));if(T)return T;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,r.Z)(function*(){const M=_,{eventId:k,eventType:ee,data:ye}=M.data,Be=T.handlersMap[ee];if(!(null==Be?void 0:Be.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:ee});const Fe=Array.from(Be).map(function(){var zt=(0,r.Z)(function*(vn){return vn(M.origin,ye)});return function(vn){return zt.apply(this,arguments)}}()),st=yield function(v){return Promise.all(v.map(function(){var p=(0,r.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);M.ports[0].postMessage({status:"done",eventId:k,eventType:ee,response:st})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function _l(v="",p=10){let _="";for(let T=0;T<p;T++)_+=Math.floor(10*Math.random());return v+_}class yl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,T=50){var M=this;return(0,r.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ee,ye;return new Promise((Be,Fe)=>{const st=_l("",20);k.port1.start();const zt=setTimeout(()=>{Fe(new Error("unsupported_event"))},T);ye={messageChannel:k,onMessage(vn){const qr=vn;if(qr.data.eventId===st)switch(qr.data.status){case"ack":clearTimeout(zt),ee=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Be(qr.data.response);break;default:clearTimeout(zt),clearTimeout(ee),Fe(new Error("invalid_response"))}}},M.handlers.add(ye),k.port1.addEventListener("message",ye.onMessage),M.target.postMessage({eventType:p,eventId:st,data:_},[k.port2])}).finally(()=>{ye&&M.removeMessageHandler(ye)})})()}}function kt(){return window}function _o(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Zi(){return(Zi=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Zc="firebaseLocalStorageDb",Ui="firebaseLocalStorage",Vs="fbase_key";class es{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jr(v,p){return v.transaction([Ui],p?"readwrite":"readonly").objectStore(Ui)}function vl(){const v=indexedDB.open(Zc,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const T=v.result;try{T.createObjectStore(Ui,{keyPath:Vs})}catch(M){_(M)}}),v.addEventListener("success",(0,r.Z)(function*(){const T=v.result;T.objectStoreNames.contains(Ui)?p(T):(T.close(),yield function(){const v=indexedDB.deleteDatabase(Zc);return new es(v).toPromise()}(),p(yield vl()))}))})}function at(v,p,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,r.Z)(function*(v,p,_){const T=Jr(v,!0).put({[Vs]:p,value:_});return new es(T).toPromise()})).apply(this,arguments)}function wh(){return(wh=(0,r.Z)(function*(v,p){const _=Jr(v,!1).get(p),T=yield new es(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function On(v,p){const _=Jr(v,!0).delete(p);return new es(_).toPromise()}const Dp=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,r.Z)(function*(){return _.db||(_.db=yield vl()),_.db})()}_withRetries(_){var T=this;return(0,r.Z)(function*(){let M=0;for(;;)try{const k=yield T._openDb();return yield _(k)}catch(k){if(M++>3)throw k;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,r.Z)(function*(){return _o()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,r.Z)(function*(){_.receiver=gu._getInstance(_o()?self:null),_.receiver._subscribe("keyChanged",function(){var T=(0,r.Z)(function*(M,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(M,k){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,r.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,r.Z)(function*(){var T,M;if(_.activeServiceWorker=yield function(){return Zi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new yl(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(T=k[0])||void 0===T?void 0:T.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,r.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const _=yield vl();return yield at(_,mo,"1"),yield On(_,mo),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,r.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var M=this;return(0,r.Z)(function*(){return M._withPendingWrite((0,r.Z)(function*(){return yield M._withRetries(k=>at(k,_,T)),M.localCache[_]=T,M.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,r.Z)(function*(){const M=yield T._withRetries(k=>function(v,p){return wh.apply(this,arguments)}(k,_));return T.localCache[_]=M,M})()}_remove(_){var T=this;return(0,r.Z)(function*(){return T._withPendingWrite((0,r.Z)(function*(){return yield T._withRetries(M=>On(M,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,r.Z)(function*(){const T=yield _._withRetries(ee=>{const ye=Jr(ee,!1).getAll();return new es(ye).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:ee,value:ye}of T)k.add(ee),JSON.stringify(_.localCache[ee])!==JSON.stringify(ye)&&(_.notifyListeners(ee,ye),M.push(ee));for(const ee of Object.keys(_.localCache))_.localCache[ee]&&!k.has(ee)&&(_.notifyListeners(ee,null),M.push(ee));return M})()}notifyListeners(_,T){this.localCache[_]=T;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function qm(v,p){return nn(v,"POST","/v2/accounts/mfaSignIn:start",hn(v,p))}function Th(){return(Th=(0,r.Z)(function*(v){return(yield nn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v){return new Promise((p,_)=>{const T=document.createElement("script");T.setAttribute("src",v),T.onload=p,T.onerror=M=>{const k=Xt("internal-error");k.customData=M,_(k)},T.type="text/javascript",T.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(T)})}function Uc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class Na{constructor(p){this.auth=p,this.counter=Fn,this._widgets=new Map}render(p,_){const T=this.counter;return this._widgets.set(T,new Vn(p,this.auth.name,_||{})),this.counter++,T}reset(p){var _;const T=p||Fn;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,r.Z)(function*(){var T;return null===(T=_._widgets.get(p||Fn))||void 0===T||T.execute(),""})()}}class Vn{constructor(p,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Re(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wl=Uc("rcb"),ts=new Gn(3e4,6e4);class yu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,_=""){return Re((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(kt().grecaptcha):new Promise((T,M)=>{const k=kt().setTimeout(()=>{M(Xt(p,"network-request-failed"))},ts.get());kt()[wl]=()=>{kt().clearTimeout(k),delete kt()[wl];const ye=kt().grecaptcha;if(!ye)return void M(Xt(p,"internal-error"));const Be=ye.render;ye.render=(Fe,st)=>{const zt=Be(Fe,st);return this.counter++,zt},this.hostLanguage=_,T(ye)},Pn(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:wl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),M(Xt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qs{load(p){return(0,r.Z)(function*(){return new Na(p)})()}clearedOneInstance(){}}const qc="recaptcha",Ch={theme:"light",type:"image"};class Go{constructor(p,_=Object.assign({},Ch),T){this.parameters=_,this.type=qc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lr(T),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qs:new yu,this.validateStartingState()}verify(){var p=this;return(0,r.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(_)||new Promise(k=>{const ee=ye=>{!ye||(p.tokenChangeListeners.delete(ee),k(ye))};p.tokenChangeListeners.add(ee),p.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof p)p(_);else if("string"==typeof p){const T=kt()[p];"function"==typeof T&&T(_)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,r.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,r.Z)(function*(){Re(it()&&!_o(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return Th.apply(this,arguments)}(p.auth);Re(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bs{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=ps._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Dh(v,p,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,r.Z)(function*(v,p,_){const T=Lr(v),M=yield D(T,p,(0,q.m9)(_));return new Bs(M,k=>Ki(T,k))})).apply(this,arguments)}function Kn(v,p,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v);yield ms(!1,T,"phone");const M=yield D(T.auth,p,(0,q.m9)(_));return new Bs(M,k=>au(T,k))})).apply(this,arguments)}function Ep(v,p,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v),M=yield D(T.auth,p,(0,q.m9)(_));return new Bs(M,k=>_p(T,k))})).apply(this,arguments)}function D(v,p,_){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(v,p,_){var T;const M=yield _.verify();try{let k;if(Re("string"==typeof M,v,"argument-error"),Re(_.type===qc,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const ee=k.session;if("phoneNumber"in k)return Re("enroll"===ee.type,v,"internal-error"),(yield Ia(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Re("signin"===ee.type,v,"internal-error");const ye=(null===(T=k.multiFactorHint)||void 0===T?void 0:T.uid)||k.multiFactorUid;return Re(ye,v,"missing-multi-factor-info"),(yield qm(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield _a(v,{phoneNumber:k.phoneNumber,recaptchaToken:M});return ee}}finally{_._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(v,p){yield iu((0,q.m9)(v),p)})).apply(this,arguments)}let ne=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Lr(_)}verifyPhoneNumber(_,T){return D(this.auth,_,(0,q.m9)(T))}static credential(_,T){return ps._fromVerification(_,T)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:M}=_;return T&&M?ps._fromTokenResponse(T,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function pe(v,p){return p?Ve(p):(Re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ie extends Cr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Fs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Fs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Fs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function je(v){return Cn(v.auth,new Ie(v),v.bypassAuthState)}function Ge(v){const{auth:p,user:_}=v;return Re(_,p,"internal-error"),xt(_,new Ie(v),v.bypassAuthState)}function Vt(v){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(v){const{auth:p,user:_}=v;return Re(_,p,"internal-error"),iu(_,new Ie(v),v.bypassAuthState)})).apply(this,arguments)}class sr{constructor(p,_,T,M,k=!1){this.auth=p,this.resolver=T,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,r.Z)(function*(T,M){p.pendingPromise={resolve:T,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(T,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,r.Z)(function*(){const{urlResponse:T,sessionId:M,postBody:k,tenantId:ee,error:ye,type:Be}=p;if(ye)return void _.reject(ye);const Fe={auth:_.auth,requestUri:T,sessionId:M,tenantId:ee||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Be)(Fe))}catch(st){_.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return Vt;case"reauthViaPopup":case"reauthViaRedirect":return Ge;default:en(this.auth,"internal-error")}}resolve(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gi=new Gn(2e3,1e4);function cr(v,p,_){return xa.apply(this,arguments)}function xa(){return(xa=(0,r.Z)(function*(v,p,_){const T=Lr(v);ki(v,p,Dr);const M=pe(T,_);return new _t(T,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function vu(v,p,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v);ki(T.auth,p,Dr);const M=pe(T.auth,_);return new _t(T.auth,"reauthViaPopup",p,M,T).executeNotNull()})).apply(this,arguments)}function js(v,p,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v);ki(T.auth,p,Dr);const M=pe(T.auth,_);return new _t(T.auth,"linkViaPopup",p,M,T).executeNotNull()})).apply(this,arguments)}let _t=(()=>{class v extends sr{constructor(_,T,M,k,ee){super(_,T,k,ee),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,r.Z)(function*(){const T=yield _.execute();return Re(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,r.Z)(function*(){Hn(1===_.filter.length,"Popup operations only handle one event");const T=_l();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Xt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,M;this.pollId=(null===(M=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,gi.get())};_()}}return v.currentPopupAction=null,v})();const Dn=new Map;class Ap extends sr{constructor(p,_,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,r.Z)(function*(){let T=Dn.get(_.auth._key());if(!T){try{const k=(yield function(v,p){return zo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;T=()=>Promise.resolve(k)}catch(M){T=()=>Promise.reject(M)}Dn.set(_.auth._key(),T)}return _.bypassAuthState||Dn.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,T=this;return(0,r.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(T,p);if("unknown"!==p.type){if(p.eventId){const M=yield T.auth._redirectUserForId(p.eventId);if(M)return T.user=M,_().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function zo(){return(zo=(0,r.Z)(function*(v,p){const _=$m(p),T=Eh(v);if(!(yield T._isAvailable()))return!1;const M="true"===(yield T._get(_));return yield T._remove(_),M})).apply(this,arguments)}function bu(v,p){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,r.Z)(function*(v,p){return Eh(v)._set($m(p),"true")})).apply(this,arguments)}function Hs(){Dn.clear()}function Eh(v){return Ve(v._redirectPersistence)}function $m(v){return pt("pendingRedirect",v.config.apiKey,v.name)}function wu(v,p,_){return function(v,p,_){return Qn.apply(this,arguments)}(v,p,_)}function Qn(){return(Qn=(0,r.Z)(function*(v,p,_){const T=Lr(v);ki(v,p,Dr);const M=pe(T,_);return yield bu(M,T),M._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function Vr(v,p,_){return function(v,p,_){return Ah.apply(this,arguments)}(v,p,_)}function Ah(){return(Ah=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v);ki(T.auth,p,Dr);const M=pe(T.auth,_);yield bu(M,T.auth);const k=yield Hc(T);return M._openRedirect(T.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Ih(v,p,_){return function(v,p,_){return Sh.apply(this,arguments)}(v,p,_)}function Sh(){return(Sh=(0,r.Z)(function*(v,p,_){const T=(0,q.m9)(v);ki(T.auth,p,Dr);const M=pe(T.auth,_);yield ms(!1,T,p.providerId),yield bu(M,T.auth);const k=yield Hc(T);return M._openRedirect(T.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Gm(v,p){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,r.Z)(function*(v,p){return yield Lr(v)._initializationPromise,Yo(v,p,!1)})).apply(this,arguments)}function Yo(v,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,r.Z)(function*(v,p,_=!1){const T=Lr(v),M=pe(T,p),ee=yield new Ap(T,M,_).execute();return ee&&!_&&(delete ee.user._redirectEventId,yield T._persistUserIfCurrent(ee.user),yield T._setRedirectUser(null,p)),ee})).apply(this,arguments)}function Hc(v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,r.Z)(function*(v){const p=_l(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Tl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(_=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fa(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var T;if(p.error&&!Fa(p)){const M=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(Xt(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const T=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(p))}saveEventToCache(p){this.cachedEventUids.add(w0(p)),this.lastProcessedEventTime=Date.now()}}function w0(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Fa({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Mh(v){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,r.Z)(function*(v,p={}){return nn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function Nh(){return(Nh=(0,r.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Mh(v);for(const _ of p)try{if(Np(_))return}catch(T){}en(v,"unauthorized-domain")})).apply(this,arguments)}function Np(v){const p=$n(),{protocol:_,hostname:T}=new URL(p);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===T?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&ee.hostname===T}if(!Wo.test(_))return!1;if(Mp.test(v))return T===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(T)}const xh=new Gn(3e4,6e4);function Cl(){const v=kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Dl=null;function xp(v){return Dl=Dl||function(v){return new Promise((p,_)=>{var T,M,k;function ee(){Cl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Cl(),_(Xt(v,"network-request-failed"))},timeout:xh.get()})}if(null===(M=null===(T=kt().gapi)||void 0===T?void 0:T.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=kt().gapi)||void 0===k?void 0:k.load)){const ye=Uc("iframefcb");return kt()[ye]=()=>{gapi.load?ee():_(Xt(v,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${ye}`)}ee()}}).catch(p=>{throw Dl=null,p})}(v),Dl}const Cu=new Gn(5e3,15e3),kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A0(v){const p=v.config;Re(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?tn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,T={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},M=E0.get(v.config.apiHost);M&&(T.eid=M);const k=v._getFrameworks();return k.length&&(T.fw=k.join(",")),`${_}?${(0,q.xO)(T).slice(1)}`}function La(){return(La=(0,r.Z)(function*(v){const p=yield xp(v),_=kt().gapi;return Re(_,v,"internal-error"),p.open({where:document.body,url:A0(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kh,dontclear:!0},T=>new Promise(function(){var M=(0,r.Z)(function*(k,ee){yield T.restyle({setHideOnLeave:!1});const ye=Xt(v,"network-request-failed"),Be=kt().setTimeout(()=>{ee(ye)},Cu.get());function Fe(){kt().clearTimeout(Be),k(T)}T.ping(Fe).then(Fe,()=>{ee(ye)})});return function(k,ee){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const zm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class El{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Rh(v,p,_,T,M,k){Re(v.config.authDomain,v,"auth-domain-config-required"),Re(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:T,v:O.SDK_VERSION,eventId:M};if(p instanceof Dr){p.setDefaultLanguage(v.languageCode),ee.providerId=p.providerId||"",(0,q.xb)(p.getCustomParameters())||(ee.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,Fe]of Object.entries(k||{}))ee[Be]=Fe}if(p instanceof fo){const Be=p.getScopes().filter(Fe=>""!==Fe);Be.length>0&&(ee.scopes=Be.join(","))}v.tenantId&&(ee.tid=v.tenantId);const ye=ee;for(const Be of Object.keys(ye))void 0===ye[Be]&&delete ye[Be];return`${function({config:v}){return v.emulator?tn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,q.xO)(ye).slice(1)}`}const Al="webStorageSupport",zc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=Yo}_openPopup(p,_,T,M){var k=this;return(0,r.Z)(function*(){var ee;Hn(null===(ee=k.eventManagers[p._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const ye=Rh(p,_,T,$n(),M);return function(v,p,_,T=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),ee=Math.max((window.screen.availWidth-T)/2,0).toString();let ye="";const Be=Object.assign(Object.assign({},zm),{width:T.toString(),height:M.toString(),top:k,left:ee}),Fe=(0,q.z$)().toLowerCase();_&&(ye=Pr(Fe)?"_blank":_),gr(Fe)&&(p=p||"http://localhost",Be.scrollbars="yes");const st=Object.entries(Be).reduce((vn,[qr,bn])=>`${vn}${qr}=${bn},`,"");if(function(v=(0,q.z$)()){var p;return eu(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==ye)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(p||"",ye),new El(null);const zt=window.open(p||"",ye,st);Re(zt,v,"popup-blocked");try{zt.focus()}catch(vn){}return new El(zt)}(p,ye,_l())})()}_openRedirect(p,_,T,M){var k=this;return(0,r.Z)(function*(){return yield k._originValidation(p),v=Rh(p,_,T,$n(),M),kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:k}=this.eventManagers[_];return M?Promise.resolve(M):(Hn(k,"If manager is not set, promise should be"),k)}const T=this.initAndGetManager(p);return this.eventManagers[_]={promise:T},T}initAndGetManager(p){var _=this;return(0,r.Z)(function*(){const T=yield function(v){return La.apply(this,arguments)}(p),M=new Tl(p);return T.register("authEvent",k=>(Re(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=T,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Al,{type:Al},M=>{var k;const ee=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[Al];void 0!==ee&&_(!!ee),en(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return Nh.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Zo()||Lo()||eu()}};class Qo extends class{constructor(p){this.factorId=p}_process(p,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,T);case"signin":return this._finalizeSignIn(p,_.credential);default:return Tn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qo(p)}_finalizeEnroll(p,_,T){return function(v,p){return nn(v,"POST","/v2/accounts/mfaEnrollment:finalize",hn(v,p))}(p,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return nn(v,"POST","/v2/accounts/mfaSignIn:finalize",hn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oh=(()=>{class v{constructor(){}static assertion(_){return Qo._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Pp="@firebase/auth";class S0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,r.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(T=>{var M;p((null===(M=T)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fp(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const M=_.getImmediate(),k=_.getOptions();if((0,q.vZ)(k,null!=p?p:{}))return M;en(M,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:zc,persistence:[Dp,xn,bs]})}v="Browser",(0,O._registerComponent)(new qt.wA("auth",(p,{options:_})=>{const T=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=T.options;return(ee=>{Re(M&&!M.includes(":"),"invalid-api-key",{appName:ee.name}),Re(!(null==k?void 0:k.includes(":")),"argument-error",{appName:ee.name});const ye={apiKey:M,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Os(v)},Be=new Fr(ee,ye);return function(v,p){const _=(null==p?void 0:p.persistence)||[],T=(Array.isArray(_)?_:[_]).map(Ve);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(T,null==p?void 0:p.popupRedirectResolver)}(Be,_),Be})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,T)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new qt.wA("auth-internal",p=>{const _=Lr(p.getProvider("auth").getImmediate());return new S0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Pp,"0.19.3",void 0),(0,O.registerVersion)(Pp,"0.19.3","esm2017")},3854:(Ye,we,F)=>{"use strict";F.d(we,{BH:()=>fe,LL:()=>We,ZR:()=>qt,zI:()=>mt,US:()=>te,tV:()=>z,$s:()=>nn,r3:()=>un,Sg:()=>Oe,ne:()=>Hn,vZ:()=>Xt,ZB:()=>V,pd:()=>Re,m9:()=>oo,z$:()=>Ne,jU:()=>re,ru:()=>ae,d:()=>ke,xb:()=>_n,w1:()=>It,hl:()=>An,uI:()=>De,UG:()=>ge,b$:()=>Ce,G6:()=>vt,Mn:()=>Mt,xO:()=>ki,zd:()=>Yi,eu:()=>Dt});const ce=function(G){const $=[];let W=0;for(let be=0;be<G.length;be++){let le=G.charCodeAt(be);le<128?$[W++]=le:le<2048?($[W++]=le>>6|192,$[W++]=63&le|128):55296==(64512&le)&&be+1<G.length&&56320==(64512&G.charCodeAt(be+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++be)),$[W++]=le>>18|240,$[W++]=le>>12&63|128,$[W++]=le>>6&63|128,$[W++]=63&le|128):($[W++]=le>>12|224,$[W++]=le>>6&63|128,$[W++]=63&le|128)}return $},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let le=0;le<G.length;le+=3){const He=G[le],lt=le+1<G.length,Gt=lt?G[le+1]:0,In=le+2<G.length,zn=In?G[le+2]:0;let Q=(15&Gt)<<2|zn>>6,K=63&zn;In||(K=64,lt||(Q=64)),be.push(W[He>>2],W[(3&He)<<4|Gt>>4],W[Q],W[K])}return be.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(ce(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let W=0,be=0;for(;W<G.length;){const le=G[W++];if(le<128)$[be++]=String.fromCharCode(le);else if(le>191&&le<224){const He=G[W++];$[be++]=String.fromCharCode((31&le)<<6|63&He)}else if(le>239&&le<365){const In=((7&le)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;$[be++]=String.fromCharCode(55296+(In>>10)),$[be++]=String.fromCharCode(56320+(1023&In))}else{const He=G[W++],lt=G[W++];$[be++]=String.fromCharCode((15&le)<<12|(63&He)<<6|63&lt)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let le=0;le<G.length;){const He=W[G.charAt(le++)],Gt=le<G.length?W[G.charAt(le)]:0;++le;const zn=le<G.length?W[G.charAt(le)]:64;++le;const se=le<G.length?W[G.charAt(le)]:64;if(++le,null==He||null==Gt||null==zn||null==se)throw Error();be.push(He<<2|Gt>>4),64!==zn&&(be.push(Gt<<4&240|zn>>2),64!==se&&be.push(zn<<6&192|se))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},X=function(G){return function(G){const $=ce(G);return te.encodeByteArray($,!0)}(G).replace(/\./g,"")},z=function(G){try{return te.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function V(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!H(W)||(G[W]=V(G[W],$[W]));return G}function H(G){return"__proto__"!==G}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,be)=>{W?this.reject(W):this.resolve(be),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,be))}}}function Oe(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=$||"demo-project",le=G.iat||0,He=G.sub||G.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:le,exp:le+3600,auth_time:le,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},G);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(lt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function re(){return"object"==typeof self&&self.self===self}function ae(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ne().indexOf("Electron/")>=0}function It(){const G=Ne();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Mt(){return Ne().indexOf("MSAppHost/")>=0}function vt(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function An(){return"object"==typeof indexedDB}function Dt(){return new Promise((G,$)=>{try{let W=!0;const be="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(be);le.onsuccess=()=>{le.result.close(),W||self.indexedDB.deleteDatabase(be),G(!0)},le.onupgradeneeded=()=>{W=!1},le.onerror=()=>{var He;$((null===(He=le.error)||void 0===He?void 0:He.message)||"")}}catch(W){$(W)}})}function mt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class qt extends Error{constructor($,W,be){super(W),this.code=$,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor($,W,be){this.service=$,this.serviceName=W,this.errors=be}create($,...W){const be=W[0]||{},le=`${this.service}/${$}`,He=this.errors[$],lt=He?function(G,$){return G.replace(Xa,(W,be)=>{const le=$[be];return null!=le?String(le):`<${be}?>`})}(He,be):"Error";return new qt(le,`${this.serviceName}: ${lt} (${le}).`,be)}}const Xa=/\{\$([^}]+)}/g;function un(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function _n(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function Xt(G,$){if(G===$)return!0;const W=Object.keys(G),be=Object.keys($);for(const le of W){if(!be.includes(le))return!1;const He=G[le],lt=$[le];if(Ns(He)&&Ns(lt)){if(!Xt(He,lt))return!1}else if(He!==lt)return!1}for(const le of be)if(!W.includes(le))return!1;return!0}function Ns(G){return null!==G&&"object"==typeof G}function ki(G){const $=[];for(const[W,be]of Object.entries(G))Array.isArray(be)?be.forEach(le=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(le))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(be));return $.length?"&"+$.join("&"):""}function Yi(G){const $={};return G.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[le,He]=be.split("=");$[decodeURIComponent(le)]=decodeURIComponent(He)}}),$}function Re(G){const $=G.indexOf("?");if(!$)return"";const W=G.indexOf("#",$);return G.substring($,W>0?W:void 0)}function Hn(G,$){const W=new Ri(G,$);return W.subscribe.bind(W)}class Ri{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(be=>{this.error(be)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,be){let le;if(void 0===$&&void 0===W&&void 0===be)throw new Error("Missing Observer.");le=function(G,$){if("object"!=typeof G||null===G)return!1;for(const W of["next","error","complete"])if(W in G&&"function"==typeof G[W])return!0;return!1}($)?$:{next:$,error:W,complete:be},void 0===le.next&&(le.next=pr),void 0===le.error&&(le.error=pr),void 0===le.complete&&(le.complete=pr);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(lt){}}),this.observers.push(le),He}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function nn(G,$=1e3,W=2){const be=$*Math.pow(W,G),le=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+le)}function oo(G){return G&&G._delegate?G._delegate:G}},2329:(Ye,we,F)=>{"use strict";F.d(we,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=F(8026);(0,r.registerVersion)("firebase","9.6.0","app")},7841:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>r.Z});var r=F(3394);r.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(Ye,we,F)=>{"use strict";F.r(we);var r=F(8239),q=F(3394),O=F(2476),ce=F(3854),de=(F(8026),F(5422),F(3910));function X(){return window}function V(){return(V=(0,r.Z)(function*(se,Q,K){var Te;const{BuildInfo:Ze}=X();(0,O.ap)(Q.sessionId,"AuthEvent did not contain a session ID");const ht=yield re(Q.sessionId),Ut={};return(0,O.aq)()?Ut.ibi=Ze.packageName:(0,O.ar)()?Ut.apn=Ze.packageName:(0,O.as)(se,"operation-not-supported-in-this-environment"),Ze.displayName&&(Ut.appDisplayName=Ze.displayName),Ut.sessionId=ht,(0,O.at)(se,K,Q.type,void 0,null!==(Te=Q.eventId)&&void 0!==Te?Te:void 0,Ut)})).apply(this,arguments)}function fe(){return(fe=(0,r.Z)(function*(se){const{BuildInfo:Q}=X(),K={};(0,O.aq)()?K.iosBundleId=Q.packageName:(0,O.ar)()?K.androidPackageName=Q.packageName:(0,O.as)(se,"operation-not-supported-in-this-environment"),yield(0,O.au)(se,K)})).apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(se,Q,K){const{cordova:Te}=X();let Ze=()=>{};try{yield new Promise((ht,Ut)=>{let At=null;function kn(){var wt;ht();const Mn=null===(wt=Te.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof Mn&&Mn(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function pn(){At||(At=window.setTimeout(()=>{Ut((0,O.av)(se,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}Q.addPassiveListener(kn),document.addEventListener("resume",pn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",Sn,!1),Ze=()=>{Q.removePassiveListener(kn),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Sn,!1),At&&window.clearTimeout(At)}})}finally{Ze()}})).apply(this,arguments)}function re(se){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(se){const Q=Ce(se),K=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(K)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ce(se){if((0,O.ap)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const Q=new ArrayBuffer(se.length),K=new Uint8Array(Q);for(let Te=0;Te<se.length;Te++)K[Te]=se.charCodeAt(Te);return K}class It extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,r.Z)(function*(){yield Q.initPromise})()}}function vt(se){return An.apply(this,arguments)}function An(){return(An=(0,r.Z)(function*(se){const Q=yield Pt()._get(Ke(se));return Q&&(yield Pt()._remove(Ke(se))),Q})).apply(this,arguments)}function mt(){const se=[],Q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Te=Math.floor(Math.random()*Q.length);se.push(Q.charAt(Te))}return se.join("")}function Pt(){return(0,O.ax)(O.b)}function Ke(se){return(0,O.ay)("authEvent",se.config.apiKey,se.name)}function ds(se){if(!(null==se?void 0:se.includes("?")))return{};const[Q,...K]=se.split("?");return(0,ce.zd)(K.join("?"))}function Jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function un(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function _n(se=(0,ce.z$)()){return!("file:"!==un()&&"ionic:"!==un()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yi(){try{const se=self.localStorage,Q=O.aG();if(se)return se.setItem(Q,"1"),se.removeItem(Q),!function(se=(0,ce.z$)()){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)||function(se=(0,ce.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,ce.hl)()}catch(se){return Re()&&(0,ce.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return("http:"===un()||"https:"===un()||(0,ce.ru)()||_n())&&!((0,ce.b$)()||(0,ce.UG)())&&Yi()&&!Re()}function Hn(){return _n()&&"undefined"!=typeof document}function Ve(){return(Ve=(0,r.Z)(function*(){return!!Hn()&&new Promise(se=>{const Q=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),se(!0)})})})).apply(this,arguments)}const Ht={LOCAL:"local",NONE:"none",SESSION:"session"},pr=O.aw,$n="persistence";function nt(se){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(se){yield se._initializationPromise;const Q=Gn(),K=O.ay($n,se.config.apiKey,se.name);(null==Q?void 0:Q.sessionStorage)&&Q.sessionStorage.setItem(K,se._getPersistence())})).apply(this,arguments)}function Gn(){return"undefined"!=typeof window?window:null}const tn=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(Q){var K=this;return(0,r.Z)(function*(){const Te=Q._key();let Ze=K.eventManagers.get(Te);return Ze||(Ze=new It(Q),K.eventManagers.set(Te,Ze),K.attachCallbackListeners(Q,Ze)),Ze})()}_openPopup(Q){(0,O.as)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,K,Te,Ze){var ht=this;return(0,r.Z)(function*(){!function(se){var Q,K,Te,Ze,ht,Ut,At,kn,pn,Sn;const wt=X();(0,O.aw)("function"==typeof(null===(Q=null==wt?void 0:wt.universalLinks)||void 0===Q?void 0:Q.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(K=null==wt?void 0:wt.BuildInfo)||void 0===K?void 0:K.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(ht=null===(Ze=null===(Te=null==wt?void 0:wt.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===ht?void 0:ht.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(kn=null===(At=null===(Ut=null==wt?void 0:wt.cordova)||void 0===Ut?void 0:Ut.plugins)||void 0===At?void 0:At.browsertab)||void 0===kn?void 0:kn.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Sn=null===(pn=null==wt?void 0:wt.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Sn?void 0:Sn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Ut=yield ht._initialize(Q);yield Ut.initialized(),Ut.resetRedirect(),(0,O.aB)(),yield ht._originValidation(Q);const At=function(se,Q,K=null){return{type:Q,eventId:K,urlResponse:null,sessionId:mt(),postBody:null,tenantId:se.tenantId,error:(0,O.av)(se,"no-auth-event")}}(Q,Te,Ze);yield function(se,Q){return Pt()._set(Ke(se),Q)}(Q,At);const kn=yield function(se,Q,K){return V.apply(this,arguments)}(Q,At,K),pn=yield function(se){const{cordova:Q}=X();return new Promise(K=>{Q.plugins.browsertab.isAvailable(Te=>{let Ze=null;Te?Q.plugins.browsertab.openUrl(se):Ze=Q.InAppBrowser.open(se,(0,O.ao)()?"_blank":"_system","location=yes"),K(Ze)})})}(kn);return function(se,Q,K){return De.apply(this,arguments)}(Q,Ut,pn)})()}_isIframeWebStorageSupported(Q,K){throw new Error("Method not implemented.")}_originValidation(Q){const K=Q._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function(se){return fe.apply(this,arguments)}(Q)),this.originValidationPromises[K]}attachCallbackListeners(Q,K){const{universalLinks:Te,handleOpenURL:Ze,BuildInfo:ht}=X(),Ut=setTimeout((0,r.Z)(function*(){yield vt(Q),K.onEvent(Jt())}),500),At=function(){var Sn=(0,r.Z)(function*(wt){clearTimeout(Ut);const Mn=yield vt(Q);let ao=null;Mn&&(null==wt?void 0:wt.url)&&(ao=function(se,Q){var K,Te;const Ze=function(se){const Q=ds(se),K=Q.link?decodeURIComponent(Q.link):void 0,Te=ds(K).link,Ze=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return ds(Ze).link||Ze||Te||K||se}(Q);if(Ze.includes("/__/auth/callback")){const ht=ds(Ze),Ut=ht.firebaseError?function(se){try{return JSON.parse(se)}catch(Q){return null}}(decodeURIComponent(ht.firebaseError)):null,At=null===(Te=null===(K=null==Ut?void 0:Ut.code)||void 0===K?void 0:K.split("auth/"))||void 0===Te?void 0:Te[1],kn=At?(0,O.av)(At):null;return kn?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:kn,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Ze,postBody:null}}return null}(Mn,wt.url)),K.onEvent(ao||Jt())});return function(Mn){return Sn.apply(this,arguments)}}();void 0!==Te&&"function"==typeof Te.subscribe&&Te.subscribe(null,At);const kn=Ze,pn=`${ht.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var Sn=(0,r.Z)(function*(wt){if(wt.toLowerCase().startsWith(pn)&&At({url:wt}),"function"==typeof kn)try{kn(wt)}catch(Mn){console.error(Mn)}});return function(wt){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(Q){var K=this;return(0,r.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,K,Te,Ze){var ht=this;return(0,r.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(Q,K,Te,Ze)})()}_openRedirect(Q,K,Te,Ze){var ht=this;return(0,r.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(Q,K,Te,Ze)})()}_isIframeWebStorageSupported(Q,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,K)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Hn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,r.Z)(function*(){if(Q.underlyingResolver)return;const K=yield function(){return Ve.apply(this,arguments)}();Q.underlyingResolver=K?Q.cordovaResolver:Q.browserResolver})()}}function Qe(se){return se.unwrap()}function hn(se){return Kt(se)}function Kt(se){const{_tokenResponse:Q}=se instanceof ce.ZR?se.customData:se;if(!Q)return null;if(!(se instanceof ce.ZR)&&"temporaryProof"in Q&&"phoneNumber"in Q)return O.P.credentialFromResult(se);const K=Q.providerId;if(!K||K===O.o.PASSWORD)return null;let Te;switch(K){case O.o.GOOGLE:Te=O.N;break;case O.o.FACEBOOK:Te=O.M;break;case O.o.GITHUB:Te=O.Q;break;case O.o.TWITTER:Te=O.V;break;default:const{oauthIdToken:Ze,oauthAccessToken:ht,oauthTokenSecret:Ut,pendingToken:At,nonce:kn}=Q;return ht||Ut||Ze||At?At?K.startsWith("saml.")?O.aJ._create(K,At):O.I._fromParams({providerId:K,signInMethod:K,pendingToken:At,idToken:Ze,accessToken:ht}):new O.T(K).credential({idToken:Ze,accessToken:ht,rawNonce:kn}):null}return se instanceof ce.ZR?Te.credentialFromError(se):Te.credentialFromResult(se)}function fn(se,Q){return Q.catch(K=>{throw K instanceof ce.ZR&&function(se,Q){var K;const Te=null===(K=Q.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===Q.code)Q.resolver=new $(se,O.am(se,Q));else if(Te){const Ze=Kt(Q),ht=Q;Ze&&(ht.credential=Ze,ht.tenantId=Te.tenantId||void 0,ht.email=Te.email||void 0,ht.phoneNumber=Te.phoneNumber||void 0)}}(se,K),K}).then(K=>{const Ze=K.user;return{operationType:K.operationType,credential:hn(K),additionalUserInfo:O.ak(K),user:W.getOrCreate(Ze)}})}function oo(se,Q){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(se,Q){const K=yield Q;return{verificationId:K.verificationId,confirm:Te=>fn(se,K.confirm(Te))}})).apply(this,arguments)}class ${constructor(Q,K){this.resolver=K,this.auth=Q.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return fn(Qe(this.auth),this.resolver.resolveSignIn(Q))}}class W{constructor(Q){this._delegate=Q,this.multiFactor=O.an(Q)}static getOrCreate(Q){return W.USER_MAP.has(Q)||W.USER_MAP.set(Q,new W(Q)),W.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var K=this;return(0,r.Z)(function*(){return fn(K.auth,O.Y(K._delegate,Q))})()}linkWithPhoneNumber(Q,K){var Te=this;return(0,r.Z)(function*(){return oo(Te.auth,O.l(Te._delegate,Q,K))})()}linkWithPopup(Q){var K=this;return(0,r.Z)(function*(){return fn(K.auth,O.d(K._delegate,Q,Pe))})()}linkWithRedirect(Q){var K=this;return(0,r.Z)(function*(){return yield nt(O.aC(K.auth)),O.g(K._delegate,Q,Pe)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var K=this;return(0,r.Z)(function*(){return fn(K.auth,O.Z(K._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,K){return oo(this.auth,O.r(this._delegate,Q,K))}reauthenticateWithPopup(Q){return fn(this.auth,O.e(this._delegate,Q,Pe))}reauthenticateWithRedirect(Q){var K=this;return(0,r.Z)(function*(){return yield nt(O.aC(K.auth)),O.h(K._delegate,Q,Pe)})()}sendEmailVerification(Q){return O.aa(this._delegate,Q)}unlink(Q){var K=this;return(0,r.Z)(function*(){return yield O.aj(K._delegate,Q),K})()}updateEmail(Q){return O.af(this._delegate,Q)}updatePassword(Q){return O.ag(this._delegate,Q)}updatePhoneNumber(Q){return O.u(this._delegate,Q)}updateProfile(Q){return O.ae(this._delegate,Q)}verifyBeforeUpdateEmail(Q,K){return O.ab(this._delegate,Q,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const be=O.aw;let le=(()=>{class se{constructor(K,Te){if(this.app=K,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=K.options;be(Ze,"invalid-api-key",{appName:K.name});let ht=[O.K];if("undefined"!=typeof window){ht=function(se,Q){const K=Gn();if(!(null==K?void 0:K.sessionStorage))return[];const Te=O.ay($n,se,Q);switch(K.sessionStorage.getItem(Te)){case Ht.NONE:return[O.K];case Ht.LOCAL:return[O.i,O.a];case Ht.SESSION:return[O.a];default:return[]}}(Ze,K.name);for(const At of[O.i,O.b,O.a])ht.includes(At)||ht.push(At)}be(Ze,"invalid-api-key",{appName:K.name});const Ut="undefined"!=typeof window?Pe:void 0;this._delegate=Te.initialize({options:{persistence:ht,popupRedirectResolver:Ut}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Te){O.E(this._delegate,K,Te)}applyActionCode(K){return O.a1(this._delegate,K)}checkActionCode(K){return O.a2(this._delegate,K)}confirmPasswordReset(K,Te){return O.a0(this._delegate,K,Te)}createUserWithEmailAndPassword(K,Te){var Ze=this;return(0,r.Z)(function*(){return fn(Ze._delegate,O.a4(Ze._delegate,K,Te))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return O.a9(this._delegate,K)}isSignInWithEmailLink(K){return O.a7(this._delegate,K)}getRedirectResult(){var K=this;return(0,r.Z)(function*(){be(Tn(),K._delegate,"operation-not-supported-in-this-environment");const Te=yield O.j(K._delegate,Pe);return Te?fn(K._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function(se,Q){(0,O.aC)(se)._logFramework(Q)}(this._delegate,K)}onAuthStateChanged(K,Te,Ze){const{next:ht,error:Ut,complete:At}=He(K,Te,Ze);return this._delegate.onAuthStateChanged(ht,Ut,At)}onIdTokenChanged(K,Te,Ze){const{next:ht,error:Ut,complete:At}=He(K,Te,Ze);return this._delegate.onIdTokenChanged(ht,Ut,At)}sendSignInLinkToEmail(K,Te){return O.a6(this._delegate,K,Te)}sendPasswordResetEmail(K,Te){return O.$(this._delegate,K,Te||void 0)}setPersistence(K){var Te=this;return(0,r.Z)(function*(){let Ze;switch(function(se,Q){pr(Object.values(Ht).includes(Q),se,"invalid-persistence-type"),(0,ce.b$)()?pr(Q!==Ht.SESSION,se,"unsupported-persistence-type"):(0,ce.UG)()?pr(Q===Ht.NONE,se,"unsupported-persistence-type"):Re()?pr(Q===Ht.NONE||Q===Ht.LOCAL&&(0,ce.hl)(),se,"unsupported-persistence-type"):pr(Q===Ht.NONE||Yi(),se,"unsupported-persistence-type")}(Te._delegate,K),K){case Ht.SESSION:Ze=O.a;break;case Ht.LOCAL:Ze=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ht.NONE:Ze=O.K;break;default:return O.as("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return fn(this._delegate,O.W(this._delegate))}signInWithCredential(K){return fn(this._delegate,O.X(this._delegate,K))}signInWithCustomToken(K){return fn(this._delegate,O._(this._delegate,K))}signInWithEmailAndPassword(K,Te){return fn(this._delegate,O.a5(this._delegate,K,Te))}signInWithEmailLink(K,Te){return fn(this._delegate,O.a8(this._delegate,K,Te))}signInWithPhoneNumber(K,Te){return oo(this._delegate,O.s(this._delegate,K,Te))}signInWithPopup(K){var Te=this;return(0,r.Z)(function*(){return be(Tn(),Te._delegate,"operation-not-supported-in-this-environment"),fn(Te._delegate,O.c(Te._delegate,K,Pe))})()}signInWithRedirect(K){var Te=this;return(0,r.Z)(function*(){return be(Tn(),Te._delegate,"operation-not-supported-in-this-environment"),yield nt(Te._delegate),O.f(Te._delegate,K,Pe)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return O.a3(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Ht,se})();function He(se,Q,K){let Te=se;"function"!=typeof se&&({next:Te,error:Q,complete:K}=se);const Ze=Te;return{next:Ut=>Ze(Ut&&W.getOrCreate(Ut)),error:Q,complete:K}}class lt{constructor(){this.providerId="phone",this._delegate=new O.P(Qe(q.Z.auth()))}static credential(Q,K){return O.P.credential(Q,K)}verifyPhoneNumber(Q,K){return this._delegate.verifyPhoneNumber(Q,K)}unwrap(){return this._delegate}}lt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,lt.PROVIDER_ID=O.P.PROVIDER_ID;const Gt=O.aw;var se;(se=q.Z).INTERNAL.registerComponent(new de.wA("auth-compat",Q=>{const K=Q.getProvider("app-compat").getImmediate(),Te=Q.getProvider("auth");return new le(K,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:lt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(Q,K,Te=q.Z.app()){var Ze;Gt(null===(Ze=Te.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new O.R(Q,K,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:le,AuthCredential:O.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Ye,we){!function(F){"use strict";function r(ge){return Array.prototype.slice.call(ge)}function q(ge){return new Promise(function(re,ae){ge.onsuccess=function(){re(ge.result)},ge.onerror=function(){ae(ge.error)}})}function O(ge,re,ae){var Ce,ke=new Promise(function(It,Mt){q(Ce=ge[re].apply(ge,ae)).then(It,Mt)});return ke.request=Ce,ke}function ce(ge,re,ae){var Ce=O(ge,re,ae);return Ce.then(function(ke){if(ke)return new L(ke,Ce.request)})}function ue(ge,re,ae){ae.forEach(function(Ce){Object.defineProperty(ge.prototype,Ce,{get:function(){return this[re][Ce]},set:function(ke){this[re][Ce]=ke}})})}function te(ge,re,ae,Ce){Ce.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return O(this[re],ke,arguments)})})}function de(ge,re,ae,Ce){Ce.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return this[re][ke].apply(this[re],arguments)})})}function X(ge,re,ae,Ce){Ce.forEach(function(ke){ke in ae.prototype&&(ge.prototype[ke]=function(){return ce(this[re],ke,arguments)})})}function z(ge){this._index=ge}function L(ge,re){this._cursor=ge,this._request=re}function V(ge){this._store=ge}function H(ge){this._tx=ge,this.complete=new Promise(function(re,ae){ge.oncomplete=function(){re()},ge.onerror=function(){ae(ge.error)},ge.onabort=function(){ae(ge.error)}})}function fe(ge,re,ae){this._db=ge,this.oldVersion=re,this.transaction=new H(ae)}function Oe(ge){this._db=ge}ue(z,"_index",["name","keyPath","multiEntry","unique"]),te(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),X(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ue(L,"_cursor",["direction","key","primaryKey","value"]),te(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var re=this,ae=arguments;return Promise.resolve().then(function(){return re._cursor[ge].apply(re._cursor,ae),q(re._request).then(function(Ce){if(Ce)return new L(Ce,re._request)})})})}),V.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ue(V,"_store",["name","keyPath","indexNames","autoIncrement"]),te(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),X(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),de(V,"_store",IDBObjectStore,["deleteIndex"]),H.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},ue(H,"_tx",["objectStoreNames","mode"]),de(H,"_tx",IDBTransaction,["abort"]),fe.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},ue(fe,"_db",["name","version","objectStoreNames"]),de(fe,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new H(this._db.transaction.apply(this._db,arguments))},ue(Oe,"_db",["name","version","objectStoreNames"]),de(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[V,z].forEach(function(re){ge in re.prototype&&(re.prototype[ge.replace("open","iterate")]=function(){var ae=r(arguments),Ce=ae[ae.length-1],ke=this._store||this._index,It=ke[ge].apply(ke,ae.slice(0,-1));It.onsuccess=function(){Ce(It.result)}})})}),[z,V].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(re,ae){var Ce=this,ke=[];return new Promise(function(It){Ce.iterateCursor(re,function(Mt){Mt?(ke.push(Mt.value),void 0===ae||ke.length!=ae?Mt.continue():It(ke)):It(ke)})})})}),F.openDb=function(ge,re,ae){var Ce=O(indexedDB,"open",[ge,re]),ke=Ce.request;return ke&&(ke.onupgradeneeded=function(It){ae&&ae(new fe(ke.result,It.oldVersion,ke.transaction))}),Ce.then(function(It){return new Oe(It)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},1593:(Ye,we,F)=>{"use strict";F.d(we,{P:()=>de});var r=F(9193),q=F(5917),O=F(7574);class de{constructor(z,L,V){this.kind=z,this.value=L,this.error=V,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,L,V){switch(this.kind){case"N":return z&&z(this.value);case"E":return L&&L(this.error);case"C":return V&&V()}}accept(z,L,V){return z&&"function"==typeof z.next?this.observe(z):this.do(z,L,V)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return X=this.error,new O.y(L=>L.error(X));case"C":return(0,r.c)()}var X;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new de("N",z):de.undefinedValueNotification}static createError(z){return new de("E",void 0,z)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Ye,we,F)=>{"use strict";F.d(we,{y:()=>V});var r=F(7393),O=F(9181),ce=F(6490),te=F(6554),de=F(4487);var L=F(2494);let V=(()=>{class fe{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const De=new fe;return De.source=this,De.operator=Ne,De}subscribe(Ne,De,ge){const{operator:re}=this,ae=function(fe,Oe,Ne){if(fe){if(fe instanceof r.L)return fe;if(fe[O.b])return fe[O.b]()}return fe||Oe||Ne?new r.L(fe,Oe,Ne):new r.L(ce.c)}(Ne,De,ge);if(ae.add(re?re.call(ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!ae.syncErrorThrowable?this._subscribe(ae):this._trySubscribe(ae)),L.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable&&(ae.syncErrorThrowable=!1,ae.syncErrorThrown))throw ae.syncErrorValue;return ae}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(De){L.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=De),function(fe){for(;fe;){const{closed:Oe,destination:Ne,isStopped:De}=fe;if(Oe||De)return!1;fe=Ne&&Ne instanceof r.L?Ne:null}return!0}(Ne)?Ne.error(De):console.warn(De)}}forEach(Ne,De){return new(De=H(De))((ge,re)=>{let ae;ae=this.subscribe(Ce=>{try{Ne(Ce)}catch(ke){re(ke),ae&&ae.unsubscribe()}},re,ge)})}_subscribe(Ne){const{source:De}=this;return De&&De.subscribe(Ne)}[te.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(fe){return 0===fe.length?de.y:1===fe.length?fe[0]:function(Ne){return fe.reduce((De,ge)=>ge(De),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=H(Ne))((De,ge)=>{let re;this.subscribe(ae=>re=ae,ae=>ge(ae),()=>De(re))})}}return fe.create=Oe=>new fe(Oe),fe})();function H(fe){if(fe||(fe=L.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},6490:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>O});var r=F(2494),q=F(4449);const O={closed:!0,next(ce){},error(ce){if(r.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,q.z)(ce)},complete(){}}},9765:(Ye,we,F)=>{"use strict";F.d(we,{Yc:()=>de,xQ:()=>X});var r=F(7574),q=F(7393),O=F(5319),ce=F(7971),ue=F(8858),te=F(9181);class de extends q.L{constructor(V){super(V),this.destination=V}}let X=(()=>{class L extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[te.b](){return new de(this)}lift(H){const fe=new z(this,this);return fe.operator=H,fe}next(H){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:fe}=this,Oe=fe.length,Ne=fe.slice();for(let De=0;De<Oe;De++)Ne[De].next(H)}}error(H){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:fe}=this,Oe=fe.length,Ne=fe.slice();for(let De=0;De<Oe;De++)Ne[De].error(H);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:H}=this,fe=H.length,Oe=H.slice();for(let Ne=0;Ne<fe;Ne++)Oe[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ce.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ce.N;return this.hasError?(H.error(this.thrownError),O.w.EMPTY):this.isStopped?(H.complete(),O.w.EMPTY):(this.observers.push(H),new ue.W(this,H))}asObservable(){const H=new r.y;return H.source=this,H}}return L.create=(V,H)=>new z(V,H),L})();class z extends X{constructor(V,H){super(),this.destination=V,this.source=H}next(V){const{destination:H}=this;H&&H.next&&H.next(V)}error(V){const{destination:H}=this;H&&H.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:H}=this;return H?this.source.subscribe(V):O.w.EMPTY}}},8858:(Ye,we,F)=>{"use strict";F.d(we,{W:()=>q});var r=F(5319);class q extends r.w{constructor(ce,ue){super(),this.subject=ce,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ue=ce.observers;if(this.subject=null,!ue||0===ue.length||ce.isStopped||ce.closed)return;const te=ue.indexOf(this.subscriber);-1!==te&&ue.splice(te,1)}}},7393:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>de});var r=F(9105),q=F(6490),O=F(5319),ce=F(9181),ue=F(2494),te=F(4449);class de extends O.w{constructor(L,V,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=q.c;break;case 1:if(!L){this.destination=q.c;break}if("object"==typeof L){L instanceof de?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,L,V,H)}}[ce.b](){return this}static create(L,V,H){const fe=new de(L,V,H);return fe.syncErrorThrowable=!1,fe}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class X extends de{constructor(L,V,H,fe){super(),this._parentSubscriber=L;let Oe,Ne=this;(0,r.m)(V)?Oe=V:V&&(Oe=V.next,H=V.error,fe=V.complete,V!==q.c&&(Ne=Object.create(V),(0,r.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=Oe,this._error=H,this._complete=fe}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;ue.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:H}=ue.v;if(this._error)H&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(V.syncErrorThrowable)H?(V.syncErrorValue=L,V.syncErrorThrown=!0):(0,te.z)(L),this.unsubscribe();else{if(this.unsubscribe(),H)throw L;(0,te.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const V=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,V){try{L.call(this._context,V)}catch(H){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw H;(0,te.z)(H)}}__tryOrSetError(L,V,H){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,H)}catch(fe){return ue.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=fe,L.syncErrorThrown=!0,!0):((0,te.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ye,we,F)=>{"use strict";F.d(we,{w:()=>te});var r=F(9796),q=F(1555),O=F(9105);const ue=(()=>{function X(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,V)=>`${V+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return X.prototype=Object.create(Error.prototype),X})();class te{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:V,_unsubscribe:H,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof te)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(H)){V&&(this._unsubscribe=void 0);try{H.call(this)}catch(Oe){z=Oe instanceof ue?de(Oe.errors):[Oe]}}if((0,r.k)(fe)){let Oe=-1,Ne=fe.length;for(;++Oe<Ne;){const De=fe[Oe];if((0,q.K)(De))try{De.unsubscribe()}catch(ge){z=z||[],ge instanceof ue?z=z.concat(de(ge.errors)):z.push(ge)}}}if(z)throw new ue(z)}add(z){let L=z;if(!z)return te.EMPTY;switch(typeof z){case"function":L=new te(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof te)){const fe=L;L=new te,L._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:V}=L;if(null===V)L._parentOrParents=this;else if(V instanceof te){if(V===this)return L;L._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return L;V.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[L]:H.push(L),L}remove(z){const L=this._subscriptions;if(L){const V=L.indexOf(z);-1!==V&&L.splice(V,1)}}}var X;function de(X){return X.reduce((z,L)=>z.concat(L instanceof ue?L.errors:L),[])}te.EMPTY=((X=new te).closed=!0,X)},2494:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>q});let r=!1;const q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=O},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(Ye,we,F)=>{"use strict";F.d(we,{IY:()=>ce,Ds:()=>te,ft:()=>X});var r=F(7393),q=F(7574),O=F(7444);class ce extends r.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class te extends r.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function X(z,L){if(L.closed)return;if(z instanceof q.y)return z.subscribe(L);let V;try{V=(0,O.s)(z)(L)}catch(H){L.error(H)}return V}},2441:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ue,N:()=>te});var r=F(9765),q=F(7574),O=F(5319),ce=F(1307);class ue extends q.y{constructor(V,H){super(),this.source=V,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new O.w,V.add(this.source.subscribe(new de(this.getSubject(),this))),V.closed&&(this._connection=null,V=O.w.EMPTY)),V}refCount(){return(0,ce.x)()(this)}}const te=(()=>{const L=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class de extends r.Yc{constructor(V,H){super(V),this.connectable=H}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const H=V._connection;V._refCount=0,V._subject=null,V._connection=null,H&&H.unsubscribe()}}}},9193:(Ye,we,F)=>{"use strict";F.d(we,{E:()=>q,c:()=>O});var r=F(7574);const q=new r.y(ue=>ue.complete());function O(ue){return ue?function(ue){return new r.y(te=>ue.schedule(()=>te.complete()))}(ue):q}},4402:(Ye,we,F)=>{"use strict";F.d(we,{D:()=>Ne});var r=F(7574),q=F(7444),O=F(5319),ce=F(6554),de=F(4087),X=F(377),V=F(4072),H=F(9489);function Ne(De,ge){return ge?function(De,ge){if(null!=De){if(function(De){return De&&"function"==typeof De[ce.L]}(De))return function(De,ge){return new r.y(re=>{const ae=new O.w;return ae.add(ge.schedule(()=>{const Ce=De[ce.L]();ae.add(Ce.subscribe({next(ke){ae.add(ge.schedule(()=>re.next(ke)))},error(ke){ae.add(ge.schedule(()=>re.error(ke)))},complete(){ae.add(ge.schedule(()=>re.complete()))}}))})),ae})}(De,ge);if((0,V.t)(De))return function(De,ge){return new r.y(re=>{const ae=new O.w;return ae.add(ge.schedule(()=>De.then(Ce=>{ae.add(ge.schedule(()=>{re.next(Ce),ae.add(ge.schedule(()=>re.complete()))}))},Ce=>{ae.add(ge.schedule(()=>re.error(Ce)))}))),ae})}(De,ge);if((0,H.z)(De))return(0,de.r)(De,ge);if(function(De){return De&&"function"==typeof De[X.hZ]}(De)||"string"==typeof De)return function(De,ge){if(!De)throw new Error("Iterable cannot be null");return new r.y(re=>{const ae=new O.w;let Ce;return ae.add(()=>{Ce&&"function"==typeof Ce.return&&Ce.return()}),ae.add(ge.schedule(()=>{Ce=De[X.hZ](),ae.add(ge.schedule(function(){if(re.closed)return;let ke,It;try{const Mt=Ce.next();ke=Mt.value,It=Mt.done}catch(Mt){return void re.error(Mt)}It?re.complete():(re.next(ke),this.schedule())}))})),ae})}(De,ge)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,ge):De instanceof r.y?De:new r.y((0,q.s)(De))}},6693:(Ye,we,F)=>{"use strict";F.d(we,{n:()=>ce});var r=F(7574),q=F(5015),O=F(4087);function ce(ue,te){return te?(0,O.r)(ue,te):new r.y((0,q.V)(ue))}},6682:(Ye,we,F)=>{"use strict";F.d(we,{T:()=>ue});var r=F(7574),q=F(4869),O=F(3282),ce=F(6693);function ue(...te){let de=Number.POSITIVE_INFINITY,X=null,z=te[te.length-1];return(0,q.K)(z)?(X=te.pop(),te.length>1&&"number"==typeof te[te.length-1]&&(de=te.pop())):"number"==typeof z&&(de=te.pop()),null===X&&1===te.length&&te[0]instanceof r.y?te[0]:(0,O.J)(de)((0,ce.n)(te,X))}},5917:(Ye,we,F)=>{"use strict";F.d(we,{of:()=>ce});var r=F(4869),q=F(6693),O=F(4087);function ce(...ue){let te=ue[ue.length-1];return(0,r.K)(te)?(ue.pop(),(0,O.r)(ue,te)):(0,q.n)(ue)}},8002:(Ye,we,F)=>{"use strict";F.d(we,{U:()=>q});var r=F(7393);function q(ue,te){return function(X){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new O(ue,te))}}class O{constructor(te,de){this.project=te,this.thisArg=de}call(te,de){return de.subscribe(new ce(te,this.project,this.thisArg))}}class ce extends r.L{constructor(te,de,X){super(te),this.project=de,this.count=0,this.thisArg=X||this}_next(te){let de;try{de=this.project.call(this.thisArg,te,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next(de)}}},3282:(Ye,we,F)=>{"use strict";F.d(we,{J:()=>O});var r=F(9773),q=F(4487);function O(ce=Number.POSITIVE_INFINITY){return(0,r.zg)(q.y,ce)}},9773:(Ye,we,F)=>{"use strict";F.d(we,{zg:()=>ce});var r=F(8002),q=F(4402),O=F(5345);function ce(X,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?V=>V.pipe(ce((H,fe)=>(0,q.D)(X(H,fe)).pipe((0,r.U)((Oe,Ne)=>z(H,Oe,fe,Ne))),L)):("number"==typeof z&&(L=z),V=>V.lift(new ue(X,L)))}class ue{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new te(z,this.project,this.concurrent))}}class te extends O.Ds{constructor(z,L,V=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const V=this.index++;try{L=this.project(z,V)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(L)}_innerSub(z){const L=new O.IY(this),V=this.destination;V.add(L);const H=(0,O.ft)(z,L);H!==L&&V.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,we,F)=>{"use strict";F.d(we,{QV:()=>O,ht:()=>ue});var r=F(7393),q=F(1593);function O(de,X=0){return function(L){return L.lift(new ce(de,X))}}class ce{constructor(X,z=0){this.scheduler=X,this.delay=z}call(X,z){return z.subscribe(new ue(X,this.scheduler,this.delay))}}class ue extends r.L{constructor(X,z,L=0){super(X),this.scheduler=z,this.delay=L}static dispatch(X){const{notification:z,destination:L}=X;z.observe(L),this.unsubscribe()}scheduleMessage(X){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new te(X,this.destination)))}_next(X){this.scheduleMessage(q.P.createNext(X))}_error(X){this.scheduleMessage(q.P.createError(X)),this.unsubscribe()}_complete(){this.scheduleMessage(q.P.createComplete()),this.unsubscribe()}}class te{constructor(X,z){this.notification=X,this.destination=z}}},1307:(Ye,we,F)=>{"use strict";F.d(we,{x:()=>q});var r=F(7393);function q(){return function(te){return te.lift(new O(te))}}class O{constructor(te){this.connectable=te}call(te,de){const{connectable:X}=this;X._refCount++;const z=new ce(te,X),L=de.subscribe(z);return z.closed||(z.connection=X.connect()),L}}class ce extends r.L{constructor(te,de){super(te),this.connectable=de}_unsubscribe(){const{connectable:te}=this;if(!te)return void(this.connection=null);this.connectable=null;const de=te._refCount;if(de<=0)return void(this.connection=null);if(te._refCount=de-1,de>1)return void(this.connection=null);const{connection:X}=this,z=te._connection;this.connection=null,z&&(!X||z===X)&&z.unsubscribe()}}},8819:(Ye,we,F)=>{"use strict";F.d(we,{B:()=>de});var r=F(2441);var ce=F(1307),ue=F(9765);function te(){return new ue.xQ}function de(){return X=>(0,ce.x)()(function(X,z){return function(V){let H;H="function"==typeof X?X:function(){return X};const fe=Object.create(V,r.N);return fe.source=V,fe.subjectFactory=H,fe}}(te)(X))}},2639:(Ye,we,F)=>{"use strict";F.d(we,{R:()=>De});var r=F(7574);let q=1;const O=Promise.resolve(),ce={};function ue(re){return re in ce&&(delete ce[re],!0)}const te={setImmediate(re){const ae=q++;return ce[ae]=!0,O.then(()=>ue(ae)&&re()),ae},clearImmediate(re){ue(re)}};var X=F(6465),L=F(6102);const fe=new class extends L.v{flush(ae){this.active=!0,this.scheduled=void 0;const{actions:Ce}=this;let ke,It=-1,Mt=Ce.length;ae=ae||Ce.shift();do{if(ke=ae.execute(ae.state,ae.delay))break}while(++It<Mt&&(ae=Ce.shift()));if(this.active=!1,ke){for(;++It<Mt&&(ae=Ce.shift());)ae.unsubscribe();throw ke}}}(class extends X.o{constructor(ae,Ce){super(ae,Ce),this.scheduler=ae,this.work=Ce}requestAsyncId(ae,Ce,ke=0){return null!==ke&&ke>0?super.requestAsyncId(ae,Ce,ke):(ae.actions.push(this),ae.scheduled||(ae.scheduled=te.setImmediate(ae.flush.bind(ae,null))))}recycleAsyncId(ae,Ce,ke=0){if(null!==ke&&ke>0||null===ke&&this.delay>0)return super.recycleAsyncId(ae,Ce,ke);0===ae.actions.length&&(te.clearImmediate(Ce),ae.scheduled=void 0)}});var Oe=F(6561);class Ne extends r.y{constructor(ae,Ce=0,ke=fe){super(),this.source=ae,this.delayTime=Ce,this.scheduler=ke,(!(0,Oe.k)(Ce)||Ce<0)&&(this.delayTime=0),(!ke||"function"!=typeof ke.schedule)&&(this.scheduler=fe)}static create(ae,Ce=0,ke=fe){return new Ne(ae,Ce,ke)}static dispatch(ae){const{source:Ce,subscriber:ke}=ae;return this.add(Ce.subscribe(ke))}_subscribe(ae){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function De(re,ae=0){return function(ke){return ke.lift(new ge(re,ae))}}class ge{constructor(ae,Ce){this.scheduler=ae,this.delay=Ce}call(ae,Ce){return new Ne(Ce,this.delay,this.scheduler).subscribe(ae)}}},8307:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>ce});var r=F(7393),q=F(8640),O=F(9105);function ce(de,X,z){return function(V){return V.lift(new ue(de,X,z))}}class ue{constructor(X,z,L){this.nextOrObserver=X,this.error=z,this.complete=L}call(X,z){return z.subscribe(new te(X,this.nextOrObserver,this.error,this.complete))}}class te extends r.L{constructor(X,z,L,V){super(X),this._tapNext=q.Z,this._tapError=q.Z,this._tapComplete=q.Z,this._tapError=L||q.Z,this._tapComplete=V||q.Z,(0,O.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||q.Z,this._tapError=z.error||q.Z,this._tapComplete=z.complete||q.Z)}_next(X){try{this._tapNext.call(this._context,X)}catch(z){return void this.destination.error(z)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(z){return void this.destination.error(z)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},4087:(Ye,we,F)=>{"use strict";F.d(we,{r:()=>O});var r=F(7574),q=F(5319);function O(ce,ue){return new r.y(te=>{const de=new q.w;let X=0;return de.add(ue.schedule(function(){X!==ce.length?(te.next(ce[X++]),te.closed||de.add(this.schedule())):te.complete()})),de})}},6465:(Ye,we,F)=>{"use strict";F.d(we,{o:()=>O});var r=F(5319);class q extends r.w{constructor(ue,te){super()}schedule(ue,te=0){return this}}class O extends q{constructor(ue,te){super(ue,te),this.scheduler=ue,this.work=te,this.pending=!1}schedule(ue,te=0){if(this.closed)return this;this.state=ue;const de=this.id,X=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(X,de,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(X,this.id,te),this}requestAsyncId(ue,te,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,te,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return te;clearInterval(te)}execute(ue,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,te);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,te){let X,de=!1;try{this.work(ue)}catch(z){de=!0,X=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),X}_unsubscribe(){const ue=this.id,te=this.scheduler,de=te.actions,X=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&de.splice(X,1),null!=ue&&(this.id=this.recycleAsyncId(te,ue,null)),this.delay=null}}},6102:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>q});let r=(()=>{class O{constructor(ue,te=O.now){this.SchedulerAction=ue,this.now=te}schedule(ue,te=0,de){return new this.SchedulerAction(this,ue).schedule(de,te)}}return O.now=()=>Date.now(),O})();class q extends r{constructor(ce,ue=r.now){super(ce,()=>q.delegate&&q.delegate!==this?q.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ue=0,te){return q.delegate&&q.delegate!==this?q.delegate.schedule(ce,ue,te):super.schedule(ce,ue,te)}flush(ce){const{actions:ue}=this;if(this.active)return void ue.push(ce);let te;this.active=!0;do{if(te=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this.active=!1,te){for(;ce=ue.shift();)ce.unsubscribe();throw te}}}},3637:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>O,P:()=>ce});var r=F(6465);const O=new(F(6102).v)(r.o),ce=O},7771:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>te,N:()=>ue});var r=F(6465),O=F(6102);const ue=new class extends O.v{}(class extends r.o{constructor(X,z){super(X,z),this.scheduler=X,this.work=z}schedule(X,z=0){return z>0?super.schedule(X,z):(this.delay=z,this.state=X,this.scheduler.flush(this),this)}execute(X,z){return z>0||this.closed?super.execute(X,z):this._execute(X,z)}requestAsyncId(X,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(X,z,L):X.flush(this)}}),te=ue},377:(Ye,we,F)=>{"use strict";F.d(we,{hZ:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,we,F)=>{"use strict";F.d(we,{N:()=>q});const q=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(Ye,we,F)=>{"use strict";function r(q){setTimeout(()=>{throw q},0)}F.d(we,{z:()=>r})},4487:(Ye,we,F)=>{"use strict";function r(q){return q}F.d(we,{y:()=>r})},9796:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>r});const r=Array.isArray||(q=>q&&"number"==typeof q.length)},9489:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>r});const r=q=>q&&"number"==typeof q.length&&"function"!=typeof q},9105:(Ye,we,F)=>{"use strict";function r(q){return"function"==typeof q}F.d(we,{m:()=>r})},6561:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>q});var r=F(9796);function q(O){return!(0,r.k)(O)&&O-parseFloat(O)+1>=0}},1555:(Ye,we,F)=>{"use strict";function r(q){return null!==q&&"object"==typeof q}F.d(we,{K:()=>r})},4072:(Ye,we,F)=>{"use strict";function r(q){return!!q&&"function"!=typeof q.subscribe&&"function"==typeof q.then}F.d(we,{t:()=>r})},4869:(Ye,we,F)=>{"use strict";function r(q){return q&&"function"==typeof q.schedule}F.d(we,{K:()=>r})},8640:(Ye,we,F)=>{"use strict";function r(){}F.d(we,{Z:()=>r})},7444:(Ye,we,F)=>{"use strict";F.d(we,{s:()=>V});var r=F(5015),q=F(4449),ce=F(377),te=F(6554),X=F(9489),z=F(4072),L=F(1555);const V=H=>{if(H&&"function"==typeof H[te.L])return(H=>fe=>{const Oe=H[te.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(fe)})(H);if((0,X.z)(H))return(0,r.V)(H);if((0,z.t)(H))return(H=>fe=>(H.then(Oe=>{fe.closed||(fe.next(Oe),fe.complete())},Oe=>fe.error(Oe)).then(null,q.z),fe))(H);if(H&&"function"==typeof H[ce.hZ])return(H=>fe=>{const Oe=H[ce.hZ]();for(;;){let Ne;try{Ne=Oe.next()}catch(De){return fe.error(De),fe}if(Ne.done){fe.complete();break}if(fe.next(Ne.value),fe.closed)break}return"function"==typeof Oe.return&&fe.add(()=>{Oe.return&&Oe.return()}),fe})(H);{const Oe=`You provided ${(0,L.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(Ye,we,F)=>{"use strict";F.d(we,{V:()=>r});const r=q=>O=>{for(let ce=0,ue=q.length;ce<ue&&!O.closed;ce++)O.next(q[ce]);O.complete()}},2369:(Ye,we,F)=>{"use strict";var r=F(7716);let q=null;function O(){return q}const de=new r.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,r.LFG)(V)}const L=new r.OlP("Location Initialized");let V=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){H()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){H()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(de))},n.\u0275prov=(0,r.Yz7)({factory:fe,token:n,providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function fe(){return new V((0,r.LFG)(de))}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,r.Yz7)({factory:re,token:n,providedIn:"root"}),n})();function re(n){const t=(0,r.LFG)(de).location;return new Ce((0,r.LFG)(X),t&&t.origin||"")}const ae=new r.OlP("appBaseHref");let Ce=(()=>{class n extends ge{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+De(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,l){const h=this.prepareExternalUrl(a+De(l));this._platformLocation.pushState(e,i,h)}replaceState(e,i,a,l){const h=this.prepareExternalUrl(a+De(l));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(X),r.LFG(ae,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends ge{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Oe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,l){let h=this.prepareExternalUrl(a+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,a,l){let h=this.prepareExternalUrl(a+De(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(X),r.LFG(ae,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),It=(()=>{class n{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(vt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+De(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ge),r.LFG(X))},n.normalizeQueryParams=De,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275prov=(0,r.Yz7)({factory:Mt,token:n,providedIn:"root"}),n})();function Mt(){return new It((0,r.LFG)(ge),(0,r.LFG)(X))}function vt(n){return n.replace(/\/index.html$/,"")}var mt=(()=>((mt=mt||{})[mt.Zero=0]="Zero",mt[mt.One=1]="One",mt[mt.Two=2]="Two",mt[mt.Few=3]="Few",mt[mt.Many=4]="Many",mt[mt.Other=5]="Other",mt))();const Re=r.kL8;class di{}let gr=(()=>{class n extends di{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Re(i||this.locale)(e)){case mt.Zero:return"zero";case mt.One:return"one";case mt.Two:return"two";case mt.Few:return"few";case mt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.soG))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Oi{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class n{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new Oi(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new eu(a,g);i.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const g=this._viewContainer.get(l);this._viewContainer.move(g,h);const b=new eu(a,g);i.push(b)}});for(let a=0;a<i.length;a++)this._perViewChange(i[a].view,i[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class eu{constructor(t,e){this.record=t,this.view=e}}let Zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new fc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fc{constructor(){this.$implicit=null,this.ngIf=null}}function Zo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let Ur=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[{provide:di,useClass:gr}]}),n})();function ya(n){return"server"===n}let tu=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new sl((0,r.LFG)(de),window)}),n})();class sl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],a-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ps(this.window.history)||ps(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ps(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new nu,q||(q=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Dr=Dr||document.querySelector("base"),Dr?Dr.getAttribute("href"):null);return null==e?null:function(n){ln=ln||document.createElement("a"),ln.setAttribute("href",n);const t=ln.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let ln,Dr=null;const wc=new r.OlP("TRANSITION_ID"),Li=[{provide:r.ip1,useFactory:function(n,t,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=O(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)i.remove(a[l])})}},deps:[wc,de,r.zs3],multi:!0}];class Nn{static init(){(0,r.VLi)(new Nn)}addToWindow(t){r.dqk.getAngularTestability=(i,a=!0)=>{const l=t.findTestabilityInTree(i,a);if(null==l)throw new Error("Could not find testability for element.");return l},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const a=r.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const g=function(b){h=h||b,l--,0==l&&i(h)};a.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Tc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const ms=new r.OlP("EventManagerPlugins");let Ee=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ms),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class xt{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const a=O().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let su=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends su{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ou),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ou))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(de))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function ou(n){O().remove(n)}const Ki={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yr=/%COMP%/g;function lr(n,t,e){for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?lr(n,a,e):(a=a.replace(Yr,n),e.push(a))}return e}function Wr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let _s=(()=>{class n{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Er(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new uu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case r.ifc.ShadowDom:return new Ac(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=lr(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ee),r.LFG(Cn),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Er{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ki[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const l=Ki[a];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=Ki[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,a&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wr(i)):this.eventManager.addEventListener(t,e,Wr(i))}}class uu extends Er{constructor(t,e,i,a){super(t),this.component=i;const l=lr(a+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Yr,a+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Yr,n)}(a+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ac extends Er{constructor(t,e,i,a){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=lr(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vo=(()=>{class n extends xt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(de))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Bo=["alt","control","meta","shift"],du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pl=(()=>{class n extends xt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(i.pop());let h="";if(Bo.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),h+=b+".")}),h+=l,0!=i.length||0===l.length)return null;const g={};return g.domEventName=a,g.fullKey=h,g}static getEventFullKey(e){let i="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ar.hasOwnProperty(t)&&(t=Ar[t]))}return du[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Bo.forEach(l=>{l!=a&&Sc[l](e)&&(i+=l+".")}),i+=a,i}static eventCallback(e,i,a){return l=>{n.getEventFullKey(l)===e&&a.runGuarded(()=>i(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(de))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){nu.makeCurrent(),Nn.init()},multi:!0},{provide:de,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),kc=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ms,useClass:Vo,multi:!0,deps:[de,r.R0b,r.Lbi]},{provide:ms,useClass:pl,multi:!0,deps:[de]},[],{provide:_s,useClass:_s,deps:[Ee,Cn,r.AFp]},{provide:r.FYo,useExisting:_s},{provide:su,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[de]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Ee,useClass:Ee,deps:[ms,r.R0b]},{provide:class{},useClass:Tc,deps:[]},[]];let bp=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId},{provide:wc,useExisting:r.AFp},Li]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:kc,imports:[mr,r.hGG]}),n})();"undefined"!=typeof window&&window;var mn=F(4402),$e=F(5917),cn=F(9765),vh=F(7971);class xn extends cn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vh.N;return this._value}next(t){super.next(this._value=t)}}var pu=F(4869),bs=F(9796),Wn=F(7393);class gu extends Wn.L{notifyNext(t,e,i,a,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class _l extends Wn.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var yl=F(7444),kt=F(7574);function Fc(n,t,e,i,a=new _l(n,e,i)){if(!a.closed)return t instanceof kt.y?t.subscribe(a):(0,yl.s)(t)(a)}var _o=F(6693);const Lc={};class bh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new mu(t,this.resultSelector))}}class mu extends gu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Lc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Fc(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const a=this.values,h=this.toRespond?a[i]===Lc?--this.toRespond:this.toRespond:0;a[i]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Xi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ui=F(3282);function es(...n){return(0,Ui.J)(1)((0,$e.of)(...n))}var Jr=F(9193);function yo(n){return new kt.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,mn.D)(e):(0,Jr.c)()).subscribe(t)})}var vl=F(2441),at=F(8002),fi=F(5345);function ir(n,t){return"function"==typeof t?e=>e.pipe(ir((i,a)=>(0,mn.D)(n(i,a)).pipe((0,at.U)((l,h)=>t(i,l,a,h))))):e=>e.lift(new wh(n))}class wh{constructor(t){this.project=t}call(t,e){return e.subscribe(new On(t,this.project))}}class On extends fi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new fi.IY(this),a=this.destination;a.add(i),this.innerSubscription=(0,fi.ft)(t,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const bl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function pi(n){return t=>0===n?(0,Jr.c)():t.lift(new Dp(n))}class Dp{constructor(t){if(this.total=t,this.total<0)throw new bl}call(t,e){return e.subscribe(new qm(t,this.total))}}class qm extends Wn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Sa(...n){const t=n[n.length-1];return(0,pu.K)(t)?(n.pop(),e=>es(n,e,t)):e=>es(n,e)}function _u(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new Th(n,t,e))}}class Th{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Bm(t,this.accumulator,this.seed,this.hasSeed))}}class Bm extends Wn.L{constructor(t,e,i,a){super(t),this.accumulator=e,this._seed=i,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=i,this.destination.next(i)}}function Pn(n,t){return function(i){return i.lift(new Uc(n,t))}}class Uc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ma(t,this.predicate,this.thisArg))}}class Ma extends Wn.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function vo(n){return function(e){const i=new Fn(n),a=e.lift(i);return i.caught=a}}class Fn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Na(t,this.selector,this.caught))}}class Na extends fi.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const i=new fi.IY(this);this.add(i);const a=(0,fi.ft)(e,i);a!==i&&this.add(a)}}}var Vn=F(9773);function Vc(n,t){return(0,Vn.zg)(n,t,1)}function wl(n){return function(e){return 0===n?(0,Jr.c)():e.lift(new ts(n))}}class ts{constructor(t){if(this.total=t,this.total<0)throw new bl}call(t,e){return e.subscribe(new ws(t,this.total))}}class ws extends Wn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,a=this.count++;e.length<i?e.push(t):e[a%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<i;l++){const h=e++%i;t.next(a[h])}}t.complete()}}function yu(n=qc){return t=>t.lift(new Vi(n))}class Vi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new qs(t,this.errorFactory))}}class qs extends Wn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function qc(){return new Xi}function Ch(n=null){return t=>t.lift(new Go(n))}class Go{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new jm(t,this.defaultValue))}}class jm extends Wn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Bs=F(4487);function Jn(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pn((a,l)=>n(a,l,i)):Bs.y,pi(1),e?Ch(t):yu(()=>new Xi))}var Kn=F(8307),bo=F(1307),Ep=F(5319);class D{constructor(t){this.callback=t}call(t,e){return e.subscribe(new A(t,this.callback))}}class A extends Wn.L{constructor(t,e){super(t),this.add(new Ep.w(e))}}class x{constructor(t,e){this.id=t,this.url=e}}class U extends x{constructor(t,e,i="imperative",a=null){super(t,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ne extends x{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends x{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends x{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends x{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends x{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends x{constructor(t,e,i,a,l){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rn extends x{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends x{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xa{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ka{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class v0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dn(n){return new v0(n)}const Ap="ngNavigationCancelingError";function Hm(n){const t=Error("NavigationCancelingError: "+n);return t[Ap]=!0,t}function bu(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let l=0;l<i.length;l++){const h=i[l],g=n[l];if(h.startsWith(":"))a[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function Hs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!Eh(n[a],t[a]))return!1;return!0}function Eh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,l)=>i[l]===a)}return n===t}function $m(n){return Array.prototype.concat.apply([],n)}function wu(n){return n.length>0?n[n.length-1]:null}function Qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vr(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,mn.D)(Promise.resolve(n)):(0,$e.of)(n)}const Ah={exact:function Gm(n,t,e){if(!Fa(n.segments,t.segments)||!Hc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Gm(n.children[i],t.children[i],e))return!1;return!0},subset:Yo},Ih={exact:function(n,t){return Hs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Eh(n[e],t[e]))},ignored:()=>!0};function jc(n,t,e){return Ah[e.paths](n.root,t.root,e.matrixParams)&&Ih[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yo(n,t,e){return Oa(n,t,t.segments,e)}function Oa(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Fa(a,e)||t.hasChildren()||!Hc(a,e,i))}if(n.segments.length===e.length){if(!Fa(n.segments,e)||!Hc(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!Yo(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Fa(n.segments,a)&&Hc(n.segments,a,i)&&n.children[_t])&&Oa(n.children[_t],t,l,i)}}function Hc(n,t,e){return t.every((i,a)=>Ih[e](n[a].parameters,i.parameters))}class Pa{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dn(this.queryParams)),this._queryParamMap}toString(){return Mp.serialize(this)}}class jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qn(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wo(this)}}class Tl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dn(this.parameters)),this._parameterMap}toString(){return xp(this)}}function Fa(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Mh{}class Tu{parse(t){const e=new zm(t);return new Pa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${$c(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${Np(e)}=${Np(a)}`).join("&"):`${Np(e)}=${Np(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Mp=new Tu;function Wo(n){return n.segments.map(t=>xp(t)).join("/")}function $c(n,t){if(!n.hasChildren())return Wo(n);if(t){const e=n.children[_t]?$c(n.children[_t],!1):"",i=[];return Qn(n.children,(a,l)=>{l!==_t&&i.push(`${l}:${$c(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Qn(n.children,(i,a)=>{a===_t&&(e=e.concat(t(i,a)))}),Qn(n.children,(i,a)=>{a!==_t&&(e=e.concat(t(i,a)))}),e}(n,(i,a)=>a===_t?[$c(n.children[_t],!1)]:[`${a}:${$c(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_t]?`${Wo(n)}/${e[0]}`:`${Wo(n)}/(${e.join("//")})`}}function Nh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return Nh(n).replace(/%3B/gi,";")}function Cl(n){return Nh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(n){return decodeURIComponent(n)}function Dl(n){return Gc(n.replace(/\+/g,"%20"))}function xp(n){return`${Cl(n.path)}${function(n){return Object.keys(n).map(t=>`;${Cl(t)}=${Cl(n[t])}`).join("")}(n.parameters)}`}const D0=/^[^\/()?;=#]+/;function kh(n){const t=n.match(D0);return t?t[0]:""}const E0=/^[^=?&#]+/,Jo=/^[^?&#]+/;class zm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_t]=new jt(t,e)),i}parseSegment(){const t=kh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tl(Gc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=kh(this.remaining);a&&(i=a,this.capture(i))}t[Gc(e)]=Gc(i)}parseQueryParam(t){const e=function(n){const t=n.match(E0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Jo);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const a=Dl(e),l=Dl(i);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(l)}else t[a]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=kh(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=_t);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[_t]:new jt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ym{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Rp(t,this._root).map(e=>e.value)}}function kp(n,t){if(n===t.value)return t;for(const e of t.children){const i=kp(n,e);if(i)return i}return null}function Rp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Rp(n,e);if(i.length)return i.unshift(t),i}return[]}class Ko{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function El(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Op extends Ym{constructor(t,e){super(t),this.snapshot=e,zc(this,t)}toString(){return this.snapshot.toString()}}function Wm(n,t){const e=function(n,t){const h=new Al([],{},{},"",{},_t,t,null,n.root,-1,{});return new Il("",new Ko(h,[]))}(n,t),i=new xn([new Tl("",{})]),a=new xn({}),l=new xn({}),h=new xn({}),g=new xn(""),b=new Du(i,a,h,g,l,_t,t,e.root);return b.snapshot=e.root,new Op(new Ko(b,[]),e)}class Du{constructor(t,e,i,a,l,h,g,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=l,this.outlet=h,this.component=g,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(t=>Dn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(t=>Dn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],l=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(l.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Al{constructor(t,e,i,a,l,h,g,b,C,S,N){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=l,this.outlet=h,this.component=g,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Il extends Ym{constructor(t,e){super(e),this.url=t,zc(this,e)}toString(){return $s(this._root)}}function zc(n,t){t.value._routerState=n,t.children.forEach(e=>zc(n,e))}function $s(n){const t=n.children.length>0?` { ${n.children.map($s).join(", ")} } `:"";return`${n.value}${t}`}function Qo(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Oh(n,t){return Hs(n.params,t.params)&&function(n,t){return Fa(n,t)&&n.every((e,i)=>Hs(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Oh(n.parent,t.parent))}function Sl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Sl(n,i,a);return Sl(n,i)})}(n,t,e);return new Ko(i,a)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return S0(t,h),h}}const i=function(n){return new Du(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(l=>Sl(n,l));return new Ko(i,a)}}function S0(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)S0(n.children[e],t.children[e])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,t,e,i,a){let l={};return i&&Qn(i,(h,g)=>{l[g]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Pa(e.root===n?t:T(e.root,n,t),l,a)}function T(n,t,e){const i={};return Qn(n.children,(a,l)=>{i[l]=a===t?e:T(a,t,e)}),new jt(n.segments,i)}class M{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&v(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(p);if(a&&a!==wu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ee{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function st(n,t,e){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return zt(n,t,e);const i=function(n,t,e){let i=0,a=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return l;const h=n.segments[a],g=e[i];if(p(g))break;const b=`${g}`,C=i<e.length-1?e[i+1]:null;if(a>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!Ph(b,C,h))return l;i+=2}else{if(!Ph(b,{},h))return l;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new jt(n.segments.slice(0,i.pathIndex),{});return l.children[_t]=new jt(n.segments.slice(i.pathIndex),n.children),zt(l,0,a)}return i.match&&0===a.length?new jt(n.segments,{}):i.match&&!n.hasChildren()?qr(n,t,e):i.match?zt(n,0,a):qr(n,t,e)}function zt(n,t,e){if(0===e.length)return new jt(n.segments,{});{const i=function(n){return p(n[0])?n[0].outlets:{[_t]:n}}(e),a={};return Qn(i,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=st(n.children[h],t,l))}),Qn(n.children,(l,h)=>{void 0===i[h]&&(a[h]=l)}),new jt(n.segments,a)}}function qr(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const l=e[a];if(p(l)){const b=bn(l.outlets);return new jt(i,b)}if(0===a&&v(e[0])){i.push(new Tl(n.segments[t].path,Yc(e[0]))),a++;continue}const h=p(l)?l.outlets[_t]:`${l}`,g=a<e.length-1?e[a+1]:null;h&&g&&v(g)?(i.push(new Tl(h,Yc(g))),a+=2):(i.push(new Tl(h,{})),a++)}return new jt(i,{})}function bn(n){const t={};return Qn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=qr(new jt([],{}),0,e))}),t}function Yc(n){const t={};return Qn(n,(e,i)=>t[i]=`${e}`),t}function Ph(n,t,e){return n==e.path&&Hs(t,e.parameters)}class Lp{constructor(t,e,i,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Qo(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=El(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],i),delete a[h]}),Qn(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const a=t.value,l=e?e.value:null;if(a===l)if(a.component){const h=i.getContext(a.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,l=El(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const a=El(e);t.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],i),this.forwardEvent(new js(l.value.snapshot))}),t.children.length&&this.forwardEvent(new vu(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,l=e?e.value:null;if(Qo(a),a===l)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Lh(g.route)}else{const g=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=b,h.outlet&&h.outlet.activateWith(a,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}function Lh(n){Qo(n.value),n.children.forEach(Lh)}class Zh{constructor(t,e){this.routes=t,this.module=e}}function wo(n){return"function"==typeof n}function Ml(n){return n instanceof Pa}const Uh=Symbol("INITIAL_VALUE");function Vh(){return ir(n=>function(...n){let t,e;return(0,pu.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,bs.k)(n[0])&&(n=n[0]),(0,_o.n)(n,e).lift(new bh(t))}(n.map(t=>t.pipe(pi(1),Sa(Uh)))).pipe(_u((t,e)=>{let i=!1;return e.reduce((a,l,h)=>a!==Uh?a:(l===Uh&&(i=!0),i||!1!==l&&h!==e.length-1&&!Ml(l)?a:l),t)},Uh),Pn(t=>t!==Uh),(0,at.U)(t=>Ml(t)?t:!0===t),pi(1)))}let _i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[$h]},encapsulation:2}),n})();function qh(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];N0(i,LA(t,i))}}function N0(n,t){n.children&&qh(n.children,t)}function LA(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function x0(n){const t=n.children&&n.children.map(x0),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_t&&(e.component=_i),e}function Gs(n){return n.outlet||_t}function Fw(n,t){const e=n.filter(i=>Gs(i)===t);return e.push(...n.filter(i=>Gs(i)!==t)),e}const k0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xm(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},k0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||bu)(e,n,t);if(!l)return Object.assign({},k0);const h={};Qn(l.posParams,(b,C)=>{h[C]=b.path});const g=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:g,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Zp(n,t,e,i,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>Bh(n,t,i)&&Gs(i)!==_t)}(n,e,i)){const h=new jt(t,function(n,t,e,i){const a={};a[_t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Gs(l)!==_t){const h=new jt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,a[Gs(l)]=h}return a}(n,t,i,new jt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>Bh(n,t,i))}(n,e,i)){const h=new jt(n.segments,function(n,t,e,i,a,l){const h={};for(const g of i)if(Bh(n,e,g)&&!a[Gs(g)]){const b=new jt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Gs(g)]=b}return Object.assign(Object.assign({},a),h)}(n,t,e,i,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new jt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Bh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function R0(n,t,e,i){return!!(Gs(n)===i||i!==_t&&Bh(t,e,n))&&("**"===n.path||Xm(t,n,e).matched)}function Zw(n,t,e){return 0===t.length&&!n.children[e]}class e_{constructor(t){this.segmentGroup=t||null}}class O0{constructor(t){this.urlTree=t}}function Jc(n){return new kt.y(t=>t.error(new e_(n)))}function Uw(n){return new kt.y(t=>t.error(new O0(n)))}function qA(n){return new kt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class jA{constructor(t,e,i,a,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Zp(this.urlTree.root,[],[],this.config).segmentGroup,e=new jt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_t).pipe((0,at.U)(l=>this.createUrlTree(P0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vo(l=>{if(l instanceof O0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof e_?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_t).pipe((0,at.U)(a=>this.createUrlTree(P0(a),t.queryParams,t.fragment))).pipe(vo(a=>{throw a instanceof e_?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const a=t.segments.length>0?new jt([],{[_t]:t}):t;return new Pa(a,e,i)}expandSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,at.U)(l=>new jt([],l))):this.expandSegment(t,i,e,i.segments,a,!0)}expandChildren(t,e,i){const a=[];for(const l of Object.keys(i.children))"primary"===l?a.unshift(l):a.push(l);return(0,mn.D)(a).pipe(Vc(l=>{const h=i.children[l],g=Fw(e,l);return this.expandSegmentGroup(t,g,h,l).pipe((0,at.U)(b=>({segment:b,outlet:l})))}),_u((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pn((a,l)=>n(a,l,i)):Bs.y,wl(1),e?Ch(t):yu(()=>new Xi))}())}expandSegment(t,e,i,a,l,h){return(0,mn.D)(i).pipe(Vc(g=>this.expandSegmentAgainstRoute(t,e,i,g,a,l,h).pipe(vo(C=>{if(C instanceof e_)return(0,$e.of)(null);throw C}))),Jn(g=>!!g),vo((g,b)=>{if(g instanceof Xi||"EmptyError"===g.name){if(Zw(e,a,l))return(0,$e.of)(new jt([],{}));throw new e_(e)}throw g}))}expandSegmentAgainstRoute(t,e,i,a,l,h,g){return R0(a,e,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,l,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,a,l,h):Jc(e):Jc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Uw(l):this.lineralizeSegments(i,l).pipe((0,Vn.zg)(h=>{const g=new jt(h,{});return this.expandSegment(t,g,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,l,h){const{matched:g,consumedSegments:b,lastChild:C,positionalParamSegments:S}=Xm(e,a,l);if(!g)return Jc(e);const N=this.applyRedirectCommands(b,a.redirectTo,S);return a.redirectTo.startsWith("/")?Uw(N):this.lineralizeSegments(a,N).pipe((0,Vn.zg)(Z=>this.expandSegment(t,e,i,Z.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(t,e,i,a,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,$e.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,at.U)(Z=>(i._loadedConfig=Z,new jt(a,{})))):(0,$e.of)(new jt(a,{}));const{matched:h,consumedSegments:g,lastChild:b}=Xm(e,i,a);if(!h)return Jc(e);const C=a.slice(b);return this.getChildConfig(t,i,a).pipe((0,Vn.zg)(N=>{const Z=N.module,B=N.routes,{segmentGroup:ie,slicedSegments:ve}=Zp(e,g,C,B),Se=new jt(ie.segments,ie.children);if(0===ve.length&&Se.hasChildren())return this.expandChildren(Z,B,Se).pipe((0,at.U)(ot=>new jt(g,ot)));if(0===B.length&&0===ve.length)return(0,$e.of)(new jt(g,{}));const rt=Gs(i)===l;return this.expandSegment(Z,Se,B,ve,rt?_t:l,!0).pipe((0,at.U)(St=>new jt(g.concat(St.segments),St.children)))}))}getChildConfig(t,e,i){return e.children?(0,$e.of)(new Zh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,$e.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Vn.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,at.U)(l=>(e._loadedConfig=l,l))):(n=e,new kt.y(t=>t.error(Hm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,$e.of)(new Zh([],t))}runCanLoadGuards(t,e,i){const a=e.canLoad;if(!a||0===a.length)return(0,$e.of)(!0);const l=a.map(h=>{const g=t.get(h);let b;if((n=g)&&wo(n.canLoad))b=g.canLoad(e,i);else{if(!wo(g))throw new Error("Invalid CanLoad guard");b=g(e,i)}var n;return Vr(b)});return(0,$e.of)(l).pipe(Vh(),(0,Kn.b)(h=>{if(!Ml(h))return;const g=Hm(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,at.U)(h=>!0===h))}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,$e.of)(i);if(a.numberOfChildren>1||!a.children[_t])return qA(t.redirectTo);a=a.children[_t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,a){const l=this.createSegmentGroup(t,e.root,i,a);return new Pa(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qn(t,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const g=a.substring(1);i[l]=e[g]}else i[l]=a}),i}createSegmentGroup(t,e,i,a){const l=this.createSegments(t,e.segments,i,a);let h={};return Qn(e.children,(g,b)=>{h[b]=this.createSegmentGroup(t,g,i,a)}),new jt(l,h)}createSegments(t,e,i,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,a):this.findOrReturn(l,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}function P0(n){const t={};for(const i of Object.keys(n.children)){const l=P0(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function(n){if(1===n.numberOfChildren&&n.children[_t]){const t=n.children[_t];return new jt(n.segments.concat(t.segments),t.children)}return n}(new jt(n.segments,t))}class Up{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rs{constructor(t,e){this.component=t,this.route=e}}function Vw(n,t,e){const i=n._root;return n_(i,t?t._root:null,e,[i.value])}function t_(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function n_(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=El(t);return n.children.forEach(h=>{(function(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,g=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fa(n.url,t.url)||!Hs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oh(n,t)||!Hs(n.queryParams,t.queryParams);case"paramsChange":default:return!Oh(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new Up(i)):(l.data=h.data,l._resolvedData=h._resolvedData),n_(n,t,l.component?g?g.children:null:e,i,a),b&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new rs(g.outlet.component,h))}else h&&Vp(t,g,a),a.canActivateChecks.push(new Up(i)),n_(n,null,l.component?g?g.children:null:e,i,a)})(h,l[h.value.outlet],e,i.concat([h.value]),a),delete l[h.value.outlet]}),Qn(l,(h,g)=>Vp(h,e.getContext(g),a)),a}function Vp(n,t,e){const i=El(n),a=n.value;Qn(i,(l,h)=>{Vp(l,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new rs(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class F0{}function r_(n){return new kt.y(t=>t.error(n))}class Hw{constructor(t,e,i,a,l,h){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=Zp(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_t);if(null===e)return null;const i=new Al([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ko(i,e),l=new Il(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Rh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const h=e.children[l],g=Fw(t,l),b=this.processSegmentGroup(g,h,l);if(null===b)return null;i.push(...b)}const a=i_(i);return a.sort((t,e)=>t.value.outlet===_t?-1:e.value.outlet===_t?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,i,a){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,i,a);if(null!==h)return h}return Zw(e,i,a)?[]:null}processSegmentAgainstRoute(t,e,i,a){if(t.redirectTo||!R0(t,e,i,a))return null;let l,h=[],g=[];if("**"===t.path){const B=i.length>0?wu(i).parameters:{};l=new Al(i,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kc(t),Gs(t),t.component,t,L0(e),JA(e)+i.length,s_(t))}else{const B=Xm(e,t,i);if(!B.matched)return null;h=B.consumedSegments,g=i.slice(B.lastChild),l=new Al(h,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Kc(t),Gs(t),t.component,t,L0(e),JA(e)+h.length,s_(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:S}=Zp(e,h,g,b.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===S.length&&C.hasChildren()){const B=this.processChildren(b,C);return null===B?null:[new Ko(l,B)]}if(0===b.length&&0===S.length)return[new Ko(l,[])];const N=Gs(t)===a,Z=this.processSegment(b,C,S,N?_t:a);return null===Z?null:[new Ko(l,Z)]}}function Gw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function i_(n){const t=[],e=new Set;for(const i of n){if(!Gw(i)){t.push(i);continue}const a=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=i_(i.children);t.push(new Ko(i.value,a))}return t.filter(i=>!e.has(i))}function L0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JA(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Kc(n){return n.data||{}}function s_(n){return n.resolve||{}}function U0(n){return ir(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,at.U)(()=>t)):(0,$e.of)(t)})}class nI extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const o_=new r.OlP("ROUTES");class a_{constructor(t,e,i,a){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,at.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Zh($m(h.injector.get(o_,void 0,r.XFs.Self|r.XFs.Optional)).map(x0),h)}),vo(l=>{throw e._loader$=void 0,l}));return e._loader$=new vl.c(a,()=>new cn.xQ).pipe((0,bo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,mn.D)(this.loader.load(t)):Vr(t()).pipe((0,Vn.zg)(e=>e instanceof r.YKP?(0,$e.of)(e):(0,mn.D)(this.compiler.compileModuleAsync(e))))}}class Ww{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nl,this.attachRef=null}}class Nl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ww,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class iI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Jw(n){throw n}function Kw(n,t,e){return t.parse("/")}function xl(n,t){return(0,$e.of)(null)}const Qw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class n{constructor(e,i,a,l,h,g,b,C){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cn.xQ,this.errorHandler=Jw,this.malformedUriErrorHandler=Kw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xl,afterPreactivation:xl},this.urlHandlingStrategy=new iI,this.routeReuseStrategy=new nI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(r.h0i),this.console=h.get(r.c2e);const Z=h.get(r.R0b);this.isNgZoneEnabled=Z instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Pa(new jt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new a_(g,b,B=>this.triggerEvent(new gi(B)),B=>this.triggerEvent(new cr(B))),this.routerState=Wm(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Pn(a=>0!==a.id),(0,at.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),ir(a=>{let l=!1,h=!1;return(0,$e.of)(a).pipe((0,Kn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(g=>{const b=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return l_(g.source)&&(this.browserUrlTree=g.extractedUrl),(0,$e.of)(g).pipe(ir(N=>{const Z=this.transitions.getValue();return i.next(new U(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),Z!==this.transitions.getValue()?Jr.E:Promise.resolve(N)}),function(n,t,e,i){return ir(a=>function(n,t,e,i,a){return new jA(n,t,e,i,a).apply()}(n,t,e,a.extractedUrl,i).pipe((0,at.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kn.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function(n,t,e,i,a){return(0,Vn.zg)(l=>function(n,t,e,i,a="emptyOnly",l="legacy"){try{const h=new Hw(n,t,e,i,a,l).recognize();return null===h?r_(new F0):(0,$e.of)(h)}catch(h){return r_(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,a).pipe((0,at.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kn.b)(N=>{"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(N.urlAfterRedirects,N),this.browserUrlTree=N.urlAfterRedirects);const Z=new je(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);i.next(Z)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:B,source:ie,restoredState:ve,extras:Se}=g,rt=new U(Z,this.serializeUrl(B),ie,ve);i.next(rt);const Je=Wm(B,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},g),{targetSnapshot:Je,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),Jr.E}),U0(g=>{const{targetSnapshot:b,id:C,extractedUrl:S,rawUrl:N,extras:{skipLocationChange:Z,replaceUrl:B}}=g;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:S,rawUrlTree:N,skipLocationChange:!!Z,replaceUrl:!!B})}),(0,Kn.b)(g=>{const b=new Ge(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),(0,at.U)(g=>Object.assign(Object.assign({},g),{guards:Vw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Vn.zg)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,$e.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,mn.D)(n).pipe((0,Vn.zg)(a=>function(n,t,e,i,a){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,$e.of)(!0);const h=l.map(g=>{const b=t_(g,t,a);let C;if(function(n){return n&&wo(n.canDeactivate)}(b))C=Vr(b.canDeactivate(n,t,e,i));else{if(!wo(b))throw new Error("Invalid CanDeactivate guard");C=Vr(b(n,t,e,i))}return C.pipe(Jn())});return(0,$e.of)(h).pipe(Vh())}(a.component,a.route,e,t,i)),Jn(a=>!0!==a,!0))}(h,i,a,n).pipe((0,Vn.zg)(g=>g&&function(n){return"boolean"==typeof n}(g)?function(n,t,e,i){return(0,mn.D)(t).pipe(Vc(a=>es(function(n,t){return null!==n&&t&&t(new xa(n)),(0,$e.of)(!0)}(a.route.parent,i),function(n,t){return null!==n&&t&&t(new ka(n)),(0,$e.of)(!0)}(a.route,i),function(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>yo(()=>{const g=h.guards.map(b=>{const C=t_(b,h.node,e);let S;if(function(n){return n&&wo(n.canActivateChild)}(C))S=Vr(C.canActivateChild(i,n));else{if(!wo(C))throw new Error("Invalid CanActivateChild guard");S=Vr(C(i,n))}return S.pipe(Jn())});return(0,$e.of)(g).pipe(Vh())}));return(0,$e.of)(l).pipe(Vh())}(n,a.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,$e.of)(!0);const a=i.map(l=>yo(()=>{const h=t_(l,t,e);let g;if(function(n){return n&&wo(n.canActivate)}(h))g=Vr(h.canActivate(t,n));else{if(!wo(h))throw new Error("Invalid CanActivate guard");g=Vr(h(t,n))}return g.pipe(Jn())}));return(0,$e.of)(a).pipe(Vh())}(n,a.route,e))),Jn(a=>!0!==a,!0))}(i,l,n,t):(0,$e.of)(g)),(0,at.U)(g=>Object.assign(Object.assign({},e),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Kn.b)(g=>{if(Ml(g.guardsResult)){const C=Hm(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw C.url=g.guardsResult,C}const b=new Vt(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(b)}),Pn(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),U0(g=>{if(g.guards.canActivateChecks.length)return(0,$e.of)(g).pipe((0,Kn.b)(b=>{const C=new rn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),ir(b=>{let C=!1;return(0,$e.of)(b).pipe(function(n,t){return(0,Vn.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,$e.of)(e);let l=0;return(0,mn.D)(a).pipe(Vc(h=>function(n,t,e,i){return function(n,t,e,i){const a=Object.keys(n);if(0===a.length)return(0,$e.of)({});const l={};return(0,mn.D)(a).pipe((0,Vn.zg)(h=>function(n,t,e,i){const a=t_(n,t,i);return Vr(a.resolve?a.resolve(t,e):a(t,e))}(n[h],t,e,i).pipe((0,Kn.b)(g=>{l[h]=g}))),wl(1),(0,Vn.zg)(()=>Object.keys(l).length===a.length?(0,$e.of)(l):Jr.E))}(n._resolve,n,t,i).pipe((0,at.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Rh(n,e).resolve),null)))}(h.route,i,n,t)),(0,Kn.b)(()=>l++),wl(1),(0,Vn.zg)(h=>l===a.length?(0,$e.of)(e):Jr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Kn.b)(b=>{const C=new sr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),U0(g=>{const{targetSnapshot:b,id:C,extractedUrl:S,rawUrl:N,extras:{skipLocationChange:Z,replaceUrl:B}}=g;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:S,rawUrlTree:N,skipLocationChange:!!Z,replaceUrl:!!B})}),(0,at.U)(g=>{const b=function(n,t,e){const i=Sl(n,t._root,e?e._root:void 0);return new Op(i,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:b})}),(0,Kn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,at.U)(i=>(new Lp(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Kn.b)({next(){l=!0},complete(){l=!0}}),function(n){return t=>t.lift(new D(n))}(()=>{var g;if(!l&&!h){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===a.id&&(this.currentNavigation=null)}),vo(g=>{if(h=!0,function(n){return n&&n[Ap]}(g)){const b=Ml(g.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const C=new pe(a.id,this.serializeUrl(a.extractedUrl),g.message);i.next(C),b?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),N={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||l_(a.source)};this.scheduleNavigation(S,"imperative",null,N,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Ie(a.id,this.serializeUrl(a.extractedUrl),g);i.next(b);try{a.resolve(this.errorHandler(g))}catch(C){a.reject(C)}}return Jr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=i,g={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(g.state=b)}this.scheduleNavigation(h,a,l,g)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const a=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!a||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){qh(e),this.config=e.map(x0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:g,preserveFragment:b}=i,C=a||this.routerState.root,S=b?this.currentUrlTree.fragment:h;let N=null;switch(g){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=l||null}return null!==N&&(N=this.removeEmptyProps(N)),function(n,t,e,i,a){if(0===e.length)return _(t.root,t.root,t,i,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let t=0,e=!1;const i=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Qn(l.outlets,(b,C)=>{g[C]="string"==typeof b?b.split("/"):b}),[...a,{outlets:g}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((g,b)=>{0==b&&"."===g||(0==b&&""===g?e=!0:".."===g?t++:""!=g&&a.push(g))}),a):[...a,l]},[]);return new M(e,t,i)}(e);if(l.toRoot())return _(t.root,new jt([],{}),t,i,a);const h=function(n,t,e){if(n.isAbsolute)return new ee(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new ee(l,l===t.root,0)}const i=v(n.commands[0])?0:1;return function(n,t,e){let i=n,a=t,l=e;for(;l>a;){if(l-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new ee(i,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),g=h.processChildren?zt(h.segmentGroup,h.index,l.commands):st(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,g,t,i,a)}(C,this.currentUrlTree,e,N,null!=S?S:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Ml(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?Object.assign({},Qw):!1===i?Object.assign({},Xw):i,Ml(e))return jc(this.currentUrlTree,e,a);const l=this.parseUrl(e);return jc(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const l=e[a];return null!=l&&(i[a]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ne(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,l,h){var g,b;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),S=l_(i)&&C&&!l_(C.source),B=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===e.toString();if(S&&B)return Promise.resolve(!0);let ie,ve,Se;h?(ie=h.resolve,ve=h.reject,Se=h.promise):Se=new Promise((St,ot)=>{ie=St,ve=ot});const rt=++this.navigationId;let Je;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Je=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Je=0,this.setTransition({id:rt,targetPageId:Je,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:ie,reject:ve,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(St=>Promise.reject(St))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,i=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new pe(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.DyG),r.LFG(Mh),r.LFG(Nl),r.LFG(It),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function l_(n){return"imperative"!==n}let $h=(()=>{class n{constructor(e,i,a,l,h){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=l||_t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,b=new h_(e,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Nl),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class h_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Du?this.route:t===Nl?this.childContexts:this.parent.get(t,e)}}class q0{}class j0{preload(t,e){return(0,$e.of)(null)}}let f_=(()=>{class n{constructor(e,i,a,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new a_(i,a,C=>e.triggerEvent(new gi(C)),C=>e.triggerEvent(new cr(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(e=>e instanceof ne),Vc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,mn.D)(a).pipe((0,Ui.J)(),(0,at.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,$e.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Vn.zg)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ln),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(q0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Xc=(()=>{class n{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ne&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mi&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new mi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ln),r.LFG(tu),r.LFG(void 0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const kl=new r.OlP("ROUTER_CONFIGURATION"),tT=new r.OlP("ROUTER_FORROOT_GUARD"),nT=[It,{provide:Mh,useClass:Tu},{provide:Ln,useFactory:function(n,t,e,i,a,l,h,g={},b,C){const S=new Ln(null,n,t,e,i,a,l,$m(h));return b&&(S.urlHandlingStrategy=b),C&&(S.routeReuseStrategy=C),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(g,S),g.enableTracing&&S.events.subscribe(N=>{var Z,B;null===(Z=console.group)||void 0===Z||Z.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(B=console.groupEnd)||void 0===B||B.call(console)}),S},deps:[Mh,Nl,It,r.zs3,r.v3s,r.Sil,o_,kl,[class{},new r.FiY],[class{},new r.FiY]]},Nl,{provide:Du,useFactory:function(n){return n.routerState.root},deps:[Ln]},{provide:r.v3s,useClass:r.EAV},f_,j0,class{preload(t,e){return e().pipe(vo(()=>(0,$e.of)(null)))}},{provide:kl,useValue:{enableTracing:!1}}];function H0(){return new r.PXZ("Router",Ln)}let $0=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[nT,G0(e),{provide:tT,useFactory:oI,deps:[[Ln,new r.FiY,new r.tp0]]},{provide:kl,useValue:i||{}},{provide:ge,useFactory:rT,deps:[X,[new r.tBr(ae),new r.FiY],kl]},{provide:Xc,useFactory:vx,deps:[Ln,tu,kl]},{provide:q0,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:j0},{provide:r.PXZ,multi:!0,useFactory:H0},[z0,{provide:r.ip1,multi:!0,useFactory:iT,deps:[z0]},{provide:sT,useFactory:lI,deps:[z0]},{provide:r.tb,multi:!0,useExisting:sT}]]}}static forChild(e){return{ngModule:n,providers:[G0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(tT,8),r.LFG(Ln,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function vx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Xc(n,t,e)}function rT(n,t,e={}){return e.useHash?new ke(n,t):new Ce(n,t)}function oI(n){return"guarded"}function G0(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:o_,multi:!0,useValue:n}]}let z0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cn.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(g=>i=g),l=this.injector.get(Ln),h=this.injector.get(kl);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(kl),a=this.injector.get(f_),l=this.injector.get(Xc),h=this.injector.get(Ln),g=this.injector.get(r.z2F);e===g.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function iT(n){return n.appInitializer.bind(n)}function lI(n){return n.bootstrapListener.bind(n)}const sT=new r.OlP("Router Initializer");var J=F(8239),p_=F(7841),Y0=F(2476),Tt=F(3854),ut=F(8026),Eu=F(5422),ed=F(3910),td=F(3637),sn=F(9396);function g_(){return n=>n.lift(new dI)}class dI{call(t,e){return e.subscribe(new W0(t))}}class W0 extends Wn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class J0{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new oT(t,this.compare,this.keySelector))}}class oT extends Wn.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let i=!1;if(this.hasKey)try{const{compare:a}=this;i=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}var ze,yi=F(8939),K0=(F(4828),F(3394)),wx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vi={},Gh=Gh||{},Ct=wx||self;function Q0(){}function X0(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var ev="closure_uid_"+(1e9*Math.random()>>>0),Cx=0;function aT(n,t,e){return n.call.apply(n.bind,arguments)}function uT(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(t,a)}}return function(){return n.apply(t,arguments)}}function bi(n,t,e){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aT:uT).apply(null,arguments)}function Yh(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,a,l){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return t.prototype[a].apply(i,h)}}function nd(){this.s=this.s,this.o=this.o}var Ex={};nd.prototype.s=!1,nd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,ev)&&n[ev]||(n[ev]=++Cx)}(this);delete Ex[n]}},nd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hI=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},fI=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in a&&t.call(e,a[l],l,n)};function pI(n){return Array.prototype.concat.apply([],arguments)}function lT(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function tv(n){return/^[\s\xa0]*$/.test(n)}var is,gI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function dr(n,t){return-1!=n.indexOf(t)}function Bp(n,t){return n<t?-1:n>t?1:0}e:{var nv=Ct.navigator;if(nv){var m_=nv.userAgent;if(m_){is=m_;break e}}is=""}function __(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function y_(n){const t={};for(const e in n)t[e]=n[e];return t}var cT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Au(n,t){let e,i;for(let a=1;a<arguments.length;a++){for(e in i=arguments[a],i)n[e]=i[e];for(let l=0;l<cT.length;l++)e=cT[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function v_(n){return v_[" "](n),n}v_[" "]=Q0;var Iu,n,Ix=dr(is,"Opera"),Rl=dr(is,"Trident")||dr(is,"MSIE"),dT=dr(is,"Edge"),b_=dT||Rl,hT=dr(is,"Gecko")&&!(dr(is.toLowerCase(),"webkit")&&!dr(is,"Edge"))&&!(dr(is,"Trident")||dr(is,"MSIE"))&&!dr(is,"Edge"),_I=dr(is.toLowerCase(),"webkit")&&!dr(is,"Edge");function Wh(){var n=Ct.document;return n?n.documentMode:void 0}e:{var jp="",Ol=(n=is,hT?/rv:([^\);]+)(\)|;)/.exec(n):dT?/Edge\/([\d\.]+)/.exec(n):Rl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_I?/WebKit\/(\S+)/.exec(n):Ix?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ol&&(jp=Ol?Ol[1]:""),Rl){var rd=Wh();if(null!=rd&&rd>parseFloat(jp)){Iu=String(rd);break e}}Iu=jp}var Jh={};function yI(){return t=Jh,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=gI(String(Iu)).split("."),e=gI("9").split("."),i=Math.max(t.length,e.length);for(let h=0;0==n&&h<i;h++){var a=t[h]||"",l=e[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Bp(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Bp(0==a[2].length,0==l[2].length)||Bp(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var t}var iv=Ct.document&&Rl&&(Wh()||parseInt(Iu,10))||void 0,sv=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",Q0,t),Ct.removeEventListener("test",Q0,t)}catch(e){}return n}();function wi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Pl(n,t){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(hT){e:{try{v_(t.nodeName);var a=!0;break e}catch(l){}a=!1}a||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pl.Z.h.call(this)}}wi.prototype.h=function(){this.defaultPrevented=!0},qi(Pl,wi);var vI={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),Sx=0;function fT(n,t,e,i,a){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=a,this.key=++Sx,this.ca=this.fa=!1}function Hp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function T_(n){this.src=n,this.g={},this.h=0}function C_(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],a=hI(i,t);(l=0<=a)&&Array.prototype.splice.call(i,a,1),l&&(Hp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function ov(n,t,e,i){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==i)return a}return-1}T_.prototype.add=function(n,t,e,i,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=ov(n,t,i,a);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new fT(t,this.src,l,!!i,a)).fa=e,n.push(t)),t};var av="closure_lm_"+(1e6*Math.random()|0),ss={};function pT(n,t,e,i,a){if(i&&i.once)return bI(n,t,e,i,a);if(Array.isArray(t)){for(var l=0;l<t.length;l++)pT(n,t[l],e,i,a);return null}return e=dv(e),n&&n[Kh]?n.N(t,e,zh(i)?!!i.capture:!!i,a):gT(n,t,e,!1,i,a)}function gT(n,t,e,i,a,l){if(!t)throw Error("Invalid event type");var h=zh(a)?!!a.capture:!!a,g=D_(n);if(g||(n[av]=g=new T_(n)),(e=g.add(t,e,i,h,l)).proxy)return e;if(i=function(){var t=lv;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)sv||(a=h),void 0===a&&(a=!1),n.addEventListener(t.toString(),i,a);else if(n.attachEvent)n.attachEvent(_T(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function bI(n,t,e,i,a){if(Array.isArray(t)){for(var l=0;l<t.length;l++)bI(n,t[l],e,i,a);return null}return e=dv(e),n&&n[Kh]?n.O(t,e,zh(i)?!!i.capture:!!i,a):gT(n,t,e,!0,i,a)}function uv(n,t,e,i,a){if(Array.isArray(t))for(var l=0;l<t.length;l++)uv(n,t[l],e,i,a);else i=zh(i)?!!i.capture:!!i,e=dv(e),n&&n[Kh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=ov(l=n.g[t],e,i,a))&&(Hp(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=D_(n))&&(t=n.g[t.toString()],n=-1,t&&(n=ov(t,e,i,a)),(e=-1<n?t[n]:null)&&mT(e))}function mT(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Kh])C_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(_T(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=D_(t))?(C_(e,n),0==e.h&&(e.src=null,t[av]=null)):Hp(n)}}}function _T(n){return n in ss?ss[n]:ss[n]="on"+n}function lv(n,t){if(n.ca)n=!0;else{t=new Pl(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&mT(n),n=e.call(i,t)}return n}function D_(n){return(n=n[av])instanceof T_?n:null}var cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function dv(n){return"function"==typeof n?n:(n[cv]||(n[cv]=function(t){return n.handleEvent(t)}),n[cv])}function Kr(){nd.call(this),this.i=new T_(this),this.P=this,this.I=null}function Qr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new wi(t,n);else if(t instanceof wi)t.target=t.target||n;else{var a=t;Au(t=new wi(i,n),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var h=t.g=e[l];a=E_(h,i,!0,t)&&a}if(a=E_(h=t.g=n,i,!0,t)&&a,a=E_(h,i,!1,t)&&a,e)for(l=0;l<e.length;l++)a=E_(h=t.g=e[l],i,!1,t)&&a}function E_(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,l=0;l<t.length;++l){var h=t[l];if(h&&!h.ca&&h.capture==e){var g=h.listener,b=h.ia||h.src;h.fa&&C_(n.i,h),a=!1!==g.call(b,i)&&a}}return a&&!i.defaultPrevented}qi(Kr,nd),Kr.prototype[Kh]=!0,Kr.prototype.removeEventListener=function(n,t,e,i){uv(this,n,t,e,i)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Hp(e[i]);delete n.g[t],n.h--}}this.I=null},Kr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Kr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var A_=Ct.JSON.stringify;function wI(){var n=EI;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var $p,hv=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yT,n=>n.reset());class yT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function CI(n){Ct.setTimeout(()=>{throw n},0)}function Co(n,t){$p||function(){var n=Ct.Promise.resolve(void 0);$p=function(){n.then(vT)}}(),fv||($p(),fv=!0),EI.add(n,t)}var fv=!1,EI=new class{constructor(){this.h=this.g=null}add(t,e){const i=hv.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function vT(){for(var n;n=wI();){try{n.h.call(n.g)}catch(e){CI(e)}var t=hv;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}fv=!1}function I_(n,t){Kr.call(this),this.h=n||1,this.g=t||Ct,this.j=bi(this.kb,this),this.l=Date.now()}function pv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function gv(n,t,e){if("function"==typeof n)e&&(n=bi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ct.setTimeout(n,t||0)}function S_(n){n.g=gv(()=>{n.g=null,n.i&&(n.i=!1,S_(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}qi(I_,Kr),(ze=I_.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qr(this,"tick"),this.da&&(pv(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){I_.Z.M.call(this),pv(this),delete this.g};class AI extends nd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:S_(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gp(n){nd.call(this),this.h=n,this.g={}}qi(Gp,nd);var zp=[];function M_(n,t,e,i){Array.isArray(e)||(e&&(zp[0]=e.toString()),e=zp);for(var a=0;a<e.length;a++){var l=pT(t,e[a],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function bT(n){__(n.g,function(t,e){this.g.hasOwnProperty(e)&&mT(t)},n),n.g={}}function Qh(){this.g=!0}function Xh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return A_(e)}catch(g){return t}}(n,e)+(i?" "+i:"")})}Gp.prototype.M=function(){Gp.Z.M.call(this),bT(this)},Gp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qh.prototype.Aa=function(){this.g=!1},Qh.prototype.info=function(){};var ef={},TT=null;function Yp(){return TT=TT||new Kr}function yv(n){wi.call(this,ef.Ma,n)}function tf(n){const t=Yp();Qr(t,new yv(t,n))}function vv(n,t){wi.call(this,ef.STAT_EVENT,n),this.stat=t}function Bi(n){const t=Yp();Qr(t,new vv(t,n))}function Va(n,t){wi.call(this,ef.Na,n),this.size=t}function Fl(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},t)}ef.Ma="serverreachability",qi(yv,wi),ef.STAT_EVENT="statevent",qi(vv,wi),ef.Na="timingevent",qi(Va,wi);var N_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function DT(){}function bv(){}DT.prototype.h=null;var Wp,Su={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sd(){wi.call(this,"d")}function wv(){wi.call(this,"c")}function Jp(){}function Kp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Gp(this),this.P=SI,this.W=new I_(n=b_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tv}function Tv(){this.i=null,this.g="",this.h=!1}qi(sd,wi),qi(wv,wi),qi(Jp,DT),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},Wp=new Jp;var SI=45e3,Qp={},x_={};function Cv(n,t,e){n.K=1,n.v=tg(ea(t)),n.s=e,n.U=!0,Dv(n,null)}function Dv(n,t){n.F=Date.now(),Xp(n),n.A=ea(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),RI(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Tv,n.g=qv(n.l,e?t:null,!n.s),0<n.O&&(n.L=new AI(bi(n.Ia,n,n.g),n.O)),M_(n.V,n.g,"readystatechange",n.gb),t=n.H?y_(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),tf(1),function(n,t,e,i,a,l){n.info(function(){if(n.g)if(l)for(var h="",g=l.split("&"),b=0;b<g.length;b++){var C=g[b].split("=");if(1<C.length){var S=C[0];C=C[1];var N=S.split("_");h=2<=N.length&&"type"==N[1]?h+(S+"=")+C+"&":h+(S+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function od(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ev(n,t,e){let a,i=!0;for(;!n.I&&n.C<e.length;){if(a=MI(n,e),a==x_){4==t&&(n.o=4,Bi(14),i=!1),Xh(n.j,n.m,null,"[Incomplete Response]");break}if(a==Qp){n.o=4,Bi(15),Xh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Xh(n.j,n.m,a,null),Av(n,a)}od(n)&&a!=x_&&a!=Qp&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Bi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Ul(t),t.L=!0,Bi(11))):(Xh(n.j,n.m,e,"[Invalid Chunked Response]"),ud(n),eg(n))}function MI(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?x_:(e=Number(t.substring(e,i)),isNaN(e)?Qp:(i+=1)+e>t.length?x_:(t=t.substr(i,e),n.C=i+e,t))}function Xp(n){n.Y=Date.now()+n.P,ad(n,n.P)}function ad(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Fl(bi(n.eb,n),t)}function k_(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function eg(n){0==n.l.G||n.I||Lv(n.l,n)}function ud(n){k_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,pv(n.W),bT(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Av(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||F_(e.i,n)))if(e.I=n.N,!n.J&&F_(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=Fl(bi(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;ug(e),fd(e)}Zl(e),Bi(18)}if(1>=NT(e.i)&&e.ka){try{e.ka()}catch(C){}e.ka=void 0}}else Vl(e,11)}else if((n.J||e.g==n)&&ug(e),!tv(t))for(a=e.Ca.g.parse(t),t=0;t<a.length;t++){let C=a[t];if(e.U=C[0],C=C[1],2==e.G)if("c"==C[0]){e.J=C[1],e.la=C[2];const S=C[3];null!=S&&(e.ma=S,e.h.info("VER="+e.ma));const N=C[4];null!=N&&(e.za=N,e.h.info("SVER="+e.za));const Z=C[5];null!=Z&&"number"==typeof Z&&0<Z&&(e.K=i=1.5*Z,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const ie=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var l=i.i;!l.g&&(dr(ie,"spdy")||dr(ie,"quic")||dr(ie,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(L_(l,l.h),l.h=null))}if(i.D){const ve=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(i.sa=ve,qn(i.F,i.D,ve))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((i=e).oa=Vv(i,i.H?i.la:null,i.W),h.J){LI(i.i,h);var g=h,b=i.K;b&&g.setTimeout(b),g.B&&(k_(g),Xp(g)),i.g=h}else md(i);0<e.l.length&&Fu(e)}else"stop"!=C[0]&&"close"!=C[0]||Vl(e,7);else 3==e.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Vl(e,7):Pu(e):"noop"!=C[0]&&e.j&&e.j.wa(C),e.A=0)}tf(4)}catch(C){}}function Iv(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(X0(n)||"string"==typeof n)fI(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(X0(n)||"string"==typeof n){e=[];for(var i=n.length,a=0;a<i;a++)e.push(a)}else for(a in e=[],i=0,n)e[i++]=a;a=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(X0(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n)).length;for(var l=0;l<a;l++)t.call(void 0,i[l],e&&e[l],n)}}function ld(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ld)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Un(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Mu(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var a={};for(e=t=0;t<n.g.length;)Mu(a,i=n.g[t])||(n.g[e++]=i,a[i]=1),t++;n.g.length=e}}function Mu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ze=Kp.prototype).setTimeout=function(n){this.P=n},ze.gb=function(n){n=n.target;const t=this.L;t&&3==Ru(n)?t.l():this.Ia(n)},ze.Ia=function(n){try{if(n==this.g)e:{const S=Ru(this.g);var t=this.g.Da();const N=this.g.ba();if(!(3>S)&&(3!=S||b_||this.g&&(this.h.h||this.g.ga()||PT(this.g)))){this.I||4!=S||7==t||tf(8==t||0>=N?3:2),k_(this);var e=this.g.ba();this.N=e;t:if(od(this)){var i=PT(this.g);n="";var a=i.length,l=4==Ru(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ud(this),eg(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==a-1});i.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,i,a,l,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+t+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,S,e),this.i){if(this.$&&!this.J){t:{if(this.g){var g,b=this.g;if((g=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tv(g)){var C=g;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,Bi(12),ud(this),eg(this);break e}Xh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Av(this,e)}this.U?(Ev(this,S,h),b_&&this.i&&3==S&&(M_(this.V,this.W,"tick",this.fb),this.W.start())):(Xh(this.j,this.m,h,null),Av(this,h)),4==S&&ud(this),this.i&&!this.I&&(4==S?Lv(this.l,this):(this.i=!1,Xp(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),ud(this),eg(this)}}}catch(S){}},ze.fb=function(){if(this.g){var n=Ru(this.g),t=this.g.ga();this.C<t.length&&(k_(this),Ev(this,n,t),this.i&&4!=n&&Xp(this))}},ze.cancel=function(){this.I=!0,ud(this)},ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tf(3),Bi(17)),ud(this),this.o=2,eg(this)):ad(this,this.Y-n)},(ze=ld.prototype).R=function(){Un(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ze.T=function(){return Un(this),this.g.concat()},ze.get=function(n,t){return Mu(this.h,n)?this.h[n]:t},ze.set=function(n,t){Mu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ze.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var a=e[i],l=this.get(a);n.call(t,l,a,this)}};var NI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof xu){this.g=void 0!==t?t:n.g,Sv(this,n.j),this.s=n.s,R_(this,n.i),O_(this,n.m),this.l=n.l,t=n.h;var e=new rg;e.i=t.i,t.g&&(e.g=new ld(t.g),e.h=t.h),Mv(this,e),this.o=n.o}else n&&(e=String(n).match(NI))?(this.g=!!t,Sv(this,e[1]||"",!0),this.s=ng(e[2]||""),R_(this,e[3]||"",!0),O_(this,e[4]),this.l=ng(e[5]||"",!0),Mv(this,e[6]||"",!0),this.o=ng(e[7]||"")):(this.g=!!t,this.h=new rg(null,this.g))}function ea(n){return new xu(n)}function Sv(n,t,e){n.j=e?ng(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function R_(n,t,e){n.i=e?ng(t,!0):t}function O_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Mv(n,t,e){t instanceof rg?(n.h=t,function(n,t){t&&!n.j&&(Ll(n),n.i=null,n.g.forEach(function(e,i){var a=i.toLowerCase();i!=a&&(MT(this,i),RI(this,a,e))},n)),n.j=t}(n.h,n.g)):(e||(t=ku(t,ST)),n.h=new rg(t,n.g))}function qn(n,t,e){n.h.set(t,e)}function tg(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ng(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ku(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Nv),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Nv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ku(t,xv,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ku(t,xv,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(ku(e,"/"==e.charAt(0)?IT:AT,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ku(e,kI)),n.join("")};var xv=/[#\/\?@]/g,AT=/[#\?:]/g,IT=/[#\?]/g,ST=/[#\?@]/g,kI=/#/g;function rg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ll(n){n.g||(n.g=new ld,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),a=null;if(0<=i){var l=n[e].substring(0,i);a=n[e].substring(i+1)}else l=n[e];t(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function MT(n,t){Ll(n),t=cd(n,t),Mu(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Mu((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Un(n)))}function kv(n,t){return Ll(n),t=cd(n,t),Mu(n.g.h,t)}function RI(n,t,e){MT(n,t),0<e.length&&(n.i=null,n.g.set(cd(n,t),lT(e)),n.h+=e.length)}function cd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function FI(n){this.l=n||xx,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=rg.prototype).add=function(n,t){Ll(this),this.i=null,n=cd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ze.forEach=function(n,t){Ll(this),this.g.forEach(function(e,i){fI(e,function(a){n.call(t,a,i,this)},this)},this)},ze.T=function(){Ll(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var a=n[i],l=0;l<a.length;l++)e.push(t[i]);return e},ze.R=function(n){Ll(this);var t=[];if("string"==typeof n)kv(this,n)&&(t=pI(t,this.g.get(cd(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=pI(t,n[e])}return t},ze.set=function(n,t){return Ll(this),this.i=null,kv(this,n=cd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ze.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],a=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var h=a;""!==i[l]&&(h+="="+encodeURIComponent(String(i[l]))),n.push(h)}}return this.i=n.join("&")};var xx=10;function P_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NT(n){return n.h?1:n.g?n.g.size:0}function F_(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function L_(n,t){n.g?n.g.add(t):n.h=t}function LI(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Do(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return lT(n.i)}function xT(){}function kx(){this.g=new xT}function Rx(n,t,e){const i=e||"";try{Iv(n,function(a,l){let h=a;zh(a)&&(h=A_(a)),t.push(i+l+"="+encodeURIComponent(h))})}catch(a){throw t.push(i+"type="+encodeURIComponent("_badmap")),a}}function ig(n,t,e,i,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(i)}catch(l){}}function nf(n){this.l=n.$b||null,this.j=n.ib||!1}function Z_(n,t){Kr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=RT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FI.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xT.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},xT.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},qi(nf,DT),nf.prototype.g=function(){return new Z_(this.l,this.j)},nf.prototype.i=function(n){return function(){return n}}({}),qi(Z_,Kr);var RT=0;function Rv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sg(n)}function sg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=Z_.prototype).open=function(n,t){if(this.readyState!=RT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,sg(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ct).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=RT},ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sg(this)),this.g&&(this.readyState=3,sg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?dd(this):sg(this),3==this.readyState&&Rv(this)}},ze.Ua=function(n){this.g&&(this.response=this.responseText=n,dd(this))},ze.Ta=function(n){this.g&&(this.response=n,dd(this))},ze.ha=function(){this.g&&dd(this)},ze.setRequestHeader=function(n,t){this.v.append(n,t)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Z_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ov=Ct.JSON.parse;function Ir(n){Kr.call(this),this.headers=new ld,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OT,this.K=this.L=!1}qi(Ir,Kr);var OT="",ZI=/^https?$/i,UI=["POST","PUT"];function qI(n){return"content-type"==n.toLowerCase()}function og(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,hd(n),Ts(n)}function hd(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function Pv(n){if(n.h&&void 0!==Gh&&(!n.C[1]||4!=Ru(n)||2!=n.ba()))if(n.v&&4==Ru(n))gv(n.Fa,0,n);else if(Qr(n,"readystatechange"),4==Ru(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===g){var a=String(n.H).match(NI)[1]||null;if(!a&&Ct.self&&Ct.self.location){var l=Ct.self.location.protocol;a=l.substr(0,l.length-1)}i=!ZI.test(a?a.toLowerCase():"")}e=i}if(e)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var h=2<Ru(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",hd(n)}}finally{Ts(n)}}}function Ts(n,t){if(n.g){rf(n);const e=n.g,i=n.C[0]?Q0:null;n.g=null,n.C=null,t||Qr(n,"ready");try{e.onreadystatechange=i}catch(a){}}}function rf(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Ru(n){return n.g?n.g.readyState:0}function PT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Eo(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return __(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):qn(n,t,e))}function Ou(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Ti(n){this.za=0,this.l=[],this.h=new Qh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ou("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ou("baseRetryDelayMs",5e3,n),this.$a=Ou("retryDelaySeedMs",1e4,n),this.Ya=Ou("forwardChannelMaxRetries",2,n),this.ra=Ou("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new FI(n&&n.concurrentRequestLimit),this.Ca=new kx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Pu(n){if(zs(n),3==n.G){var t=n.V++,e=ea(n.F);qn(e,"SID",n.J),qn(e,"RID",t),qn(e,"TYPE","terminate"),qa(n,e),(t=new Kp(n,n.h,t,void 0)).K=2,t.v=tg(ea(e)),e=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(e=Ct.navigator.sendBeacon(t.v.toString(),"")),!e&&Ct.Image&&((new Image).src=t.v,e=!0),e||(t.g=qv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Xp(t)}Uv(n)}function fd(n){n.g&&(Ul(n),n.g.cancel(),n.g=null)}function zs(n){fd(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),ug(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function ag(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Fu(n)}function Fu(n){P_(n.i)||n.m||(n.m=!0,Co(n.Ha,n),n.C=0)}function pd(n,t){var e;e=t?t.m:n.V++;const i=ea(n.F);qn(i,"SID",n.J),qn(i,"RID",e),qn(i,"AID",n.U),qa(n,i),n.o&&n.s&&Eo(i,n.o,n.s),e=new Kp(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=gd(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),L_(n.i,e),Cv(e,i,t)}function qa(n,t){n.j&&Iv({},function(e,i){qn(t,i,e)})}function gd(n,t,e){e=Math.min(n.l.length,e);var i=n.j?bi(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+e];-1==l?0<e?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let g=!0;for(let b=0;b<e;b++){let C=a[b].h;const S=a[b].g;if(C-=l,0>C)l=Math.max(0,a[b].h-100),g=!1;else try{Rx(S,h,"req"+C+"_")}catch(N){i&&i(S)}}if(g){i=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function md(n){n.g||n.u||(n.Y=1,Co(n.Ga,n),n.A=0)}function Zl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Fl(bi(n.Ga,n),Zv(n,n.A)),n.A++,0))}function Ul(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function _d(n){n.g=new Kp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=ea(n.oa);qn(t,"RID","rpc"),qn(t,"SID",n.J),qn(t,"CI",n.N?"0":"1"),qn(t,"AID",n.U),qa(n,t),qn(t,"TYPE","xmlhttp"),n.o&&n.s&&Eo(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=tg(ea(t)),e.s=null,e.U=!0,Dv(e,n)}function ug(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function Lv(n,t){var e=null;if(n.g==t){ug(n),Ul(n),n.g=null;var i=2}else{if(!F_(n.i,t))return;e=t.D,LI(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var a=n.C;Qr(i=Yp(),new Va(i,e,t,a)),Fu(n)}else md(n);else if(3==(a=t.o)||0==a&&0<n.I||!(1==i&&function(n,t){return!(NT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Fl(bi(n.Ha,n,t),Zv(n,n.C)),n.C++,0)))}(n,t)||2==i&&Zl(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),a){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function Zv(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Vl(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=bi(n.jb,n);e||(e=new xu("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||Sv(e,"https"),tg(e)),function(n,t){const e=new Qh;if(Ct.Image){const i=new Image;i.onload=Yh(ig,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Yh(ig,e,i,"TestLoadImage: error",!1,t),i.onabort=Yh(ig,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Yh(ig,e,i,"TestLoadImage: timeout",!1,t),Ct.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Bi(2);n.G=0,n.j&&n.j.va(t),Uv(n),zs(n)}function Uv(n){n.G=0,n.I=-1,n.j&&((0!=Do(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lT(n.l),n.l.length=0),n.j.ua())}function Vv(n,t,e){let i=function(n){return n instanceof xu?ea(n):new xu(n,void 0)}(e);if(""!=i.i)t&&R_(i,t+"."+i.i),O_(i,i.m);else{const a=Ct.location;i=function(n,t,e,i){var a=new xu(null,void 0);return n&&Sv(a,n),t&&R_(a,t),e&&O_(a,e),i&&(a.l=i),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,e)}return n.aa&&__(n.aa,function(a,l){qn(i,l,a)}),e=n.sa,(t=n.D)&&e&&qn(i,t,e),qn(i,"VER",n.ma),qa(n,i),i}function qv(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ir(e&&n.Ba&&!n.qa?new nf({ib:!0}):n.qa)).L=n.H,t}function Bv(){}function lg(){if(Rl&&!(10<=Number(iv)))throw Error("Environmental error: no available transport.")}function Ys(n,t){Kr.call(this),this.g=new Ti(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!tv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new yd(this)}function jv(n){sd.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function FT(){wv.call(this),this.status=1}function yd(n){this.g=n}(ze=Ir.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wp.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Wp),this.g.onreadystatechange=bi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void og(this,l)}n=e||"";const a=new ld(this.headers);i&&Iv(i,function(l,h){a.set(h,l)}),i=function(n){e:{var t=qI;const e=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<e;a++)if(a in i&&t.call(void 0,i[a],a,n)){t=a;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(a.T()),e=Ct.FormData&&n instanceof Ct.FormData,!(0<=hI(UI,t))||i||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rf(this),0<this.B&&((this.K=function(n){return Rl&&yI()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.pa,this)):this.A=gv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){og(this,l)}},ze.pa=function(){void 0!==Gh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),Ts(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ts(this,!0)),Ir.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?Pv(this):this.cb())},ze.cb=function(){Pv(this)},ze.ba=function(){try{return 2<Ru(this)?this.g.status:-1}catch(n){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ov(t)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=Ti.prototype).ma=8,ze.G=1,ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Kp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=y_(l),Au(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=gd(this,a,t),qn(e=ea(this.F),"RID",n),qn(e,"CVER",22),this.D&&qn(e,"X-HTTP-Session-Id",this.D),qa(this,e),this.o&&l&&Eo(e,this.o,l),L_(this.i,a),this.Ra&&qn(e,"TYPE","init"),this.ja?(qn(e,"$req",t),qn(e,"SID","null"),a.$=!0,Cv(a,e,null)):Cv(a,e,t),this.G=2}}else 3==this.G&&(n?pd(this,n):0==this.l.length||P_(this.i)||pd(this))},ze.Ga=function(){if(this.u=null,_d(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Fl(bi(this.bb,this),n)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bi(10),fd(this),_d(this))},ze.ab=function(){null!=this.v&&(this.v=null,fd(this),Zl(this),Bi(19))},ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bi(2)):(this.h.info("Failed to ping google.com"),Bi(1))},(ze=Bv.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},lg.prototype.g=function(n,t){return new Ys(n,t)},qi(Ys,Kr),Ys.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Co(bi(n.hb,n,t))),Bi(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Vv(n,null,n.W),Fu(n)},Ys.prototype.close=function(){Pu(this.g)},Ys.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,ag(this.g,t)}else this.v?((t={}).__data__=A_(n),ag(this.g,t)):ag(this.g,n)},Ys.prototype.M=function(){this.g.j=null,delete this.j,Pu(this.g),delete this.g,Ys.Z.M.call(this)},qi(jv,sd),qi(FT,wv),qi(yd,Bv),yd.prototype.xa=function(){Qr(this.g,"a")},yd.prototype.wa=function(n){Qr(this.g,new jv(n))},yd.prototype.va=function(n){Qr(this.g,new FT(n))},yd.prototype.ua=function(){Qr(this.g,"b")},lg.prototype.createWebChannel=lg.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,N_.NO_ERROR=0,N_.TIMEOUT=8,N_.HTTP_ERROR=6,CT.COMPLETE="complete",bv.EventType=Su,Su.OPEN="a",Su.CLOSE="b",Su.ERROR="c",Su.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var LT=vi.createWebChannelTransport=function(){return new lg},BI=vi.getStatEventTarget=function(){return Yp()},ZT=vi.ErrorCode=N_,jI=vi.EventType=CT,UT=vi.Event=ef,VT=vi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qT=vi.FetchXmlHttpFactory=nf,U_=vi.WebChannel=bv,HI=vi.XhrIo=Ir;const $I="@firebase/firestore";class Ci{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let vd="9.6.0";const bd=new Eu.Yd("@firebase/firestore");function BT(){return bd.logLevel}function Le(n,...t){if(bd.logLevel<=Eu.in.DEBUG){const e=t.map(Hv);bd.debug(`Firestore (${vd}): ${n}`,...e)}}function Br(n,...t){if(bd.logLevel<=Eu.in.ERROR){const e=t.map(Hv);bd.error(`Firestore (${vd}): ${n}`,...e)}}function cg(n,...t){if(bd.logLevel<=Eu.in.WARN){const e=t.map(Hv);bd.warn(`Firestore (${vd}): ${n}`,...e)}}function Hv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Xe(n="Unexpected state"){const t=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: `+n;throw Br(t),new Error(t)}function gt(n,t){n||Xe()}function qe(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class $v{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Px{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ci.UNAUTHENTICATED))}shutdown(){}}class zI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class af{constructor(t){this.t=t,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let a=this.i;const l=C=>this.i!==a?(a=this.i,e(C)):Promise.resolve();let h=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Xr,t.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const C=h;t.enqueueRetryable((0,J.Z)(function*(){yield C.promise,yield l(i.currentUser)}))},b=C=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Xr)}},0),g()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt("string"==typeof i.accessToken),new $v(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return gt(null===t||"string"==typeof t),new Ci(t)}}class YI{constructor(t,e,i){this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class jT{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new YI(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $T{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=a=>{t.enqueueRetryable(()=>{return null!=(l=a).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(gt("string"==typeof e.token),new HT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ws{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function GT(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Ws.I=-1;class zT{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const a=GT(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%t.length))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function uf(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}function YT(n){return n+"\0"}class ei{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ei.fromMillis(Date.now())}static fromDate(t){return ei.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ei(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ei(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function WT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ql(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class wd{constructor(t,e,i){void 0===e?e=0:e>t.length&&Xe(),void 0===i?i=t.length-e:i>t.length-e&&Xe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===wd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wd?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=t.get(a),h=e.get(a);if(l<h)return-1;if(l>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class En extends wd{construct(t,e,i){return new En(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new En(e)}static emptyPath(){return new En([])}}const Yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends wd{construct(t,e,i){return new Di(t,e,i)}static isValidIdentifier(t){return Yv.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(0===i.length)throw new xe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let h=!1;for(;a<t.length;){const g=t[a];if("\\"===g){if(a+1===t.length)throw new xe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new xe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=b,a+=2}else"`"===g?(h=!h,a++):"."!==g||h?(i+=g,a++):(l(),a++)}if(l(),h)throw new xe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Di(e)}static emptyPath(){return new Di([])}}class dg{constructor(t){this.fields=t,t.sort(Di.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return uf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ti(e)}static fromUint8Array(t){const e=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(t);return new ti(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const Wv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(gt(!!n),"string"==typeof n){let t=0;const e=Wv.exec(n);if(gt(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bl(n){return"string"==typeof n?ti.fromBase64String(n):ti.fromUint8Array(n)}function fg(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Jv(n){const t=n.mapValue.fields.__previous_value__;return fg(t)?Jv(t):t}function V_(n){const t=Ba(n.mapValue.fields.__local_write_time__.timestampValue);return new ei(t.seconds,t.nanos)}function Td(n){return null==n}function lf(n){return 0===n&&1/n==-1/0}function q_(n){return"number"==typeof n&&Number.isInteger(n)&&!lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class et{constructor(t){this.path=t}static fromPath(t){return new et(En.fromString(t))}static fromName(t){return new et(En.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return En.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new En(t.slice()))}}function jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fg(n)?4:10:Xe()}function Ao(n,t){const e=jl(n);if(e!==jl(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return V_(n).isEqual(V_(t));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ba(i.timestampValue),h=Ba(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return a=t,Bl(n.bytesValue).isEqual(Bl(a.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,a){return Sr(i.geoPointValue.latitude)===Sr(a.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(a.geoPointValue.longitude)}(n,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Sr(i.integerValue)===Sr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Sr(i.doubleValue),h=Sr(a.doubleValue);return l===h?lf(l)===lf(h):isNaN(l)&&isNaN(h)}return!1}(n,t);case 9:return uf(n.arrayValue.values||[],t.arrayValue.values||[],Ao);case 10:return function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(WT(l)!==WT(h))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===h[g]||!Ao(l[g],h[g])))return!1;return!0}(n,t);default:return Xe()}var a}function cf(n,t){return void 0!==(n.values||[]).find(e=>Ao(e,t))}function Hl(n,t){const e=jl(n),i=jl(t);if(e!==i)return Qt(e,i);switch(e){case 0:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const h=Sr(a.integerValue||a.doubleValue),g=Sr(l.integerValue||l.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,t);case 3:return B_(n.timestampValue,t.timestampValue);case 4:return B_(V_(n),V_(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(a,l){const h=Bl(a),g=Bl(l);return h.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const h=a.split("/"),g=l.split("/");for(let b=0;b<h.length&&b<g.length;b++){const C=Qt(h[b],g[b]);if(0!==C)return C}return Qt(h.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const h=Qt(Sr(a.latitude),Sr(l.latitude));return 0!==h?h:Qt(Sr(a.longitude),Sr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(a,l){const h=a.values||[],g=l.values||[];for(let b=0;b<h.length&&b<g.length;++b){const C=Hl(h[b],g[b]);if(C)return C}return Qt(h.length,g.length)}(n.arrayValue,t.arrayValue);case 10:return function(a,l){const h=a.fields||{},g=Object.keys(h),b=l.fields||{},C=Object.keys(b);g.sort(),C.sort();for(let S=0;S<g.length&&S<C.length;++S){const N=Qt(g[S],C[S]);if(0!==N)return N;const Z=Hl(h[g[S]],b[C[S]]);if(0!==Z)return Z}return Qt(g.length,C.length)}(n.mapValue,t.mapValue);default:throw Xe()}}function B_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=Ba(n),i=Ba(t),a=Qt(e.seconds,i.seconds);return 0!==a?a:Qt(e.nanos,i.nanos)}function j_(n){return Kv(n)}function Kv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Ba(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bl(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Kv(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const g of a)h?h=!1:l+=",",l+=`${g}:${Kv(i.fields[g])}`;return l+"}"}(n.mapValue):Xe();var t}function pg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function H_(n){return!!n&&"integerValue"in n}function gg(n){return!!n&&"arrayValue"in n}function Qv(n){return!!n&&"nullValue"in n}function JT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function df(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ql(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=df(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=df(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ni{constructor(t){this.value=t}static empty(){return new ni({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!mg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=df(e)}setAll(t){let e=Di.emptyPath(),i={},a=[];t.forEach((h,g)=>{if(!e.isImmediateParentOf(g)){const b=this.getFieldsMap(e);this.applyChanges(b,i,a),i={},a=[],e=g.popLast()}h?i[g.lastSegment()]=df(h):a.push(g.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());mg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ao(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];mg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){ql(e,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new ni(df(this.value))}}function _g(n){const t=[];return ql(n.fields,(e,i)=>{const a=new Di([e]);if(mg(i)){const l=_g(i.mapValue).fields;if(0===l.length)t.push(a);else for(const h of l)t.push(a.child(h))}else t.push(a)}),new dg(t)}class Bn{constructor(t,e,i,a,l){this.key=t,this.documentType=e,this.version=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Bn(t,0,Rt.min(),ni.empty(),0)}static newFoundDocument(t,e,i){return new Bn(t,1,e,i,0)}static newNoDocument(t,e){return new Bn(t,2,e,ni.empty(),0)}static newUnknownDocument(t,e){return new Bn(t,3,e,ni.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KT{constructor(t,e=null,i=[],a=[],l=null,h=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=h,this.endAt=g,this.R=null}}function Xv(n,t=null,e=[],i=[],a=null,l=null,h=null){return new KT(n,t,e,i,a,l,h)}function hf(n){const t=qe(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+j_(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),Td(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=$_(t.startAt)),t.endAt&&(e+="|ub:",e+=$_(t.endAt)),t.R=e}return t.R}function yg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!nC(n.orderBy[a],t.orderBy[a]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((e=n.filters[a]).op!==(i=t.filters[a]).op||!e.field.isEqual(i.field)||!Ao(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rC(n.startAt,t.startAt)&&rC(n.endAt,t.endAt)}function vg(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ji extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new WI(t,e,i):"array-contains"===e?new jr(t,i):"in"===e?new tC(t,i):"not-in"===e?new KI(t,i):"array-contains-any"===e?new QI(t,i):new ji(t,e,i)}static P(t,e,i){return"in"===e?new JI(t,i):new XT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Hl(e,this.value)):null!==e&&jl(this.value)===jl(e)&&this.v(Hl(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xe()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WI extends ji{constructor(t,e,i){super(t,e,i),this.key=et.fromName(i.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.v(e)}}class JI extends ji{constructor(t,e){super(t,"in",e),this.keys=eC(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XT extends ji{constructor(t,e){super(t,"not-in",e),this.keys=eC(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function eC(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>et.fromName(i.referenceValue))}class jr extends ji{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gg(e)&&cf(e.arrayValue,this.value)}}class tC extends ji{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&cf(this.value.arrayValue,e)}}class KI extends ji{constructor(t,e){super(t,"not-in",e)}matches(t){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!cf(this.value.arrayValue,e)}}class QI extends ji{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>cf(this.value.arrayValue,i))}}class ff{constructor(t,e){this.position=t,this.before=e}}function $_(n){return`${n.before?"b":"a"}:${n.position.map(t=>j_(t)).join(",")}`}class Cd{constructor(t,e="asc"){this.field=t,this.dir=e}}function nC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Dd(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],h=n.position[a];if(i=l.field.isKeyField()?et.comparator(et.fromName(h.referenceValue),e.key):Hl(h,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function rC(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ao(n.position[e],t.position[e]))return!1;return!0}class Lu{constructor(t,e=null,i=[],a=[],l=null,h="F",g=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=b,this.S=null,this.D=null}}function e1(n,t,e,i,a,l,h,g){return new Lu(n,t,e,i,a,l,h,g)}function pf(n){return new Lu(n)}function bg(n){return!Td(n.limit)&&"F"===n.limitType}function t1(n){return!Td(n.limit)&&"L"===n.limitType}function wg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tg(n){for(const t of n.filters)if(t.V())return t.field;return null}function Io(n){return null!==n.collectionGroup}function gf(n){const t=qe(n);if(null===t.S){t.S=[];const e=Tg(t),i=wg(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new Cd(e)),t.S.push(new Cd(Di.keyField(),"asc"));else{let a=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Cd(Di.keyField(),l))}}}return t.S}function Js(n){const t=qe(n);if(!t.D)if("F"===t.limitType)t.D=Xv(t.path,t.collectionGroup,gf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of gf(t))e.push(new Cd(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new ff(t.endAt.position,!t.endAt.before):null,a=t.startAt?new ff(t.startAt.position,!t.startAt.before):null;t.D=Xv(t.path,t.collectionGroup,e,t.filters,t.limit,i,a)}return t.D}function ta(n,t,e){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function os(n,t){return yg(Js(n),Js(t))&&n.limitType===t.limitType}function So(n){return`${hf(Js(n))}|lt:${n.limitType}`}function G_(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${j_(i.value)}`;var i}).join(", ")}]`),Td(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+$_(n.startAt)),n.endAt&&(t+=", endAt: "+$_(n.endAt)),`Target(${t})`}(Js(n))}; limitType=${n.limitType})`}function mf(n,t){return t.isFoundDocument()&&function(e,i){const a=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):et.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a)}(n,t)&&function(e,i){for(const a of e.explicitOrderBy)if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,t)&&function(e,i){for(const a of e.filters)if(!a.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!Dd(e.startAt,gf(e),i)||e.endAt&&Dd(e.endAt,gf(e),i)));var e,i}function iC(n){return(t,e)=>{let i=!1;for(const a of gf(n)){const l=XI(a,t,e);if(0!==l)return l;i=i||a.field.isKeyField()}return 0}}function XI(n,t,e){const i=n.field.isKeyField()?et.comparator(t.key,e.key):function(a,l,h){const g=l.data.field(a),b=h.data.field(a);return null!==g&&null!==b?Hl(g,b):Xe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Xe()}}function sC(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(t)?"-0":t}}function oC(n){return{integerValue:""+n}}function z_(n,t){return q_(t)?oC(t):sC(n,t)}class $l{constructor(){this._=void 0}}function eS(n,t,e){return n instanceof Ed?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(e,t):n instanceof Gl?Cg(n,t):n instanceof Ad?n1(n,t):function(i,a){const l=uC(i,a),h=Y_(l)+Y_(i.N);return H_(l)&&H_(i.N)?oC(h):sC(i.k,h)}(n,t)}function aC(n,t,e){return n instanceof Gl?Cg(n,t):n instanceof Ad?n1(n,t):e}function uC(n,t){return n instanceof Id?H_(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ed extends $l{}class Gl extends $l{constructor(t){super(),this.elements=t}}function Cg(n,t){const e=Dg(t);for(const i of n.elements)e.some(a=>Ao(a,i))||e.push(i);return{arrayValue:{values:e}}}class Ad extends $l{constructor(t){super(),this.elements=t}}function n1(n,t){let e=Dg(t);for(const i of n.elements)e=e.filter(a=>!Ao(a,i));return{arrayValue:{values:e}}}class Id extends $l{constructor(t,e){super(),this.k=t,this.N=e}}function Y_(n){return Sr(n.integerValue||n.doubleValue)}function Dg(n){return gg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _f{constructor(t,e){this.field=t,this.transform=e}}class r1{constructor(t,e){this.version=t,this.transformResults=e}}class yr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yr}static exists(t){return new yr(void 0,t)}static updateTime(t){return new yr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Eg(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ag{}function cC(n,t,e){n instanceof yf?function(i,a,l){const h=i.value.clone(),g=gC(i.fieldTransforms,a,l.transformResults);h.setAll(g),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):n instanceof zl?function(i,a,l){if(!Eg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=gC(i.fieldTransforms,a,l.transformResults),g=a.data;g.setAll(pC(i)),g.setAll(h),a.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function W_(n,t,e){var a;n instanceof yf?function(i,a,l){if(!Eg(i.precondition,a))return;const h=i.value.clone(),g=mC(i.fieldTransforms,l,a);h.setAll(g),a.convertToFoundDocument(fC(a),h).setHasLocalMutations()}(n,t,e):n instanceof zl?function(i,a,l){if(!Eg(i.precondition,a))return;const h=mC(i.fieldTransforms,l,a),g=a.data;g.setAll(pC(i)),g.setAll(h),a.convertToFoundDocument(fC(a),g).setHasLocalMutations()}(n,t,e):Eg(n.precondition,a=t)&&a.convertToNoDocument(Rt.min())}function dC(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=uC(i.transform,a||null);null!=l&&(null==e&&(e=ni.empty()),e.set(i.field,l))}return e||null}function hC(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&uf(e,i,(a,l)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gl&&i instanceof Gl||e instanceof Ad&&i instanceof Ad?uf(e.elements,i.elements,Ao):e instanceof Id&&i instanceof Id?Ao(e.N,i.N):e instanceof Ed&&i instanceof Ed);var e,i}(a,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function fC(n){return n.isFoundDocument()?n.version:Rt.min()}class yf extends Ag{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}}class zl extends Ag{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}}function pC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function gC(n,t,e){const i=new Map;gt(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],h=l.transform,g=t.data.field(l.field);i.set(l.field,aC(h,g,e[a]))}return i}function mC(n,t,e){const i=new Map;for(const a of n){const l=a.transform,h=e.data.field(a.field);i.set(a.field,eS(l,h,t))}return i}class Ig extends Ag{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class i1 extends Ag{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class tS{constructor(t){this.count=t}}var Mr,on;function _C(n){switch(n){default:return Xe();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function yC(n){if(void 0===n)return Br("GRPC error has no .code"),me.UNKNOWN;switch(n){case Mr.OK:return me.OK;case Mr.CANCELLED:return me.CANCELLED;case Mr.UNKNOWN:return me.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return me.INTERNAL;case Mr.UNAVAILABLE:return me.UNAVAILABLE;case Mr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Mr.NOT_FOUND:return me.NOT_FOUND;case Mr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Mr.ABORTED:return me.ABORTED;case Mr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Mr.DATA_LOSS:return me.DATA_LOSS;default:return Xe()}}(on=Mr||(Mr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class Hr{constructor(t,e){this.comparator=t,this.root=e||Ei.EMPTY}insert(t,e){return new Hr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(t){return new Hr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(0===a)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new J_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new J_(this.root,t,this.comparator,!1)}getReverseIterator(){return new J_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new J_(this.root,t,this.comparator,!0)}}class J_{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ei{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=null!=i?i:Ei.RED,this.left=null!=a?a:Ei.EMPTY,this.right=null!=l?l:Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new Ei(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(t,a.key)){if(a.right.isEmpty())return Ei.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const t=this.left.check();if(t!==this.right.check())throw Xe();return t+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,t,e,i,a){return this}insert(n,t,e){return new Ei(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(t){this.comparator=t,this.data=new Hr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new s1(this.data.getIterator())}getIteratorFrom(t){return new s1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof or)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new or(this.comparator);return e.data=t,e}}class s1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const vC=new Hr(et.comparator);function Ks(){return vC}const bC=new Hr(et.comparator);function K_(){return bC}const wC=new Hr(et.comparator);function o1(){return wC}const TC=new or(et.comparator);function wn(...n){let t=TC;for(const e of n)t=t.add(e);return t}const CC=new or(Qt);function ja(){return CC}class Sg{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Mg.createSynthesizedTargetChangeForCurrentChange(t,e)),new Sg(Rt.min(),i,ja(),Ks(),wn())}}class Mg{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Mg(ti.EMPTY_BYTE_STRING,e,wn(),wn(),wn())}}class Zu{constructor(t,e,i,a){this.$=t,this.removedTargetIds=e,this.key=i,this.F=a}}class nS{constructor(t,e){this.targetId=t,this.O=e}}class Q_{constructor(t,e,i=ti.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class rS{constructor(){this.M=0,this.L=iS(),this.B=ti.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=wn(),e=wn(),i=wn();return this.L.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Xe()}}),new Mg(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=iS()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class DC{constructor(t){this.et=t,this.nt=new Map,this.st=Ks(),this.it=a1(),this.rt=new or(Qt)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:Xe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,a)=>{this.lt(a)&&e(a)})}dt(t){const e=t.targetId,i=t.O.count,a=this.wt(e);if(a){const l=a.target;if(vg(l))if(0===i){const h=new et(l.path);this.ct(e,h,Bn.newNoDocument(h,Rt.min()))}else gt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,h)=>{const g=this.wt(h);if(g){if(l.current&&vg(g.target)){const b=new et(g.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Bn.newNoDocument(b,t))}l.j&&(e.set(h,l.G()),l.H())}});let i=wn();this.it.forEach((l,h)=>{let g=!0;h.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(g=!1,!1)}),g&&(i=i.add(l))});const a=new Sg(t,e,this.rt,this.st,i);return this.st=Ks(),this.it=a1(),this.rt=new or(Qt),a}at(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.lt(t))return;const a=this.ht(t);this.yt(t,e)?a.J(e,1):a.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new rS,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new or(Qt),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new rS),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function a1(){return new Hr(et.comparator)}function iS(){return new Hr(et.comparator)}const ft={asc:"ASCENDING",desc:"DESCENDING"},sS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class oS{constructor(t,e){this.databaseId=t,this.C=e}}function Ng(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xg(n,t){return n.C?t.toBase64():t.toUint8Array()}function aS(n,t){return Ng(n,t.toTimestamp())}function vr(n){return gt(!!n),Rt.fromTimestamp(function(t){const e=Ba(t);return new ei(e.seconds,e.nanos)}(n))}function vf(n,t){return(e=n,new En(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function ar(n){const t=En.fromString(n);return gt(f1(t)),t}function X_(n,t){return vf(n.databaseId,t.path)}function na(n,t){const e=ar(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(u1(e))}function kg(n,t){return vf(n.databaseId,t)}function EC(n){const t=ar(n);return 4===t.length?En.emptyPath():u1(t)}function bf(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u1(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function l1(n,t,e){return{name:X_(n,t),fields:e.value.mapValue.fields}}function c1(n,t,e){const i=na(n,t.name),a=vr(t.updateTime),l=new ni({mapValue:{fields:t.fields}}),h=Bn.newFoundDocument(i,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function ey(n,t){let e;if(t instanceof yf)e={update:l1(n,t.key,t.value)};else if(t instanceof Ig)e={delete:X_(n,t.key)};else if(t instanceof zl)e={update:l1(n,t.key,t.data),updateMask:xC(t.fieldMask)};else{if(!(t instanceof i1))return Xe();e={verify:X_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const h=l.transform;if(h instanceof Ed)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ad)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Id)return{fieldPath:l.field.canonicalString(),increment:h.N};throw Xe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(a=t.precondition).updateTime?{updateTime:aS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Xe()),e;var a}function wf(n,t){const e=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?yr.updateTime(vr(a.updateTime)):void 0!==a.exists?yr.exists(a.exists):yr.none():yr.none(),i=t.updateTransforms?t.updateTransforms.map(a=>function(l,h){let g=null;"setToServerValue"in h?(gt("REQUEST_TIME"===h.setToServerValue),g=new Ed):"appendMissingElements"in h?g=new Gl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new Ad(h.removeAllFromArray.values||[]):"increment"in h?g=new Id(l,h.increment):Xe();const b=Di.fromServerFormat(h.fieldPath);return new _f(b,g)}(n,a)):[];var a;if(t.update){const a=na(n,t.update.name),l=new ni({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new dg((t.updateMask.fieldPaths||[]).map(C=>Di.fromServerFormat(C)));return new zl(a,l,h,e,i)}return new yf(a,l,e,i)}if(t.delete){const a=na(n,t.delete);return new Ig(a,e)}if(t.verify){const a=na(n,t.verify);return new i1(a,e)}return Xe()}function AC(n,t){return{documents:[kg(n,t.path)]}}function IC(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=kg(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=kg(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(g){if(0===g.length)return;const b=g.map(C=>function(S){if("=="===S.op){if(JT(S.value))return{unaryFilter:{field:Tf(S.field),op:"IS_NAN"}};if(Qv(S.value))return{unaryFilter:{field:Tf(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(JT(S.value))return{unaryFilter:{field:Tf(S.field),op:"IS_NOT_NAN"}};if(Qv(S.value))return{unaryFilter:{field:Tf(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(S.field),op:Pg(S.op),value:S.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);a&&(e.structuredQuery.where=a);const l=function(g){if(0!==g.length)return g.map(b=>{return{field:Tf((C=b).field),direction:Og(C.dir)};var C})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const h=(b=t.limit,n.C||Td(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=h1(t.startAt)),t.endAt&&(e.structuredQuery.endAt=h1(t.endAt)),e}function Rg(n){let t=EC(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){gt(1===i);const S=e.from[0];S.allDescendants?a=S.collectionId:t=t.child(S.collectionId)}let l=[];e.where&&(l=d1(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(S=>{return new Cd(Cf((N=S).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let g=null;e.limit&&(g=function(S){let N;return N="object"==typeof S?S.value:S,Td(N)?null:N}(e.limit));let b=null;e.startAt&&(b=MC(e.startAt));let C=null;return e.endAt&&(C=MC(e.endAt)),e1(t,a,h,l,g,"F",b,C)}function d1(n){return n?void 0!==n.unaryFilter?[NC(n)]:void 0!==n.fieldFilter?[dS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>d1(t)).reduce((t,e)=>t.concat(e)):Xe():[]}function h1(n){return{before:n.before,values:n.position}}function MC(n){return new ff(n.values||[],!!n.before)}function Og(n){return ft[n]}function Pg(n){return sS[n]}function Tf(n){return{fieldPath:n.canonicalString()}}function Cf(n){return Di.fromServerFormat(n.fieldPath)}function dS(n){return ji.create(Cf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function NC(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Cf(n.unaryFilter.field);return ji.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Cf(n.unaryFilter.field);return ji.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cf(n.unaryFilter.field);return ji.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cf(n.unaryFilter.field);return ji.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function xC(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function f1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ra(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=RC(t)),t=kC(n.get(e),t);return RC(t)}function kC(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function RC(n){return n+"\x01\x01"}function Uu(n){const t=n.length;if(gt(t>=2),2===t)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const h=n.indexOf("\x01",l);switch((h<0||h>e)&&Xe(),n.charAt(h+1)){case"\x01":const g=n.substring(l,h);let b;0===a.length?b=g:(a+=g,b=a,a=""),i.push(b);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:Xe()}l=h+2}return new En(i)}class Lx{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Mo{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Mo.store="owner",Mo.key="owner";class Sd{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Sd.store="mutationQueues",Sd.keyPath="userId";class Xn{constructor(t,e,i,a,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=l}}Xn.store="mutations",Xn.keyPath="batchId",Xn.userMutationsIndex="userMutationsIndex",Xn.userMutationsKeyPath=["userId","batchId"];class Ai{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,ra(e)]}static key(t,e,i){return[t,ra(e),i]}}Ai.store="documentMutations",Ai.PLACEHOLDER=new Ai;class ty{constructor(t,e){this.path=t,this.readTime=e}}class hS{constructor(t,e){this.path=t,this.version=e}}class hr{constructor(t,e,i,a,l,h){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}hr.store="remoteDocuments",hr.readTimeIndex="readTimeIndex",hr.readTimeIndexPath="readTime",hr.collectionReadTimeIndex="collectionReadTimeIndex",hr.collectionReadTimeIndexPath=["parentPath","readTime"];class ia{constructor(t){this.byteSize=t}}ia.store="remoteDocumentGlobal",ia.key="remoteDocumentGlobalKey";class ri{constructor(t,e,i,a,l,h,g){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=g}}ri.store="targets",ri.keyPath="targetId",ri.queryTargetsIndexName="queryTargetsIndex",ri.queryTargetsKeyPath=["canonicalId","targetId"];class Ii{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Ii.store="targetDocuments",Ii.keyPath=["targetId","path"],Ii.documentTargetsIndex="documentTargetsIndex",Ii.documentTargetsKeyPath=["path","targetId"];class Qs{constructor(t,e,i,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=a}}Qs.key="targetGlobalKey",Qs.store="targetGlobal";class Md{constructor(t,e){this.collectionId=t,this.parent=e}}Md.store="collectionParents",Md.keyPath=["collectionId","parent"];class Vu{constructor(t,e,i,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=a}}Vu.store="clientMetadata",Vu.keyPath="clientId";class Df{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Df.store="bundles",Df.keyPath="bundleId";class Nd{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}Nd.store="namedQueries",Nd.keyPath="name";const fS=[Sd.store,Xn.store,Ai.store,hr.store,ri.store,Mo.store,Qs.store,Ii.store,Vu.store,ia.store,Md.store,Df.store,Nd.store],OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Me{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Me((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Me?e:Me.resolve(e)}catch(e){return Me.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Me.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Me.reject(e)}static resolve(t){return new Me((e,i)=>{e(t)})}static reject(t){return new Me((e,i)=>{i(t)})}static waitFor(t){return new Me((e,i)=>{let a=0,l=0,h=!1;t.forEach(g=>{++a,g.next(()=>{++l,h&&l===a&&e()},b=>i(b))}),h=!0,l===a&&e()})}static or(t){let e=Me.resolve(!1);for(const i of t)e=e.next(a=>a?Me.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,l)=>{i.push(e.call(this,a,l))}),this.waitFor(i)}}class Fg{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Xr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new Lg(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const a=ny(i.target.error);this.It.reject(new Lg(t,a))}}static open(t,e,i,a){try{return new Fg(e,t.transaction(a,i))}catch(l){throw new Lg(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new pS(e)}}class sa{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===sa.Pt((0,Tt.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),qu(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Tt.hl)())return!1;if(sa.vt())return!0;const t=(0,Tt.z$)(),e=sa.Pt(t),i=0<e&&e<10,a=sa.Vt(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,J.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,a)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=h=>{i(h.target.result)},l.onblocked=()=>{a(new Lg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const g=h.target.error;a("VersionError"===g.name?new xe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new xe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Lg(t,g))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.Rt.Nt(h.target.result,l.transaction,h.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,a){var l=this;return(0,J.Z)(function*(){const h="readonly"===e;let g=0;for(;;){++g;try{l.db=yield l.Ct(t);const b=Fg.open(l.db,t,h?"readonly":"readwrite",i),C=a(b).catch(S=>(b.abort(S),Me.reject(S))).toPromise();return C.catch(()=>{}),yield b.At,C}catch(b){const C="FirebaseError"!==b.name&&g<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),l.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PC{constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return qu(this.$t.delete())}}class Lg extends xe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Yl(n){return"IndexedDbTransactionError"===n.name}class pS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),qu(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),qu(this.store.add(t))}get(t){return qu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),qu(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),qu(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),a=[];return this.Ut(i,(l,h)=>{a.push(h)}).next(()=>a)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const a=this.cursor(i);return this.Ut(a,(l,h,g)=>g.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.Ut(a,e)}Qt(t){const e=this.cursor({});return new Me((i,a)=>{e.onerror=l=>{const h=ny(l.target.error);a(h)},e.onsuccess=l=>{const h=l.target.result;h?t(h.primaryKey,h.value).next(g=>{g?h.continue():i()}):i()}})}Ut(t,e){const i=[];return new Me((a,l)=>{t.onerror=h=>{l(h.target.error)},t.onsuccess=h=>{const g=h.target.result;if(!g)return void a();const b=new PC(g),C=e(g.primaryKey,g.value,b);if(C instanceof Me){const S=C.catch(N=>(b.done(),Me.reject(N)));i.push(S)}b.isDone?a():null===b.Mt?g.continue():g.continue(b.Mt)}}).next(()=>Me.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function qu(n){return new Me((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const a=ny(i.target.error);e(a)}})}let FC=!1;function ny(n){const t=sa.Pt((0,Tt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FC||(FC=!0,setTimeout(()=>{throw i},0)),i}}return n}class p1 extends xd{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function Cs(n,t){const e=qe(n);return sa.Dt(e.Wt,t)}class g1{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&cC(l,t,i[a])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&W_(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&W_(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),a=i;this.applyToLocalView(a),i.isValidDocument()||a.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),wn())}isEqual(t){return this.batchId===t.batchId&&uf(this.mutations,t.mutations,(e,i)=>hC(e,i))&&uf(this.baseMutations,t.baseMutations,(e,i)=>hC(e,i))}}class m1{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){gt(t.mutations.length===i.length);let a=o1();const l=t.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,i[h].version);return new m1(t,e,i,a)}}class Ha{constructor(t,e,i,a,l=Rt.min(),h=Rt.min(),g=ti.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(t){return new Ha(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class LC{constructor(t){this.Gt=t}}function ry(n,t){if(t.document)return c1(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=et.fromSegments(t.noDocument.path),i=Af(t.noDocument.readTime),a=Bn.newNoDocument(e,i);return t.hasCommittedMutations?a.setHasCommittedMutations():a}if(t.unknownDocument){const e=et.fromSegments(t.unknownDocument.path),i=Af(t.unknownDocument.version);return Bn.newUnknownDocument(e,i)}return Xe()}function ZC(n,t,e){const i=_1(e),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:X_(g=n.Gt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:Ng(g,b.version.toTimestamp())};return new hr(null,null,l,t.hasCommittedMutations,i,a)}var g,b;if(t.isNoDocument()){const l=t.key.path.toArray(),h=Ef(t.version),g=t.hasCommittedMutations;return new hr(null,new ty(l,h),null,g,i,a)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),h=Ef(t.version);return new hr(new hS(l,h),null,null,!0,i,a)}return Xe()}function _1(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function UC(n){const t=new ei(n[0],n[1]);return Rt.fromTimestamp(t)}function Ef(n){const t=n.toTimestamp();return new Lx(t.seconds,t.nanoseconds)}function Af(n){const t=new ei(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function If(n,t){const e=(t.baseMutations||[]).map(l=>wf(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const h=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(h.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>wf(n.Gt,l)),a=ei.fromMillis(t.localWriteTimeMs);return new g1(t.batchId,a,e,i)}function Zg(n){const t=Af(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Af(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),i=Js(pf(EC(a.documents[0])))):i=Js(Rg(n.query)),new Ha(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ti.fromBase64String(n.resumeToken))}function VC(n,t){const e=Ef(t.snapshotVersion),i=Ef(t.lastLimboFreeSnapshotVersion);let a;a=vg(t.target)?AC(n.Gt,t.target):IC(n.Gt,t.target);const l=t.resumeToken.toBase64();return new ri(t.targetId,hf(t.target),e,l,t.sequenceNumber,i,a)}function iy(n){const t=Rg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ta(t,t.limit,"L"):t}class qC{getBundleMetadata(t,e){return y1(t).get(e).next(i=>{if(i)return{id:(a=i).bundleId,createTime:Af(a.createTime),version:a.version};var a})}saveBundleMetadata(t,e){return y1(t).put({bundleId:(i=e).id,createTime:Ef(vr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return BC(t).get(e).next(i=>{if(i)return{name:(a=i).name,query:iy(a.bundledQuery),readTime:Af(a.readTime)};var a})}saveNamedQuery(t,e){return BC(t).put({name:(i=e).name,readTime:Ef(vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function y1(n){return Cs(n,Df.store)}function BC(n){return Cs(n,Nd.store)}class v1{constructor(){this.zt=new sy}addToCollectionParentIndex(t,e){return this.zt.add(e),Me.resolve()}getCollectionParents(t,e){return Me.resolve(this.zt.getEntries(e))}}class sy{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new or(En.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new or(En.comparator)).toArray()}}class gS{constructor(){this.Ht=new sy}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:i,parent:ra(a)};return jC(t).put(l)}return Me.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[YT(e),""],!1,!0);return jC(t).Bt(a).next(l=>{for(const h of l){if(h.collectionId!==e)break;i.push(Uu(h.parent))}return i})}}function jC(n){return Cs(n,Md.store)}const oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Hi(t,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function b1(n,t,e){const i=n.store(Xn.store),a=n.store(Ai.store),l=[],h=IDBKeyRange.only(e.batchId);let g=0;const b=i.jt({range:h},(S,N,Z)=>(g++,Z.delete()));l.push(b.next(()=>{gt(1===g)}));const C=[];for(const S of e.mutations){const N=Ai.key(t,S.key.path,e.batchId);l.push(a.delete(N)),C.push(S.key)}return Me.waitFor(l).next(()=>C)}function Sf(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Xe();t=n.noDocument}return JSON.stringify(t).length}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class w1{constructor(t,e,i,a){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=a,this.Yt={}}static Xt(t,e,i,a){gt(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new w1(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $a(t).jt({index:Xn.userMutationsIndex,range:i},(a,l,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,i,a){const l=Mf(t),h=$a(t);return h.add({}).next(g=>{gt("number"==typeof g);const b=new g1(g,e,i,a),C=function(Z,B,ie){const ve=ie.baseMutations.map(rt=>ey(Z.Gt,rt)),Se=ie.mutations.map(rt=>ey(Z.Gt,rt));return new Xn(B,ie.batchId,ie.localWriteTime.toMillis(),ve,Se)}(this.k,this.userId,b),S=[];let N=new or((Z,B)=>Qt(Z.canonicalString(),B.canonicalString()));for(const Z of a){const B=Ai.key(this.userId,Z.key.path,g);N=N.add(Z.key.path.popLast()),S.push(h.put(C)),S.push(l.put(B,Ai.PLACEHOLDER))}return N.forEach(Z=>{S.push(this.Jt.addToCollectionParentIndex(t,Z))}),t.addOnCommittedListener(()=>{this.Yt[g]=b.keys()}),Me.waitFor(S).next(()=>b)})}lookupMutationBatch(t,e){return $a(t).get(e).next(i=>i?(gt(i.userId===this.userId),If(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Me.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const a=i.keys();return this.Yt[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return $a(t).jt({index:Xn.userMutationsIndex,range:a},(h,g,b)=>{g.userId===this.userId&&(gt(g.batchId>=i),l=If(this.k,g)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $a(t).jt({index:Xn.userMutationsIndex,range:e,reverse:!0},(a,l,h)=>{i=l.batchId,h.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $a(t).Bt(Xn.userMutationsIndex,e).next(i=>i.map(a=>If(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Ai.prefixForPath(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return Mf(t).jt({range:a},(h,g,b)=>{const[C,S,N]=h,Z=Uu(S);if(C===this.userId&&e.path.isEqual(Z))return $a(t).get(N).next(B=>{if(!B)throw Xe();gt(B.userId===this.userId),l.push(If(this.k,B))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new or(Qt);const a=[];return e.forEach(l=>{const h=Ai.prefixForPath(this.userId,l.path),g=IDBKeyRange.lowerBound(h),b=Mf(t).jt({range:g},(C,S,N)=>{const[Z,B,ie]=C,ve=Uu(B);Z===this.userId&&l.path.isEqual(ve)?i=i.add(ie):N.done()});a.push(b)}),Me.waitFor(a).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=Ai.prefixForPath(this.userId,i),h=IDBKeyRange.lowerBound(l);let g=new or(Qt);return Mf(t).jt({range:h},(b,C,S)=>{const[N,Z,B]=b,ie=Uu(Z);N===this.userId&&i.isPrefixOf(ie)?ie.length===a&&(g=g.add(B)):S.done()}).next(()=>this.te(t,g))}te(t,e){const i=[],a=[];return e.forEach(l=>{a.push($a(t).get(l).next(h=>{if(null===h)throw Xe();gt(h.userId===this.userId),i.push(If(this.k,h))}))}),Me.waitFor(a).next(()=>i)}removeMutationBatch(t,e){return b1(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Me.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Me.resolve();const i=IDBKeyRange.lowerBound(Ai.prefixForUser(this.userId)),a=[];return Mf(t).jt({range:i},(l,h,g)=>{if(l[0]===this.userId){const b=Uu(l[1]);a.push(b)}else g.done()}).next(()=>{gt(0===a.length)})})}containsKey(t,e){return HC(t,this.userId,e)}ne(t){return T1(t).get(this.userId).next(e=>e||new Sd(this.userId,-1,""))}}function HC(n,t,e){const i=Ai.prefixForPath(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let h=!1;return Mf(n).jt({range:l,Kt:!0},(g,b,C)=>{const[S,N,Z]=g;S===t&&N===a&&(h=!0),C.done()}).next(()=>h)}function $a(n){return Cs(n,Xn.store)}function Mf(n){return Cs(n,Ai.store)}function T1(n){return Cs(n,Sd.store)}class kd{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new kd(0)}static re(){return new kd(-1)}}class $C{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new kd(e.highestTargetId);return e.highestTargetId=i.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Rt.fromTimestamp(new ei(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.ae(t,a)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ae(t,i))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Rd(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(gt(i.targetCount>0),i.targetCount-=1,this.ae(t,i)))}removeTargets(t,e,i){let a=0;const l=[];return Rd(t).jt((h,g)=>{const b=Zg(g);b.sequenceNumber<=e&&null===i.get(b.targetId)&&(a++,l.push(this.removeTargetData(t,b)))}).next(()=>Me.waitFor(l)).next(()=>a)}forEachTarget(t,e){return Rd(t).jt((i,a)=>{const l=Zg(a);e(l)})}oe(t){return C1(t).get(Qs.key).next(e=>(gt(null!==e),e))}ae(t,e){return C1(t).put(Qs.key,e)}ce(t,e){return Rd(t).put(VC(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=hf(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Rd(t).jt({range:a,index:ri.queryTargetsIndexName},(h,g,b)=>{const C=Zg(g);yg(e,C.target)&&(l=C,b.done())}).next(()=>l)}addMatchingKeys(t,e,i){const a=[],l=Od(t);return e.forEach(h=>{const g=ra(h.path);a.push(l.put(new Ii(i,g))),a.push(this.referenceDelegate.addReference(t,i,h))}),Me.waitFor(a)}removeMatchingKeys(t,e,i){const a=Od(t);return Me.forEach(e,l=>{const h=ra(l.path);return Me.waitFor([a.delete([i,h]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=Od(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Od(t);let l=wn();return a.jt({range:i,Kt:!0},(h,g,b)=>{const C=Uu(h[1]),S=new et(C);l=l.add(S)}).next(()=>l)}containsKey(t,e){const i=ra(e.path),a=IDBKeyRange.bound([i],[YT(i)],!1,!0);let l=0;return Od(t).jt({index:Ii.documentTargetsIndex,Kt:!0,range:a},([h,g],b,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Et(t,e){return Rd(t).get(e).next(i=>i?Zg(i):null)}}function Rd(n){return Cs(n,ri.store)}function C1(n){return Cs(n,Qs.store)}function Od(n){return Cs(n,Ii.store)}function Pd(n){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,J.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==OC)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function mS([n,t],[e,i]){const a=Qt(n,e);return 0===a?Qt(t,i):a}class D1{constructor(t){this.he=t,this.buffer=new or(mS),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ay{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,J.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(a){Yl(a)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Pd(a)}yield e.me(t)}))}}class _S{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Me.resolve(Ws.I);const i=new D1(e);return this.ge.forEachTarget(t,a=>i.de(a.sequenceNumber)).next(()=>this.ge.pe(t,a=>i.de(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(oy)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oy):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,a,l,h,g,b,C;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),a=this.params.maximumSequenceNumbersToCollect):a=N,h=Date.now(),this.nthSequenceNumber(t,a))).next(N=>(i=N,g=Date.now(),this.removeTargets(t,i,e))).next(N=>(l=N,b=Date.now(),this.removeOrphanedDocuments(t,i))).next(N=>(C=Date.now(),BT()<=Eu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-S}ms\n\tDetermined least recently used ${a} in `+(g-h)+`ms\n\tRemoved ${l} targets in `+(b-g)+`ms\n\tRemoved ${N} documents in `+(C-b)+`ms\nTotal Duration: ${C-S}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:N})))}}class Nf{constructor(t,e){this.db=t,this.garbageCollector=new _S(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,a)=>e(a))}addReference(t,e,i){return uy(t,i)}removeReference(t,e,i){return uy(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return uy(t,e)}Ae(t,e){return function(i,a){let l=!1;return T1(i).Qt(h=>HC(i,h,a).next(g=>(g&&(l=!0),Me.resolve(!g)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ie(t,(h,g)=>{if(g<=e){const b=this.Ae(t,h).next(C=>{if(!C)return l++,i.getEntry(t,h).next(()=>(i.removeEntry(h),Od(t).delete([0,ra(h.path)])))});a.push(b)}}).next(()=>Me.waitFor(a)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return uy(t,e)}Ie(t,e){const i=Od(t);let a,l=Ws.I;return i.jt({index:Ii.documentTargetsIndex},([h,g],{path:b,sequenceNumber:C})=>{0===h?(l!==Ws.I&&e(new et(Uu(a)),l),l=C,a=b):l=Ws.I}).next(()=>{l!==Ws.I&&e(new et(Uu(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function uy(n,t){return Od(n).put((i=n.currentSequenceNumber,new Ii(0,ra(t.path),i)));var i}class Ug{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[a,l]of i)if(this.equalsFn(a,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return 1===i.length?delete this.inner[e]:i.splice(a,1),!0;return!1}forEach(t){ql(this.inner,(e,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return zv(this.inner)}}class GC{constructor(){this.changes=new Ug(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Rt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Bn.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Me.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ga{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return oa(t).put(ly(e),i)}removeEntry(t,e){const i=oa(t),a=ly(e);return i.delete(a)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return oa(t).get(ly(e)).next(i=>this.Pe(e,i))}be(t,e){return oa(t).get(ly(e)).next(i=>({document:this.Pe(e,i),size:Sf(i)}))}getEntries(t,e){let i=Ks();return this.ve(t,e,(a,l)=>{const h=this.Pe(a,l);i=i.insert(a,h)}).next(()=>i)}Ve(t,e){let i=Ks(),a=new Hr(et.comparator);return this.ve(t,e,(l,h)=>{const g=this.Pe(l,h);i=i.insert(l,g),a=a.insert(l,Sf(h))}).next(()=>({documents:i,Se:a}))}ve(t,e,i){if(e.isEmpty())return Me.resolve();const a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let h=l.getNext();return oa(t).jt({range:a},(g,b,C)=>{const S=et.fromSegments(g);for(;h&&et.comparator(h,S)<0;)i(h,null),h=l.getNext();h&&h.isEqual(S)&&(i(h,b),h=l.hasNext()?l.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i){let a=Ks();const l=e.path.length+1,h={};if(i.isEqual(Rt.min())){const g=e.path.toArray();h.range=IDBKeyRange.lowerBound(g)}else{const g=e.path.toArray(),b=_1(i);h.range=IDBKeyRange.lowerBound([g,b],!0),h.index=hr.collectionReadTimeIndex}return oa(t).jt(h,(g,b,C)=>{if(g.length!==l)return;const S=ry(this.k,b);e.path.isPrefixOf(S.key.path)?mf(e,S)&&(a=a.insert(S.key,S)):C.done()}).next(()=>a)}newChangeBuffer(t){return new zC(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return yS(t).get(ia.key).next(e=>(gt(!!e),e))}Re(t,e){return yS(t).put(ia.key,e)}Pe(t,e){if(e){const i=ry(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Bn.newInvalidDocument(t)}}class zC extends GC{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Ug(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(t){const e=[];let i=0,a=new or((l,h)=>Qt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const g=this.Ce.get(l);if(h.document.isValidDocument()){const b=ZC(this.De.k,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),i+=Sf(b)-g,e.push(this.De.addEntry(t,l,b))}else if(i-=g,this.trackRemovals){const b=ZC(this.De.k,Bn.newNoDocument(l,Rt.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,b))}else e.push(this.De.removeEntry(t,l))}),a.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,i)),Me.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:a})=>(a.forEach((l,h)=>{this.Ce.set(l,h)}),i))}}function yS(n){return Cs(n,ia.store)}function oa(n){return Cs(n,hr.store)}function ly(n){return n.path.toArray()}class vS{constructor(t){this.k=t}Nt(t,e,i,a){gt(i<a&&i>=0&&a<=11);const l=new Fg("createOrUpgrade",e);var g;i<1&&a>=1&&(t.createObjectStore(Mo.store),(g=t).createObjectStore(Sd.store,{keyPath:Sd.keyPath}),g.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0}),g.createObjectStore(Ai.store),bS(t),function(g){g.createObjectStore(hr.store)}(t));let h=Me.resolve();return i<3&&a>=3&&(0!==i&&(function(g){g.deleteObjectStore(Ii.store),g.deleteObjectStore(ri.store),g.deleteObjectStore(Qs.store)}(t),bS(t)),h=h.next(()=>function(g){const b=g.store(Qs.store),C=new Qs(0,0,Rt.min().toTimestamp(),0);return b.put(Qs.key,C)}(l))),i<4&&a>=4&&(0!==i&&(h=h.next(()=>function(g,b){return b.store(Xn.store).Bt().next(C=>{g.deleteObjectStore(Xn.store),g.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0});const S=b.store(Xn.store),N=C.map(Z=>S.put(Z));return Me.waitFor(N)})}(t,l))),h=h.next(()=>{!function(g){g.createObjectStore(Vu.store,{keyPath:Vu.keyPath})}(t)})),i<5&&a>=5&&(h=h.next(()=>this.Ne(l))),i<6&&a>=6&&(h=h.next(()=>(function(g){g.createObjectStore(ia.store)}(t),this.ke(l)))),i<7&&a>=7&&(h=h.next(()=>this.xe(l))),i<8&&a>=8&&(h=h.next(()=>this.$e(t,l))),i<9&&a>=9&&(h=h.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t),function(g){const b=g.objectStore(hr.store);b.createIndex(hr.readTimeIndex,hr.readTimeIndexPath,{unique:!1}),b.createIndex(hr.collectionReadTimeIndex,hr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&a>=10&&(h=h.next(()=>this.Fe(l))),i<11&&a>=11&&(h=h.next(()=>{(function(g){g.createObjectStore(Df.store,{keyPath:Df.keyPath})})(t),function(g){g.createObjectStore(Nd.store,{keyPath:Nd.keyPath})}(t)})),h}ke(t){let e=0;return t.store(hr.store).jt((i,a)=>{e+=Sf(a)}).next(()=>{const i=new ia(e);return t.store(ia.store).put(ia.key,i)})}Ne(t){const e=t.store(Sd.store),i=t.store(Xn.store);return e.Bt().next(a=>Me.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.Bt(Xn.userMutationsIndex,h).next(g=>Me.forEach(g,b=>{gt(b.userId===l.userId);const C=If(this.k,b);return b1(t,l.userId,C).next(()=>{})}))}))}xe(t){const e=t.store(Ii.store),i=t.store(hr.store);return t.store(Qs.store).get(Qs.key).next(a=>{const l=[];return i.jt((h,g)=>{const b=new En(h),C=[0,ra(b)];l.push(e.get(C).next(S=>S?Me.resolve():e.put(new Ii(0,ra(b),a.highestListenSequenceNumber))))}).next(()=>Me.waitFor(l))})}$e(t,e){t.createObjectStore(Md.store,{keyPath:Md.keyPath});const i=e.store(Md.store),a=new sy,l=h=>{if(a.add(h)){const g=h.lastSegment(),b=h.popLast();return i.put({collectionId:g,parent:ra(b)})}};return e.store(hr.store).jt({Kt:!0},(h,g)=>{const b=new En(h);return l(b.popLast())}).next(()=>e.store(Ai.store).jt({Kt:!0},([h,g,b],C)=>{const S=Uu(g);return l(S.popLast())}))}Fe(t){const e=t.store(ri.store);return e.jt((i,a)=>{const l=Zg(a),h=VC(this.k,l);return e.put(h)})}}function bS(n){n.createObjectStore(Ii.store,{keyPath:Ii.keyPath}).createIndex(Ii.documentTargetsIndex,Ii.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ri.store,{keyPath:ri.keyPath}).createIndex(ri.queryTargetsIndexName,ri.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Qs.store)}const E1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class A1{constructor(t,e,i,a,l,h,g,b,C,S){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Oe=l,this.window=h,this.document=g,this.Me=C,this.Le=S,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=N=>Promise.resolve(),!A1.bt())throw new xe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nf(this,a),this.Ge=e+"main",this.k=new LC(b),this.ze=new sa(this.Ge,11,new vS(this.k)),this.He=new $C(this.referenceDelegate,this.k),this.Jt=new gS,this.Je=new Ga(this.k,this.Jt),this.Ye=new qC,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===S&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,E1);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Ws(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,J.Z)(function*(a){if(e.started)return t(a)});return function(a){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,J.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,J.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>xf(t).put(new Vu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Yl(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return Vg(t).get(Mo.key).next(e=>Me.resolve(this.un(e)))}hn(t){return xf(t).delete(this.clientId)}ln(){var t=this;return(0,J.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=Cs(i,Vu.store);return a.Bt().next(l=>{const h=t.dn(l,18e5),g=l.filter(b=>-1===h.indexOf(b));return Me.forEach(g,b=>a.delete(b.clientId)).next(()=>g)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Me.resolve(!0):Vg(t).get(Mo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new xe(me.FAILED_PRECONDITION,E1);return!1}}return!(!this.networkEnabled||!this.inForeground)||xf(t).Bt().next(i=>void 0===this.dn(i,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,g=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&g)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,J.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Mo.store,Vu.store],e=>{const i=new p1(e,Ws.I);return t.an(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>xf(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return w1.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let l;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",fS,h=>(l=new p1(h,this.Be?this.Be.next():Ws.I),"readwrite-primary"===e?this.rn(l).next(g=>!!g||this.on(l)).next(g=>{if(!g)throw Br(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new xe(me.FAILED_PRECONDITION,OC);return i(l)}).next(g=>this.cn(l).next(()=>g)):this.En(l).next(()=>i(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(t){return Vg(t).get(Mo.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(me.FAILED_PRECONDITION,E1)})}cn(t){const e=new Mo(this.clientId,this.allowTabSynchronization,Date.now());return Vg(t).put(Mo.key,e)}static bt(){return sa.bt()}an(t){const e=Vg(t);return e.get(Mo.key).next(i=>this.un(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(Mo.key)):Me.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(Br(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Br("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Br("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Vg(n){return Cs(n,Mo.store)}function xf(n){return Cs(n,Vu.store)}function cy(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class I1{constructor(t,e){this.progress=t,this.In=e}}class S1{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Pn(t,e,i))}Pn(t,e,i){return this.Je.getEntry(t,e).next(a=>{for(const l of i)l.applyToLocalView(a);return a})}bn(t,e){t.forEach((i,a)=>{for(const l of e)l.applyToLocalView(a)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.bn(e,i))}getDocumentsMatchingQuery(t,e,i){return et.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(t,e.path):Io(e)?this.Dn(t,e,i):this.Cn(t,e,i);var a}Sn(t,e){return this.Rn(t,new et(e)).next(i=>{let a=K_();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}Dn(t,e,i){const a=e.collectionGroup;let l=K_();return this.Jt.getCollectionParents(t,a).next(h=>Me.forEach(h,g=>{const b=(C=e,S=g.child(a),new Lu(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.Cn(t,b,i).next(C=>{C.forEach((S,N)=>{l=l.insert(S,N)})})}).next(()=>l))}Cn(t,e,i){let a,l;return this.Je.getDocumentsMatchingQuery(t,e,i).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(l=h,this.Nn(t,l,a).next(g=>{a=g;for(const b of l)for(const C of b.mutations){const S=C.key;let N=a.get(S);null==N&&(N=Bn.newInvalidDocument(S),a=a.insert(S,N)),W_(C,N,b.localWriteTime),N.isFoundDocument()||(a=a.remove(S))}}))).next(()=>(a.forEach((h,g)=>{mf(e,g)||(a=a.remove(h))}),a))}Nn(t,e,i){let a=wn();for(const h of e)for(const g of h.mutations)g instanceof zl&&null===i.get(g.key)&&(a=a.add(g.key));let l=i;return this.Je.getEntries(t,a).next(h=>(h.forEach((g,b)=>{b.isFoundDocument()&&(l=l.insert(g,b))}),l))}}class M1{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=a}static $n(t,e){let i=wn(),a=wn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new M1(t,e.fromCache,i,a)}}class wS{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,i,a){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(Rt.min())?this.Mn(t,e):this.On.vn(t,a).next(l=>{const h=this.Ln(e,l);return(bg(e)||t1(e))&&this.Bn(e.limitType,h,a,i)?this.Mn(t,e):(BT()<=Eu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),G_(e)),this.On.getDocumentsMatchingQuery(t,e,i).next(g=>(h.forEach(b=>{g=g.insert(b.key,b)}),g)))});var l}Ln(t,e){let i=new or(iC(t));return e.forEach((a,l)=>{mf(t,l)&&(i=i.add(l))}),i}Bn(t,e,i,a){if(i.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mn(t,e){return BT()<=Eu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",G_(e)),this.On.getDocumentsMatchingQuery(t,e,Rt.min())}}class TS{constructor(t,e,i,a){this.persistence=t,this.Un=e,this.k=a,this.qn=new Hr(Qt),this.Kn=new Ug(l=>hf(l),yg),this.jn=Rt.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new S1(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function YC(n,t,e,i){return new TS(n,t,e,i)}function WC(n,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,J.Z)(function*(n,t){const e=qe(n);let i=e.An,a=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let g;return e.An.getAllMutationBatches(h).next(b=>(g=b,i=e.persistence.getMutationQueue(t),a=new S1(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(h))).next(b=>{const C=[],S=[];let N=wn();for(const Z of g){C.push(Z.batchId);for(const B of Z.mutations)N=N.add(B.key)}for(const Z of b){S.push(Z.batchId);for(const B of Z.mutations)N=N.add(B.key)}return a.vn(h,N).next(Z=>({Gn:Z,removedBatchIds:C,addedBatchIds:S}))})});return e.An=i,e.Wn=a,e.Un.Fn(e.Wn),l})).apply(this,arguments)}function JC(n,t){const e=qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(h,g,b,C){const S=b.batch,N=S.keys();let Z=Me.resolve();return N.forEach(B=>{Z=Z.next(()=>C.getEntry(g,B)).next(ie=>{const ve=b.docVersions.get(B);gt(null!==ve),ie.version.compareTo(ve)<0&&(S.applyToRemoteDocument(ie,b),ie.isValidDocument()&&C.addEntry(ie,b.commitVersion))})}),Z.next(()=>h.An.removeMutationBatch(g,S))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,a))})}function N1(n){const t=qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function CS(n,t){const e=qe(n),i=t.snapshotVersion;let a=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Qn.newChangeBuffer({trackRemovals:!0});a=e.qn;const g=[];t.targetChanges.forEach((C,S)=>{const N=a.get(S);if(!N)return;g.push(e.He.removeMatchingKeys(l,C.removedDocuments,S).next(()=>e.He.addMatchingKeys(l,C.addedDocuments,S)));const Z=C.resumeToken;if(Z.approximateByteSize()>0){const B=N.withResumeToken(Z,i).withSequenceNumber(l.currentSequenceNumber);a=a.insert(S,B),ie=N,Se=C,gt((ve=B).resumeToken.approximateByteSize()>0),(0===ie.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&g.push(e.He.updateTargetData(l,B))}var ie,ve,Se});let b=Ks();if(t.documentUpdates.forEach((C,S)=>{t.resolvedLimboDocuments.has(C)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(l,C))}),g.push(KC(l,h,t.documentUpdates,i,void 0).next(C=>{b=C})),!i.isEqual(Rt.min())){const C=e.He.getLastRemoteSnapshotVersion(l).next(S=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,i));g.push(C)}return Me.waitFor(g).next(()=>h.apply(l)).next(()=>e.Wn.Vn(l,b)).next(()=>b)}).then(l=>(e.qn=a,l))}function KC(n,t,e,i,a){let l=wn();return e.forEach(h=>l=l.add(h)),t.getEntries(n,l).next(h=>{let g=Ks();return e.forEach((b,C)=>{const S=h.get(b),N=(null==a?void 0:a.get(b))||i;C.isNoDocument()&&C.version.isEqual(Rt.min())?(t.removeEntry(b,N),g=g.insert(b,C)):!S.isValidDocument()||C.version.compareTo(S.version)>0||0===C.version.compareTo(S.version)&&S.hasPendingWrites?(t.addEntry(C,N),g=g.insert(b,C)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",S.version," Watch version:",C.version)}),g})}function QC(n,t){const e=qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function Bu(n,t){const e=qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.He.getTargetData(i,t).next(l=>l?(a=l,Me.resolve(a)):e.He.allocateTargetId(i).next(h=>(a=new Ha(t,h,0,i.currentSequenceNumber),e.He.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.qn.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function kf(n,t,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,J.Z)(function*(n,t,e){const i=qe(n),a=i.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Yl(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}i.qn=i.qn.remove(t),i.Kn.delete(a.target)})).apply(this,arguments)}function Fd(n,t,e){const i=qe(n);let a=Rt.min(),l=wn();return i.persistence.runTransaction("Execute query","readonly",h=>function(g,b,C){const S=qe(g),N=S.Kn.get(C);return void 0!==N?Me.resolve(S.qn.get(N)):S.He.getTargetData(b,C)}(i,h,Js(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(h,g.targetId).next(b=>{l=b})}).next(()=>i.Un.getDocumentsMatchingQuery(h,t,e?a:Rt.min(),e?l:wn())).next(g=>({documents:g,zn:l})))}function qg(n,t){const e=qe(n),i=qe(e.He),a=e.qn.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,t).next(h=>h?h.target:null))}function Rf(n){const t=qe(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,a,l){const h=qe(i);let g=Ks(),b=_1(l);const C=oa(a),S=IDBKeyRange.lowerBound(b,!0);return C.jt({index:hr.readTimeIndex,range:S},(N,Z)=>{const B=ry(h.k,Z);g=g.insert(B.key,B),b=Z.readTime}).next(()=>({In:g,readTime:UC(b)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function x1(){return(x1=(0,J.Z)(function*(n){const t=qe(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const a=oa(i);let l=Rt.min();return a.jt({index:hr.readTimeIndex,reverse:!0},(h,g,b)=>{g.readTime&&(l=UC(g.readTime)),b.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function k1(){return(k1=(0,J.Z)(function*(n,t,e,i){const a=qe(n);let l=wn(),h=Ks(),g=o1();for(const S of e){const N=t.Hn(S.metadata.name);S.document&&(l=l.add(N)),h=h.insert(N,t.Jn(S)),g=g.insert(N,t.Yn(S.metadata.readTime))}const b=a.Qn.newChangeBuffer({trackRemovals:!0}),C=yield Bu(a,(S=i,Js(pf(En.fromString(`__bundle__/docs/${S}`)))));var S;return a.persistence.runTransaction("Apply bundle documents","readwrite",S=>KC(S,b,h,Rt.min(),g).next(N=>(b.apply(S),N)).next(N=>a.He.removeMatchingKeysForTargetId(S,C.targetId).next(()=>a.He.addMatchingKeys(S,l,C.targetId)).next(()=>a.Wn.Vn(S,N)).next(()=>N)))})).apply(this,arguments)}function ES(n,t){return R1.apply(this,arguments)}function R1(){return(R1=(0,J.Z)(function*(n,t,e=wn()){const i=yield Bu(n,Js(iy(t.bundledQuery))),a=qe(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=vr(t.readTime);if(i.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(l,t);const g=i.withResumeToken(ti.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(g.targetId,g),a.He.updateTargetData(l,g).next(()=>a.He.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>a.He.addMatchingKeys(l,e,i.targetId)).next(()=>a.Ye.saveNamedQuery(l,t))})})).apply(this,arguments)}class AS{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Me.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:vr(i.createTime)}),Me.resolve()}getNamedQuery(t,e){return Me.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:iy(i.bundledQuery),readTime:vr(i.readTime)}),Me.resolve();var i}}class O1{constructor(){this.ts=new or(ii.es),this.ns=new or(ii.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new ii(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new ii(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new et(new En([])),i=new ii(e,t),a=new ii(e,t+1),l=[];return this.ns.forEachInRange([i,a],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new et(new En([])),i=new ii(e,t),a=new ii(e,t+1);let l=wn();return this.ns.forEachInRange([i,a],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ii(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ii{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return et.comparator(t.key,e.key)||Qt(t.fs,e.fs)}static ss(t,e){return Qt(t.fs,e.fs)||et.comparator(t.key,e.key)}}class IS{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new or(ii.es)}checkEmpty(t){return Me.resolve(0===this.An.length)}addMutationBatch(t,e,i,a){const l=this.ds;this.ds++;const h=new g1(l,e,i,a);this.An.push(h);for(const g of a)this.ws=this.ws.add(new ii(g.key,l)),this.Jt.addToCollectionParentIndex(t,g.key.path.popLast());return Me.resolve(h)}lookupMutationBatch(t,e){return Me.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const a=this.gs(e+1),l=a<0?0:a;return Me.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Me.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ii(e,0),a=new ii(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([i,a],h=>{const g=this._s(h.fs);l.push(g)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new or(Qt);return e.forEach(a=>{const l=new ii(a,0),h=new ii(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],g=>{i=i.add(g.fs)})}),Me.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;et.isDocumentKey(l)||(l=l.child(""));const h=new ii(new et(l),0);let g=new or(Qt);return this.ws.forEachWhile(b=>{const C=b.key.path;return!!i.isPrefixOf(C)&&(C.length===a&&(g=g.add(b.fs)),!0)},h),Me.resolve(this.ys(g))}ys(t){const e=[];return t.forEach(i=>{const a=this._s(i);null!==a&&e.push(a)}),e}removeMutationBatch(t,e){gt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Me.forEach(e.mutations,a=>{const l=new ii(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new ii(e,0),a=this.ws.firstAfterOrEqual(i);return Me.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return Me.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class SS{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Hr(et.comparator),this.size=0}addEntry(t,e,i){const a=e.key,l=this.docs.get(a),h=l?l.size:0,g=this.Ts(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:g,readTime:i}),this.size+=g-h,this.Jt.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Me.resolve(i?i.document.clone():Bn.newInvalidDocument(e))}getEntries(t,e){let i=Ks();return e.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.clone():Bn.newInvalidDocument(a))}),Me.resolve(i)}getDocumentsMatchingQuery(t,e,i){let a=Ks();const l=new et(e.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:g,value:{document:b,readTime:C}}=h.getNext();if(!e.path.isPrefixOf(g.path))break;C.compareTo(i)<=0||mf(e,b)&&(a=a.insert(b.key,b.clone()))}return Me.resolve(a)}Es(t,e){return Me.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new MS(this)}getSize(t){return Me.resolve(this.size)}}class MS extends GC{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.document.isValidDocument()?e.push(this.De.addEntry(t,a.document,this.getReadTime(i))):this.De.removeEntry(i)}),Me.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class Ux{constructor(t){this.persistence=t,this.Is=new Ug(e=>hf(e),yg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.As=0,this.Rs=new O1,this.targetCount=0,this.Ps=kd.ie()}forEachTarget(t,e){return this.Is.forEach((i,a)=>e(a)),Me.resolve()}getLastRemoteSnapshotVersion(t){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Me.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Me.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new kd(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Me.resolve()}updateTargetData(t,e){return this.ce(e),Me.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Me.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.Is.forEach((h,g)=>{g.sequenceNumber<=e&&null===i.get(g.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),Me.waitFor(l).next(()=>a)}getTargetCount(t){return Me.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Me.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Me.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(h=>{l.push(a.markPotentiallyOrphaned(t,h))}),Me.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Me.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Me.resolve(i)}containsKey(t,e){return Me.resolve(this.Rs.containsKey(e))}}class NS{constructor(t,e){this.bs={},this.Be=new Ws(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ux(this),this.Jt=new v1,this.Je=new SS(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new LC(e),this.Ye=new AS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new IS(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const a=new Bg(this.Be.next());return this.referenceDelegate.Vs(),i(a).next(l=>this.referenceDelegate.Ss(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ds(t,e){return Me.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class Bg extends xd{constructor(t){super(),this.currentSequenceNumber=t}}class P1{constructor(t){this.persistence=t,this.Cs=new O1,this.Ns=null}static ks(t){return new P1(t)}get xs(){if(this.Ns)return this.Ns;throw Xe()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Me.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Me.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Me.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(a=>this.xs.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,i=>{const a=et.fromPath(i);return this.$s(t,a).next(l=>{l||e.removeEntry(a)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Me.or([()=>Me.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function XC(n,t){return`firestore_clients_${n}_${t}`}function eD(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Of(n,t){return`firestore_targets_${n}_${t}`}class za{constructor(t,e,i,a){this.user=t,this.batchId=e,this.state=i,this.error=a}static Fs(t,e,i){const a=JSON.parse(i);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new xe(a.error.code,a.error.message))),h?new za(t,e,a.state,l):(Br("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Pf{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Fs(t,e){const i=JSON.parse(e);let a,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new xe(i.error.code,i.error.message))),l?new Pf(t,i.state,a):(Br("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fy{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const i=JSON.parse(e);let a="object"==typeof i&&i.activeTargetIds instanceof Array,l=ja();for(let h=0;a&&h<i.activeTargetIds.length;++h)a=q_(i.activeTargetIds[h]),l=l.add(i.activeTargetIds[h]);return a?new fy(t,l):(Br("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class tD{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new tD(e.clientId,e.onlineState):(Br("SharedClientState",`Failed to parse online state: ${t}`),null)}}class F1{constructor(){this.activeTargetIds=ja()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ff{constructor(t,e,i,a,l){this.window=t,this.Oe=e,this.persistenceKey=i,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Hr(Qt),this.started=!1,this.js=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=XC(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new F1),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,J.Z)(function*(){const e=yield t.syncEngine.Tn();for(const a of e){if(a===t.Bs)continue;const l=t.getItem(XC(t.persistenceKey,a));if(l){const h=fy.Fs(a,l);h&&(t.Ks=t.Ks.insert(h.clientId,h))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const a=t.Zs(i);a&&t.ti(a)}for(const a of t.js)t.qs(a);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Of(this.persistenceKey,t));if(i){const a=Pf.Fs(t,i);a&&(e=a.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Of(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(a=>{this.si(a)}),this.currentUser=t,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,J.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const a=e.ci(i.key);return e.ui(a,null)}{const a=e.hi(i.key,i.newValue);if(a)return e.ui(a.clientId,a)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const a=e.li(i.key,i.newValue);if(a)return e.fi(a)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const a=e.di(i.key,i.newValue);if(a)return e.wi(a)}}else if(i.key===e.Js){if(null!==i.newValue){const a=e.Zs(i.newValue);if(a)return e.ti(a)}}else if(i.key===e.Ws){const a=function(l){let h=Ws.I;if(null!=l)try{const g=JSON.parse(l);gt("number"==typeof g),h=g}catch(g){Br("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(i.newValue);a!==Ws.I&&e.sequenceNumberHandler(a)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,i){const a=new za(this.currentUser,t,e,i),l=eD(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Os())}si(t){const e=eD(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const a=Of(this.persistenceKey,t),l=new Pf(t,e,i);this.setItem(a,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ci(t);return fy.Fs(i,e)}li(t,e){const i=this.zs.exec(t),a=Number(i[1]);return za.Fs(new Ci(void 0!==i[2]?i[2]:null),a,e)}di(t,e){const i=this.Hs.exec(t),a=Number(i[1]);return Pf.Fs(a,e)}Zs(t){return tD.Fs(t)}fi(t){var e=this;return(0,J.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),a=this.ei(this.Ks),l=this.ei(i),h=[],g=[];return l.forEach(b=>{a.has(b)||h.push(b)}),a.forEach(b=>{l.has(b)||g.push(b)}),this.syncEngine.yi(h,g).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=ja();return t.forEach((i,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class nD{constructor(){this.pi=new F1,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new F1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class xS{Ei(t){}shutdown(){}}class L1{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Z1{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class iD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,a,l){const h=this.Ui(t,e);Le("RestConnection","Sending: ",h,i);const g={};return this.qi(g,a,l),this.Ki(t,h,g,i).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw cg("RestConnection",`${t} failed with error: `,b,"url: ",h,"request:",i),b})}ji(t,e,i,a,l){return this.Bi(t,e,i,a,l)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+vd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}Ui(t,e){return`${this.Mi}/v1/${e}:${rD[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,a){return new Promise((l,h)=>{const g=new HI;g.listenOnce(jI.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ZT.NO_ERROR:const C=g.getResponseJson();Le("Connection","XHR received:",JSON.stringify(C)),l(C);break;case ZT.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),h(new xe(me.DEADLINE_EXCEEDED,"Request time out"));break;case ZT.HTTP_ERROR:const S=g.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const N=g.getResponseJson().error;if(N&&N.status&&N.message){const Z=function(B){const ie=B.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ie)>=0?ie:me.UNKNOWN}(N.status);h(new xe(Z,N.message))}else h(new xe(me.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new xe(me.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(a);g.send(e,"POST",b,i,15)})}Qi(t,e,i){const a=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=LT(),h=BI(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new qT({})),this.qi(g.initMessageHeaders,e,i),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const b=a.join("");Le("Connection","Creating WebChannel: "+b,g);const C=l.createWebChannel(b,g);let S=!1,N=!1;const Z=new Z1({Vi:ie=>{N?Le("Connection","Not sending because WebChannel is closed:",ie):(S||(Le("Connection","Opening WebChannel transport."),C.open(),S=!0),Le("Connection","WebChannel sending:",ie),C.send(ie))},Si:()=>C.close()}),B=(ie,ve,Se)=>{ie.listen(ve,rt=>{try{Se(rt)}catch(Je){setTimeout(()=>{throw Je},0)}})};return B(C,U_.EventType.OPEN,()=>{N||Le("Connection","WebChannel transport opened.")}),B(C,U_.EventType.CLOSE,()=>{N||(N=!0,Le("Connection","WebChannel transport closed"),Z.Fi())}),B(C,U_.EventType.ERROR,ie=>{N||(N=!0,cg("Connection","WebChannel transport errored:",ie),Z.Fi(new xe(me.UNAVAILABLE,"The operation could not be completed")))}),B(C,U_.EventType.MESSAGE,ie=>{var ve;if(!N){const Se=ie.data[0];gt(!!Se);const rt=Se,Je=rt.error||(null===(ve=rt[0])||void 0===ve?void 0:ve.error);if(Je){Le("Connection","WebChannel received error:",Je);const St=Je.status;let ot=function(Gr){const el=Mr[Gr];if(void 0!==el)return yC(el)}(St),dn=Je.message;void 0===ot&&(ot=me.INTERNAL,dn="Unknown error status: "+St+" with message "+Je.message),N=!0,Z.Fi(new xe(ot,dn)),C.close()}else Le("Connection","WebChannel received:",Se),Z.Oi(Se)}}),B(h,UT.STAT_EVENT,ie=>{ie.stat===VT.PROXY?Le("Connection","Detected buffering proxy"):ie.stat===VT.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{Z.$i()},0),Z}}function U1(){return"undefined"!=typeof window?window:null}function py(){return"undefined"!=typeof document?document:null}function jg(n){return new oS(n,!0)}class gy{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Wi=i,this.Gi=a,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),a=Math.max(0,e-i);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class sD{constructor(t,e,i,a,l,h,g,b){this.Oe=t,this.nr=i,this.sr=a,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new gy(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,J.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,J.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var i=this;return(0,J.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Br(e.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.rr===e&&this.Ir(i,a)},i=>{t(()=>{const a=new xe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(a)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{i(()=>this.Ar(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}dr(){var t=this;this.state=5,this.ur.Zi((0,J.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oD extends sD{constructor(t,e,i,a,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,h),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Xe(),a=t.targetChange.targetIds||[],l=function(b,C){return b.C?(gt(void 0===C||"string"==typeof C),ti.fromBase64String(C||"")):(gt(void 0===C||C instanceof Uint8Array),ti.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,g=h&&function(b){const C=void 0===b.code?me.UNKNOWN:yC(b.code);return new xe(C,b.message||"")}(h);e=new Q_(i,a,l,g||null)}else if("documentChange"in t){const i=t.documentChange,a=na(n,i.document.name),l=vr(i.document.updateTime),h=new ni({mapValue:{fields:i.document.fields}}),g=Bn.newFoundDocument(a,l,h);e=new Zu(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,a=na(n,i.document),l=i.readTime?vr(i.readTime):Rt.min(),h=Bn.newNoDocument(a,l);e=new Zu([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const i=t.documentRemove,a=na(n,i.document);e=new Zu([],i.removedTargetIds||[],a,null)}else{if(!("filter"in t))return Xe();{const i=t.filter,l=new tS(i.count||0);e=new nS(i.targetId,l)}}var b;return e}(this.k,t),i=function(a){if(!("targetChange"in a))return Rt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?vr(l.readTime):Rt.min()}(t);return this.listener.Pr(e,i)}br(t){const e={};e.database=bf(this.k),e.addTarget=function(a,l){let h;const g=l.target;return h=vg(g)?{documents:AC(a,g)}:{query:IC(a,g)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=xg(a,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(h.readTime=Ng(a,l.snapshotVersion.toTimestamp())),h}(this.k,t);const i=function(n,t){const e=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=bf(this.k),e.removeTarget=t,this.gr(e)}}class my extends sD{constructor(t,e,i,a,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(gt(void 0!==t),n.map(e=>function(i,a){let l=vr(i.updateTime?i.updateTime:a);return l.isEqual(Rt.min())&&(l=vr(a)),new r1(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=vr(t.commitTime);return this.listener.Cr(i,e)}return gt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=bf(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ey(this.k,i))};this.gr(e)}}class _y extends class{}{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=a,this.$r=!1}Fr(){if(this.$r)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.Bi(t,e,i,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(me.UNKNOWN,a.toString())})}ji(t,e,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.ji(t,e,i,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(me.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class Vx{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Br(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Hg{constructor(t,e,i,a,l){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(g=>{i.enqueueAndForget((0,J.Z)(function*(){var b;Hu(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,J.Z)(function*(C){const S=qe(C);S.Gr.add(4),yield aa(S),S.Jr.set("Unknown"),S.Gr.delete(4),yield an(S)}),function(C){return b.apply(this,arguments)})(h))}))}),this.Jr=new Vx(i,a)}}function an(n){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,J.Z)(function*(n){if(Hu(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function aa(n){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,J.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function V1(n,t){const e=qe(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),aD(e)?ju(e):Zd(e).lr()&&Ds(e,t))}function yt(n,t){const e=qe(n),i=Zd(e);e.Wr.delete(t),i.lr()&&yy(e,t),0===e.Wr.size&&(i.lr()?i._r():Hu(e)&&e.Jr.set("Unknown"))}function Ds(n,t){n.Yr.X(t.targetId),Zd(n).br(t)}function yy(n,t){n.Yr.X(t),Zd(n).vr(t)}function ju(n){n.Yr=new DC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Zd(n).start(),n.Jr.Br()}function aD(n){return Hu(n)&&!Zd(n).hr()&&n.Wr.size>0}function Hu(n){return 0===qe(n).Gr.size}function q1(n){n.Yr=void 0}function qx(n){return B1.apply(this,arguments)}function B1(){return(B1=(0,J.Z)(function*(n){n.Wr.forEach((t,e)=>{Ds(n,t)})})).apply(this,arguments)}function kS(n,t){return Es.apply(this,arguments)}function Es(){return(Es=(0,J.Z)(function*(n,t){q1(n),aD(n)?(n.Jr.Kr(t),ju(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function ur(n,t,e){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,J.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof Q_&&2===t.state&&t.cause)try{yield(i=(0,J.Z)(function*(a,l){const h=l.cause;for(const g of l.targetIds)a.Wr.has(g)&&(yield a.remoteSyncer.rejectListen(g,h),a.Wr.delete(g),a.Yr.removeTarget(g))}),function(a,l){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield $g(n,i)}else if(t instanceof Zu?n.Yr.ot(t):t instanceof nS?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Rt.min()))try{const i=yield N1(n.localStore);e.compareTo(i)>=0&&(yield function(a,l){const h=a.Yr.gt(l);return h.targetChanges.forEach((g,b)=>{if(g.resumeToken.approximateByteSize()>0){const C=a.Wr.get(b);C&&a.Wr.set(b,C.withResumeToken(g.resumeToken,l))}}),h.targetMismatches.forEach(g=>{const b=a.Wr.get(g);if(!b)return;a.Wr.set(g,b.withResumeToken(ti.EMPTY_BYTE_STRING,b.snapshotVersion)),yy(a,g);const C=new Ha(b.target,g,1,b.sequenceNumber);Ds(a,C)}),a.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield $g(n,i)}var i})).apply(this,arguments)}function $g(n,t,e){return j1.apply(this,arguments)}function j1(){return(j1=(0,J.Z)(function*(n,t,e){if(!Yl(t))throw t;n.Gr.add(1),yield aa(n),n.Jr.set("Offline"),e||(e=()=>N1(n.localStore)),n.asyncQueue.enqueueRetryable((0,J.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield an(n)}))})).apply(this,arguments)}function H1(n,t){return t().catch(e=>$g(n,e,t))}function Jl(n){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,J.Z)(function*(n){const t=qe(n),e=ua(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Gg(t);)try{const a=yield QC(t.localStore,i);if(null===a){0===t.Qr.length&&e._r();break}i=a.batchId,RS(t,a)}catch(a){yield $g(t,a)}Ql(t)&&uD(t)})).apply(this,arguments)}function Gg(n){return Hu(n)&&n.Qr.length<10}function RS(n,t){n.Qr.push(t);const e=ua(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function Ql(n){return Hu(n)&&!ua(n).hr()&&n.Qr.length>0}function uD(n){ua(n).start()}function lD(n){return zg.apply(this,arguments)}function zg(){return(zg=(0,J.Z)(function*(n){ua(n).kr()})).apply(this,arguments)}function Yg(n){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,J.Z)(function*(n){const t=ua(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function cD(n,t,e){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,J.Z)(function*(n,t,e){const i=n.Qr.shift(),a=m1.from(i,t,e);yield H1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Jl(n)})).apply(this,arguments)}function OS(n,t){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,J.Z)(function*(n,t){var e;t&&ua(n).Sr&&(yield(e=(0,J.Z)(function*(i,a){if(_C(l=a.code)&&l!==me.ABORTED){const h=i.Qr.shift();ua(i).wr(),yield H1(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Jl(i)}var l}),function(i,a){return e.apply(this,arguments)})(n,t)),Ql(n)&&uD(n)})).apply(this,arguments)}function vy(n,t){return by.apply(this,arguments)}function by(){return(by=(0,J.Z)(function*(n,t){const e=qe(n);t?(e.Gr.delete(2),yield an(e)):t||(e.Gr.add(2),yield aa(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function Zd(n){return n.Xr||(n.Xr=function(t,e,i){const a=qe(t);return a.Fr(),new oD(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:qx.bind(null,n),Ni:kS.bind(null,n),Pr:ur.bind(null,n)}),n.zr.push(function(){var t=(0,J.Z)(function*(e){e?(n.Xr.wr(),aD(n)?ju(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),q1(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function ua(n){return n.Zr||(n.Zr=function(t,e,i){const a=qe(t);return a.Fr(),new my(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,i)}(n.datastore,n.asyncQueue,{Di:lD.bind(null,n),Ni:OS.bind(null,n),Nr:Yg.bind(null,n),Cr:cD.bind(null,n)}),n.zr.push(function(){var t=(0,J.Z)(function*(e){e?(n.Zr.wr(),yield Jl(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class $1{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,i,a,l){const h=Date.now()+i,g=new $1(t,e,h,a,l);return g.start(i),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(n,t){if(Br("AsyncQueue",`${t}: ${n}`),Yl(n))return new xe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class tc{constructor(t){this.comparator=t?(e,i)=>t(e,i)||et.comparator(e.key,i.key):(e,i)=>et.comparator(e.key,i.key),this.keyedMap=K_(),this.sortedSet=new Hr(this.comparator)}static emptySet(t){return new tc(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof tc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new tc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class PS{constructor(){this.eo=new Hr(et.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):Xe():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class Jg{constructor(t,e,i,a,l,h,g,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,i,a){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new Jg(t,e,tc.emptySet(e),l,i,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&os(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class Et{constructor(){this.so=void 0,this.listeners=[]}}class Bx{constructor(){this.queries=new Ug(t=>So(t),os),this.onlineState="Unknown",this.io=new Set}}function Ud(n,t){return G1.apply(this,arguments)}function G1(){return(G1=(0,J.Z)(function*(n,t){const e=qe(n),i=t.query;let a=!1,l=e.queries.get(i);if(l||(a=!0,l=new Et),a)try{l.so=yield e.onListen(i)}catch(h){const g=ec(h,`Initialization of query '${G_(t.query)}' failed`);return void t.onError(g)}e.queries.set(i,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&W1(e)})).apply(this,arguments)}function z1(n,t){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,J.Z)(function*(n,t){const e=qe(n),i=t.query;let a=!1;const l=e.queries.get(i);if(l){const h=l.listeners.indexOf(t);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return e.queries.delete(i),e.onUnlisten(i)})).apply(this,arguments)}function jx(n,t){const e=qe(n);let i=!1;for(const a of t){const h=e.queries.get(a.query);if(h){for(const g of h.listeners)g.oo(a)&&(i=!0);h.so=a}}i&&W1(e)}function Hx(n,t,e){const i=qe(n),a=i.queries.get(t);if(a)for(const l of a.listeners)l.onError(e);i.queries.delete(t)}function W1(n){n.io.forEach(t=>{t.next()})}class si{constructor(t,e,i){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)3!==a.type&&i.push(a);t=new Jg(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Jg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class FS{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class dD{constructor(t){this.k=t}Hn(t){return na(this.k,t)}Jn(t){return t.metadata.exists?c1(this.k,t.document,!1):Bn.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return vr(t)}}class J1{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=hD(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new dD(this.k);for(const a of t)if(a.metadata.queries){const l=i.Hn(a.metadata.name);for(const h of a.metadata.queries){const g=(e.get(h)||wn()).add(l);e.set(h,g)}}return e}complete(){var t=this;return(0,J.Z)(function*(){const e=yield function(n,t,e,i){return k1.apply(this,arguments)}(t.localStore,new dD(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const a of t.queries)yield ES(t.localStore,a,i.get(a.name));return t.progress.taskState="Success",new I1(Object.assign({},t.progress),e)})()}}function hD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class fD{constructor(t){this.key=t}}class pD{constructor(t){this.key=t}}class gD{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=wn(),this.mutatedKeys=wn(),this.Ao=iC(t),this.Ro=new tc(this.Ao)}get Po(){return this.To}bo(t,e){const i=e?e.vo:new PS,a=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,h=a,g=!1;const b=bg(this.query)&&a.size===this.query.limit?a.last():null,C=t1(this.query)&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((S,N)=>{const Z=a.get(S),B=mf(this.query,N)?N:null,ie=!!Z&&this.mutatedKeys.has(Z.key),ve=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Se=!1;Z&&B?Z.data.isEqual(B.data)?ie!==ve&&(i.track({type:3,doc:B}),Se=!0):this.Vo(Z,B)||(i.track({type:2,doc:B}),Se=!0,(b&&this.Ao(B,b)>0||C&&this.Ao(B,C)<0)&&(g=!0)):!Z&&B?(i.track({type:0,doc:B}),Se=!0):Z&&!B&&(i.track({type:1,doc:Z}),Se=!0,(b||C)&&(g=!0)),Se&&(B?(h=h.add(B),l=ve?l.add(S):l.delete(S)):(h=h.delete(S),l=l.delete(S)))}),bg(this.query)||t1(this.query))for(;h.size>this.query.limit;){const S=bg(this.query)?h.last():h.first();h=h.delete(S.key),l=l.delete(S.key),i.track({type:1,doc:S})}return{Ro:h,vo:i,Bn:g,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const a=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((C,S)=>function(N,Z){const B=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return B(N)-B(Z)}(C.type,S.type)||this.Ao(C.doc,S.doc)),this.So(i);const h=e?this.Do():[],g=0===this.Io.size&&this.current?1:0,b=g!==this.Eo;return this.Eo=g,0!==l.length||b?{snapshot:new Jg(this.query,t.Ro,a,l,t.mutatedKeys,0===g,b,!1),Co:h}:{Co:h}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new PS,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=wn(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new pD(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new fD(i))}),e}ko(t){this.To=t.zn,this.Io=wn();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Jg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class LS{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ZS{constructor(t){this.key=t,this.$o=!1}}class K1{constructor(t,e,i,a,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Ug(g=>So(g),os),this.Mo=new Map,this.Lo=new Set,this.Bo=new Hr(et.comparator),this.Uo=new Map,this.qo=new O1,this.Ko={},this.jo=new Map,this.Qo=kd.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function US(n,t){return Q1.apply(this,arguments)}function Q1(){return(Q1=(0,J.Z)(function*(n,t){const e=Dy(n);let i,a;const l=e.Oo.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),a=l.view.xo();else{const h=yield Bu(e.localStore,Js(t)),g=e.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,a=yield wy(e,t,i,"current"===g),e.isPrimaryClient&&V1(e.remoteStore,h)}return a})).apply(this,arguments)}function wy(n,t,e,i){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,J.Z)(function*(n,t,e,i){n.Go=(S,N,Z)=>{return(B=(0,J.Z)(function*(ie,ve,Se,rt){let Je=ve.view.bo(Se);Je.Bn&&(Je=yield Fd(ie.localStore,ve.query,!1).then(({documents:dn})=>ve.view.bo(dn,Je)));const St=rt&&rt.targetChanges.get(ve.targetId),ot=ve.view.applyChanges(Je,ie.isPrimaryClient,St);return ib(ie,ve.targetId,ot.Co),ot.snapshot}),function(ie,ve,Se,rt){return B.apply(this,arguments)})(n,S,N,Z);var B};const a=yield Fd(n.localStore,t,!0),l=new gD(t,a.zn),h=l.bo(a.documents),g=Mg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,g);ib(n,e,b.Co);const C=new LS(t,e,l);return n.Oo.set(t,C),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),b.snapshot})).apply(this,arguments)}function VS(n,t){return mD.apply(this,arguments)}function mD(){return(mD=(0,J.Z)(function*(n,t){const e=qe(n),i=e.Oo.get(t),a=e.Mo.get(i.targetId);if(a.length>1)return e.Mo.set(i.targetId,a.filter(l=>!os(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield kf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),yt(e.remoteStore,i.targetId),Zf(e,i.targetId)}).catch(Pd))):(Zf(e,i.targetId),yield kf(e.localStore,i.targetId,!0))})).apply(this,arguments)}function X1(){return(X1=(0,J.Z)(function*(n,t,e){const i=Ey(n);try{const a=yield function(l,h){const g=qe(l),b=ei.now(),C=h.reduce((N,Z)=>N.add(Z.key),wn());let S;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>g.Wn.vn(N,C).next(Z=>{S=Z;const B=[];for(const ie of h){const ve=dC(ie,S.get(ie.key));null!=ve&&B.push(new zl(ie.key,ve,_g(ve.value.mapValue),yr.exists(!0)))}return g.An.addMutationBatch(N,b,B,h)})).then(N=>(N.applyToLocalDocumentSet(S),{batchId:N.batchId,changes:S}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(l,h,g){let b=l.Ko[l.currentUser.toKey()];b||(b=new Hr(Qt)),b=b.insert(h,g),l.Ko[l.currentUser.toKey()]=b}(i,a.batchId,e),yield $u(i,a.changes),yield Jl(i.remoteStore)}catch(a){const l=ec(a,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function _D(n,t){return eb.apply(this,arguments)}function eb(){return(eb=(0,J.Z)(function*(n,t){const e=qe(n);try{const i=yield CS(e.localStore,t);t.targetChanges.forEach((a,l)=>{const h=e.Uo.get(l);h&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?gt(h.$o):a.removedDocuments.size>0&&(gt(h.$o),h.$o=!1))}),yield $u(e,i,t)}catch(i){yield Pd(i)}})).apply(this,arguments)}function yD(n,t,e){const i=qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const a=[];i.Oo.forEach((l,h)=>{const g=h.view.ro(t);g.snapshot&&a.push(g.snapshot)}),function(l,h){const g=qe(l);g.onlineState=h;let b=!1;g.queries.forEach((C,S)=>{for(const N of S.listeners)N.ro(h)&&(b=!0)}),b&&W1(g)}(i.eventManager,t),a.length&&i.Fo.Pr(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function BS(n,t,e){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,J.Z)(function*(n,t,e){const i=qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Uo.get(t),l=a&&a.key;if(l){let h=new Hr(et.comparator);h=h.insert(l,Bn.newNoDocument(l,Rt.min()));const g=wn().add(l),b=new Sg(Rt.min(),new Map,new or(Qt),h,g);yield _D(i,b),i.Bo=i.Bo.remove(l),i.Uo.delete(t),sb(i)}else yield kf(i.localStore,t,!1).then(()=>Zf(i,t,e)).catch(Pd)})).apply(this,arguments)}function jS(n,t){return tb.apply(this,arguments)}function tb(){return(tb=(0,J.Z)(function*(n,t){const e=qe(n),i=t.batch.batchId;try{const a=yield JC(e.localStore,t);rb(e,i,null),nb(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield $u(e,a)}catch(a){yield Pd(a)}})).apply(this,arguments)}function vD(n,t,e){return qd.apply(this,arguments)}function qd(){return(qd=(0,J.Z)(function*(n,t,e){const i=qe(n);try{const a=yield function(l,h){const g=qe(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return g.An.lookupMutationBatch(b,h).next(S=>(gt(null!==S),C=S.keys(),g.An.removeMutationBatch(b,S))).next(()=>g.An.performConsistencyCheck(b)).next(()=>g.Wn.vn(b,C))})}(i.localStore,t);rb(i,t,e),nb(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield $u(i,a)}catch(a){yield Pd(a)}})).apply(this,arguments)}function Ty(){return(Ty=(0,J.Z)(function*(n,t){const e=qe(n);Hu(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const h=qe(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.An.getHighestUnacknowledgedBatchId(g))}(e.localStore);if(-1===i)return void t.resolve();const a=e.jo.get(i)||[];a.push(t),e.jo.set(i,a)}catch(i){const a=ec(i,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}})).apply(this,arguments)}function nb(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function rb(n,t,e){const i=qe(n);let a=i.Ko[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Ko[i.currentUser.toKey()]=a}}function Zf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Mo.get(t))n.Oo.delete(i),e&&n.Fo.zo(i,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||bD(n,i)})}function bD(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(yt(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),sb(n))}function ib(n,t,e){for(const i of e)i instanceof fD?(n.qo.addReference(i.key,t),wD(n,i)):i instanceof pD?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||bD(n,i.key)):Xe()}function wD(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(i),sb(n))}function sb(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new et(En.fromString(t)),i=n.Qo.next();n.Uo.set(i,new ZS(e)),n.Bo=n.Bo.insert(e,i),V1(n.remoteStore,new Ha(Js(pf(e.path)),i,2,Ws.I))}}function $u(n,t,e){return TD.apply(this,arguments)}function TD(){return(TD=(0,J.Z)(function*(n,t,e){const i=qe(n),a=[],l=[],h=[];var g;i.Oo.isEmpty()||(i.Oo.forEach((g,b)=>{h.push(i.Go(b,t,e).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),a.push(C);const S=M1.$n(b.targetId,C);l.push(S)}}))}),yield Promise.all(h),i.Fo.Pr(a),yield(g=(0,J.Z)(function*(b,C){const S=qe(b);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Me.forEach(C,Z=>Me.forEach(Z.kn,B=>S.persistence.referenceDelegate.addReference(N,Z.targetId,B)).next(()=>Me.forEach(Z.xn,B=>S.persistence.referenceDelegate.removeReference(N,Z.targetId,B)))))}catch(N){if(!Yl(N))throw N;Le("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const Z=N.targetId;if(!N.fromCache){const B=S.qn.get(Z),ve=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.qn=S.qn.insert(Z,ve)}}}),function(b,C){return g.apply(this,arguments)})(i.localStore,l))})).apply(this,arguments)}function Gx(n,t){return CD.apply(this,arguments)}function CD(){return(CD=(0,J.Z)(function*(n,t){const e=qe(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield WC(e.localStore,t);e.currentUser=t,(a=e).jo.forEach(h=>{h.forEach(g=>{g.reject(new xe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield $u(e,i.Gn)}var a})).apply(this,arguments)}function ob(n,t){const e=qe(n),i=e.Uo.get(t);if(i&&i.$o)return wn().add(i.key);{let a=wn();const l=e.Mo.get(t);if(!l)return a;for(const h of l){const g=e.Oo.get(h);a=a.unionWith(g.view.Po)}return a}}function HS(n,t){return ab.apply(this,arguments)}function ab(){return(ab=(0,J.Z)(function*(n,t){const e=qe(n),i=yield Fd(e.localStore,t.query,!0),a=t.view.ko(i);return e.isPrimaryClient&&ib(e,t.targetId,a.Co),a})).apply(this,arguments)}function $S(n){return ub.apply(this,arguments)}function ub(){return(ub=(0,J.Z)(function*(n){const t=qe(n);return Rf(t.localStore).then(e=>$u(t,e))})).apply(this,arguments)}function GS(n,t,e,i){return lb.apply(this,arguments)}function lb(){return(lb=(0,J.Z)(function*(n,t,e,i){const a=qe(n),l=yield function(h,g){const b=qe(h),C=qe(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Zt(S,g).next(N=>N?b.Wn.vn(S,N):Me.resolve(null)))}(a.localStore,t);var g;null!==l?("pending"===e?yield Jl(a.remoteStore):"acknowledged"===e||"rejected"===e?(rb(a,t,i||null),nb(a,t),g=t,qe(qe(a.localStore).An).ee(g)):Xe(),yield $u(a,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Qg(){return(Qg=(0,J.Z)(function*(n,t){const e=qe(n);if(Dy(e),Ey(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),a=yield ED(e,i.toArray());e.Wo=!0,yield vy(e.remoteStore,!0);for(const l of a)V1(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const i=[];let a=Promise.resolve();e.Mo.forEach((l,h)=>{e.sharedClientState.isLocalQueryTarget(h)?i.push(h):a=a.then(()=>(Zf(e,h),kf(e.localStore,h,!0))),yt(e.remoteStore,h)}),yield a,yield ED(e,i),function(l){const h=qe(l);h.Uo.forEach((g,b)=>{yt(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Hr(et.comparator)}(e),e.Wo=!1,yield vy(e.remoteStore,!1)}})).apply(this,arguments)}function ED(n,t,e){return nc.apply(this,arguments)}function nc(){return(nc=(0,J.Z)(function*(n,t,e){const i=qe(n),a=[],l=[];for(const h of t){let g;const b=i.Mo.get(h);if(b&&0!==b.length){g=yield Bu(i.localStore,Js(b[0]));for(const C of b){const S=i.Oo.get(C),N=yield HS(i,S);N.snapshot&&l.push(N.snapshot)}}else{const C=yield qg(i.localStore,h);g=yield Bu(i.localStore,C),yield wy(i,Si(C),h,!1)}a.push(g)}return i.Fo.Pr(l),a})).apply(this,arguments)}function Si(n){return e1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AD(n){const t=qe(n);return qe(qe(t.localStore).persistence).Tn()}function la(n,t,e,i){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,J.Z)(function*(n,t,e,i){const a=qe(n);if(a.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(a.Mo.has(t))switch(e){case"current":case"not-current":{const l=yield Rf(a.localStore),h=Sg.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield $u(a,l,h);break}case"rejected":yield kf(a.localStore,t,!0),Zf(a,t,i);break;default:Xe()}})).apply(this,arguments)}function zS(n,t,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,J.Z)(function*(n,t,e){const i=Dy(n);if(i.Wo){for(const a of t){if(i.Mo.has(a)){Le("SyncEngine","Adding an already active target "+a);continue}const l=yield qg(i.localStore,a),h=yield Bu(i.localStore,l);yield wy(i,Si(l),h.targetId,!1),V1(i.remoteStore,h)}for(const a of e)i.Mo.has(a)&&(yield kf(i.localStore,a,!1).then(()=>{yt(i.remoteStore,a),Zf(i,a)}).catch(Pd))}})).apply(this,arguments)}function Dy(n){const t=qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_D.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ob.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BS.bind(null,t),t.Fo.Pr=jx.bind(null,t.eventManager),t.Fo.zo=Hx.bind(null,t.eventManager),t}function Ey(n){const t=qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,t),t}class ID{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,J.Z)(function*(){e.k=jg(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return YC(this.persistence,new wS,t.initialUser,this.k)}Yo(t){return new NS(P1.ks,this.k)}Jo(t){return new nD}terminate(){var t=this;return(0,J.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class SD extends ID{constructor(t,e,i){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,J.Z)(function*(){yield e().call(i,t),yield function(n){return x1.apply(this,arguments)}(i.localStore),yield i.ta.initialize(i,t),yield Ey(i.ta.syncEngine),yield Jl(i.ta.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return YC(this.persistence,new wS,t.initialUser,this.k)}Xo(t){return new ay(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=cy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new A1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,U1(),py(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new nD}}class MD extends SD{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,J.Z)(function*(){yield e().call(i,t);const a=i.ta.syncEngine;i.sharedClientState instanceof Ff&&(i.sharedClientState.syncEngine={mi:GS.bind(null,a),gi:la.bind(null,a),yi:zS.bind(null,a),Tn:AD.bind(null,a),_i:$S.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var l=(0,J.Z)(function*(h){yield function(n,t){return Qg.apply(this,arguments)}(i.ta.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(t){const e=U1();if(!Ff.bt(e))throw new xe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=cy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ff(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class cb{initialize(t,e){var i=this;return(0,J.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>yD(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=Gx.bind(null,i.syncEngine),yield vy(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Bx}createDatastore(t){const e=jg(t.databaseInfo.databaseId),i=new iD(t.databaseInfo);return new _y(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,a=t.asyncQueue,l=g=>yD(this.syncEngine,g,0),h=L1.bt()?new L1:new xS,new Hg(e,i,a,l,h);var e,i,a,l,h}createSyncEngine(t,e){return function(i,a,l,h,g,b,C){const S=new K1(i,a,l,h,g,b);return C&&(S.Wo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,J.Z)(function*(e){const i=qe(e);Le("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield aa(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function WS(n,t=10240){let e=0;return{read:()=>(0,J.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ay{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class JS{constructor(t,e){this.sa=t,this.k=e,this.metadata=new Xr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,J.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,J.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,J.Z)(function*(){const e=yield t.oa();if(null===e)return null;const i=t.ia.decode(e),a=Number(i);isNaN(a)&&t.aa(`length string (${i}) is not valid number`);const l=yield t.ca(a);return new FS(JSON.parse(l),e.length+a)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,J.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ca(t){var e=this;return(0,J.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const i=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,J.Z)(function*(){const e=yield t.sa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Uf{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,J.Z)(function*(l,h){const g=qe(l),b=bf(g.k)+"/documents",C={documents:h.map(B=>X_(g.k,B))},S=yield g.ji("BatchGetDocuments",b,C),N=new Map;S.forEach(B=>{const ie=function(n,t){return"found"in t?function(e,i){gt(!!i.found);const a=na(e,i.found.name),l=vr(i.found.updateTime),h=new ni({mapValue:{fields:i.found.fields}});return Bn.newFoundDocument(a,l,h)}(n,t):"missing"in t?function(e,i){gt(!!i.missing),gt(!!i.readTime);const a=na(e,i.missing),l=vr(i.readTime);return Bn.newNoDocument(a,l)}(n,t):Xe()}(g.k,B);N.set(ie.key.toString(),ie)});const Z=[];return h.forEach(B=>{const ie=N.get(B.toString());gt(!!ie),Z.push(ie)}),Z}),function(l,h){return a.apply(this,arguments)})(e.datastore,t);var a;return i.forEach(a=>e.recordVersion(a)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ig(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,a)=>{const l=et.fromPath(a);t.mutations.push(new i1(l,t.precondition(l)))}),yield(i=(0,J.Z)(function*(a,l){const h=qe(a),g=bf(h.k)+"/documents",b={writes:l.map(C=>ey(h.k,C))};yield h.Bi("Commit",g,b)}),function(a,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xe();e=Rt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new xe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?yr.updateTime(e):yr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new xe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(e)}return yr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class zx{constructor(t,e,i,a){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=a,this.la=5,this.ur=new gy(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,J.Z)(function*(){const e=new Uf(t.datastore),i=t.da(e);i&&i.then(a=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(a)}).catch(l=>{t.wa(l)}))}).catch(a=>{t.wa(a)})}))}da(t){try{const e=this.updateFunction(t);return!Td(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!_C(e)}return!1}}class ND{constructor(t,e,i,a){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Ci.UNAUTHENTICATED,this.clientId=zT.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,J.Z)(function*(g){Le("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,J.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ec(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}function xD(n,t){return kD.apply(this,arguments)}function kD(){return(kD=(0,J.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var a=(0,J.Z)(function*(l){i.isEqual(l)||(yield WC(t.localStore,l),i=l)});return function(l){return a.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function db(n,t){return hb.apply(this,arguments)}function hb(){return(hb=(0,J.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield em(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(a=>{return(l=(0,J.Z)(function*(h,g){const b=qe(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const C=Hu(b);b.Gr.add(3),yield aa(b),C&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(g),b.Gr.delete(3),yield an(b)}),function(h,g){return l.apply(this,arguments)})(t.remoteStore,a);var l}),n.onlineComponents=t})).apply(this,arguments)}function em(n){return fb.apply(this,arguments)}function fb(){return(fb=(0,J.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield xD(n,new ID)),n.offlineComponents})).apply(this,arguments)}function tm(n){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,J.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield db(n,new cb)),n.onlineComponents})).apply(this,arguments)}function pb(n){return em(n).then(t=>t.persistence)}function gb(n){return em(n).then(t=>t.localStore)}function RD(n){return tm(n).then(t=>t.remoteStore)}function mb(n){return tm(n).then(t=>t.syncEngine)}function Vf(n){return _b.apply(this,arguments)}function _b(){return(_b=(0,J.Z)(function*(n){const t=yield tm(n),e=t.eventManager;return e.onListen=US.bind(null,t.syncEngine),e.onUnlisten=VS.bind(null,t.syncEngine),e})).apply(this,arguments)}function yb(n,t,e={}){const i=new Xr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(a,l,h,g,b){const C=new Ay({next:N=>{l.enqueueAndForget(()=>z1(a,S));const Z=N.docs.has(h);!Z&&N.fromCache?b.reject(new xe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&N.fromCache&&g&&"server"===g.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(N)},error:N=>b.reject(N)}),S=new si(pf(h.path),C,{includeMetadataChanges:!0,wo:!0});return Ud(a,S)}(yield Vf(n),n.asyncQueue,t,e,i)})),i.promise}function vb(n,t,e={}){const i=new Xr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(a,l,h,g,b){const C=new Ay({next:N=>{l.enqueueAndForget(()=>z1(a,S)),N.fromCache&&"server"===g.source?b.reject(new xe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(N)},error:N=>b.reject(N)}),S=new si(h,C,{includeMetadataChanges:!0,wo:!0});return Ud(a,S)}(yield Vf(n),n.asyncQueue,t,e,i)})),i.promise}class XS{constructor(t,e,i,a,l,h,g,b){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=b}}class qf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof qf&&t.projectId===this.projectId&&t.database===this.database}}const UD=new Map;function bb(n,t,e){if(!e)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Bf(n,t,e,i){if(!0===t&&!0===i)throw new xe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function jf(n){if(!et.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VD(n){if(et.isDocumentKey(n))throw new xe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Xe()}function Ot(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hf(n);throw new xe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function qD(n,t){if(t<=0)throw new xe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class rm{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class im{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,t instanceof qf?this._databaseId=t:(this._app=t,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new xe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qf(a.options.projectId)}(t))}get app(){if(!this._app)throw new xe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Px;switch(e.type){case"gapi":const i=e.client;return gt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new jT(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=UD.get(t);e&&(Le("ComponentProvider","Removing Datastore"),UD.delete(t),e.terminate())}(this),Promise.resolve()}}class er{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new er(this.firestore,t,this._key)}}class oi{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new oi(this.firestore,t,this._query)}}class No extends oi{constructor(t,e,i){super(t,e,pf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new er(this.firestore,null,new et(t))}withConverter(t){return new No(this.firestore,t,this._path)}}function wb(n,t,...e){if(n=(0,Tt.m9)(n),bb("collection","path",t),n instanceof im){const i=En.fromString(t,...e);return VD(i),new No(n,null,i)}{if(!(n instanceof er||n instanceof No))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return VD(i),new No(n.firestore,null,i)}}function $f(n,t,...e){if(n=(0,Tt.m9)(n),1===arguments.length&&(t=zT.A()),bb("doc","path",t),n instanceof im){const i=En.fromString(t,...e);return jf(i),new er(n,null,new et(i))}{if(!(n instanceof er||n instanceof No))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return jf(i),new er(n.firestore,n instanceof No?n.converter:null,new et(i))}}function BD(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),(n instanceof er||n instanceof No)&&(t instanceof er||t instanceof No)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function jD(n,t){return n=(0,Tt.m9)(n),t=(0,Tt.m9)(t),n instanceof oi&&t instanceof oi&&n.firestore===t.firestore&&os(n._query,t._query)&&n.converter===t.converter}class tM{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new gy(this,"async_queue_retry"),this.Ra=()=>{const e=py();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=py();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=py();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new Xr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,J.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!Yl(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(i=>{throw this.Ta=i,this.Ea=!1,Br("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(i)),i}).then(i=>(this.Ea=!1,i))));return this.ma=e,e}enqueueAfterDelay(t,e,i){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const a=$1.createAndSchedule(this,t,e,i,l=>this.Va(l));return this.pa.push(a),a}Pa(){this.Ta&&Xe()}verifyOperationInProgress(){}Sa(){var t=this;return(0,J.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function Cb(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class HD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class tr extends im{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new tM,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$D(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||$D(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $D(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new XS(n._databaseId,l,n._persistenceKey,(g=e).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new ND(n._authCredentials,n._appCheckCredentials,n._queue,i)}function YD(n,t,e){const i=new Xr;return n.asyncQueue.enqueue((0,J.Z)(function*(){try{yield xD(n,e),yield db(n,t),i.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var l})).then(()=>i.promise)}function oM(n){if(n._initialized||n._terminated)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eo{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xo(ti.fromBase64String(t))}catch(e){throw new xe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new xo(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Bd{constructor(t){this._methodName=t}}class om{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const aM=/^__.*__$/;class uM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new zl(t,this.data,this.fieldMask,e,this.fieldTransforms):new yf(t,this.data,e,this.fieldTransforms)}}class Sy{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new zl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Eb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class am{constructor(t,e,i,a,l,h){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=a,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new am(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:i,Oa:!1});return a.Ma(t),a}La(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:i,Oa:!1});return a.ka(),a}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return Oy(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(Eb(this.xa)&&aM.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class My{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||jg(t)}ja(t,e,i,a=!1){return new am({xa:t,methodName:e,Ka:i,path:Di.emptyPath(),Oa:!1,qa:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Gu(n){const t=n._freezeSettings(),e=jg(n._databaseId);return new My(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ab(n,t,e,i,a,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,t,e,a);ky("Data must be an object, but it was:",h,i);const g=Ib(i,h);let b,C;if(l.merge)b=new dg(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const S=[];for(const N of l.mergeFields){const Z=Mb(t,N,e);if(!h.contains(Z))throw new xe(me.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);tE(S,Z)||S.push(Z)}b=new dg(S),C=h.fieldTransforms.filter(N=>b.covers(N.field))}else b=null,C=h.fieldTransforms;return new uM(new ni(g),b,C)}class Gf extends Bd{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gf}}function KD(n,t,e){return new am({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class Ny extends Bd{_toFieldTransform(t){return new _f(t.path,new Ed)}isEqual(t){return t instanceof Ny}}class xy extends Bd{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=KD(this,t,!0),i=this.Qa.map(l=>jd(l,e)),a=new Gl(i);return new _f(t.path,a)}isEqual(t){return this===t}}class QD extends Bd{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=KD(this,t,!0),i=this.Qa.map(l=>jd(l,e)),a=new Ad(i);return new _f(t.path,a)}isEqual(t){return this===t}}class lM extends Bd{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new Id(t.k,z_(t.k,this.Wa));return new _f(t.path,e)}isEqual(t){return this===t}}function um(n,t,e,i){const a=n.ja(1,t,e);ky("Data must be an object, but it was:",a,i);const l=[],h=ni.empty();ql(i,(b,C)=>{const S=Ry(t,b,e);C=(0,Tt.m9)(C);const N=a.La(S);if(C instanceof Gf)l.push(S);else{const Z=jd(C,N);null!=Z&&(l.push(S),h.set(S,Z))}});const g=new dg(l);return new Sy(h,g,a.fieldTransforms)}function lm(n,t,e,i,a,l){const h=n.ja(1,t,e),g=[Mb(t,i,e)],b=[a];if(l.length%2!=0)throw new xe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<l.length;Z+=2)g.push(Mb(t,l[Z])),b.push(l[Z+1]);const C=[],S=ni.empty();for(let Z=g.length-1;Z>=0;--Z)if(!tE(C,g[Z])){const B=g[Z];let ie=b[Z];ie=(0,Tt.m9)(ie);const ve=h.La(B);if(ie instanceof Gf)C.push(B);else{const Se=jd(ie,ve);null!=Se&&(C.push(B),S.set(B,Se))}}const N=new dg(C);return new Sy(S,N,h.fieldTransforms)}function XD(n,t,e,i=!1){return jd(e,n.ja(i?4:3,t))}function jd(n,t){if(Sb(n=(0,Tt.m9)(n)))return ky("Unsupported field value:",t,n),Ib(n,t);if(n instanceof Bd)return function(e,i){if(!Eb(i.xa))throw i.Ua(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Ua(`${e._methodName}() is not currently supported inside arrays`);const a=e._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,i){const a=[];let l=0;for(const h of e){let g=jd(h,i.Ba(l));null==g&&(g={nullValue:"NULL_VALUE"}),a.push(g),l++}return{arrayValue:{values:a}}}(n,t)}return function(e,i){if(null===(e=(0,Tt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return z_(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const a=ei.fromDate(e);return{timestampValue:Ng(i.k,a)}}if(e instanceof ei){const a=new ei(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ng(i.k,a)}}if(e instanceof om)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xo)return{bytesValue:xg(i.k,e._byteString)};if(e instanceof er){const a=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(a))throw i.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vf(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Ua(`Unsupported field value: ${Hf(e)}`)}(n,t)}function Ib(n,t){const e={};return zv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ql(n,(i,a)=>{const l=jd(a,t.Fa(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function Sb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ei||n instanceof om||n instanceof xo||n instanceof er||n instanceof Bd)}function ky(n,t,e){if(!Sb(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Hf(e);throw t.Ua("an object"===i?n+" a custom object":n+" "+i)}var i}function Mb(n,t,e){if((t=(0,Tt.m9)(t))instanceof eo)return t._internalPath;if("string"==typeof t)return Ry(n,t);throw Oy("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const eE=new RegExp("[~\\*/\\[\\]]");function Ry(n,t,e){if(t.search(eE)>=0)throw Oy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new eo(...t.split("."))._internalPath}catch(i){throw Oy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Oy(n,t,e,i,a){const l=i&&!i.isEmpty(),h=void 0!==a;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${i}`),h&&(b+=` in document ${a}`),b+=")"),new xe(me.INVALID_ARGUMENT,g+n+b)}function tE(n,t){return n.some(e=>e.isEqual(t))}class zf{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class cM extends zf{data(){return super.data()}}function cm(n,t){return"string"==typeof t?Ry(n,t):t instanceof eo?t._internalPath:t._delegate._internalPath}class rc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wa extends zf{constructor(t,e,i,a,l,h){super(t,e,i,a,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(cm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Yf extends Wa{data(t={}){return super.data(t)}}class ic{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Yf(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new Yf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const g=new Yf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:dM(h.type),doc:g,oldIndex:b,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function dM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function nE(n,t){return n instanceof Wa&&t instanceof Wa?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ic&&t instanceof ic&&n._firestore===t._firestore&&jD(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function Nb(n){if(t1(n)&&0===n.explicitOrderBy.length)throw new xe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Py{}function Hd(n,...t){for(const e of t)n=e._apply(n);return n}class Jx extends Py{constructor(t,e,i){super(),this.Ga=t,this.za=e,this.Ha=i,this.type="where"}_apply(t){const e=Gu(t.firestore),i=function(a,l,h,g,b,C,S){let N;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){rE(S,C);const B=[];for(const ie of S)B.push(mM(g,a,ie));N={arrayValue:{values:B}}}else N=mM(g,a,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||rE(S,C),N=XD(h,"where",S,"in"===C||"not-in"===C);const Z=ji.create(b,C,N);return function(B,ie){if(ie.V()){const Se=Tg(B);if(null!==Se&&!Se.isEqual(ie.field))throw new xe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${ie.field.toString()}'`);const rt=wg(B);null!==rt&&iE(0,ie.field,rt)}const ve=function(Se,rt){for(const Je of Se.filters)if(rt.indexOf(Je.op)>=0)return Je.op;return null}(B,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ie.op));if(null!==ve)throw new xe(me.INVALID_ARGUMENT,ve===ie.op?`Invalid query. You cannot use more than one '${ie.op.toString()}' filter.`:`Invalid query. You cannot use '${ie.op.toString()}' filters with '${ve.toString()}' filters.`)}(a,Z),Z}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new oi(t.firestore,t.converter,function(a,l){const h=a.filters.concat([l]);return new Lu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(t._query,i))}}class Qx extends Py{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(i,a,l){if(null!==i.startAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Cd(a,l);return function(g,b){if(null===wg(g)){const C=Tg(g);null!==C&&iE(0,C,b.field)}}(i,h),h}(t._query,this.Ga,this.Ja);return new oi(t.firestore,t.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Lu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class hM extends Py{constructor(t,e,i){super(),this.type=t,this.Ya=e,this.Xa=i}_apply(t){return new oi(t.firestore,t.converter,ta(t._query,this.Ya,this.Xa))}}class fM extends Py{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=gM(t,this.type,this.Za,this.tc);return new oi(t.firestore,t.converter,(a=e,new Lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class pM extends Py{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=gM(t,this.type,this.Za,this.tc);return new oi(t.firestore,t.converter,(a=e,new Lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function gM(n,t,e,i){if(e[0]=(0,Tt.m9)(e[0]),e[0]instanceof zf)return function(a,l,h,g,b){if(!g)throw new xe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const S of gf(a))if(S.field.isKeyField())C.push(pg(l,g.key));else{const N=g.data.field(S.field);if(fg(N))throw new xe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const Z=S.field.canonicalString();throw new xe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}C.push(N)}return new ff(C,b)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const a=Gu(n.firestore);return function(l,h,g,b,C,S){const N=l.explicitOrderBy;if(C.length>N.length)throw new xe(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let B=0;B<C.length;B++){const ie=C[B];if(N[B].field.isKeyField()){if("string"!=typeof ie)throw new xe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof ie}`);if(!Io(l)&&-1!==ie.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${ie}' contains a slash.`);const ve=l.path.child(En.fromString(ie));if(!et.isDocumentKey(ve))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Se=new et(ve);Z.push(pg(h,Se))}else{const ve=XD(g,b,ie);Z.push(ve)}}return new ff(Z,S)}(n._query,n.firestore._databaseId,a,t,e,i)}}function mM(n,t,e){if("string"==typeof(e=(0,Tt.m9)(e))){if(""===e)throw new xe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Io(t)&&-1!==e.indexOf("/"))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(En.fromString(e));if(!et.isDocumentKey(i))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pg(n,new et(i))}if(e instanceof er)return pg(n,e._key);throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(e)}.`)}function rE(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function iE(n,t,e){if(!e.isEqual(t))throw new xe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class xb{convertValue(t,e="none"){switch(jl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xe()}}convertObject(t,e){const i={};return ql(t.fields,(a,l)=>{i[a]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new om(Sr(t.latitude),Sr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Jv(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(V_(t));default:return null}}convertTimestamp(t){const e=Ba(t);return new ei(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=En.fromString(t);gt(f1(i));const a=new qf(i.get(1),i.get(3)),l=new et(i.popFirst(5));return a.isEqual(e)||Br(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function kb(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class ok extends xb{constructor(t){super(),this.firestore=t}convertBytes(t){return new xo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new er(this.firestore,null,e)}}class _M{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gu(t)}set(t,e,i){this._verifyNotCommitted();const a=sc(t,this._firestore),l=kb(a.converter,e,i),h=Ab(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,i);return this._mutations.push(h.toMutation(a._key,yr.none())),this}update(t,e,i,...a){this._verifyNotCommitted();const l=sc(t,this._firestore);let h;return h="string"==typeof(e=(0,Tt.m9)(e))||e instanceof eo?lm(this._dataReader,"WriteBatch.update",l._key,e,i,a):um(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(h.toMutation(l._key,yr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=sc(t,this._firestore);return this._mutations=this._mutations.concat(new Ig(e._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sc(n,t){if((n=(0,Tt.m9)(n)).firestore!==t)throw new xe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $d extends xb{constructor(t){super(),this.firestore=t}convertBytes(t){return new xo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new er(this.firestore,null,e)}}function bM(n,t,e){n=Ot(n,er);const i=Ot(n.firestore,tr),a=kb(n.converter,t,e);return Jf(i,[Ab(Gu(i),"setDoc",n._key,a,null!==n.converter,e).toMutation(n._key,yr.none())])}function sE(n,t,e,...i){n=Ot(n,er);const a=Ot(n.firestore,tr),l=Gu(a);let h;return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof eo?lm(l,"updateDoc",n._key,t,e,i):um(l,"updateDoc",n._key,t),Jf(a,[h.toMutation(n._key,yr.exists(!0))])}function Ob(n,...t){var e,i,a;n=(0,Tt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||Cb(t[h])||(l=t[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges};if(Cb(t[h])){const N=t[h];t[h]=null===(e=N.next)||void 0===e?void 0:e.bind(N),t[h+1]=null===(i=N.error)||void 0===i?void 0:i.bind(N),t[h+2]=null===(a=N.complete)||void 0===a?void 0:a.bind(N)}let b,C,S;if(n instanceof er)C=Ot(n.firestore,tr),S=pf(n._key.path),b={next:N=>{t[h]&&t[h](dm(C,n,N))},error:t[h+1],complete:t[h+2]};else{const N=Ot(n,oi);C=Ot(N.firestore,tr),S=N._query;const Z=new $d(C);b={next:B=>{t[h]&&t[h](new ic(C,Z,N,B))},error:t[h+1],complete:t[h+2]},Nb(n._query)}return function(N,Z,B,ie){const ve=new Ay(ie),Se=new si(Z,ve,B);return N.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return Ud(yield Vf(N),Se)})),()=>{ve.na(),N.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return z1(yield Vf(N),Se)}))}}(Nr(C),S,g,b)}function Jf(n,t){return function(e,i){const a=new Xr;return e.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(n,t,e){return X1.apply(this,arguments)}(yield mb(e),i,a)})),a.promise}(Nr(n),t)}function dm(n,t,e){const i=e.docs.get(t._key),a=new $d(n);return new Wa(n,a,t._key,i,new rc(e.hasPendingWrites,e.fromCache),t.converter)}class oE extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Gu(t)}get(t){const e=sc(t,this._firestore),i=new ok(this._firestore);return this._transaction.lookup([e._key]).then(a=>{if(!a||1!==a.length)return Xe();const l=a[0];if(l.isFoundDocument())return new zf(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new zf(this._firestore,i,e._key,null,e.converter);throw Xe()})}set(t,e,i){const a=sc(t,this._firestore),l=kb(a.converter,e,i),h=Ab(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,i);return this._transaction.set(a._key,h),this}update(t,e,i,...a){const l=sc(t,this._firestore);let h;return h="string"==typeof(e=(0,Tt.m9)(e))||e instanceof eo?lm(this._dataReader,"Transaction.update",l._key,e,i,a):um(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,h),this}delete(t){const e=sc(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=sc(t,this._firestore),i=new $d(this._firestore);return super.get(t).then(a=>new Wa(this._firestore,i,e._key,a._document,new rc(!1,!1),e.converter))}}function Pb(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function TM(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function hm(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){vd=ut.SDK_VERSION,(0,ut._registerComponent)(new ed.wA("firestore",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=new tr(a,new af(e.getProvider("auth-internal")),new $T(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC")),(0,ut.registerVersion)($I,"3.4.0",n),(0,ut.registerVersion)($I,"3.4.0","esm2017")}();class fm{constructor(t){this._delegate=t}static fromBase64String(t){return hm(),new fm(xo.fromBase64String(t))}static fromUint8Array(t){return TM(),new fm(xo.fromUint8Array(t))}toBase64(){return hm(),this._delegate.toBase64()}toUint8Array(){return TM(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dE(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class Fb{enableIndexedDbPersistence(t,e){return function(n,t){oM(n=Ot(n,tr));const e=Nr(n),i=n._freezeSettings(),a=new cb;return YD(e,a,new SD(a,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){oM(n=Ot(n,tr));const t=Nr(n),e=n._freezeSettings(),i=new cb;return YD(t,i,new MD(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new xe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(e=(0,J.Z)(function*(i){if(!sa.bt())return Promise.resolve();const a=i+"main";yield sa.delete(a)}),function(i){return e.apply(this,arguments)})(cy(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class hE{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof qf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var a;const l=(n=Ot(n,im))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&cg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let h,g;if("string"==typeof i.mockUserToken)h=i.mockUserToken,g=Ci.MOCK_USER;else{h=(0,Tt.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new xe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ci(b)}n._authCredentials=new zI(new $v(h,g))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const t=yield pb(n),e=yield RD(n);return t.setNetworkEnabled(!0),function(i){const a=qe(i);return a.Gr.delete(0),an(a)}(e)}))}(Nr(n=Ot(n,tr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const t=yield pb(n),e=yield RD(n);return t.setNetworkEnabled(!1),(i=(0,J.Z)(function*(a){const l=qe(a);l.Gr.add(0),yield aa(l),l.Jr.set("Offline")}),function(a){return i.apply(this,arguments)})(e);var i}))}(Nr(n=Ot(n,tr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Bf("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Xr;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(n,t){return Ty.apply(this,arguments)}(yield mb(t),e)})),e.promise}(Nr(n=Ot(n,tr)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Ay(t);return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Vf(n),a=e,qe(i).io.add(a),void a.next();var i,a})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield Vf(n),a=e,void qe(i).io.delete(a);var i,a}))}}(Nr(n=Ot(n,tr)),Cb(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Kf(this,wb(this._delegate,t))}catch(e){throw As(e,"collection()","Firestore.collection()")}}doc(t){try{return new ko(this,$f(this._delegate,t))}catch(e){throw As(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new us(this,function(n,t){if(n=Ot(n,im),bb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oi(n,null,(e=t,new Lu(En.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw As(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Xr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const i=yield(a=n,tm(a).then(l=>l.datastore));var a;new zx(n.asyncQueue,i,t,e).run()})),e.promise}(Nr(n=Ot(n,tr)),e=>t(new oE(n,e)))}(this._delegate,e=>t(new fE(this,e)))}batch(){return Nr(this._delegate),new CM(new _M(this._delegate,t=>Jf(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Nr(n=Ot(n,tr)),i=new HD;return function(n,t,e,i){const a=function(l,h){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,C){if(b instanceof Uint8Array)return WS(b,C);if(b instanceof ArrayBuffer)return WS(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new JS(b,h);var b}(e,jg(t));n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function(n,t,e){const i=qe(n);var a;(a=(0,J.Z)(function*(l,h,g){try{const b=yield h.getMetadata();if(yield function(Z,B){const ie=qe(Z),ve=vr(B.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",Se=>ie.Ye.getBundleMetadata(Se,B.id)).then(Se=>!!Se&&Se.createTime.compareTo(ve)>=0)}(l.localStore,b))return yield h.close(),void g._completeWith((Z=b,{taskState:"Success",documentsLoaded:Z.totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}));g._updateProgress(hD(b));const C=new J1(b,l.localStore,h.k);let S=yield h.Ho();for(;S;){const Z=yield C.yo(S);Z&&g._updateProgress(Z),S=yield h.Ho()}const N=yield C.complete();yield $u(l,N.In,void 0),yield function(Z,B){const ie=qe(Z);return ie.persistence.runTransaction("Save bundle","readwrite",ve=>ie.Ye.saveBundleMetadata(ve,B))}(l.localStore,b),g._completeWith(N.progress)}catch(b){cg("SyncEngine",`Loading bundle failed with ${b}`),g._failWith(b)}var Z}),function(l,h,g){return a.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield mb(n),a,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,J.Z)(function*(){return function(e,i){const a=qe(e);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ye.getNamedQuery(l,i))}(yield gb(n),t)}))}(Nr(n=Ot(n,tr)),t).then(e=>e?new oi(n,null,e.query):null)}(this._delegate,t).then(e=>e?new us(this,e):null)}}class Lb extends xb{constructor(t){super(),this.firestore=t}convertBytes(t){return new fm(new xo(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ko.forKey(e,this.firestore,null)}}class fE{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Lb(t)}get(t){const e=$r(t);return this._delegate.get(e).then(i=>new zu(this._firestore,new Wa(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const a=$r(t);return i?(Pb("Transaction.set",i),this._delegate.set(a,e,i)):this._delegate.set(a,e),this}update(t,e,i,...a){const l=$r(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...a),this}delete(t){const e=$r(t);return this._delegate.delete(e),this}}class CM{constructor(t){this._delegate=t}set(t,e,i){const a=$r(t);return i?(Pb("WriteBatch.set",i),this._delegate.set(a,e,i)):this._delegate.set(a,e),this}update(t,e,i,...a){const l=$r(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...a),this}delete(t){const e=$r(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class oc{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Yf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pm(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=oc.INSTANCES;let a=i.get(t);a||(a=new WeakMap,i.set(t,a));let l=a.get(e);return l||(l=new oc(t,new Lb(t),e),a.set(e,l)),l}}oc.INSTANCES=new WeakMap;class ko{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lb(t)}static forPath(t,e,i){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ko(e,new er(e._delegate,i,new et(t)))}static forKey(t,e,i){return new ko(e,new er(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Kf(this.firestore,wb(this._delegate,t))}catch(e){throw As(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Tt.m9)(t))instanceof er&&BD(this._delegate,t)}set(t,e){e=Pb("DocumentReference.set",e);try{return e?bM(this._delegate,t,e):bM(this._delegate,t)}catch(i){throw As(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?sE(this._delegate,t):sE(this._delegate,t,e,...i)}catch(a){throw As(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Jf(Ot(n.firestore,tr),[new Ig(n._key,yr.none())])}(this._delegate)}onSnapshot(...t){const e=DM(t),i=pE(t,a=>new zu(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Ob(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Ot(n,er);const t=Ot(n.firestore,tr),e=Nr(t),i=new $d(t);return function(n,t){const e=new Xr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(i=(0,J.Z)(function*(a,l,h){try{const g=yield function(b,C){const S=qe(b);return S.persistence.runTransaction("read document","readonly",N=>S.Wn.Rn(N,C))}(a,l);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new xe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const b=ec(g,`Failed to get document '${l} from cache`);h.reject(b)}}),function(a,l,h){return i.apply(this,arguments)})(yield gb(n),t,e);var i})),e.promise}(e,n._key).then(a=>new Wa(t,i,n._key,a,new rc(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Ot(n,er);const t=Ot(n.firestore,tr);return yb(Nr(t),n._key,{source:"server"}).then(e=>dm(t,n,e))}(this._delegate):function(n){n=Ot(n,er);const t=Ot(n.firestore,tr);return yb(Nr(t),n._key).then(e=>dm(t,n,e))}(this._delegate),e.then(i=>new zu(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ko(this.firestore,this._delegate.withConverter(t?oc.getInstance(this.firestore,t):null))}}function As(n,t,e){return n.message=n.message.replace(t,e),n}function DM(n){for(const t of n)if("object"==typeof t&&!dE(t))return t;return{}}function pE(n,t){var e,i;let a;return a=dE(n[0])?n[0]:dE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(t(l))},error:null===(e=a.error)||void 0===e?void 0:e.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class zu{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ko(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return nE(this._delegate,t._delegate)}}class pm extends zu{data(t){const e=this._delegate.data(t);return function(n,t){n||Xe()}(void 0!==e),e}}class us{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Lb(t)}where(t,e,i){try{return new us(this.firestore,Hd(this._delegate,function(n,t,e){const i=t,a=cm("where",n);return new Jx(a,i,e)}(t,e,i)))}catch(a){throw As(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new us(this.firestore,Hd(this._delegate,function(n,t="asc"){const e=t,i=cm("orderBy",n);return new Qx(i,e)}(t,e)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new us(this.firestore,Hd(this._delegate,function(n){return qD("limit",n),new hM("limit",n,"F")}(t)))}catch(e){throw As(e,"limit()","Query.limit()")}}limitToLast(t){try{return new us(this.firestore,Hd(this._delegate,function(n){return qD("limitToLast",n),new hM("limitToLast",n,"L")}(t)))}catch(e){throw As(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new us(this.firestore,Hd(this._delegate,function(...n){return new fM("startAt",n,!0)}(...t)))}catch(e){throw As(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new us(this.firestore,Hd(this._delegate,function(...n){return new fM("startAfter",n,!1)}(...t)))}catch(e){throw As(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new us(this.firestore,Hd(this._delegate,function(...n){return new pM("endBefore",n,!0)}(...t)))}catch(e){throw As(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new us(this.firestore,Hd(this._delegate,function(...n){return new pM("endAt",n,!1)}(...t)))}catch(e){throw As(e,"endAt()","Query.endAt()")}}isEqual(t){return jD(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Ot(n,oi);const t=Ot(n.firestore,tr),e=Nr(t),i=new $d(t);return function(n,t){const e=new Xr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(i=(0,J.Z)(function*(a,l,h){try{const g=yield Fd(a,l,!0),b=new gD(l,g.zn),C=b.bo(g.documents),S=b.applyChanges(C,!1);h.resolve(S.snapshot)}catch(g){const b=ec(g,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(a,l,h){return i.apply(this,arguments)})(yield gb(n),t,e);var i})),e.promise}(e,n._query).then(a=>new ic(t,i,n,a))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Ot(n,oi);const t=Ot(n.firestore,tr),e=Nr(t),i=new $d(t);return vb(e,n._query,{source:"server"}).then(a=>new ic(t,i,n,a))}(this._delegate):function(n){n=Ot(n,oi);const t=Ot(n.firestore,tr),e=Nr(t),i=new $d(t);return Nb(n._query),vb(e,n._query).then(a=>new ic(t,i,n,a))}(this._delegate),e.then(i=>new gm(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=DM(t),i=pE(t,a=>new gm(this.firestore,new ic(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Ob(this._delegate,e,i)}withConverter(t){return new us(this.firestore,this._delegate.withConverter(t?oc.getInstance(this.firestore,t):null))}}class EM{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new pm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gm{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new pm(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new EM(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new pm(this._firestore,i))})}isEqual(t){return nE(this._delegate,t._delegate)}}class Kf extends us{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ko(this.firestore,t):null}doc(t){try{return new ko(this.firestore,void 0===t?$f(this._delegate):$f(this._delegate,t))}catch(e){throw As(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Ot(n.firestore,tr),i=$f(n),a=kb(n.converter,t);return Jf(e,[Ab(Gu(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ko(this.firestore,e))}isEqual(t){return BD(this._delegate,t._delegate)}withConverter(t){return new Kf(this.firestore,this._delegate.withConverter(t?oc.getInstance(this.firestore,t):null))}}function $r(n){return Ot(n,er)}class Zb{constructor(...t){this._delegate=new eo(...t)}static documentId(){return new Zb(Di.keyField().canonicalString())}isEqual(t){return(t=(0,Tt.m9)(t))instanceof eo&&this._delegate._internalPath.isEqual(t._internalPath)}}class Yu{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Ny("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Yu(t)}static delete(){const t=new Gf("deleteField");return t._methodName="FieldValue.delete",new Yu(t)}static arrayUnion(...t){const e=function(...n){return new xy("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Yu(e)}static arrayRemove(...t){const e=function(...n){return new QD("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Yu(e)}static increment(t){const e=function(n){return new lM("increment",n)}(t);return e._methodName="FieldValue.increment",new Yu(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const AM={Firestore:hE,GeoPoint:om,Timestamp:ei,Blob:fm,Transaction:fE,WriteBatch:CM,DocumentReference:ko,DocumentSnapshot:zu,Query:us,QueryDocumentSnapshot:pm,QuerySnapshot:gm,CollectionReference:Kf,FieldPath:Zb,FieldValue:Yu,setLogLevel:function(n){!function(n){bd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new ed.wA("firestore-compat",e=>((t,e)=>new hE(t,e,new Fb))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},AM)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(K0.Z);var Ly=F(6682),Qf=F(9746),SM=F(7771),gE=F(8858);class mE extends cn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new MM(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=i.length;let h;if(this.closed)throw new vh.N;if(this.isStopped||this.hasError?h=Ep.w.EMPTY:(this.observers.push(t),h=new gE.W(this,t)),a&&t.add(t=new Qf.ht(t,a)),e)for(let g=0;g<l&&!t.closed;g++)t.next(i[g]);else for(let g=0;g<l&&!t.closed;g++)t.next(i[g].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||SM.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(t-a[h].time<i);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&a.splice(0,h),a}}class MM{constructor(t,e){this.time=t,this.value=e}}function _E(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let a,h,l=0,g=!1,b=!1;return function(S){let N;l++,!a||g?(g=!1,a=new mE(n,t,i),N=a.subscribe(this),h=S.subscribe({next(Z){a.next(Z)},error(Z){g=!0,a.error(Z)},complete(){b=!0,h=void 0,a.complete()}}),b&&(h=void 0)):N=a.subscribe(this),this.add(()=>{l--,N.unsubscribe(),N=void 0,h&&!b&&e&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(i))}function qb(n,t){return t?ir(()=>n,t):ir(()=>n)}var Zy=F(2639);F(2329);const jb=new Map,yE={activated:!1,tokenObservers:[]},OM={initialized:!1,enabled:!1};function ai(n){return jb.get(n)||yE}function Ro(n,t){jb.set(n,t)}function ac(){return OM}class Dk{constructor(t,e,i,a,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,J.Z)(function*(){e.stop();try{e.pending=new Tt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Tt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ls=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function TE(n){if(!ai(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function CE(n,t){return $b.apply(this,arguments)}function $b(){return($b=(0,J.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(i["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:i};let h,g;try{h=yield fetch(n,l)}catch(N){throw ls.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==h.status)throw ls.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(N){throw ls.create("fetch-parse-error",{originalErrorMessage:N.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(b[1]),S=Date.now();return{token:g.attestationToken,expireTimeMillis:S+C,issuedAtTimeMillis:S}})).apply(this,arguments)}function Ek(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const _m="firebase-app-check-store";let jy=null;function AE(){return jy||(jy=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;t(ls.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{const a=i.target.result;switch(i.oldVersion){case 0:a.createObjectStore(_m,{keyPath:"compositeKey"})}}}catch(e){t(ls.create("storage-open",{originalErrorMessage:e.message}))}}),jy)}function Yb(){return(Yb=(0,J.Z)(function*(n,t){const i=(yield AE()).transaction(_m,"readwrite"),l=i.objectStore(_m).put({compositeKey:n,value:t});return new Promise((h,g)=>{l.onsuccess=b=>{h()},i.onerror=b=>{var C;g(ls.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Xf=new Eu.Yd("@firebase/app-check");function NE(n,t){return(0,Tt.hl)()?function(n,t){return function(n,t){return Yb.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Xf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function bm(){return ac().enabled}function kE(){return RE.apply(this,arguments)}function RE(){return(RE=(0,J.Z)(function*(){const n=ac();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ik={error:"UNKNOWN_ERROR"};function VM(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function Gy(n){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,J.Z)(function*(n,t=!1){const e=n.app;TE(e);const i=ai(e);let l,a=i.token;if(!a){const b=yield i.cachedTokenPromise;b&&zy(b)&&(a=b)}if(!t&&a&&zy(a))return{token:a.token};let g,h=!1;if(bm()){i.exchangeTokenPromise||(i.exchangeTokenPromise=CE(Ek(e,yield kE()),n.platformLoggerProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),h=!0);const b=yield i.exchangeTokenPromise;return yield NE(e,b),Ro(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),h=!0),a=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Xf.warn(b.message):Xf.error(b),l=b}return a?(g={token:a.token},Ro(e,Object.assign(Object.assign({},i),{token:a})),yield NE(e,a)):g=Sk(l),h&&OE(e,g),g})).apply(this,arguments)}function Qb(n,t){const e=ai(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ro(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function qM(n){const{app:t}=n,e=ai(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new Dk((0,J.Z)(function*(){let i;if(i=ai(t).token?yield Gy(n,!0):yield Gy(n),i.error)throw i.error}),()=>!0,()=>{const e=ai(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ro(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function OE(n,t){const e=ai(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(a){}}function zy(n){return n.expireTimeMillis-Date.now()>0}function Sk(n){return{token:VM(Ik),error:n}}class Mk{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=ai(this.app);for(const e of t)Qb(this.app,e.next);return Promise.resolve()}}const LE="app-check-internal";(0,ut._registerComponent)(new ed.wA("app-check",n=>function(n,t){return new Mk(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(LE).initialize()})),(0,ut._registerComponent)(new ed.wA(LE,n=>function(n){return{getToken:t=>Gy(n,t),addTokenListener:t=>function(n,t,e,i){const{app:a}=n,l=ai(a),h={next:e,error:i,type:t};if(Ro(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&zy(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),qM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>qM(n))}(n,"INTERNAL",t),removeTokenListener:t=>Qb(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ut.registerVersion)("@firebase/app-check","0.5.2");class Tm{constructor(){return(0,sn.vb)("app-check")}}"undefined"!=typeof window&&window;const BE=new r.OlP("angularfire2.auth.use-emulator"),Jy=new r.OlP("angularfire2.auth.settings"),jE=new r.OlP("angularfire2.auth.tenant-id"),$i=new r.OlP("angularfire2.auth.langugage-code"),ep=new r.OlP("angularfire2.auth.use-device-language"),Cm=new r.OlP("angularfire.auth.persistence"),aw=(n,t,e,i,a,l,h,g)=>(0,yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=a,l&&b.useDeviceLanguage(),h)for(const[C,S]of Object.entries(h))b.settings[C]=S;return g&&b.setPersistence(g),b},[e,i,a,l,h,g]);let Wu=(()=>{class n{constructor(e,i,a,l,h,g,b,C,S,N,Z,B){const ie=new cn.xQ,ve=(0,$e.of)(void 0).pipe((0,Qf.QV)(h.outsideAngular),ir(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,at.U)(()=>(0,yi.on)(e,l,i)),(0,at.U)(Se=>aw(Se,l,g,C,S,N,b,Z)),_E({bufferSize:1,refCount:!1}));if(ya(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$e.of)(null);else{ve.pipe(Jn()).subscribe();const rt=ve.pipe(ir(ot=>ot.getRedirectResult().then(dn=>dn,()=>null)),sn.iC,_E({bufferSize:1,refCount:!1})),Je=ve.pipe(ir(ot=>new kt.y(dn=>({unsubscribe:l.runOutsideAngular(()=>ot.onAuthStateChanged(Gr=>dn.next(Gr),Gr=>dn.error(Gr),()=>dn.complete()))})))),St=ve.pipe(ir(ot=>new kt.y(dn=>({unsubscribe:l.runOutsideAngular(()=>ot.onIdTokenChanged(Gr=>dn.next(Gr),Gr=>dn.error(Gr),()=>dn.complete()))}))));this.authState=rt.pipe(qb(Je),(0,Zy.R)(h.outsideAngular),(0,Qf.QV)(h.insideAngular)),this.user=rt.pipe(qb(St),(0,Zy.R)(h.outsideAngular),(0,Qf.QV)(h.insideAngular)),this.idToken=this.user.pipe(ir(ot=>ot?(0,mn.D)(ot.getIdToken()):(0,$e.of)(null))),this.idTokenResult=this.user.pipe(ir(ot=>ot?(0,mn.D)(ot.getIdTokenResult()):(0,$e.of)(null))),this.credential=(0,Ly.T)(rt,ie,this.authState.pipe(Pn(ot=>!ot))).pipe((0,at.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,Zy.R)(h.outsideAngular),(0,Qf.QV)(h.insideAngular))}return(0,yi.pX)(this,ve,l,{spy:{apply:(Se,rt,Je)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Je.then(St=>ie.next(St))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(yi.Dh),r.LFG(yi.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(sn.HU),r.LFG(BE,8),r.LFG(Jy,8),r.LFG(jE,8),r.LFG($i,8),r.LFG(ep,8),r.LFG(Cm,8),r.LFG(Tm,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uw=(()=>{class n{constructor(){p_.Z.registerVersion("angularfire",sn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Wu]}),n})();function Dm(n,t){return function(n,t=td.z){return new kt.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function lw(n,t){return Dm(n,t).pipe((0,at.U)(e=>({payload:e,type:"query"})))}function Ky(n,t){return lw(n,t).pipe(Sa(void 0),g_(),(0,at.U)(([e,i])=>{const a=i.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,g)=>{const b=a.find(S=>S.doc.ref.isEqual(h.ref)),C=null==e?void 0:e.payload.docs.find(S=>S.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),l}))}function $E(n,t,e){return Ky(n,e).pipe(_u((i,a)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return cw(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return cw(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return cw(n,t.oldIndex,1)}return n}(n,i))}),n}(i,a.map(l=>l.payload),t),[]),function(n,t){return e=>e.lift(new J0(n,t))}(),(0,at.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function cw(n,t,e,...i){const a=n.slice();return a.splice(t,e,...i),a}function zE(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Ju{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Ky(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,at.U)(i=>i.filter(a=>t.indexOf(a.type)>-1)))),e.pipe(Sa(void 0),g_(),Pn(([i,a])=>a.length>0||!i),(0,at.U)(([i,a])=>a),sn.iC)}auditTrail(t){return this.stateChanges(t).pipe(_u((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=zE(t);return $E(this.query,e,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(t={}){return lw(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),sn.iC)}get(t){return(0,mn.D)(this.query.get(t)).pipe(sn.iC)}add(t){return this.ref.add(t)}doc(t){return new tp(this.ref.doc(t),this.afs)}}class tp{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:a,query:l}=JE(i,e);return new Ju(a,l,this.afs)}snapshotChanges(){return function(n,t){return Dm(n,t).pipe(Sa(void 0),g_(),(0,at.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,at.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,mn.D)(this.ref.get(t)).pipe(sn.iC)}}class dw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Ky(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Pn(e=>e.length>0),sn.iC):Ky(this.query,this.afs.schedulers.outsideAngular).pipe(sn.iC)}auditTrail(t){return this.stateChanges(t).pipe(_u((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=zE(t);return $E(this.query,e,this.afs.schedulers.outsideAngular).pipe(sn.iC)}valueChanges(t={}){return lw(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(i=>i.payload.docs.map(a=>t.idField?Object.assign({[t.idField]:a.id},a.data()):a.data())),sn.iC)}get(t){return(0,mn.D)(this.query.get(t)).pipe(sn.iC)}}const YE=new r.OlP("angularfire2.enableFirestorePersistence"),WE=new r.OlP("angularfire2.firestore.persistenceSettings"),cN=new r.OlP("angularfire2.firestore.settings"),hw=new r.OlP("angularfire2.firestore.use-emulator");function JE(n,t=(e=>e)){return{query:t(n),ref:n}}let Em=(()=>{class n{constructor(e,i,a,l,h,g,b,C,S,N,Z,B,ie,ve,Se,rt,Je){this.schedulers=b;const St=(0,yi.on)(e,g,i),ot=S;N&&aw(St,g,Z,ie,ve,Se,B,rt),[this.firestore,this.persistenceEnabled$]=(0,yi.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const dn=g.runOutsideAngular(()=>St.firestore());if(l&&dn.settings(l),ot&&dn.useEmulator(...ot),a&&!ya(h)){const Gr=()=>{try{return(0,mn.D)(dn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(el){return"undefined"!=typeof console&&console.warn(el),(0,$e.of)(!1)}};return[dn,g.runOutsideAngular(Gr)]}return[dn,(0,$e.of)(!1)]},[l,ot,a])}collection(e,i){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=JE(a,i),g=this.schedulers.ngZone.run(()=>l);return new Ju(g,h,this)}collectionGroup(e,i){const a=i||(h=>h),l=this.firestore.collectionGroup(e);return new dw(a(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>i);return new tp(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(yi.Dh),r.LFG(yi.xv,8),r.LFG(YE,8),r.LFG(cN,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(sn.HU),r.LFG(WE,8),r.LFG(hw,8),r.LFG(Wu,8),r.LFG(BE,8),r.LFG(Jy,8),r.LFG(jE,8),r.LFG($i,8),r.LFG(ep,8),r.LFG(Cm,8),r.LFG(Tm,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KE=(()=>{class n{constructor(){p_.Z.registerVersion("angularfire",sn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:YE,useValue:!0},{provide:WE,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Em]}),n})(),xr=(()=>{class n{constructor(e,i){var a=this;this.afs=e,this.auth=i,this.user=null,this.currUser=null,this.userCollection=e.collection("Users"),this.auth.user.subscribe(function(){var l=(0,J.Z)(function*(h){h?yield a.userExist(h):yield a.userNotExist()});return function(h){return l.apply(this,arguments)}}())}userExist(e){var i=this;return(0,J.Z)(function*(){i.user=e;const a=yield i.getUser(e.uid);a?(i.currUser=a,console.log("Cargo User: ",i.currUser),console.log("user still logged in")):yield i.userNotExist()})()}userNotExist(){var e=this;return(0,J.Z)(function*(){e.user=null,e.currUser=null,console.log("no User")})()}getUser(e){var i=this;return(0,J.Z)(function*(){return i.getAllUser().then(a=>a.find(l=>l.uid===e))})()}getAllUser(){var e=this;return(0,J.Z)(function*(){return e.userCollection.get().toPromise().then(i=>i.docs.map(a=>{const l=a.data();return l.dId=a.id,l}))})()}addUser(e){var i=this;return(0,J.Z)(function*(){const a=i.copyAndPrepareUser(e);yield i.userCollection.add(a).then().catch(l=>{console.log(l)})})()}updateUser(e){var i=this;return(0,J.Z)(function*(){yield i.userCollection.doc(e.dId).update(i.copyAndPrepareUser(e))})()}deleteUser(e){var i=this;return(0,J.Z)(function*(){yield i.userCollection.doc(e.dId).delete()})()}copyAndPrepareUser(e){return Object.assign({},e)}login(e,i){var a=this;return(0,J.Z)(function*(){yield a.auth.signInWithEmailAndPassword(e,i)})()}logout(){var e=this;return(0,J.Z)(function*(){yield e.auth.signOut()})()}deleteAccount(){return(0,J.Z)(function*(){var e;yield null===(e=p_.Z.auth().currentUser)||void 0===e?void 0:e.delete()})()}register(e,i){var a=this;return(0,J.Z)(function*(){yield a.auth.createUserWithEmailAndPassword(e,i)})()}updateEmail(e){var i=this;return(0,J.Z)(function*(){i.user?yield(0,Y0.af)(i.user,e):console.log("user not logged in")})()}updatePassword(e){var i=this;return(0,J.Z)(function*(){i.user?yield(0,Y0.ag)(i.user,e):console.log("user not logged in")})()}deleteCar(e){var i=this;return(0,J.Z)(function*(){if(i.currUser){const a=i.currUser.car.indexOf(e,0);i.currUser.car.splice(a,1),yield i.updateUser(i.currUser)}})()}addCar(e){var i=this;return(0,J.Z)(function*(){i.currUser&&(i.currUser.car.push(e),yield i.updateUser(i.currUser))})()}addMoney(e){var i=this;return(0,J.Z)(function*(){i.currUser&&(i.currUser.money+=e,yield i.updateUser(i.currUser))})()}subMoney(e){var i=this;return(0,J.Z)(function*(){i.currUser&&(i.currUser.money-=e,yield i.updateUser(i.currUser))})()}addEvaluation(e){var i=this;return(0,J.Z)(function*(){i.currUser&&(i.currUser.evaluation+=e,i.currUser.evaluationCounter+=1,yield i.updateUser(i.currUser))})()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Em),r.LFG(Wu))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var dN=F(9105);function jn(n,t,e,i){return(0,dN.m)(e)&&(i=e,e=void 0),i?jn(n,t,e).pipe((0,at.U)(a=>(0,bs.k)(a)?i(...a):i(a))):new kt.y(a=>{np(n,t,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function np(n,t,e,i,a){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,a),l=()=>h.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),l=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),l=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,g=n.length;h<g;h++)np(n[h],t,e,i,a)}i.add(l)}var QE=F(6561);function hN(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}class eA{call(t,e){return e.subscribe(new tA(t))}}class tA extends gu{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const l=Fc(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==i){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}var nA=F(8640);new kt.y(nA.Z);var e0=F(377);function Am(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,_o.n)(n,void 0).lift(new zd(t))}class zd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pw(t,this.resultSelector))}}class pw extends Wn.L{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,bs.k)(t)?e.push(new pN(t)):e.push("function"==typeof t[e0.hZ]?new fN(t[e0.hZ]()):new Zk(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let a=t[i];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let h=0;h<e;h++){let g=t[h];if("function"==typeof g.hasValue&&!g.hasValue())return}let a=!1;const l=[];for(let h=0;h<e;h++){let g=t[h],b=g.next();if(g.hasCompleted()&&(a=!0),b.done)return void i.complete();l.push(b.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),a&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class fN{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class pN{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[e0.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Zk extends fi.Ds{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[e0.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,fi.ft)(this.observable,new fi.IY(this))}}function br(n){return t=>t.lift(new Vk(n))}class Vk{constructor(t){this.notifier=t}call(t,e){const i=new gN(t),a=(0,fi.ft)(this.notifier,new fi.IY(i));return a&&!i.seenValue?(i.add(a),e.subscribe(i)):i}}class gN extends fi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function gw(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new qk(n,e))}}class qk{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Bk(t,this.observables,this.project))}}class Bk extends gu{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(Fc(this,e[l],void 0,l))}notifyNext(t,e,i){this.values[i]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(i);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}F(1593),F(8819);var c=F(1555);function f(n,t){return new kt.y(e=>{const i=n.length;if(0===i)return void e.complete();const a=new Array(i);let l=0,h=0;for(let g=0;g<i;g++){const b=(0,mn.D)(n[g]);let C=!1;e.add(b.subscribe({next:S=>{C||(C=!0,h++),a[g]=S},error:S=>e.error(S),complete:()=>{l++,(l===i||!C)&&(h===i&&e.next(t?t.reduce((S,N,Z)=>(S[N]=a[Z],S),{}):a),e.complete())}}))}})}let m=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),y=(()=>{class n extends m{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const w=new r.OlP("NgValueAccessor"),E={provide:w,useExisting:(0,r.Gpc)(()=>I),multi:!0};let I=(()=>{class n extends y{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[r._Bn([E]),r.qOj]}),n})();const R={provide:w,useExisting:(0,r.Gpc)(()=>Y),multi:!0},j=new r.OlP("CompositionEventMode");let Y=(()=>{class n extends m{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(j,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[r._Bn([R]),r.qOj]}),n})();const Ae=new r.OlP("NgValidators"),_e=new r.OlP("NgAsyncValidators");function n0(n){return null!=n}function r0(n){const t=(0,r.QGY)(n)?(0,mn.D)(n):n;return(0,r.CqO)(t),t}function s0(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function zk(n,t){return t.map(e=>e(n))}function Yk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function _N(n){return null!=n?function(n){if(!n)return null;const t=n.filter(n0);return 0==t.length?null:function(e){return s0(zk(e,t))}}(Yk(n)):null}function yN(n){return null!=n?function(n){if(!n)return null;const t=n.filter(n0);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,bs.k)(t))return f(t,null);if((0,c.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return f(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return f(n=1===n.length&&(0,bs.k)(n[0])?n[0]:n,null).pipe((0,at.U)(e=>t(...e)))}return f(n,null)}(zk(e,t).map(r0)).pipe((0,at.U)(s0))}}(Yk(n)):null}function Kk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Qk(n){return n._rawValidators}function Xk(n){return n._rawAsyncValidators}function vN(n){return n?Array.isArray(n)?n:[n]:[]}function sA(n,t){return Array.isArray(n)?n.includes(t):n===t}function eR(n,t){const e=vN(t);return vN(n).forEach(a=>{sA(e,a)||e.push(a)}),e}function tR(n,t){return vN(t).filter(e=>!sA(n,e))}let nR=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n}),n})(),no=(()=>{class n extends nR{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();class op extends nR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rR{constructor(t){this._cd=t}is(t){var e,i,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[t])}}let Ka=(()=>{class n extends rR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(op,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})(),bN=(()=>{class n extends rR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(no,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),n})();function aA(n,t){return[...t.path,n]}function mw(n,t){CN(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iR(n,t)})}(n,t),function(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function uA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),cA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function CN(n,t){const e=Qk(n);null!==t.validator?n.setValidators(Kk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Xk(n);null!==t.asyncValidator?n.setAsyncValidators(Kk(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();lA(t._rawValidators,a),lA(t._rawAsyncValidators,a)}function cA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Qk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.validator);l.length!==a.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const a=Xk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.asyncValidator);l.length!==a.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return lA(t._rawValidators,i),lA(t._rawAsyncValidators,i),e}function iR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sR(n,t){CN(n,t)}function DN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function oR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function EN(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(l=>{l.constructor===Y?e=l:function(n){return Object.getPrototypeOf(n.constructor)===y}(l)?i=l:a=l}),a||i||e||null}function dA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const _w="VALID",hA="INVALID",o0="PENDING",yw="DISABLED";function AN(n){return(SN(n)?n.validators:n)||null}function aR(n){return Array.isArray(n)?_N(n):n||null}function IN(n,t){return(SN(t)?t.asyncValidators:n)||null}function uR(n){return Array.isArray(n)?yN(n):n||null}function SN(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class MN{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=aR(this._rawValidators),this._composedAsyncValidatorFn=uR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_w}get invalid(){return this.status===hA}get pending(){return this.status==o0}get disabled(){return this.status===yw}get enabled(){return this.status!==yw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=aR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=uR(t)}addValidators(t){this.setValidators(eR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tR(t,this._rawAsyncValidators))}hasValidator(t){return sA(this._rawValidators,t)}hasAsyncValidator(t){return sA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=o0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_w,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_w||this.status===o0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yw:_w}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=o0,this._hasOwnPendingAsyncValidator=!0;const e=r0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(a=>{i=i instanceof fA?i.controls.hasOwnProperty(a)?i.controls[a]:null:i instanceof zO&&i.at(a)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?yw:this.errors?hA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o0)?o0:this._anyControlsHaveStatus(hA)?hA:_w}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){SN(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ap extends MN{constructor(t=null,e,i){super(AN(e),IN(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class fA extends MN{constructor(t,e,i){super(AN(e),IN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ap?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,l)=>{i=e(i,a,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class zO extends MN{constructor(t,e,i){super(AN(e),IN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ap?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const YO={provide:no,useExisting:(0,r.Gpc)(()=>pA)},vw=(()=>Promise.resolve(null))();let pA=(()=>{class n extends no{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new fA({},_N(e),yN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){vw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),mw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){vw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),dA(this._directives,e)})}addFormGroup(e){vw.then(()=>{const i=this._findContainer(e.path),a=new fA({});sR(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){vw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){vw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,oR(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ae,10),r.Y36(_e,10))},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([YO]),r.qOj]}),n})();const JO={provide:op,useExisting:(0,r.Gpc)(()=>Qa)},dR=(()=>Promise.resolve(null))();let Qa=(()=>{class n extends op{constructor(e,i,a,l){super(),this.control=new ap,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=EN(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),DN(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?aA(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){dR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=""===i||i&&"false"!==i;dR.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(no,9),r.Y36(Ae,10),r.Y36(_e,10),r.Y36(w,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([JO]),r.qOj,r.TTD]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const KO={provide:w,useExisting:(0,r.Gpc)(()=>xN),multi:!0};let xN=(()=>{class n extends y{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([KO]),r.qOj]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const eP={provide:w,useExisting:(0,r.Gpc)(()=>gA),multi:!0};let gA=(()=>{class n extends y{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(l){return i.onChange(l.target.value)})("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[r._Bn([eP]),r.qOj]}),n})();const kN=new r.OlP("NgModelWithFormControlWarning"),nP={provide:no,useExisting:(0,r.Gpc)(()=>mA)};let mA=(()=>{class n extends no{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return mw(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){uA(e.control||null,e,!1),dA(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,oR(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(uA(i||null,e),a instanceof ap&&(mw(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);sR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return cA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CN(this.form,this),this._oldForm&&cA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ae,10),r.Y36(_e,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([nP]),r.qOj,r.TTD]}),n})();const sP={provide:op,useExisting:(0,r.Gpc)(()=>PN)};let PN=(()=>{class n extends op{constructor(e,i,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=EN(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),DN(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return aA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(no,13),r.Y36(Ae,10),r.Y36(_e,10),r.Y36(w,10),r.Y36(kN,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([sP]),r.qOj,r.TTD]}),n._ngModelWarningSentOnce=!1,n})();const oP={provide:w,useExisting:(0,r.Gpc)(()=>Kd),multi:!0};function mR(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Kd=(()=>{class n extends y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const a=mR(i,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([oP]),r.qOj]}),n})(),uc=(()=>{class n{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Kd,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const uP={provide:w,useExisting:(0,r.Gpc)(()=>FN),multi:!0};function _R(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let FN=(()=>{class n extends y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));i=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else i=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const a=[];if(void 0!==i.selectedOptions){const l=i.selectedOptions;for(let h=0;h<l.length;h++){const g=l.item(h),b=this._getOptionValue(g.value);a.push(b)}}else{const l=i.options;for(let h=0;h<l.length;h++){const g=l.item(h);if(g.selected){const b=this._getOptionValue(g.value);a.push(b)}}}this.value=a,e(a)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([uP]),r.qOj]}),n})(),lc=(()=>{class n{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(FN,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hP={provide:Ae,useExisting:(0,r.Gpc)(()=>_A),multi:!0};let _A=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[r._Bn([hP])]}),n})(),IR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[hR]]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[IR]}),n})(),yP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kN,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[IR]}),n})();function AP(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",1),r.NdJ("click",function(){return r.CHM(e),r.oxw().close()}),r.TgZ(1,"span",2),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}const a0=["*"],oF=["dialog"];function BF(n,t){1&n&&r._uU(0),2&n&&r.Oqu(100===t.fill?"\u2605":"\u2606")}function jF(n,t){}function HF(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",2),r._uU(1),r.qZA(),r.TgZ(2,"span",3),r.NdJ("mouseenter",function(){const l=r.CHM(e).index;return r.oxw().enter(l+1)})("click",function(){const l=r.CHM(e).index;return r.oxw().handleClick(l+1)}),r.YNc(3,jF,0,0,"ng-template",4),r.qZA()}if(2&n){const e=t.index,i=r.oxw(),a=r.MAs(1);r.xp6(1),r.hij("(",e<i.nextRate?"*":" ",")"),r.xp6(1),r.Udp("cursor",i.isInteractive()?"pointer":"default"),r.xp6(1),r.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||a)("ngTemplateOutletContext",i.contexts[e])}}function yA(n,t,e=0){return Math.max(Math.min(n,t),e)}function up(n){return null!=n}function l0(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const xR={animation:!0,transitionTimerDelayMs:5};let Gi=(()=>{class n{constructor(){this.animation=xR.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const y3=()=>{},{transitionTimerDelayMs:v3}=xR,ww=new Map,Mi=(n,t,e,i)=>{let a=i.context||{};const l=ww.get(t);if(l)switch(i.runningTransition){case"continue":return Jr.E;case"stop":n.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),ww.delete(t)}const h=e(t,i.animation,a)||y3;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>h()),(0,$e.of)(void 0).pipe(function(n){return t=>new kt.y(e=>t.subscribe(h=>n.run(()=>e.next(h)),h=>n.run(()=>e.error(h)),()=>n.run(()=>e.complete())))}(n));const g=new cn.xQ,b=new cn.xQ,C=g.pipe(function(...n){return t=>es(t,(0,$e.of)(...n))}(!0));ww.set(t,{transition$:g,complete:()=>{b.next(),b.complete()},context:a});const S=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const N=jn(t,"transitionend").pipe(br(C),Pn(({target:B})=>B===t));(function(...n){if(1===n.length){if(!(0,bs.k)(n[0]))return n[0];n=n[0]}return(0,_o.n)(n,void 0).lift(new eA)})(function(n=0,t,e){let i=-1;return(0,QE.k)(t)?i=Number(t)<1?1:Number(t):(0,pu.K)(t)&&(e=t),(0,pu.K)(e)||(e=td.P),new kt.y(a=>{const l=(0,QE.k)(n)?n:+n-e.now();return e.schedule(hN,l,{index:0,period:i,subscriber:a})})}(S+v3).pipe(br(C)),N,b).pipe(br(C)).subscribe(()=>{ww.delete(t),n.run(()=>{h(),g.next(),g.complete()})})}),g.asObservable()};let FR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),C3=(()=>{class n{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Gi))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Gi))},token:n,providedIn:"root"}),n})();const D3=({classList:n})=>{n.remove("show")};let E3=(()=>{class n{constructor(e,i,a,l){this._renderer=i,this._element=a,this._zone=l,this.closed=new r.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=Mi(this._zone,this._element.nativeElement,D3,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const i=e.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(C3),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{dismissible:"dismissible",type:"type",animation:"animation"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[r.TTD],ngContentSelectors:a0,decls:2,vars:1,consts:function(){let t;return t=$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,[["type","button","class","close","aria-label",t,3,"click",4,"ngIf"],["type","button","aria-label",t,1,"close",3,"click"],["aria-hidden","true"]]},template:function(e,i){1&e&&(r.F$t(),r.Hsn(0),r.YNc(1,AP,3,0,"button",0)),2&e&&(r.xp6(1),r.Q6J("ngIf",i.dismissible))},directives:[Zt],styles:["ngb-alert{display:block}"],encapsulation:2,changeDetection:0}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var Yt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Yt||(Yt={})),Yt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function WR(n){const t=Array.from(n.querySelectorAll(YR)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const l=this.offsetParent(t);i=this.offset(t,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,i,a){const[l="top",h="center"]=i.split("-"),g=a?this.offset(t,!1):this.position(t,!1),b=this.getAllStyles(e),C=parseFloat(b.marginTop),S=parseFloat(b.marginBottom),N=parseFloat(b.marginLeft),Z=parseFloat(b.marginRight);let B=0,ie=0;switch(l){case"top":B=g.top-(e.offsetHeight+C+S);break;case"bottom":B=g.top+g.height;break;case"left":ie=g.left-(e.offsetWidth+N+Z);break;case"right":ie=g.left+g.width}switch(h){case"top":B=g.top;break;case"bottom":B=g.top+g.height-e.offsetHeight;break;case"left":ie=g.left;break;case"right":ie=g.left+g.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?ie=g.left+g.width/2-e.offsetWidth/2:B=g.top+g.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(ie)}px, ${Math.round(B)}px)`;const ve=e.getBoundingClientRect(),Se=document.documentElement,rt=window.innerHeight||Se.clientHeight,Je=window.innerWidth||Se.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=Je&&ve.bottom<=rt}},new Date(1882,10,12),new Date(2174,10,25);let s2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr,SR]]}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),c2=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Gi))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(Gi))},token:n,providedIn:"root"}),n})();class xm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const _L=()=>{};let d2=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):_L}_adjustBody(e){const i=this._document.body,a=i.style.paddingRight,l=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${l+e}px`,()=>i.style["padding-right"]=a}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),a}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(de))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(de))},token:n,providedIn:"root"}),n})(),yL=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(pi(1)).subscribe(()=>{Mi(this._zone,this._el.nativeElement,(e,i)=>{i&&l0(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(r.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),r.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class cp{close(t){}dismiss(t){}}class vL{constructor(t,e,i,a){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new cn.xQ,this._dismissed=new cn.xQ,this._hidden=new cn.xQ,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(br(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(br(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,$e.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Am(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Iw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Iw||(Iw={})),Iw))();let bL=(()=>{class n{constructor(e,i,a){this._document=e,this._elRef=i,this._zone=a,this._closed$=new cn.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new cn.xQ,this.hidden=new cn.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=Am(Mi(this._zone,e,()=>e.classList.remove("show"),i),Mi(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Am(Mi(this._zone,this._elRef.nativeElement,(l,h)=>{h&&l0(l),l.classList.add("show")},e),Mi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{jn(e,"keydown").pipe(br(this._closed$),Pn(a=>a.which===Yt.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(Iw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;jn(this._dialogEl.nativeElement,"mousedown").pipe(br(this._closed$),(0,Kn.b)(()=>i=!1),ir(()=>jn(e,"mouseup").pipe(br(this._closed$),pi(1))),Pn(({target:a})=>e===a)).subscribe(()=>{i=!0}),jn(e,"click").pipe(br(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Iw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),a=WR(e)[0];(i||a||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(de),r.Y36(r.SBq),r.Y36(r.R0b))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&r.Gf(oF,7),2&e){let a;r.iGM(a=r.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),r.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),r.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:a0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&e&&r.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),h2=(()=>{class n{constructor(e,i,a,l,h,g){this._applicationRef=e,this._injector=i,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new cn.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const a=jn(t,"focusin").pipe(br(e),(0,at.U)(l=>l.target));jn(t,"keydown").pipe(br(e),Pn(l=>l.which===Yt.Tab),gw(a)).subscribe(([l,h])=>{const[g,b]=WR(t);(h===g||h===t)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(g.focus(),l.preventDefault())}),i&&jn(t,"click").pipe(br(e),gw(a),(0,at.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(e,i,a,l){const h=l.container instanceof HTMLElement?l.container:up(l.container)?this._document.querySelector(l.container):this._document.body,g=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),C=()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const S=new cp,N=this._getContentRef(e,l.injector||i,a,S,l);let Z=!1!==l.backdrop?this._attachBackdrop(e,h):void 0,B=this._attachWindowComponent(e,h,N),ie=new vL(B,N,Z,l.beforeDismiss);return this._registerModalRef(ie),this._registerWindowCmpt(B),ie.result.then(b,b),ie.result.then(C,C),S.close=ve=>{ie.close(ve)},S.dismiss=ve=>{ie.dismiss(ve)},this._applyWindowOptions(B.instance,l),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),Z&&Z.instance&&(this._applyBackdropOptions(Z.instance,l),Z.changeDetectorRef.detectChanges()),B.changeDetectorRef.detectChanges(),ie}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let l=e.resolveComponentFactory(yL).create(this._injector);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,i,a){let h=e.resolveComponentFactory(bL).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),i.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,i){this._windowAttributes.forEach(a=>{up(i[a])&&(e[a]=i[a])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(a=>{up(i[a])&&(e[a]=i[a])})}_getContentRef(e,i,a,l,h){return a?a instanceof r.Rgc?this._createFromTemplateRef(a,l):function(n){return"string"==typeof n}(a)?this._createFromString(a):this._createFromComponent(e,i,a,l,h):new xm([])}_createFromTemplateRef(e,i){const l=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(l),new xm([l.rootNodes],l)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new xm([[i]])}_createFromComponent(e,i,a,l,h){const g=e.resolveComponentFactory(a),b=r.zs3.create({providers:[{provide:cp,useValue:l}],parent:i}),C=g.create(b),S=C.location.nativeElement;return h.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(C.hostView),new xm([[S]],C.hostView,C)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(de),r.LFG(d2),r.LFG(r.FYo),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(de),r.LFG(d2),r.LFG(r.FYo),r.LFG(r.R0b))},token:n,providedIn:"root"}),n})(),Sw=(()=>{class n{constructor(e,i,a,l){this._moduleCFR=e,this._injector=i,this._modalStack=a,this._config=l}open(e,i={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(h2),r.LFG(c2))},n.\u0275prov=r.Yz7({factory:function(){return new n(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(h2),r.LFG(c2))},token:n,providedIn:"root"}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Sw]}),n})(),_2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),LL=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),ZL=(()=>{class n{constructor(e,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new r.vpe,this.leave=new r.vpe,this.rateChange=new r.vpe(!0),this.onChange=a=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case Yt.ArrowDown:case Yt.ArrowLeft:this.update(this.rate-1);break;case Yt.ArrowUp:case Yt.ArrowRight:this.update(this.rate+1);break;case Yt.Home:this.update(0);break;case Yt.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,i)=>({fill:0,index:i})),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,i=!0){const a=yA(e,this.max,0);this.isInteractive()&&this.rate!==a&&(this.rate=a,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((i,a)=>i.fill=Math.round(100*yA(e-a,1,0)))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(LL),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(e,i,a){if(1&e&&r.Suo(a,r.Rgc,5),2&e){let l;r.iGM(l=r.CRH())&&(i.starTemplateFromContent=l.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,i){1&e&&r.NdJ("blur",function(){return i.handleBlur()})("keydown",function(l){return i.handleKeyDown(l)})("mouseleave",function(){return i.reset()}),2&e&&(r.Ikx("tabindex",i.disabled?-1:0),r.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[r._Bn([{provide:w,useExisting:(0,r.Gpc)(()=>n),multi:!0}]),r.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(r.YNc(0,BF,1,1,"ng-template",null,0,r.W1O),r.YNc(2,HF,4,5,"ng-template",1)),2&e&&(r.xp6(2),r.Q6J("ngForOf",i.contexts))},directives:[ct,Ur],encapsulation:2,changeDetection:0}),n})(),N2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),P2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})(),F2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let U2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[mr]]}),n})();const iZ=[FR,LR,UR,BR,jR,s2,l2,f2,_2,E2,S2,M2,N2,O2,P2,F2,U2];let sZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[iZ,FR,LR,UR,BR,jR,s2,l2,f2,_2,E2,S2,M2,N2,O2,P2,F2,U2]}),n})();function oZ(n,t){if(1&n&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.lastnameMessage)}}function aZ(n,t){if(1&n&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.firstnameMessage)}}function uZ(n,t){if(1&n&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.genderMessage)}}function lZ(n,t){if(1&n&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.birthdayMessage)}}function cZ(n,t){if(1&n&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.usernameMessage)}}function dZ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",16),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",17),r.TgZ(4,"div",18),r.TgZ(5,"label",19),r._uU(6,"Nachname"),r.qZA(),r.TgZ(7,"input",20,21),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().userData.currUser.lastname=a})("keydown",function(){r.CHM(e);const a=r.MAs(8);return r.oxw().validLastname(a.value)})("keydown.enter",function(){return r.CHM(e),r.oxw().inputCheck()}),r.qZA(),r.YNc(9,oZ,2,1,"div",22),r.qZA(),r.qZA(),r.TgZ(10,"div",17),r.TgZ(11,"div",18),r.TgZ(12,"label",23),r._uU(13,"Vorname"),r.qZA(),r.TgZ(14,"input",24,25),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().userData.currUser.firstname=a})("keydown",function(){r.CHM(e);const a=r.MAs(15);return r.oxw().validFirstname(a.value)})("keydown.enter",function(){return r.CHM(e),r.oxw().inputCheck()}),r.qZA(),r.YNc(16,aZ,2,1,"div",22),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",2),r.TgZ(18,"div",17),r.TgZ(19,"div",18),r.TgZ(20,"label",26),r._uU(21,"Geschlecht"),r.qZA(),r.TgZ(22,"select",27,28),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().userData.currUser.gender=a})("change",function(){r.CHM(e);const a=r.MAs(23);return r.oxw().validGender(a.value)})("keydown.enter",function(){return r.CHM(e),r.oxw().inputCheck()}),r._UZ(24,"option",29),r.TgZ(25,"option",30),r._uU(26,"Weiblich"),r.qZA(),r.TgZ(27,"option",31),r._uU(28,"M\xe4nnlich"),r.qZA(),r.TgZ(29,"option",32),r._uU(30,"Divers"),r.qZA(),r.qZA(),r.YNc(31,uZ,2,1,"div",22),r.qZA(),r.qZA(),r.TgZ(32,"div",17),r.TgZ(33,"div",18),r.TgZ(34,"label",33),r._uU(35,"Geburtstag"),r.qZA(),r.TgZ(36,"input",34,35),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().userData.currUser.birthday=a})("change",function(){r.CHM(e);const a=r.MAs(37);return r.oxw().validBirthday(a.value)})("keydown.enter",function(){return r.CHM(e),r.oxw().inputCheck()}),r.qZA(),r.YNc(38,lZ,2,1,"div",22),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div",2),r.TgZ(40,"div",17),r.TgZ(41,"div",18),r.TgZ(42,"label",36),r._uU(43,"Nutzername"),r.qZA(),r.TgZ(44,"input",37,38),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().userData.currUser.username=a})("keydown",function(){r.CHM(e);const a=r.MAs(45);return r.oxw().validUsername(a.value)})("keydown.enter",function(){return r.CHM(e),r.oxw().inputCheck()}),r.qZA(),r.YNc(46,cZ,2,1,"div",22),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(7),r.Gre("form-control ",e.wrongLastname,""),r.Q6J("ngModel",e.userData.currUser.lastname),r.xp6(2),r.Q6J("ngIf",""!==e.lastnameMessage),r.xp6(5),r.Gre("form-control ",e.wrongFirstname,""),r.Q6J("ngModel",e.userData.currUser.firstname),r.xp6(2),r.Q6J("ngIf",""!==e.firstnameMessage),r.xp6(6),r.Gre("form-control ",e.wrongGender,""),r.Q6J("ngModel",e.userData.currUser.gender),r.xp6(9),r.Q6J("ngIf",""!==e.genderMessage),r.xp6(5),r.Gre("form-control ",e.wrongBirthday,""),r.Q6J("ngModel",e.userData.currUser.birthday),r.xp6(2),r.Q6J("ngIf",""!==e.birthdayMessage),r.xp6(6),r.Gre("form-control ",e.wrongUsername,""),r.Q6J("ngModel",e.userData.currUser.username),r.xp6(2),r.Q6J("ngIf",""!==e.usernameMessage)}}let hZ=(()=>{class n{constructor(e,i){var a,l,h,g,b;this.activeModal=e,this.userData=i,this.firstname=(null===(a=this.userData.currUser)||void 0===a?void 0:a.firstname)?this.userData.currUser.firstname:"",this.lastname=(null===(l=this.userData.currUser)||void 0===l?void 0:l.lastname)?this.userData.currUser.lastname:"",this.username=(null===(h=this.userData.currUser)||void 0===h?void 0:h.username)?this.userData.currUser.username:"",this.birthday=(null===(g=this.userData.currUser)||void 0===g?void 0:g.birthday)?this.userData.currUser.birthday:void 0,this.gender=(null===(b=this.userData.currUser)||void 0===b?void 0:b.gender)?this.userData.currUser.gender:"",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongRepeatPasswordClass="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordRepeatMessage=""}updateUser(){var e=this;return(0,J.Z)(function*(){e.userData.currUser&&(yield e.userData.updateUser(e.userData.currUser))})()}inputCheck(){var e=this;return(0,J.Z)(function*(){e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday?yield e.updateUser():(0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validGender(e){e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-update-user"]],decls:23,vars:1,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],["class","modal-body border-0",4,"ngIf"],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],[1,"text-danger"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6,"Update"),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(12,dZ,47,25,"div",10),r.TgZ(13,"div",11),r.TgZ(14,"div",1),r.TgZ(15,"div",12),r.TgZ(16,"div",13),r.TgZ(17,"button",14),r.NdJ("click",function(){return i.inputCheck()})("click",function(){return i.updateUser()})("click",function(){return i.activeModal.dismiss()}),r._uU(18," Speichern "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"div",13),r.TgZ(21,"button",15),r.NdJ("click",function(){return i.activeModal.dismiss()}),r._uU(22,"Abbrechen "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(12),r.Q6J("ngIf",i.userData.currUser))},directives:[Zt,Y,Ka,Qa,Kd,uc,lc],styles:[""]}),n})(),Qd=(()=>{class n{constructor(){this.alerts=[]}showAlert(e){this.alerts.length>0&&this.alerts.pop(),this.alerts.push(e),this.closeAlert(e)}closeAlert(e){setTimeout(()=>{this.alerts.includes(e)&&this.alerts.splice(this.alerts.indexOf(e),1)},5e3)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fZ=(()=>{class n{constructor(){this.amount=0,this.chosenAmount=new r.vpe}chosenMe(e){this.chosenAmount.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-load-money-button"]],inputs:{amount:"amount"},outputs:{chosenAmount:"chosenAmount"},decls:8,vars:1,consts:[[1,"container","shadow","bg-white","rounded","cursor",3,"click"],[1,"row"],[1,"col"],["src","../../../../assets/img/Icons/money_icon.png","alt","money",1,"infoicon"],[1,"row","flex","align-items-center"],[2,"color","#005B51","text-align","center"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.NdJ("click",function(){return i.chosenMe(i.amount)}),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"img",3),r.qZA(),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"div",2),r.TgZ(6,"h3",5),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(7),r.hij("",i.amount,"\u20ac"))},styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-10px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:8em;width:9em}.cursor[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]{height:10em}.flex[_ngcontent-%COMP%]{display:flex}h3[_ngcontent-%COMP%]{margin-top:1.5rem}"]}),n})(),pZ=(()=>{class n{constructor(e,i,a){this.activeModal=e,this.userData=i,this.alert=a,this.smallAmount=20,this.midAmount=100,this.bigAmount=250,this.hugeAmount=500,this.chosenAmount=0}newAmountValue(e){this.chosenAmount=e,console.log(this.chosenAmount)}addMoney(){this.userData.addMoney(this.chosenAmount),this.activeModal.dismiss(),this.alert.showAlert({type:"success",message:`Du hast erfolgreich ${this.chosenAmount}\u20ac aufgeladen!`})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(xr),r.Y36(Qd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-money"]],decls:32,vars:5,consts:[[1,"modal-header","modal-lg","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute","padding-top","5px","padding-right","20px",3,"click"],["aria-hidden","true",1,"btn","btn-primary","btn-danger","justify-content-center"],[1,"modal-body","border-0"],[1,"container","form-controll"],[1,"row","m-2"],[1,"col-6"],[3,"amount","chosenAmount"],[1,"row",2,"padding-inline","15px","margin","15px"],[1,"col","text-center"],[1,"logoGreenDark",2,"margin-top","8px"],[1,"col"],[1,"btn","btn-success","btn-block",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6,"Geld aufladen"),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",10),r.TgZ(13,"div",11),r.TgZ(14,"div",12),r.TgZ(15,"div",13),r.TgZ(16,"app-load-money-button",14),r.NdJ("chosenAmount",function(l){return i.newAmountValue(l)}),r.qZA(),r.qZA(),r.TgZ(17,"div",13),r.TgZ(18,"app-load-money-button",14),r.NdJ("chosenAmount",function(l){return i.newAmountValue(l)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"div",13),r.TgZ(21,"app-load-money-button",14),r.NdJ("chosenAmount",function(l){return i.newAmountValue(l)}),r.qZA(),r.qZA(),r.TgZ(22,"div",13),r.TgZ(23,"app-load-money-button",14),r.NdJ("chosenAmount",function(l){return i.newAmountValue(l)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(24,"hr"),r.TgZ(25,"div",15),r.TgZ(26,"div",16),r.TgZ(27,"h5",17),r._uU(28),r.qZA(),r.qZA(),r.TgZ(29,"div",18),r.TgZ(30,"button",19),r.NdJ("click",function(){return i.addMoney()}),r._uU(31,"Aufladen"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(16),r.Q6J("amount",i.smallAmount),r.xp6(2),r.Q6J("amount",i.midAmount),r.xp6(3),r.Q6J("amount",i.bigAmount),r.xp6(2),r.Q6J("amount",i.hugeAmount),r.xp6(5),r.hij("",i.chosenAmount,"\u20ac ausgew\xe4hlt"))},directives:[fZ],styles:[""]}),n})();function gZ(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Tol(e.emailColor),r.xp6(1),r.Oqu(e.emailMessage)}}function mZ(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Tol(e.passwordColor),r.xp6(1),r.Oqu(e.passwordMessage)}}function _Z(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Tol(e.passwordColor),r.xp6(1),r.Oqu(e.passwordRepeatMessage)}}let yZ=(()=>{class n{constructor(e,i,a){this.activeModal=e,this.userData=i,this.alertData=a,this.email="",this.password="",this.repeatPassword="",this.wrongEmailClass="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailColor="",this.passwordColor="",this.emailMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}ngOnInit(){this.userData.user&&(this.email=this.userData.user.email?this.userData.user.email:"")}inputEmail(){var e=this;return(0,J.Z)(function*(){if(e.email.trim().length>0)try{yield e.userData.updateEmail(e.email),e.wrongEmailClass="border-success",e.emailMessage="E-Mail erfolgreich ge\xe4ndert",e.emailColor="text-success"}catch(i){"auth/invalid-email"===i.code&&(e.emailMessage="E-Mail ist nicht richtig formatiert",e.wrongEmailClass="border-danger",e.emailColor="text-danger"),"auth/requires-recent-login"===i.code&&(e.alertData.showAlert({type:"danger",message:"Sie m\xfcssen sich erneut anmelden, um diese Aktion durchzuf\xfchren"}),e.activeModal.dismiss())}else e.emailMessage="Geben Sie Ihre E-Mail an",e.wrongEmailClass="border-danger",e.emailColor="text-danger"})()}inputPassword(){var e=this;return(0,J.Z)(function*(){if(e.password.trim().length>0&&e.password===e.repeatPassword)try{yield e.userData.updatePassword(e.password),e.wrongPasswordClass="border-success",e.wrongRepeatPasswordClass="border-success",e.passwordColor="text-success",e.passwordRepeatMessage="Passwort erfolgreich ge\xe4ndert"}catch(i){"auth/weak-password"===i.code&&(e.passwordMessage="Das Passwort ist zu kurz",e.wrongPasswordClass="border-danger",e.passwordColor="text-danger"),"auth/requires-recent-login"===i.code&&(e.alertData.showAlert({type:"danger",message:"Sie m\xfcssen sich erneut anmelden, um diese Aktion durchzuf\xfchren"}),e.activeModal.dismiss())}else 0===e.password.trim().length&&(e.passwordMessage="Geben Sie ein Passwort an",e.wrongPasswordClass="border-danger",e.passwordColor="text-danger"),0===e.repeatPassword.trim().length&&(e.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",e.wrongRepeatPasswordClass="border-danger",e.passwordColor="text-danger"),e.repeatPassword!==e.password&&(e.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",e.wrongRepeatPasswordClass="border-danger",e.passwordColor="text-danger")})()}validEmail(e){e.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validPassword(e){e.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validRepeatPassword(e){e.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(xr),r.Y36(Qd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-edit-account"]],decls:42,vars:15,consts:[[1,"container"],[1,"modal-header","border-0"],[1,"row"],[1,"col-2"],[1,"col-8","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-1"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute","padding-top","5px","padding-right","20px",3,"click"],["aria-hidden","true",1,"btn","btn-primary","btn-danger","justify-content-center"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],[3,"class",4,"ngIf"],[1,"col","text-center"],[1,"btn","btn-success",3,"click"],[1,"form-group","col-12"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],["type","password","id","repeatPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["rpassw",""],[1,"row","mb-3"]],template:function(e,i){if(1&e){const a=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",0),r.TgZ(3,"div",2),r._UZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r._uU(7,"Account verwalten"),r.qZA(),r.qZA(),r._UZ(8,"div",6),r.TgZ(9,"div",7),r.TgZ(10,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(11,"span",9),r._uU(12,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",2),r.TgZ(14,"div",10),r.TgZ(15,"label",11),r._uU(16,"Email"),r.qZA(),r.TgZ(17,"input",12,13),r.NdJ("keydown",function(){r.CHM(a);const h=r.MAs(18);return i.validEmail(h.value)})("keydown.enter",function(){return i.inputEmail()})("ngModelChange",function(h){return i.email=h}),r.qZA(),r.YNc(19,gZ,2,4,"div",14),r.qZA(),r.qZA(),r.TgZ(20,"div",2),r.TgZ(21,"div",15),r.TgZ(22,"button",16),r.NdJ("click",function(){return i.inputEmail()}),r._uU(23,"E-Mail \xe4ndern"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",2),r.TgZ(25,"div",17),r.TgZ(26,"label",18),r._uU(27,"Password"),r.qZA(),r.TgZ(28,"input",19,20),r.NdJ("keypress",function(){r.CHM(a);const h=r.MAs(29);return i.validPassword(h.value)})("keydown.enter",function(){return i.inputPassword()})("ngModelChange",function(h){return i.password=h}),r.qZA(),r.YNc(30,mZ,2,4,"div",14),r.qZA(),r.qZA(),r.TgZ(31,"div",2),r.TgZ(32,"div",10),r.TgZ(33,"label",18),r._uU(34," Passwort wiederholen"),r.qZA(),r.TgZ(35,"input",21,22),r.NdJ("keypress",function(){r.CHM(a);const h=r.MAs(36);return i.validRepeatPassword(h.value)})("keydown.enter",function(){return i.inputPassword()})("ngModelChange",function(h){return i.repeatPassword=h}),r.qZA(),r.YNc(37,_Z,2,4,"div",14),r.qZA(),r.qZA(),r.TgZ(38,"div",23),r.TgZ(39,"div",15),r.TgZ(40,"button",16),r.NdJ("click",function(){return i.inputPassword()}),r._uU(41,"Passwort \xe4ndern"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(17),r.Gre("form-control ",i.wrongEmailClass,""),r.Q6J("ngModel",i.email),r.xp6(2),r.Q6J("ngIf",""!==i.emailMessage),r.xp6(9),r.Gre("form-control ",i.wrongPasswordClass,""),r.Q6J("ngModel",i.password),r.xp6(2),r.Q6J("ngIf",""!==i.passwordMessage),r.xp6(5),r.Gre("form-control ",i.wrongRepeatPasswordClass,""),r.Q6J("ngModel",i.repeatPassword),r.xp6(2),r.Q6J("ngIf",""!==i.passwordRepeatMessage))},directives:[Y,Ka,Qa,Zt],styles:[""]}),n})(),Po=(()=>{class n{constructor(e){this.afs=e,this.tourCollection=e.collection("Tours")}copyAndPrepareTour(e){return Object.assign({},e)}copyAndPreparePassenger(e){return Object.assign({},e)}addTour(e){var i=this;return(0,J.Z)(function*(){for(let a=0;a<e.passengers.length;a++)e.passengers[a]=i.copyAndPreparePassenger(e.passengers[a]);i.tourCollection.add(i.copyAndPrepareTour(e)).catch(a=>console.log(a))})()}deleteTour(e){var i=this;return(0,J.Z)(function*(){i.tourCollection.doc(e.dID).delete().catch(a=>console.log(a))})()}updateTour(e){var i=this;return(0,J.Z)(function*(){for(let a=0;a<e.passengers.length;a++)e.passengers[a]=i.copyAndPreparePassenger(e.passengers[a]);i.tourCollection.doc(e.dID).update(i.copyAndPrepareTour(e)).catch(a=>console.log(a))})()}getAllTours(){var e=this;return(0,J.Z)(function*(){return e.tourCollection.get().toPromise().then(i=>i.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllBookedTours(){var e=this;return(0,J.Z)(function*(){return e.afs.collection("Tours",i=>i.where("isBooked","==",!0)).get().toPromise().then(i=>i.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllToursFromUser(e){var i=this;return(0,J.Z)(function*(){return i.afs.collection("Tours",a=>a.where("creatorID","==",e)).get().toPromise().then(a=>a.docs.map(l=>{const h=l.data();return h.dID=l.id,h}))})()}getAllOffers(){var e=this;return(0,J.Z)(function*(){return e.afs.collection("Tours",i=>i.where("isOffer","==",!0)).get().toPromise().then(i=>i.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllRequests(){var e=this;return(0,J.Z)(function*(){return e.afs.collection("Tours",i=>i.where("isOffer","==",!1)).get().toPromise().then(i=>i.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getTour(e){var i=this;return(0,J.Z)(function*(){return i.tourCollection.doc(e).get().toPromise().then(a=>{const l=a.data();return null!=l&&(l.dID=a.id),l})})()}searchTours(e,i,a,l,h){var g=this;return(0,J.Z)(function*(){return g.afs.collection("Tours",b=>b.where("date","==",a).where("startCity","==",e).where("endCity","==",i).where("storage",">=",l).orderBy("storage","asc")).get().toPromise().then(b=>b.docs.map(C=>{const S=C.data();return S.dID=C.id,S})).then(b=>b.filter(C=>C.seats>=h))})()}sortPrice(e){return e.sort((i,a)=>this.compare(i.price,a.price))}sortEva(e){return e.sort((i,a)=>this.compare(i.price,a.price))}sortStorage(e){return e.sort((i,a)=>this.compare(i.price,a.price))}sortSeats(e){return e.sort((i,a)=>this.compare(i.price,a.price))}compare(e,i){return e==i?0:e>i?1:-1}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Em))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),km=(()=>{class n{constructor(e){this.afs=e,this.carCollection=e.collection("Cars")}copyAndPrepareCar(e){return Object.assign({},e)}addCar(e){var i=this;return(0,J.Z)(function*(){return i.carCollection.add(i.copyAndPrepareCar(e)).then(a=>a.id)})()}updateCar(e){var i=this;return(0,J.Z)(function*(){yield i.carCollection.doc(e.dId).update(i.copyAndPrepareCar(e))})()}deleteCar(e){var i=this;return(0,J.Z)(function*(){i.carCollection.doc(e).delete().catch(a=>console.log(a))})()}getCarById(e){var i=this;return(0,J.Z)(function*(){return i.carCollection.doc(e).get().toPromise().then(a=>{if(a.exists){const l=a.data();return null!=l?(l.dId=a.id,l):null}return null})})()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Em))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vZ(n,t){if(1&n&&(r.TgZ(0,"span",2),r.TgZ(1,"span",3),r._uU(2,"\u2605"),r.qZA(),r._uU(3,"\u2605 "),r.qZA()),2&n){const e=t.fill;r.ekj("full",100===e),r.xp6(1),r.Udp("width",e,"%")}}let V2=(()=>{class n{constructor(){this.currentRate=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-vote-stars"]],inputs:{currentRate:"currentRate"},decls:3,vars:4,consts:[[3,"rate","starTemplate","readonly","max","rateChange"],["t",""],[1,"star"],[1,"half"]],template:function(e,i){if(1&e&&(r.TgZ(0,"ngb-rating",0),r.NdJ("rateChange",function(l){return i.currentRate=l}),r.qZA(),r.YNc(1,vZ,4,4,"ng-template",null,1,r.W1O)),2&e){const a=r.MAs(2);r.Q6J("rate",i.currentRate)("starTemplate",a)("readonly",!0)("max",5)}},directives:[ZL],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:1.5rem;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:#d38c2f}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:#d38c2f}"]}),n})(),Qu=(()=>{class n{constructor(){this.detailUser=null,this.detailTour=null,this.tourSearch=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bZ(n,t){1&n&&(r.TgZ(0,"a"),r._uU(1,"Bearbeiten"),r.qZA())}function wZ(n,t){1&n&&(r.TgZ(0,"a"),r._uU(1,"Details"),r.qZA())}function TZ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.TgZ(18,"button",5),r.NdJ("click",function(){const l=r.CHM(e).$implicit;return r.oxw(2).navigateToDetailsOrEdit(l)}),r.YNc(19,bZ,2,0,"a",6),r.YNc(20,wZ,2,0,"a",6),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Oqu(e.startCity),r.xp6(2),r.Oqu(e.endCity),r.xp6(2),r.Oqu(e.date),r.xp6(2),r.Oqu(e.startTime),r.xp6(2),r.hij("",e.duration,"h"),r.xp6(2),r.Oqu(e.storage),r.xp6(2),r.Oqu(e.seats),r.xp6(2),r.Oqu(e.price),r.xp6(3),r.Q6J("ngIf",i.userService.currUser.uid===e.creatorID),r.xp6(1),r.Q6J("ngIf",i.userService.currUser.uid!==e.creatorID)}}function CZ(n,t){if(1&n&&(r.TgZ(0,"table",1),r.TgZ(1,"thead",2),r.TgZ(2,"tr"),r.TgZ(3,"th",3),r._uU(4,"Von"),r.qZA(),r.TgZ(5,"th",3),r._uU(6,"Nach"),r.qZA(),r.TgZ(7,"th",3),r._uU(8,"Wann?"),r.qZA(),r.TgZ(9,"th",3),r._uU(10,"Um?"),r.qZA(),r.TgZ(11,"th",3),r._uU(12,"Dauer"),r.qZA(),r.TgZ(13,"th",3),r._uU(14,"Stauraum"),r.qZA(),r.TgZ(15,"th",3),r._uU(16,"Sitze"),r.qZA(),r.TgZ(17,"th",3),r._uU(18,"Preis"),r.qZA(),r._UZ(19,"th",3),r.qZA(),r.qZA(),r.TgZ(20,"tbody"),r.YNc(21,TZ,21,10,"tr",4),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(21),r.Q6J("ngForOf",e.usedList)}}let DZ=(()=>{class n{constructor(e,i,a,l){this.tourService=e,this.shareData=i,this.userService=a,this.router=l,this.usedList=[]}navigateToDetailsOrEdit(e){var i=this;return(0,J.Z)(function*(){i.shareData.detailTour=e;const a=yield i.userService.getUser(e.creatorID);a&&(i.shareData.detailUser=a),i.router.navigate(i.userService.currUser&&i.userService.currUser.uid===e.creatorID?["/editTour"]:["/tour-details"])})()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu),r.Y36(xr),r.Y36(Ln))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-profile-tour-list"]],inputs:{usedList:"usedList"},decls:1,vars:1,consts:[["class","table p-4",4,"ngIf"],[1,"table","p-4"],[1,"thead-cargo"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-dark","btn-sm","mr-4",3,"click"],[4,"ngIf"]],template:function(e,i){1&e&&r.YNc(0,CZ,22,1,"table",0),2&e&&r.Q6J("ngIf",i.userService.currUser)},directives:[Zt,ct],styles:["tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}th[_ngcontent-%COMP%]{background-color:#005b51;color:#fff;margin-right:auto}td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}button[_ngcontent-%COMP%]:hover{background-color:#005b51}table[_ngcontent-%COMP%]{overflow-y:scroll}button[_ngcontent-%COMP%]{min-width:50%}@media (max-width: 1310px){button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function EZ(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.hij("",e.userData.currUser.evaluation/e.userData.currUser.evaluationCounter," ")}}function AZ(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"0 "),r.qZA())}function IZ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",10),r.TgZ(1,"div",11),r.TgZ(2,"div",12),r.TgZ(3,"h3",13),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",12),r.O4$(),r.TgZ(6,"svg",14),r._UZ(7,"path",15),r.qZA(),r.qZA(),r.kcU(),r.TgZ(8,"div",16),r._uU(9),r.qZA(),r.TgZ(10,"div",17),r._UZ(11,"app-vote-stars",18),r.qZA(),r.TgZ(12,"div",19),r.YNc(13,EZ,2,1,"span",20),r.YNc(14,AZ,2,0,"span",20),r._uU(15),r.qZA(),r.qZA(),r.TgZ(16,"div",11),r.TgZ(17,"div",12),r.TgZ(18,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().openUpdateModal()}),r._uU(19,"Profil bearbeiten"),r.qZA(),r.qZA(),r.TgZ(20,"div",12),r.TgZ(21,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().navigateToCarList()}),r._uU(22,"Fahrzeuge verwalten"),r.qZA(),r.qZA(),r.TgZ(23,"div",12),r.TgZ(24,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().openMoneyModal()}),r._uU(25,"Guthaben aufladen"),r.qZA(),r.qZA(),r.TgZ(26,"div",12),r.TgZ(27,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().openAccountModal()}),r._uU(28,"Account verwalten"),r.qZA(),r.qZA(),r.TgZ(29,"div",12),r.TgZ(30,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().logout()}),r._uU(31,"Abmelden"),r.qZA(),r.qZA(),r.TgZ(32,"div",12),r.TgZ(33,"button",22),r.NdJ("click",function(){return r.CHM(e),r.oxw().deleteAccount()}),r._uU(34,"Account l\xf6schen"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(4),r.hij(" ",e.userData.currUser.username," "),r.xp6(5),r.hij(" ",e.userData.currUser.money,"\u20ac "),r.xp6(2),r.Q6J("currentRate",e.userData.currUser.evaluation/e.userData.currUser.evaluationCounter),r.xp6(2),r.Q6J("ngIf",-1!==e.userData.currUser.evaluation),r.xp6(1),r.Q6J("ngIf",-1===e.userData.currUser.evaluation),r.xp6(1),r.hij(" von ",e.userData.currUser.evaluationCounter," Nutzern ")}}function SZ(n,t){if(1&n&&r._UZ(0,"app-profile-tour-list",23),2&n){const e=r.oxw();r.Q6J("usedList",e.ownOffers)}}function MZ(n,t){1&n&&(r.TgZ(0,"div",24),r.TgZ(1,"div",25),r.TgZ(2,"h4",26),r._uU(3,"Du hast noch keine Fahrten erstellt!"),r.qZA(),r.qZA(),r.qZA())}function NZ(n,t){if(1&n&&r._UZ(0,"app-profile-tour-list",23),2&n){const e=r.oxw();r.Q6J("usedList",e.passengerTours)}}function xZ(n,t){1&n&&(r.TgZ(0,"div",24),r.TgZ(1,"div",25),r.TgZ(2,"h4",26),r._uU(3,"Du hast noch keine Fahrten gebucht!"),r.qZA(),r.qZA(),r.qZA())}let kZ=(()=>{class n{constructor(e,i,a,l,h,g){this.userData=e,this.router=i,this.tourData=a,this.modalService=l,this.alertData=h,this.carData=g,this.ownOffers=[],this.passengerTours=[]}ngOnInit(){this.setTours().then()}setTours(){var e=this;return(0,J.Z)(function*(){e.ownOffers=yield e.tourData.getAllTours().then(),e.passengerTours=e.ownOffers.filter(i=>{var a;return e.isPassenger(i,null===(a=e.userData.currUser)||void 0===a?void 0:a.uid)&&!i.isOffer}),e.ownOffers=e.ownOffers.filter(i=>{var a;return i.driver===(null===(a=e.userData.currUser)||void 0===a?void 0:a.uid)&&i.isOffer})})()}logout(){var e=this;return(0,J.Z)(function*(){yield e.userData.logout()})()}deleteAccount(){var e=this;return(0,J.Z)(function*(){let i;const a=e.userData.currUser;if(a){let l=yield e.tourData.getAllBookedTours();if(l=l.filter(h=>e.bookedToursInFuture(new Date(h.date))).filter(h=>h.driver===a.uid||e.isPassenger(h,a.uid)),l.length<=0)try{yield e.userData.deleteAccount(),yield e.userData.deleteUser(a),i=yield e.tourData.getAllToursFromUser(a.uid),i=i.filter(h=>!h.isBooked);for(const h of i)yield e.tourData.deleteTour(h);for(const h of a.car)yield e.carData.deleteCar(h);e.alertData.showAlert({type:"success",message:"Du hast erfolgreich deinen Account gel\xf6scht!"})}catch(h){"auth/requires-recent-login"===h.code?(e.alertData.showAlert({type:"danger",message:"Sie m\xfcssen sich erneut anmelden, um diese Aktion durchzuf\xfchren"}),yield e.logout()):e.alertData.showAlert({type:"danger",message:"Etwas ist schief gelaufen"})}else e.alertData.showAlert({type:"danger",message:"Du hast noch offene gebuchte Fahrten!"})}})()}bookedToursInFuture(e){return(new Date).getTime()-e.getTime()<0}openUpdateModal(){this.modalService.open(hZ,{animation:!0,centered:!0})}openAccountModal(){this.modalService.open(yZ,{animation:!0,centered:!0})}openMoneyModal(){this.modalService.open(pZ,{animation:!0,centered:!0})}navigateToCarList(){this.router.navigate(["/carList"])}isPassenger(e,i){return!!i&&e.passengers.filter(a=>a.id===i).length>0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr),r.Y36(Ln),r.Y36(Po),r.Y36(Sw),r.Y36(Qd),r.Y36(km))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-loggedin"]],decls:20,vars:5,consts:[[1,"flex"],["class","flex column profile align-items-center justify-content-between",4,"ngIf"],[1,"flex","column","right-box"],[1,"mt-3",2,"height","40vh","overflow","scroll","overflow-x","hidden"],[1,"h3","font-weight-bold","logoGreenDark","ml-3"],[3,"usedList",4,"ngIf"],[1,"container"],[1,"row"],["class","card col-7 border-0 mb-3","style","max-width: 600px; height: 25vh",4,"ngIf"],[1,"resp"],[1,"flex","column","profile","align-items-center","justify-content-between"],[1,"flex","column","align-items-center"],[1,"mt-3"],[1,"h3","font-weight-bold","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","10em","viewBox","0 0 240 240"],["id","ic_account_circle_24px","d","M122,2A120,120,0,1,0,242,122,120.044,120.044,0,0,0,122,2Zm0,36A36,36,0,1,1,86,74,35.952,35.952,0,0,1,122,38Zm0,170.4a86.406,86.406,0,0,1-72-38.64c.36-23.88,48-36.96,72-36.96,23.88,0,71.64,13.08,72,36.96A86.407,86.407,0,0,1,122,208.4Z","transform","translate(-2 -2)","fill","#208479"],[1,"mt-3","logoGreenDark"],[1,""],[3,"currentRate"],[1,"mt-1","logoGreenDark"],[4,"ngIf"],[1,"logoGreenMedium",3,"click"],[1,"red",3,"click"],[3,"usedList"],[1,"card","col-7","border-0","mb-3",2,"max-width","600px","height","25vh"],[1,"card-body","rounded","shadow","mt-4","bg-white","border-0"],[1,"h4","font-weight-bold","logoGreenDark"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,IZ,35,6,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h3",4),r._uU(5,"Du f\xe4hrst"),r.qZA(),r.TgZ(6,"div"),r.YNc(7,SZ,1,1,"app-profile-tour-list",5),r.TgZ(8,"div",6),r.TgZ(9,"div",7),r.YNc(10,MZ,4,0,"div",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",3),r.TgZ(12,"h3",4),r._uU(13,"Du wirst mitgenommen"),r.qZA(),r.TgZ(14,"div"),r.YNc(15,NZ,1,1,"app-profile-tour-list",5),r.TgZ(16,"div",6),r.TgZ(17,"div",7),r.YNc(18,xZ,4,0,"div",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(19,"div",9)),2&e&&(r.xp6(1),r.Q6J("ngIf",i.userData.currUser),r.xp6(6),r.Q6J("ngIf",i.ownOffers.length>0),r.xp6(3),r.Q6J("ngIf",0===i.ownOffers.length),r.xp6(5),r.Q6J("ngIf",i.passengerTours.length>0),r.xp6(3),r.Q6J("ngIf",0===i.passengerTours.length))},directives:[Zt,V2,DZ],styles:[".logoGreenMedium[_ngcontent-%COMP%]:hover{color:#005b51}.red[_ngcontent-%COMP%]{color:#dc3545}.red[_ngcontent-%COMP%]:hover{color:#c82333}button[_ngcontent-%COMP%]{border:none;background-color:transparent}.resp[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:25%;background-color:#f3fbed;z-index:-1}.flex[_ngcontent-%COMP%]{display:flex}.column[_ngcontent-%COMP%]{flex-flow:column}.profile[_ngcontent-%COMP%]{min-width:25%;max-width:25%;background-color:#f3fbed}.right-box[_ngcontent-%COMP%]{flex:1}"]}),n})();class RZ{constructor(t,e,i,a,l,h){this.uid=t,this.firstname=e,this.lastname=i,this.username=a,this.birthday=l,this.gender=h,this.car=[],this.money=0,this.evaluation=-1,this.evaluationCounter=0}}function OZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.lastnameMessage)}}function PZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.firstnameMessage)}}function FZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.genderMessage)}}function LZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.birthdayMessage)}}function ZZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.emailMessage)}}function UZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.usernameMessage)}}function VZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.passwordMessage)}}function qZ(n,t){if(1&n&&(r.TgZ(0,"div",47),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.passwordRepeatMessage)}}let BZ=(()=>{class n{constructor(e,i,a){this.activeModal=e,this.router=i,this.userData=a,this.email="",this.firstname="",this.lastname="",this.username="",this.birthday=new Date,this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var e=this;return(0,J.Z)(function*(){try{yield e.userData.register(e.email,e.password);const a=(0,Y0.n)().currentUser;e.activeModal.close(),e.router.navigate(["/profil"]),a&&(yield e.userData.addUser(new RZ(a.uid,e.firstname,e.lastname,e.username,e.birthday,e.gender)))}catch(i){"auth/invalid-email"===i.code?(e.emailMessage="E-Mail ist nicht richtig formatiert",e.wrongEmailClass="border-danger"):"auth/weak-password"===i.code&&(e.passwordMessage="Das Passwort ist nicht korrekt",e.wrongPasswordClass="border-danger")}})()}inputCheck(){var e=this;return(0,J.Z)(function*(){e.email.trim().length>0&&e.password.trim().length>0&&e.firstname.trim().length>0&&e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday&&e.password===e.repeatPassword?yield e.register():(0===e.email.trim().length&&(e.emailMessage="Geben Sie Ihre E-Mail an",e.wrongEmailClass="border-danger"),0===e.password.trim().length&&(e.passwordMessage="Geben Sie ein Passwort an",e.wrongPasswordClass="border-danger"),0===e.repeatPassword.trim().length&&(e.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",e.wrongRepeatPasswordClass="border-danger"),e.repeatPassword!==e.password&&(e.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",e.wrongRepeatPasswordClass="border-danger"),0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validEmail(e){e.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(e){e.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(e){e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(e){e.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(Ln),r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,i){if(1&e){const a=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6,"Registrieren"),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",10),r.TgZ(13,"div",1),r.TgZ(14,"div",2),r.TgZ(15,"div",11),r.TgZ(16,"div",12),r.TgZ(17,"label",13),r._uU(18,"Nachname"),r.qZA(),r.TgZ(19,"input",14,15),r.NdJ("ngModelChange",function(h){return i.lastname=h})("keydown",function(){r.CHM(a);const h=r.MAs(20);return i.validLastname(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(21,OZ,2,1,"div",16),r.qZA(),r.qZA(),r.TgZ(22,"div",11),r.TgZ(23,"div",12),r.TgZ(24,"label",17),r._uU(25,"Vorname"),r.qZA(),r.TgZ(26,"input",18,19),r.NdJ("ngModelChange",function(h){return i.firstname=h})("keydown",function(){r.CHM(a);const h=r.MAs(27);return i.validFirstname(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(28,PZ,2,1,"div",16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",2),r.TgZ(30,"div",11),r.TgZ(31,"div",12),r.TgZ(32,"label",20),r._uU(33,"Geschlecht"),r.qZA(),r.TgZ(34,"select",21,22),r.NdJ("ngModelChange",function(h){return i.gender=h})("change",function(){r.CHM(a);const h=r.MAs(35);return i.validGender(h.value)})("keydown.enter",function(){return i.inputCheck()}),r._UZ(36,"option",23),r.TgZ(37,"option",24),r._uU(38,"Weiblich"),r.qZA(),r.TgZ(39,"option",25),r._uU(40,"M\xe4nnlich"),r.qZA(),r.TgZ(41,"option",26),r._uU(42,"Divers"),r.qZA(),r.qZA(),r.YNc(43,FZ,2,1,"div",16),r.qZA(),r.qZA(),r.TgZ(44,"div",11),r.TgZ(45,"div",12),r.TgZ(46,"label",27),r._uU(47,"Geburtstag"),r.qZA(),r.TgZ(48,"input",28,29),r.NdJ("ngModelChange",function(h){return i.birthday=h})("change",function(){r.CHM(a);const h=r.MAs(49);return i.validBirthday(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(50,LZ,2,1,"div",16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(51,"div",2),r.TgZ(52,"div",11),r.TgZ(53,"div",12),r.TgZ(54,"label",30),r._uU(55,"Email"),r.qZA(),r.TgZ(56,"input",31,32),r.NdJ("ngModelChange",function(h){return i.email=h})("keydown",function(){r.CHM(a);const h=r.MAs(57);return i.validEmail(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(58,ZZ,2,1,"div",16),r.qZA(),r.qZA(),r.TgZ(59,"div",11),r.TgZ(60,"div",12),r.TgZ(61,"label",33),r._uU(62,"Nutzername"),r.qZA(),r.TgZ(63,"input",34,35),r.NdJ("ngModelChange",function(h){return i.username=h})("keydown",function(){r.CHM(a);const h=r.MAs(64);return i.validUsername(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(65,UZ,2,1,"div",16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",2),r.TgZ(67,"div",11),r.TgZ(68,"div",12),r.TgZ(69,"label",36),r._uU(70,"Passwort"),r.qZA(),r.TgZ(71,"input",37,38),r.NdJ("ngModelChange",function(h){return i.password=h})("keydown",function(){r.CHM(a);const h=r.MAs(72);return i.validPassword(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(73,VZ,2,1,"div",16),r.qZA(),r.qZA(),r.TgZ(74,"div",11),r.TgZ(75,"div",12),r.TgZ(76,"label",39),r._uU(77,"Passwort wiederholen"),r.qZA(),r.TgZ(78,"input",40,41),r.NdJ("ngModelChange",function(h){return i.repeatPassword=h})("keydown",function(){r.CHM(a);const h=r.MAs(79);return i.validRepeatPassword(h.value)})("keydown.enter",function(){return i.inputCheck()}),r.qZA(),r.YNc(80,qZ,2,1,"div",16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(81,"div",42),r.TgZ(82,"div",1),r.TgZ(83,"div",43),r.TgZ(84,"div",44),r.TgZ(85,"button",45),r.NdJ("click",function(){return i.inputCheck()}),r._uU(86,"Registrieren "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(87,"div",43),r.TgZ(88,"div",44),r.TgZ(89,"button",46),r.NdJ("click",function(){return i.activeModal.dismiss()}),r._uU(90,"Abbrechen "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(19),r.Gre("form-control ",i.wrongLastname,""),r.Q6J("ngModel",i.lastname),r.xp6(2),r.Q6J("ngIf",""!==i.lastnameMessage),r.xp6(5),r.Gre("form-control ",i.wrongFirstname,""),r.Q6J("ngModel",i.firstname),r.xp6(2),r.Q6J("ngIf",""!==i.firstnameMessage),r.xp6(6),r.Gre("form-control ",i.wrongGender,""),r.Q6J("ngModel",i.gender),r.xp6(9),r.Q6J("ngIf",""!==i.genderMessage),r.xp6(5),r.Gre("form-control ",i.wrongBirthday,""),r.Q6J("ngModel",i.birthday),r.xp6(2),r.Q6J("ngIf",""!==i.birthdayMessage),r.xp6(6),r.Gre("form-control ",i.wrongEmailClass,""),r.Q6J("ngModel",i.email),r.xp6(2),r.Q6J("ngIf",""!==i.emailMessage),r.xp6(5),r.Gre("form-control ",i.wrongUsername,""),r.Q6J("ngModel",i.username),r.xp6(2),r.Q6J("ngIf",""!==i.usernameMessage),r.xp6(6),r.Gre("form-control ",i.wrongPasswordClass,""),r.Q6J("ngModel",i.password),r.xp6(2),r.Q6J("ngIf",""!==i.passwordMessage),r.xp6(5),r.Gre("form-control ",i.wrongRepeatPasswordClass,""),r.Q6J("ngModel",i.repeatPassword),r.xp6(2),r.Q6J("ngIf",""!==i.passwordRepeatMessage))},directives:[Y,Ka,Qa,Zt,Kd,uc,lc],styles:[""]}),n})();function jZ(n,t){if(1&n&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.emailMessage)}}function HZ(n,t){if(1&n&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.passwordMessage)}}let $Z=(()=>{class n{constructor(e,i){this.modalService=e,this.userData=i,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(BZ,{animation:!0,centered:!0})}inputCheck(){var e=this;return(0,J.Z)(function*(){0===e.email.trim().length&&0===e.password.trim().length?(e.wrongEmail="border-danger",e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password",e.emailMessage="Please fill out your email"):0===e.email.trim().length?(e.emailMessage="Please fill out your email",e.wrongEmail="border-danger"):0===e.password.trim().length?(e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password"):(e.wrongEmail="",yield e.login())})()}login(){var e=this;return(0,J.Z)(function*(){e.userData.login(e.email,e.password).then(()=>{}).catch(i=>{"auth/invalid-email"===i.code&&(e.emailMessage="E-Mail falsch formatiert",e.wrongEmail="border-danger"),"auth/wrong-password"===i.code&&(e.passwordMessage="Falsches Passwort",e.wrongPassword="border-danger"),"auth/user-not-found"===i.code&&(e.emailMessage="Nutzer nicht gefunden",e.wrongEmail="border-danger")})})()}validEmail(e){e.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(e){e.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Sw),r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,i){if(1&e){const a=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._uU(5,"Login"),r.qZA(),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",5),r.TgZ(8,"label",6),r._uU(9,"Email"),r.qZA(),r.TgZ(10,"input",7,8),r.NdJ("keydown",function(){r.CHM(a);const h=r.MAs(11);return i.validEmail(h.value)})("keydown.enter",function(){return i.inputCheck()})("ngModelChange",function(h){return i.email=h}),r.qZA(),r.YNc(12,jZ,2,1,"div",9),r.qZA(),r.qZA(),r.TgZ(13,"div",3),r.TgZ(14,"div",5),r.TgZ(15,"label",10),r._uU(16,"Password"),r.qZA(),r.TgZ(17,"input",11,12),r.NdJ("keypress",function(){r.CHM(a);const h=r.MAs(18);return i.validPassword(h.value)})("keydown.enter",function(){return i.inputCheck()})("ngModelChange",function(h){return i.password=h}),r.qZA(),r.YNc(19,HZ,2,1,"div",9),r.qZA(),r.qZA(),r.TgZ(20,"div",13),r.TgZ(21,"div",14),r.TgZ(22,"button",15),r.NdJ("click",function(){return i.inputCheck()}),r._uU(23,"Anmelden "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",13),r.TgZ(25,"div",14),r.TgZ(26,"button",16),r.NdJ("click",function(){return i.openRegistrationModal()}),r._uU(27,"Registrieren "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(10),r.Gre("form-control ",i.wrongEmail,""),r.Q6J("ngModel",i.email),r.xp6(2),r.Q6J("ngIf",""!==i.emailMessage),r.xp6(5),r.Gre("form-control ",i.wrongPassword,""),r.Q6J("ngModel",i.password),r.xp6(2),r.Q6J("ngIf",""!==i.passwordMessage))},directives:[Y,Ka,Qa,Zt],styles:[""]}),n})();function GZ(n,t){1&n&&r._UZ(0,"app-loggedin")}function zZ(n,t){1&n&&r._UZ(0,"app-notloggedin")}let YZ=(()=>{class n{constructor(e){this.userData=e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(r.YNc(0,GZ,1,0,"app-loggedin",0),r.YNc(1,zZ,1,0,"app-notloggedin",0)),2&e&&(r.Q6J("ngIf",i.userData.user),r.xp6(1),r.Q6J("ngIf",!i.userData.user))},directives:[Zt,kZ,$Z],styles:[""]}),n})();class WZ{constructor(t,e,i,a){this.model=t,this.mark=e,this.seats=i,this.storage=a}}function JZ(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"h5",3),r._uU(2),r.qZA(),r.TgZ(3,"p",4),r._uU(4),r.qZA(),r.TgZ(5,"p",5),r._uU(6),r.qZA(),r.TgZ(7,"p",5),r._uU(8),r.qZA(),r.TgZ(9,"a",6),r.NdJ("click",function(){return r.CHM(e),r.oxw().deleteEvent.emit()}),r._uU(10,"Delete"),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(2),r.Oqu(e.car.model),r.xp6(2),r.Oqu(e.car.mark),r.xp6(2),r.hij("",e.car.seats," Pl\xe4tze"),r.xp6(2),r.hij("",e.car.storage," ")}}let KZ=(()=>{class n{constructor(e,i){this.userService=e,this.carData=i,this.carId="",this.deleteEvent=new r.vpe,this.car=null}ngOnInit(){var e=this;return(0,J.Z)(function*(){e.car=yield e.carData.getCarById(e.carId)})()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr),r.Y36(km))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-car-item"]],inputs:{carId:"carId"},outputs:{deleteEvent:"deleteEvent"},decls:2,vars:1,consts:[[1,"card",2,"width","18rem"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text"],[1,"btn","btn-primary","btn-danger","ml-1",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,JZ,11,4,"div",1),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.car))},directives:[Zt],styles:[""]}),n})();function QZ(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," bitte Fahrzeug-Model hinf\xfcgen. "),r.qZA())}function XZ(n,t){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,QZ,2,0,"div",1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.form.controls.carModel.errors?null:e.form.controls.carModel.errors.required)}}function e6(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," bitte Kennzeichen hinf\xfcgen. "),r.qZA())}function t6(n,t){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,e6,2,0,"div",1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.form.controls.carMark.errors?null:e.form.controls.carMark.errors.required)}}function n6(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," bitte Sitzplaetze hinf\xfcgen. "),r.qZA())}function r6(n,t){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,n6,2,0,"div",1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.form.controls.carSeats.errors?null:e.form.controls.carSeats.errors.required)}}function i6(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1," bitte Stauraum hinf\xfcgen. "),r.qZA())}function s6(n,t){if(1&n&&(r.TgZ(0,"div",21),r.YNc(1,i6,2,0,"div",1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.form.controls.carStorage.errors?null:e.form.controls.carStorage.errors.required)}}function o6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",22),r.TgZ(2,"app-car-item",23),r.NdJ("deleteEvent",function(){const l=r.CHM(e).$implicit;return r.oxw(2).deleteCar(l)}),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(2),r.Q6J("carId",e)}}function a6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"form",2),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw().onSubmit()}),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.TgZ(4,"div",5),r.TgZ(5,"span",6),r._uU(6,"Fahrzeug-Model"),r.qZA(),r.qZA(),r._UZ(7,"input",7),r.YNc(8,XZ,2,1,"div",8),r.qZA(),r.TgZ(9,"div",4),r.TgZ(10,"div",5),r.TgZ(11,"span",9),r._uU(12,"Kennzeichen"),r.qZA(),r.qZA(),r._UZ(13,"input",10),r.YNc(14,t6,2,1,"div",8),r.qZA(),r.qZA(),r.TgZ(15,"div",3),r.TgZ(16,"div",4),r.TgZ(17,"div",5),r.TgZ(18,"span",11),r._uU(19,"Sitzpl\xe4tze"),r.qZA(),r.qZA(),r._UZ(20,"input",12),r.YNc(21,r6,2,1,"div",8),r.qZA(),r.TgZ(22,"div",4),r.TgZ(23,"div",5),r.TgZ(24,"span",13),r._uU(25,"Stauraum"),r.qZA(),r.qZA(),r._UZ(26,"input",14),r.YNc(27,s6,2,1,"div",8),r.qZA(),r.qZA(),r.TgZ(28,"div",15),r.TgZ(29,"div",16),r.TgZ(30,"div",17),r.TgZ(31,"button",18),r._uU(32,"Fahrzeug hinzuf\xfcgen "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",19),r.TgZ(34,"div",15),r.YNc(35,o6,3,1,"div",20),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(1),r.Q6J("formGroup",e.form),r.xp6(7),r.Q6J("ngIf",e.form.controls.carModel.invalid&&(e.form.controls.carModel.dirty||e.form.controls.carModel.touched)),r.xp6(6),r.Q6J("ngIf",e.form.controls.carMark.invalid&&(e.form.controls.carMark.dirty||e.form.controls.carMark.touched)),r.xp6(7),r.Q6J("ngIf",e.form.controls.carSeats.invalid&&(e.form.controls.carSeats.dirty||e.form.controls.carSeats.touched)),r.xp6(6),r.Q6J("ngIf",e.form.controls.carStorage.invalid&&(e.form.controls.carStorage.dirty||e.form.controls.carStorage.touched)),r.xp6(4),r.Q6J("disabled",e.form.invalid||e.form.pristine),r.xp6(4),r.Q6J("ngForOf",e.userService.currUser.car)}}let u6=(()=>{class n{constructor(e,i,a){this.userService=e,this.router=i,this.carData=a,this.form=new fA({carModel:new ap,carMark:new ap,carSeats:new ap,carStorage:new ap}),this.userService.currUser||this.router.navigate(["/"])}deleteCar(e){var i=this;return(0,J.Z)(function*(){yield i.userService.deleteCar(e),yield i.carData.deleteCar(e)})()}onSubmit(){var e=this;if(this.carModel=this.form.controls.carModel.value,this.carMark=this.form.controls.carMark.value,this.carSeats=this.form.controls.carSeats.value,this.carStorage=this.form.controls.carStorage.value,this.carModel&&this.carMark&&this.carSeats&&this.carStorage){let i=new WZ(this.carModel,this.carMark,this.carSeats,this.carStorage);this.userService.currUser&&this.carData.addCar(i).then(function(){var a=(0,J.Z)(function*(l){console.log(l),yield e.userService.addCar(l)});return function(l){return a.apply(this,arguments)}}()),document.getElementById("add-car-form").reset()}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr),r.Y36(Ln),r.Y36(km))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carlist"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],["id","add-car-form",2,"margin-top","100px",3,"formGroup","ngSubmit"],[1,"row","m-2"],[1,"form-group","col-md-12"],[1,"input-group-prepend"],["id","add-car-model",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","text","placeholder","VW Touran, Porsche 911, ...","aria-label","Car-Model","aria-describedby","add-car-model","id","add-car-model-input","formControlName","carModel","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["class","alert-danger","style","width: 60%; position: relative; margin-right: auto; margin-left: auto",4,"ngIf"],["id","add-car-mark",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","text","placeholder","Kennzeichen","aria-label","car-mark","aria-describedby","add-car-mark","id","add-car-mark-input","formControlName","carMark","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["id","add-car-Seats",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","number","placeholder","Sitzplaetze","aria-label","carSeats","aria-describedby","add-car-seats","id","add-car-seats-input","formControlName","carSeats","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["id","add-Storage",1,"input-group-text","justify-content-center",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],["type","number","placeholder","Stauraum in \u33a5","aria-label","Storage","aria-describedby","add-storage","id","add-storage-input","formControlName","carStorage","required","",1,"form-control",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"row"],[1,"col-sm-12"],[1,"input-group","mb-3",2,"display","flex","flex-direction","row","justify-content","center"],["type","submit",1,"btn","btn-info",2,"background-color","#005B51",3,"disabled"],[2,"display","flex","flex-direction","row","justify-content","center"],[4,"ngFor","ngForOf"],[1,"alert-danger",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"ml-3","mr-3"],[3,"carId","deleteEvent"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,a6,36,7,"div",1),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.userService.currUser))},directives:[Zt,NN,bN,mA,Y,Ka,PN,_A,xN,ct,KZ],styles:[""]}),n})(),q2=(()=>{class n{constructor(e,i,a,l){this.tourData=e,this.shareData=i,this.alert=a,this.router=l,this.startCity="",this.endCity="",this.date="",this.passengers="0",this.storage="0",this.newSearchEvent=new r.vpe,this.searchbarheigth="5em",this.iconsize="25px"}addNewSearch(){this.newSearchEvent.emit()}scroll(e){e.scrollIntoView({behavior:"smooth"})}searchButton(){var e=this;return(0,J.Z)(function*(){console.log(e.tourData.searchTours(e.startCity,e.endCity,e.date,Number.parseInt(e.storage),Number.parseInt(e.passengers))),e.checkInput()?(e.shareData.tourSearch=yield e.tourData.searchTours(e.startCity,e.endCity,e.date,Number.parseInt(e.storage),Number.parseInt(e.passengers)),"/tours"===e.router.url&&e.addNewSearch(),e.router.navigate(["/tours"])):e.alert.showAlert({type:"danger",message:"Alle Felder ausf\xfcllen!"})})()}redirectTo(e){this.router.navigateByUrl("/tours",{skipLocationChange:!1}).then(()=>this.router.navigate([e]))}checkInput(){return this.startCity.trim().length>0&&this.endCity.trim().length>0&&this.date.trim().length>0&&this.passengers.trim().length>0&&this.storage.trim().length>0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu),r.Y36(Qd),r.Y36(Ln))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-suchleiste"]],outputs:{newSearchEvent:"newSearchEvent"},decls:150,vars:10,consts:[[1,"masthead"],[1,"center"],[2,"font-size","4em","color","#005B51","text-align","center","margin-bottom","50px"],[1,"smallscreen"],[1,"defaultscreen"],[1,"form-row","form-row-style","form-control-lg-costum"],[1,"input-group-text","input-opaque"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 40",1,"iconsize"],["id","ic_pin_drop_24px","d","M31,14A12,12,0,0,0,7,14c0,9,12,22,12,22S31,23,31,14ZM15,14a4,4,0,1,1,4,4A4.012,4.012,0,0,1,15,14ZM5,38v4H33V38Z","transform","translate(-5 -2)","fill","#fff"],[1,"col-2","colpad"],["type","text","placeholder","Von...","name","startCity",1,"form-control","text-opaque","form-control-lg-costum",3,"ngModel","ngModelChange"],["id","ic_place_24px","d","M19,2A13.99,13.99,0,0,0,5,16C5,26.5,19,42,19,42S33,26.5,33,16A13.99,13.99,0,0,0,19,2Zm0,19a5,5,0,1,1,5-5A5,5,0,0,1,19,21Z","transform","translate(-5 -2)","fill","#fff"],["type","text","placeholder","Nach...","name","endCity",1,"form-control","text-opaque","form-control-lg-costum",3,"ngModel","ngModelChange"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 31.111",1,"iconsize"],["id","ic_event_24px","d","M24.778,18.111H17v7.778h7.778ZM23.222,1V4.111H10.778V1H7.667V4.111H6.111a3.1,3.1,0,0,0-3.1,3.111L3,29a3.11,3.11,0,0,0,3.111,3.111H27.889A3.12,3.12,0,0,0,31,29V7.222a3.12,3.12,0,0,0-3.111-3.111H26.333V1Zm4.667,28H6.111V11.889H27.889Z","transform","translate(-3 -1)","fill","#fff"],["type","date","placeholder","Datum","name","date",1,"form-control","text-opaque","form-control-lg-costum",3,"ngModel","ngModelChange"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 28",1,"iconsize"],["id","ic_perm_identity_24px","d","M18,7.325A3.675,3.675,0,1,1,14.325,11,3.675,3.675,0,0,1,18,7.325m0,15.75c5.2,0,10.675,2.555,10.675,3.675v1.925H7.325V26.75c0-1.12,5.478-3.675,10.675-3.675M18,4a7,7,0,0,0,0,14,7.337,7.337,0,0,0,4.624-1.743A6.708,6.708,0,0,0,25,11,7,7,0,0,0,18,4Zm0,15.75c-4.673,0-14,2.345-14,7V32H32V26.75C32,22.1,22.673,19.75,18,19.75Z","transform","translate(-4 -4)","fill","#fff"],[1,"col","colpad"],["name","passengers",1,"form-control","text-opaque","form-control-lg-costum",3,"ngModel","ngModelChange"],["value","0",2,"color","black"],["value","1",2,"color","black"],["value","2",2,"color","black"],["value","3",2,"color","black"],["value","4",2,"color","black"],["value","5",2,"color","black"],["value","6",2,"color","black"],["value","7",2,"color","black"],["value","8",2,"color","black"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 26.6",1,"iconsize"],["id","ic_work_24px","d","M27.2,7.6H21.6V4.8A2.79,2.79,0,0,0,18.8,2H13.2a2.79,2.79,0,0,0-2.8,2.8V7.6H4.8a2.778,2.778,0,0,0-2.786,2.8L2,25.8a2.79,2.79,0,0,0,2.8,2.8H27.2A2.79,2.79,0,0,0,30,25.8V10.4A2.79,2.79,0,0,0,27.2,7.6Zm-8.4,0H13.2V4.8h5.6Z","transform","translate(-2 -2)","fill","#fff"],["name","storage",1,"form-control","text-opaque","form-control-lg-costum",3,"ngModel","ngModelChange"],["type","button","placeholder","",1,"btn","btn-block","suchbutton",3,"click"],[1,"h6"],[1,"col","form-row-style"],[1,"row","row-margin"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 40",1,"iconsize",2,"margin-left","6px"],["type","text","placeholder","Von...","name","startCity",1,"form-control","text-opaque","form-control-lg",3,"ngModel","ngModelChange"],[1,"border-bottom"],["type","text","placeholder","Nach...","name","endCity",1,"form-control","text-opaque","form-control-lg",3,"ngModel","ngModelChange"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 28 31.111",1,"iconsize",2,"height","25px","margin-left","5px"],["type","date","placeholder","Datum","name","date",1,"form-control","text-opaque","form-control-lg",3,"ngModel","ngModelChange"],["name","passengers",1,"form-control","text-opaque","form-control-lg",3,"ngModel","ngModelChange"],["name","storage",1,"form-control","text-opaque","form-control-lg",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-block","suchbutton",3,"click"],[1,"h5"],[2,"height","200px"],["target",""]],template:function(e,i){1&e&&(r.TgZ(0,"header",0),r.TgZ(1,"div",1),r.TgZ(2,"h1",2),r._uU(3,"Wir fahren,"),r._UZ(4,"br",3),r._uU(5," du sparst!"),r.qZA(),r.TgZ(6,"form",4),r.TgZ(7,"div",5),r.TgZ(8,"span",6),r.O4$(),r.TgZ(9,"svg",7),r._UZ(10,"path",8),r.qZA(),r.qZA(),r.kcU(),r.TgZ(11,"div",9),r.TgZ(12,"input",10),r.NdJ("ngModelChange",function(l){return i.startCity=l}),r.qZA(),r.qZA(),r.TgZ(13,"span",6),r.O4$(),r.TgZ(14,"svg",7),r._UZ(15,"path",11),r.qZA(),r.qZA(),r.kcU(),r.TgZ(16,"div",9),r.TgZ(17,"input",12),r.NdJ("ngModelChange",function(l){return i.endCity=l}),r.qZA(),r.qZA(),r.TgZ(18,"span",6),r.O4$(),r.TgZ(19,"svg",13),r._UZ(20,"path",14),r.qZA(),r.qZA(),r.kcU(),r.TgZ(21,"div",9),r.TgZ(22,"input",15),r.NdJ("ngModelChange",function(l){return i.date=l}),r.qZA(),r.qZA(),r.TgZ(23,"span",6),r.O4$(),r.TgZ(24,"svg",16),r._UZ(25,"path",17),r.qZA(),r.qZA(),r.kcU(),r.TgZ(26,"div",18),r.TgZ(27,"select",19),r.NdJ("ngModelChange",function(l){return i.passengers=l}),r.TgZ(28,"option",20),r._uU(29,"0"),r.qZA(),r.TgZ(30,"option",21),r._uU(31,"1"),r.qZA(),r.TgZ(32,"option",22),r._uU(33,"2"),r.qZA(),r.TgZ(34,"option",23),r._uU(35,"3"),r.qZA(),r.TgZ(36,"option",24),r._uU(37,"4"),r.qZA(),r.TgZ(38,"option",25),r._uU(39,"5"),r.qZA(),r.TgZ(40,"option",26),r._uU(41,"6"),r.qZA(),r.TgZ(42,"option",27),r._uU(43,"7"),r.qZA(),r.TgZ(44,"option",28),r._uU(45,"8"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(46,"span",6),r.O4$(),r.TgZ(47,"svg",29),r._UZ(48,"path",30),r.qZA(),r.qZA(),r.kcU(),r.TgZ(49,"div",18),r.TgZ(50,"select",31),r.NdJ("ngModelChange",function(l){return i.storage=l}),r.TgZ(51,"option",20),r._uU(52,"0"),r.qZA(),r.TgZ(53,"option",21),r._uU(54,"1"),r.qZA(),r.TgZ(55,"option",22),r._uU(56,"2"),r.qZA(),r.TgZ(57,"option",23),r._uU(58,"3"),r.qZA(),r.TgZ(59,"option",24),r._uU(60,"4"),r.qZA(),r.TgZ(61,"option",25),r._uU(62,"5"),r.qZA(),r.TgZ(63,"option",26),r._uU(64,"6"),r.qZA(),r.TgZ(65,"option",27),r._uU(66,"7"),r.qZA(),r.TgZ(67,"option",28),r._uU(68,"8"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(69,"div",18),r.TgZ(70,"button",32),r.NdJ("click",function(){return i.searchButton()}),r.TgZ(71,"span",33),r._uU(72,"Suchen"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(73,"form",3),r.TgZ(74,"div",34),r.TgZ(75,"div",35),r.TgZ(76,"span",6),r.O4$(),r.TgZ(77,"svg",36),r._UZ(78,"path",8),r.qZA(),r.qZA(),r.kcU(),r.TgZ(79,"div",18),r.TgZ(80,"input",37),r.NdJ("ngModelChange",function(l){return i.startCity=l}),r.qZA(),r.qZA(),r.qZA(),r._UZ(81,"div",38),r.TgZ(82,"div",35),r.TgZ(83,"span",6),r.O4$(),r.TgZ(84,"svg",36),r._UZ(85,"path",11),r.qZA(),r.qZA(),r.kcU(),r.TgZ(86,"div",18),r.TgZ(87,"input",39),r.NdJ("ngModelChange",function(l){return i.endCity=l}),r.qZA(),r.qZA(),r.qZA(),r._UZ(88,"div",38),r.TgZ(89,"div",35),r.TgZ(90,"span",6),r.O4$(),r.TgZ(91,"svg",40),r._UZ(92,"path",14),r.qZA(),r.qZA(),r.kcU(),r.TgZ(93,"div",18),r.TgZ(94,"input",41),r.NdJ("ngModelChange",function(l){return i.date=l}),r.qZA(),r.qZA(),r.qZA(),r._UZ(95,"div",38),r.TgZ(96,"div",35),r.TgZ(97,"span",6),r.O4$(),r.TgZ(98,"svg",16),r._UZ(99,"path",17),r.qZA(),r.qZA(),r.kcU(),r.TgZ(100,"div",18),r.TgZ(101,"select",42),r.NdJ("ngModelChange",function(l){return i.passengers=l}),r.TgZ(102,"option",20),r._uU(103,"0"),r.qZA(),r.TgZ(104,"option",21),r._uU(105,"1"),r.qZA(),r.TgZ(106,"option",22),r._uU(107,"2"),r.qZA(),r.TgZ(108,"option",23),r._uU(109,"3"),r.qZA(),r.TgZ(110,"option",24),r._uU(111,"4"),r.qZA(),r.TgZ(112,"option",25),r._uU(113,"5"),r.qZA(),r.TgZ(114,"option",26),r._uU(115,"6"),r.qZA(),r.TgZ(116,"option",27),r._uU(117,"7"),r.qZA(),r.TgZ(118,"option",28),r._uU(119,"8"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(120,"span",6),r.O4$(),r.TgZ(121,"svg",29),r._UZ(122,"path",30),r.qZA(),r.qZA(),r.kcU(),r.TgZ(123,"div",18),r.TgZ(124,"select",43),r.NdJ("ngModelChange",function(l){return i.storage=l}),r.TgZ(125,"option",20),r._uU(126,"0"),r.qZA(),r.TgZ(127,"option",21),r._uU(128,"1"),r.qZA(),r.TgZ(129,"option",22),r._uU(130,"2"),r.qZA(),r.TgZ(131,"option",23),r._uU(132,"3"),r.qZA(),r.TgZ(133,"option",24),r._uU(134,"4"),r.qZA(),r.TgZ(135,"option",25),r._uU(136,"5"),r.qZA(),r.TgZ(137,"option",26),r._uU(138,"6"),r.qZA(),r.TgZ(139,"option",27),r._uU(140,"7"),r.qZA(),r.TgZ(141,"option",28),r._uU(142,"8"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(143,"div",18),r.TgZ(144,"button",44),r.NdJ("click",function(){return i.searchButton()}),r.TgZ(145,"span",45),r._uU(146,"Suchen"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(147,"div",46),r._UZ(148,"div",null,47),r.qZA()),2&e&&(r.xp6(12),r.Q6J("ngModel",i.startCity),r.xp6(5),r.Q6J("ngModel",i.endCity),r.xp6(5),r.Q6J("ngModel",i.date),r.xp6(5),r.Q6J("ngModel",i.passengers),r.xp6(23),r.Q6J("ngModel",i.storage),r.xp6(30),r.Q6J("ngModel",i.startCity),r.xp6(7),r.Q6J("ngModel",i.endCity),r.xp6(7),r.Q6J("ngModel",i.date),r.xp6(7),r.Q6J("ngModel",i.passengers),r.xp6(23),r.Q6J("ngModel",i.storage))},directives:[NN,bN,pA,Y,Ka,Qa,Kd,uc,lc],styles:["header.masthead[_ngcontent-%COMP%]{position:relative;background-color:#343a40;background:url(Zeichenflache_4.661da432fc963621ee16.svg) no-repeat center center;background-size:cover;z-index:10;padding-top:8rem;padding-bottom:8rem;height:40em}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}.center[_ngcontent-%COMP%]{margin:auto;width:70%}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}.colpad[_ngcontent-%COMP%]{padding:0;margin:0}.input-opaque[_ngcontent-%COMP%]{background-color:#0000;border:none}.text-opaque[_ngcontent-%COMP%]{background-color:#0000;color:#fff;border:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#0000;box-shadow:0 0 0 .2rem #0000}.iconsize[_ngcontent-%COMP%]{height:30px;margin:0;padding:0}.form-control-lg-costum[_ngcontent-%COMP%]{height:3.5em;padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.form-row-style[_ngcontent-%COMP%]{background-color:#0006;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:35px;position:center;margin:0;padding:0}.leistenheight[_ngcontent-%COMP%]{height:200px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.suchbutton[_ngcontent-%COMP%]{background-color:#005b51;border-radius:0 35px 35px 0;height:100%;color:#fff}.suchbutton[_ngcontent-%COMP%]:focus{background-color:#005b51}.defaultscreen[_ngcontent-%COMP%]{display:block}.smallscreen[_ngcontent-%COMP%]{display:none}@media (max-width: 1310px){.defaultscreen[_ngcontent-%COMP%]{display:none}.smallscreen[_ngcontent-%COMP%]{display:block}.suchbutton[_ngcontent-%COMP%]{background-color:#005b51;border-radius:0 0 35px 35px;height:100%;color:#fff}.row-margin[_ngcontent-%COMP%]{margin:0}.border-bottom[_ngcontent-%COMP%]{margin:0 10px}}"]}),n})();function l6(n,t){1&n&&(r.O4$(),r.TgZ(0,"svg",6),r._UZ(1,"path",7),r.qZA())}function c6(n,t){1&n&&(r.O4$(),r.TgZ(0,"svg",8),r._UZ(1,"path",9),r.qZA())}function d6(n,t){1&n&&(r.O4$(),r.TgZ(0,"svg",10),r._UZ(1,"path",11),r.qZA())}let h6=(()=>{class n{constructor(){this.boxTitle="",this.infoText="",this.imagePath=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-infobox"]],inputs:{boxTitle:"boxTitle",infoText:"infoText",imagePath:"imagePath"},decls:8,vars:5,consts:[[1,"shadow","p-3","mb-5","bg-white","rounded","infoheight",2,"width","300px","margin","1em","margin-top","5em"],["xmlns","http://www.w3.org/2000/svg","class","infoicon","viewBox","0 0 60 60",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","class","infoicon","viewBox","0 0 60 43.636",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","class","infoicon","viewBox","0 0 60 54.545",4,"ngIf"],[2,"color","#005B51","text-align","center"],[2,"text-align","center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 60 60",1,"infoicon"],["id","ic_monetization_on_24px","d","M32,2A30,30,0,1,0,62,32,30.011,30.011,0,0,0,32,2Zm4.23,48.27V56H28.22V50.21c-5.13-1.08-9.48-4.38-9.81-10.2h5.88c.3,3.15,2.46,5.61,7.95,5.61,5.88,0,7.2-2.94,7.2-4.77,0-2.49-1.32-4.83-8.01-6.42-7.44-1.8-12.54-4.86-12.54-11.01,0-5.16,4.17-8.52,9.33-9.63V8h8.01v5.85a10.606,10.606,0,0,1,8.55,10.17H38.9c-.15-3.33-1.92-5.61-6.66-5.61-4.5,0-7.2,2.04-7.2,4.92,0,2.52,1.95,4.17,8.01,5.73s12.54,4.17,12.54,11.73c-.03,5.49-4.14,8.49-9.36,9.48Z","transform","translate(-2 -2)","fill","#208479"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 60 43.636",1,"infoicon"],["id","ic_local_shipping_24px","d","M52.818,14.909H44.636V4H6.455A5.471,5.471,0,0,0,1,9.455v30H6.455a8.182,8.182,0,0,0,16.364,0H39.182a8.182,8.182,0,0,0,16.364,0H61V25.818ZM14.636,43.545a4.091,4.091,0,1,1,4.091-4.091A4.085,4.085,0,0,1,14.636,43.545ZM51.455,19,56.8,25.818H44.636V19ZM47.364,43.545a4.091,4.091,0,1,1,4.091-4.091A4.085,4.085,0,0,1,47.364,43.545Z","transform","translate(-1 -4)","fill","#208479"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 60 54.545",1,"infoicon"],["id","ic_thumb_up_24px","d","M1,55.545H11.909V22.818H1Zm60-30a5.471,5.471,0,0,0-5.455-5.455H38.336L40.927,7.627l.082-.873a4.105,4.105,0,0,0-1.2-2.891L36.918,1,18.973,18.973a5.333,5.333,0,0,0-1.609,3.845V50.091a5.471,5.471,0,0,0,5.455,5.455H47.364a5.418,5.418,0,0,0,5.018-3.327l8.236-19.227A5.388,5.388,0,0,0,61,31V25.791l-.027-.027Z","transform","translate(-1 -1)","fill","#208479"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,l6,2,0,"svg",1),r.YNc(2,c6,2,0,"svg",2),r.YNc(3,d6,2,0,"svg",3),r.TgZ(4,"h3",4),r._uU(5),r.qZA(),r.TgZ(6,"p",5),r._uU(7),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",0===i.imagePath),r.xp6(1),r.Q6J("ngIf",1===i.imagePath),r.xp6(1),r.Q6J("ngIf",2===i.imagePath),r.xp6(2),r.Oqu(i.boxTitle),r.xp6(2),r.hij(" ",i.infoText," "))},directives:[Zt],styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-45px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:20em}"]}),n})();function f6(n,t){if(1&n&&(r.TgZ(0,"div",3),r._UZ(1,"app-infobox",4),r.qZA()),2&n){const e=t.index,i=r.oxw();r.xp6(1),r.Q6J("boxTitle",i.boxTitles[e])("infoText",i.infoTexts[e])("imagePath",e)}}let p6=(()=>{class n{constructor(){this.boxTitles=["Lass dich fahren f\xfcr weniger Geld","Dein Transport: Einfach und unkompliziert","Sorglos fahren, dank Nutzerbewertungen"],this.infoTexts=["Anstatt sich teure Tickets f\xfcr Bus und Bahn zu besorgen, oder einen Lieferdienst zu bezahlen, lassen sie sich von anderen Nutzern f\xfcr wenig Geld helfen!","Mit uns k\xf6nnen sie einfach durch angebotene Fahrten von weiteren Nutzern st\xf6bern oder selbst eine Anfrage stellen und sich somit schnell und unkompliziert helfen lassen!","Bewerten Sie andere Nutzer nach Abschluss einer Fahrt und sehen sie Bewertungen weiterer Nutzer ein und tragen sie so zu einem sicheren und verl\xe4sslichen Umgang unserer M\xf6glichkeiten zu!"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-main-page"]],decls:4,vars:1,consts:[[1,"container","d-flex","justify-content-center"],[1,"row","align-self-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"boxTitle","infoText","imagePath"]],template:function(e,i){1&e&&(r._UZ(0,"app-suchleiste"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.YNc(3,f6,2,3,"div",2),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngForOf",i.boxTitles))},directives:[q2,ct,h6],styles:[""]}),n})(),XN=(()=>{class n{constructor(e){this.shareData=e,this.checkedChecker=!1,this.changeState=new r.vpe}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-slide-checker"]],inputs:{checkedChecker:"checkedChecker"},outputs:{changeState:"changeState"},decls:13,vars:1,consts:[[1,"row","m-3","justify-content-center"],[1,"col"],[1,"d-flex","justify-content-center"],[1,"logoGreenDark","mr-3"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","click"],[1,"slider","round"],[1,"logoGreenDark","ml-3"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h5"),r._uU(5,"Angebote"),r.qZA(),r.qZA(),r.TgZ(6,"div"),r.TgZ(7,"label",4),r.TgZ(8,"input",5),r.NdJ("ngModelChange",function(l){return i.checkedChecker=l})("click",function(){return i.changeState.emit()}),r.qZA(),r._UZ(9,"span",6),r.qZA(),r.qZA(),r.TgZ(10,"div",7),r.TgZ(11,"h5"),r._uU(12,"Anfragen"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(8),r.Q6J("ngModel",i.checkedChecker))},directives:[I,Ka,Qa],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();var Rm=(()=>(function(n){n[n.NOSTARTEDYET=0]="NOSTARTEDYET",n[n.ONTHEWAY=1]="ONTHEWAY",n[n.ARRIVED=2]="ARRIVED"}(Rm||(Rm={})),Rm))();class B2{constructor(t,e,i,a,l,h,g,b,C,S,N,Z,B,ie){this.creatorID=t,this.isOffer=e,this.startCity=i,this.endCity=a,this.startTime=l,this.duration=h,this.date=g,this.price=b,this.storage=C,this.seats=S,this.description=N||"",this.driver=Z||"",this.passengers=B||[],this.isBooked=!1,this.areSeatsOccupied=0===this.seats,this.isStorageFullyLoaded=0===this.storage,this.status=Rm.NOSTARTEDYET,this.car=ie||"",this.evaluation=-1}}let g6=(()=>{class n{constructor(e,i,a,l){this.userService=e,this.router=i,this.tourService=a,this.shareData=l,this.tour=new B2("",!1,"","","",0,"",0,0,0,""),this.mergeDateAndTime="",this.userName="",this.freeSeats=0,this.freeStorage=0}ngOnChanges(e){let i=e.tour.currentValue;i.isOffer?(this.freeSeats=i.seats-this.countFreeSeats(i.passengers),this.freeStorage=i.storage-this.countFreeStorage(i.passengers)):(this.freeSeats=i.seats,this.freeStorage=i.storage)}ngOnInit(){this.mergeDateAndTime=this.tour.date+"T"+this.tour.startTime,this.changeUserName()}countFreeStorage(e){let i=0;for(const a of e)i+=a.storage;return i}countFreeSeats(e){let i=0;for(const a of e)i+=a.seats;return i}navigateToDetailsOrEdit(){var e=this;return(0,J.Z)(function*(){e.shareData.detailTour=e.tour;const i=yield e.userService.getUser(e.tour.creatorID);i&&(e.shareData.detailUser=i),e.router.navigate(e.userService.currUser&&e.userService.currUser.uid===e.tour.creatorID?["/editTour"]:["/tour-details"])})()}changeUserName(){this.userService.getUser(this.tour.creatorID).then(e=>{this.userName=e?e.username:"Kein User"})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr),r.Y36(Ln),r.Y36(Po),r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-card"]],inputs:{tour:"tour"},features:[r.TTD],decls:54,vars:8,consts:[[1,"card","mx-auto","border-0","mb-3",2,"max-width","600px"],[1,"card-body","rounded","shadow","mt-4","bg-white","border-0",3,"click"],[1,"container","cardio"],[1,"row"],[1,"col-4"],["for","startCity",1,"logoGreenDark","mr-1"],["id","startCity",1,"logoGreenDark"],["for","endCity",1,"logoGreenDark","mr-1"],["id","endCity",1,"logoGreenDark"],[1,"text-right"],[1,"mr-2","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 65 65",1,"profil"],["id","ic_account_circle_24px","d","M34.5,2A32.5,32.5,0,1,0,67,34.5,32.512,32.512,0,0,0,34.5,2Zm0,9.75a9.75,9.75,0,1,1-9.75,9.75A9.737,9.737,0,0,1,34.5,11.75Zm0,46.15A23.4,23.4,0,0,1,15,47.435c.1-6.468,13-10.01,19.5-10.01,6.467,0,19.4,3.542,19.5,10.01A23.4,23.4,0,0,1,34.5,57.9Z","transform","translate(-2 -2)","fill","#208479"],[1,"col"],[1,"col-9"],[1,"form-group"],["for","time",1,"logoGreenDark"],["type","datetime-local","id","time","readonly","",1,"form-control",3,"value"],[1,"col-2"],[1,"col","text-center"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 33.25"],["id","ic_work_24px","d","M33.5,9h-7V5.5A3.488,3.488,0,0,0,23,2H16a3.488,3.488,0,0,0-3.5,3.5V9h-7a3.473,3.473,0,0,0-3.482,3.5L2,31.75a3.488,3.488,0,0,0,3.5,3.5h28a3.488,3.488,0,0,0,3.5-3.5V12.5A3.488,3.488,0,0,0,33.5,9ZM23,9H16V5.5h7Z","transform","translate(-2 -2)","fill","#208479"],[1,"logoGreenDark","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 35"],["id","ic_perm_identity_24px","d","M21.5,8.156a4.594,4.594,0,1,1-4.594,4.594A4.593,4.593,0,0,1,21.5,8.156m0,19.687c6.5,0,13.344,3.194,13.344,4.594v2.406H8.156V32.438c0-1.4,6.847-4.594,13.344-4.594M21.5,4a8.75,8.75,0,0,0,0,17.5,9.171,9.171,0,0,0,5.78-2.179,8.385,8.385,0,0,0,2.97-6.571A8.748,8.748,0,0,0,21.5,4Zm0,19.688c-5.841,0-17.5,2.931-17.5,8.75V39H39V32.438C39,26.619,27.341,23.688,21.5,23.688Z","transform","translate(-4 -4)","fill","#208479"],["id","ic_monetization_on_24px","d","M19.5,2A17.5,17.5,0,1,0,37,19.5,17.506,17.506,0,0,0,19.5,2Zm2.468,28.157V33.5H17.3V30.122c-2.993-.63-5.53-2.555-5.722-5.95H15c.175,1.838,1.435,3.273,4.637,3.273,3.43,0,4.2-1.715,4.2-2.782,0-1.453-.77-2.818-4.672-3.745-4.34-1.05-7.315-2.835-7.315-6.422,0-3.01,2.432-4.97,5.442-5.618V5.5h4.672V8.912a6.187,6.187,0,0,1,4.988,5.933h-3.43c-.088-1.943-1.12-3.273-3.885-3.273-2.625,0-4.2,1.19-4.2,2.87,0,1.47,1.138,2.432,4.673,3.342s7.315,2.433,7.315,6.842c-.018,3.2-2.415,4.953-5.46,5.53Z","transform","translate(-2 -2)","fill","#208479"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.NdJ("click",function(){return i.navigateToDetailsOrEdit()}),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"label",5),r._uU(6,"Von:"),r.qZA(),r.TgZ(7,"span",6),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",4),r.TgZ(10,"label",7),r._uU(11,"Nach:"),r.qZA(),r.TgZ(12,"span",8),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"div",9),r.TgZ(16,"span",10),r._uU(17),r.qZA(),r.O4$(),r.TgZ(18,"svg",11),r._UZ(19,"path",12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.kcU(),r.TgZ(20,"div",3),r.TgZ(21,"div",13),r._UZ(22,"hr"),r.qZA(),r.qZA(),r.TgZ(23,"div",3),r.TgZ(24,"div",14),r.TgZ(25,"div",15),r.TgZ(26,"label",16),r._uU(27,"Abahrtszeit"),r.qZA(),r._UZ(28,"input",17),r.qZA(),r.qZA(),r.TgZ(29,"div",18),r.TgZ(30,"div",15),r.TgZ(31,"label",16),r._uU(32,"Dauer"),r.qZA(),r.TgZ(33,"div"),r._uU(34),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"div",3),r.TgZ(36,"div",13),r._UZ(37,"hr"),r.qZA(),r.qZA(),r.TgZ(38,"div",3),r.TgZ(39,"div",19),r.O4$(),r.TgZ(40,"svg",20),r._UZ(41,"path",21),r.qZA(),r.kcU(),r.TgZ(42,"span",22),r._uU(43),r.qZA(),r.qZA(),r.TgZ(44,"div",19),r.O4$(),r.TgZ(45,"svg",23),r._UZ(46,"path",24),r.qZA(),r.kcU(),r.TgZ(47,"span",22),r._uU(48),r.qZA(),r.qZA(),r.TgZ(49,"div",19),r.O4$(),r.TgZ(50,"svg",23),r._UZ(51,"path",25),r.qZA(),r.kcU(),r.TgZ(52,"span",22),r._uU(53),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(8),r.Oqu(i.tour.startCity),r.xp6(5),r.Oqu(i.tour.endCity),r.xp6(4),r.Oqu(i.userName),r.xp6(11),r.s9C("value",i.mergeDateAndTime),r.xp6(6),r.Oqu(i.tour.duration),r.xp6(9),r.Oqu(i.freeStorage),r.xp6(5),r.hij(" ",i.freeSeats,""),r.xp6(5),r.Oqu(i.tour.price))},styles:[".profil[_ngcontent-%COMP%]{position:relative;bottom:+8px;left:+10px}.card-body[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();function m6(n,t){if(1&n&&(r.TgZ(0,"div",6),r._UZ(1,"app-tour-card",7),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.Q6J("tour",e)}}function _6(n,t){if(1&n&&(r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.YNc(2,m6,2,1,"div",5),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngForOf",e.usedList)}}function y6(n,t){if(1&n&&(r.TgZ(0,"div",6),r._UZ(1,"app-tour-card",7),r.qZA()),2&n){const e=t.$implicit;r.xp6(1),r.Q6J("tour",e)}}function v6(n,t){if(1&n&&(r.TgZ(0,"div",8),r.TgZ(1,"div",9),r.YNc(2,y6,2,1,"div",5),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngForOf",e.usedList)}}let j2=(()=>{class n{constructor(e,i){this.tourService=e,this.shareData=i,this.usedList=[],this.isHorizontal=!1}ngOnInit(){this.usedList=this.shareData.tourSearch}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-list"]],inputs:{usedList:"usedList",isHorizontal:"isHorizontal"},decls:4,vars:2,consts:[["class","container-fluid d-flex",4,"ngIf"],[2,"height","50px"],["class","container-fluid",4,"ngIf"],[1,"container-fluid","d-flex"],[1,"row","flex-row","flex-nowrap","scrolling-wrapper"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"tour"],[1,"container-fluid"],[1,"row"]],template:function(e,i){1&e&&(r.YNc(0,_6,3,1,"div",0),r._UZ(1,"div",1),r.YNc(2,v6,3,1,"div",2),r._UZ(3,"div",1)),2&e&&(r.Q6J("ngIf",i.isHorizontal),r.xp6(2),r.Q6J("ngIf",!i.isHorizontal))},directives:[Zt,ct,g6],styles:[".scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}html[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 3px #0000004d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#005b51;border-radius:10px}"]}),n})();function b6(n,t){1&n&&(r.TgZ(0,"div",7),r.TgZ(1,"div",8),r.TgZ(2,"h1",9),r._uU(3,"Gib ein Startpunkt, ein Reiseziel und ein Datum an um Fahrten zu sehen"),r.qZA(),r.qZA(),r.qZA())}function w6(n,t){1&n&&(r.TgZ(0,"div",11),r.TgZ(1,"h1",9),r._uU(2,"Es gibt f\xfcr dieses Datum noch keine Fahrt zwischen diesen St\xe4dten"),r.qZA(),r.qZA())}function T6(n,t){if(1&n&&(r.TgZ(0,"div",7),r.YNc(1,w6,3,0,"div",10),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.isOffer)}}function C6(n,t){1&n&&(r.TgZ(0,"div",11),r.TgZ(1,"h1",9),r._uU(2,"Es gibt f\xfcr dieses Datum noch keine Anfrage zwischen diesen St\xe4dten"),r.qZA(),r.qZA())}function D6(n,t){if(1&n&&(r.TgZ(0,"div",7),r.YNc(1,C6,3,0,"div",10),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",!e.isOffer)}}let E6=(()=>{class n{constructor(e,i){this.tourService=e,this.shareData=i,this.searchbarheigth="5em",this.isOffer=!0,this.offerTours=[],this.requestTours=[],this.isHorizontal=!1,this.rightTours=[],this.leftTours=[],this.isOfferEmpty=!1,this.isRequestEmpty=!1,this.firstSearch=!1}offerOnOff(){this.isOffer=!this.isOffer,this.fillList().then()}ngOnInit(){var e=this;return(0,J.Z)(function*(){yield e.resetSearch(),e.shareData.tourSearch||(e.firstSearch=!0)})()}resetSearch(){var e=this;return(0,J.Z)(function*(){yield e.setTours(),yield e.fillList(),e.isOfferEmpty=0===e.offerTours.length,e.isRequestEmpty=0===e.requestTours.length,e.firstSearch=!1})()}setTours(){var e=this;return(0,J.Z)(function*(){null!==e.shareData.tourSearch&&(e.offerTours=e.shareData.tourSearch.filter(i=>i.isOffer),e.requestTours=e.shareData.tourSearch.filter(i=>!i.isOffer))})()}fillList(){var e=this;return(0,J.Z)(function*(){e.splitList(e.isOffer?e.offerTours:e.requestTours)})()}splitList(e){let i=[],a=[];for(let l=0;l<e.length;l++)(l+1)%2==0?i.push(e[l]):a.push(e[l]);this.rightTours=[...i],this.leftTours=[...a]}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-site"]],decls:11,vars:7,consts:[[3,"newSearchEvent"],[3,"changeState"],[1,"container"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col"],[3,"usedList","isHorizontal"],[1,"col-12"],[1,"center","mt-5"],[2,"font-size","2em","text-align","center"],["class","center m-5",4,"ngIf"],[1,"center","m-5"]],template:function(e,i){1&e&&(r.TgZ(0,"app-suchleiste",0),r.NdJ("newSearchEvent",function(){return i.resetSearch()}),r.qZA(),r.TgZ(1,"app-slide-checker",1),r.NdJ("changeState",function(){return i.offerOnOff()}),r.qZA(),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.YNc(4,b6,4,0,"div",4),r.YNc(5,T6,2,1,"div",4),r.YNc(6,D6,2,1,"div",4),r.TgZ(7,"div",5),r._UZ(8,"app-tour-list",6),r.qZA(),r.TgZ(9,"div",5),r._UZ(10,"app-tour-list",6),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngIf",i.isOfferEmpty&&i.isRequestEmpty&&i.firstSearch),r.xp6(1),r.Q6J("ngIf",i.isOfferEmpty&&!i.firstSearch),r.xp6(1),r.Q6J("ngIf",i.isRequestEmpty&&!i.firstSearch),r.xp6(2),r.Q6J("usedList",i.leftTours)("isHorizontal",i.isHorizontal),r.xp6(2),r.Q6J("usedList",i.rightTours)("isHorizontal",i.isHorizontal))},directives:[q2,XN,Zt,j2],styles:[""]}),n})();class ex{constructor(t,e,i){this.id=t,this.seats=e,this.storage=i,this.evaluated=-1}}let tx=(()=>{class n{constructor(){}arrivalTime(e,i,a){let l="";if(e.trim().length>0&&i.trim().length>0&&a.trim().length>0){let b=Number.parseInt(e.substr(0,2))+Number.parseInt(i),C=a.substr(8,2);b>=24&&(C=(Number.parseInt(C)+1).toString(),C.trim().length<2&&(C="0"+C),b%=24),l=b<10?a.substr(0,8)+C+"T0"+b.toString():a.substr(0,8)+C+"T"+b.toString(),l+=e.substr(2,3)}return l}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A6(n,t){1&n&&(r.TgZ(0,"div",51),r._uU(1,"Erstelle ein Angebot"),r.qZA())}function I6(n,t){1&n&&(r.TgZ(0,"div",51),r._uU(1,"Erstelle eine Anfrage"),r.qZA())}function S6(n,t){if(1&n&&(r.TgZ(0,"option",55),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.s9C("value",e.dId),r.xp6(1),r.HOy(" ",e.model," ",e.mark,", Sitze: ",e.seats," Stauraum: ",e.storage,"qm ")}}function M6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"div",10),r.TgZ(2,"label",52),r._uU(3,"Fahrzeug"),r.qZA(),r.TgZ(4,"select",53),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw(2).chosenCar=a}),r.YNc(5,S6,2,5,"option",54),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(4),r.Q6J("ngModel",e.chosenCar),r.xp6(1),r.Q6J("ngForOf",e.userCars)}}function N6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.YNc(4,A6,2,0,"div",5),r.YNc(5,I6,2,0,"div",5),r.qZA(),r.qZA(),r.TgZ(6,"app-slide-checker",6),r.NdJ("changeState",function(){return r.CHM(e),r.oxw().offerOnOff()}),r.qZA(),r.qZA(),r.TgZ(7,"div",7),r._UZ(8,"div",8),r.TgZ(9,"div",3),r.TgZ(10,"div",9),r.TgZ(11,"div",10),r.TgZ(12,"label",11),r._uU(13,"Von"),r.qZA(),r.TgZ(14,"input",12),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().startCity=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",9),r.TgZ(16,"div",10),r.TgZ(17,"label",13),r._uU(18,"Nach"),r.qZA(),r.TgZ(19,"input",14),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().endCity=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",9),r.TgZ(21,"div",10),r.TgZ(22,"label",15),r._uU(23,"Datum"),r.qZA(),r.TgZ(24,"input",16),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().date=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"div",3),r.TgZ(26,"div",9),r.TgZ(27,"div",10),r.TgZ(28,"label",17),r._uU(29,"Abfahrtszeit"),r.qZA(),r.TgZ(30,"input",18),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().startTime=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(31,"div",9),r.TgZ(32,"div",10),r.TgZ(33,"label",19),r._uU(34,"Dauer"),r.qZA(),r.TgZ(35,"select",20),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().duration=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r._UZ(36,"option",21),r.TgZ(37,"option",22),r._uU(38,"1h"),r.qZA(),r.TgZ(39,"option",23),r._uU(40,"2h"),r.qZA(),r.TgZ(41,"option",24),r._uU(42,"3h"),r.qZA(),r.TgZ(43,"option",25),r._uU(44,"4h"),r.qZA(),r.TgZ(45,"option",26),r._uU(46,"5h"),r.qZA(),r.TgZ(47,"option",27),r._uU(48,"6h"),r.qZA(),r.TgZ(49,"option",28),r._uU(50,"7h"),r.qZA(),r.TgZ(51,"option",29),r._uU(52,"8h"),r.qZA(),r.TgZ(53,"option",30),r._uU(54,"9h"),r.qZA(),r.TgZ(55,"option",31),r._uU(56,"10h"),r.qZA(),r.TgZ(57,"option",32),r._uU(58,"11h"),r.qZA(),r.TgZ(59,"option",33),r._uU(60,"12h"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"div",9),r.TgZ(62,"div",10),r.TgZ(63,"label",34),r._uU(64,"Ankunftszeit"),r.qZA(),r.TgZ(65,"input",35),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().endTime=a}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",3),r.TgZ(67,"div",36),r.TgZ(68,"div",10),r.TgZ(69,"label",37),r._uU(70,"Sitzpl\xe4tze"),r.qZA(),r.TgZ(71,"select",38),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().seats=a}),r._UZ(72,"option",21),r.TgZ(73,"option",39),r._uU(74,"0"),r.qZA(),r.TgZ(75,"option",22),r._uU(76,"1"),r.qZA(),r.TgZ(77,"option",23),r._uU(78,"2"),r.qZA(),r.TgZ(79,"option",24),r._uU(80,"3"),r.qZA(),r.TgZ(81,"option",25),r._uU(82,"4"),r.qZA(),r.TgZ(83,"option",26),r._uU(84,"5"),r.qZA(),r.TgZ(85,"option",27),r._uU(86,"6"),r.qZA(),r.TgZ(87,"option",28),r._uU(88,"7"),r.qZA(),r.TgZ(89,"option",29),r._uU(90,"8"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(91,"div",36),r.TgZ(92,"div",10),r.TgZ(93,"label",40),r._uU(94,"Stauraum"),r.qZA(),r.TgZ(95,"select",41),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().storage=a}),r._UZ(96,"option",21),r.TgZ(97,"option",39),r._uU(98,"0"),r.qZA(),r.TgZ(99,"option",22),r._uU(100,"1"),r.qZA(),r.TgZ(101,"option",23),r._uU(102,"2"),r.qZA(),r.TgZ(103,"option",24),r._uU(104,"3"),r.qZA(),r.TgZ(105,"option",25),r._uU(106,"4"),r.qZA(),r.TgZ(107,"option",26),r._uU(108,"5"),r.qZA(),r.TgZ(109,"option",27),r._uU(110,"6"),r.qZA(),r.TgZ(111,"option",28),r._uU(112,"7"),r.qZA(),r.TgZ(113,"option",29),r._uU(114,"8"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(115,"div",36),r.TgZ(116,"div"),r.TgZ(117,"label",42),r._uU(118),r.qZA(),r.qZA(),r.TgZ(119,"div",43),r.TgZ(120,"input",44),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().price=a}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(121,"div",3),r.TgZ(122,"div",9),r.TgZ(123,"label",45),r._uU(124,"Beschreibung"),r.qZA(),r.TgZ(125,"textarea",46),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().description=a}),r.qZA(),r.qZA(),r.YNc(126,M6,6,2,"div",47),r.qZA(),r.TgZ(127,"div",48),r.TgZ(128,"div",49),r.TgZ(129,"button",50),r.NdJ("click",function(){return r.CHM(e),r.oxw().checkInput()}),r._uU(130,"Erstellen"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(4),r.Q6J("ngIf",e.isOffer),r.xp6(1),r.Q6J("ngIf",!e.isOffer),r.xp6(9),r.Q6J("ngModel",e.startCity),r.xp6(5),r.Q6J("ngModel",e.endCity),r.xp6(5),r.Q6J("ngModel",e.date),r.xp6(6),r.Q6J("ngModel",e.startTime),r.xp6(5),r.Q6J("ngModel",e.duration),r.xp6(30),r.Q6J("ngModel",e.endTime),r.xp6(6),r.Q6J("ngModel",e.seats),r.xp6(24),r.Q6J("ngModel",e.storage),r.xp6(23),r.hij("Preis: ",e.price,""),r.xp6(2),r.Q6J("ngModel",e.price),r.xp6(5),r.Q6J("ngModel",e.description),r.xp6(1),r.Q6J("ngIf",e.isOffer)}}function x6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",56),r.TgZ(1,"div",3),r.TgZ(2,"div",57),r._uU(3," Melde dich an, um eine Tour zu erstellen! "),r.qZA(),r.qZA(),r.TgZ(4,"div",3),r._UZ(5,"br"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"button",58),r.NdJ("click",function(){return r.CHM(e),r.oxw().navigateToProfil()}),r._uU(9,"Anmelden"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}let k6=(()=>{class n{constructor(e,i,a,l,h,g,b){var C=this;this.tourData=e,this.userData=i,this.alert=a,this.router=l,this.carData=h,this.auth=g,this.calcService=b,this.userCars=[],this.isOffer=!0,this.startCity="",this.endCity="",this.startTime="",this.duration="",this.endTime="",this.date="",this.seats="",this.storage="",this.price="",this.description="",this.chosenCar="",this.auth.user.subscribe(function(){var S=(0,J.Z)(function*(N){if(N){const Z=yield C.userData.getUser(N.uid);null!=Z&&(yield C.fillCars(Z))}});return function(N){return S.apply(this,arguments)}}())}fillCars(e){var i=this;return(0,J.Z)(function*(){if(e){const a=[];for(const l of e.car){const h=yield i.carData.getCarById(l);h&&a.push(h)}i.userCars=[...a]}})()}navigateToProfil(){this.router.navigate(["/profil"])}offerOnOff(){this.isOffer=!this.isOffer}calculateEndTime(){this.endTime=this.calcService.arrivalTime(this.startTime,this.duration,this.date)}checkUniqueInputs(){return this.startTime.trim().length>0&&this.endCity.trim().length>0&&this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0&&this.seats.trim().length>0&&this.storage.trim().length>0&&Number.parseInt(this.price)>0&&Number.parseInt(this.seats)>0||Number.parseInt(this.storage)>0}checkInput(){var e=this;return(0,J.Z)(function*(){const i=e.userData.currUser;let a=e.newTour();i&&(e.isOffer&&e.checkUniqueInputs()&&e.chosenCar.trim().length>0?yield e.addOffer(a,i):e.checkUniqueInputs()&&!e.isOffer?yield e.addNoOffer(a,i):e.alert.showAlert({type:"danger",message:"Alle Felder ausf\xfcllen!"}))})()}addOffer(e,i){var a=this;return(0,J.Z)(function*(){e.driver=i.uid,e.car=a.chosenCar,yield a.addTour(e)})()}addNoOffer(e,i){var a=this;return(0,J.Z)(function*(){e.passengers[0]=new ex(i.uid,Number.parseInt(a.seats),Number.parseInt(a.storage)),yield a.addTour(e)})()}addTour(e){var i=this;return(0,J.Z)(function*(){yield i.tourData.addTour(e),i.clearInputs(),i.alert.showAlert({type:"success",message:"Erfolgreich eine Tour erstellt"})})()}newTour(){return new B2(this.userData.currUser?this.userData.currUser.uid:"",this.isOffer,this.startCity,this.endCity,this.startTime,Number.parseInt(this.duration),this.date,Number.parseInt(this.price),Number.parseInt(this.storage),Number.parseInt(this.seats),this.description)}clearInputs(){this.startCity="",this.endCity="",this.startTime="",this.duration="",this.date="",this.price="",this.storage="",this.seats="",this.description="",this.chosenCar="",this.endTime=""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(xr),r.Y36(Qd),r.Y36(Ln),r.Y36(km),r.Y36(Wu),r.Y36(tx))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-create-tours"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notloggedin",""],[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],["class","h2 logoGreenDark m-3",4,"ngIf"],[3,"changeState"],[1,"container","rounded","shadow","mt-4","bg-white","border-0"],[1,"row","m-4"],[1,"col"],[1,"form-group"],["for","cityStart",1,"logoGreenDark"],["type","text","id","cityStart",1,"form-control",3,"ngModel","ngModelChange"],["for","endCity",1,"logoGreenDark"],["type","text","id","endCity",1,"form-control",3,"ngModel","ngModelChange"],["for","date",1,"logoGreenDark"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["for","startTime",1,"logoGreenDark"],["type","time","id","startTime",1,"form-control",3,"ngModel","ngModelChange","change"],["for","duration",1,"logoGreenDark"],["name","","id","duration",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","readonly","","id","endTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["for","seats",1,"logoGreenDark"],["name","","id","seats",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["for","storage",1,"logoGreenDark"],["name","","id","storage",1,"form-control",3,"ngModel","ngModelChange"],["for","customRange3",1,"logoGreenDark"],[1,""],["type","range","min","0","max","500","id","customRange3",1,"form-range","mt-2",2,"min-width","100%","max-width","100%",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label","logoGreenDark"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["class","col",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-5","m-4"],[1,"btn","btn-success","btn-block",3,"click"],[1,"h2","logoGreenDark","m-3"],["for","cars",1,"logoGreenDark"],["name","","id","cars",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"container","mt-5","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"col","text-center","mt-3","h2","logoGreenDark"],[1,"btn","btn-outline-success","btn-lg","m-3",3,"click"]],template:function(e,i){if(1&e&&(r.YNc(0,N6,131,14,"div",0),r.YNc(1,x6,10,0,"ng-template",null,1,r.W1O)),2&e){const a=r.MAs(2);r.Q6J("ngIf",i.userData.currUser)("ngIfElse",a)}},directives:[Zt,XN,Y,Ka,Qa,Kd,uc,lc,gA,ct],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();function R6(n,t){if(1&n&&(r.TgZ(0,"option",27),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.s9C("value",e),r.xp6(1),r.Oqu(e)}}function O6(n,t){if(1&n&&(r.TgZ(0,"option",27),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.s9C("value",e),r.xp6(1),r.Oqu(e)}}function P6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",13),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"div",14),r.TgZ(5,"label",15),r._uU(6,"Sitzpl\xe4tze"),r.qZA(),r.TgZ(7,"select",16,17),r.YNc(9,R6,2,2,"option",18),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",2),r.TgZ(11,"div",14),r.TgZ(12,"label",19),r._uU(13,"Stauraum"),r.qZA(),r.TgZ(14,"select",20,21),r.YNc(16,O6,2,2,"option",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",22),r.TgZ(18,"div",1),r.TgZ(19,"div",23),r.TgZ(20,"div",24),r.TgZ(21,"button",25),r.NdJ("click",function(){r.CHM(e);const a=r.MAs(8),l=r.MAs(15);return r.oxw(2).bookIfOffer(a.value,l.value)}),r._uU(22,"Buchen "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div",23),r.TgZ(24,"div",24),r.TgZ(25,"button",26),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).activeModal.dismiss()}),r._uU(26,"Abbrechen "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(9),r.Q6J("ngForOf",e.seats),r.xp6(7),r.Q6J("ngForOf",e.storage)}}function F6(n,t){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,P6,27,2,"div",12),r.qZA()),2&n){const e=r.oxw(),i=r.MAs(14);r.xp6(1),r.Q6J("ngIf",e.tour.isOffer)("ngIfElse",i)}}function L6(n,t){if(1&n&&(r.TgZ(0,"option",27),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.s9C("value",e.dId),r.xp6(1),r.HOy(" ",e.model," ",e.mark,", Sitze: ",e.seats," Stauraum: ",e.storage,"qm ")}}function Z6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",14),r.TgZ(4,"label",28),r._uU(5,"Fahrzeug ausw\xe4hlen"),r.qZA(),r.TgZ(6,"select",29,30),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().tempCar=a}),r.YNc(8,L6,2,5,"option",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",22),r.TgZ(10,"div",1),r.TgZ(11,"div",23),r.TgZ(12,"div",24),r.TgZ(13,"button",25),r.NdJ("click",function(){r.CHM(e);const a=r.MAs(7);return r.oxw().bookIfNoOffer(a.value)}),r._uU(14,"Buchen "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",23),r.TgZ(16,"div",24),r.TgZ(17,"button",26),r.NdJ("click",function(){r.CHM(e);const a=r.oxw();return a.activeModal.dismiss([a.tour,!1])}),r._uU(18,"Abbrechen "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(6),r.Q6J("ngModel",e.tempCar),r.xp6(2),r.Q6J("ngForOf",e.cars)}}let U6=(()=>{class n{constructor(e,i,a,l,h,g){this.activeModal=e,this.alertData=i,this.userData=a,this.tourData=l,this.carData=h,this.shareData=g,this.tour=null,this.seats=[],this.storage=[],this.cars=[],this.tempCar=""}ngOnInit(){if(this.tour=Object.assign({},this.passedData),this.fillSeats(),this.fillStorage(),this.userData.currUser){let e=[...this.userData.currUser.car];for(const i of e)this.carData.getCarById(i).then(a=>{a&&this.cars.push(a)})}}fillSeats(){if(null!=this.tour){let e=this.tour.seats;if(this.tour.passengers.length>0)for(const i of this.tour.passengers)e-=i.seats;for(let i=0;i<=e;i++)this.seats.push(i)}}fillStorage(){if(null!=this.tour){let e=this.tour.storage;if(this.tour.passengers.length>0)for(const i of this.tour.passengers)e-=i.storage;for(let i=0;i<=e;i++)this.storage.push(i)}}bookIfNoOffer(e){var i=this;return(0,J.Z)(function*(){if(e.trim().length<=0)i.alertData.showAlert({type:"danger",message:"Sie m\xfcssen ein Auto ausw\xe4hlen"});else if(i.tour&&i.userData.currUser){const a=i.tour.dID?i.tour.dID:"",h=(yield i.tourData.getTour(a))||null;h&&0===h.driver.trim().length?(i.tour.car=e,i.tour.driver=i.userData.currUser.uid,i.tour.isBooked=!0,i.tour.areSeatsOccupied=!0,i.tour.isStorageFullyLoaded=!0,yield i.updateTour(),i.alertData.showAlert({type:"success",message:"Buchung war erfolgreich!"}),i.activeModal.dismiss([i.tour,!0])):i.alertData.showAlert({type:"danger",message:"Diese Fahrt ist bereits ausgebucht!"})}else i.alertData.showAlert({type:"danger",message:"Etwas ist schief gelaufen"})})()}bookIfOffer(e,i){var a=this;return(0,J.Z)(function*(){if(0===Number.parseInt(e)&&0===Number.parseInt(i))a.alertData.showAlert({type:"danger",message:"Sie k\xf6nnen keine Fahrt mit 0 Sitzpl\xe4tzen und Stauraum buchen"});else if(a.tour&&a.userData.currUser){const l=a.tour.dID?a.tour.dID:"",g=(yield a.tourData.getTour(l))||null;!g||g.areSeatsOccupied&&g.isStorageFullyLoaded?a.alertData.showAlert({type:"danger",message:"Diese Fahrt ist ausgebucht!"}):(a.tour.passengers.push(new ex(a.userData.currUser.uid,Number.parseInt(e),Number.parseInt(i))),a.tour.isBooked=!0,a.tour.seats===a.passengerSeats()&&(a.tour.areSeatsOccupied=!0),a.tour.storage===a.passengerStorage()&&(a.tour.isStorageFullyLoaded=!0),yield a.updateTour(),a.alertData.showAlert({type:"success",message:"Buchung war erfolgreich!"}),a.activeModal.dismiss([a.tour,!0]))}else a.alertData.showAlert({type:"danger",message:"Etwas ist schief gelaufen"})})()}updateTour(){var e=this;return(0,J.Z)(function*(){if(e.tour&&(yield e.tourData.updateTour(e.tour),e.tour.dID)){let i=yield e.tourData.getTour(e.tour.dID);null!=i&&(e.shareData.detailTour=i)}})()}passengerSeats(){let e=0;if(this.tour)for(const i of this.tour.passengers)e+=i.seats;return e}passengerStorage(){let e=0;if(this.tour)for(const i of this.tour.passengers)e+=i.storage;return e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(Qd),r.Y36(xr),r.Y36(Po),r.Y36(km),r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-book"]],inputs:{passedData:"passedData"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[4,"ngIf"],["noOffer",""],[4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"col"],["for","seats"],["name","","id","seats",1,"form-control"],["seatSelect",""],[3,"value",4,"ngFor","ngForOf"],["for","storage"],["name","","id","storage",1,"form-control"],["storSelect",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[3,"value"],["for","car"],["name","","id","car",1,"form-control",3,"ngModel","ngModelChange"],["chosenCar",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6,"Buchen"),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(12,F6,2,2,"div",10),r.YNc(13,Z6,19,2,"ng-template",null,11,r.W1O)),2&e&&(r.xp6(12),r.Q6J("ngIf",i.tour))},directives:[Zt,ct,uc,lc,Kd,Ka,Qa],styles:[""]}),n})();function V6(n,t){1&n&&(r.TgZ(0,"div",48),r._uU(1,"Das ist ein Angebot - Sie w\xfcrden mitfahren "),r.qZA())}function q6(n,t){1&n&&(r.TgZ(0,"div",48),r._uU(1,"Das ist eine Anfrage - Sie w\xe4ren der Fahrer "),r.qZA())}function B6(n,t){if(1&n&&(r.TgZ(0,"div",46),r.YNc(1,V6,2,0,"div",47),r.YNc(2,q6,2,0,"div",47),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.shareData.detailTour.isOffer),r.xp6(1),r.Q6J("ngIf",!e.shareData.detailTour.isOffer)}}function j6(n,t){if(1&n&&(r.TgZ(0,"div",3),r.TgZ(1,"div",25),r.TgZ(2,"div",3),r.TgZ(3,"div",49),r._uU(4,"Fahrer:"),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",50),r.TgZ(7,"div",51),r.O4$(),r.TgZ(8,"svg",52),r._UZ(9,"path",12),r.qZA(),r.qZA(),r.kcU(),r.TgZ(10,"div",53),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",54),r.TgZ(13,"b",55),r._uU(14,"Fahrzeug:"),r.qZA(),r._uU(15),r.qZA(),r.TgZ(16,"div",54),r.TgZ(17,"b",55),r._uU(18,"Kennzeichen:"),r.qZA(),r._uU(19),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(11),r.Oqu(e.driver),r.xp6(4),r.Oqu(null==e.car?null:e.car.model),r.xp6(4),r.Oqu(null==e.car?null:e.car.mark)}}function H6(n,t){1&n&&(r.TgZ(0,"div",3),r.TgZ(1,"div",13),r._UZ(2,"hr"),r.qZA(),r.qZA())}function $6(n,t){1&n&&(r.TgZ(0,"div",56),r.TgZ(1,"div",57),r.TgZ(2,"div"),r._uU(3,"Mitfahrer:"),r.qZA(),r.qZA(),r.qZA())}function G6(n,t){if(1&n&&(r.TgZ(0,"div",58),r.TgZ(1,"div",59),r.TgZ(2,"div",51),r.O4$(),r.TgZ(3,"svg",52),r._UZ(4,"path",12),r.qZA(),r.qZA(),r.kcU(),r.TgZ(5,"div",53),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"div",60),r.TgZ(8,"div"),r.TgZ(9,"b",55),r._uU(10,"Stauraum:"),r.qZA(),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",60),r.TgZ(13,"div"),r.TgZ(14,"b",55),r._uU(15,"Sitzpl\xe4tze:"),r.qZA(),r._uU(16),r.qZA(),r.qZA(),r.qZA()),2&n){const e=t.$implicit,i=t.index,a=r.oxw();r.xp6(6),r.hij(" ",a.passengersName[i],""),r.xp6(5),r.hij(" ",e.storage,"m\xb2"),r.xp6(5),r.hij(" ",e.seats,"")}}function z6(n,t){1&n&&(r.TgZ(0,"div",3),r.TgZ(1,"div",13),r._UZ(2,"hr"),r.qZA(),r.qZA())}function Y6(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",42),r.TgZ(1,"div",61),r.TgZ(2,"button",62),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancelTour()}),r._uU(3,"Stornieren"),r.qZA(),r.qZA(),r.qZA()}}let W6=(()=>{class n{constructor(e,i,a,l,h,g,b,C){this.shareData=e,this.calcService=i,this.userService=a,this.router=l,this.modalService=h,this.tourData=g,this.alertData=b,this.carData=C,this.mergeDateAndTime="",this.endTime="",this.userName="",this.car=null,this.passengers=[],this.passengersName=[],this.driver="",this.freeSeats=0,this.freeStorage=0,this.afterModal=!1}ngOnInit(){var e=this;return(0,J.Z)(function*(){var i,a;if(e.mergeDateAndTime=(null===(i=e.shareData.detailTour)||void 0===i?void 0:i.date)+"T"+(null===(a=e.shareData.detailTour)||void 0===a?void 0:a.startTime),e.shareData.detailTour){const l=e.shareData.detailTour.car;l.trim().length>0&&(e.car=yield e.carData.getCarById(l)),e.passengers=e.shareData.detailTour.passengers,e.freeStorage=e.shareData.detailTour.storage,e.freeSeats=e.shareData.detailTour.seats;const h=e.shareData.detailTour.driver,g=h.trim().length>0?yield e.userService.getUser(h):null;g&&(e.driver=g.username),0!==e.passengers.length&&(yield e.fillPassengersName(),e.shareData.detailTour.isOffer&&(e.freeSeats=e.freeSeats-e.countFreeSeats(e.passengers),e.freeStorage=e.freeStorage-e.countFreeStorage(e.passengers)))}e.calculateEndTime(),e.changeUserName()})()}countFreeStorage(e){let i=0;for(const a of e)i+=a.storage;return i}countFreeSeats(e){let i=0;for(const a of e)i+=a.seats;return i}fillPassengersName(){var e=this;return(0,J.Z)(function*(){let i=[];for(let a of e.passengers){const l=yield e.userService.getUser(a.id);i.push(l?l.username:"")}e.passengersName=[...i]})()}calculateEndTime(){var e,i,a,l,h,g;(null===(e=this.shareData.detailTour)||void 0===e?void 0:e.startTime)&&(null===(i=this.shareData.detailTour)||void 0===i?void 0:i.duration)&&(null===(a=this.shareData.detailTour)||void 0===a?void 0:a.date)&&(this.endTime=this.calcService.arrivalTime(null===(l=this.shareData.detailTour)||void 0===l?void 0:l.startTime,null===(h=this.shareData.detailTour)||void 0===h?void 0:h.duration.toString(),null===(g=this.shareData.detailTour)||void 0===g?void 0:g.date))}changeUserName(){var e,i,a,l;((null===(e=this.shareData.detailTour)||void 0===e?void 0:e.passengers[0])||(null===(i=this.shareData.detailTour)||void 0===i?void 0:i.driver)&&(null===(a=this.shareData.detailTour)||void 0===a?void 0:a.isOffer))&&this.userService.getUser(null===(l=this.shareData.detailTour)||void 0===l?void 0:l.creatorID).then(h=>{this.userName=h?h.username:"Kein User"})}bookedUp(){let e=this.shareData.detailTour;return!e||e.isStorageFullyLoaded&&e.areSeatsOccupied}alreadyPassenger(){let e=this.shareData.detailTour,i=this.userService.currUser,a=!1;if(e&&i)for(let l of e.passengers)l.id===i.uid&&(a=!0);return a}alreadyDriver(){let e=this.shareData.detailTour,i=this.userService.currUser;return!(!e||!i)&&e.driver===i.uid}cancelTour(){let e=this.shareData.detailTour;e&&(e.isOffer?this.cancelIfOffer(e):this.cancelIfNoOffer(e))}cancelIfOffer(e){var i=this;return(0,J.Z)(function*(){i.afterModal=!1;let a=i.userService.currUser?i.userService.currUser.uid:"";for(let l=0;l<e.passengers.length;l++)if(e.passengers[l].id===a){e.passengers.splice(l,1),i.passengers.splice(l,1);break}if(0!==e.passengers.length?(yield i.fillPassengersName(),i.freeSeats=i.freeSeats-i.countFreeSeats(i.passengers),i.freeStorage=i.freeStorage-i.countFreeStorage(i.passengers)):(i.freeSeats=e.seats,i.freeStorage=e.storage),0===e.passengers.length)e.isBooked=!1,e.isStorageFullyLoaded=!1,e.areSeatsOccupied=!1;else{let l=0;for(const g of e.passengers)l+=g.seats;l<e.seats&&(e.areSeatsOccupied=!1);let h=0;for(const g of e.passengers)h+=g.storage;h<e.storage&&(e.isStorageFullyLoaded=!1)}yield i.tourData.updateTour(e),i.alertData.showAlert({type:"success",message:"Erfolgreich storniert"})})()}cancelIfNoOffer(e){var i=this;return(0,J.Z)(function*(){i.driver="",e.car="",e.driver="",e.isBooked=!1,e.areSeatsOccupied=!1,e.isStorageFullyLoaded=!1,yield i.tourData.updateTour(e),i.afterModal=!1,i.alertData.showAlert({type:"success",message:"Erfolgreich storniert"})})()}openTourBook(){var e=this;const i=this.modalService.open(U6,{animation:!0,centered:!0});i.dismissed.toPromise().then(function(){var a=(0,J.Z)(function*(l){const h=l[0];if(e.afterModal=l[1],console.log(e.afterModal),h&&(e.passengers=[...h.passengers],yield e.fillPassengersName(),h.isOffer&&(0!==h.passengers.length?(yield e.fillPassengersName(),e.freeSeats=e.freeSeats-e.countFreeSeats(e.passengers),e.freeStorage=e.freeStorage-e.countFreeStorage(e.passengers)):(e.freeSeats=h.seats,e.freeStorage=h.storage)),h.driver.trim().length>0)){const g=yield e.userService.getUser(h.driver);e.driver=g?g.username:"",e.car=yield e.carData.getCarById(h.car)}});return function(l){return a.apply(this,arguments)}}()),i.componentInstance.passedData=this.shareData.detailTour}navigateToUser(){this.router.navigate(["/exprofile"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Qu),r.Y36(tx),r.Y36(xr),r.Y36(Ln),r.Y36(Sw),r.Y36(Po),r.Y36(Qd),r.Y36(km))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-details"]],decls:87,vars:18,consts:[[1,"container","d-flex","title-background","mw-100","justify-content-center"],["class","row align-self-center",4,"ngIf"],[1,"container","rounded","mt-4","shadow","bg-white","border-0","p-4"],[1,"row"],[1,"col-4"],["for","startCity",1,"logoGreenDark","mr-1"],["id","startCity",1,"h5"],["for","endCity",1,"logoGreenDark","mr-1"],["id","endCity",1,"h5"],[1,"text-right"],[1,"mr-2","logoGreenDark","hover",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","3em","viewBox","0 0 65 65",1,"profil","hover",3,"click"],["id","ic_account_circle_24px","d","M34.5,2A32.5,32.5,0,1,0,67,34.5,32.512,32.512,0,0,0,34.5,2Zm0,9.75a9.75,9.75,0,1,1-9.75,9.75A9.737,9.737,0,0,1,34.5,11.75Zm0,46.15A23.4,23.4,0,0,1,15,47.435c.1-6.468,13-10.01,19.5-10.01,6.467,0,19.4,3.542,19.5,10.01A23.4,23.4,0,0,1,34.5,57.9Z","transform","translate(-2 -2)","fill","#208479"],[1,"col"],[1,"row","justify-content-between"],[1,"col-3"],[1,"container","m-0","p-0"],[1,"form-group"],["for","startTime",1,"logoGreenDark"],["type","datetime-local","id","startTime","readonly","",1,"form-control",3,"value"],["for","duration",1,"logoGreenDark"],["id","duration"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","id","endTime","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8","mr-3",2,"background-color","#F3FBED"],[1,"container"],[1,"logoGreenDark"],[1,"row","m-4"],[1,"col","text-center"],[1,"d-flex","align-items-center","justify-content-center"],[1,""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 35 33.25",2,"width","2em"],["id","ic_work_24px","d","M33.5,9h-7V5.5A3.488,3.488,0,0,0,23,2H16a3.488,3.488,0,0,0-3.5,3.5V9h-7a3.473,3.473,0,0,0-3.482,3.5L2,31.75a3.488,3.488,0,0,0,3.5,3.5h28a3.488,3.488,0,0,0,3.5-3.5V12.5A3.488,3.488,0,0,0,33.5,9ZM23,9H16V5.5h7Z","transform","translate(-2 -2)","fill","#208479"],[1,"logoGreenDark","ml-2"],[1,"div"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 35 35",2,"width","2em"],["id","ic_perm_identity_24px","d","M21.5,8.156a4.594,4.594,0,1,1-4.594,4.594A4.593,4.593,0,0,1,21.5,8.156m0,19.687c6.5,0,13.344,3.194,13.344,4.594v2.406H8.156V32.438c0-1.4,6.847-4.594,13.344-4.594M21.5,4a8.75,8.75,0,0,0,0,17.5,9.171,9.171,0,0,0,5.78-2.179,8.385,8.385,0,0,0,2.97-6.571A8.748,8.748,0,0,0,21.5,4Zm0,19.688c-5.841,0-17.5,2.931-17.5,8.75V39H39V32.438C39,26.619,27.341,23.688,21.5,23.688Z","transform","translate(-4 -4)","fill","#208479"],[1,"logoGreenDark","ml-2","h5"],["id","ic_monetization_on_24px","d","M19.5,2A17.5,17.5,0,1,0,37,19.5,17.506,17.506,0,0,0,19.5,2Zm2.468,28.157V33.5H17.3V30.122c-2.993-.63-5.53-2.555-5.722-5.95H15c.175,1.838,1.435,3.273,4.637,3.273,3.43,0,4.2-1.715,4.2-2.782,0-1.453-.77-2.818-4.672-3.745-4.34-1.05-7.315-2.835-7.315-6.422,0-3.01,2.432-4.97,5.442-5.618V5.5h4.672V8.912a6.187,6.187,0,0,1,4.988,5.933h-3.43c-.088-1.943-1.12-3.273-3.885-3.273-2.625,0-4.2,1.19-4.2,2.87,0,1.47,1.138,2.432,4.673,3.342s7.315,2.433,7.315,6.842c-.018,3.2-2.415,4.953-5.46,5.53Z","transform","translate(-2 -2)","fill","#208479"],["class","row",4,"ngIf"],["class","row mb-4",4,"ngIf"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"col-5","mt-4","mb-2"],[1,"btn","btn-success","btn-block",3,"disabled","click"],["class","row justify-content-center",4,"ngIf"],[1,"row","align-self-center"],["class","col h2 logoGreenDark text-center",4,"ngIf"],[1,"col","h2","logoGreenDark","text-center"],[1,"col","font-weight-bold","h5","mb-4"],[1,"col-4","d-flex","align-items-center","justify-content-around"],[1,"text-center",2,"width","25%"],["xmlns","http://www.w3.org/2000/svg","width","3em","viewBox","0 0 65 65",1,"profil","hover"],[1,"",2,"width","75%"],[1,"col-4","d-flex","align-items-center","justify-content-center"],[1,"mr-1"],[1,"row","mb-4"],[1,"col-4","font-weight-bold","h5","d-flex"],[1,"row","mb-2"],[1,"col","d-flex","align-items-center","justify-content-around"],[1,"col","d-flex","align-self-center","justify-content-center"],[1,"col-5","m-2"],[1,"btn","btn-danger","btn-block",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,B6,3,2,"div",1),r.qZA(),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"label",5),r._uU(6,"Von:"),r.qZA(),r.TgZ(7,"div",6),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",4),r.TgZ(10,"label",7),r._uU(11,"Nach:"),r.qZA(),r.TgZ(12,"div",8),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"div",9),r.TgZ(16,"span",10),r.NdJ("click",function(){return i.navigateToUser()}),r._uU(17),r.qZA(),r.O4$(),r.TgZ(18,"svg",11),r.NdJ("click",function(){return i.navigateToUser()}),r._UZ(19,"path",12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.kcU(),r.TgZ(20,"div",3),r.TgZ(21,"div",13),r._UZ(22,"hr"),r.qZA(),r.qZA(),r.TgZ(23,"div",14),r.TgZ(24,"div",15),r.TgZ(25,"div",16),r.TgZ(26,"div",17),r.TgZ(27,"label",18),r._uU(28,"Abahrtszeit"),r.qZA(),r._UZ(29,"input",19),r.qZA(),r.TgZ(30,"div",17),r.TgZ(31,"label",20),r._uU(32,"Dauer"),r.qZA(),r.TgZ(33,"div",21),r._uU(34),r.qZA(),r.qZA(),r.TgZ(35,"div",17),r.TgZ(36,"label",22),r._uU(37,"Ankunftszeit"),r.qZA(),r.TgZ(38,"input",23),r.NdJ("ngModelChange",function(l){return i.endTime=l}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div",24),r.TgZ(40,"div",25),r.TgZ(41,"div",3),r.TgZ(42,"div",13),r.TgZ(43,"label",26),r._uU(44,"Beschreibung"),r.qZA(),r.TgZ(45,"div"),r._uU(46),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",27),r.TgZ(48,"div",28),r.TgZ(49,"div",29),r.TgZ(50,"div",30),r.O4$(),r.TgZ(51,"svg",31),r._UZ(52,"path",32),r.qZA(),r.qZA(),r.kcU(),r.TgZ(53,"div",30),r.TgZ(54,"span",33),r._uU(55),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(56,"div",28),r.TgZ(57,"div",29),r.TgZ(58,"div",34),r.O4$(),r.TgZ(59,"svg",35),r._UZ(60,"path",36),r.qZA(),r.qZA(),r.kcU(),r.TgZ(61,"div",30),r.TgZ(62,"span",37),r._uU(63),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(64,"div",28),r.TgZ(65,"div",29),r.TgZ(66,"div",30),r.O4$(),r.TgZ(67,"svg",35),r._UZ(68,"path",38),r.qZA(),r.qZA(),r.kcU(),r.TgZ(69,"div",34),r.TgZ(70,"span",37),r._uU(71),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(72,"div",3),r.TgZ(73,"div",13),r._UZ(74,"hr"),r.qZA(),r.qZA(),r.YNc(75,j6,20,3,"div",39),r.YNc(76,H6,3,0,"div",39),r.TgZ(77,"div",3),r.TgZ(78,"div",25),r.YNc(79,$6,4,0,"div",40),r.YNc(80,G6,17,3,"div",41),r.qZA(),r.qZA(),r.YNc(81,z6,3,0,"div",39),r.TgZ(82,"div",42),r.TgZ(83,"div",43),r.TgZ(84,"button",44),r.NdJ("click",function(){return i.openTourBook()}),r._uU(85," Buchen "),r.qZA(),r.qZA(),r.qZA(),r.YNc(86,Y6,4,0,"div",45),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.shareData.detailTour),r.xp6(7),r.Oqu(null==i.shareData.detailTour?null:i.shareData.detailTour.startCity),r.xp6(5),r.Oqu(null==i.shareData.detailTour?null:i.shareData.detailTour.endCity),r.xp6(4),r.Oqu(null==i.shareData.detailUser?null:i.shareData.detailUser.username),r.xp6(12),r.s9C("value",i.mergeDateAndTime),r.xp6(5),r.hij("",null==i.shareData.detailTour?null:i.shareData.detailTour.duration," Stunden"),r.xp6(4),r.Q6J("ngModel",i.endTime),r.xp6(8),r.Oqu(null==i.shareData.detailTour?null:i.shareData.detailTour.description),r.xp6(9),r.Oqu(i.freeStorage),r.xp6(8),r.Oqu(i.freeSeats),r.xp6(8),r.Oqu(null==i.shareData.detailTour?null:i.shareData.detailTour.price),r.xp6(4),r.Q6J("ngIf",i.driver.trim().length>0),r.xp6(1),r.Q6J("ngIf",0!==i.driver.trim().length),r.xp6(3),r.Q6J("ngIf",0!==i.passengers.length),r.xp6(1),r.Q6J("ngForOf",i.passengers),r.xp6(1),r.Q6J("ngIf",0!==i.passengers.length),r.xp6(3),r.Q6J("disabled",i.bookedUp()||i.alreadyPassenger()||i.alreadyDriver()||i.afterModal),r.xp6(2),r.Q6J("ngIf",i.alreadyPassenger()||i.alreadyDriver()||i.afterModal))},directives:[Zt,Y,Ka,Qa,ct],styles:[".title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.hover[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();function J6(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij("",e.evaluation/e.evaluationCounter," ")}}function K6(n,t){1&n&&(r.TgZ(0,"span"),r._uU(1,"0 "),r.qZA())}function Q6(n,t){if(1&n&&r._UZ(0,"app-tour-list",16),2&n){const e=r.oxw();r.Q6J("isHorizontal",!0)("usedList",e.offerTours)}}function X6(n,t){1&n&&(r.TgZ(0,"div",17),r.TgZ(1,"div",18),r.TgZ(2,"div",19),r._uU(3," Melde dich an, um eine Tour zu erstellen! "),r.qZA(),r.qZA(),r.qZA())}function eU(n,t){if(1&n&&r._UZ(0,"app-tour-list",16),2&n){const e=r.oxw();r.Q6J("isHorizontal",!0)("usedList",e.noOfferTours)}}function tU(n,t){1&n&&(r.TgZ(0,"div",17),r.TgZ(1,"div",18),r.TgZ(2,"div",19),r._uU(3," Melde dich an, um eine Tour zu erstellen! "),r.qZA(),r.qZA(),r.qZA())}let nU=(()=>{class n{constructor(e,i,a){this.userData=e,this.tourData=i,this.shareData=a,this.firstname="",this.lastname="",this.username="",this.age=-1,this.evaluation=-1,this.evaluationCounter=0,this.gender="",this.tours=[],this.offerTours=[],this.noOfferTours=[],this.goneWithNumber=0,this.user=this.shareData.detailUser,this.fillValues().then()}fillValues(){var e=this;return(0,J.Z)(function*(){null!=e.user&&(e.firstname=e.user.firstname,e.lastname=e.user.lastname,e.username=e.user.username,e.gender=e.user.gender,e.age=e.calcAge(new Date(e.user.birthday)),console.log(e.age),e.evaluation=e.user.evaluation,e.evaluationCounter=e.user.evaluationCounter,e.tours=yield e.tourData.getAllToursFromUser(e.user.uid),e.offerTours=e.tours.filter(i=>i.isOffer).filter(i=>!i.areSeatsOccupied).filter(i=>!i.isStorageFullyLoaded).filter(i=>(new Date).getTime()-new Date(i.date).getTime()<0),e.noOfferTours=e.tours.filter(i=>!i.isOffer).filter(i=>!i.areSeatsOccupied).filter(i=>!i.isStorageFullyLoaded).filter(i=>(new Date).getTime()-new Date(i.date).getTime()<0),yield e.goneWith())})()}calcAge(e){return Math.floor(((new Date).getTime()-e.getTime())/31536e6)}executedTours(){return this.tours.filter(e=>e.isOffer).filter(e=>e.isBooked).filter(e=>(new Date).getTime()-new Date(e.date).getTime()>0).length}goneWith(){var e=this;return(0,J.Z)(function*(){let i=e.user,a=0;if(null!=i){const l=i.uid;let h=yield e.tourData.getAllBookedTours();if(0!=h.length)for(const g of h)for(const b of g.passengers)b.id===l&&(a+=1)}e.goneWithNumber=a})()}openOfferTours(){return this.offerTours.length}openNoOfferTours(){return this.noOfferTours.length}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(xr),r.Y36(Po),r.Y36(Qu))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-stranger-profile"]],decls:46,vars:19,consts:[[1,"d-flex","justify-content-center","profile-header"],[1,"d-flex","justify-content-center","m-5","profile-info"],[1,"d-inline-flex"],[1,"profilePic"],[1,"d-inline-flex","flex-column"],[1,"h5","logoGreenDark"],[1,"logoGreenDark"],[1,"mr-1"],[3,"currentRate"],[4,"ngIf"],[1,"d-inline-flex","flex-column","m-5"],[1,"tours"],[1,""],[3,"isHorizontal","usedList",4,"ngIf","ngIfElse"],["noOffers",""],["noNoOffers",""],[3,"isHorizontal","usedList"],[1,"container","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"row"],[1,"col","text-center","mt-3","h2","logoGreenDark"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.O4$(),r._UZ(3,"svg",3),r.qZA(),r.kcU(),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6),r.qZA(),r.TgZ(7,"div",6),r.TgZ(8,"span",7),r._uU(9),r.qZA(),r.TgZ(10,"span"),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",6),r._uU(13),r.qZA(),r.TgZ(14,"div",6),r._uU(15),r.qZA(),r._UZ(16,"app-vote-stars",8),r.TgZ(17,"div",6),r.YNc(18,J6,2,1,"span",9),r.YNc(19,K6,2,0,"span",9),r._uU(20),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",10),r.TgZ(22,"div",5),r._uU(23,"Statistik"),r.qZA(),r.TgZ(24,"div",6),r._uU(25),r.qZA(),r.TgZ(26,"div",6),r._uU(27),r.qZA(),r.TgZ(28,"div",6),r._uU(29),r.qZA(),r.TgZ(30,"div",6),r._uU(31),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",11),r.TgZ(33,"div",12),r.TgZ(34,"h2",6),r._uU(35),r.qZA(),r.qZA(),r.YNc(36,Q6,1,2,"app-tour-list",13),r.YNc(37,X6,4,0,"ng-template",null,14,r.W1O),r.qZA(),r.TgZ(39,"div",11),r.TgZ(40,"div",12),r.TgZ(41,"h2",6),r._uU(42),r.qZA(),r.qZA(),r.YNc(43,eU,1,2,"app-tour-list",13),r.YNc(44,tU,4,0,"ng-template",null,15,r.W1O),r.qZA()),2&e){const a=r.MAs(38),l=r.MAs(45);r.xp6(6),r.Oqu(i.username),r.xp6(3),r.Oqu(i.firstname),r.xp6(2),r.Oqu(i.lastname),r.xp6(2),r.Oqu(i.age),r.xp6(2),r.Oqu(i.gender),r.xp6(1),r.Q6J("currentRate",i.evaluation/i.evaluationCounter),r.xp6(2),r.Q6J("ngIf",-1!==i.evaluation),r.xp6(1),r.Q6J("ngIf",-1===i.evaluation),r.xp6(1),r.hij(" von ",i.evaluationCounter," Nutzern "),r.xp6(5),r.hij("Ausgef\xfchrte Fahrten: ",i.executedTours(),""),r.xp6(2),r.hij("Mitgefahren: ",i.goneWithNumber,""),r.xp6(2),r.hij("Offene Fahrten: ",i.openOfferTours(),""),r.xp6(2),r.hij("Offene Anfragen: ",i.openNoOfferTours(),""),r.xp6(4),r.hij("",i.username,"'s Angebote"),r.xp6(1),r.Q6J("ngIf",i.offerTours.length>0)("ngIfElse",a),r.xp6(6),r.hij("",i.username,"'s Anfragen"),r.xp6(1),r.Q6J("ngIf",i.noOfferTours.length>0)("ngIfElse",l)}},directives:[V2,Zt,j2],styles:[".profilePic[_ngcontent-%COMP%]{background:transparent url(user_icon.eb5a77f0f60100d0c217.svg) no-repeat;width:10em}.profile-info[_ngcontent-%COMP%]{grid-gap:3rem;gap:3rem}.profile-header[_ngcontent-%COMP%]{grid-gap:10rem;gap:10rem;background-color:#f3fbed}.d-inline-flex[_ngcontent-%COMP%]{grid-gap:.3rem;gap:.3rem}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto}html[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent}.tours[_ngcontent-%COMP%]{margin-left:20%;margin-top:1em}"]}),n})();function rU(n,t){1&n&&(r.TgZ(0,"div",53),r._uU(1,"Bearbeite dein Angebot"),r.qZA())}function iU(n,t){1&n&&(r.TgZ(0,"div",53),r._uU(1,"Bearbeite deine Anfrage"),r.qZA())}function sU(n,t){if(1&n&&(r.TgZ(0,"option",57),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.s9C("value",e.dId),r.xp6(1),r.HOy(" ",e.model," ",e.mark,", Sitze: ",e.seats," Stauraum: ",e.storage,"qm ")}}function oU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"div",10),r.TgZ(2,"label",54),r._uU(3,"Fahrzeug"),r.qZA(),r.TgZ(4,"select",55),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw(2).chosenCar=a}),r.YNc(5,sU,2,5,"option",56),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw(2);r.xp6(4),r.Q6J("ngModel",e.chosenCar),r.xp6(1),r.Q6J("ngForOf",e.userCars)}}function aU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"div",4),r.YNc(4,rU,2,0,"div",5),r.YNc(5,iU,2,0,"div",5),r.qZA(),r.qZA(),r.TgZ(6,"app-slide-checker",6),r.NdJ("changeState",function(){return r.CHM(e),r.oxw().offerOnOff()}),r.qZA(),r.qZA(),r.TgZ(7,"div",7),r._UZ(8,"div",8),r.TgZ(9,"div",3),r.TgZ(10,"div",9),r.TgZ(11,"div",10),r.TgZ(12,"label",11),r._uU(13,"Von"),r.qZA(),r.TgZ(14,"input",12),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().startCity=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",9),r.TgZ(16,"div",10),r.TgZ(17,"label",13),r._uU(18,"Nach"),r.qZA(),r.TgZ(19,"input",14),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().endCity=a}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",9),r.TgZ(21,"div",10),r.TgZ(22,"label",15),r._uU(23,"Datum"),r.qZA(),r.TgZ(24,"input",16),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().date=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"div",3),r.TgZ(26,"div",9),r.TgZ(27,"div",10),r.TgZ(28,"label",17),r._uU(29,"Abfahrtszeit"),r.qZA(),r.TgZ(30,"input",18),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().startTime=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(31,"div",9),r.TgZ(32,"div",10),r.TgZ(33,"label",19),r._uU(34,"Dauer"),r.qZA(),r.TgZ(35,"select",20),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().duration=a})("change",function(){return r.CHM(e),r.oxw().calculateEndTime()}),r._UZ(36,"option",21),r.TgZ(37,"option",22),r._uU(38,"1h"),r.qZA(),r.TgZ(39,"option",23),r._uU(40,"2h"),r.qZA(),r.TgZ(41,"option",24),r._uU(42,"3h"),r.qZA(),r.TgZ(43,"option",25),r._uU(44,"4h"),r.qZA(),r.TgZ(45,"option",26),r._uU(46,"5h"),r.qZA(),r.TgZ(47,"option",27),r._uU(48,"6h"),r.qZA(),r.TgZ(49,"option",28),r._uU(50,"7h"),r.qZA(),r.TgZ(51,"option",29),r._uU(52,"8h"),r.qZA(),r.TgZ(53,"option",30),r._uU(54,"9h"),r.qZA(),r.TgZ(55,"option",31),r._uU(56,"10h"),r.qZA(),r.TgZ(57,"option",32),r._uU(58,"11h"),r.qZA(),r.TgZ(59,"option",33),r._uU(60,"12h"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(61,"div",9),r.TgZ(62,"div",10),r.TgZ(63,"label",34),r._uU(64,"Ankunftszeit"),r.qZA(),r.TgZ(65,"input",35),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().endTime=a}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",3),r.TgZ(67,"div",36),r.TgZ(68,"div",10),r.TgZ(69,"label",37),r._uU(70,"Sitzpl\xe4tze"),r.qZA(),r.TgZ(71,"select",38),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().seats=a}),r._UZ(72,"option",21),r.TgZ(73,"option",39),r._uU(74,"0"),r.qZA(),r.TgZ(75,"option",22),r._uU(76,"1"),r.qZA(),r.TgZ(77,"option",23),r._uU(78,"2"),r.qZA(),r.TgZ(79,"option",24),r._uU(80,"3"),r.qZA(),r.TgZ(81,"option",25),r._uU(82,"4"),r.qZA(),r.TgZ(83,"option",26),r._uU(84,"5"),r.qZA(),r.TgZ(85,"option",27),r._uU(86,"6"),r.qZA(),r.TgZ(87,"option",28),r._uU(88,"7"),r.qZA(),r.TgZ(89,"option",29),r._uU(90,"8"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(91,"div",36),r.TgZ(92,"div",10),r.TgZ(93,"label",40),r._uU(94,"Stauraum"),r.qZA(),r.TgZ(95,"select",41),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().storage=a}),r._UZ(96,"option",21),r.TgZ(97,"option",39),r._uU(98,"0"),r.qZA(),r.TgZ(99,"option",22),r._uU(100,"1"),r.qZA(),r.TgZ(101,"option",23),r._uU(102,"2"),r.qZA(),r.TgZ(103,"option",24),r._uU(104,"3"),r.qZA(),r.TgZ(105,"option",25),r._uU(106,"4"),r.qZA(),r.TgZ(107,"option",26),r._uU(108,"5"),r.qZA(),r.TgZ(109,"option",27),r._uU(110,"6"),r.qZA(),r.TgZ(111,"option",28),r._uU(112,"7"),r.qZA(),r.TgZ(113,"option",29),r._uU(114,"8"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(115,"div",36),r.TgZ(116,"div"),r.TgZ(117,"label",42),r._uU(118),r.qZA(),r.qZA(),r.TgZ(119,"div",43),r.TgZ(120,"input",44),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().price=a}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(121,"div",3),r.TgZ(122,"div",9),r.TgZ(123,"label",45),r._uU(124,"Beschreibung"),r.qZA(),r.TgZ(125,"textarea",46),r.NdJ("ngModelChange",function(a){return r.CHM(e),r.oxw().description=a}),r.qZA(),r.qZA(),r.YNc(126,oU,6,2,"div",47),r.qZA(),r.TgZ(127,"div",48),r.TgZ(128,"div",49),r.TgZ(129,"button",50),r.NdJ("click",function(){return r.CHM(e),r.oxw().deleteTour()}),r._uU(130,"Fahrt L\xf6schen"),r.qZA(),r.qZA(),r.TgZ(131,"div",49),r.TgZ(132,"button",51),r.NdJ("click",function(){r.CHM(e);const a=r.oxw();return a.fillFields(),a.calculateEndTime()}),r._uU(133,"\xc4nderungen verwerfen"),r.qZA(),r.qZA(),r.TgZ(134,"div",49),r.TgZ(135,"button",52),r.NdJ("click",function(){return r.CHM(e),r.oxw().checkInput()}),r._uU(136,"Speichern"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(4),r.Q6J("ngIf",e.isOffer),r.xp6(1),r.Q6J("ngIf",!e.isOffer),r.xp6(1),r.Q6J("checkedChecker",!e.isOffer),r.xp6(8),r.Q6J("ngModel",e.startCity),r.xp6(5),r.Q6J("ngModel",e.endCity),r.xp6(5),r.Q6J("ngModel",e.date),r.xp6(6),r.Q6J("ngModel",e.startTime),r.xp6(5),r.Q6J("ngModel",e.duration),r.xp6(30),r.Q6J("ngModel",e.endTime),r.xp6(6),r.Q6J("ngModel",e.seats),r.xp6(24),r.Q6J("ngModel",e.storage),r.xp6(23),r.hij("Preis: ",e.price,""),r.xp6(2),r.Q6J("ngModel",e.price),r.xp6(5),r.Q6J("ngModel",e.description),r.xp6(1),r.Q6J("ngIf",e.isOffer)}}function uU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",58),r.TgZ(1,"div",3),r.TgZ(2,"div",59),r._uU(3," Melde dich an, um eine Tour zu erstellen! "),r.qZA(),r.qZA(),r.TgZ(4,"div",3),r._UZ(5,"br"),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"div",4),r.TgZ(8,"button",60),r.NdJ("click",function(){return r.CHM(e),r.oxw().navigateToProfil()}),r._uU(9,"Anmelden"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}let lU=(()=>{class n{constructor(e,i,a,l,h,g,b,C){var S=this;this.tourData=e,this.shareData=i,this.userData=a,this.alert=l,this.router=h,this.calcService=g,this.auth=b,this.carData=C,this.userCars=[],this.isOffer=!0,this.startCity="",this.endCity="",this.startTime="",this.duration="",this.endTime="",this.date="",this.seats="",this.storage="",this.price="",this.description="",this.chosenCar="",this.tour=null,this.auth.user.subscribe(function(){var N=(0,J.Z)(function*(Z){if(Z){const B=yield S.userData.getUser(Z.uid);null!=B&&(yield S.fillCars(B))}});return function(Z){return N.apply(this,arguments)}}())}fillCars(e){var i=this;return(0,J.Z)(function*(){if(e){const a=[];for(const l of e.car){const h=yield i.carData.getCarById(l);h&&a.push(h)}i.userCars=[...a]}})()}ngOnInit(){this.shareData.detailTour&&(this.fillFields(),this.tour=this.shareData.detailTour),this.endTime=this.calcService.arrivalTime(this.startTime,this.duration,this.date)}fillFields(){this.shareData.detailTour&&(this.isOffer=this.shareData.detailTour.isOffer,this.startCity=this.shareData.detailTour.startCity,this.endCity=this.shareData.detailTour.endCity,this.startTime=this.shareData.detailTour.startTime,this.duration=this.shareData.detailTour.duration.toString(),this.date=this.shareData.detailTour.date,this.seats=this.shareData.detailTour.seats.toString(),this.storage=this.shareData.detailTour.storage.toString(),this.price=this.shareData.detailTour.price.toString(),this.description=this.shareData.detailTour.description,this.chosenCar=this.shareData.detailTour.car)}navigateToProfil(){this.router.navigate(["/profil"])}offerOnOff(){this.isOffer=!this.isOffer,this.alert.showAlert({type:"success",message:this.isOffer?"Deine Anfrage wird zu einem Angebot ge\xe4ndert":"Dein Angebot wird zu einer Anfrage ge\xe4ndert"})}calculateEndTime(){this.endTime=this.calcService.arrivalTime(this.startTime,this.duration,this.date)}checkUniqueInputs(){return this.startTime.trim().length>0&&this.endCity.trim().length>0&&this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0&&this.seats.trim().length>0&&this.storage.trim().length>0&&Number.parseInt(this.price)>0&&Number.parseInt(this.seats)>0||Number.parseInt(this.storage)>0}checkInput(){var e=this;return(0,J.Z)(function*(){const i=e.userData.currUser;e.newTourParams(),i&&e.shareData.detailTour&&(e.isOffer&&e.checkUniqueInputs()&&e.chosenCar.trim().length>0?yield e.addOffer(e.shareData.detailTour,i):e.checkUniqueInputs()&&!e.isOffer?yield e.addNoOffer(e.shareData.detailTour,i):e.alert.showAlert({type:"danger",message:"Alle Felder ausf\xfcllen!"}))})()}addOffer(e,i){var a=this;return(0,J.Z)(function*(){e.driver=i.uid,e.car=a.chosenCar,yield a.tourUpdate(e)})()}addNoOffer(e,i){var a=this;return(0,J.Z)(function*(){e.passengers[0]=new ex(i.uid,Number.parseInt(a.seats),Number.parseInt(a.storage)),yield a.tourUpdate(e)})()}tourUpdate(e){var i=this;return(0,J.Z)(function*(){yield i.tourData.updateTour(e),i.alert.showAlert({type:"success",message:"Tour bearbeitet!"})})()}deleteTour(){var e=this;return(0,J.Z)(function*(){e.shareData.detailTour&&(yield e.tourData.deleteTour(e.shareData.detailTour)),e.router.navigate(["/profil"]),e.alert.showAlert({type:"danger",message:"Tour gel\xf6scht!"})})()}newTourParams(){this.shareData.detailTour&&(this.shareData.detailTour.isOffer=this.isOffer,this.shareData.detailTour.startCity=this.startCity,this.shareData.detailTour.endCity=this.endCity,this.shareData.detailTour.startTime=this.startTime,this.shareData.detailTour.duration=Number.parseInt(this.duration),this.shareData.detailTour.date=this.date,this.shareData.detailTour.seats=Number.parseInt(this.seats),this.shareData.detailTour.storage=Number.parseInt(this.storage),this.shareData.detailTour.price=Number.parseInt(this.price),this.shareData.detailTour.description=this.description,this.shareData.detailTour.car=this.chosenCar)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu),r.Y36(xr),r.Y36(Qd),r.Y36(Ln),r.Y36(tx),r.Y36(Wu),r.Y36(km))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-edit"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notloggedin",""],[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],["class","h2 logoGreenDark m-3",4,"ngIf"],[3,"checkedChecker","changeState"],[1,"container","rounded","shadow","mt-4","bg-white","border-0"],[1,"row","m-4"],[1,"col"],[1,"form-group"],["for","cityStart",1,"logoGreenDark"],["type","text","id","cityStart",1,"form-control",3,"ngModel","ngModelChange"],["for","endCity",1,"logoGreenDark"],["type","text","id","endCity",1,"form-control",3,"ngModel","ngModelChange"],["for","date",1,"logoGreenDark"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["for","startTime",1,"logoGreenDark"],["type","time","id","startTime",1,"form-control",3,"ngModel","ngModelChange","change"],["for","duration",1,"logoGreenDark"],["name","","id","duration",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","readonly","","id","endTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["for","seats",1,"logoGreenDark"],["name","","id","seats",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["for","storage",1,"logoGreenDark"],["name","","id","storage",1,"form-control",3,"ngModel","ngModelChange"],["for","customRange3",1,"logoGreenDark"],[1,""],["type","range","min","0","max","500","id","customRange3",1,"form-range","mt-2",2,"min-width","100%","max-width","100%",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label","logoGreenDark"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["class","col",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4","mt-4","mb-4"],[1,"btn","btn-danger","btn-block",3,"click"],[1,"btn","btn-block",2,"background-color","lightgrey",3,"click"],[1,"btn","btn-success","btn-block",3,"click"],[1,"h2","logoGreenDark","m-3"],["for","cars",1,"logoGreenDark"],["name","","id","cars",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"container","mt-5","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"col","text-center","mt-3","h2","logoGreenDark"],[1,"btn","btn-outline-success","btn-lg","m-3",3,"click"]],template:function(e,i){if(1&e&&(r.YNc(0,aU,137,15,"div",0),r.YNc(1,uU,10,0,"ng-template",null,1,r.W1O)),2&e){const a=r.MAs(2);r.Q6J("ngIf",i.userData.currUser)("ngIfElse",a)}},directives:[Zt,XN,Y,Ka,Qa,Kd,uc,lc,gA,ct],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]:before{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})(),cU=(()=>{class n{constructor(e,i){this.activeModal=e,this.userData=i}evaluate(e){var i=this;return(0,J.Z)(function*(){console.log(e),i.activeModal.dismiss(e)})()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(cp),r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-evaluation"]],decls:38,vars:0,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-2"],[1,"col-8","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-1"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"input-group"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text","logoGreenDark","h5"],["id","inputGroupSelect01",1,"custom-select"],["selectedList",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"]],template:function(e,i){if(1&e){const a=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r._uU(6,"Bewertung abgeben"),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"button",8),r.NdJ("click",function(){return i.activeModal.dismiss()}),r.TgZ(10,"span",9),r._uU(11,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",10),r.TgZ(13,"div",1),r.TgZ(14,"div",2),r.TgZ(15,"div",11),r.TgZ(16,"div",12),r.TgZ(17,"div",13),r.TgZ(18,"label",14),r._uU(19,"Sterne"),r.qZA(),r.qZA(),r.TgZ(20,"select",15,16),r.TgZ(22,"option",17),r._uU(23,"1 Stern"),r.qZA(),r.TgZ(24,"option",18),r._uU(25,"2 Sterne"),r.qZA(),r.TgZ(26,"option",19),r._uU(27,"3 Sterne"),r.qZA(),r.TgZ(28,"option",20),r._uU(29,"4 Sterne"),r.qZA(),r.TgZ(30,"option",21),r._uU(31,"5 Sterne"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",22),r.TgZ(33,"div",1),r.TgZ(34,"div",23),r.TgZ(35,"div",24),r.TgZ(36,"button",25),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(21);return i.evaluate(h.value)}),r._uU(37,"Bewerten "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}},directives:[uc,lc],styles:[""]}),n})();function dU(n,t){1&n&&(r.TgZ(0,"td"),r.O4$(),r.TgZ(1,"svg",9),r._UZ(2,"path",10),r.qZA(),r.qZA())}function hU(n,t){1&n&&(r.TgZ(0,"td"),r.O4$(),r.TgZ(1,"svg",11),r._UZ(2,"path",12),r.qZA(),r.qZA())}function fU(n,t){1&n&&(r.TgZ(0,"td"),r.O4$(),r.TgZ(1,"svg",13),r._UZ(2,"path",14),r.qZA(),r.qZA())}function pU(n,t){1&n&&(r.TgZ(0,"td"),r.O4$(),r.TgZ(1,"svg",15),r._UZ(2,"path",16),r.qZA(),r.qZA())}function gU(n,t){1&n&&(r.TgZ(0,"td"),r.O4$(),r.TgZ(1,"svg",17),r._UZ(2,"path",18),r.qZA(),r.qZA())}function mU(n,t){1&n&&(r.TgZ(0,"a"),r._uU(1,"Bearbeiten"),r.qZA())}function _U(n,t){1&n&&(r.TgZ(0,"a"),r._uU(1,"Details"),r.qZA())}function yU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",19),r.NdJ("click",function(){r.CHM(e);const a=r.oxw().$implicit;return r.oxw(2).openEvaluation(a)}),r.TgZ(1,"a"),r._uU(2,"Bewerten"),r.qZA(),r.qZA()}}function vU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.YNc(3,dU,3,0,"td",6),r.YNc(4,hU,3,0,"td",6),r.YNc(5,fU,3,0,"td",6),r.YNc(6,pU,3,0,"td",6),r.YNc(7,gU,3,0,"td",6),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.TgZ(18,"td"),r._uU(19),r.qZA(),r.TgZ(20,"td"),r._uU(21),r.qZA(),r.TgZ(22,"td"),r._uU(23),r.qZA(),r.TgZ(24,"td"),r.TgZ(25,"button",7),r.NdJ("click",function(){const l=r.CHM(e).$implicit;return r.oxw(2).navigateToDetailsOrEdit(l)}),r.YNc(26,mU,2,0,"a",6),r.YNc(27,_U,2,0,"a",6),r.qZA(),r.YNc(28,yU,3,0,"button",8),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw(2);r.xp6(2),r.Oqu(e.isOffer?"Angebot":"Anfrage"),r.xp6(1),r.Q6J("ngIf",!e.isBooked),r.xp6(1),r.Q6J("ngIf",e.isBooked),r.xp6(1),r.Q6J("ngIf",0===i.switchStatus(e)),r.xp6(1),r.Q6J("ngIf",1===i.switchStatus(e)),r.xp6(1),r.Q6J("ngIf",2===i.switchStatus(e)),r.xp6(2),r.Oqu(e.startCity),r.xp6(2),r.Oqu(e.endCity),r.xp6(2),r.Oqu(e.date),r.xp6(2),r.Oqu(e.startTime),r.xp6(2),r.hij("",e.duration,"h"),r.xp6(2),r.Oqu(e.storage),r.xp6(2),r.Oqu(e.seats),r.xp6(2),r.Oqu(e.price),r.xp6(3),r.Q6J("ngIf",i.userService.currUser.uid===e.creatorID),r.xp6(1),r.Q6J("ngIf",i.userService.currUser.uid!==e.creatorID),r.xp6(1),r.Q6J("ngIf",2===i.switchStatus(e)&&i.userIsPassenger(e)&&!i.isCreator(e))}}function bU(n,t){if(1&n&&(r.TgZ(0,"table",2),r.TgZ(1,"thead",3),r.TgZ(2,"tr"),r.TgZ(3,"th",4),r._uU(4,"Art"),r.qZA(),r.TgZ(5,"th",4),r._uU(6,"Gebucht"),r.qZA(),r.TgZ(7,"th",4),r._uU(8,"Status"),r.qZA(),r.TgZ(9,"th",4),r._uU(10,"Von"),r.qZA(),r.TgZ(11,"th",4),r._uU(12,"Nach"),r.qZA(),r.TgZ(13,"th",4),r._uU(14,"Wann?"),r.qZA(),r.TgZ(15,"th",4),r._uU(16,"Um?"),r.qZA(),r.TgZ(17,"th",4),r._uU(18,"Dauer"),r.qZA(),r.TgZ(19,"th",4),r._uU(20,"Stauraum"),r.qZA(),r.TgZ(21,"th",4),r._uU(22,"Sitze"),r.qZA(),r.TgZ(23,"th",4),r._uU(24,"Preis"),r.qZA(),r._UZ(25,"th",4),r.qZA(),r.qZA(),r.TgZ(26,"tbody"),r.YNc(27,vU,29,17,"tr",5),r.qZA(),r.qZA()),2&n){const e=r.oxw();r.xp6(27),r.Q6J("ngForOf",e.usedList)}}let wU=(()=>{class n{constructor(e,i,a,l,h){this.tourService=e,this.shareData=i,this.userService=a,this.router=l,this.modal=h,this.usedList=[],this.status=0}navigateToDetailsOrEdit(e){var i=this;return(0,J.Z)(function*(){i.shareData.detailTour=e;const a=yield i.userService.getUser(e.creatorID);a&&(i.shareData.detailUser=a),i.router.navigate(i.userService.currUser&&i.userService.currUser.uid===e.creatorID?["/editTour"]:["/tour-details"])})()}switchStatus(e){switch(e.status){case Rm.NOSTARTEDYET:return 0;case Rm.ONTHEWAY:return 1;case Rm.ARRIVED:return 2}}isCreator(e){var i;return e.creatorID===(null===(i=this.userService.currUser)||void 0===i?void 0:i.uid)}userIsPassenger(e){return e.passengers.some(i=>{var a;return i.id===(null===(a=this.userService.currUser)||void 0===a?void 0:a.uid)})}openEvaluation(e){var i=this;this.modal.open(cU,{animation:!0,centered:!0}).dismissed.toPromise().then(function(){var l=(0,J.Z)(function*(h){if(console.log(h),h){let g=Number.parseInt(h),b=e.passengers.find(C=>{var S;return C.id===(null===(S=i.userService.currUser)||void 0===S?void 0:S.uid)});if(b&&-1===b.evaluated){b.evaluated=g,console.log(b),yield i.tourService.updateTour(e);let C=yield i.userService.getUser(e.creatorID);C&&(-1===C.evaluation&&(C.evaluation+=1),C.evaluation+=g,C.evaluationCounter+=1,yield i.userService.updateUser(C),console.log(C))}else if(b&&b.evaluated>=0){let C=b.evaluated;b.evaluated=g,console.log(b),yield i.tourService.updateTour(e);let S=yield i.userService.getUser(e.creatorID);S&&(S.evaluation-=C,S.evaluation+=g,yield i.userService.updateUser(S),console.log(S))}}});return function(h){return l.apply(this,arguments)}}())}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(Qu),r.Y36(xr),r.Y36(Ln),r.Y36(Sw))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-table"]],inputs:{usedList:"usedList"},decls:2,vars:1,consts:[[1,"table-responsive"],["class","table p-4",4,"ngIf"],[1,"table","p-4"],[1,"thead-cargo"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-outline-dark","btn-sm","mx-auto","green",3,"click"],["class","btn btn-outline-warning btn-sm mx-auto mt-2 evaluation",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","viewBox","0 0 14 14"],["id","ic_clear_24px","d","M19,6.41,17.59,5,12,10.59,6.41,5,5,6.41,10.59,12,5,17.59,6.41,19,12,13.41,17.59,19,19,17.59,13.41,12Z","transform","translate(-5 -5)","fill","#dc3545"],["xmlns","http://www.w3.org/2000/svg","width","17.6","height","13.4","viewBox","0 0 17.6 13.4"],["id","ic_done_24px","d","M9,16.2,4.8,12,3.4,13.4,9,19,21,7,19.6,5.6Z","transform","translate(-3.4 -5.6)","fill","#28a745"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20"],["id","ic_schedule_24px","d","M11.99,2A10,10,0,1,0,22,12,10,10,0,0,0,11.99,2ZM12,20a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm.5-13H11v6l5.25,3.15L17,14.92l-4.5-2.67Z","transform","translate(-2 -2)","fill","#645f5f"],["xmlns","http://www.w3.org/2000/svg","width","22","height","16","viewBox","0 0 22 16"],["id","ic_local_shipping_24px","d","M20,8H17V4H3A2.006,2.006,0,0,0,1,6V17H3a3,3,0,0,0,6,0h6a3,3,0,0,0,6,0h2V12ZM6,18.5A1.5,1.5,0,1,1,7.5,17,1.5,1.5,0,0,1,6,18.5Zm13.5-9L21.46,12H17V9.5Zm-1.5,9A1.5,1.5,0,1,1,19.5,17,1.5,1.5,0,0,1,18,18.5Z","transform","translate(-1 -4)","fill","#ff9300"],["xmlns","http://www.w3.org/2000/svg","width","15","height","17","viewBox","0 0 15 17"],["id","ic_flag_24px","d","M14.4,6,14,4H5V21H7V14h5.6l.4,2h7V6Z","transform","translate(-5 -4)","fill","#28a745"],[1,"btn","btn-outline-warning","btn-sm","mx-auto","mt-2","evaluation",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,bU,28,1,"table",1),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.userService.currUser))},directives:[Zt,ct],styles:["tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}th[_ngcontent-%COMP%]{background-color:#005b51;color:#fff;margin-right:auto}td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}button.green[_ngcontent-%COMP%]:hover{background-color:#005b51}button.evaluation[_ngcontent-%COMP%]:hover{background-color:#ff9300;color:#fff}table[_ngcontent-%COMP%]{overflow-y:scroll}button[_ngcontent-%COMP%]{min-width:50%}@media (max-width: 1310px){button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function TU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",6),r.TgZ(1,"div",1),r.TgZ(2,"div",7),r.TgZ(3,"div",8),r.TgZ(4,"select",9,10),r.NdJ("change",function(){r.CHM(e);const a=r.MAs(5);return r.oxw().fillList(a.value)}),r.TgZ(6,"option",11),r._uU(7,"Eigene Anfragen"),r.qZA(),r.TgZ(8,"option",12),r._uU(9,"Eigene Angebote"),r.qZA(),r.TgZ(10,"option",13),r._uU(11,"Gebuchte Anfragen"),r.qZA(),r.TgZ(12,"option",14),r._uU(13,"Gebuchte Angebote"),r.qZA(),r.qZA(),r.TgZ(14,"div",15),r.TgZ(15,"label",16),r._uU(16,"Filter"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",1),r.TgZ(18,"div",2),r._UZ(19,"app-tour-table",17),r.qZA(),r.qZA(),r.qZA()}if(2&n){const e=r.oxw();r.xp6(19),r.Q6J("usedList",e.list)}}function CU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",18),r.TgZ(1,"div",1),r.TgZ(2,"div",19),r._uU(3," Melde dich an, um deine Tours anzusehen! "),r.qZA(),r.qZA(),r.TgZ(4,"div",1),r._UZ(5,"br"),r.qZA(),r.TgZ(6,"div",1),r.TgZ(7,"div",2),r.TgZ(8,"button",20),r.NdJ("click",function(){return r.CHM(e),r.oxw().navigateToProfile()}),r._uU(9,"Anmelden"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}}const DU=[{path:"profil",component:YZ},{path:"carList",component:u6},{path:"",component:p6},{path:"tours",component:E6},{path:"createTours",component:k6},{path:"tour-details",component:W6},{path:"exprofile",component:nU},{path:"editTour",component:lU},{path:"genericTable/:id",component:(()=>{class n{constructor(e,i,a,l){this.tourData=e,this.userData=i,this.route=a,this.router=l,this.list=[],this.user=null}ngOnInit(){var e=this;return(0,J.Z)(function*(){const i=e.route.snapshot.paramMap.get("id"),a=i?yield e.userData.getUser(i):null;e.user=a||null,yield e.fillList("0")})()}fillList(e){var i=this;return(0,J.Z)(function*(){const a=Number.parseInt(e);if(i.user)switch(a){case 0:i.list=yield i.tourData.getAllToursFromUser(i.user.uid),i.list=i.list.filter(l=>!l.isOffer),console.log(i.list);break;case 1:i.list=yield i.tourData.getAllToursFromUser(i.user.uid).then(l=>l.filter(h=>h.isOffer));break;case 2:{const l=yield i.tourData.getAllBookedTours().then(h=>h.filter(g=>{var b;return g.driver===(null===(b=i.user)||void 0===b?void 0:b.uid)}));i.list=l.filter(h=>!h.isOffer).filter(h=>{var g;return h.creatorID!=(null===(g=i.user)||void 0===g?void 0:g.uid)}),console.log("list case 2: ",i.list);break}case 3:{const l=yield i.tourData.getAllBookedTours().then(h=>h.filter(g=>i.isPassenger(g.passengers)));i.list=l.filter(h=>h.isOffer).filter(h=>{var g;return h.creatorID!=(null===(g=i.user)||void 0===g?void 0:g.uid)}),console.log("list case 3: ",i.list);break}}})()}navigateToProfile(){this.router.navigate(["/profil"])}isPassenger(e){return e.some(i=>{var a;return i.id===(null===(a=this.user)||void 0===a?void 0:a.uid)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Po),r.Y36(xr),r.Y36(Du),r.Y36(Ln))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-tour-list-generic"]],decls:8,vars:2,consts:[[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],[1,"h2","logoGreenDark","m-3"],["class","container mt-4",4,"ngIf","ngIfElse"],["notloggedin",""],[1,"container","mt-4"],[1,"col-3","ml-auto","mb-2"],[1,"input-group"],["id","inputGroupSelect01",1,"custom-select",3,"change"],["selectedList",""],["value","0","selected",""],["value","1"],["value","2"],["value","3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],[3,"usedList"],[1,"container","mt-5","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"col","text-center","mt-3","h2","logoGreenDark"],[1,"btn","btn-outline-success","btn-lg","m-3",3,"click"]],template:function(e,i){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._uU(4,"Generische Tabelle"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(5,TU,20,1,"div",4),r.YNc(6,CU,10,0,"ng-template",null,5,r.W1O)),2&e){const a=r.MAs(7);r.xp6(5),r.Q6J("ngIf",i.userData.currUser)("ngIfElse",a)}},directives:[Zt,uc,lc,wU],styles:[".title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}"]}),n})()}];let EU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[$0.forRoot(DU,{onSameUrlNavigation:"reload"})],$0]}),n})();function AU(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p"),r.TgZ(1,"ngb-alert",1),r.NdJ("closed",function(){const l=r.CHM(e).$implicit;return r.oxw().close(l)}),r._uU(2),r.qZA(),r.qZA()}if(2&n){const e=t.$implicit;r.xp6(1),r.Q6J("type",e.type),r.xp6(1),r.hij("",e.message," ")}}let IU=(()=>{class n{constructor(e){this.alert=e}close(e){this.alert.alerts.splice(this.alert.alerts.indexOf(e),1)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Qd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-alerts"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"type","closed"]],template:function(e,i){1&e&&r.YNc(0,AU,3,2,"p",0),2&e&&r.Q6J("ngForOf",i.alert.alerts)},directives:[ct,E3],styles:["p[_ngcontent-%COMP%]{position:absolute;width:20%;top:1%;left:40%;margin-bottom:0}"]}),n})(),SU=(()=>{class n{constructor(e,i){this.router=e,this.userData=i}mobileToggle(e,i){"false"===e.getAttribute("data-visible")?(e.setAttribute("data-visible",!0),i.setAttribute("aria-expanded",!0)):(e.setAttribute("data-visible",!1),i.setAttribute("aria-expanded",!1))}navigateToTourTable(){const e=this.userData.currUser;this.router.navigate([`/genericTable/${null==e?void 0:e.uid}`])}navigateToUser(){this.router.navigate(["/profil"])}navigateToTours(){this.router.navigate(["/tours"])}navigateToMainPage(){this.router.navigate(["/"])}navigateToCreateTourPage(){this.router.navigate(["/createTours"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ln),r.Y36(xr))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-navbar"]],decls:104,vars:0,consts:[[1,"navbarTest"],[1,"d-flex","justify-content-between","navbar-light","bg-light"],[1,"d-inline-flex","align-items-center"],[1,"logo",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 309 90"],["id","clip-path"],["id","Rectangle_1","data-name","Rectangle 1","width","309","height","90","transform","translate(0.445 0.379)","fill","#fff","stroke","#707070","stroke-width","1"],["id","Mask_Group_1","data-name","Mask Group 1","transform","translate(-0.445 -0.379)","clip-path","url(#clip-path)"],["id","semi_androidMyCargonaut","transform","translate(43.634 0.174)"],["id","Truck"],["id","Path_9","data-name","Path 9","d","M480.536,338.77l-.74,2.914h142.77","transform","translate(-402.617 -285.1)","fill","#005b52"],["id","Path_10","data-name","Path 10","d","M489.733,265.191l-.74,2.914,142.77,1.7","transform","translate(-410.335 -223.178)","fill","#005b52"],["id","Path_11","data-name","Path 11","d","M494.332,197.744l-.74,2.914,142.03,3.157","transform","translate(-414.194 -166.416)","fill","#005b52"],["id","Path_12","data-name","Path 12","d","M503.53,122.632l-.74,2.914L643.34,130.4","transform","translate(-421.912 -103.204)","fill","#005b52"],["id","Path_13","data-name","Path 13","d","M511.194,50.586l-.74,2.914,140.057,7.043","transform","translate(-428.343 -42.571)","fill","#005b52"],["id","Path_14","data-name","Path 14","d","M427.678,56.584h4.932L439.267,0h-4.685Z","transform","translate(-358.882)","fill","#005b52"],["id","Path_15","data-name","Path 15","d","M503.5,490.256l6.411-39.585-12.822.243s-9.863.486-16.028,4.614-7.4,8.257-7.4,8.257l21.946-.486-18.74-.729s1.906-4.291,7.891-6.557a43.213,43.213,0,0,1,12.082-2.671h9.37Z","transform","translate(-436.924 -442.657)","fill","#005b52"],["id","Path_16","data-name","Path 16","d","M303.949,542.645l-23.425.486a9.868,9.868,0,0,0-9.37,6.314,49.484,49.484,0,0,0-2.712,7.286l-6.411.243s-8.137-.243-13.069,8.743c-3.672,6.688-3.7,10.685-3.7,10.685l23.672.243s2.712-8.5,9.123-8.5c9.37,0,11.836,7.043,11.836,7.043s-.74-8.985-12.082-8.985c-7.644,0-9.617,7.528-9.617,7.528H250.441s1.726-8.985,5.425-11.414a14.839,14.839,0,0,1,7.4-2.428l31.069-.971,2.466-12.143-18.987.486a3.717,3.717,0,0,1,2.466-2.671,21.993,21.993,0,0,1,4.438-.486Z","transform","translate(-245.263 -520.06)","fill","#005b52"],["id","Cargonaut","transform","translate(70.49 82.13)","fill","#005b52","font-size","29","font-family","Helvetica-LightOblique, Helvetica","font-weight","300","font-style","oblique"],["x","0","y","0","letter-spacing","0.02em"],["y","0"],["y","0","letter-spacing","-0.02em"],["y","0","letter-spacing","-0.01em"],["id","My","transform","translate(15.379 81.291)","fill","#005b52","font-size","28","font-family","BrushScriptMT, Brush Script MT"],["x","0","y","0"],[1,"h5","logoGreenDark","pl-0","m-2",3,"click"],[1,"h5","logoGreenDark","m-2",3,"click"],[1,"",2,"max-width","2.5em",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 28 28"],["id","ic_add_circle_outline_24px","d","M17.4,9H14.6v5.6H9v2.8h5.6V23h2.8V17.4H23V14.6H17.4ZM16,2A14,14,0,1,0,30,16,14.005,14.005,0,0,0,16,2Zm0,25.2A11.2,11.2,0,1,1,27.2,16,11.215,11.215,0,0,1,16,27.2Z","transform","translate(-2 -2)","fill","#208479"],[1,"",3,"click"],[1,"h5","logoGreenDark"],[1,"ml-3","mr-5",2,"max-width","3em",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 40 40"],["id","ic_account_circle_24px","d","M22,2A20,20,0,1,0,42,22,20.007,20.007,0,0,0,22,2Zm0,6a6,6,0,1,1-6,6A5.992,5.992,0,0,1,22,8Zm0,28.4a14.4,14.4,0,0,1-12-6.44c.06-3.98,8-6.16,12-6.16,3.98,0,11.94,2.18,12,6.16A14.4,14.4,0,0,1,22,36.4Z","transform","translate(-2 -2)","fill","#208479"],[1,"primary-header","flexi","bg-light"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 309 90",1,"logo",3,"click"],["aria-controls","primary-navigation","aria-expanded","false",1,"mobile-nav-toggle",3,"click"],["mobile",""],[1,"sr-only"],["id","primary-navigation","data-visible","false",1,"primary-navigation","flexi"],["primaryNavigation",""],[1,"buttons",3,"click"]],template:function(e,i){if(1&e){const a=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"nav",1),r.TgZ(2,"div",2),r.TgZ(3,"button",3),r.NdJ("click",function(){return i.navigateToMainPage()}),r.O4$(),r.TgZ(4,"svg",4),r.TgZ(5,"defs"),r.TgZ(6,"clipPath",5),r._UZ(7,"rect",6),r.qZA(),r.qZA(),r.TgZ(8,"g",7),r.TgZ(9,"g",8),r.TgZ(10,"g",9),r._UZ(11,"path",10),r._UZ(12,"path",11),r._UZ(13,"path",12),r._UZ(14,"path",13),r._UZ(15,"path",14),r._UZ(16,"path",15),r._UZ(17,"path",16),r._UZ(18,"path",17),r.qZA(),r.TgZ(19,"text",18),r.TgZ(20,"tspan",19),r._uU(21,"C"),r.qZA(),r.TgZ(22,"tspan",20),r._uU(23,"a"),r.qZA(),r.TgZ(24,"tspan",21),r._uU(25,"r"),r.qZA(),r.TgZ(26,"tspan",20),r._uU(27,"go"),r.qZA(),r.TgZ(28,"tspan",22),r._uU(29,"n"),r.qZA(),r.TgZ(30,"tspan",20),r._uU(31,"aut"),r.qZA(),r.qZA(),r.TgZ(32,"text",23),r.TgZ(33,"tspan",24),r._uU(34,"My"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.kcU(),r.TgZ(35,"button",25),r.NdJ("click",function(){return i.navigateToTours()}),r._uU(36,"Mitfahrgelegenheit"),r.qZA(),r.TgZ(37,"button",26),r.NdJ("click",function(){return i.navigateToTourTable()}),r._uU(38,"Meine Angebote & Anfragen"),r.qZA(),r.qZA(),r.TgZ(39,"div",2),r.TgZ(40,"button",27),r.NdJ("click",function(){return i.navigateToCreateTourPage()}),r.O4$(),r.TgZ(41,"svg",28),r._UZ(42,"path",29),r.qZA(),r.qZA(),r.kcU(),r.TgZ(43,"button",30),r.NdJ("click",function(){return i.navigateToCreateTourPage()}),r.TgZ(44,"span",31),r._uU(45,"Angebote & Anfragen erstellen"),r.qZA(),r.qZA(),r.TgZ(46,"button",32),r.NdJ("click",function(){return i.navigateToUser()}),r.O4$(),r.TgZ(47,"svg",33),r._UZ(48,"path",34),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.kcU(),r.TgZ(49,"div",35),r.TgZ(50,"div"),r.O4$(),r.TgZ(51,"svg",36),r.NdJ("click",function(){return i.navigateToMainPage()}),r.TgZ(52,"defs"),r.TgZ(53,"clipPath",5),r._UZ(54,"rect",6),r.qZA(),r.qZA(),r.TgZ(55,"g",7),r.TgZ(56,"g",8),r.TgZ(57,"g",9),r._UZ(58,"path",10),r._UZ(59,"path",11),r._UZ(60,"path",12),r._UZ(61,"path",13),r._UZ(62,"path",14),r._UZ(63,"path",15),r._UZ(64,"path",16),r._UZ(65,"path",17),r.qZA(),r.TgZ(66,"text",18),r.TgZ(67,"tspan",19),r._uU(68,"C"),r.qZA(),r.TgZ(69,"tspan",20),r._uU(70,"a"),r.qZA(),r.TgZ(71,"tspan",21),r._uU(72,"r"),r.qZA(),r.TgZ(73,"tspan",20),r._uU(74,"go"),r.qZA(),r.TgZ(75,"tspan",22),r._uU(76,"n"),r.qZA(),r.TgZ(77,"tspan",20),r._uU(78,"aut"),r.qZA(),r.qZA(),r.TgZ(79,"text",23),r.TgZ(80,"tspan",24),r._uU(81,"My"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.kcU(),r.TgZ(82,"button",37,38),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.mobileToggle(h,g)}),r.TgZ(84,"span",39),r._uU(85,"Menu"),r.qZA(),r.qZA(),r.TgZ(86,"nav"),r.TgZ(87,"ul",40,41),r.TgZ(89,"li"),r.TgZ(90,"a",42),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.navigateToMainPage(),i.mobileToggle(h,g)}),r._uU(91,"Startseite"),r.qZA(),r.qZA(),r.TgZ(92,"li"),r.TgZ(93,"a",42),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.navigateToTours(),i.mobileToggle(h,g)}),r._uU(94,"Mitfahrgelegenheiten"),r.qZA(),r.qZA(),r.TgZ(95,"li"),r.TgZ(96,"a",42),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.navigateToTourTable(),i.mobileToggle(h,g)}),r._uU(97,"Meine Angebote und Anfragen"),r.qZA(),r.qZA(),r.TgZ(98,"li"),r.TgZ(99,"a",42),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.navigateToCreateTourPage(),i.mobileToggle(h,g)}),r._uU(100,"Angebote und Anfragen erstellen"),r.qZA(),r.qZA(),r.TgZ(101,"li"),r.TgZ(102,"a",42),r.NdJ("click",function(){r.CHM(a);const h=r.MAs(88),g=r.MAs(83);return i.navigateToUser(),i.mobileToggle(h,g)}),r._uU(103,"Profil"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}},styles:[".h5[_ngcontent-%COMP%]{font-family:Arial,serif;font-style:italic}button[_ngcontent-%COMP%]{border:none;background-color:transparent}.buttons[_ngcontent-%COMP%]{color:#fff}.flexi[_ngcontent-%COMP%]{display:flex;grid-gap:3rem;gap:3rem}nav[_ngcontent-%COMP%]{z-index:1000;box-shadow:0 5px 10px #d3d3d3}.primary-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;display:none;z-index:1000;box-shadow:0 5px 10px #d3d3d3}.mobile-nav-toggle[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]{margin:2rem;width:15em}.logo[_ngcontent-%COMP%]:hover{cursor:pointer}.primary-navigation[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;background:hsl(0,0%,0%,.75)}.primary-navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@supports ((-webkit-backdrop-filter: blur(1rem)) or (backdrop-filter: blur(1rem))){.primary-navigation[_ngcontent-%COMP%]{background:hsl(0,0%,100%,.6);-webkit-backdrop-filter:blur(1rem);backdrop-filter:blur(1rem)}.buttons[_ngcontent-%COMP%]{color:#005b51}}@media (max-width: 1310px){.primary-header[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:hover{cursor:pointer}.navbarTest[_ngcontent-%COMP%]{display:none}.primary-navigation[_ngcontent-%COMP%]{z-index:1000;position:fixed;inset:0 0 0 45%;flex-direction:column;padding:min(30vh,8rem) 2rem;transform:translate(100%);transition:transform .35s ease-out}.primary-navigation[data-visible=true][_ngcontent-%COMP%]{transform:translate(0)}.mobile-nav-toggle[_ngcontent-%COMP%]{display:block;position:absolute;width:5vw;border:0;aspect-ratio:1;top:4em;right:1em;z-index:10000;background:transparent url(ic_menu_24px.7c9656cc6c3ea3170641.svg) no-repeat}.mobile-nav-toggle[aria-expanded=true][_ngcontent-%COMP%]{background-image:url(ic_close_24px.f4299185753109461b2a.svg)}}"]}),n})(),MU=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","bg-light"],[1,"container","p-0","m-0"],[1,"row","p-0","m-0"],[1,"col","m-2"]],template:function(e,i){1&e&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._uU(4,"\xa9Cargonaut"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[".footer[_ngcontent-%COMP%]{height:40px;padding:0;margin:0;width:100%}"]}),n})(),NU=(()=>{class n{constructor(e,i){this.router=e,this.tour=i,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),"/carList"===this.router.url&&this.router.navigate(["/carList"]),"/tours"===this.router.url&&this.router.navigate(["/tours"]),"/createTours"===this.router.url&&this.router.navigate(["/createTours"]),"/tour-details"===this.router.url&&this.router.navigate(["/tour-details"]),"/exprofile"===this.router.url&&this.router.navigate(["/exprofile"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ln),r.Y36(Po))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"wrapper"],[1,"content"],[1,"footer"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"app-alerts"),r._UZ(3,"app-navbar"),r._UZ(4,"router-outlet"),r.qZA(),r._UZ(5,"app-footer",2),r.qZA())},directives:[IU,SU,$h,MU],styles:[".wrapper[_ngcontent-%COMP%]{position:relative;min-height:100%;height:auto!important}.content[_ngcontent-%COMP%]{padding-bottom:50px}.footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]}),n})();class kU{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new RU(t,this.dueTime,this.scheduler))}}class RU extends Wn.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(OU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function OU(n){n.debouncedNext()}const H2="firebasestorage.googleapis.com",$2="storageBucket";class Or extends Tt.ZR{constructor(t,e){super(nx(t),`Firebase Storage: ${e} (${nx(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}_codeEquals(t){return nx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function nx(n){return"storage/"+n}function rx(){return new Or("unknown","An unknown error occurred, please check the error payload for server response.")}function G2(){return new Or("canceled","User canceled the upload/download.")}function z2(){return new Or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f0(n){return new Or("invalid-argument",n)}function Y2(){return new Or("app-deleted","The Firebase app was deleted.")}function W2(n){return new Or("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mw(n,t){return new Or("invalid-format","String does not match format '"+n+"': "+t)}function Nw(n){throw new Or("internal-error","Internal error: "+n)}class Is{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Is.makeFromUrl(t,e)}catch(a){return new Is(t,"")}if(""===i.path)return i;throw function(n){return new Or("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+a+"(/(.*))?$","i");function C(ot){ot.path_=decodeURIComponent(ot.path)}const N=e.replace(/[.]/g,"\\."),St=[{regex:g,indices:{bucket:1,path:3},postModify:function(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${N}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${e===H2?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let ot=0;ot<St.length;ot++){const dn=St[ot],Gr=dn.regex.exec(t);if(Gr){let Fo=Gr[dn.indices.path];Fo||(Fo=""),i=new Is(Gr[dn.indices.bucket],Fo),dn.postModify(i);break}}if(null==i)throw function(n){return new Or("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class YU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function NA(n){return"string"==typeof n||n instanceof String}function J2(n){return ix()&&n instanceof Blob}function ix(){return"undefined"!=typeof Blob}function sx(n,t,e,i){if(i<t)throw f0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw f0(`Invalid value for '${n}'. Expected ${e} or less.`)}function Xd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function K2(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var dp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(dp||(dp={})),dp))();class e4{constructor(t,e,i,a,l,h,g,b,C,S,N){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=b,this.timeout_=C,this.progressCallback_=S,this.connectionFactory_=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,B)=>{this.resolve_=Z,this.reject_=B,this.start_()})}start_(){const e=(i,a)=>{const l=this.resolve_,h=this.reject_,g=a.connection;if(a.wasSuccessCode)try{const b=this.callback_(g,g.getResponse());!function(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==g){const b=rx();b.serverResponse=g.getErrorText(),h(this.errorCallback_?this.errorCallback_(g,b):b)}else h(a.canceled?this.appDelete_?Y2():G2():new Or("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new xA(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,a=null,l=null,h=!1,g=0;function b(){return 2===g}let C=!1;function S(...Se){C||(C=!0,t.apply(null,Se))}function N(Se){a=setTimeout(()=>{a=null,n(B,b())},Se)}function Z(){l&&clearTimeout(l)}function B(Se,...rt){if(C)return void Z();if(Se)return Z(),void S.call(null,Se,...rt);if(b()||h)return Z(),void S.call(null,Se,...rt);let St;i<64&&(i*=2),1===g?(g=2,St=0):St=1e3*(i+Math.random()),N(St)}let ie=!1;function ve(Se){ie||(ie=!0,Z(),!C&&(null!==a?(Se||(g=2),clearTimeout(a),N(0)):Se||(g=1)))}return N(0),l=setTimeout(()=>{h=!0,ve(!0)},e),ve}((i,a)=>{if(a)return void i(!1,new xA(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const g=l.getErrorCode()===dp.NO_ERROR,b=l.getStatus();if(!g||this.isRetryStatusCode_(b)){const S=l.getErrorCode()===dp.ABORT;return void i(!1,new xA(!1,null,S))}const C=-1!==this.successCodes_.indexOf(b);i(!0,new xA(C,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||l}}class xA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function a4(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(ix())return new Blob(n);throw new Or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ha={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ox{constructor(t,e){this.data=t,this.contentType=e||null}}function ax(n,t){switch(n){case ha.RAW:return new ox(Q2(t));case ha.BASE64:case ha.BASE64URL:return new ox(X2(n,t));case ha.DATA_URL:return new ox(function(n){const t=new eO(n);return t.base64?X2(ha.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Mw(ha.DATA_URL,"Malformed data URL.")}return Q2(t)}(t.rest)}(t),function(n){return new eO(n).contentType}(t))}throw rx()}function Q2(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function X2(n,t){switch(n){case ha.BASE64:{const a=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(a||l)throw Mw(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ha.BASE64URL:{const a=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(a||l)throw Mw(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(a){throw Mw(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class eO{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Mw(ha.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class cc{constructor(t,e){let i=0,a="";J2(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(J2(this.data_)){const a=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new cc(a)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new cc(i,!0)}}static getBlob(...t){if(ix()){const e=t.map(i=>i instanceof cc?i.data_:i);return new cc(a4.apply(null,e))}{const e=t.map(h=>NA(h)?ax(ha.RAW,h).data:h.data_);let i=0;e.forEach(h=>{i+=h.byteLength});const a=new Uint8Array(i);let l=0;return e.forEach(h=>{for(let g=0;g<h.length;g++)a[l++]=h[g]}),new cc(a,!0)}}uploadData(){return this.data_}}function ux(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function tO(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function m4(n,t){return t}class ro{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||m4}}let kA=null;function xw(){if(kA)return kA;const n=[];n.push(new ro("bucket")),n.push(new ro("generation")),n.push(new ro("metageneration")),n.push(new ro("name","fullPath",!0));const e=new ro("name");e.xform=function(l,h){return function(n){return!NA(n)||n.length<2?n:tO(n)}(h)},n.push(e);const a=new ro("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},n.push(a),n.push(new ro("timeCreated")),n.push(new ro("updated")),n.push(new ro("md5Hash",null,!0)),n.push(new ro("cacheControl",null,!0)),n.push(new ro("contentDisposition",null,!0)),n.push(new ro("contentEncoding",null,!0)),n.push(new ro("contentLanguage",null,!0)),n.push(new ro("contentType",null,!0)),n.push(new ro("metadata","customMetadata",!0)),kA=n,kA}function nO(n,t,e){const i=ux(t);return null===i?null:function(n,t,e){const i={type:"file"},a=e.length;for(let l=0;l<a;l++){const h=e[l];i[h.local]=h.xform(i,t[h.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const l=new Is(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}function lx(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const rO="prefixes";class dc{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hc(n){if(!n)throw rx()}function RA(n,t){return function(i,a){const l=nO(n,a,t);return hc(null!==l),l}}function p0(n){return function(e,i){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new Or("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new Or("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new Or("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,a.serverResponse=i.serverResponse,a}}function kw(n){const t=p0(n);return function(i,a){let l=t(i,a);return 404===i.getStatus()&&(l=function(n){return new Or("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=a.serverResponse,l}}function sO(n,t,e){const a=Xd(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new dc(a,"GET",RA(n,e),h);return g.errorHandler=kw(t),g}function E4(n,t,e,i,a){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),i&&(l.pageToken=i),a&&(l.maxResults=a);const g=Xd(t.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,S=new dc(g,"GET",function(n,t){return function(i,a){const l=function(n,t,e){const i=ux(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[rO])for(const a of e[rO]){const l=a.replace(/\/$/,""),h=n._makeStorageReference(new Is(t,l));i.prefixes.push(h)}if(e.items)for(const a of e.items){const l=n._makeStorageReference(new Is(t,a.name));i.items.push(l)}return i}(n,t,i)}(n,t,a);return hc(null!==l),l}}(n,t.bucket),C);return S.urlParams=l,S.errorHandler=p0(t),S}function aO(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class OA{constructor(t,e,i,a){this.current=t,this.total=e,this.finalized=!!i,this.metadata=a||null}}function cx(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){hc(!1)}return hc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const R4={STATE_CHANGED:"state_changed"},io={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dx(n){switch(n){case"running":case"pausing":case"canceling":return io.RUNNING;case"paused":return io.PAUSED;case"success":return io.SUCCESS;case"canceled":return io.CANCELED;case"error":default:return io.ERROR}}class O4{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function g0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class F4 extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a){if(this.sent_)throw Nw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Nw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Xu(){return new F4}class dO{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=xw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,a){const l=t.bucketOnlyServerUrl(),h=aO(t,i,a),g={name:h.fullPath},b=Xd(l,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},N=lx(h,e),ie=new dc(b,"POST",function(ve){let Se;cx(ve);try{Se=ve.getResponseHeader("X-Goog-Upload-URL")}catch(rt){hc(!1)}return hc(NA(Se)),Se},n.maxUploadRetryTime);return ie.urlParams=g,ie.headers=S,ie.body=N,ie.errorHandler=p0(t),ie}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Xu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const a=function(n,t,e,i){const b=new dc(e,"POST",function(C){const S=cx(C,["active","final"]);let N=null;try{N=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){hc(!1)}N||hc(!1);const Z=Number(N);return hc(!isNaN(Z)),new OA(Z,i.size(),"final"===S)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=p0(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,Xu,e,i);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new OA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(n,t,e,i,a,l,h,g){const b=new OA(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=i.size()),i.size()!==b.total)throw new Or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const C=b.total-b.current;let S=C;a>0&&(S=Math.min(S,a));const N=b.current,ie={"X-Goog-Upload-Command":S===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ve=i.slice(N,N+S);if(null===ve)throw z2();const St=new dc(e,"POST",function(ot,dn){const Gr=cx(ot,["active","final"]),el=b.current+S,Fo=i.size();let px;return px="final"===Gr?RA(t,l)(ot,dn):null,new OA(el,Fo,"final"===Gr,px)},t.maxUploadRetryTime);return St.headers=ie,St.body=ve.uploadData(),St.progressCallback=g||null,St.errorHandler=p0(n),St}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const g=this._ref.storage._makeRequest(h,Xu,a,l);this._request=g,g.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=sO(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Xu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,a){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let St="";for(let ot=0;ot<2;ot++)St+=Math.random().toString().slice(2);return St}();h["Content-Type"]="multipart/related; boundary="+b;const C=aO(t,i,a),S=lx(C,e),B=cc.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+b+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+b+"--");if(null===B)throw z2();const ie={name:C.fullPath},ve=Xd(l,n.host,n._protocol),rt=n.maxUploadRetryTime,Je=new dc(ve,"POST",RA(n,e),rt);return Je.urlParams=ie,Je.headers=h,Je.body=B.uploadData(),Je.errorHandler=p0(t),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Xu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=G2(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=dx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,a){const l=new O4(e||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(dx(this._state)){case io.SUCCESS:g0(this._resolve.bind(null,this.snapshot))();break;case io.CANCELED:case io.ERROR:g0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(dx(this._state)){case io.RUNNING:case io.PAUSED:t.next&&g0(t.next.bind(t,this.snapshot))();break;case io.SUCCESS:t.complete&&g0(t.complete.bind(t))();break;case io.CANCELED:case io.ERROR:t.error&&g0(t.error.bind(t,this._error))();break;default:t.error&&g0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Om{constructor(t,e){this._service=t,this._location=e instanceof Is?e:Is.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Om(t,e)}get root(){const t=new Is(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tO(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Is(this._location.bucket,t);return new Om(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw W2(t)}}function fO(n,t,e){return hx.apply(this,arguments)}function hx(){return(hx=(0,J.Z)(function*(n,t,e){const a=yield pO(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield fO(n,t,a.nextPageToken))})).apply(this,arguments)}function pO(n,t){null!=t&&"number"==typeof t.maxResults&&sx("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=E4(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Xu)}function Y4(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const a=Xd(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new dc(a,"GET",function(n,t){return function(i,a){const l=nO(n,a,t);return hc(null!==l),function(n,t,e,i){const a=ux(t);if(null===a||!NA(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(C=>{const N=n.fullPath;return Xd("/b/"+h(n.bucket)+"/o/"+h(N),e,i)+K2({alt:"media",token:C})})[0]}(l,a,n.host,n._protocol)}}(n,e),h);return g.errorHandler=kw(t),g}(n.storage,n._location,xw());return n.storage.makeRequestWithTokens(t,Xu).then(e=>{if(null===e)throw new Or("no-download-url","The given file does not have any download URLs.");return e})}function gO(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Is(n._location.bucket,e);return new Om(n.storage,i)}function mO(n,t){if(n instanceof fx){const e=n;if(null==e._bucket)throw new Or("no-default-bucket","No default bucket found. Did you set the '"+$2+"' property when initializing the app?");const i=new Om(e,e._bucket);return null!=t?mO(i,t):i}return void 0!==t?gO(n,t):n}function Q4(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof fx)return function(n,t){return new Om(n,t)}(n,t);throw f0("To use ref(service, url), the first argument must be a Storage instance.")}return mO(n,t)}function _O(n,t){const e=null==t?void 0:t[$2];return null==e?null:Is.makeFromBucketSpec(e,n)}class fx{constructor(t,e,i,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=H2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Is.makeFromBucketSpec(a,this._host):_O(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,t):_O(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){sx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){sx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,J.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,J.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Om(this,t)}_makeRequest(t,e,i,a){if(this._deleted)return new YU(Y2());{const l=function(n,t,e,i,a,l){const h=K2(n.urlParams),g=n.url+h,b=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new e4(g,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,i,a,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,J.Z)(function*(){const[a,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,a,l).getPromise()})()}}const yO="@firebase/storage";function wO(n,t){return Q4(n=(0,Tt.m9)(n),t)}(0,ut._registerComponent)(new ed.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new fx(e,i,a,t,ut.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ut.registerVersion)(yO,"0.9.0",""),(0,ut.registerVersion)(yO,"0.9.0","esm2017");class PA{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class TO{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new PA(i,this,this._ref))},e)}on(t,e,i,a){let l;return e&&(l="function"==typeof e?h=>e(new PA(h,this,this._ref)):{next:e.next?h=>e.next(new PA(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,i||void 0,a||void 0)}}class CO{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new eh(t,this._service))}get items(){return this._delegate.items.map(t=>new eh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class eh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return gO(n,t)}(this._delegate,t);return new eh(e,this.storage)}get root(){return new eh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new eh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new TO(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new dO(n,new cc(t),e)}(n=(0,Tt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ha.RAW,i){this._throwIfRoot("putString");const a=ax(e,t),l=Object.assign({},i);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new TO(new dO(this._delegate,new cc(a.data,!0),l),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return fO(n,t).then(()=>t)}(n=(0,Tt.m9)(n))}(this._delegate).then(t=>new CO(t,this.storage))}list(t){return function(n,t){return pO(n=(0,Tt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new CO(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=sO(n.storage,n._location,xw());return n.storage.makeRequestWithTokens(t,Xu)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const l=Xd(t.fullServerUrl(),n.host,n._protocol),g=lx(e,i),C=n.maxOperationRetryTime,S=new dc(l,"PATCH",RA(n,i),C);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=g,S.errorHandler=kw(t),S}(n.storage,n._location,t,xw());return n.storage.makeRequestWithTokens(e,Xu)}(n=(0,Tt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return Y4(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=Xd(t.fullServerUrl(),n.host,n._protocol),g=new dc(i,"DELETE",function(b,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=kw(t),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Xu)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw W2(t)}}class DO{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(EO(t))throw f0("ref() expected a child path but got a URL, use refFromURL instead.");return new eh(wO(this._delegate,t),this)}refFromURL(t){if(!EO(t))throw f0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(t,this._delegate.host)}catch(e){throw f0("refFromUrl() expected a valid full URL but got an invalid one.")}return new eh(wO(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Tt.Sg)(a,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function EO(n){return/^[A-Za-z]+:\/\//.test(n)}function pV(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new DO(e,i)}function AO(n){const t=function(n){return new kt.y(t=>{const e=h=>t.next(h);e(n.snapshot);const l=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){l()}}).pipe(function(n,t=td.P){return e=>e.lift(new kU(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,at.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function FA(n){return{getDownloadURL:()=>(0,$e.of)(void 0).pipe(sn.fc,ir(()=>n.getDownloadURL()),sn.iC),getMetadata:()=>(0,$e.of)(void 0).pipe(sn.fc,ir(()=>n.getMetadata()),sn.iC),delete:()=>(0,mn.D)(n.delete()),child:t=>FA(n.child(t)),updateMetadata:t=>(0,mn.D)(n.updateMetadata(t)),put:(t,e)=>AO(n.put(t,e)),putString:(t,e,i)=>AO(n.putString(t,e,i)),list:t=>(0,mn.D)(n.list(t)),listAll:()=>(0,mn.D)(n.listAll())}}!function(n){const t={TaskState:io,TaskEvent:R4,StringFormat:ha,Storage:DO,Reference:eh};n.INTERNAL.registerComponent(new ed.wA("storage-compat",pV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(K0.Z);const _V=new r.OlP("angularfire2.storageBucket"),yV=new r.OlP("angularfire2.storage.maxUploadRetryTime"),vV=new r.OlP("angularfire2.storage.maxOperationRetryTime"),bV=new r.OlP("angularfire2.storage.use-emulator");let wV=(()=>{class n{constructor(e,i,a,l,h,g,b,C,S,N){const Z=(0,yi.on)(e,h,i);this.storage=(0,yi.cc)(`${Z.name}.storage.${a}`,"AngularFireStorage",Z.name,()=>{const B=h.runOutsideAngular(()=>Z.storage(a||void 0)),ie=S;return ie&&B.useEmulator(...ie),b&&B.setMaxUploadRetryTime(b),C&&B.setMaxOperationRetryTime(C),B},[b,C])}ref(e){return FA(this.storage.ref(e))}refFromURL(e){return FA(this.storage.refFromURL(e))}upload(e,i,a){return FA(this.storage.ref(e)).put(i,a)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(yi.Dh),r.LFG(yi.xv,8),r.LFG(_V,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(sn.HU),r.LFG(yV,8),r.LFG(vV,8),r.LFG(bV,8),r.LFG(Tm,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),CV=(()=>{class n{constructor(){p_.Z.registerVersion("angularfire",sn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[wV],imports:[TV]}),n})();const IO_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let DV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[NU]}),n.\u0275inj=r.cJS({providers:[],imports:[[bp,EU,sZ,yi.hO.initializeApp(IO_firebaseConfig),KE,uw,CV,SR,yP]]}),n})();(0,r.G48)(),$o().bootstrapModule(DV).catch(n=>console.error(n))},3394:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>Ne});var r=F(3854),q=F(3910),O=F(8026),ce=F(5422);class ue{constructor(ge,re){this._delegate=ge,this.firebase=re,(0,O._addComponent)(ge,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,re=O._DEFAULT_ENTRY_NAME){var ae;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(ge);return!Ce.isInitialized()&&"EXPLICIT"===(null===(ae=Ce.getComponent())||void 0===ae?void 0:ae.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:re})}_removeServiceInstance(ge,re=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(re)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const De=function(De){const ge={},re={__esModule:!0,initializeApp:function(vt,An={}){const Dt=O.initializeApp(vt,An);if((0,r.r3)(ge,Dt.name))return ge[Dt.name];const mt=new De(Dt,re);return ge[Dt.name]=mt,mt},app:Ce,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const An=vt.name,Dt=An.replace("-compat","");if(O._registerComponent(vt)&&"PUBLIC"===vt.type){const mt=(Pt=Ce())=>{if("function"!=typeof Pt[Dt])throw de.create("invalid-app-argument",{appName:An});return Pt[Dt]()};void 0!==vt.serviceProps&&(0,r.ZB)(mt,vt.serviceProps),re[Dt]=mt,De.prototype[Dt]=function(...Pt){return this._getService.bind(this,An).apply(this,vt.multipleInstances?Pt:[])}}return"PUBLIC"===vt.type?re[Dt]:null},removeApp:function(vt){delete ge[vt]},useAsService:function(vt,An){return"serverAuth"===An?null:An},modularAPIs:O}};function Ce(vt){if(!(0,r.r3)(ge,vt=vt||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:vt});return ge[vt]}return re.default=re,Object.defineProperty(re,"apps",{get:function(){return Object.keys(ge).map(vt=>ge[vt])}}),Ce.App=De,re}(ue);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(re){(0,r.ZB)(De,re)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),De}(),V=new ce.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(Ye,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ki,_DEFAULT_ENTRY_NAME:()=>zi,_addComponent:()=>hs,_addOrOverwriteComponent:()=>Ss,_apps:()=>Jt,_clearComponents:()=>_n,_components:()=>Bt,_getProvider:()=>un,_registerComponent:()=>xi,_removeServiceInstance:()=>Ms,deleteApp:()=>Hn,getApp:()=>Re,getApps:()=>Tn,initializeApp:()=>Yi,onLog:()=>Ht,registerVersion:()=>Ve,setLogLevel:()=>pr});var r=F(8239),q=F(3910),O=F(5422),ce=F(3854);class ue{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(it){const nt=it.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(Nt)){const Ft=Nt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(Nt=>Nt).join(" ")}}const de="@firebase/app",X="0.7.10",z=new O.Yd("@firebase/app"),zi="[DEFAULT]",so={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Bt=new Map;function hs(it,nt){try{it.container.addComponent(nt)}catch(Nt){z.debug(`Component ${nt.name} failed to register with FirebaseApp ${it.name}`,Nt)}}function Ss(it,nt){it.container.addOrOverwriteComponent(nt)}function xi(it){const nt=it.name;if(Bt.has(nt))return z.debug(`There were multiple attempts to register component ${nt}.`),!1;Bt.set(nt,it);for(const Nt of Jt.values())hs(Nt,it);return!0}function un(it,nt){return it.container.getProvider(nt)}function Ms(it,nt,Nt=zi){un(it,nt).clearInstance(Nt)}function _n(){Bt.clear()}const Xt=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ns{constructor(nt,Nt,Ft){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const ki="9.6.0";function Yi(it,nt={}){"object"!=typeof nt&&(nt={name:nt});const Nt=Object.assign({name:zi,automaticDataCollectionEnabled:!1},nt),Ft=Nt.name;if("string"!=typeof Ft||!Ft)throw Xt.create("bad-app-name",{appName:String(Ft)});const Gn=Jt.get(Ft);if(Gn){if((0,ce.vZ)(it,Gn.options)&&(0,ce.vZ)(Nt,Gn.config))return Gn;throw Xt.create("duplicate-app",{appName:Ft})}const tn=new q.H0(Ft);for(const Qe of Bt.values())tn.addComponent(Qe);const Pe=new Ns(it,Nt,tn);return Jt.set(Ft,Pe),Pe}function Re(it=zi){const nt=Jt.get(it);if(!nt)throw Xt.create("no-app",{appName:it});return nt}function Tn(){return Array.from(Jt.values())}function Hn(it){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,r.Z)(function*(it){const nt=it.name;Jt.has(nt)&&(Jt.delete(nt),yield Promise.all(it.container.getProviders().map(Nt=>Nt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Ve(it,nt,Nt){var Ft;let Gn=null!==(Ft=so[it])&&void 0!==Ft?Ft:it;Nt&&(Gn+=`-${Nt}`);const tn=Gn.match(/\s|\//),Pe=nt.match(/\s|\//);if(tn||Pe){const Qe=[`Unable to register library "${Gn}" with version "${nt}":`];return tn&&Qe.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),tn&&Pe&&Qe.push("and"),Pe&&Qe.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void z.warn(Qe.join(" "))}xi(new q.wA(`${Gn}-version`,()=>({library:Gn,version:nt}),"VERSION"))}function Ht(it,nt){if(null!==it&&"function"!=typeof it)throw Xt.create("invalid-log-argument");(0,O.Am)(it,nt)}function pr(it){(0,O.Ub)(it)}xi(new q.wA("platform-logger",nt=>new ue(nt),"PRIVATE")),Ve(de,X,""),Ve(de,X,"esm2017"),Ve("fire-js","")},3910:(Ye,we,F)=>{"use strict";F.d(we,{wA:()=>O,H0:()=>X});var r=F(8239),q=F(3854);class O{constructor(L,V,H){this.name=L,this.instanceFactory=V,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ce="[DEFAULT]";class ue{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const H=new q.BH;if(this.instancesDeferred.set(V,H),this.isInitialized(V)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:V});fe&&H.resolve(fe)}catch(fe){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const H=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),fe=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(Oe){if(fe)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(V){}for(const[V,H]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(V);try{const Oe=this.getOrInitializeService({instanceIdentifier:fe});H.resolve(Oe)}catch(Oe){}}}}clearInstance(L=ce){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,r.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...V.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ce){return this.instances.has(L)}getOptions(L=ce){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,H=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:H,options:V});for(const[Oe,Ne]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(fe);return fe}onInit(L,V){var H;const fe=this.normalizeInstanceIdentifier(V),Oe=null!==(H=this.onInitCallbacks.get(fe))&&void 0!==H?H:new Set;Oe.add(L),this.onInitCallbacks.set(fe,Oe);const Ne=this.instances.get(fe);return Ne&&L(Ne,fe),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,V){const H=this.onInitCallbacks.get(V);if(H)for(const fe of H)try{fe(L,V)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let H=this.instances.get(L);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(z=L,z===ce?void 0:z),options:V}),this.instances.set(L,H),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(H,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,H)}catch(fe){}var z;return H||null}normalizeInstanceIdentifier(L=ce){return this.component?this.component.multipleInstances?L:ce:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new ue(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,we,F)=>{"use strict";F.d(we,{in:()=>q,Yd:()=>de,Ub:()=>X,Am:()=>z});const r=[];var q=(()=>{return(L=q||(q={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",q;var L})();const O={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ce=q.INFO,ue={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},te=(L,V,...H)=>{if(V<L.logLevel)return;const fe=(new Date).toISOString(),Oe=ue[V];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Oe](`[${fe}]  ${L.name}:`,...H)};class de{constructor(V){this.name=V,this._logLevel=ce,this._logHandler=te,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in q))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?O[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...V),this._logHandler(this,q.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...V),this._logHandler(this,q.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,q.INFO,...V),this._logHandler(this,q.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,q.WARN,...V),this._logHandler(this,q.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...V),this._logHandler(this,q.ERROR,...V)}}function X(L){r.forEach(V=>{V.setLogLevel(L)})}function z(L,V){for(const H of r){let fe=null;V&&V.level&&(fe=O[V.level]),H.userLogHandler=null===L?null:(Oe,Ne,...De)=>{const ge=De.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch(ae){return null}}).filter(re=>re).join(" ");Ne>=(null!=fe?fe:Oe.logLevel)&&L({level:q[Ne].toLowerCase(),message:ge,args:De,type:Oe.name})}}}},8239:(Ye,we,F)=>{"use strict";function r(O,ce,ue,te,de,X,z){try{var L=O[X](z),V=L.value}catch(H){return void ue(H)}L.done?ce(V):Promise.resolve(V).then(te,de)}function q(O){return function(){var ce=this,ue=arguments;return new Promise(function(te,de){var X=O.apply(ce,ue);function z(V){r(X,te,de,z,L,"next",V)}function L(V){r(X,te,de,z,L,"throw",V)}z(void 0)})}}F.d(we,{Z:()=>q})}},Ye=>{Ye(Ye.s=2369)}]);