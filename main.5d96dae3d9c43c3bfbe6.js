(self.webpackChunkcargonaut=self.webpackChunkcargonaut||[]).push([[179],{8255:Ye=>{function we(F){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+F+"'");throw o.code="MODULE_NOT_FOUND",o})}we.keys=()=>[],we.resolve=we,we.id=8255,Ye.exports=we},7716:(Ye,we,F)=>{"use strict";F.d(we,{deG:()=>fp,tb:()=>tD,AFp:()=>QE,ip1:()=>M1,CZH:()=>kd,hGG:()=>kN,z2F:()=>Pd,sBO:()=>Mb,Sil:()=>$u,_Vd:()=>md,EJc:()=>uN,SBq:()=>za,qLn:()=>kh,vpe:()=>oa,gxx:()=>qc,tBr:()=>wu,XFs:()=>je,OlP:()=>On,zs3:()=>En,ZZ4:()=>Pu,aQg:()=>Pg,soG:()=>Ay,YKP:()=>Vg,v3s:()=>pD,h0i:()=>sa,PXZ:()=>_k,R0b:()=>us,FiY:()=>Ma,Lbi:()=>eD,g9A:()=>XE,Qsj:()=>uS,FYo:()=>yd,JOm:()=>Fa,Tiy:()=>Rg,q3G:()=>bn,tp0:()=>jr,EAV:()=>V1,Rgc:()=>bd,dDg:()=>aD,DyG:()=>Aa,q4F:()=>H_,GfV:()=>HT,s_b:()=>Ug,ifc:()=>Pe,eFA:()=>TN,G48:()=>yN,Gpc:()=>B,X6Q:()=>Hf,_c5:()=>Oy,VLi:()=>_N,c2e:()=>nD,zSh:()=>zc,wAp:()=>ht,vHH:()=>Ne,EiD:()=>Gt,mCW:()=>wl,qzn:()=>Oa,JVY:()=>Sm,pB0:()=>yl,eBb:()=>Tp,L6k:()=>Cp,LAX:()=>Qo,cg1:()=>M_,Tjo:()=>B1,kL8:()=>tb,yhl:()=>Am,dqk:()=>Yt,sIi:()=>Qs,CqO:()=>m_,QGY:()=>sd,F4k:()=>od,RDi:()=>sp,AaK:()=>Q,z3N:()=>Jo,qOj:()=>Jc,TTD:()=>vr,_Bn:()=>Bl,xp6:()=>Kw,uIk:()=>Yh,Tol:()=>Gv,Gre:()=>Kv,DjV:()=>Nu,ekj:()=>gg,Suo:()=>kr,Xpm:()=>rr,lG2:()=>At,Yz7:()=>sn,cJS:()=>mn,oAB:()=>Ve,Yjl:()=>kn,Y36:()=>cr,_UZ:()=>sf,BQk:()=>Je,ynx:()=>g_,qZA:()=>f_,TgZ:()=>ag,EpF:()=>ra,n5z:()=>lh,Ikx:()=>eb,SDv:()=>bb,QtT:()=>FT,pQV:()=>Ng,LFG:()=>Tn,$8M:()=>Dc,NdJ:()=>ug,CRH:()=>T1,kcU:()=>gc,O4$:()=>hu,oxw:()=>jv,ALo:()=>SE,lcZ:()=>NE,Hsn:()=>yi,F$t:()=>uf,Q6J:()=>Ha,s9C:()=>T_,MGl:()=>Ln,VKq:()=>dy,WLB:()=>m1,kEZ:()=>hy,iGM:()=>HS,MAs:()=>$C,CHM:()=>su,LSH:()=>Dh,kYT:()=>dt,Jzz:()=>pT,Udp:()=>pg,YNc:()=>kv,W1O:()=>VE,_uU:()=>Yv,Oqu:()=>D_,hij:()=>Fl,HOy:()=>hr,Gf:()=>ZS});var o=F(9765),j=F(5319),O=F(7574),ce=F(6682),ue=F(8819);function ee(i){for(let s in i)if(i[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function z(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=ee({__forward_ref__:ee});function B(i){return i.__forward_ref__=B,i.toString=function(){return Q(this())},i}function Z(i){return he(i)?i():i}function he(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===B}class Ne extends Error{constructor(s,u){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,u)),this.code=s}}function ne(i){return"string"==typeof i?i:null==i?"":String(i)}function oe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ne(i)}function Mt(i,s){const u=s?` in ${s}`:"";throw new Ne("201",`No provider for ${oe(i)} found${u}`)}function jt(i,s,u,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${u} ${c} ${s} <=Actual]`))}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xt(i){return Qt(i,ke)||Qt(i,qn)}function Qt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Hi(i){return i&&(i.hasOwnProperty(wn)||i.hasOwnProperty(Ei))?i[wn]:null}const ke=ee({\u0275prov:ee}),wn=ee({\u0275inj:ee}),qn=ee({ngInjectableDef:ee}),Ei=ee({ngInjectorDef:ee});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let Ht;function zn(i){const s=Ht;return Ht=i,s}function it(i,s,u){const c=Xt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&je.Optional?null:void 0!==s?s:void Mt(Q(i),"Injector")}function xt(i){return{toString:i}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const et="undefined"!=typeof globalThis&&globalThis,ca="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=et||"undefined"!=typeof global&&global||ca||cn,q={},G=[],W=ee({\u0275cmp:ee}),be=ee({\u0275dir:ee}),le=ee({\u0275pipe:ee}),Ge=ee({\u0275mod:ee}),ut=ee({\u0275loc:ee}),Zt=ee({\u0275fac:ee}),An=ee({__NG_ELEMENT_ID__:ee});let Yn=0;function rr(i){return xt(()=>{const u={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||G,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pe.Emulated,id:"c",styles:i.styles||G,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,g=i.pipes;return c.id+=Yn++,c.inputs=Vt(i.inputs,u),c.outputs=Vt(i.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(K):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(Y):null,c})}function K(i){return hn(i)||function(i){return i[be]||null}(i)}function Y(i){return function(i){return i[le]||null}(i)}const Ce={};function Ve(i){return xt(()=>{const s={type:i.type,bootstrap:i.bootstrap||G,declarations:i.declarations||G,imports:i.imports||G,exports:i.exports||G,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ce[i.id]=i.type),s})}function dt(i,s){return xt(()=>{const u=Nn(i,!0);u.declarations=s.declarations||G,u.imports=s.imports||G,u.exports=s.exports||G})}function Vt(i,s){if(null==i)return q;const u={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,s&&(s[d]=f)}return u}const At=rr;function kn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function hn(i){return i[W]||null}function Nn(i,s){const u=i[Ge]||null;if(!u&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return u}function Ls(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ur(i){return Array.isArray(i)&&!0===i[1]}function tc(i){return 0!=(8&i.flags)}function Wu(i){return 2==(2&i.flags)}function Br(i){return 1==(1&i.flags)}function hs(i){return null!==i.template}function Dr(i){return 0!=(512&i[2])}function Ii(i,s){return i.hasOwnProperty(Zt)?i[Zt]:null}class Vs{constructor(s,u,c){this.previousValue=s,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function vr(){return oc}function oc(i){return i.type.prototype.ngOnChanges&&(i.setInput=pa),Us}function Us(){const i=Jd(this),s=null==i?void 0:i.current;if(s){const u=i.previous;if(u===q)i.previous=s;else for(let c in s)u[c]=s[c];i.current=null,this.ngOnChanges(s)}}function pa(i,s,u,c){const d=Jd(i)||function(i,s){return i[Ai]=s}(i,{previous:q,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[u],w=g[y];f[y]=new Vs(w&&w.currentValue,s,g===q),i[c]=s}vr.ngInherit=!0;const Ai="__ngSimpleChanges__";function Jd(i){return i[Ai]||null}const tu="http://www.w3.org/2000/svg";let fs;function sp(i){fs=i}function _o(){return void 0!==fs?fs:"undefined"!=typeof document?document:void 0}function Rn(i){return!!i.listen}const Ir={createRenderer:(i,s)=>_o()};function on(i){for(;Array.isArray(i);)i=i[0];return i}function _a(i,s){return on(s[i])}function Si(i,s){return on(s[i.index])}function lc(i,s){return i.data[s]}function Gi(i,s){return i[s]}function li(i,s){const u=s[i];return Ls(u)?u:u[0]}function Xu(i){return 4==(4&i[2])}function ru(i){return 128==(128&i[2])}function ps(i,s){return null==s?null:i[s]}function el(i){i[18]=0}function Bo(i,s){i[5]+=s;let u=i,c=i[3];for(;null!==c&&(1===s&&1===u[5]||-1===s&&0===u[5]);)c[5]+=s,u=c,c=c[3]}const lt={lFrame:up(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return lt.bindingsEnabled}function De(){return lt.lFrame.lView}function kt(){return lt.lFrame.tView}function su(i){return lt.lFrame.contextLView=i,i[8]}function Cn(){let i=ou();for(;null!==i&&64===i.type;)i=i.parent;return i}function ou(){return lt.lFrame.currentTNode}function qi(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Yr(i,s){const u=lt.lFrame;u.currentTNode=i,u.isParent=s}function au(){return lt.lFrame.isParent}function ya(){lt.lFrame.isParent=!1}function rl(){return lt.isInCheckNoChangesMode}function vo(i){lt.isInCheckNoChangesMode=i}function ar(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Kr(){return lt.lFrame.bindingIndex}function ms(){return lt.lFrame.bindingIndex++}function Ar(i){const s=lt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function ba(i){lt.lFrame.inI18n=i}function hc(i,s){const u=lt.lFrame;u.bindingIndex=u.bindingRootIndex=i,fc(s)}function fc(i){lt.lFrame.currentDirectiveIndex=i}function pc(){return lt.lFrame.currentQueryIndex}function $o(i){lt.lFrame.currentQueryIndex=i}function il(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function lu(i,s,u){if(u&je.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||u&je.Host||(d=il(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=lt.lFrame=sl();return c.currentTNode=s,c.lView=i,!0}function cu(i){const s=sl(),u=i[1];lt.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function sl(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?up(i):s}function up(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function th(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ol=th;function Ho(){const i=th();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Sr(){return lt.lFrame.selectedIndex}function bo(i){lt.lFrame.selectedIndex=i}function Kn(){const i=lt.lFrame;return lc(i.tView,i.selectedIndex)}function hu(){lt.lFrame.currentNamespace=tu}function gc(){lt.lFrame.currentNamespace=null}function wa(i,s){for(let u=s.directiveStart,c=s.directiveEnd;u<c;u++){const f=i.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:A}=f;g&&(i.contentHooks||(i.contentHooks=[])).push(-u,g),y&&((i.contentHooks||(i.contentHooks=[])).push(u,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(u,y)),w&&(i.viewHooks||(i.viewHooks=[])).push(-u,w),E&&((i.viewHooks||(i.viewHooks=[])).push(u,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(u,E)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(u,A)}}function Ca(i,s,u){yc(i,s,3,u)}function Zo(i,s,u,c){(3&i[2])===u&&yc(i,s,u,c)}function ir(i,s){let u=i[2];(3&u)===s&&(u&=2047,u+=1,i[2]=u)}function yc(i,s,u,c){const f=null!=c?c:-1,g=s.length-1;let y=0;for(let w=void 0!==c?65535&i[18]:0;w<g;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=c&&y>=c)break}else s[w]<0&&(i[18]+=65536),(y<f||-1==f)&&(nh(i,u,s,w),i[18]=(4294901760&i[18])+w+2),w++}function nh(i,s,u,c){const d=u[c]<0,f=u[c+1],y=i[d?-u[c]:u[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ul{constructor(s,u,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function ih(i,s,u){const c=Rn(i);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const g=u[d++],y=u[d++],w=u[d++];c?i.setAttribute(s,y,w,g):s.setAttributeNS(g,y,w)}else{const g=f,y=u[++d];Bs(g)?c&&i.setProperty(s,g,y):c?i.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function dp(i){return 3===i||4===i||6===i}function Bs(i){return 64===i.charCodeAt(0)}function ll(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?u=d:0===u||hp(i,u,d,null,-1===u||2===u?s[++c]:null)}}return i}function hp(i,s,u,c,d){let f=0,g=i.length;if(-1===s)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===u){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,s),f=g+1),i.splice(f++,0,u),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function bc(i){return-1!==i}function zi(i){return 32767&i}function js(i,s){let u=function(i){return i>>16}(i),c=s;for(;u>0;)c=c[15],u--;return c}let wc=!0;function Ea(i){const s=wc;return wc=i,s}let oh=0;function wo(i,s){const u=pn(i,s);if(-1!==u)return u;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,fu(c.data,i),fu(s,null),fu(c.blueprint,null));const d=qe(i,s),f=i.injectorIndex;if(bc(d)){const g=zi(d),y=js(d,s),w=y[1].data;for(let E=0;E<8;E++)s[f+E]=y[g+E]|w[g+E]}return s[f+8]=d,f}function fu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function pn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qe(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,c=null,d=s;for(;null!==d;){const f=d[1],g=f.type;if(c=2===g?f.declTNode:1===g?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function an(i,s,u){!function(i,s,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(An)&&(c=u[An]),null==c&&(c=u[An]=oh++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,u)}function xn(i,s,u){if(u&je.Optional)return i;Mt(s,"NodeInjector")}function pu(i,s,u,c){if(u&je.Optional&&void 0===c&&(c=null),0==(u&(je.Self|je.Host))){const d=i[9],f=zn(void 0);try{return d?d.get(s,c,u&je.Optional):it(s,c,u&je.Optional)}finally{zn(f)}}return xn(c,s,u)}function vs(i,s,u,c=je.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(An)?i[An]:void 0;return"number"==typeof s?s>=0?255&s:gu:s}(u);if("function"==typeof f){if(!lu(s,i,c))return c&je.Host?xn(d,u,c):pu(s,u,c,d);try{const g=f(c);if(null!=g||c&je.Optional)return g;Mt(u)}finally{ol()}}else if("number"==typeof f){let g=null,y=pn(i,s),w=-1,E=c&je.Host?s[16][6]:null;for((-1===y||c&je.SkipSelf)&&(w=-1===y?qe(i,s):s[y+8],-1!==w&&Ec(c,!1)?(g=s[1],y=zi(w),s=js(w,s)):y=-1);-1!==y;){const A=s[1];if(Co(f,y,A.data)){const R=cl(y,s,u,g,c,E);if(R!==Jn)return R}w=s[y+8],-1!==w&&Ec(c,s[1].data[y+8]===E)&&Co(f,y,s)?(g=A,y=zi(w),s=js(w,s)):y=-1}}}return pu(s,u,c,d)}const Jn={};function gu(){return new Ni(Cn(),De())}function cl(i,s,u,c,d,f){const g=s[1],y=g.data[i+8],A=dl(y,g,u,null==c?Wu(y)&&wc:c!=g&&0!=(3&y.type),d&je.Host&&f===y);return null!==A?Rt(s,g,A,y):Jn}function dl(i,s,u,c,d){const f=i.providerIndexes,g=s.data,y=1048575&f,w=i.directiveStart,A=f>>20,P=d?y+A:i.directiveEnd;for(let H=c?y:y+A;H<P;H++){const J=g[H];if(H<w&&u===J||H>=w&&J.type===u)return H}if(d){const H=g[w];if(H&&hs(H)&&H.type===u)return w}return null}function Rt(i,s,u,c){let d=i[u];const f=s.data;if(function(i){return i instanceof ul}(d)){const g=d;g.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(oe(f[u]));const y=Ea(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?zn(g.injectImpl):null;lu(i,c,je.Default);try{d=i[u]=g.factory(void 0,f,i,c),s.firstCreatePass&&u>=c.directiveStart&&function(i,s,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const g=oc(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(i,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,g)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-i,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(i,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,f))}(u,f[u],s)}finally{null!==w&&zn(w),Ea(y),g.resolving=!1,ol()}}return d}function Co(i,s,u){return!!(u[s+(i>>5)]&1<<i)}function Ec(i,s){return!(i&je.Self||i&je.Host&&s)}class Ni{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,c){return vs(this._tNode,this._lView,s,c,u)}}function lh(i){return xt(()=>{const s=i.prototype.constructor,u=s[Zt]||mu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Zt]||mu(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function mu(i){return he(i)?()=>{const s=mu(Z(i));return s&&s()}:Ii(i)}function Dc(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(dp(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===s)return u[d+1];d+=2}}}return null}(Cn(),i)}const Mi="__parameters__";function To(i,s,u){return xt(()=>{const c=function(i){return function(...u){if(i){const c=i(...u);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(w,E,A){const R=w.hasOwnProperty(Mi)?w[Mi]:Object.defineProperty(w,Mi,{value:[]})[Mi];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(g),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class On{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fp=new On("AnalyzeForEntryComponents"),Aa=Function;function Ki(i,s){void 0===s&&(s=i);for(let u=0;u<i.length;u++){let c=i[u];Array.isArray(c)?(s===i&&(s=i.slice(0,u)),Ki(c,s)):s!==i&&s.push(c)}return s}function bs(i,s){i.forEach(u=>Array.isArray(u)?bs(u,s):s(u))}function yu(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function xi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Hs(i,s){const u=[];for(let c=0;c<i;c++)u.push(s);return u}function Qn(i,s,u){let c=Do(i,s);return c>=0?i[1|c]=u:(c=~c,function(i,s,u,c){let d=i.length;if(d==s)i.push(u,c);else if(1===d)i.push(c,i[0]),i[0]=u;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=u,i[s+1]=c}}(i,c,s,u)),c}function Xn(i,s){const u=Do(i,s);if(u>=0)return i[1|u]}function Do(i,s){return function(i,s,u){let c=0,d=i.length>>u;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<u];if(s===g)return f<<u;g>s?d=f:c=f+1}return~(d<<u)}(i,s,1)}const Ut={},nn="__NG_DI_FLAG__",or="ngTempTokenPath",ur=/\n/gm,vu="__source",Gs=ee({provide:String,useValue:ee});let fi;function mt(i){const s=fi;return fi=i,s}function m0(i,s=je.Default){if(void 0===fi)throw new Error("inject() must be called from an injection context");return null===fi?it(i,void 0,s):fi.get(i,s&je.Optional?null:void 0,s)}function Tn(i,s=je.Default){return(Ht||m0)(Z(i),s)}function Wo(i){const s=[];for(let u=0;u<i.length;u++){const c=Z(i[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=je.Default;for(let g=0;g<c.length;g++){const y=c[g],w=_p(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(Tn(d,f))}else s.push(Tn(c))}return s}function bu(i,s){return i[nn]=s,i.prototype[nn]=s,i}function _p(i){return i[nn]}function qs(i,s,u,c){const d=i[or];throw s[vu]&&d.unshift(s[vu]),i.message=function(i,s,u,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Q(s);if(Array.isArray(s))d=s.map(Q).join(" -> ");else if("object"==typeof s){let f=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${i.replace(ur,"\n  ")}`}("\n"+i.message,d,u,c),i.ngTokenPath=d,i[or]=null,i}const wu=bu(To("Inject",i=>({token:i})),-1),Ma=bu(To("Optional"),8),jr=bu(To("SkipSelf"),4);let Cu;function Ko(i){var s;return(null===(s=function(){if(void 0===Cu&&(Cu=null,Yt.trustedTypes))try{Cu=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Cu}())||void 0===s?void 0:s.createHTML(i))||i}class Tu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class b0 extends Tu{getTypeName(){return"HTML"}}class w0 extends Tu{getTypeName(){return"Style"}}class wh extends Tu{getTypeName(){return"Script"}}class C0 extends Tu{getTypeName(){return"URL"}}class T0 extends Tu{getTypeName(){return"ResourceURL"}}function Jo(i){return i instanceof Tu?i.changingThisBreaksApplicationSecurity:i}function Oa(i,s){const u=Am(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function Am(i){return i instanceof Tu&&i.getTypeName()||null}function Sm(i){return new b0(i)}function Cp(i){return new w0(i)}function Tp(i){return new wh(i)}function Qo(i){return new C0(i)}function yl(i){return new T0(i)}function Ep(i){const s=new E0(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ko(""),"text/html")}catch(i){return!1}}()?new Nm(s):s}class Nm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ko(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class E0{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ko(s),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Ko(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const u=s.attributes;for(let d=u.length-1;0<d;d--){const g=u.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Ch=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wl(i){return(i=String(i)).match(Ch)||i.match(bl)?i:"unsafe:"+i}function Oc(i){return(i=String(i)).split(",").map(s=>wl(s.trim())).join(", ")}function zs(i){const s={};for(const u of i.split(","))s[u]=!0;return s}function Xo(...i){const s={};for(const u of i)for(const c in u)u.hasOwnProperty(c)&&(s[c]=!0);return s}const Th=zs("area,br,col,hr,img,wbr"),Dp=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cl=zs("rp,rt"),Ip=Xo(Th,Xo(Dp,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xo(Cl,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xo(Cl,Dp)),v=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p=zs("srcset"),S=Xo(v,p,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k=zs("script,style,template");class X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Ip.hasOwnProperty(u))return this.sanitizedSomething=!0,!k.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,y=g.toLowerCase();if(!S.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;v[y]&&(w=wl(w)),p[y]&&(w=Oc(w)),this.buf.push(" ",g,'="',Fe(w),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Ip.hasOwnProperty(u)&&!Th.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Fe(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$e=/([^\#-~ |!])/g;function Fe(i){return i.replace(/&/g,"&amp;").replace(ye,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($e,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let st;function Gt(i,s){let u=null;try{st=st||Ep(i);let c=s?String(s):"";u=st.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=st.getInertBodyElement(c)}while(c!==f);return Ko((new X).sanitizeChildren(vn(u)||u))}finally{if(u){const c=vn(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function vn(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function Dh(i){const s=function(){const i=De();return i&&i[12]}();return s?s.sanitize(bn.URL,i)||"":Oa(i,"URL")?Jo(i):wl(ne(i))}const Nh="__ngContext__";function pi(i,s){i[Nh]=s}function A0(i){const s=function(i){return i[Nh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Lc(i){return i.ngOriginalError}function PI(i,...s){i.error(...s)}class kh{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||PI;var i;d(this._console,"ERROR",s),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Lc(s)):null}_findOriginalError(s){let u=s&&Lc(s);for(;u&&Lc(u);)u=Lc(u);return u||null}}const VI=/^>|^->|<!--|-->|--!>|<!-$/g,k0=/(<|>)/;const kw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Pa(i){return i instanceof Function?i():i}var Fa=(()=>((Fa=Fa||{})[Fa.Important=1]="Important",Fa[Fa.DashCase=2]="DashCase",Fa))();let R0;function Lm(i,s){return R0(i,s)}function xp(i){const s=i[3];return Ur(s)?s[3]:s}function Vm(i){return O0(i[13])}function Lw(i){return O0(i[4])}function O0(i){for(;null!==i&&!Ur(i);)i=i[4];return i}function Vc(i,s,u,c,d){if(null!=c){let f,g=!1;Ur(c)?f=c:Ls(c)&&(g=!0,c=c[0]);const y=on(c);0===i&&null!==u?null==d?$w(s,u,y):Dl(s,u,y,d||null,!0):1===i&&null!==u?Dl(s,u,y,d||null,!0):2===i?B0(s,y,g):3===i&&s.destroyNode(y),null!=f&&function(i,s,u,c,d){const f=u[7];f!==on(u)&&Vc(s,i,c,f,d);for(let y=10;y<u.length;y++){const w=u[y];Bc(w[1],w,i,s,c,f)}}(s,i,f,u,d)}}function Um(i,s){return Rn(i)?i.createText(s):i.createTextNode(s)}function Vw(i,s,u){Rn(i)?i.setValue(s,u):s.textContent=u}function GI(i,s){return i.createComment(function(i){return i.replace(VI,s=>s.replace(k0,"\u200b$1\u200b"))}(s))}function P0(i,s,u){return Rn(i)?i.createElement(s,u):null===u?i.createElement(s):i.createElementNS(u,s)}function Bm(i,s){const u=i[9],c=u.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Bo(d,-1)),u.splice(c,1)}function jm(i,s){if(i.length<=10)return;const u=10+s,c=i[u];if(c){const d=c[17];null!==d&&d!==i&&Bm(d,c),s>0&&(i[u-1][4]=c[4]);const f=xi(i,10+s);!function(i,s){Bc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const g=f[19];null!==g&&g.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Uw(i,s){if(!(256&s[2])){const u=s[11];Rn(u)&&u.destroyNode&&Bc(i,s,u,3,null,null),function(i){let s=i[13];if(!s)return El(i[1],i);for(;s;){let u=null;if(Ls(s))u=s[13];else{const c=s[10];c&&(u=c)}if(!u){for(;s&&!s[4]&&s!==i;)Ls(s)&&El(s[1],s),s=s[3];null===s&&(s=i),Ls(s)&&El(s[1],s),u=s&&s[4]}s=u}}(s)}}function El(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let c=0;c<u.length;c+=2){const d=s[u[c]];if(!(d instanceof ul)){const f=u[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],w=f[g+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const u=i.cleanup,c=s[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const g=u[f+1],y="function"==typeof g?g(s):on(s[g]),w=c[d=u[f+2]],E=u[f+3];"boolean"==typeof E?y.removeEventListener(u[f],w,E):E>=0?c[d=E]():c[d=-E].unsubscribe(),f+=2}else{const g=c[d=u[f+1]];u[f].call(g)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Rn(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&Ur(s[3])){u!==s[3]&&Bm(u,s);const c=s[19];null!==c&&c.detachView(i)}}}function Bw(i,s,u){return jw(i,s.parent,u)}function jw(i,s,u){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return u[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Pe.None||d===Pe.Emulated)return null}return Si(c,u)}function Dl(i,s,u,c,d){Rn(i)?i.insertBefore(s,u,c,d):s.insertBefore(u,c,d)}function $w(i,s,u){Rn(i)?i.appendChild(s,u):s.appendChild(u)}function Hw(i,s,u,c,d){null!==c?Dl(i,s,u,c,d):$w(i,s,u)}function $m(i,s){return Rn(i)?i.parentNode(s):s.parentNode}function Zm(i,s,u){return Uc(i,s,u)}function Gm(i,s,u){return 40&i.type?Si(i,u):null}let L0,Uc=Gm;function Zw(i,s){Uc=i,L0=s}function Oh(i,s,u,c){const d=Bw(i,c,s),f=s[11],y=Zm(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)Hw(f,d,u[w],y,!1);else Hw(f,d,u,y,!1);void 0!==L0&&L0(f,c,s,u,d)}function qm(i,s){if(null!==s){const u=s.type;if(3&u)return Si(s,i);if(4&u)return U0(-1,i[s.index]);if(8&u){const c=s.child;if(null!==c)return qm(i,c);{const d=i[s.index];return Ur(d)?U0(-1,d):on(d)}}if(32&u)return Lm(s,i)()||on(i[s.index]);{const c=V0(i,s);return null!==c?Array.isArray(c)?c[0]:qm(xp(i[16]),c):qm(i,s.next)}}return null}function V0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function U0(i,s){const u=10+i+1;if(u<s.length){const c=s[u],d=c[1].firstChild;if(null!==d)return qm(c,d)}return s[7]}function B0(i,s,u){const c=$m(i,s);c&&function(i,s,u,c){Rn(i)?i.removeChild(s,u,c):s.removeChild(u)}(i,c,s,u)}function zm(i,s,u,c,d,f,g){for(;null!=u;){const y=c[u.index],w=u.type;if(g&&0===s&&(y&&pi(on(y),c),u.flags|=4),64!=(64&u.flags))if(8&w)zm(i,s,u.child,c,d,f,!1),Vc(s,i,d,y,f);else if(32&w){const E=Lm(u,c);let A;for(;A=E();)Vc(s,i,d,A,f);Vc(s,i,d,y,f)}else 16&w?Il(i,s,c,u,d,f):Vc(s,i,d,y,f);u=g?u.projectionNext:u.next}}function Bc(i,s,u,c,d,f){zm(u,c,i.firstChild,s,d,f,!1)}function Il(i,s,u,c,d,f){const g=u[16],w=g[6].projection[c.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Vc(s,i,d,w[E],f);else zm(i,s,w,g[3],d,f,!0)}function qw(i,s,u){Rn(i)?i.setAttribute(s,"style",u):s.style.cssText=u}function j0(i,s,u){Rn(i)?""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u):s.className=u}function $0(i,s,u){let c=i.length;for(;;){const d=i.indexOf(s,u);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}u=d+1}}const zw="ng-template";function eA(i,s,u){let c=0;for(;c<i.length;){let d=i[c++];if(u&&"class"===d){if(d=i[c],-1!==$0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function H0(i){return 4===i.type&&i.value!==zw}function tA(i,s,u){return s===(4!==i.type||u?i.value:zw)}function nA(i,s,u){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(dp(i[s]))return s;return i.length}(d);let g=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!tA(i,w,u)||""===w&&1===s.length){if(ea(c))return!1;g=!0}}else{const E=8&c?w:s[++y];if(8&c&&null!==i.attrs){if(!eA(i.attrs,E,u)){if(ea(c))return!1;g=!0}continue}const R=Z0(8&c?"class":w,d,H0(i),u);if(-1===R){if(ea(c))return!1;g=!0;continue}if(""!==E){let P;P=R>f?"":d[R+1].toLowerCase();const H=8&c?P:null;if(H&&-1!==$0(H,E,0)||2&c&&E!==P){if(ea(c))return!1;g=!0}}}}else{if(!g&&!ea(c)&&!ea(w))return!1;if(g&&ea(w))continue;g=!1,c=w|1&c}}return ea(c)||g}function ea(i){return 0==(1&i)}function Z0(i,s,u,c){if(null===s)return-1;let d=0;if(c||!u){let f=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const c=i[u];if("number"==typeof c)return-1;if(c===s)return u;u++}return-1}(s,i)}function Ww(i,s,u=!1){for(let c=0;c<s.length;c++)if(nA(i,s[c],u))return!0;return!1}function mx(i,s){e:for(let u=0;u<s.length;u++){const c=s[u];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function se(i,s){return i?":not("+s.trim()+")":s}function Wm(i){let s=i[0],u=1,c=2,d="",f=!1;for(;u<i.length;){let g=i[u];if("string"==typeof g)if(2&c){const y=i[++u];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!ea(g)&&(s+=se(f,d),d=""),c=g,f=f||!ea(c);u++}return""!==d&&(s+=se(f,d)),s}const Ct={};function Kw(i){Jw(kt(),De(),Sr()+i,rl())}function Jw(i,s,u,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ca(s,f,u)}else{const f=i.preOrderHooks;null!==f&&Zo(s,f,0,u)}bo(u)}function jc(i,s){return i<<17|s<<2}function ta(i){return i>>17&32767}function Xw(i){return 2|i}function La(i){return(131068&i)>>2}function Ys(i,s){return-131069&i|s<<2}function Va(i){return 1|i}function Y0(i,s){const u=i.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const g=i.data[f];$o(d),g.contentQueries(2,s[f],f)}}}function Sl(i,s,u,c,d,f,g,y,w,E){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,el(A),A[3]=A[15]=i,A[8]=u,A[10]=g||i&&i[10],A[11]=y||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=E||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function Nl(i,s,u,c,d){let f=i.data[s];if(null===f)f=Pp(i,s,u,c,d),lt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const g=qi();f.injectorIndex=null===g?-1:g.injectorIndex}return Yr(f,!0),f}function Pp(i,s,u,c,d){const f=ou(),g=au(),w=i.data[s]=function(i,s,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,u,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function Ml(i,s,u,c){if(0===u)return-1;const d=s.length;for(let f=0;f<u;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Fp(i,s,u){cu(s);try{const c=i.viewQuery;null!==c&&Eu(1,c,u);const d=i.template;null!==d&&J0(i,s,d,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Y0(i,s),i.staticViewQueries&&Eu(2,i.viewQuery,u);const f=i.components;null!==f&&function(i,s){for(let u=0;u<s.length;u++)Hp(i,s[u])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Ho()}}function Lh(i,s,u,c){const d=s[2];if(256==(256&d))return;cu(s);const f=rl();try{el(s),function(i){lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&J0(i,s,u,2,c);const g=3==(3&d);if(!f)if(g){const E=i.preOrderCheckHooks;null!==E&&Ca(s,E,null)}else{const E=i.preOrderHooks;null!==E&&Zo(s,E,0,null),ir(s,0)}if(function(i){for(let s=Vm(i);null!==s;s=Lw(s)){if(!s[2])continue;const u=s[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Bo(f,1),d[2]|=1024}}}(s),function(i){for(let s=Vm(i);null!==s;s=Lw(s))for(let u=10;u<s.length;u++){const c=s[u],d=c[1];ru(c)&&Lh(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Y0(i,s),!f)if(g){const E=i.contentCheckHooks;null!==E&&Ca(s,E)}else{const E=i.contentHooks;null!==E&&Zo(s,E,1),ir(s,1)}!function(i,s){const u=i.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)bo(~d);else{const f=d,g=u[++c],y=u[++c];hc(g,f),y(2,s[f])}}}finally{bo(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let u=0;u<s.length;u++)yC(i,s[u])}(s,y);const w=i.viewQuery;if(null!==w&&Eu(2,w,c),!f)if(g){const E=i.viewCheckHooks;null!==E&&Ca(s,E)}else{const E=i.viewHooks;null!==E&&Zo(s,E,2),ir(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Bo(s[3],-1))}finally{Ho()}}function K0(i,s,u,c){const d=s[10],f=!rl(),g=Xu(s);try{f&&!g&&d.begin&&d.begin(),g&&Fp(i,s,c),Lh(i,s,u,c)}finally{f&&!g&&d.end&&d.end()}}function J0(i,s,u,c,d){const f=Sr(),g=2&c;try{bo(-1),g&&s.length>20&&Jw(i,s,20,rl()),u(c,d)}finally{bo(f)}}function cC(i,s,u){if(tc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const g=i.data[f];g.contentQueries&&g.contentQueries(1,u[f],f)}}}function Q0(i,s,u){!iu()||(function(i,s,u,c){const d=u.directiveStart,f=u.directiveEnd;i.firstCreatePass||wo(u,s),pi(c,s);const g=u.initialInputs;for(let y=d;y<f;y++){const w=i.data[y],E=hs(w);E&&iv(s,u,w);const A=Rt(s,i,y,u);pi(A,s),null!==g&&ov(0,y-d,A,w,0,g),E&&(li(u.index,s)[8]=A)}}(i,s,u,Si(u,s)),128==(128&u.flags)&&function(i,s,u){const c=u.directiveStart,d=u.directiveEnd,g=u.index,y=lt.lFrame.currentDirectiveIndex;try{bo(g);for(let w=c;w<d;w++){const E=i.data[w],A=s[w];fc(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&jp(E,A)}}finally{bo(-1),fc(y)}}(i,s,u))}function Xr(i,s,u=Si){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?u(s,i):i[g];i[d++]=y}}}function Vh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Xm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Xm(i,s,u,c,d,f,g,y,w,E){const A=20+c,R=A+d,P=function(i,s){const u=[];for(let c=0;c<s;c++)u.push(c<i?null:Ct);return u}(A,R),H="function"==typeof E?E():E;return P[1]={type:i,blueprint:P,template:u,queries:null,viewQuery:y,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function Up(i,s,u,c){const d=hv(s);null===u?d.push(c):(d.push(u),i.firstCreatePass&&Uh(i).push(c,d.length-1))}function e_(i,s,u){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(s,d):u[c]=[s,d]}return u}function Cs(i,s,u,c,d,f,g,y){const w=Si(s,u);let A,E=s.inputs;!y&&null!=E&&(A=E[c])?(pv(i,u,A,c,d),Wu(s)&&function(i,s){const u=li(s,i);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,s.value||"",c):d,Rn(f)?f.setProperty(w,c,d):Bs(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function Bp(i,s,u,c){let d=!1;if(iu()){const f=function(i,s,u){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const g=c[f];Ww(u,g.selectors,!1)&&(d||(d=[]),an(wo(u,s),i,g.type),hs(g)?(fC(i,u),d.unshift(g)):d.push(g))}return d}(i,s,u),g=null===c?null:{"":-1};if(null!==f){d=!0,gC(u,i.data.length,f.length);for(let A=0;A<f.length;A++){const R=f[A];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,E=Ml(i,s,f.length,null);for(let A=0;A<f.length;A++){const R=f[A];u.mergedAttrs=ll(u.mergedAttrs,R.hostAttrs),mC(i,u,s,E,R),pC(E,R,g),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const P=R.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(u.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(u.index),w=!0),E++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,g=[];let y=null,w=null;for(let E=s.directiveStart;E<c;E++){const A=d[E],R=A.inputs,P=null===f||H0(s)?null:_C(R,f);g.push(P),y=e_(R,E,y),w=e_(A.outputs,E,w)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=w}(i,u)}g&&function(i,s,u){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=u[s[d+1]];if(null==f)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(u,c,g)}return u.mergedAttrs=ll(u.mergedAttrs,u.attrs),d}function n_(i,s,u,c,d,f){const g=f.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(y)!=w&&y.push(w),y.push(c,d,g)}}function jp(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function fC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function pC(i,s,u){if(u){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)u[s.exportAs[c]]=i;hs(s)&&(u[""]=i)}}function gC(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}function mC(i,s,u,c,d){i.data[c]=d;const f=d.factory||(d.factory=Ii(d.type)),g=new ul(f,hs(d),null);i.blueprint[c]=g,u[c]=g,n_(i,s,0,c,Ml(i,u,d.hostVars,Ct),d)}function iv(i,s,u){const c=Si(s,i),d=Vh(u),f=i[10],g=Zp(i,Sl(i,d,null,u.onPush?64:16,c,s,f,f.createRenderer(c,u),null,null));i[s.index]=g}function sv(i,s,u,c,d,f,g){if(null==f)Rn(i)?i.removeAttribute(s,d,u):s.removeAttribute(d);else{const y=null==g?ne(f):g(f,c||"",d);Rn(i)?i.setAttribute(s,d,y,u):u?s.setAttributeNS(u,d,y):s.setAttribute(d,y)}}function ov(i,s,u,c,d,f){const g=f[s];if(null!==g){const y=c.setInput;for(let w=0;w<g.length;){const E=g[w++],A=g[w++],R=g[w++];null!==y?c.setInput(u,R,E,A):u[A]=R}}}function _C(i,s){let u=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return u}function $p(i,s,u,c){return new Array(i,!0,!1,s,null,0,c,u,null,null)}function yC(i,s){const u=li(s,i);if(ru(u)){const c=u[1];80&u[2]?Lh(c,u,c.template,u[8]):u[5]>0&&lv(u)}}function lv(i){for(let c=Vm(i);null!==c;c=Lw(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const g=f[1];Lh(g,f,g.template,f[8])}else f[5]>0&&lv(f)}const u=i[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=li(u[c],i);ru(d)&&d[5]>0&&lv(d)}}function Hp(i,s){const u=li(s,i),c=u[1];(function(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])})(c,u),Fp(c,u,u[8])}function Zp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function r_(i){for(;i;){i[2]|=64;const s=xp(i);if(Dr(i)&&!s)return i;i=s}return null}function dv(i,s,u){const c=s[10];c.begin&&c.begin();try{Lh(i,s,i.template,u)}catch(d){throw ki(s,d),d}finally{c.end&&c.end()}}function Zc(i){!function(i){for(let s=0;s<i.components.length;s++){const u=i.components[s],c=A0(u),d=c[1];K0(d,c,d.template,u)}}(i[8])}function Eu(i,s,u){$o(0),s(i,u)}const s_=(()=>Promise.resolve(null))();function hv(i){return i[7]||(i[7]=[])}function Uh(i){return i.cleanup||(i.cleanup=[])}function ki(i,s){const u=i[9],c=u?u.get(kh,null):null;c&&c.handleError(s)}function pv(i,s,u,c,d){for(let f=0;f<u.length;){const g=u[f++],y=u[f++],w=s[g],E=i.data[g];null!==E.setInput?E.setInput(w,d,c,y):w[y]=d}}function Ks(i,s,u){const c=_a(s,i);Vw(i[11],c,u)}function Gc(i,s,u){let c=u?i.styles:null,d=u?i.classes:null,f=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?f=y:1==f?d=z(d,y):2==f&&(c=z(c,y+": "+s[++g]+";"))}u?i.styles=c:i.stylesWithoutHost=c,u?i.classes=d:i.classesWithoutHost=d}const qc=new On("INJECTOR",-1);class Bh{get(s,u=Ut){if(u===Ut){const c=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw c.name="NullInjectorError",c}return u}}const zc=new On("Set Injector scope."),Wc={},mv={};let jh;function $h(){return void 0===jh&&(jh=new Bh),jh}function CC(i,s=null,u=null,c){return new _v(i,u,s||$h(),c)}class _v{constructor(s,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&bs(u,y=>this.processProvider(y,s,u)),bs([s],y=>this.processInjectorType(y,[],f)),this.records.set(qc,Yc(void 0,this));const g=this.records.get(zc);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Ut,c=je.Default){this.assertNotDestroyed();const d=mt(this),f=zn(void 0);try{if(!(c&je.SkipSelf)){let y=this.records.get(s);if(void 0===y){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof On)&&Xt(s);y=w&&this.injectableDefInScope(w)?Yc(Hh(s),Wc):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&je.Self?$h():this.parent).get(s,u=c&je.Optional&&u===Ut?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[or]=g[or]||[]).unshift(Q(s)),d)throw g;return qs(g,s,"R3InjectorError",this.source)}throw g}finally{zn(f),mt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(Q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,c){if(!(s=Z(s)))return!1;let d=Hi(s);const f=null==d&&s.ngModule||void 0,g=void 0===f?s:f,y=-1!==c.indexOf(g);if(void 0!==f&&(d=Hi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;c.push(g);try{bs(d.imports,R=>{this.processInjectorType(R,u,c)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:P,providers:H}=A[R];bs(H,J=>this.processProvider(J,P,H||G))}}this.injectorDefTypes.add(g);const w=Ii(g)||(()=>new g);this.records.set(g,Yc(w,Wc));const E=d.providers;if(null!=E&&!y){const A=s;bs(E,R=>this.processProvider(R,A,E))}return void 0!==f&&void 0!==s.providers}processProvider(s,u,c){let d=Du(s=Z(s))?s:Z(s&&s.provide);const f=EC(i=s)?Yc(void 0,i.useValue):Yc(vv(i),Wc);var i;if(Du(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Yc(void 0,Wc,!0),g.factory=()=>Wo(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,f)}hydrate(s,u){return u.value===Wc&&(u.value=mv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(i=u.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Z(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Hh(i){const s=Xt(i),u=null!==s?s.factory:Ii(i);if(null!==u)return u;if(i instanceof On)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Hs(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${c.join(", ")}).`)}const u=function(i){const s=i&&(i[ke]||i[qn]);if(s){const u=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new Error("unreachable")}function vv(i,s,u){let c;if(Du(i)){const d=Z(i);return Ii(d)||Hh(d)}if(EC(i))c=()=>Z(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Wo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Tn(Z(i.useExisting));else{const d=Z(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ii(d)||Hh(d);c=()=>new d(...Wo(i.deps))}return c}function Yc(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function EC(i){return null!==i&&"object"==typeof i&&Gs in i}function Du(i){return"function"==typeof i}const o_=function(i,s,u){return function(i,s=null,u=null,c){const d=CC(i,s,u,c);return d._resolveInjectorDefTypes(),d}({name:u},s,i,u)};let En=(()=>{class i{static create(u,c){return Array.isArray(u)?o_(u,c,""):o_(u.providers,u.parent,u.name||"")}}return i.THROW_IF_NOT_FOUND=Ut,i.NULL=new Bh,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>Tn(qc)}),i.__NG_ELEMENT_ID__=-1,i})();function Dv(i,s){wa(A0(i)[1],Cn())}function Jc(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const c=[i];for(;s;){let d;if(hs(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(u){c.push(d);const g=i;g.inputs=lr(i.inputs),g.declaredInputs=lr(i.declaredInputs),g.outputs=lr(i.outputs);const y=d.hostBindings;y&&NA(i,y);const w=d.viewQuery,E=d.contentQueries;if(w&&VC(i,w),E&&SA(i,E),de(i.inputs,d.inputs),de(i.declaredInputs,d.declaredInputs),de(i.outputs,d.outputs),hs(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===Jc&&(u=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,u=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ll(d.hostAttrs,u=ll(u,d.hostAttrs))}}(c)}function lr(i){return i===q?{}:i===G?[]:i}function VC(i,s){const u=i.viewQuery;i.viewQuery=u?(c,d)=>{s(c,d),u(c,d)}:s}function SA(i,s){const u=i.contentQueries;i.contentQueries=u?(c,d,f)=>{s(c,d,f),u(c,d,f)}:s}function NA(i,s){const u=i.hostBindings;i.hostBindings=u?(c,d)=>{s(c,d),u(c,d)}:s}let tg=null;function Qc(){if(!tg){const i=Yt.Symbol;if(i&&i.iterator)tg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const c=s[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(tg=c)}}}return tg}class So{constructor(s){this.wrapped=s}static wrap(s){return new So(s)}static unwrap(s){return So.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof So}}function Qs(i){return!!rg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Qc()in i)}function rg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ts(i,s,u){return i[s]=u}function ti(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function ja(i,s,u,c){const d=ti(i,s,u);return ti(i,s+1,c)||d}function Yh(i,s,u,c){const d=De();return ti(d,ms(),s)&&(kt(),function(i,s,u,c,d,f){const g=Si(i,s);sv(s[11],g,f,i.value,u,c,d)}(Kn(),d,i,s,u,c)),Yh}function Xc(i,s,u,c){return ti(i,ms(),u)?s+ne(u)+c:Ct}function td(i,s,u,c,d,f,g,y,w,E){const R=function(i,s,u,c,d,f){const g=ja(i,s,u,c);return ja(i,s+2,d,f)||g}(i,Kr(),u,d,g,w);return Ar(4),R?s+ne(u)+c+ne(d)+f+ne(g)+y+ne(w)+E:Ct}function kv(i,s,u,c,d,f,g,y){const w=De(),E=kt(),A=i+20,R=E.firstCreatePass?function(i,s,u,c,d,f,g,y,w){const E=s.consts,A=Nl(s,i,4,g||null,ps(E,y));Bp(s,u,A,ps(E,w)),wa(s,A);const R=A.tViews=Xm(2,A,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E);return null!==s.queries&&(s.queries.template(s,A),R.queries=s.queries.embeddedTView(A)),A}(A,E,w,s,u,c,d,f,g):E.data[A];Yr(R,!1);const P=w[11].createComment("");Oh(E,w,P,R),pi(P,w),Zp(w,w[A]=$p(P,w,P,R)),Br(R)&&Q0(E,w,R),null!=g&&Xr(w,R,y)}function $C(i){return Gi(lt.lFrame.contextLView,20+i)}function cr(i,s=je.Default){const u=De();return null===u?Tn(i,s):vs(Cn(),u,Z(i),s)}function Ha(i,s,u){const c=De();return ti(c,ms(),s)&&Cs(kt(),Kn(),c,i,s,c[11],u,!1),Ha}function dr(i,s,u,c,d){const g=d?"class":"style";pv(i,u,s.inputs[g],g,c)}function ag(i,s,u,c){const d=De(),f=kt(),g=20+i,y=d[11],w=d[g]=P0(y,s,lt.lFrame.currentNamespace),E=f.firstCreatePass?function(i,s,u,c,d,f,g){const y=s.consts,E=Nl(s,i,2,d,ps(y,f));return Bp(s,u,E,ps(y,g)),null!==E.attrs&&Gc(E,E.attrs,!1),null!==E.mergedAttrs&&Gc(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(g,f,d,0,s,u,c):f.data[g];Yr(E,!0);const A=E.mergedAttrs;null!==A&&ih(y,w,A);const R=E.classes;null!==R&&j0(y,w,R);const P=E.styles;null!==P&&qw(y,w,P),64!=(64&E.flags)&&Oh(f,d,w,E),0===lt.lFrame.elementDepthCount&&pi(w,d),lt.lFrame.elementDepthCount++,Br(E)&&(Q0(f,d,E),cC(f,E,d)),null!==c&&Xr(d,E)}function f_(){let i=Cn();au()?ya():(i=i.parent,Yr(i,!1));const s=i;lt.lFrame.elementDepthCount--;const u=kt();u.firstCreatePass&&(wa(u,i),tc(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&dr(u,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&dr(u,s,De(),s.stylesWithoutHost,!1)}function sf(i,s,u,c){ag(i,s,u,c),f_()}function g_(i,s,u){const c=De(),d=kt(),f=i+20,g=d.firstCreatePass?function(i,s,u,c,d){const f=s.consts,g=ps(f,c),y=Nl(s,i,8,"ng-container",g);return null!==g&&Gc(y,g,!0),Bp(s,u,y,ps(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,c,s,u):d.data[f];Yr(g,!0);const y=c[f]=c[11].createComment("");Oh(d,c,y,g),pi(y,c),Br(g)&&(Q0(d,c,g),cC(d,g,c)),null!=u&&Xr(c,g)}function Je(){let i=Cn();const s=kt();au()?ya():(i=i.parent,Yr(i,!1)),s.firstCreatePass&&(wa(s,i),tc(i)&&s.queries.elementEnd(i))}function ra(){return De()}function sd(i){return!!i&&"function"==typeof i.then}function od(i){return!!i&&"function"==typeof i.subscribe}const m_=od;function ug(i,s,u,c){const d=De(),f=kt(),g=Cn();return function(i,s,u,c,d,f,g,y){const w=Br(c),A=i.firstCreatePass&&Uh(i),R=s[8],P=hv(s);let H=!0;if(3&c.type||y){const ae=Si(c,s),Re=y?y(ae):ae,_e=P.length,We=y?_t=>y(on(_t[c.index])):c.index;if(Rn(u)){let _t=null;if(!y&&w&&(_t=function(i,s,u,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===u&&d[f+1]===c){const y=s[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof g&&(f+=2)}return null}(i,s,d,c.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=f,_t.__ngLastListenerFn__=f,H=!1;else{f=w_(c,s,R,f,!1);const ct=u.listen(Re,d,f);P.push(f,ct),A&&A.push(d,We,_e,_e+1)}}else f=w_(c,s,R,f,!0),Re.addEventListener(d,f,g),P.push(f),A&&A.push(d,We,_e,g)}else f=w_(c,s,R,f,!1);const J=c.outputs;let pe;if(H&&null!==J&&(pe=J[d])){const ae=pe.length;if(ae)for(let Re=0;Re<ae;Re+=2){const Bn=s[pe[Re]][pe[Re+1]].subscribe(f),Fo=P.length;P.push(f,Bn),A&&A.push(d,c.index,Fo,-(Fo+1))}}}(f,d,d[11],g,i,s,!!u,c),ug}function b_(i,s,u,c){try{return!1!==u(c)}catch(d){return ki(i,d),!1}}function w_(i,s,u,c,d){return function f(g){if(g===Function)return c;const y=2&i.flags?li(i.index,s):s;0==(32&s[2])&&r_(y);let w=b_(s,0,c,g),E=f.__ngNextListenerFn__;for(;E;)w=b_(s,0,E,g)&&w,E=E.__ngNextListenerFn__;return d&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function jv(i=1){return function(i){return(lt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function C_(i,s){let u=null;const c=function(i){const s=i.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?Ww(i,f,!0):mx(c,f))return d}else u=d}return u}function uf(i){const s=De()[16][6];if(!s.projection){const c=s.projection=Hs(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const g=i?C_(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function yi(i,s=0,u){const c=De(),d=kt(),f=Nl(d,20+i,16,null,u||null);null===f.projection&&(f.projection=s),ya(),64!=(64&f.flags)&&function(i,s,u){Il(s[11],0,s,u,Bw(i,u,s),Zm(u.parent||s[6],u,s))}(d,c,f)}function T_(i,s,u){return Ln(i,"",s,"",u),T_}function Ln(i,s,u,c,d){const f=De(),g=Xc(f,s,u,c);return g!==Ct&&Cs(kt(),Kn(),f,i,g,f[11],d,!1),Ln}function Hv(i,s,u,c,d){const f=i[u+1],g=null===s;let y=c?ta(f):La(f),w=!1;for(;0!==y&&(!1===w||g);){const A=i[y+1];ZA(i[y],s)&&(w=!0,i[y+1]=c?Va(A):Xw(A)),y=c?ta(A):La(A)}w&&(i[u+1]=c?Xw(f):Va(f))}function ZA(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Do(i,s)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QC(i){return i.substring(Gr.key,Gr.keyEnd)}function GA(i){return i.substring(Gr.value,Gr.valueEnd)}function hg(i,s){const u=Gr.textEnd;return u===s?-1:(s=Gr.keyEnd=function(i,s,u){for(;s<u&&i.charCodeAt(s)>32;)s++;return s}(i,Gr.key=s,u),ad(i,s,u))}function XC(i,s){const u=Gr.textEnd;let c=Gr.key=ad(i,s,u);return u===c?-1:(c=Gr.keyEnd=function(i,s,u){let c;for(;s<u&&(45===(c=i.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(i,c,u),c=ud(i,c,u),c=Gr.value=ad(i,c,u),c=Gr.valueEnd=function(i,s,u){let c=-1,d=-1,f=-1,g=s,y=g;for(;g<u;){const w=i.charCodeAt(g++);if(59===w)return y;34===w||39===w?y=g=fg(i,w,g,u):s===g-4&&85===f&&82===d&&76===c&&40===w?y=g=fg(i,41,g,u):w>32&&(y=g),f=d,d=c,c=-33&w}return y}(i,c,u),ud(i,c,u))}function Zv(i){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=i.length}function ad(i,s,u){for(;s<u&&i.charCodeAt(s)<=32;)s++;return s}function ud(i,s,u,c){return(s=ad(i,s,u))<u&&s++,s}function fg(i,s,u,c){let d=-1,f=u;for(;f<c;){const g=i.charCodeAt(f++);if(g==s&&92!==d)return f;d=92==g&&92===d?0:g}throw new Error}function pg(i,s,u){return Mo(i,s,u,!1),pg}function gg(i,s){return Mo(i,s,null,!0),gg}function No(i,s){for(let u=function(i){return Zv(i),XC(i,ad(i,0,Gr.textEnd))}(s);u>=0;u=XC(s,u))zv(i,QC(s),GA(s))}function Gv(i){Xs(Qn,Is,i,!0)}function Is(i,s){for(let u=function(i){return Zv(i),hg(i,ad(i,0,Gr.textEnd))}(s);u>=0;u=hg(s,u))Qn(i,QC(s),!0)}function Mo(i,s,u,c){const d=De(),f=kt(),g=Ar(2);f.firstUpdatePass&&qv(f,i,g,c),s!==Ct&&ti(d,g,s)&&Pl(f,f.data[Sr()],d,d[11],i,d[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Jo(i)))),i}(s,u),c,g)}function Xs(i,s,u,c){const d=kt(),f=Ar(2);d.firstUpdatePass&&qv(d,null,f,c);const g=De();if(u!==Ct&&ti(g,f,u)){const y=d.data[Sr()];if(ld(y,c)&&!df(d,f)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(u=z(w,u||"")),dr(d,y,g,u,c)}else!function(i,s,u,c,d,f,g,y){d===Ct&&(d=G);let w=0,E=0,A=0<d.length?d[0]:null,R=0<f.length?f[0]:null;for(;null!==A||null!==R;){const P=w<d.length?d[w+1]:void 0,H=E<f.length?f[E+1]:void 0;let pe,J=null;A===R?(w+=2,E+=2,P!==H&&(J=R,pe=H)):null===R||null!==A&&A<R?(w+=2,J=A):(E+=2,J=R,pe=H),null!==J&&Pl(i,s,u,c,J,pe,g,y),A=w<d.length?d[w]:null,R=E<f.length?f[E]:null}}(d,y,g,g[11],g[f+1],g[f+1]=function(i,s,u){if(null==u||""===u)return G;const c=[],d=Jo(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,u),c,f)}}function df(i,s){return s>=i.expandoStartIndex}function qv(i,s,u,c){const d=i.data;if(null===d[u+1]){const f=d[Sr()],g=df(i,u);ld(f,c)&&null===s&&!g&&(s=!1),s=function(i,s,u,c){const d=function(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(u=mg(u=hf(null,i,s,u,c),s.attrs,c),f=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(u=hf(d,i,s,u,c),null===f){let w=function(i,s,u){const c=u?s.classBindings:s.styleBindings;if(0!==La(c))return i[ta(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=hf(null,i,s,w[1],c),w=mg(w,s.attrs,c),function(i,s,u,c){i[ta(u?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else f=function(i,s,u){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=mg(c,i[f].hostAttrs,u);return mg(c,s.attrs,u)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),u}(d,f,s,c),function(i,s,u,c,d,f){let g=f?s.classBindings:s.styleBindings,y=ta(g),w=La(g);i[c]=u;let A,E=!1;if(Array.isArray(u)){const R=u;A=R[1],(null===A||Do(R,A)>0)&&(E=!0)}else A=u;if(d)if(0!==w){const P=ta(i[y+1]);i[c+1]=jc(P,y),0!==P&&(i[P+1]=Ys(i[P+1],c)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],c)}else i[c+1]=jc(y,0),0!==y&&(i[y+1]=Ys(i[y+1],c)),y=c;else i[c+1]=jc(w,0),0===y?y=c:i[w+1]=Ys(i[w+1],c),w=c;E&&(i[c+1]=Xw(i[c+1])),Hv(i,A,c,!0),Hv(i,A,c,!1),function(i,s,u,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Do(f,s)>=0&&(u[c+1]=Va(u[c+1]))}(s,A,i,c,f),g=jc(y,w),f?s.classBindings=g:s.styleBindings=g}(d,f,s,u,g,c)}}function hf(i,s,u,c,d){let f=null;const g=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<g&&(f=s[y],c=mg(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(u.directiveStylingLast=y),c}function mg(i,s,u){const c=u?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const g=s[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qn(i,g,!!u||s[++f]))}return void 0===i?null:i}function zv(i,s,u){Qn(i,s,Jo(u))}function Pl(i,s,u,c,d,f,g,y){if(!(3&s.type))return;const w=i.data,E=w[y+1];Za(function(i){return 1==(1&i)}(E)?Wv(w,s,u,d,La(E),g):void 0)||(Za(f)||function(i){return 2==(2&i)}(E)&&(f=Wv(w,null,u,d,y,g)),function(i,s,u,c,d){const f=Rn(i);if(s)d?f?i.addClass(u,c):u.classList.add(c):f?i.removeClass(u,c):u.classList.remove(c);else{let g=-1===c.indexOf("-")?void 0:Fa.DashCase;if(null==d)f?i.removeStyle(u,c,g):u.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=Fa.Important),f?i.setStyle(u,c,d,g):u.style.setProperty(c,d,y?"important":"")}}}(c,g,_a(Sr(),u),d,f))}function Wv(i,s,u,c,d,f){const g=null===s;let y;for(;d>0;){const w=i[d],E=Array.isArray(w),A=E?w[1]:w,R=null===A;let P=u[d+1];P===Ct&&(P=R?G:void 0);let H=R?Xn(P,c):A===c?P:void 0;if(E&&!Za(H)&&(H=Xn(w,c)),Za(H)&&(y=H,g))return y;const J=i[d+1];d=g?ta(J):La(J)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=Xn(w,c))}return y}function Za(i){return void 0!==i}function ld(i,s){return 0!=(i.flags&(s?16:32))}function Yv(i,s=""){const u=De(),c=kt(),d=i+20,f=c.firstCreatePass?Nl(c,d,1,s,null):c.data[d],g=u[d]=Um(u[11],s);Oh(c,u,g,f),Yr(f,!1)}function D_(i){return Fl("",i,""),D_}function Fl(i,s,u){const c=De(),d=Xc(c,i,s,u);return d!==Ct&&Ks(c,Sr(),d),Fl}function hr(i,s,u,c,d,f,g,y,w){const E=De(),A=td(E,i,s,u,c,d,f,g,y,w);return A!==Ct&&Ks(E,Sr(),A),hr}function Kv(i,s,u){Xs(Qn,Is,Xc(De(),i,s,u),!0)}function Nu(i,s,u,c,d,f,g,y,w){Xs(Qn,Is,td(De(),i,s,u,c,d,f,g,y,w),!0)}function pT(i,s,u){!function(i){Xs(zv,No,i,!1)}(Xc(De(),i,s,u))}function eb(i,s,u){const c=De();return ti(c,ms(),s)&&Cs(kt(),Kn(),c,i,s,c[11],u,!0),eb}const ia=void 0;var N_=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let cd={};function M_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=nb(s);if(u)return u;const c=s.split("-")[0];if(u=nb(c),u)return u;if("en"===c)return N_;throw new Error(`Missing locale data for the locale "${i}".`)}function tb(i){return M_(i)[ht.PluralCase]}function nb(i){return i in cd||(cd[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),cd[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Tg=["zero","one","two","few","many"],x_="en-US",pf={marker:"element"},Eg={marker:"ICU"};var Un=(()=>((Un=Un||{})[Un.SHIFT=2]="SHIFT",Un[Un.APPEND_EAGERLY=1]="APPEND_EAGERLY",Un[Un.COMMENT=2]="COMMENT",Un))();let k_=x_;function R_(i){(function(i,s){null==i&&jt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(k_=i.toLowerCase().replace(/_/g,"-"))}function rb(i,s,u){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Gm(i,0,u):on(u[d])}function ib(i,s,u,c,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let g=c,y=null;if(3&s.type||(y=g,g=d),null!==g&&0==(2&s.flags))for(let w=1;w<f.length;w++)Dl(i,g,u[f[w]],y,!1)}}function sb(i,s){if(i.push(s),i.length>1)for(let u=i.length-2;u>=0;u--){const c=i[u];CT(c)||KA(c,s)&&null===O_(c)&&TT(c,s.index)}}function CT(i){return!(64&i.type)}function KA(i,s){return CT(s)||i.index>s.index}function O_(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function TT(i,s){const u=i.insertBeforeIndex;Array.isArray(u)?u[0]=s:(Zw(rb,ib),i.insertBeforeIndex=s)}function Ig(i,s){const u=i.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function IT(i,s,u){const c=Pp(i,u,64,null,null);return sb(s,c),c}function P_(i,s){const u=s[i.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function ob(i){return i>>>17}function ab(i){return(131070&i)>>>1}let Ag=0,Ga=0;function AT(i,s,u,c){const d=u[11];let g,f=null;for(let y=0;y<s.length;y++){const w=s[y];if("string"==typeof w){const E=s[++y];null===u[E]&&(u[E]=Um(d,w))}else if("number"==typeof w)switch(1&w){case 0:const E=ob(w);let A,R;if(null===f&&(f=E,g=$m(d,c)),E===f?(A=c,R=g):(A=null,R=on(u[E])),null!==R){const pe=ab(w);Dl(d,R,u[pe],A,!1);const Re=Ig(i,pe);if(null!==Re&&"object"==typeof Re){const _e=P_(Re,u);null!==_e&&AT(i,Re.create[_e],u,u[Re.anchorIdx])}}break;case 1:const H=s[++y],J=s[++y];sv(d,_a(w>>>1,u),null,null,H,J,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case Eg:const E=s[++y],A=s[++y];null===u[A]&&pi(u[A]=GI(d,E),u);break;case pf:const R=s[++y],P=s[++y];null===u[P]&&pi(u[P]=P0(d,R,null),u)}}}function lb(i,s,u,c,d){for(let f=0;f<u.length;f++){const g=u[f],y=u[++f];if(g&d){let w="";for(let E=f+1;E<=f+y;E++){const A=u[E];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=ne(s[c-A]);else{const R=A>>>2;switch(3&A){case 1:const P=u[++E],H=u[++E],J=i.data[R];"string"==typeof J?sv(s[11],s[R],null,J,P,w,H):Cs(i,J,s,P,w,s[11],H,!1);break;case 0:const pe=s[R];null!==pe&&Vw(s[11],pe,w);break;case 2:eS(i,Ig(i,R),s,w);break;case 3:xo(i,Ig(i,R),c,s)}}}}else{const w=u[f+1];if(w>0&&3==(3&w)){const A=Ig(i,w>>>2);s[A.currentCaseLViewIndex]<0&&xo(i,A,c,s)}}f+=y}}function xo(i,s,u,c){let d=c[s.currentCaseLViewIndex];if(null!==d){let f=Ag;d<0&&(d=c[s.currentCaseLViewIndex]=~d,f=-1),lb(i,c,s.update[d],u,f)}}function eS(i,s,u,c){const d=function(i,s){let u=i.cases.indexOf(s);if(-1===u)switch(i.type){case 1:{const c=function(i,s){const u=tb(s)(parseInt(i,10)),c=Tg[u];return void 0!==c?c:"other"}(s,k_);u=i.cases.indexOf(c),-1===u&&"other"!==c&&(u=i.cases.indexOf("other"));break}case 0:u=i.cases.indexOf("other")}return-1===u?null:u}(s,c);if(P_(s,u)!==d&&(cb(i,s,u),u[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const g=u[s.anchorIdx];g&&AT(i,s.create[d],u,g)}}function cb(i,s,u){let c=P_(s,u);if(null!==c){const d=s.remove[c];for(let f=0;f<d.length;f++){const g=d[f];if(g>0){const y=_a(g,u);null!==y&&B0(u[11],y)}else cb(i,Ig(i,~g),u)}}}function tS(){const i=[];let u,c,s=-1;function f(y,w){s=0;const E=P_(y,w);c=null!==E?y.remove[E]:G}function g(){if(s<c.length){const y=c[s++];return y>0?u[y]:(i.push(s,c),f(u[1].data[~y],u),g())}return 0===i.length?null:(c=i.pop(),s=i.pop(),g())}return function(y,w){for(u=w;i.length;)i.pop();return f(y.value,w),g}}const F_=/\ufffd(\d+):?\d*\ufffd/gi,qa=/\ufffd(\d+)\ufffd/,rs=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,to=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hd=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ku=/\uE500/g;function NT(i,s,u,c,d,f,g){const y=Ml(i,c,1,null);let w=y<<Un.SHIFT,E=qi();s===E&&(E=null),null===E&&(w|=Un.APPEND_EAGERLY),g&&(w|=Un.COMMENT,function(i){void 0===R0&&(R0=i())}(tS)),d.push(w,null===f?"":f);const A=Pp(i,y,g?32:1,null===f?"":f,null);sb(u,A);const R=A.index;return Yr(A,!1),null!==E&&s!==E&&function(i,s){let u=i.insertBeforeIndex;null===u?(Zw(rb,ib),u=i.insertBeforeIndex=[null,s]):(function(i,s,u){i!=s&&jt(u,i,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(E,R),A}function MT(i,s,u,c,d,f,g){const y=g.match(F_),w=NT(i,s,u,f,c,y?null:g,!1);y&&Ie(d,g,w.index,null,0,null)}function Ie(i,s,u,c,d,f){const g=i.length,y=g+1;i.push(null,null);const w=g+2,E=s.split(F_);let A=0;for(let R=0;R<E.length;R++){const P=E[R];if(1&R){const H=d+parseInt(P,10);i.push(-1-H),A|=Ro(H)}else""!==P&&i.push(P)}return i.push(u<<2|(c?1:0)),c&&i.push(c,f),i[g]=A,i[y]=i.length-w,A}function Ro(i){return 1<<Math.min(i,31)}function yf(i){let s,f,u="",c=0,d=!1;for(;null!==(s=to.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(c=s.index,d=!1):(u+=i.substring(c,s.index+s[0].length),f=s[1],d=!0);return u+=i.substr(c),u}function kT(i,s,u,c,d,f){let g=0;const y={type:d.type,currentCaseLViewIndex:Ml(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,u){i.push(Ro(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,d,f),function(i,s,u){const c=i.data[s];null===c?i.data[s]=u:c.value=u}(i,f,y);const w=d.values;for(let E=0;E<w.length;E++){const A=w[E],R=[];for(let P=0;P<A.length;P++){const H=A[P];if("string"!=typeof H){const J=R.push(H)-1;A[P]=`\x3c!--\ufffd${J}\ufffd--\x3e`}}g=db(i,y,s,u,c,d.cases[E],A.join(""),R)|g}g&&function(i,s,u){i.push(s,1,u<<2|3)}(u,g,f)}function pd(i){const s=[],u=[];let c=1,d=0;const f=V_(i=i.replace(rs,function(g,y,w){return c="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let g=0;g<f.length;){let y=f[g++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const w=V_(f[g++]);s.length>u.length&&u.push(w)}return{type:c,mainBinding:d,cases:s,values:u}}function V_(i){if(!i)return[];let s=0;const u=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(u.pop(),0==u.length){const w=i.substring(s,y);rs.test(w)?c.push(pd(w)):c.push(w),s=y+1}}else{if(0==u.length){const w=i.substring(s,y);c.push(w),s=y+1}u.push("{")}}const g=i.substring(s);return c.push(g),c}function db(i,s,u,c,d,f,g,y){const w=[],E=[],A=[];s.cases.push(f),s.create.push(w),s.remove.push(E),s.update.push(A);const P=Ep(_o()).getInertBodyElement(g),H=vn(P)||P;return H?hb(i,s,u,c,w,E,A,H,d,y,0):0}function hb(i,s,u,c,d,f,g,y,w,E,A){let R=0,P=y.firstChild;for(;P;){const H=Ml(i,u,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const J=P,pe=J.tagName.toLowerCase();if(Ip.hasOwnProperty(pe)){U_(d,pf,pe,w,H),i.data[H]=pe;const We=J.attributes;for(let _t=0;_t<We.length;_t++){const ct=We.item(_t),Bn=ct.name.toLowerCase();ct.value.match(F_)?S.hasOwnProperty(Bn)&&Ie(g,ct.value,H,ct.name,0,v[Bn]?wl:p[Bn]?Oc:null):gb(d,H,ct)}R=hb(i,s,u,c,d,f,g,P,H,E,A+1)|R,is(f,H,A)}break;case Node.TEXT_NODE:const ae=P.textContent||"",Re=ae.match(F_);U_(d,null,Re?"":ae,w,H),is(f,H,A),Re&&(R=Ie(g,ae,H,null,0,null)|R);break;case Node.COMMENT_NODE:const _e=qa.exec(P.textContent||"");if(_e){const _t=E[parseInt(_e[1],10)];U_(d,Eg,"",w,H),kT(i,u,c,w,_t,H),fb(f,H,A)}}P=P.nextSibling}return R}function is(i,s,u){0===u&&i.push(s)}function fb(i,s,u){0===u&&(i.push(~s),i.push(s))}function U_(i,s,u,c,d){null!==s&&i.push(s),i.push(u,d,function(i,s,u){return 0|s<<17|u<<1}(0,c,d))}function gb(i,s,u){i.push(s<<1|1,u.name,u.value)}function PT(i,s,u=-1){const c=kt(),d=De(),f=20+i,g=ps(c.consts,s),y=qi();c.firstCreatePass&&function(i,s,u,c,d,f){const g=qi(),y=[],w=[],E=[[]],A=function(i){return i.replace(ku," ")}(d=function(i,s){if(function(i){return-1===i}(s))return yf(i);{const u=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,c=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return yf(i.substring(u,c))}}(d,f)).split(hd);for(let R=0;R<A.length;R++){let P=A[R];if(0==(1&R)){const H=V_(P);for(let J=0;J<H.length;J++){let pe=H[J];if(0==(1&J)){const ae=pe;""!==ae&&MT(i,g,E[0],y,w,u,ae)}else{const ae=pe;if("object"!=typeof ae)throw new Error(`Unable to parse ICU expression in "${d}" message.`);kT(i,u,w,s,ae,NT(i,g,E[0],u,y,"",!0).index)}}}else{const H=47===P.charCodeAt(0),pe=(P.charCodeAt(H?1:0),20+Number.parseInt(P.substring(H?2:1)));if(H)E.shift(),Yr(qi(),!1);else{const ae=IT(i,E[0],pe);E.unshift([]),Yr(ae,!0)}}}i.data[c]={create:y,update:w}}(c,null===y?0:y.index,d,f,g,u);const w=c.data[f],A=jw(c,y===d[6]?null:y,d);(function(i,s,u,c){const d=i[11];for(let f=0;f<s.length;f++){const g=s[f++],y=s[f],w=(g&Un.COMMENT)===Un.COMMENT,E=(g&Un.APPEND_EAGERLY)===Un.APPEND_EAGERLY,A=g>>>Un.SHIFT;let R=i[A];null===R&&(R=i[A]=w?d.createComment(y):Um(d,y)),E&&null!==u&&Dl(d,u,R,c,!1)}})(d,w.create,A,y&&8&y.type?d[y.index]:null),ba(!0)}function bb(i,s,u){PT(i,s,u),ba(!1)}function Ng(i){return function(i){i&&(Ag|=1<<Math.min(Ga,31)),Ga++}(ti(De(),ms(),i)),Ng}function FT(i){!function(i,s,u){if(Ga>0){const c=i.data[u];lb(i,s,Array.isArray(c)?c:c.update,Kr()-Ga-1,Ag)}Ag=0,Ga=0}(kt(),De(),i+20)}function Fi(i,s,u,c,d){if(i=Z(i),Array.isArray(i))for(let f=0;f<i.length;f++)Fi(i[f],s,u,c,d);else{const f=kt(),g=De();let y=Du(i)?i:Z(i.provide),w=vv(i);const E=Cn(),A=1048575&E.providerIndexes,R=E.directiveStart,P=E.providerIndexes>>20;if(Du(i)||!i.multi){const H=new ul(w,d,cr),J=xg(y,s,d?A:A+P,R);-1===J?(an(wo(E,g),f,y),B_(f,i,s.length),s.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(H),g.push(H)):(u[J]=H,g[J]=H)}else{const H=xg(y,s,A+P,R),J=xg(y,s,A,A+P),pe=H>=0&&u[H],ae=J>=0&&u[J];if(d&&!ae||!d&&!pe){an(wo(E,g),f,y);const Re=function(i,s,u,c,d){const f=new ul(i,u,cr);return f.multi=[],f.index=s,f.componentProviders=0,Mg(f,d,c&&!u),f}(d?Vl:UT,u.length,d,c,w);!d&&ae&&(u[J].providerFactory=Re),B_(f,i,s.length,0),s.push(y),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),u.push(Re),g.push(Re)}else B_(f,i,H>-1?H:J,Mg(u[d?J:H],w,!d&&c));!d&&c&&ae&&u[J].componentProviders++}}}function B_(i,s,u,c){const d=Du(s);if(d||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=y.indexOf(u);-1===w?y.push(u,[c,g]):y[w+1].push(c,g)}else y.push(u,g)}}}function Mg(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function xg(i,s,u,c){for(let d=u;d<c;d++)if(s[d]===i)return d;return-1}function UT(i,s,u,c){return Ul(this.multi,[])}function Vl(i,s,u,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=Rt(u,u[1],this.providerFactory.index,c);f=y.slice(0,g),Ul(d,f);for(let w=g;w<y.length;w++)f.push(y[w])}else f=[],Ul(d,f);return f}function Ul(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function Bl(i,s=[]){return u=>{u.providersResolver=(c,d)=>function(i,s,u){const c=kt();if(c.firstCreatePass){const d=hs(i);Fi(u,c.data,c.blueprint,d,!0),Fi(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class gd{}const Ru="ngComponent";class Cb{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[Ru]=i,s}(s)}}let md=(()=>{class i{}return i.NULL=new Cb,i})();function j_(...i){}function Ou(i,s){return new za(Si(i,s))}const aS=function(){return Ou(Cn(),De())};let za=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=aS,i})();function Eb(i){return i instanceof za?i.nativeElement:i}class yd{}let uS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Db(),i})();const Db=function(){const i=De(),u=li(Cn().index,i);return function(i){return i[11]}(Ls(u)?u:i)};let Rg=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class HT{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const H_=new HT("12.2.13");class Z_{constructor(){}supports(s){return Qs(s)}create(s){return new GT(s)}}const ZT=(i,s)=>s;class GT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ZT}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const g=!c||u&&u.currentIndex<Ab(c,d,f)?u:c,y=Ab(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{f||(f=[]);const E=y-d,A=w-d;if(E!=A){for(let P=0;P<E;P++){const H=P<f.length?f[P]:f[P]=0,J=H+P;A<=J&&J<E&&(f[P]=H+1)}f[g.previousIndex]=A-E}}y!==w&&s(g,y,w)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Qs(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,g,u=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],g=this._trackByFn(y,f),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,f,g,y)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,g,y),c=!0),u=u._next}else d=0,function(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Qc()]();let c;for(;!(c=u.next()).done;)s(c.value)}}(s,y=>{g=this._trackByFn(d,y),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,y,g,d)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,f,d)):s=this._addAfter(new qT(u,c),f,d),s}_verifyReinsertion(s,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,u,c),this._addToMoves(s,c),s}_moveAfter(s,u,c){return this._unlink(s),this._insertAfter(s,u,c),this._addToMoves(s,c),s}_addAfter(s,u,c){return this._insertAfter(s,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,c){const d=null===u?this._itHead:u._next;return s._next=d,s._prev=u,null===d?this._itTail=s:d._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new zT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,c=s._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qT{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ib{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const u=s._prevDup,c=s._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class zT{constructor(){this.map=new Map}put(s){const u=s.trackById;let c=this.map.get(u);c||(c=new Ib,this.map.set(u,c)),c.add(s)}get(s,u){const d=this.map.get(s);return d?d.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ab(i,s,u){const c=i.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+s+d}class WT{constructor(){}supports(s){return s instanceof Map||rg(s)}create(){return new YT}}class YT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||rg(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const c=s._prev;return u._next=s,u._prev=c,s._prev=u,c&&(c._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,u);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new lS(s);return this._records.set(s,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(c=>u(s[c],c))}}class lS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vd(){return new Pu([new Z_])}let Pu=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||vd()),deps:[[i,new jr,new Ma]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(i){return i.name||typeof i}(u)}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:vd}),i})();function Og(){return new Pg([new WT])}let Pg=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||Og()),deps:[[i,new jr,new Ma]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:Og}),i})();function Fg(i,s,u,c,d=!1){for(;null!==u;){const f=s[u.index];if(null!==f&&c.push(on(f)),Ur(f))for(let y=10;y<f.length;y++){const w=f[y],E=w[1].firstChild;null!==E&&Fg(w[1],w,E,c)}const g=u.type;if(8&g)Fg(i,s,u.child,c);else if(32&g){const y=Lm(u,s);let w;for(;w=y();)c.push(w)}else if(16&g){const y=V0(s,u);if(Array.isArray(y))c.push(...y);else{const w=xp(s[16]);Fg(w[1],w,y,c,!0)}}u=d?u.projectionNext:u.next}return c}class Lg{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Fg(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ur(s)){const u=s[8],c=u?u.indexOf(this):-1;c>-1&&(jm(s,c),xi(u,c))}this._attachedToViewContainer=!1}Uw(this._lView[1],this._lView)}onDestroy(s){Up(this._lView[1],this._lView,null,s)}markForCheck(){r_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,u){vo(!0);try{dv(i,s,u)}finally{vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Bc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Nb extends Lg{constructor(s){super(s),this._view=s}detectChanges(){Zc(this._view)}checkNoChanges(){!function(i){vo(!0);try{Zc(i)}finally{vo(!1)}}(this._view)}get context(){return null}}const dS=function(i){return function(i,s,u){if(Wu(i)&&!u){const c=li(i.index,s);return new Lg(c,c)}return 47&i.type?new Lg(s[16],s):null}(Cn(),De(),16==(16&i))};let Mb=(()=>{class i{}return i.__NG_ELEMENT_ID__=dS,i})();const ii=[new WT],pS=new Pu([new Z_]),gS=new Pg(ii),_S=function(){return wd(Cn(),De())};let bd=(()=>{class i{}return i.__NG_ELEMENT_ID__=_S,i})();const JT=bd,QT=class extends JT{constructor(s,u,c){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(s){const u=this._declarationTContainer.tViews,c=Sl(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),Fp(u,c,s),new Lg(c)}};function wd(i,s){return 4&i.type?new QT(s,i,Ou(i,s)):null}class sa{}class Vg{}const Ob=function(){return Fb(Cn(),De())};let Ug=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ob,i})();const eE=Ug,tE=class extends eE{constructor(s,u,c){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=c}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const s=qe(this._hostTNode,this._hostLView);if(bc(s)){const u=js(s,this._hostLView),c=zi(s);return new Ni(u[1].data[c+8],u)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=nE(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,c){const d=s.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(s,u,c,d,f){const g=c||this.parentInjector;if(!f&&null==s.ngModule&&g){const w=g.get(sa,null);w&&(f=w)}const y=s.create(g,d,void 0,f);return this.insert(y.hostView,u),y}insert(s,u){const c=s._lView,d=c[1];if(Ur(c[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const R=c[3],P=new tE(R,R[6],R[3]);P.detach(P.indexOf(s))}}const f=this._adjustIndex(u),g=this._lContainer;!function(i,s,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=s),c<f-10?(s[4]=u[d],yu(u,10+c,s)):(u.push(s),s[4]=null),s[3]=u;const g=s[17];null!==g&&u!==g&&function(i,s){const u=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===u?i[9]=[s]:u.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,c,g,f);const y=U0(f,g),w=c[11],E=$m(w,g[7]);return null!==E&&function(i,s,u,c,d,f){c[0]=d,c[6]=s,Bc(i,c,u,1,d,f)}(d,g[6],w,c,E,y),s.attachToViewContainerRef(),yu(Pb(g),f,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=nE(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),c=jm(this._lContainer,u);c&&(xi(Pb(this._lContainer),u),Uw(c[1],c))}detach(s){const u=this._adjustIndex(s,-1),c=jm(this._lContainer,u);return c&&null!=xi(Pb(this._lContainer),u)?new Lg(c):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function nE(i){return i[8]}function Pb(i){return i[8]||(i[8]=[])}function Fb(i,s){let u;const c=s[i.index];if(Ur(c))u=c;else{let d;if(8&i.type)d=on(c);else{const f=s[11];d=f.createComment("");const g=Si(i,s);Dl(f,$m(f,g),d,function(i,s){return Rn(i)?i.nextSibling(s):s.nextSibling}(f,g),!1)}s[i.index]=u=$p(c,s,d,i),Zp(s,u)}return new tE(u,i,s)}const Ad={};class ay extends md{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=hn(s);return new uy(u,this.ngModule)}}function bE(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}const CE=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kw});class uy extends gd{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(Wm).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return bE(this.componentDef.inputs)}get outputs(){return bE(this.componentDef.outputs)}create(s,u,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(u,c,d)=>{const f=i.get(u,Ad,d);return f!==Ad||c===Ad?f:s.get(u,c,d)}}}(s,d.injector):s,g=f.get(yd,Ir),y=f.get(Rg,null),w=g.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=c?function(i,s,u){if(Rn(i))return i.selectRootElement(s,u===Pe.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):P0(g.createRenderer(null,this.componentDef),E,function(i){const s=i.toLowerCase();return"svg"===s?tu:"math"===s?"http://www.w3.org/1998/MathML/":null}(E)),R=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||kw,clean:s_,playerHandler:s||null,flags:0}}(),H=Xm(0,null,null,1,0,null,null,null,null,null),J=Sl(null,H,P,R,null,null,g,w,y,f);let pe,ae;cu(J);try{const Re=function(i,s,u,c,d,f){const g=u[1];u[20]=i;const w=Nl(g,20,2,"#host",null),E=w.mergedAttrs=s.hostAttrs;null!==E&&(Gc(w,E,!0),null!==i&&(ih(d,i,E),null!==w.classes&&j0(d,i,w.classes),null!==w.styles&&qw(d,i,w.styles)));const A=c.createRenderer(i,s),R=Sl(u,Vh(s),null,s.onPush?64:16,u[20],w,c,A,f||null,null);return g.firstCreatePass&&(an(wo(w,u),g,s.type),fC(g,w),gC(w,u.length,1)),Zp(u,R),u[20]=R}(A,this.componentDef,J,g,w);if(A)if(c)ih(w,A,["ng-version",H_.full]);else{const{attrs:_e,classes:We}=function(i){const s=[],u=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&u.push(f);else{if(!ea(d))break;d=f}c++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);_e&&ih(w,A,_e),We&&We.length>0&&j0(w,A,We.join(" "))}if(ae=lc(H,20),void 0!==u){const _e=ae.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const _t=u[We];_e.push(null!=_t?Array.from(_t):null)}}pe=function(i,s,u,c,d){const f=u[1],g=function(i,s,u){const c=Cn();i.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),mC(i,c,s,Ml(i,s,1,null),u));const d=Rt(s,i,c.directiveStart,c);pi(d,s);const f=Si(c,s);return f&&pi(f,s),d}(f,u,s);if(c.components.push(g),i[8]=g,d&&d.forEach(w=>w(g,s)),s.contentQueries){const w=Cn();s.contentQueries(1,g,w.directiveStart)}const y=Cn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bo(y.index),n_(u[1],y,0,y.directiveStart,y.directiveEnd,s),jp(s,g)),g}(Re,this.componentDef,J,P,[Dv]),Fp(H,J,null)}finally{Ho()}return new OS(this.componentType,pe,Ou(ae,J),J,ae)}}class OS extends class{}{constructor(s,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new Nb(d),this.componentType=s}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Mf=new Map;class g1 extends sa{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ay(this);const c=Nn(s),d=s[ut]||null;d&&R_(d),this._bootstrapComponents=Pa(c.bootstrap),this._r3Injector=CC(s,u,[{provide:sa,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=En.THROW_IF_NOT_FOUND,c=je.Default){return s===En||s===sa||s===qc?this:this._r3Injector.get(s,u,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Wg extends Vg{constructor(s){super(),this.moduleType=s,null!==Nn(s)&&function(i){const s=new Set;!function u(c){const d=Nn(c,!0),f=d.id;null!==f&&(function(i,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(f,Mf.get(f),c),Mf.set(f,c));const g=Pa(d.imports);for(const y of g)s.has(y)||(s.add(y),u(y))}(i)}(s)}create(s){return new g1(this.moduleType,s)}}function dy(i,s,u,c){return v1(De(),ar(),i,s,u,c)}function m1(i,s,u,c,d){return function(i,s,u,c,d,f,g){const y=s+u;return ja(i,y,d,f)?Ts(i,y+2,g?c.call(g,d,f):c(d,f)):Yg(i,y+2)}(De(),ar(),i,s,u,c,d)}function hy(i,s,u,c,d,f){return function(i,s,u,c,d,f,g,y){const w=s+u;return function(i,s,u,c,d){const f=ja(i,s,u,c);return ti(i,s+2,d)||f}(i,w,d,f,g)?Ts(i,w+3,y?c.call(y,d,f,g):c(d,f,g)):Yg(i,w+3)}(De(),ar(),i,s,u,c,d,f)}function Yg(i,s){const u=i[s];return u===Ct?void 0:u}function v1(i,s,u,c,d,f){const g=s+u;return ti(i,g,d)?Ts(i,g+1,f?c.call(f,d):c(d)):Yg(i,g+1)}function SE(i,s){const u=kt();let c;const d=i+20;u.firstCreatePass?(c=function(i,s){if(s)for(let u=s.length-1;u>=0;u--){const c=s[u];if(i===c.name)return c}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const f=c.factory||(c.factory=Ii(c.type)),g=zn(cr);try{const y=Ea(!1),w=f();return Ea(y),function(i,s,u,c){u>=i.data.length&&(i.data[u]=null,i.blueprint[u]=null),s[u]=c}(u,De(),d,w),w}finally{zn(g)}}function NE(i,s,u){const c=i+20,d=De(),f=Gi(d,c);return function(i,s){So.isWrapped(s)&&(s=So.unwrap(s),i[Kr()]=Ct);return s}(d,function(i,s){return i[1].data[s].pure}(d,c)?v1(d,ar(),s,f.transform,u,f):f.transform(u))}function Jt(i){return s=>{setTimeout(i,void 0,s)}}const oa=class extends o.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,c){var d,f,g;let y=s,w=u||(()=>null),E=c;if(s&&"object"==typeof s){const R=s;y=null===(d=R.next)||void 0===d?void 0:d.bind(R),w=null===(f=R.error)||void 0===f?void 0:f.bind(R),E=null===(g=R.complete)||void 0===g?void 0:g.bind(R)}this.__isAsync&&(w=Jt(w),y&&(y=Jt(y)),E&&(E=Jt(E)));const A=super.subscribe({next:y,error:w,complete:E});return s instanceof j.w&&s.add(A),A}};function kE(){return this._results[Qc()]()}class Gl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qc(),c=Gl.prototype;c[u]||(c[u]=kE)}get changes(){return this._changes||(this._changes=new oa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const c=this;c.dirty=!1;const d=Ki(s);(this._changesDetected=!function(i,s,u){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Po{constructor(s){this.queryList=s,this.matches=null}clone(){return new Po(this.queryList)}setDirty(){this.queryList.setDirty()}}class py{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const c=null!==s.contentQueries?s.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const g=u.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new py(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==LE(s,u).matches&&this.queries[u].setDirty()}}class RE{constructor(s,u,c=null){this.predicate=s,this.flags=u,this.read=c}}class Pf{constructor(s=[]){this.queries=s}elementStart(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Pf(u):null}template(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new gy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,u,OE(u,f)),this.matchTNodeWithReadOption(s,u,dl(u,s,f,!1,!1))}else c===bd?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,dl(u,s,c,!1,!1))}matchTNodeWithReadOption(s,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===za||d===Ug||d===bd&&4&u.type)this.addMatch(u.index,-2);else{const f=dl(u,s,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function OE(i,s){const u=i.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===s)return u[c+1];return null}function C1(i,s,u,c){return-1===u?function(i,s){return 11&i.type?Ou(i,s):4&i.type?wd(i,s):null}(s,i):-2===u?function(i,s,u){return u===za?Ou(s,i):u===bd?wd(s,i):u===Ug?Fb(s,i):void 0}(i,s,c):Rt(i,i[1],u,s)}function PE(i,s,u,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,g=u.matches,y=[];for(let w=0;w<g.length;w+=2){const E=g[w];y.push(E<0?null:C1(s,f[E],g[w+1],u.metadata.read))}d.matches=y}return d.matches}function Gn(i,s,u,c){const d=i.queries.getByIndex(u),f=d.matches;if(null!==f){const g=PE(i,s,d,u);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)c.push(g[y/2]);else{const E=f[y+1],A=s[-w];for(let R=10;R<A.length;R++){const P=A[R];P[17]===P[3]&&Gn(P[1],P,E,c)}if(null!==A[9]){const R=A[9];for(let P=0;P<R.length;P++){const H=R[P];Gn(H[1],H,E,c)}}}}}return c}function HS(i){const s=De(),u=kt(),c=pc();$o(c+1);const d=LE(u,c);if(i.dirty&&Xu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Gn(u,s,c,[]):PE(u,s,d,c);i.reset(f,Eb),i.notifyOnChanges()}return!0}return!1}function ZS(i,s,u){const c=kt();c.firstCreatePass&&(E1(c,new RE(i,s,u),-1),2==(2&s)&&(c.staticViewQueries=!0)),FE(c,De(),s)}function kr(i,s,u,c){const d=kt();if(d.firstCreatePass){const f=Cn();E1(d,new RE(s,u,c),f.index),function(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(d,i),2==(2&u)&&(d.staticContentQueries=!0)}FE(d,De(),u)}function T1(){return i=De(),s=pc(),i[19].queries[s].queryList;var i,s}function FE(i,s,u){const c=new Gl(4==(4&u));Up(i,s,c,c.destroy),null===s[19]&&(s[19]=new py),s[19].queries.push(new Po(c))}function E1(i,s,u){null===i.queries&&(i.queries=new Pf),i.queries.track(new gy(s,u))}function LE(i,s){return i.queries.getByIndex(s)}function VE(i,s){return wd(i,s)}const M1=new On("Application Initializer");let kd=(()=>{class i{constructor(u){this.appInits=u,this.resolve=j_,this.reject=j_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(sd(f))u.push(f);else if(m_(f)){const g=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});u.push(g)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)(Tn(M1,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const QE=new On("AppId"),x1={provide:QE,useFactory:function(){return`${k1()}${k1()}${k1()}`},deps:[]};function k1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XE=new On("Platform Initializer"),eD=new On("Platform ID"),tD=new On("appBootstrapListener");let nD=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const Ay=new On("LocaleId"),uN=new On("DefaultCurrencyCode");class R1{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const Sy=function(i){return new Wg(i)},Ny=Sy,sD=function(i){return Promise.resolve(Sy(i))},so=function(i){const s=Sy(i),c=Pa(Nn(i).declarations).reduce((d,f)=>{const g=hn(f);return g&&d.push(new uy(g)),d},[]);return new R1(s,c)},os=so,em=function(i){return Promise.resolve(so(i))};let $u=(()=>{class i{constructor(){this.compileModuleSync=Ny,this.compileModuleAsync=sD,this.compileModuleAndAllComponentsSync=os,this.compileModuleAndAllComponentsAsync=em}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const O1=(()=>Promise.resolve(0))();function Yl(i){"undefined"==typeof Zone?O1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class us{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Yt.requestAnimationFrame,s=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,tm(i),i.isCheckStableRunning=!0,P1(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),tm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,g,y)=>{try{return $f(i),u.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),oD(i)}},onInvoke:(u,c,d,f,g,y,w)=>{try{return $f(i),u.invoke(d,f,g,y,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),oD(i)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,tm(i),P1(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,c){return this._inner.run(s,u,c)}runTask(s,u,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,s,Od,j_,j_);try{return f.runTask(g,u,c)}finally{f.cancelTask(g)}}runGuarded(s,u,c){return this._inner.runGuarded(s,u,c)}runOutsideAngular(s){return this._outer.run(s)}}const Od={};function P1(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function tm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function $f(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function oD(i){i._nesting--,P1(i)}class mN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(s,u,c){return s.apply(u,c)}runGuarded(s,u,c){return s.apply(u,c)}runOutsideAngular(s){return s()}runTask(s,u,c,d){return s.apply(u,c)}}let aD=(()=>{class i{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),Yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yl(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return i.\u0275fac=function(u){return new(u||i)(Tn(us))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),uD=(()=>{class i{constructor(){this._applications=new Map,My.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return My.findTestabilityInTree(this,u,c)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class lD{addToWindow(s){}findTestabilityInTree(s,u,c){return null}}function _N(i){My=i}let My=new lD,xy=!0,F1=!1;function Hf(){return F1=!0,xy}function yN(){if(F1)throw new Error("Cannot enable prod mode after platform setup.");xy=!1}let Ja;const CN=new On("AllowMultipleToken");class _k{constructor(s,u){this.name=s,this.token=u}}function TN(i,s,u=[]){const c=`Platform: ${s}`,d=new On(c);return(f=[])=>{let g=dD();if(!g||g.injector.get(CN,!1))if(i)i(u.concat(f).concat({provide:d,useValue:!0}));else{const y=u.concat(f).concat({provide:d,useValue:!0},{provide:zc,useValue:"platform"});!function(i){if(Ja&&!Ja.destroyed&&!Ja.injector.get(CN,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ja=i.get(hD);const s=i.get(XE,null);s&&s.forEach(u=>u())}(En.create({providers:y,name:c}))}return function(i){const s=dD();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function dD(){return Ja&&!Ja.destroyed?Ja:null}let hD=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const y=function(i,s){let u;return u="noop"===i?new mN:("zone.js"===i?void 0:i)||new us({enableLongStackTrace:Hf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:us,useValue:y}];return y.run(()=>{const E=En.create({providers:w,parent:this.injector,name:u.moduleType.name}),A=u.create(E),R=A.injector.get(kh,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const P=y.onError.subscribe({next:H=>{R.handleError(H)}});A.onDestroy(()=>{L1(this._modules,A),P.unsubscribe()})}),function(i,s,u){try{const c=u();return sd(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(R,y,()=>{const P=A.injector.get(kd);return P.runInitializers(),P.donePromise.then(()=>(R_(A.injector.get(Ay,x_)||x_),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=nm({},c);return function(i,s,u){const c=new Wg(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(Pd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Q(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(Tn(En))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function nm(i,s){return Array.isArray(s)?s.reduce(nm,i):Object.assign(Object.assign({},i),s)}let Pd=(()=>{class i{constructor(u,c,d,f,g){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new O.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),Yl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe((0,ue.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof gd?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(sa),y=d.create(En.NULL,[],c||d.selector,f),w=y.location.nativeElement,E=y.injector.get(aD,null),A=E&&y.injector.get(uD);return E&&A&&A.registerApplication(w,E),y.onDestroy(()=>{this.detachView(y.hostView),L1(this.components,y),A&&A.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;L1(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(tD,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(u){return new(u||i)(Tn(us),Tn(En),Tn(kh),Tn(md),Tn(kd))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function L1(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}class pD{}class mD{}const IN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let V1=(()=>{class i{constructor(u,c){this._compiler=u,this._config=c||IN}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>rm(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>rm(g,c,d))}}return i.\u0275fac=function(u){return new(u||i)(Tn($u),Tn(mD,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function rm(i,s,u){if(!i)throw new Error(`Cannot find '${u}' in '${s}'`);return i}const B1=function(i){return null},Oy=TN(null,"core",[{provide:eD,useValue:"unknown"},{provide:hD,deps:[En]},{provide:uD,deps:[]},{provide:nD,deps:[]}]),SD=[{provide:Pd,useClass:Pd,deps:[us,En,kh,md,kd]},{provide:CE,deps:[us],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:kd,useClass:kd,deps:[[new Ma,M1]]},{provide:$u,useClass:$u,deps:[]},x1,{provide:Pu,useFactory:function(){return pS},deps:[]},{provide:Pg,useFactory:function(){return gS},deps:[]},{provide:Ay,useFactory:function(i){return R_(i=i||"undefined"!=typeof $localize&&$localize.locale||x_),i},deps:[[new wu(Ay),new Ma,new jr]]},{provide:uN,useValue:"USD"}];let kN=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(Tn(Pd))},i.\u0275mod=Ve({type:i}),i.\u0275inj=mn({providers:SD}),i})()},8939:(Ye,we,F)=>{"use strict";F.d(we,{hO:()=>he,xv:()=>z,Dh:()=>Q,GT:()=>ee,cc:()=>Oe,on:()=>L,pX:()=>ue});var o=F(7716),j=F(7841),O=F(9396);Ye=F.hmd(Ye);const ce=["ngOnDestroy"],ue=(ne,oe,Te,xe={})=>new Proxy(ne,{get:(St,Mt)=>Te.runOutsideAngular(()=>{var zt;if(ne[Mt])return(null===(zt=null==xe?void 0:xe.spy)||void 0===zt?void 0:zt.get)&&xe.spy.get(Mt,ne[Mt]),ne[Mt];if(ce.indexOf(Mt)>-1)return()=>{};const vt=oe.toPromise().then(In=>{const Et=In&&In[Mt];return"function"==typeof Et?Et.bind(In):Et&&Et.then?Et.then(gt=>Te.run(()=>gt)):Te.run(()=>Et)});return new Proxy(()=>{},{get:(In,Et)=>vt[Et],apply:(In,Et,gt)=>vt.then(Ot=>{var Xe;const Bt=Ot&&Ot(...gt);return(null===(Xe=null==xe?void 0:xe.spy)||void 0===Xe?void 0:Xe.apply)&&xe.spy.apply(Mt,gt,Bt),Bt})})})}),ee=(ne,oe)=>{oe.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(xe=>{Object.defineProperty(ne.prototype,xe,Object.getOwnPropertyDescriptor(Te.prototype||Te,xe))})})};class de{constructor(oe){return oe}}const Q=new o.OlP("angularfire2.app.options"),z=new o.OlP("angularfire2.app.name");function L(ne,oe,Te){const St="object"==typeof Te&&Te||{};St.name=St.name||"string"==typeof Te&&Te||"[DEFAULT]";const zt=j.Z.apps.filter(vt=>vt&&vt.name===St.name)[0]||oe.runOutsideAngular(()=>j.Z.initializeApp(ne,St));try{JSON.stringify(ne)!==JSON.stringify(zt.options)&&B("error",`${zt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new de(zt)}const B=(ne,...oe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ne](...oe)},Z={provide:de,useFactory:L,deps:[Q,o.R0b,[new o.FiY,z]]};let he=(()=>{class ne{constructor(Te){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",o.q4F.full,Te.toString())}static initializeApp(Te,xe){return{ngModule:ne,providers:[{provide:Q,useValue:Te},{provide:z,useValue:xe}]}}}return ne.\u0275fac=function(Te){return new(Te||ne)(o.LFG(o.Lbi))},ne.\u0275mod=o.oAB({type:ne}),ne.\u0275inj=o.cJS({providers:[Z]}),ne})();function Oe(ne,oe,Te,xe,St){const[,Mt,zt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===ne)||[];if(Mt)return function(ne,oe){try{return ne.toString()===oe.toString()}catch(Te){return ne===oe}}(St,zt)||(ge("error",`${oe} was already initialized on the ${Te} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:St,was:zt})),Mt;{const vt=xe();return globalThis.\u0275AngularfireInstanceCache.push([ne,vt,St]),vt}}const Ee=!!Ye.hot,ge=(ne,...oe)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[ne](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9396:(Ye,we,F)=>{"use strict";F.d(we,{q4:()=>Cm,iC:()=>Xn,fc:()=>fh,HU:()=>hh,vb:()=>yu,JM:()=>bs});var o=F(7716),j=F(2329),O=F(8239),ce=F(8026),ue=F(3854),ee=F(3910),de=F(5422),Q=F(6676);const z="@firebase/installations",L="0.5.4",Z=`w:${L}`,he="FIS_v2",oe=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(T){return T instanceof ue.ZR&&T.code.includes("request-failed")}function xe({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function St(T){return{token:T.token,requestStatus:2,expiresIn:Ot(T.expiresIn),creationTime:Date.now()}}function Mt(T,I){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(T,I){const U=(yield I.json()).error;return oe.create("request-failed",{requestName:T,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function vt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function In(T,{refreshToken:I}){const x=vt(T);return x.append("Authorization",function(T){return`${he} ${T}`}(I)),x}function Et(T){return gt.apply(this,arguments)}function gt(){return(gt=(0,O.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function Ot(T){return Number(T.replace("s","000"))}function Bt(T,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(T,{fid:I}){const x=xe(T),fe={method:"POST",headers:vt(T),body:JSON.stringify({fid:I,authVersion:he,appId:T.appId,sdkVersion:Z})},Ae=yield Et(()=>fetch(x,fe));if(Ae.ok){const Ze=yield Ae.json();return{fid:Ze.fid||I,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:St(Ze.authToken)}}throw yield Mt("Create Installation",Ae)})).apply(this,arguments)}function cs(T){return new Promise(I=>{setTimeout(I,T)})}const $i=/^[cdef][\w-]{21}$/;function Wt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const x=function(T){return function(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return $i.test(x)?x:""}catch(T){return""}}function ds(T){return`${T.appName}!${T.appId}`}const Ms=new Map;function Ci(T,I){const x=ds(T);mn(x,I),function(T,I){const x=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=T=>{mn(T.data.key,T.data.fid)}),Qt);x&&x.postMessage({key:T,fid:I}),0===Ms.size&&Qt&&(Qt.close(),Qt=null)}(x,I)}function mn(T,I){const x=Ms.get(T);if(x)for(const U of x)U(I)}let Qt=null;const wn="firebase-installations-store";let qn=null;function Ei(){return qn||(qn=(0,Q.openDb)("firebase-installations-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(wn)}})),qn}function je(T,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(T,I){const x=ds(T),te=(yield Ei()).transaction(wn,"readwrite"),fe=te.objectStore(wn),Ae=yield fe.get(x);return yield fe.put(I,x),yield te.complete,(!Ae||Ae.fid!==I.fid)&&Ci(T,I.fid),I})).apply(this,arguments)}function _r(T){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(T){const I=ds(T),U=(yield Ei()).transaction(wn,"readwrite");yield U.objectStore(wn).delete(I),yield U.complete})).apply(this,arguments)}function it(T,I){return tt.apply(this,arguments)}function tt(){return(tt=(0,O.Z)(function*(T,I){const x=ds(T),te=(yield Ei()).transaction(wn,"readwrite"),fe=te.objectStore(wn),Ae=yield fe.get(x),Ze=I(Ae);return void 0===Ze?yield fe.delete(x):yield fe.put(Ze,x),yield te.complete,Ze&&(!Ae||Ae.fid!==Ze.fid)&&Ci(T,Ze.fid),Ze})).apply(this,arguments)}function xt(T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(T){let I;const x=yield it(T,U=>{const te=Wn(U),fe=en(T,te);return I=fe.registrationPromise,fe.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Wn(T){return Yt(T||{fid:Wt(),registrationStatus:0})}function en(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(oe.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(T,I){return et.apply(this,arguments)}(T,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ca(T)}:{installationEntry:I}}function et(){return(et=(0,O.Z)(function*(T,I){try{return je(T,yield Bt(T,I))}catch(x){throw Te(x)&&409===x.customData.serverCode?yield _r(T):yield je(T,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ca(T){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(T){let I=yield tn(T);for(;1===I.registrationStatus;)yield cs(100),I=yield tn(T);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield xt(T);return U||x}return I})).apply(this,arguments)}function tn(T){return it(T,I=>{if(!I)throw oe.create("installation-not-found");return Yt(I)})}function Yt(T){return function(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function ho(T,I){return q.apply(this,arguments)}function q(){return(q=(0,O.Z)(function*({appConfig:T,platformLoggerProvider:I},x){const U=G(T,x),te=In(T,x),fe=I.getImmediate({optional:!0});fe&&te.append("x-firebase-client",fe.getPlatformInfoString());const Ze={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:Z}})},ze=yield Et(()=>fetch(U,Ze));if(ze.ok)return St(yield ze.json());throw yield Mt("Generate Auth Token",ze)})).apply(this,arguments)}function G(T,{fid:I}){return`${xe(T)}/${I}/authTokens:generate`}function W(T){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*(T,I=!1){let x;const U=yield it(T.appConfig,fe=>{if(!Yn(fe))throw oe.create("not-registered");const Ae=fe.authToken;if(!I&&rr(Ae))return fe;if(1===Ae.requestStatus)return x=le(T,I),fe;{if(!navigator.onLine)throw oe.create("app-offline");const Ze=K(fe);return x=Zt(T,Ze),Ze}});return x?yield x:U.authToken})).apply(this,arguments)}function le(T,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(T,I){let x=yield ut(T.appConfig);for(;1===x.authToken.requestStatus;)yield cs(100),x=yield ut(T.appConfig);const U=x.authToken;return 0===U.requestStatus?W(T,I):U})).apply(this,arguments)}function ut(T){return it(T,I=>{if(!Yn(I))throw oe.create("not-registered");return function(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Zt(T,I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(T,I){try{const x=yield ho(T,I),U=Object.assign(Object.assign({},I),{authToken:x});return yield je(T.appConfig,U),x}catch(x){if(!Te(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield je(T.appConfig,U)}else yield _r(T.appConfig);throw x}})).apply(this,arguments)}function Yn(T){return void 0!==T&&2===T.registrationStatus}function rr(T){return 2===T.requestStatus&&!function(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function K(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function Ve(){return(Ve=(0,O.Z)(function*(T){const I=T,{installationEntry:x,registrationPromise:U}=yield xt(I.appConfig);return U?U.catch(console.error):W(I).catch(console.error),x.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(T,I=!1){const x=T;return yield At(x.appConfig),(yield W(x,I)).token})).apply(this,arguments)}function At(T){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(T){const{registrationPromise:I}=yield xt(T);I&&(yield I)})).apply(this,arguments)}function fn(T){return oe.create("missing-app-config-values",{valueName:T})}const Wr="installations";(0,ce._registerComponent)(new ee.wA(Wr,T=>{const I=T.getProvider("app").getImmediate();return{app:I,appConfig:function(T){if(!T||!T.options)throw fn("App Configuration");if(!T.name)throw fn("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!T.options[x])throw fn(x);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I),platformLoggerProvider:(0,ce._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("installations-internal",T=>{const I=T.getProvider("app").getImmediate(),x=(0,ce._getProvider)(I,Wr).getImmediate();return{getId:()=>function(T){return Ve.apply(this,arguments)}(x),getToken:te=>function(T){return Vt.apply(this,arguments)}(x,te)}},"PRIVATE")),(0,ce.registerVersion)(z,L),(0,ce.registerVersion)(z,L,"esm2017");const da="@firebase/remote-config",yr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Br{constructor(I,x,U,te){this.client=I,this.storage=x,this.storageCache=U,this.logger=te}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,te=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(te&&x.isCachedDataFresh(I.cacheMaxAgeMillis,U))return te;I.eTag=te&&te.eTag;const fe=yield x.client.fetch(I),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Ae),fe})()}}function hs(T=navigator){return T.languages&&T.languages[0]||T.language}class Dr{constructor(I,x,U,te,fe,Ae){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=U,this.projectId=te,this.apiKey=fe,this.appId=Ae}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,te]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:te,app_id:x.appId,language_code:hs()},Ut={method:"POST",headers:Ze,body:JSON.stringify(ze)},nn=fetch(Ae,Ut),or=new Promise((Gs,fi)=>{I.signal.addEventListener(()=>{const mt=new Error("The operation was aborted.");mt.name="AbortError",fi(mt)})});let hi;try{yield Promise.race([nn,or]),hi=yield nn}catch(Gs){let fi="fetch-client-network";throw"AbortError"===Gs.name&&(fi="fetch-timeout"),yr.create(fi,{originalErrorMessage:Gs.message})}let ur=hi.status;const Sa=hi.headers.get("ETag")||void 0;let vu,Na;if(200===hi.status){let Gs;try{Gs=yield hi.json()}catch(fi){throw yr.create("fetch-client-parse",{originalErrorMessage:fi.message})}vu=Gs.entries,Na=Gs.state}if("INSTANCE_STATE_UNSPECIFIED"===Na?ur=500:"NO_CHANGE"===Na?ur=304:("NO_TEMPLATE"===Na||"EMPTY_CONFIG"===Na)&&(vu={}),304!==ur&&200!==ur)throw yr.create("fetch-status",{httpStatus:ur});return{status:ur,eTag:Sa,config:vu}})()}}class Zd{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:U}){var te=this;return(0,O.Z)(function*(){yield function(T,I){return new Promise((x,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(x,te);T.addEventListener(()=>{clearTimeout(fe),U(yr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const fe=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function(T){if(!(T instanceof ue.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(fe))throw fe;const Ae={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Ae),te.attemptFetch(I,Ae)}})()}}class qd{constructor(I,x,U,te,fe){this.app=I,this._client=x,this._storageCache=U,this._storage=te,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rc(T,I){const x=T.target.error||void 0;return yr.create(I,{originalErrorMessage:x&&x.message})}const mo="app_namespace_store";class Wd{constructor(I,x,U,te=function(){return new Promise((T,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{I(rc(U,"storage-open"))},x.onsuccess=U=>{T(U.target.result)},x.onupgradeneeded=U=>{const te=U.target.result;switch(U.oldVersion){case 0:te.createObjectStore(mo,{keyPath:"compositeKey"})}}}catch(x){I(yr.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,fe)=>{const Ze=U.transaction([mo],"readonly").objectStore(mo),ze=x.createCompositeKey(I);try{const Ut=Ze.get(ze);Ut.onerror=nn=>{fe(rc(nn,"storage-get"))},Ut.onsuccess=nn=>{const or=nn.target.result;te(or?or.value:void 0)}}catch(Ut){fe(yr.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(I,x){var U=this;return(0,O.Z)(function*(){const te=yield U.openDbPromise;return new Promise((fe,Ae)=>{const ze=te.transaction([mo],"readwrite").objectStore(mo),Ut=U.createCompositeKey(I);try{const nn=ze.put({compositeKey:Ut,value:x});nn.onerror=or=>{Ae(rc(or,"storage-set"))},nn.onsuccess=()=>{fe()}}catch(nn){Ae(yr.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((te,fe)=>{const Ze=U.transaction([mo],"readwrite").objectStore(mo),ze=x.createCompositeKey(I);try{const Ut=Ze.delete(ze);Ut.onerror=nn=>{fe(rc(nn,"storage-delete"))},Ut.onsuccess=()=>{te()}}catch(Ut){fe(yr.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class _m{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const x=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),fe=yield x;fe&&(I.lastFetchStatus=fe);const Ae=yield U;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Ze=yield te;Ze&&(I.activeConfig=Ze)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ip(){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(T){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("remote-config",function(I,{instanceIdentifier:x}){const U=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw yr.create("registration-window");if(!(0,ue.hl)())throw yr.create("indexed-db-unavailable");const{projectId:fe,apiKey:Ae,appId:Ze}=U.options;if(!fe)throw yr.create("registration-project-id");if(!Ae)throw yr.create("registration-api-key");if(!Ze)throw yr.create("registration-app-id");const ze=new Wd(Ze,U.name,x=x||"firebase"),Ut=new _m(ze),nn=new de.Yd(da);nn.logLevel=de.in.ERROR;const or=new Dr(te,ce.SDK_VERSION,x,fe,Ae,Ze),hi=new Zd(or,ze),ur=new Br(hi,ze,Ut,nn),Sa=new qd(U,ur,Ut,ze,nn);return function(T){const I=(0,ue.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(da,"0.3.3"),(0,ce.registerVersion)(da,"0.3.3","esm2017");const Ku="/firebase-messaging-sw.js",Kd="/firebase-cloud-messaging-push-scope",sc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ii="google.c.a.c_id",Vs="google.c.a.c_l",vr="google.c.a.ts",oc="google.c.a.e";var pa=(()=>{return(T=pa||(pa={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",pa;var T})();function Ai(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jd(T){const x=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),te=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)te[fe]=U.charCodeAt(fe);return te}const ga="fcm_token_details_db",ac="fcm_token_object_Store";function Zi(T){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(ga))return null;let I=null;return(yield(0,Q.openDb)(ga,5,function(){var U=(0,O.Z)(function*(te){var fe;if(te.oldVersion<2||!te.objectStoreNames.contains(ac))return;const Ae=te.transaction.objectStore(ac),Ze=yield Ae.index("fcmSenderId").get(T);if(yield Ae.clear(),Ze)if(2===te.oldVersion){const ze=Ze;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(fe=ze.createTime)&&void 0!==fe?fe:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ai(ze.vapidKey)}}}else if(3===te.oldVersion){const ze=Ze;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}else if(4===te.oldVersion){const ze=Ze;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ai(ze.auth),p256dh:Ai(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ai(ze.vapidKey)}}}});return function(te){return U.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(ga),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Qu(I)?I:null})).apply(this,arguments)}function Qu(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const _o="firebase-messaging-store";let ma=null;function Rn(){return ma||(ma=(0,Q.openDb)("firebase-messaging-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(_o)}})),ma}function nu(T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(T){const I=_a(T),U=yield(yield Rn()).transaction(_o).objectStore(_o).get(I);if(U)return U;{const te=yield Zi(T.appConfig.senderId);if(te)return yield yo(T,te),te}})).apply(this,arguments)}function yo(T,I){return on.apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(T,I){const x=_a(T),te=(yield Rn()).transaction(_o,"readwrite");return yield te.objectStore(_o).put(I,x),yield te.complete,I})).apply(this,arguments)}function op(T){return uc.apply(this,arguments)}function uc(){return(uc=(0,O.Z)(function*(T){const I=_a(T),U=(yield Rn()).transaction(_o,"readwrite");yield U.objectStore(_o).delete(I),yield U.complete})).apply(this,arguments)}function _a({appConfig:T}){return T.appId}const Mn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lc(T,I){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(T,I){const x=yield el(T),U=lt(I),te={method:"POST",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(ps(T.appConfig),te)).json()}catch(Ae){throw Mn.create("token-subscribe-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-subscribe-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-subscribe-no-token");return fe.token})).apply(this,arguments)}function li(T,I){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,O.Z)(function*(T,I){const x=yield el(T),U=lt(I.subscriptionOptions),te={method:"PATCH",headers:x,body:JSON.stringify(U)};let fe;try{fe=yield(yield fetch(`${ps(T.appConfig)}/${I.token}`,te)).json()}catch(Ae){throw Mn.create("token-update-failed",{errorInfo:Ae})}if(fe.error)throw Mn.create("token-update-failed",{errorInfo:fe.error.message});if(!fe.token)throw Mn.create("token-update-no-token");return fe.token})).apply(this,arguments)}function ru(T,I){return br.apply(this,arguments)}function br(){return(br=(0,O.Z)(function*(T,I){const U={method:"DELETE",headers:yield el(T)};try{const fe=yield(yield fetch(`${ps(T.appConfig)}/${I}`,U)).json();if(fe.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:fe.error.message})}catch(te){throw Mn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function ps({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function el(T){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,O.Z)(function*({appConfig:T,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function lt({p256dh:T,auth:I,endpoint:x,vapidKey:U}){const te={web:{endpoint:x,auth:I,p256dh:T}};return U!==sc&&(te.web.applicationPubKey=U),te}const Xd=6048e5;function eh(T){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(T){const I=yield su(T.swRegistration,T.vapidKey),x={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:Ai(I.getKey("auth")),p256dh:Ai(I.getKey("p256dh"))},U=yield nu(T.firebaseDependencies);if(U){if(ou(U.subscriptionOptions,x))return Date.now()>=U.createTime+Xd?dc(T,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield ru(T.firebaseDependencies,U.token)}catch(te){console.warn(te)}return De(T.firebaseDependencies,x)}return De(T.firebaseDependencies,x)})).apply(this,arguments)}function tl(T){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(T){const I=yield nu(T.firebaseDependencies);I&&(yield ru(T.firebaseDependencies,I.token),yield op(T.firebaseDependencies));const x=yield T.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function dc(T,I){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(T,I){try{const x=yield li(T.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield yo(T.firebaseDependencies,U),x}catch(x){throw yield tl(T),x}})).apply(this,arguments)}function De(T,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(T,I){const U={token:yield lc(T,I),createTime:Date.now(),subscriptionOptions:I};return yield yo(T,U),U.token})).apply(this,arguments)}function su(T,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jd(I)})})).apply(this,arguments)}function ou(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function qi(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcm_message_id};return function(T,I){if(!I.notification)return;T.notification={};const x=I.notification.title;x&&(T.notification.title=x);const U=I.notification.body;U&&(T.notification.body=U);const te=I.notification.image;te&&(T.notification.image=te)}(I,T),function(T,I){!I.data||(T.data=I.data)}(I,T),function(T,I){if(!I.fcmOptions)return;T.fcmOptions={};const x=I.fcmOptions.link;x&&(T.fcmOptions.link=x);const U=I.fcmOptions.analytics_label;U&&(T.fcmOptions.analyticsLabel=U)}(I,T),I}function ap(T){return"object"==typeof T&&!!T&&Ii in T}function nl(T,I){const x=[];for(let U=0;U<T.length;U++)x.push(T.charAt(U)),U<I.length&&x.push(I.charAt(U));return x.join("")}function vo(T){return Mn.create("missing-app-config-values",{valueName:T})}nl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ar{constructor(I,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(T){if(!T||!T.options)throw vo("App Configuration Object");if(!T.name)throw vo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=T;for(const U of I)if(!x[U])throw vo(U);return{appName:T.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Kr(T){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Ku,{scope:Kd}),T.swRegistration.update().catch(()=>{})}catch(I){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ms(T,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,O.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Kr(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function ym(T,I){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=sc)})).apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(T,I){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield ym(T,null==I?void 0:I.vapidKey),yield ms(T,null==I?void 0:I.serviceWorkerRegistration),eh(T)})).apply(this,arguments)}function fc(T,I,x){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(T,I,x){const U=pc(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Ii],message_name:x[Vs],message_time:x[vr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pc(T){switch(T){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function il(){return(il=(0,O.Z)(function*(T,I){const x=I.data;if(!x.isFirebaseMessaging)return;T.onMessageHandler&&x.messageType===pa.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(qi(x)):T.onMessageHandler.next(qi(x)));const U=x.data;ap(U)&&"1"===U[oc]&&(yield fc(T,x.messageType,U))})).apply(this,arguments)}const lu="@firebase/messaging";function ol(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ue.hl)()&&(yield(0,ue.eu)())&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("messaging",T=>{const I=new ar(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(T,I){return il.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("messaging-internal",T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:U=>function(T,I){return uu.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,ce.registerVersion)(lu,"0.9.4"),(0,ce.registerVersion)(lu,"0.9.4","esm2017");const al="analytics",mc="firebase_id",Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zo="https://www.googletagmanager.com/gtag/js",ir=new de.Yd("@firebase/analytics");function yc(T){return Promise.all(T.map(I=>I.catch(x=>x)))}function nh(T,I){const x=document.createElement("script");x.src=`${Zo}?l=${T}&id=${I}`,x.async=!0,document.head.appendChild(x)}function ul(T,I,x,U,te,fe){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(T,I,x,U,te,fe){const Ae=U[te];try{if(Ae)yield I[Ae];else{const ze=(yield yc(x)).find(Ut=>Ut.measurementId===te);ze&&(yield I[ze.appId])}}catch(Ze){ir.error(Ze)}T("config",te,fe)})).apply(this,arguments)}function rh(T,I,x,U,te){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(T,I,x,U,te){try{let fe=[];if(te&&te.send_to){let Ae=te.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ze=yield yc(x);for(const ze of Ae){const Ut=Ze.find(or=>or.measurementId===ze),nn=Ut&&I[Ut.appId];if(!nn){fe=[];break}fe.push(nn)}}0===fe.length&&(fe=Object.values(I)),yield Promise.all(fe),T("event",U,te||{})}catch(fe){ir.error(fe)}})).apply(this,arguments)}function vm(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(Zo))return I;return null}const ys=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ll=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function hp(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function bc(T){return zi.apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(T){var I;const{appId:x,apiKey:U}=T,te={method:"GET",headers:hp(U)},fe=Ca.replace("{app-id}",x),Ae=yield fetch(fe,te);if(200!==Ae.status&&304!==Ae.status){let Ze="";try{const ze=yield Ae.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(Ze=ze.error.message)}catch(ze){}throw ys.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ze})}return Ae.json()})).apply(this,arguments)}function Ta(T){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(T,I=ll,x){const{appId:U,apiKey:te,measurementId:fe}=T.options;if(!U)throw ys.create("no-app-id");if(!te){if(fe)return{measurementId:fe,appId:U};throw ys.create("no-api-key")}const Ae=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Cc;return setTimeout((0,O.Z)(function*(){Ze.abort()}),void 0!==x?x:6e4),wc({appId:U,apiKey:te,measurementId:fe},Ae,Ze,I)})).apply(this,arguments)}function wc(T,I,x){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,O.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:x},U,te=ll){const{appId:fe,measurementId:Ae}=T;try{yield g0(U,I)}catch(Ze){if(Ae)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:fe,measurementId:Ae};throw Ze}try{const Ze=yield bc(T);return te.deleteThrottleMetadata(fe),Ze}catch(Ze){if(!sh(Ze)){if(te.deleteThrottleMetadata(fe),Ae)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:fe,measurementId:Ae};throw Ze}const ze=503===Number(Ze.customData.httpStatus)?(0,ue.$s)(x,te.intervalMillis,30):(0,ue.$s)(x,te.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+ze,backoffCount:x+1};return te.setThrottleMetadata(fe,Ut),ir.debug(`Calling attemptFetch again in ${ze} millis`),wc(T,Ut,U,te)}})).apply(this,arguments)}function g0(T,I){return new Promise((x,U)=>{const te=Math.max(I-Date.now(),0),fe=setTimeout(x,te);T.addEventListener(()=>{clearTimeout(fe),U(ys.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function sh(T){if(!(T instanceof ue.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Cc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function oh(){return ah.apply(this,arguments)}function ah(){return(ah=(0,O.Z)(function*(){if(!(0,ue.hl)())return ir.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(T){return ir.warn(ys.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(T,I,x,U,te,fe,Ae){var Ze;const ze=Ta(T);ze.then(ur=>{x[ur.measurementId]=ur.appId,T.options.measurementId&&ur.measurementId!==T.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>ir.error(ur)),I.push(ze);const Ut=oh().then(ur=>{if(ur)return U.getId()}),[nn,or]=yield Promise.all([ze,Ut]);vm()||nh(fe,nn.measurementId),te("js",new Date);const hi=null!==(Ze=null==Ae?void 0:Ae.config)&&void 0!==Ze?Ze:{};return hi.origin="firebase",hi.update=!0,null!=or&&(hi[mc]=or),te("config",nn.measurementId,hi),nn.measurementId})).apply(this,arguments)}class pn{constructor(I){this.app=I}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},an=[];const uh={};let vs,Jn,xn="dataLayer",gu=!1;function Rt(T,I,x){!function(){const T=[];if((0,ue.ru)()&&T.push("This is a browser extension environment."),(0,ue.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((U,te)=>`(${te+1}) ${U}`).join(" "),x=ys.create("invalid-analytics-context",{errorInfo:I});ir.warn(x.message)}}();const U=T.options.appId;if(!U)throw ys.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ys.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[U])throw ys.create("already-exists",{id:U});if(!gu){!function(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(xn);const{wrappedGtag:fe,gtagCore:Ae}=function(T,I,x,U,te){let fe=function(...Ae){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(fe=window[te]),window[te]=function(T,I,x,U){function fe(){return(fe=(0,O.Z)(function*(Ae,Ze,ze){try{"event"===Ae?yield rh(T,I,x,Ze,ze):"config"===Ae?yield ul(T,I,x,U,Ze,ze):T("set",Ze)}catch(Ut){ir.error(Ut)}})).apply(this,arguments)}return function(Ae,Ze,ze){return fe.apply(this,arguments)}}(fe,T,I,x),{gtagCore:fe,wrappedGtag:window[te]}}(qe,an,uh,xn,"gtag");Jn=fe,vs=Ae,gu=!0}return qe[U]=function(T,I,x,U,te,fe,Ae){return fu.apply(this,arguments)}(T,an,uh,I,vs,xn,x),new pn(T)}function Co(){return(Co=(0,O.Z)(function*(T,I,x,U,te){if(te&&te.global)T("event",x,U);else{const fe=yield I;T("event",x,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function To(){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(T){return!1}})).apply(this,arguments)}const fp="@firebase/analytics";(0,ce._registerComponent)(new ee.wA(al,(I,{options:x})=>Rt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ee.wA("analytics-internal",function(I){try{const x=I.getProvider(al).getImmediate();return{logEvent:(U,te,fe)=>function(T,I,x,U){T=(0,ue.m9)(T),function(T,I,x,U,te){return Co.apply(this,arguments)}(Jn,qe[T.app.options.appId],I,x,U).catch(te=>ir.error(te))}(x,U,te,fe)}}catch(x){throw ys.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(fp,"0.7.4"),(0,ce.registerVersion)(fp,"0.7.4","esm2017");var pp=F(7771),wm=F(3637),Da=F(8307),_u=F(9746),dh=F(2639);const Cm=new o.GfV("7.2.0"),Ic="__angularfire_symbol__analyticsIsSupported",Eo="__angularfire_symbol__remoteConfigIsSupported",Aa="__angularfire_symbol__messagingIsSupported";function bs(T,I,x){if(I){if(1===I.length)return I[0];const fe=I.filter(Ae=>Ae.app===x);if(1===fe.length)return fe[0]}return x.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ic]||(globalThis[Ic]=To().then(T=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=T)),globalThis[Aa]||(globalThis[Aa]=ol().then(T=>globalThis.__angularfire_symbol__messagingIsSupportedValue=T)),globalThis[Eo]||(globalThis[Eo]=ip().then(T=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=T));const yu=(T,I)=>{const x=I?[I]:(0,j.C6)(),U=[];return x.forEach(te=>{te.container.getProvider(T).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function xi(){}class Hs{constructor(I,x=pp.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,U){const te=this.zone;return this.delegate.schedule(function(Ae){te.runGuarded(()=>{I.apply(this,[Ae])})},x,U)}}class Sc{constructor(I){this.zone=I,this.task=null}call(I,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)),x.pipe((0,Da.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hh=(()=>{class T{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Hs(Zone.current)),this.insideAngular=x.run(()=>new Hs(Zone.current,wm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(x){return new(x||T)(o.LFG(o.R0b))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function zo(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function fh(T){return T.pipe((0,_u.QV)(zo().outsideAngular))}function Xn(T){return zo(),function(T){return function(x){return(x=x.lift(new Sc(T.ngZone))).pipe((0,dh.R)(T.outsideAngular),(0,_u.QV)(T.insideAngular))}}(zo())(T)}},2476:(Ye,we,F)=>{"use strict";F.d(we,{$:()=>ym,A:()=>co,E:()=>Ur,G:()=>Dr,I:()=>Us,K:()=>Os,L:()=>nu,M:()=>op,N:()=>uc,P:()=>te,Q:()=>_a,R:()=>zo,T:()=>on,U:()=>Gi,V:()=>li,W:()=>el,X:()=>qi,Y:()=>au,Z:()=>ap,_:()=>ar,a:()=>vs,a0:()=>hc,a1:()=>fc,a2:()=>pc,a3:()=>il,a4:()=>cu,a5:()=>up,a6:()=>th,a7:()=>Ho,a8:()=>lp,a9:()=>Kn,aA:()=>Yo,aB:()=>qs,aC:()=>Vr,aG:()=>cl,aJ:()=>Mn,aa:()=>p0,ab:()=>al,ae:()=>Ca,af:()=>ir,ag:()=>yc,aj:()=>cc,ak:()=>bm,am:()=>wc,an:()=>ah,ao:()=>np,ap:()=>qn,aq:()=>eu,ar:()=>Ps,as:()=>Xt,at:()=>Ch,au:()=>yh,av:()=>Qt,aw:()=>ke,ax:()=>je,ay:()=>ft,az:()=>gl,b:()=>xn,c:()=>ur,d:()=>Gs,e:()=>vu,f:()=>wu,g:()=>mh,h:()=>jr,i:()=>pp,j:()=>Im,k:()=>Oc,l:()=>Xn,m:()=>Th,n:()=>Ip,o:()=>cs,r:()=>gp,s:()=>fh,u:()=>x,z:()=>ds});var o=F(8239),j=F(3854),O=F(8026);function de(v,p){var _={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(_[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(_[C[S]]=v[C[S]])}return _}var Xe=F(5422),Bt=F(3910);const cs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},co={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ds=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ms=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ci=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xs=new Xe.Yd("@firebase/auth");function mn(v,...p){xs.logLevel<=Xe.in.ERROR&&xs.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Xt(v,...p){throw Hi(v,...p)}function Qt(v,...p){return Hi(v,...p)}function ks(v,p,_){const C=Object.assign(Object.assign({},Ms()),{[p]:_});return new j.LL("auth","Firebase",C).create(p,{appName:v.name})}function Ti(v,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Xt(v,"argument-error"),ks(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hi(v,...p){if("string"!=typeof v){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Ci.create(v,...p)}function ke(v,p,..._){if(!v)throw Hi(p,..._)}function wn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw mn(p),new Error(p)}function qn(v,p){v||wn(p)}const Ei=new Map;function je(v){qn(v instanceof Function,"Expected a class definition");let p=Ei.get(v);return p?(qn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ei.set(v,p),p)}function zn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function it(){return"http:"===tt()||"https:"===tt()}function tt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Wn{constructor(p,_){this.shortDelay=p,this.longDelay=_,qn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function en(v,p){qn(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Pe{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ca=new Wn(3e4,6e4);function cn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tn(v,p,_,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(v,p,_,C,S={}){return dn(v,S,()=>{let k={},X={};C&&("GET"===p?X=C:k={body:JSON.stringify(C)});const ye=(0,j.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),$e=new(Pe.headers());return $e.set("Content-Type","application/json"),$e.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&$e.set("X-Firebase-Locale",v.languageCode),Pe.fetch()(W(v,v.config.apiHost,_,ye),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function dn(v,p,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,o.Z)(function*(v,p,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},et),p);try{const S=new be(v),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const X=yield k.json();if("needConfirmation"in X)throw le(v,"account-exists-with-different-credential",X);if(k.ok&&!("errorMessage"in X))return X;{const ye=k.ok?X.errorMessage:X.error.message,[$e,Fe]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw le(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw le(v,"email-already-in-use",X);const st=C[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw ks(v,st,Fe);Xt(v,st)}}catch(S){if(S instanceof j.ZR)throw S;Xt(v,"network-request-failed")}})).apply(this,arguments)}function q(v,p,_,C){return G.apply(this,arguments)}function G(){return(G=(0,o.Z)(function*(v,p,_,C,S={}){const k=yield tn(v,p,_,C,S);return"mfaPendingCredential"in k&&Xt(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(v,p,_,C){const S=`${p}${_}?${C}`;return v.config.emulator?en(v.config,S):`${v.config.apiScheme}://${S}`}class be{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Qt(this.auth,"timeout")),ca.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function le(v,p,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=Qt(v,p,C);return S.customData._tokenResponse=_,S}function ut(){return(ut=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zt(v,p){return An.apply(this,arguments)}function An(){return(An=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yn(v,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ie(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ce(){return(Ce=(0,o.Z)(function*(v,p=!1){const _=(0,j.m9)(v),C=yield _.getIdToken(p),S=dt(C);ke(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,X=null==k?void 0:k.sign_in_provider;return{claims:S,token:C,authTime:ie(Ve(S.auth_time)),issuedAtTime:ie(Ve(S.iat)),expirationTime:ie(Ve(S.exp)),signInProvider:X||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ve(v){return 1e3*Number(v)}function dt(v){const[p,_,C]=v.split(".");if(void 0===p||void 0===_||void 0===C)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,j.tV)(_);return S?JSON.parse(S):(mn("Failed to decode base64 JWT payload"),null)}catch(S){return mn("Caught error parsing JWT payload as JSON",S),null}}function At(v,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,o.Z)(function*(v,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof j.ZR&&hn(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function hn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Sn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class wt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(v){var p;const _=v.auth,C=yield v.getIdToken(),S=yield At(v,Yn(_,{idToken:C}));ke(null==S?void 0:S.users.length,_,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const X=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?fn(k.providerUserInfo):[],ye=Ft(v.providerData,X),st=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==ye?void 0:ye.length)),Gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ye,metadata:new wt(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(v,Gt)})).apply(this,arguments)}function Ue(){return(Ue=(0,o.Z)(function*(v){const p=(0,j.m9)(v);yield Nn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ft(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function fn(v){return v.map(p=>{var{providerId:_}=p,C=de(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Rs(){return(Rs=(0,o.Z)(function*(v,p){const _=yield dn(v,{},()=>{const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,X=W(v,S,"/v1/token",`key=${k}`);return Pe.fetch()(X,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ke(p.idToken,"internal-error"),ke(void 0!==p.idToken,"internal-error"),ke(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=dt(v);return ke(p,"internal-error"),ke(void 0!==p.exp,"internal-error"),ke(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,o.Z)(function*(){return ke(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,o.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:X}=yield function(v,p){return Rs.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(S,k,Number(X))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:S,expirationTime:k}=_,X=new Vn;return C&&(ke("string"==typeof C,"internal-error",{appName:p}),X.refreshToken=C),S&&(ke("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),k&&(ke("number"==typeof k,"internal-error",{appName:p}),X.expirationTime=k),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return wn("not implemented")}}function Er(v,p){ke("string"==typeof v||void 0===v,"internal-error",{appName:p})}class _n{constructor(p){var{uid:_,auth:C,stsTokenManager:S}=p,k=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new wt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,o.Z)(function*(){const C=yield At(_,_.stsTokenManager.getToken(_.auth,p));return ke(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function(v){return Ce.apply(this,arguments)}(this,p)}reload(){return function(v){return Ue.apply(this,arguments)}(this)}_assign(p){this!==p&&(ke(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new _n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,o.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield Nn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,o.Z)(function*(){const _=yield p.getIdToken();return yield At(p,function(v,p){return ut.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,S,k,X,ye,$e,Fe,st;const Gt=null!==(C=_.displayName)&&void 0!==C?C:void 0,vn=null!==(S=_.email)&&void 0!==S?S:void 0,$r=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,bn=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Pc=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,Eh=null!==($e=_._redirectEventId)&&void 0!==$e?$e:void 0,Dh=null!==(Fe=_.createdAt)&&void 0!==Fe?Fe:void 0,Ap=null!==(st=_.lastLoginAt)&&void 0!==st?st:void 0,{uid:Ih,emailVerified:Mm,isAnonymous:Ah,providerData:Io,stsTokenManager:xm}=_;ke(Ih&&xm,p,"internal-error");const Tl=Vn.fromJSON(this.name,xm);ke("string"==typeof Ih,p,"internal-error"),Er(Gt,p.name),Er(vn,p.name),ke("boolean"==typeof Mm,p,"internal-error"),ke("boolean"==typeof Ah,p,"internal-error"),Er($r,p.name),Er(bn,p.name),Er(Pc,p.name),Er(Eh,p.name),Er(Dh,p.name),Er(Ap,p.name);const km=new _n({uid:Ih,auth:p,email:vn,emailVerified:Mm,displayName:Gt,isAnonymous:Ah,photoURL:bn,phoneNumber:$r,tenantId:Pc,stsTokenManager:Tl,createdAt:Dh,lastLoginAt:Ap});return Io&&Array.isArray(Io)&&(km.providerData=Io.map(Fc=>Object.assign({},Fc))),Eh&&(km._redirectEventId=Eh),km}static _fromIdTokenResponse(p,_,C=!1){return(0,o.Z)(function*(){const S=new Vn;S.updateFromServerResponse(_);const k=new _n({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Nn(k),k})()}}const Os=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,o.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,o.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,o.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function ft(v,p,_){return`firebase:${v}:${p}:${_}`}class ui{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:S,name:k}=this.auth;this.fullUserKey=ft(this.userKey,S.apiKey,k),this.fullPersistenceKey=ft("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?_n._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,o.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,o.Z)(function*(){if(!_.length)return new ui(je(Os),p,C);const S=(yield Promise.all(_.map(function(){var Fe=(0,o.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let k=S[0]||je(Os);const X=ft(C,p.config.apiKey,p.name);let ye=null;for(const Fe of _)try{const st=yield Fe._get(X);if(st){const Gt=_n._fromJSON(p,st);Fe!==k&&(ye=Gt),k=Fe;break}}catch(st){}const $e=S.filter(Fe=>Fe._shouldAllowMigration);return k._shouldAllowMigration&&$e.length?(k=$e[0],ye&&(yield k._set(X,ye.toJSON())),yield Promise.all(_.map(function(){var Fe=(0,o.Z)(function*(st){if(st!==k)try{yield st._remove(X)}catch(Gt){}});return function(st){return Fe.apply(this,arguments)}}())),new ui(k,p,C)):new ui(k,p,C)})()}}function po(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ha(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(yr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Di(p))return"Blackberry";if(yt(p))return"Webos";if(Vo(p))return"Safari";if((p.includes("chrome/")||Fr(p))&&!p.includes("edge/"))return"Chrome";if(Ps(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function yr(v=(0,j.z$)()){return/firefox\//i.test(v)}function Vo(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Fr(v=(0,j.z$)()){return/crios\//i.test(v)}function ha(v=(0,j.z$)()){return/iemobile/i.test(v)}function Ps(v=(0,j.z$)()){return/android/i.test(v)}function Di(v=(0,j.z$)()){return/blackberry/i.test(v)}function yt(v=(0,j.z$)()){return/webos/i.test(v)}function eu(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function np(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Uo(v=(0,j.z$)()){return eu(v)||Ps(v)||yt(v)||Di(v)||/windows phone/i.test(v)||ha(v)}function Fs(v,p=[]){let _;switch(v){case"Browser":_=po((0,j.z$)());break;case"Worker":_=`${po((0,j.z$)())}-${v}`;break;default:_=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class Lr{constructor(p,_){this.app=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ls(this),this.idTokenSubscription=new Ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=je(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var S,k;C._deleted||(C.persistenceManager=yield ui.create(C,p),!C._deleted&&((null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_)}})()}initializeCurrentUser(p){var _=this;return(0,o.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const k=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==S?void 0:S._redirectEventId,ye=yield _.tryRedirectSignIn(p);(!k||k===X)&&(null==ye?void 0:ye.user)&&(S=ye.user)}return S?S._redirectEventId?(ke(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var _=this;return(0,o.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,o.Z)(function*(){try{yield Nn(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,o.Z)(function*(){const C=p?(0,j.m9)(p):null;return C&&ke(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,o.Z)(function*(){if(!_._deleted)return p&&ke(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),_.queue((0,o.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(je(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,o.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&je(p)||_._popupRedirectResolver;ke(C,_,"argument-error"),_.redirectPersistenceManager=yield ui.create(_,[je(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,o.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,o.Z)(function*(){if(p===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(X,this,"internal-error"),X.then(()=>k(this.currentUser)),"function"==typeof _?p.addObserver(_,C,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vr(v){return(0,j.m9)(v)}class Ls{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ur(v,p,_){const C=Vr(v);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),k=tc(p),{host:X,port:ye}=function(v){const p=tc(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const k=S[1];return{host:k,port:Br(C.substr(k.length+1))}}{const[k,X]=C.split(":");return{host:k,port:Br(X)}}}(p);C.config.emulator={url:`${k}//${X}${null===ye?"":`:${ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:ye,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function tc(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Br(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Dr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return wn("not implemented")}_getIdTokenResponse(p){return wn("not implemented")}_linkToIdToken(p,_){return wn("not implemented")}_getReauthenticationResolver(p){return wn("not implemented")}}function rp(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:resetPassword",cn(v,p))})).apply(this,arguments)}function Zd(v,p){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gm(v,p){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",cn(v,p))})).apply(this,arguments)}function mo(){return(mo=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPassword",cn(v,p))})).apply(this,arguments)}function ic(v,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendOobCode",cn(v,p))})).apply(this,arguments)}function mm(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,o.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function _m(v,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,o.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function f0(v,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,o.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function ip(v,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(v,p){return ic(v,p)})).apply(this,arguments)}function Kd(){return(Kd=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",cn(v,p))})).apply(this,arguments)}class Ii extends Dr{constructor(p,_,C,S=null){super("password",C),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Ii(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new Ii(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,o.Z)(function*(){switch(_.signInMethod){case"password":return function(v,p){return mo.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(v,p){return Kd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Xt(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return Zd(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,p){return Ju.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Xt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vs(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithIdp",cn(v,p))})).apply(this,arguments)}class Us extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Us(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Xt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=_,k=de(_,["providerId","signInMethod"]);if(!C||!S)return null;const X=new Us(C,S);return X.idToken=k.idToken||void 0,X.accessToken=k.accessToken||void 0,X.secret=k.secret,X.nonce=k.nonce,X.pendingToken=k.pendingToken||null,X}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function pa(v,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:sendVerificationCode",cn(v,p))})).apply(this,arguments)}function ga(){return(ga=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p))})).apply(this,arguments)}function ac(){return(ac=(0,o.Z)(function*(v,p){const _=yield q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,p));if(_.temporaryProof)throw le(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Zi={USER_NOT_FOUND:"user-not-found"};function Qu(){return(Qu=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",cn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zi)})).apply(this,arguments)}class fs extends Dr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new fs({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new fs({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function(v,p){return ga.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function(v,p){return ac.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Qu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}=p;return C||_||S||k?new fs({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}):null}}class ma{constructor(p){var _,C,S,k,X,ye;const $e=(0,j.zd)((0,j.pd)(p)),Fe=null!==(_=$e.apiKey)&&void 0!==_?_:null,st=null!==(C=$e.oobCode)&&void 0!==C?C:null,Gt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=$e.mode)&&void 0!==S?S:null);ke(Fe&&st&&Gt,"argument-error"),this.apiKey=Fe,this.operation=Gt,this.code=st,this.continueUrl=null!==(k=$e.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ye=$e.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const _=function(v){const p=(0,j.zd)((0,j.pd)(v)).link,_=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||p||v}(p);try{return new ma(_)}catch(C){return null}}}let nu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return Ii._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=ma.parseLink(C);return ke(S,"argument-error"),Ii._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class on extends yo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ke("providerId"in _&&"signInMethod"in _,"argument-error"),Us._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ke(p.idToken||p.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return on.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return on.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:k,nonce:X,providerId:ye}=p;if(!C&&!S&&!_&&!k||!ye)return null;try{return new on(ye)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:k})}catch($e){return null}}}let op=(()=>{class v extends yo{constructor(){super("facebook.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),uc=(()=>{class v extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return v.credential(C,S)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),_a=(()=>{class v extends yo{constructor(){super("github.com")}static credential(_){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Mn extends Dr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Vs(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,Vs(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Vs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:k}=_;return C&&S&&k&&C===S?new Mn(C,k):null}static _create(p,_){return new Mn(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends Ir{constructor(p){ke(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Gi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Gi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Mn.fromJSON(p);return ke(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Mn._create(C,_)}catch(S){return null}}}let li=(()=>{class v extends yo{constructor(){super("twitter.com")}static credential(_,C){return Us._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return v.credential(C,S)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xu(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signUp",cn(v,p))})).apply(this,arguments)}class br{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,S=!1){return(0,o.Z)(function*(){const k=yield _n._fromIdTokenResponse(p,C,S),X=ps(C);return new br({user:k,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=ps(C);return new br({user:p,providerId:S,_tokenResponse:C,operationType:_})})()}}function ps(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function el(v){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(v){var p;const _=Vr(v);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new br({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Xu(_,{returnSecureToken:!0}),S=yield br._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class lt extends j.ZR{constructor(p,_,C,S){var k;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,lt.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,S){return new lt(p,_,C,S)}}function Xd(v,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?lt._fromErrorAndOperation(v,k,p,C):k})}function eh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function cc(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.Z)(function*(v,p){const _=(0,j.m9)(v);yield gs(!0,_,p);const{providerUserInfo:C}=yield Zt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=eh(C||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function iu(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,o.Z)(function*(v,p,_=!1){const C=yield At(v,p._linkToIdToken(v.auth,yield v.getIdToken()),_);return br._forOperation(v,"link",C)})).apply(this,arguments)}function gs(v,p,_){return De.apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(v,p,_){yield Nn(p);const S=!1===v?"provider-already-linked":"no-such-provider";ke(eh(p.providerData).has(_)===v,p.auth,S)})).apply(this,arguments)}function kt(v,p){return su.apply(this,arguments)}function su(){return(su=(0,o.Z)(function*(v,p,_=!1){const{auth:C}=v,S="reauthenticate";try{const k=yield At(v,Xd(C,S,p,v),_);ke(k.idToken,C,"internal-error");const X=dt(k.idToken);ke(X,C,"internal-error");const{sub:ye}=X;return ke(v.uid===ye,C,"user-mismatch"),br._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Xt(C,"user-mismatch"),k}})).apply(this,arguments)}function Cn(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,o.Z)(function*(v,p,_=!1){const C="signIn",S=yield Xd(v,C,p),k=yield br._fromIdTokenResponse(v,C,S);return _||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function qi(v,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,o.Z)(function*(v,p){return Cn(Vr(v),p)})).apply(this,arguments)}function au(v,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.Z)(function*(v,p){const _=(0,j.m9)(v);return yield gs(!1,_,p.providerId),iu(_,p)})).apply(this,arguments)}function ap(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(v,p){return kt((0,j.m9)(v),p)})).apply(this,arguments)}function rl(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithCustomToken",cn(v,p))})).apply(this,arguments)}function ar(v,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(v,p){const _=Vr(v),C=yield rl(_,{token:p,returnSecureToken:!0}),S=yield br._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class va{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ms._fromServerResponse(p,_):Xt(p,"internal-error")}}class ms extends va{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ms(_)}}function Ar(v,p,_){var C;ke((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ke(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ke(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ke(_.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function ym(v,p,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"PASSWORD_RESET",email:p};_&&Ar(C,S,_),yield _m(C,S)})).apply(this,arguments)}function hc(v,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,o.Z)(function*(v,p,_){yield rp((0,j.m9)(v),{oobCode:p,newPassword:_})})).apply(this,arguments)}function fc(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(v,p){yield gm((0,j.m9)(v),{oobCode:p})})).apply(this,arguments)}function pc(v,p){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(v,p){const _=(0,j.m9)(v),C=yield rp(_,{oobCode:p}),S=C.requestType;switch(ke(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,_,"internal-error");default:ke(C.email,_,"internal-error")}let k=null;return C.mfaInfo&&(k=va._fromServerResponse(Vr(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function il(v,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,o.Z)(function*(v,p){const{data:_}=yield pc((0,j.m9)(v),p);return _.email})).apply(this,arguments)}function cu(v,p,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(v,p,_){const C=Vr(v),S=yield Xu(C,{returnSecureToken:!0,email:p,password:_}),k=yield br._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function up(v,p,_){return qi((0,j.m9)(v),nu.credential(p,_))}function th(v,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};ke(_.handleCodeInApp,C,"argument-error"),_&&Ar(C,S,_),yield f0(C,S)})).apply(this,arguments)}function Ho(v,p){const _=ma.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function lp(v,p,_){return du.apply(this,arguments)}function du(){return(du=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=nu.credentialWithLink(p,_||zn());return ke(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),qi(C,S)})).apply(this,arguments)}function Sr(v,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:createAuthUri",cn(v,p))})).apply(this,arguments)}function Kn(v,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,o.Z)(function*(v,p){const C={identifier:p,continueUri:it()?zn():"http://localhost"},{signinMethods:S}=yield Sr((0,j.m9)(v),C);return S||[]})).apply(this,arguments)}function p0(v,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,o.Z)(function*(v,p){const _=(0,j.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ar(_.auth,S,p);const{email:k}=yield mm(_.auth,S);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function al(v,p,_){return mc.apply(this,arguments)}function mc(){return(mc=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};_&&Ar(C.auth,k,_);const{email:X}=yield ip(C.auth,k);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function _c(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.Z)(function*(v,p){return tn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ca(v,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(v,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,j.m9)(v),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},X=yield At(C,_c(C.auth,k));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const ye=C.providerData.find(({providerId:$e})=>"password"===$e);ye&&(ye.displayName=C.displayName,ye.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function ir(v,p){return nh((0,j.m9)(v),p,null)}function yc(v,p){return nh((0,j.m9)(v),null,p)}function nh(v,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,o.Z)(function*(v,p,_){const{auth:C}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),_&&(k.password=_);const X=yield At(v,Zd(C,k));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Go{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class rh extends Go{constructor(p,_,C,S){super(p,_,C),this.username=S}}class qo extends Go{constructor(p,_){super(p,"facebook.com",_)}}class vc extends rh{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class cp extends Go{constructor(p,_){super(p,"google.com",_)}}class vm extends rh{constructor(p,_,C){super(p,"twitter.com",_,C)}}function bm(v){const{user:p,_tokenResponse:_}=v;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,_;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Go(k,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new qo(k,S);case"github.com":return new vc(k,S);case"google.com":return new cp(k,S);case"twitter.com":return new vm(k,S,v.screenName||null);case"custom":case"anonymous":return new Go(k,null);default:return new Go(k,C,S)}}(_)}class Ta{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Ta("enroll",p)}static _fromMfaPendingCredential(p){return new Ta("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ta._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Ta._fromIdtoken(p.multiFactorSession.idToken)}return null}}class js{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=Vr(p),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(ye=>va._fromServerResponse(C,ye));ke(S.mfaPendingCredential,C,"internal-error");const X=Ta._fromMfaPendingCredential(S.mfaPendingCredential);return new js(X,k,function(){var ye=(0,o.Z)(function*($e){const Fe=yield $e._process(C,X);delete S.mfaInfo,delete S.mfaPendingCredential;const st=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(_.operationType){case"signIn":const Gt=yield br._fromIdTokenResponse(C,_.operationType,st);return yield C._updateCurrentUser(Gt.user),Gt;case"reauthenticate":return ke(_.user,C,"internal-error"),br._forOperation(_.user,_.operationType,st);default:Xt(C,"internal-error")}});return function($e){return ye.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,o.Z)(function*(){return _.signInResolver(p)})()}}function wc(v,p){var _;const C=(0,j.m9)(v),S=p;return ke(p.customData.operationType,C,"argument-error"),ke(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),js._fromError(C,S)}function Ea(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",cn(v,p))}class Cc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>va._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Cc(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Ta._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,o.Z)(function*(){const S=p,k=yield C.getSession(),X=yield At(C.user,S._process(C.user.auth,k,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(p){var _=this;return(0,o.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield _.user.getIdToken(),k=yield At(_.user,function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(v,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const oh=new WeakMap;function ah(v){const p=(0,j.m9)(v);return oh.has(p)||oh.set(p,Cc._fromUser(p)),oh.get(p)}const wo="__sak";class fu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class v extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,j.z$)();return Vo(v)||eu(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Uo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),k=this.localCache[C];S!==k&&_(C,k,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((ye,$e,Fe)=>{this.notifyListeners(ye,Fe)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(S);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const k=()=>{const ye=this.storage.getItem(S);!C&&this.localCache[S]===ye||this.notifyListeners(S,ye)},X=this.storage.getItem(S);(0,j.w1)()&&10===document.documentMode&&X!==_.newValue&&_.newValue!==_.oldValue?setTimeout(k,10):k()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,k=this;return(0,o.Z)(function*(){yield S().call(k,_,C),k.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,o.Z)(function*(){const k=yield C().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var C=()=>super._remove,S=this;return(0,o.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),vs=(()=>{class v extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let gu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(k=>k.isListeningto(_));if(C)return C;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,o.Z)(function*(){const S=_,{eventId:k,eventType:X,data:ye}=S.data,$e=C.handlersMap[X];if(!(null==$e?void 0:$e.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:X});const Fe=Array.from($e).map(function(){var Gt=(0,o.Z)(function*(vn){return vn(S.origin,ye)});return function(vn){return Gt.apply(this,arguments)}}()),st=yield function(v){return Promise.all(v.map(function(){var p=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:k,eventType:X,response:st})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cl(v="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return v+_}class dl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var S=this;return(0,o.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let X,ye;return new Promise(($e,Fe)=>{const st=cl("",20);k.port1.start();const Gt=setTimeout(()=>{Fe(new Error("unsupported_event"))},C);ye={messageChannel:k,onMessage(vn){const $r=vn;if($r.data.eventId===st)switch($r.data.status){case"ack":clearTimeout(Gt),X=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e($r.data.response);break;default:clearTimeout(Gt),clearTimeout(X),Fe(new Error("invalid_response"))}}},S.handlers.add(ye),k.port1.addEventListener("message",ye.onMessage),S.target.postMessage({eventType:p,eventId:st,data:_},[k.port2])}).finally(()=>{ye&&S.removeMessageHandler(ye)})})()}}function Rt(){return window}function Co(){return void 0!==Rt().WorkerGlobalScope&&"function"==typeof Rt().importScripts}function Ni(){return(Ni=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Dc="firebaseLocalStorageDb",Mi="firebaseLocalStorage",$s="fbase_key";class Yi{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jr(v,p){return v.transaction([Mi],p?"readwrite":"readonly").objectStore(Mi)}function hl(){const v=indexedDB.open(Dc,1);return new Promise((p,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Mi,{keyPath:$s})}catch(S){_(S)}}),v.addEventListener("success",(0,o.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Mi)?p(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(Dc);return new Yi(v).toPromise()}(),p(yield hl()))}))})}function at(v,p,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(v,p,_){const C=Jr(v,!0).put({[$s]:p,value:_});return new Yi(C).toPromise()})).apply(this,arguments)}function ch(){return(ch=(0,o.Z)(function*(v,p){const _=Jr(v,!1).get(p),C=yield new Yi(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function On(v,p){const _=Jr(v,!0).delete(p);return new Yi(_).toPromise()}const pp=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield hl()),_.db})()}_withRetries(_){var C=this;return(0,o.Z)(function*(){let S=0;for(;;)try{const k=yield C._openDb();return yield _(k)}catch(k){if(S++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return Co()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=gu._getInstance(Co()?self:null),_.receiver._subscribe("keyChanged",function(){var C=(0,o.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,o.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function(){return Ni.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new dl(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,o.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield hl();return yield at(_,wo,"1"),yield On(_,wo),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,o.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(k=>at(k,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,o.Z)(function*(){const S=yield C._withRetries(k=>function(v,p){return ch.apply(this,arguments)}(k,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,o.Z)(function*(){return C._withPendingWrite((0,o.Z)(function*(){return yield C._withRetries(S=>On(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const C=yield _._withRetries(X=>{const ye=Jr(X,!1).getAll();return new Yi(ye).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:X,value:ye}of C)k.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(ye)&&(_.notifyListeners(X,ye),S.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!k.has(X)&&(_.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function wm(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:start",cn(v,p))}function dh(){return(dh=(0,o.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(v){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const k=Qt("internal-error");k.customData=S,_(k)},C.type="text/javascript",C.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Ic(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Fn=1e12;class Aa{constructor(p){this.auth=p,this.counter=Fn,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new jn(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||Fn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,o.Z)(function*(){var C;return null===(C=_._widgets.get(p||Fn))||void 0===C||C.execute(),""})()}}class jn{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ke(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}();const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pl=Ic("rcb"),Ki=new Wn(3e4,6e4);class yu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rt().grecaptcha}load(p,_=""){return ke((v=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Rt().grecaptcha):new Promise((C,S)=>{const k=Rt().setTimeout(()=>{S(Qt(p,"network-request-failed"))},Ki.get());Rt()[pl]=()=>{Rt().clearTimeout(k),delete Rt()[pl];const ye=Rt().grecaptcha;if(!ye)return void S(Qt(p,"internal-error"));const $e=ye.render;ye.render=(Fe,st)=>{const Gt=$e(Fe,st);return this.counter++,Gt},this.hostLanguage=_,C(ye)},Pn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:pl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(Qt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Rt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hs{load(p){return(0,o.Z)(function*(){return new Aa(p)})()}clearedOneInstance(){}}const Sc="recaptcha",hh={theme:"light",type:"image"};class zo{constructor(p,_=Object.assign({},hh),C){this.parameters=_,this.type=Sc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vr(C),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ke(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hs:new yu,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(k=>{const X=ye=>{!ye||(p.tokenChangeListeners.delete(X),k(ye))};p.tokenChangeListeners.add(X),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=Rt()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){ke(it()&&!Co(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function(v){return dh.apply(this,arguments)}(p.auth);ke(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zs{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=fs._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function fh(v,p,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,o.Z)(function*(v,p,_){const C=Vr(v),S=yield T(C,p,(0,j.m9)(_));return new Zs(S,k=>qi(C,k))})).apply(this,arguments)}function Xn(v,p,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v);yield gs(!1,C,"phone");const S=yield T(C.auth,p,(0,j.m9)(_));return new Zs(S,k=>au(C,k))})).apply(this,arguments)}function gp(v,p,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v),S=yield T(C.auth,p,(0,j.m9)(_));return new Zs(S,k=>ap(C,k))})).apply(this,arguments)}function T(v,p,_){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(function*(v,p,_){var C;const S=yield _.verify();try{let k;if(ke("string"==typeof S,v,"argument-error"),ke(_.type===Sc,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const X=k.session;if("phoneNumber"in k)return ke("enroll"===X.type,v,"internal-error"),(yield Ea(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ke("signin"===X.type,v,"internal-error");const ye=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return ke(ye,v,"missing-multi-factor-info"),(yield wm(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield pa(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return X}}finally{_._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)(function*(v,p){yield iu((0,j.m9)(v),p)})).apply(this,arguments)}let te=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=Vr(_)}verifyPhoneNumber(_,C){return T(this.auth,_,(0,j.m9)(C))}static credential(_,C){return fs._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?fs._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function fe(v,p){return p?je(p):(ke(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ae extends Dr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Vs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Vs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Ze(v){return Cn(v.auth,new Ae(v),v.bypassAuthState)}function ze(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),kt(_,new Ae(v),v.bypassAuthState)}function Ut(v){return nn.apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*(v){const{auth:p,user:_}=v;return ke(_,p,"internal-error"),iu(_,new Ae(v),v.bypassAuthState)})).apply(this,arguments)}class or{constructor(p,_,C,S,k=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,o.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,o.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:k,tenantId:X,error:ye,type:$e}=p;if(ye)return void _.reject(ye);const Fe={auth:_.auth,requestUri:C,sessionId:S,tenantId:X||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask($e)(Fe))}catch(st){_.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ze;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return ze;default:Xt(this.auth,"internal-error")}}resolve(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hi=new Wn(2e3,1e4);function ur(v,p,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,o.Z)(function*(v,p,_){const C=Vr(v);Ti(v,p,Ir);const S=fe(C,_);return new mt(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function vu(v,p,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ti(C.auth,p,Ir);const S=fe(C.auth,_);return new mt(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Gs(v,p,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ti(C.auth,p,Ir);const S=fe(C.auth,_);return new mt(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let mt=(()=>{class v extends or{constructor(_,C,S,k,X){super(_,C,k,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const C=yield _.execute();return ke(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,o.Z)(function*(){qn(1===_.filter.length,"Popup operations only handle one event");const C=cl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hi.get())};_()}}return v.currentPopupAction=null,v})();const Tn=new Map;class mp extends or{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,o.Z)(function*(){let C=Tn.get(_.auth._key());if(!C){try{const k=(yield function(v,p){return Wo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(k)}catch(S){C=()=>Promise.reject(S)}Tn.set(_.auth._key(),C)}return _.bypassAuthState||Tn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Wo(){return(Wo=(0,o.Z)(function*(v,p){const _=Dm(p),C=ph(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function bu(v,p){return _p.apply(this,arguments)}function _p(){return(_p=(0,o.Z)(function*(v,p){return ph(v)._set(Dm(p),"true")})).apply(this,arguments)}function qs(){Tn.clear()}function ph(v){return je(v._redirectPersistence)}function Dm(v){return ft("pendingRedirect",v.config.apiKey,v.name)}function wu(v,p,_){return function(v,p,_){return er.apply(this,arguments)}(v,p,_)}function er(){return(er=(0,o.Z)(function*(v,p,_){const C=Vr(v);Ti(v,p,Ir);const S=fe(C,_);return yield bu(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function jr(v,p,_){return function(v,p,_){return gh.apply(this,arguments)}(v,p,_)}function gh(){return(gh=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ti(C.auth,p,Ir);const S=fe(C.auth,_);yield bu(S,C.auth);const k=yield xc(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function mh(v,p,_){return function(v,p,_){return _h.apply(this,arguments)}(v,p,_)}function _h(){return(_h=(0,o.Z)(function*(v,p,_){const C=(0,j.m9)(v);Ti(C.auth,p,Ir);const S=fe(C.auth,_);yield gs(!1,C,p.providerId),yield bu(S,C.auth);const k=yield xc(C);return S._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Im(v,p){return yp.apply(this,arguments)}function yp(){return(yp=(0,o.Z)(function*(v,p){return yield Vr(v)._initializationPromise,Yo(v,p,!1)})).apply(this,arguments)}function Yo(v,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(v,p,_=!1){const C=Vr(v),S=fe(C,p),X=yield new mp(C,S,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,p)),X})).apply(this,arguments)}function xc(v){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.Z)(function*(v){const p=cl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class gl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ra(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!Ra(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(p))}saveEventToCache(p){this.cachedEventUids.add(y0(p)),this.lastProcessedEventTime=Date.now()}}function y0(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ra({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function yh(v){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,o.Z)(function*(v,p={}){return tn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const vp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ko=/^https?/;function vh(){return(vh=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield yh(v);for(const _ of p)try{if(bp(_))return}catch(C){}Xt(v,"unauthorized-domain")})).apply(this,arguments)}function bp(v){const p=zn(),{protocol:_,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!Ko.test(_))return!1;if(vp.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const bh=new Wn(3e4,6e4);function ml(){const v=Rt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let _l=null;function wp(v){return _l=_l||function(v){return new Promise((p,_)=>{var C,S,k;function X(){ml(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ml(),_(Qt(v,"network-request-failed"))},timeout:bh.get()})}if(null===(S=null===(C=Rt().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=Rt().gapi)||void 0===k?void 0:k.load)){const ye=Ic("iframefcb");return Rt()[ye]=()=>{gapi.load?X():_(Qt(v,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${ye}`)}X()}}).catch(p=>{throw _l=null,p})}(v),_l}const Tu=new Wn(5e3,15e3),wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T0(v){const p=v.config;ke(p.authDomain,v,"auth-domain-config-required");const _=p.emulator?en(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=C0.get(v.config.apiHost);S&&(C.eid=S);const k=v._getFrameworks();return k.length&&(C.fw=k.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Oa(){return(Oa=(0,o.Z)(function*(v){const p=yield wp(v),_=Rt().gapi;return ke(_,v,"internal-error"),p.open({where:document.body,url:T0(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},C=>new Promise(function(){var S=(0,o.Z)(function*(k,X){yield C.restyle({setHideOnLeave:!1});const ye=Qt(v,"network-request-failed"),$e=Rt().setTimeout(()=>{X(ye)},Tu.get());function Fe(){Rt().clearTimeout($e),k(C)}C.ping(Fe).then(Fe,()=>{X(ye)})});return function(k,X){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Am={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ch(v,p,_,C,S,k){ke(v.config.authDomain,v,"auth-domain-config-required"),ke(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:S};if(p instanceof Ir){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,Fe]of Object.entries(k||{}))X[$e]=Fe}if(p instanceof yo){const $e=p.getScopes().filter(Fe=>""!==Fe);$e.length>0&&(X.scopes=$e.join(","))}v.tenantId&&(X.tid=v.tenantId);const ye=X;for(const $e of Object.keys(ye))void 0===ye[$e]&&delete ye[$e];return`${function({config:v}){return v.emulator?en(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(ye).slice(1)}`}const bl="webStorageSupport",Oc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Yo}_openPopup(p,_,C,S){var k=this;return(0,o.Z)(function*(){var X;qn(null===(X=k.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ye=Ch(p,_,C,zn(),S);return function(v,p,_,C=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let ye="";const $e=Object.assign(Object.assign({},Am),{width:C.toString(),height:S.toString(),top:k,left:X}),Fe=(0,j.z$)().toLowerCase();_&&(ye=Fr(Fe)?"_blank":_),yr(Fe)&&(p=p||"http://localhost",$e.scrollbars="yes");const st=Object.entries($e).reduce((vn,[$r,bn])=>`${vn}${$r}=${bn},`,"");if(function(v=(0,j.z$)()){var p;return eu(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Fe)&&"_self"!==ye)return function(v,p){const _=document.createElement("a");_.href=v,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",ye),new yl(null);const Gt=window.open(p||"",ye,st);ke(Gt,v,"popup-blocked");try{Gt.focus()}catch(vn){}return new yl(Gt)}(p,ye,cl())})()}_openRedirect(p,_,C,S){var k=this;return(0,o.Z)(function*(){return yield k._originValidation(p),v=Ch(p,_,C,zn(),S),Rt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):(qn(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C}initAndGetManager(p){var _=this;return(0,o.Z)(function*(){const C=yield function(v){return Oa.apply(this,arguments)}(p),S=new gl(p);return C.register("authEvent",k=>(ke(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(bl,{type:bl},S=>{var k;const X=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[bl];void 0!==X&&_(!!X),Xt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(v){return vh.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Uo()||Vo()||eu()}};class Xo extends class{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return wn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xo(p)}_finalizeEnroll(p,_,C){return function(v,p){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",cn(v,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function(v,p){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",cn(v,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Th=(()=>{class v{constructor(){}static assertion(_){return Xo._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var v,Dp="@firebase/auth";class D0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ip(v=(0,O.getApp)()){const p=(0,O._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function(v,p){const _=(0,O._getProvider)(v,"auth");if(_.isInitialized()){const S=_.getImmediate(),k=_.getOptions();if((0,j.vZ)(k,null!=p?p:{}))return S;Xt(S,"already-initialized")}return _.initialize({options:p})}(v,{popupRedirectResolver:Oc,persistence:[pp,xn,vs]})}v="Browser",(0,O._registerComponent)(new Bt.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:k}=C.options;return(X=>{ke(S&&!S.includes(":"),"invalid-api-key",{appName:X.name}),ke(!(null==k?void 0:k.includes(":")),"argument-error",{appName:X.name});const ye={apiKey:S,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fs(v)},$e=new Lr(X,ye);return function(v,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(je);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}($e,_),$e})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Bt.wA("auth-internal",p=>{const _=Vr(p.getProvider("auth").getImmediate());return new D0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Dp,"0.19.3",void 0),(0,O.registerVersion)(Dp,"0.19.3","esm2017")},3854:(Ye,we,F)=>{"use strict";F.d(we,{BH:()=>he,LL:()=>Ke,ZR:()=>Bt,zI:()=>gt,US:()=>ee,tV:()=>z,$s:()=>tn,r3:()=>sn,Sg:()=>Oe,ne:()=>qn,vZ:()=>Qt,ZB:()=>B,pd:()=>ke,m9:()=>ho,z$:()=>Ne,jU:()=>ne,ru:()=>oe,d:()=>xe,xb:()=>mn,w1:()=>St,hl:()=>In,uI:()=>Ee,UG:()=>ge,b$:()=>Te,G6:()=>vt,Mn:()=>Mt,xO:()=>Ti,zd:()=>Hi,eu:()=>Et});const ce=function(q){const G=[];let W=0;for(let be=0;be<q.length;be++){let le=q.charCodeAt(be);le<128?G[W++]=le:le<2048?(G[W++]=le>>6|192,G[W++]=63&le|128):55296==(64512&le)&&be+1<q.length&&56320==(64512&q.charCodeAt(be+1))?(le=65536+((1023&le)<<10)+(1023&q.charCodeAt(++be)),G[W++]=le>>18|240,G[W++]=le>>12&63|128,G[W++]=le>>6&63|128,G[W++]=63&le|128):(G[W++]=le>>12|224,G[W++]=le>>6&63|128,G[W++]=63&le|128)}return G},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let le=0;le<q.length;le+=3){const Ge=q[le],ut=le+1<q.length,Zt=ut?q[le+1]:0,An=le+2<q.length,Yn=An?q[le+2]:0;let K=(15&Zt)<<2|Yn>>6,Y=63&Yn;An||(Y=64,ut||(K=64)),be.push(W[Ge>>2],W[(3&Ge)<<4|Zt>>4],W[K],W[Y])}return be.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(ce(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let W=0,be=0;for(;W<q.length;){const le=q[W++];if(le<128)G[be++]=String.fromCharCode(le);else if(le>191&&le<224){const Ge=q[W++];G[be++]=String.fromCharCode((31&le)<<6|63&Ge)}else if(le>239&&le<365){const An=((7&le)<<18|(63&q[W++])<<12|(63&q[W++])<<6|63&q[W++])-65536;G[be++]=String.fromCharCode(55296+(An>>10)),G[be++]=String.fromCharCode(56320+(1023&An))}else{const Ge=q[W++],ut=q[W++];G[be++]=String.fromCharCode((15&le)<<12|(63&Ge)<<6|63&ut)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const W=G?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let le=0;le<q.length;){const Ge=W[q.charAt(le++)],Zt=le<q.length?W[q.charAt(le)]:0;++le;const Yn=le<q.length?W[q.charAt(le)]:64;++le;const ie=le<q.length?W[q.charAt(le)]:64;if(++le,null==Ge||null==Zt||null==Yn||null==ie)throw Error();be.push(Ge<<2|Zt>>4),64!==Yn&&(be.push(Zt<<4&240|Yn>>2),64!==ie&&be.push(Yn<<6&192|ie))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Q=function(q){return function(q){const G=ce(q);return ee.encodeByteArray(G,!0)}(q).replace(/\./g,"")},z=function(q){try{return ee.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const W in G)!G.hasOwnProperty(W)||!Z(W)||(q[W]=B(q[W],G[W]));return q}function Z(q){return"__proto__"!==q}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,W)=>{this.resolve=G,this.reject=W})}wrapCallback(G){return(W,be)=>{W?this.reject(W):this.resolve(be),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(W):G(W,be))}}}function Oe(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=G||"demo-project",le=q.iat||0,Ge=q.sub||q.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:le,exp:le+3600,auth_time:le,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(ut)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function ne(){return"object"==typeof self&&self.self===self}function oe(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return Ne().indexOf("Electron/")>=0}function St(){const q=Ne();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Mt(){return Ne().indexOf("MSAppHost/")>=0}function vt(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){return"object"==typeof indexedDB}function Et(){return new Promise((q,G)=>{try{let W=!0;const be="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(be);le.onsuccess=()=>{le.result.close(),W||self.indexedDB.deleteDatabase(be),q(!0)},le.onupgradeneeded=()=>{W=!1},le.onerror=()=>{var Ge;G((null===(Ge=le.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(W){G(W)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bt extends Error{constructor(G,W,be){super(W),this.code=G,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(G,W,be){this.service=G,this.serviceName=W,this.errors=be}create(G,...W){const be=W[0]||{},le=`${this.service}/${G}`,Ge=this.errors[G],ut=Ge?function(q,G){return q.replace(Xa,(W,be)=>{const le=G[be];return null!=le?String(le):`<${be}?>`})}(Ge,be):"Error";return new Bt(le,`${this.serviceName}: ${ut} (${le}).`,be)}}const Xa=/\{\$([^}]+)}/g;function sn(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function mn(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function Qt(q,G){if(q===G)return!0;const W=Object.keys(q),be=Object.keys(G);for(const le of W){if(!be.includes(le))return!1;const Ge=q[le],ut=G[le];if(ks(Ge)&&ks(ut)){if(!Qt(Ge,ut))return!1}else if(Ge!==ut)return!1}for(const le of be)if(!W.includes(le))return!1;return!0}function ks(q){return null!==q&&"object"==typeof q}function Ti(q){const G=[];for(const[W,be]of Object.entries(q))Array.isArray(be)?be.forEach(le=>{G.push(encodeURIComponent(W)+"="+encodeURIComponent(le))}):G.push(encodeURIComponent(W)+"="+encodeURIComponent(be));return G.length?"&"+G.join("&"):""}function Hi(q){const G={};return q.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[le,Ge]=be.split("=");G[decodeURIComponent(le)]=decodeURIComponent(Ge)}}),G}function ke(q){const G=q.indexOf("?");if(!G)return"";const W=q.indexOf("#",G);return q.substring(G,W>0?W:void 0)}function qn(q,G){const W=new Ei(q,G);return W.subscribe.bind(W)}class Ei{constructor(G,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{G(this)}).catch(be=>{this.error(be)})}next(G){this.forEachObserver(W=>{W.next(G)})}error(G){this.forEachObserver(W=>{W.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,W,be){let le;if(void 0===G&&void 0===W&&void 0===be)throw new Error("Missing Observer.");le=function(q,G){if("object"!=typeof q||null===q)return!1;for(const W of["next","error","complete"])if(W in q&&"function"==typeof q[W])return!0;return!1}(G)?G:{next:G,error:W,complete:be},void 0===le.next&&(le.next=_r),void 0===le.error&&(le.error=_r),void 0===le.complete&&(le.complete=_r);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(ut){}}),this.observers.push(le),Ge}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,G)}sendOne(G,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{W(this.observers[G])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}function tn(q,G=1e3,W=2){const be=G*Math.pow(W,q),le=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+le)}function ho(q){return q&&q._delegate?q._delegate:q}},2329:(Ye,we,F)=>{"use strict";F.d(we,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=F(8026);(0,o.registerVersion)("firebase","9.6.0","app")},7841:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>o.Z});var o=F(3394);o.Z.registerVersion("firebase","9.6.0","app-compat")},4828:(Ye,we,F)=>{"use strict";F.r(we);var o=F(8239),j=F(3394),O=F(2476),ce=F(3854),de=(F(8026),F(5422),F(3910));function Q(){return window}function B(){return(B=(0,o.Z)(function*(ie,K,Y){var Ce;const{BuildInfo:Ve}=Q();(0,O.ap)(K.sessionId,"AuthEvent did not contain a session ID");const dt=yield ne(K.sessionId),Vt={};return(0,O.aq)()?Vt.ibi=Ve.packageName:(0,O.ar)()?Vt.apn=Ve.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),Ve.displayName&&(Vt.appDisplayName=Ve.displayName),Vt.sessionId=dt,(0,O.at)(ie,Y,K.type,void 0,null!==(Ce=K.eventId)&&void 0!==Ce?Ce:void 0,Vt)})).apply(this,arguments)}function he(){return(he=(0,o.Z)(function*(ie){const{BuildInfo:K}=Q(),Y={};(0,O.aq)()?Y.iosBundleId=K.packageName:(0,O.ar)()?Y.androidPackageName=K.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,Y)})).apply(this,arguments)}function Ee(){return(Ee=(0,o.Z)(function*(ie,K,Y){const{cordova:Ce}=Q();let Ve=()=>{};try{yield new Promise((dt,Vt)=>{let At=null;function kn(){var wt;dt();const Nn=null===(wt=Ce.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof Nn&&Nn(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function hn(){At||(At=window.setTimeout(()=>{Vt((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===(null==document?void 0:document.visibilityState)&&hn()}K.addPassiveListener(kn),document.addEventListener("resume",hn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",Sn,!1),Ve=()=>{K.removePassiveListener(kn),document.removeEventListener("resume",hn,!1),document.removeEventListener("visibilitychange",Sn,!1),At&&window.clearTimeout(At)}})}finally{Ve()}})).apply(this,arguments)}function ne(ie){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.Z)(function*(ie){const K=Te(ie),Y=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(Y)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const K=new ArrayBuffer(ie.length),Y=new Uint8Array(K);for(let Ce=0;Ce<ie.length;Ce++)Y[Ce]=ie.charCodeAt(Ce);return Y}class St extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(K)),super.onEvent(K)}initialized(){var K=this;return(0,o.Z)(function*(){yield K.initPromise})()}}function vt(ie){return In.apply(this,arguments)}function In(){return(In=(0,o.Z)(function*(ie){const K=yield Ot()._get(Xe(ie));return K&&(yield Ot()._remove(Xe(ie))),K})).apply(this,arguments)}function gt(){const ie=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const Ce=Math.floor(Math.random()*K.length);ie.push(K.charAt(Ce))}return ie.join("")}function Ot(){return(0,O.ax)(O.b)}function Xe(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function cs(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[K,...Y]=ie.split("?");return(0,ce.zd)(Y.join("?"))}function Wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function sn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function mn(ie=(0,ce.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hi(){try{const ie=self.localStorage,K=O.aG();if(ie)return ie.setItem(K,"1"),ie.removeItem(K),!function(ie=(0,ce.z$)()){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,ce.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,ce.hl)()}catch(ie){return ke()&&(0,ce.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wn(){return("http:"===sn()||"https:"===sn()||(0,ce.ru)()||mn())&&!((0,ce.b$)()||(0,ce.UG)())&&Hi()&&!ke()}function qn(){return mn()&&"undefined"!=typeof document}function je(){return(je=(0,o.Z)(function*(){return!!qn()&&new Promise(ie=>{const K=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),ie(!0)})})})).apply(this,arguments)}const Ht={LOCAL:"local",NONE:"none",SESSION:"session"},_r=O.aw,zn="persistence";function tt(ie){return xt.apply(this,arguments)}function xt(){return(xt=(0,o.Z)(function*(ie){yield ie._initializationPromise;const K=Wn(),Y=O.ay(zn,ie.config.apiKey,ie.name);(null==K?void 0:K.sessionStorage)&&K.sessionStorage.setItem(Y,ie._getPersistence())})).apply(this,arguments)}function Wn(){return"undefined"!=typeof window?window:null}const en=O.aw;class Pe{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,o.Z)(function*(){const Ce=K._key();let Ve=Y.eventManagers.get(Ce);return Ve||(Ve=new St(K),Y.eventManagers.set(Ce,Ve),Y.attachCallbackListeners(K,Ve)),Ve})()}_openPopup(K){(0,O.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,o.Z)(function*(){!function(ie){var K,Y,Ce,Ve,dt,Vt,At,kn,hn,Sn;const wt=Q();(0,O.aw)("function"==typeof(null===(K=null==wt?void 0:wt.universalLinks)||void 0===K?void 0:K.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(Y=null==wt?void 0:wt.BuildInfo)||void 0===Y?void 0:Y.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(dt=null===(Ve=null===(Ce=null==wt?void 0:wt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===dt?void 0:dt.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(kn=null===(At=null===(Vt=null==wt?void 0:wt.cordova)||void 0===Vt?void 0:Vt.plugins)||void 0===At?void 0:At.browsertab)||void 0===kn?void 0:kn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Sn=null===(hn=null==wt?void 0:wt.cordova)||void 0===hn?void 0:hn.InAppBrowser)||void 0===Sn?void 0:Sn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Vt=yield dt._initialize(K);yield Vt.initialized(),Vt.resetRedirect(),(0,O.aB)(),yield dt._originValidation(K);const At=function(ie,K,Y=null){return{type:K,eventId:Y,urlResponse:null,sessionId:gt(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(K,Ce,Ve);yield function(ie,K){return Ot()._set(Xe(ie),K)}(K,At);const kn=yield function(ie,K,Y){return B.apply(this,arguments)}(K,At,Y),hn=yield function(ie){const{cordova:K}=Q();return new Promise(Y=>{K.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?K.plugins.browsertab.openUrl(ie):Ve=K.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),Y(Ve)})})}(kn);return function(ie,K,Y){return Ee.apply(this,arguments)}(K,Vt,hn)})()}_isIframeWebStorageSupported(K,Y){throw new Error("Method not implemented.")}_originValidation(K){const Y=K._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function(ie){return he.apply(this,arguments)}(K)),this.originValidationPromises[Y]}attachCallbackListeners(K,Y){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:dt}=Q(),Vt=setTimeout((0,o.Z)(function*(){yield vt(K),Y.onEvent(Wt())}),500),At=function(){var Sn=(0,o.Z)(function*(wt){clearTimeout(Vt);const Nn=yield vt(K);let fo=null;Nn&&(null==wt?void 0:wt.url)&&(fo=function(ie,K){var Y,Ce;const Ve=function(ie){const K=cs(ie),Y=K.link?decodeURIComponent(K.link):void 0,Ce=cs(Y).link,Ve=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return cs(Ve).link||Ve||Ce||Y||ie}(K);if(Ve.includes("/__/auth/callback")){const dt=cs(Ve),Vt=dt.firebaseError?function(ie){try{return JSON.parse(ie)}catch(K){return null}}(decodeURIComponent(dt.firebaseError)):null,At=null===(Ce=null===(Y=null==Vt?void 0:Vt.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ce?void 0:Ce[1],kn=At?(0,O.av)(At):null;return kn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:kn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Ve,postBody:null}}return null}(Nn,wt.url)),Y.onEvent(fo||Wt())});return function(Nn){return Sn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,At);const kn=Ve,hn=`${dt.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var Sn=(0,o.Z)(function*(wt){if(wt.toLowerCase().startsWith(hn)&&At({url:wt}),"function"==typeof kn)try{kn(wt)}catch(Nn){console.error(Nn)}});return function(wt){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(K){var Y=this;return(0,o.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,Y,Ce,Ve){var dt=this;return(0,o.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(K,Y,Ce,Ve)})()}_openRedirect(K,Y,Ce,Ve){var dt=this;return(0,o.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(K,Y,Ce,Ve)})()}_isIframeWebStorageSupported(K,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,Y)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,o.Z)(function*(){if(K.underlyingResolver)return;const Y=yield function(){return je.apply(this,arguments)}();K.underlyingResolver=Y?K.cordovaResolver:K.browserResolver})()}}function et(ie){return ie.unwrap()}function cn(ie){return Yt(ie)}function Yt(ie){const{_tokenResponse:K}=ie instanceof ce.ZR?ie.customData:ie;if(!K)return null;if(!(ie instanceof ce.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return O.P.credentialFromResult(ie);const Y=K.providerId;if(!Y||Y===O.o.PASSWORD)return null;let Ce;switch(Y){case O.o.GOOGLE:Ce=O.N;break;case O.o.FACEBOOK:Ce=O.M;break;case O.o.GITHUB:Ce=O.Q;break;case O.o.TWITTER:Ce=O.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:dt,oauthTokenSecret:Vt,pendingToken:At,nonce:kn}=K;return dt||Vt||Ve||At?At?Y.startsWith("saml.")?O.aJ._create(Y,At):O.I._fromParams({providerId:Y,signInMethod:Y,pendingToken:At,idToken:Ve,accessToken:dt}):new O.T(Y).credential({idToken:Ve,accessToken:dt,rawNonce:kn}):null}return ie instanceof ce.ZR?Ce.credentialFromError(ie):Ce.credentialFromResult(ie)}function dn(ie,K){return K.catch(Y=>{throw Y instanceof ce.ZR&&function(ie,K){var Y;const Ce=null===(Y=K.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new G(ie,O.am(ie,K));else if(Ce){const Ve=Yt(K),dt=K;Ve&&(dt.credential=Ve,dt.tenantId=Ce.tenantId||void 0,dt.email=Ce.email||void 0,dt.phoneNumber=Ce.phoneNumber||void 0)}}(ie,Y),Y}).then(Y=>{const Ve=Y.user;return{operationType:Y.operationType,credential:cn(Y),additionalUserInfo:O.ak(Y),user:W.getOrCreate(Ve)}})}function ho(ie,K){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(function*(ie,K){const Y=yield K;return{verificationId:Y.verificationId,confirm:Ce=>dn(ie,Y.confirm(Ce))}})).apply(this,arguments)}class G{constructor(K,Y){this.resolver=Y,this.auth=K.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dn(et(this.auth),this.resolver.resolveSignIn(K))}}class W{constructor(K){this._delegate=K,this.multiFactor=O.an(K)}static getOrCreate(K){return W.USER_MAP.has(K)||W.USER_MAP.set(K,new W(K)),W.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var Y=this;return(0,o.Z)(function*(){return dn(Y.auth,O.Y(Y._delegate,K))})()}linkWithPhoneNumber(K,Y){var Ce=this;return(0,o.Z)(function*(){return ho(Ce.auth,O.l(Ce._delegate,K,Y))})()}linkWithPopup(K){var Y=this;return(0,o.Z)(function*(){return dn(Y.auth,O.d(Y._delegate,K,Pe))})()}linkWithRedirect(K){var Y=this;return(0,o.Z)(function*(){return yield tt(O.aC(Y.auth)),O.g(Y._delegate,K,Pe)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var Y=this;return(0,o.Z)(function*(){return dn(Y.auth,O.Z(Y._delegate,K))})()}reauthenticateWithPhoneNumber(K,Y){return ho(this.auth,O.r(this._delegate,K,Y))}reauthenticateWithPopup(K){return dn(this.auth,O.e(this._delegate,K,Pe))}reauthenticateWithRedirect(K){var Y=this;return(0,o.Z)(function*(){return yield tt(O.aC(Y.auth)),O.h(Y._delegate,K,Pe)})()}sendEmailVerification(K){return O.aa(this._delegate,K)}unlink(K){var Y=this;return(0,o.Z)(function*(){return yield O.aj(Y._delegate,K),Y})()}updateEmail(K){return O.af(this._delegate,K)}updatePassword(K){return O.ag(this._delegate,K)}updatePhoneNumber(K){return O.u(this._delegate,K)}updateProfile(K){return O.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,Y){return O.ab(this._delegate,K,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const be=O.aw;let le=(()=>{class ie{constructor(Y,Ce){if(this.app=Y,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=Y.options;be(Ve,"invalid-api-key",{appName:Y.name});let dt=[O.K];if("undefined"!=typeof window){dt=function(ie,K){const Y=Wn();if(!(null==Y?void 0:Y.sessionStorage))return[];const Ce=O.ay(zn,ie,K);switch(Y.sessionStorage.getItem(Ce)){case Ht.NONE:return[O.K];case Ht.LOCAL:return[O.i,O.a];case Ht.SESSION:return[O.a];default:return[]}}(Ve,Y.name);for(const At of[O.i,O.b,O.a])dt.includes(At)||dt.push(At)}be(Ve,"invalid-api-key",{appName:Y.name});const Vt="undefined"!=typeof window?Pe:void 0;this._delegate=Ce.initialize({options:{persistence:dt,popupRedirectResolver:Vt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ce){O.E(this._delegate,Y,Ce)}applyActionCode(Y){return O.a1(this._delegate,Y)}checkActionCode(Y){return O.a2(this._delegate,Y)}confirmPasswordReset(Y,Ce){return O.a0(this._delegate,Y,Ce)}createUserWithEmailAndPassword(Y,Ce){var Ve=this;return(0,o.Z)(function*(){return dn(Ve._delegate,O.a4(Ve._delegate,Y,Ce))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return O.a9(this._delegate,Y)}isSignInWithEmailLink(Y){return O.a7(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,o.Z)(function*(){be(wn(),Y._delegate,"operation-not-supported-in-this-environment");const Ce=yield O.j(Y._delegate,Pe);return Ce?dn(Y._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function(ie,K){(0,O.aC)(ie)._logFramework(K)}(this._delegate,Y)}onAuthStateChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:At}=Ge(Y,Ce,Ve);return this._delegate.onAuthStateChanged(dt,Vt,At)}onIdTokenChanged(Y,Ce,Ve){const{next:dt,error:Vt,complete:At}=Ge(Y,Ce,Ve);return this._delegate.onIdTokenChanged(dt,Vt,At)}sendSignInLinkToEmail(Y,Ce){return O.a6(this._delegate,Y,Ce)}sendPasswordResetEmail(Y,Ce){return O.$(this._delegate,Y,Ce||void 0)}setPersistence(Y){var Ce=this;return(0,o.Z)(function*(){let Ve;switch(function(ie,K){_r(Object.values(Ht).includes(K),ie,"invalid-persistence-type"),(0,ce.b$)()?_r(K!==Ht.SESSION,ie,"unsupported-persistence-type"):(0,ce.UG)()?_r(K===Ht.NONE,ie,"unsupported-persistence-type"):ke()?_r(K===Ht.NONE||K===Ht.LOCAL&&(0,ce.hl)(),ie,"unsupported-persistence-type"):_r(K===Ht.NONE||Hi(),ie,"unsupported-persistence-type")}(Ce._delegate,Y),Y){case Ht.SESSION:Ve=O.a;break;case Ht.LOCAL:Ve=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ht.NONE:Ve=O.K;break;default:return O.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return dn(this._delegate,O.W(this._delegate))}signInWithCredential(Y){return dn(this._delegate,O.X(this._delegate,Y))}signInWithCustomToken(Y){return dn(this._delegate,O._(this._delegate,Y))}signInWithEmailAndPassword(Y,Ce){return dn(this._delegate,O.a5(this._delegate,Y,Ce))}signInWithEmailLink(Y,Ce){return dn(this._delegate,O.a8(this._delegate,Y,Ce))}signInWithPhoneNumber(Y,Ce){return ho(this._delegate,O.s(this._delegate,Y,Ce))}signInWithPopup(Y){var Ce=this;return(0,o.Z)(function*(){return be(wn(),Ce._delegate,"operation-not-supported-in-this-environment"),dn(Ce._delegate,O.c(Ce._delegate,Y,Pe))})()}signInWithRedirect(Y){var Ce=this;return(0,o.Z)(function*(){return be(wn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield tt(Ce._delegate),O.f(Ce._delegate,Y,Pe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return O.a3(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Ht,ie})();function Ge(ie,K,Y){let Ce=ie;"function"!=typeof ie&&({next:Ce,error:K,complete:Y}=ie);const Ve=Ce;return{next:Vt=>Ve(Vt&&W.getOrCreate(Vt)),error:K,complete:Y}}class ut{constructor(){this.providerId="phone",this._delegate=new O.P(et(j.Z.auth()))}static credential(K,Y){return O.P.credential(K,Y)}verifyPhoneNumber(K,Y){return this._delegate.verifyPhoneNumber(K,Y)}unwrap(){return this._delegate}}ut.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ut.PROVIDER_ID=O.P.PROVIDER_ID;const Zt=O.aw;var ie;(ie=j.Z).INTERNAL.registerComponent(new de.wA("auth-compat",K=>{const Y=K.getProvider("app-compat").getImmediate(),Ce=K.getProvider("auth");return new le(Y,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:ut,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(K,Y,Ce=j.Z.app()){var Ve;Zt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new O.R(K,Y,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:le,AuthCredential:O.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Ye,we){!function(F){"use strict";function o(ge){return Array.prototype.slice.call(ge)}function j(ge){return new Promise(function(ne,oe){ge.onsuccess=function(){ne(ge.result)},ge.onerror=function(){oe(ge.error)}})}function O(ge,ne,oe){var Te,xe=new Promise(function(St,Mt){j(Te=ge[ne].apply(ge,oe)).then(St,Mt)});return xe.request=Te,xe}function ce(ge,ne,oe){var Te=O(ge,ne,oe);return Te.then(function(xe){if(xe)return new L(xe,Te.request)})}function ue(ge,ne,oe){oe.forEach(function(Te){Object.defineProperty(ge.prototype,Te,{get:function(){return this[ne][Te]},set:function(xe){this[ne][Te]=xe}})})}function ee(ge,ne,oe,Te){Te.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return O(this[ne],xe,arguments)})})}function de(ge,ne,oe,Te){Te.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return this[ne][xe].apply(this[ne],arguments)})})}function Q(ge,ne,oe,Te){Te.forEach(function(xe){xe in oe.prototype&&(ge.prototype[xe]=function(){return ce(this[ne],xe,arguments)})})}function z(ge){this._index=ge}function L(ge,ne){this._cursor=ge,this._request=ne}function B(ge){this._store=ge}function Z(ge){this._tx=ge,this.complete=new Promise(function(ne,oe){ge.oncomplete=function(){ne()},ge.onerror=function(){oe(ge.error)},ge.onabort=function(){oe(ge.error)}})}function he(ge,ne,oe){this._db=ge,this.oldVersion=ne,this.transaction=new Z(oe)}function Oe(ge){this._db=ge}ue(z,"_index",["name","keyPath","multiEntry","unique"]),ee(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),ue(L,"_cursor",["direction","key","primaryKey","value"]),ee(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&(L.prototype[ge]=function(){var ne=this,oe=arguments;return Promise.resolve().then(function(){return ne._cursor[ge].apply(ne._cursor,oe),j(ne._request).then(function(Te){if(Te)return new L(Te,ne._request)})})})}),B.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},ue(B,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),de(B,"_store",IDBObjectStore,["deleteIndex"]),Z.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ue(Z,"_tx",["objectStoreNames","mode"]),de(Z,"_tx",IDBTransaction,["abort"]),he.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ue(he,"_db",["name","version","objectStoreNames"]),de(he,"_db",IDBDatabase,["deleteObjectStore","close"]),Oe.prototype.transaction=function(){return new Z(this._db.transaction.apply(this._db,arguments))},ue(Oe,"_db",["name","version","objectStoreNames"]),de(Oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[B,z].forEach(function(ne){ge in ne.prototype&&(ne.prototype[ge.replace("open","iterate")]=function(){var oe=o(arguments),Te=oe[oe.length-1],xe=this._store||this._index,St=xe[ge].apply(xe,oe.slice(0,-1));St.onsuccess=function(){Te(St.result)}})})}),[z,B].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(ne,oe){var Te=this,xe=[];return new Promise(function(St){Te.iterateCursor(ne,function(Mt){Mt?(xe.push(Mt.value),void 0===oe||xe.length!=oe?Mt.continue():St(xe)):St(xe)})})})}),F.openDb=function(ge,ne,oe){var Te=O(indexedDB,"open",[ge,ne]),xe=Te.request;return xe&&(xe.onupgradeneeded=function(St){oe&&oe(new he(xe.result,St.oldVersion,xe.transaction))}),Te.then(function(St){return new Oe(St)})},F.deleteDb=function(ge){return O(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},1593:(Ye,we,F)=>{"use strict";F.d(we,{P:()=>de});var o=F(9193),j=F(5917),O=F(7574);class de{constructor(z,L,B){this.kind=z,this.value=L,this.error=B,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,L,B){switch(this.kind){case"N":return z&&z(this.value);case"E":return L&&L(this.error);case"C":return B&&B()}}accept(z,L,B){return z&&"function"==typeof z.next?this.observe(z):this.do(z,L,B)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return Q=this.error,new O.y(L=>L.error(Q));case"C":return(0,o.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new de("N",z):de.undefinedValueNotification}static createError(z){return new de("E",void 0,z)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Ye,we,F)=>{"use strict";F.d(we,{y:()=>B});var o=F(7393),O=F(9181),ce=F(6490),ee=F(6554),de=F(4487);var L=F(2494);let B=(()=>{class he{constructor(Ne){this._isScalar=!1,Ne&&(this._subscribe=Ne)}lift(Ne){const Ee=new he;return Ee.source=this,Ee.operator=Ne,Ee}subscribe(Ne,Ee,ge){const{operator:ne}=this,oe=function(he,Oe,Ne){if(he){if(he instanceof o.L)return he;if(he[O.b])return he[O.b]()}return he||Oe||Ne?new o.L(he,Oe,Ne):new o.L(ce.c)}(Ne,Ee,ge);if(oe.add(ne?ne.call(oe,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),L.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ee){L.v.useDeprecatedSynchronousErrorHandling&&(Ne.syncErrorThrown=!0,Ne.syncErrorValue=Ee),function(he){for(;he;){const{closed:Oe,destination:Ne,isStopped:Ee}=he;if(Oe||Ee)return!1;he=Ne&&Ne instanceof o.L?Ne:null}return!0}(Ne)?Ne.error(Ee):console.warn(Ee)}}forEach(Ne,Ee){return new(Ee=Z(Ee))((ge,ne)=>{let oe;oe=this.subscribe(Te=>{try{Ne(Te)}catch(xe){ne(xe),oe&&oe.unsubscribe()}},ne,ge)})}_subscribe(Ne){const{source:Ee}=this;return Ee&&Ee.subscribe(Ne)}[ee.L](){return this}pipe(...Ne){return 0===Ne.length?this:function(he){return 0===he.length?de.y:1===he.length?he[0]:function(Ne){return he.reduce((Ee,ge)=>ge(Ee),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=Z(Ne))((Ee,ge)=>{let ne;this.subscribe(oe=>ne=oe,oe=>ge(oe),()=>Ee(ne))})}}return he.create=Oe=>new he(Oe),he})();function Z(he){if(he||(he=L.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},6490:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>O});var o=F(2494),j=F(4449);const O={closed:!0,next(ce){},error(ce){if(o.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,j.z)(ce)},complete(){}}},9765:(Ye,we,F)=>{"use strict";F.d(we,{Yc:()=>de,xQ:()=>Q});var o=F(7574),j=F(7393),O=F(5319),ce=F(7971),ue=F(8858),ee=F(9181);class de extends j.L{constructor(B){super(B),this.destination=B}}let Q=(()=>{class L extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new de(this)}lift(Z){const he=new z(this,this);return he.operator=Z,he}next(Z){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:he}=this,Oe=he.length,Ne=he.slice();for(let Ee=0;Ee<Oe;Ee++)Ne[Ee].next(Z)}}error(Z){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=Z,this.isStopped=!0;const{observers:he}=this,Oe=he.length,Ne=he.slice();for(let Ee=0;Ee<Oe;Ee++)Ne[Ee].error(Z);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:Z}=this,he=Z.length,Oe=Z.slice();for(let Ne=0;Ne<he;Ne++)Oe[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Z){if(this.closed)throw new ce.N;return super._trySubscribe(Z)}_subscribe(Z){if(this.closed)throw new ce.N;return this.hasError?(Z.error(this.thrownError),O.w.EMPTY):this.isStopped?(Z.complete(),O.w.EMPTY):(this.observers.push(Z),new ue.W(this,Z))}asObservable(){const Z=new o.y;return Z.source=this,Z}}return L.create=(B,Z)=>new z(B,Z),L})();class z extends Q{constructor(B,Z){super(),this.destination=B,this.source=Z}next(B){const{destination:Z}=this;Z&&Z.next&&Z.next(B)}error(B){const{destination:Z}=this;Z&&Z.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:Z}=this;return Z?this.source.subscribe(B):O.w.EMPTY}}},8858:(Ye,we,F)=>{"use strict";F.d(we,{W:()=>j});var o=F(5319);class j extends o.w{constructor(ce,ue){super(),this.subject=ce,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,ue=ce.observers;if(this.subject=null,!ue||0===ue.length||ce.isStopped||ce.closed)return;const ee=ue.indexOf(this.subscriber);-1!==ee&&ue.splice(ee,1)}}},7393:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>de});var o=F(9105),j=F(6490),O=F(5319),ce=F(9181),ue=F(2494),ee=F(4449);class de extends O.w{constructor(L,B,Z){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof de?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,L,B,Z)}}[ce.b](){return this}static create(L,B,Z){const he=new de(L,B,Z);return he.syncErrorThrowable=!1,he}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Q extends de{constructor(L,B,Z,he){super(),this._parentSubscriber=L;let Oe,Ne=this;(0,o.m)(B)?Oe=B:B&&(Oe=B.next,Z=B.error,he=B.complete,B!==j.c&&(Ne=Object.create(B),(0,o.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=Oe,this._error=Z,this._complete=he}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ue.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:Z}=ue.v;if(this._error)Z&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)Z?(B.syncErrorValue=L,B.syncErrorThrown=!0):(0,ee.z)(L),this.unsubscribe();else{if(this.unsubscribe(),Z)throw L;(0,ee.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const B=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,B){try{L.call(this._context,B)}catch(Z){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw Z;(0,ee.z)(Z)}}__tryOrSetError(L,B,Z){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,Z)}catch(he){return ue.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=he,L.syncErrorThrown=!0,!0):((0,ee.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ye,we,F)=>{"use strict";F.d(we,{w:()=>ee});var o=F(9796),j=F(1555),O=F(9105);const ue=(()=>{function Q(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,B)=>`${B+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return Q.prototype=Object.create(Error.prototype),Q})();class ee{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:B,_unsubscribe:Z,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ee)L.remove(this);else if(null!==L)for(let Oe=0;Oe<L.length;++Oe)L[Oe].remove(this);if((0,O.m)(Z)){B&&(this._unsubscribe=void 0);try{Z.call(this)}catch(Oe){z=Oe instanceof ue?de(Oe.errors):[Oe]}}if((0,o.k)(he)){let Oe=-1,Ne=he.length;for(;++Oe<Ne;){const Ee=he[Oe];if((0,j.K)(Ee))try{Ee.unsubscribe()}catch(ge){z=z||[],ge instanceof ue?z=z.concat(de(ge.errors)):z.push(ge)}}}if(z)throw new ue(z)}add(z){let L=z;if(!z)return ee.EMPTY;switch(typeof z){case"function":L=new ee(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ee)){const he=L;L=new ee,L._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=L;if(null===B)L._parentOrParents=this;else if(B instanceof ee){if(B===this)return L;L._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return L;B.push(this)}const Z=this._subscriptions;return null===Z?this._subscriptions=[L]:Z.push(L),L}remove(z){const L=this._subscriptions;if(L){const B=L.indexOf(z);-1!==B&&L.splice(B,1)}}}var Q;function de(Q){return Q.reduce((z,L)=>z.concat(L instanceof ue?L.errors:L),[])}ee.EMPTY=((Q=new ee).closed=!0,Q)},2494:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>j});let o=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=O},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Ye,we,F)=>{"use strict";F.d(we,{IY:()=>ce,Ds:()=>ee,ft:()=>Q});var o=F(7393),j=F(7574),O=F(7444);class ce extends o.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends o.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Q(z,L){if(L.closed)return;if(z instanceof j.y)return z.subscribe(L);let B;try{B=(0,O.s)(z)(L)}catch(Z){L.error(Z)}return B}},2441:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ue,N:()=>ee});var o=F(9765),j=F(7574),O=F(5319),ce=F(1307);class ue extends j.y{constructor(B,Z){super(),this.source=B,this.subjectFactory=Z,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new O.w,B.add(this.source.subscribe(new de(this.getSubject(),this))),B.closed&&(this._connection=null,B=O.w.EMPTY)),B}refCount(){return(0,ce.x)()(this)}}const ee=(()=>{const L=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class de extends o.Yc{constructor(B,Z){super(B),this.connectable=Z}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const Z=B._connection;B._refCount=0,B._subject=null,B._connection=null,Z&&Z.unsubscribe()}}}},9193:(Ye,we,F)=>{"use strict";F.d(we,{E:()=>j,c:()=>O});var o=F(7574);const j=new o.y(ue=>ue.complete());function O(ue){return ue?function(ue){return new o.y(ee=>ue.schedule(()=>ee.complete()))}(ue):j}},4402:(Ye,we,F)=>{"use strict";F.d(we,{D:()=>Ne});var o=F(7574),j=F(7444),O=F(5319),ce=F(6554),de=F(4087),Q=F(377),B=F(4072),Z=F(9489);function Ne(Ee,ge){return ge?function(Ee,ge){if(null!=Ee){if(function(Ee){return Ee&&"function"==typeof Ee[ce.L]}(Ee))return function(Ee,ge){return new o.y(ne=>{const oe=new O.w;return oe.add(ge.schedule(()=>{const Te=Ee[ce.L]();oe.add(Te.subscribe({next(xe){oe.add(ge.schedule(()=>ne.next(xe)))},error(xe){oe.add(ge.schedule(()=>ne.error(xe)))},complete(){oe.add(ge.schedule(()=>ne.complete()))}}))})),oe})}(Ee,ge);if((0,B.t)(Ee))return function(Ee,ge){return new o.y(ne=>{const oe=new O.w;return oe.add(ge.schedule(()=>Ee.then(Te=>{oe.add(ge.schedule(()=>{ne.next(Te),oe.add(ge.schedule(()=>ne.complete()))}))},Te=>{oe.add(ge.schedule(()=>ne.error(Te)))}))),oe})}(Ee,ge);if((0,Z.z)(Ee))return(0,de.r)(Ee,ge);if(function(Ee){return Ee&&"function"==typeof Ee[Q.hZ]}(Ee)||"string"==typeof Ee)return function(Ee,ge){if(!Ee)throw new Error("Iterable cannot be null");return new o.y(ne=>{const oe=new O.w;let Te;return oe.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),oe.add(ge.schedule(()=>{Te=Ee[Q.hZ](),oe.add(ge.schedule(function(){if(ne.closed)return;let xe,St;try{const Mt=Te.next();xe=Mt.value,St=Mt.done}catch(Mt){return void ne.error(Mt)}St?ne.complete():(ne.next(xe),this.schedule())}))})),oe})}(Ee,ge)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,ge):Ee instanceof o.y?Ee:new o.y((0,j.s)(Ee))}},6693:(Ye,we,F)=>{"use strict";F.d(we,{n:()=>ce});var o=F(7574),j=F(5015),O=F(4087);function ce(ue,ee){return ee?(0,O.r)(ue,ee):new o.y((0,j.V)(ue))}},6682:(Ye,we,F)=>{"use strict";F.d(we,{T:()=>ue});var o=F(7574),j=F(4869),O=F(3282),ce=F(6693);function ue(...ee){let de=Number.POSITIVE_INFINITY,Q=null,z=ee[ee.length-1];return(0,j.K)(z)?(Q=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(de=ee.pop())):"number"==typeof z&&(de=ee.pop()),null===Q&&1===ee.length&&ee[0]instanceof o.y?ee[0]:(0,O.J)(de)((0,ce.n)(ee,Q))}},5917:(Ye,we,F)=>{"use strict";F.d(we,{of:()=>ce});var o=F(4869),j=F(6693),O=F(4087);function ce(...ue){let ee=ue[ue.length-1];return(0,o.K)(ee)?(ue.pop(),(0,O.r)(ue,ee)):(0,j.n)(ue)}},8002:(Ye,we,F)=>{"use strict";F.d(we,{U:()=>j});var o=F(7393);function j(ue,ee){return function(Q){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new O(ue,ee))}}class O{constructor(ee,de){this.project=ee,this.thisArg=de}call(ee,de){return de.subscribe(new ce(ee,this.project,this.thisArg))}}class ce extends o.L{constructor(ee,de,Q){super(ee),this.project=de,this.count=0,this.thisArg=Q||this}_next(ee){let de;try{de=this.project.call(this.thisArg,ee,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(de)}}},3282:(Ye,we,F)=>{"use strict";F.d(we,{J:()=>O});var o=F(9773),j=F(4487);function O(ce=Number.POSITIVE_INFINITY){return(0,o.zg)(j.y,ce)}},9773:(Ye,we,F)=>{"use strict";F.d(we,{zg:()=>ce});var o=F(8002),j=F(4402),O=F(5345);function ce(Q,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(ce((Z,he)=>(0,j.D)(Q(Z,he)).pipe((0,o.U)((Oe,Ne)=>z(Z,Oe,he,Ne))),L)):("number"==typeof z&&(L=z),B=>B.lift(new ue(Q,L)))}class ue{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new ee(z,this.project,this.concurrent))}}class ee extends O.Ds{constructor(z,L,B=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const B=this.index++;try{L=this.project(z,B)}catch(Z){return void this.destination.error(Z)}this.active++,this._innerSub(L)}_innerSub(z){const L=new O.IY(this),B=this.destination;B.add(L);const Z=(0,O.ft)(z,L);Z!==L&&B.add(Z)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,we,F)=>{"use strict";F.d(we,{QV:()=>O,ht:()=>ue});var o=F(7393),j=F(1593);function O(de,Q=0){return function(L){return L.lift(new ce(de,Q))}}class ce{constructor(Q,z=0){this.scheduler=Q,this.delay=z}call(Q,z){return z.subscribe(new ue(Q,this.scheduler,this.delay))}}class ue extends o.L{constructor(Q,z,L=0){super(Q),this.scheduler=z,this.delay=L}static dispatch(Q){const{notification:z,destination:L}=Q;z.observe(L),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new ee(Q,this.destination)))}_next(Q){this.scheduleMessage(j.P.createNext(Q))}_error(Q){this.scheduleMessage(j.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(j.P.createComplete()),this.unsubscribe()}}class ee{constructor(Q,z){this.notification=Q,this.destination=z}}},1307:(Ye,we,F)=>{"use strict";F.d(we,{x:()=>j});var o=F(7393);function j(){return function(ee){return ee.lift(new O(ee))}}class O{constructor(ee){this.connectable=ee}call(ee,de){const{connectable:Q}=this;Q._refCount++;const z=new ce(ee,Q),L=de.subscribe(z);return z.closed||(z.connection=Q.connect()),L}}class ce extends o.L{constructor(ee,de){super(ee),this.connectable=de}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const de=ee._refCount;if(de<=0)return void(this.connection=null);if(ee._refCount=de-1,de>1)return void(this.connection=null);const{connection:Q}=this,z=ee._connection;this.connection=null,z&&(!Q||z===Q)&&z.unsubscribe()}}},8819:(Ye,we,F)=>{"use strict";F.d(we,{B:()=>de});var o=F(2441);var ce=F(1307),ue=F(9765);function ee(){return new ue.xQ}function de(){return Q=>(0,ce.x)()(function(Q,z){return function(B){let Z;Z="function"==typeof Q?Q:function(){return Q};const he=Object.create(B,o.N);return he.source=B,he.subjectFactory=Z,he}}(ee)(Q))}},2639:(Ye,we,F)=>{"use strict";F.d(we,{R:()=>Ee});var o=F(7574);let j=1;const O=Promise.resolve(),ce={};function ue(ne){return ne in ce&&(delete ce[ne],!0)}const ee={setImmediate(ne){const oe=j++;return ce[oe]=!0,O.then(()=>ue(oe)&&ne()),oe},clearImmediate(ne){ue(ne)}};var Q=F(6465),L=F(6102);const he=new class extends L.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:Te}=this;let xe,St=-1,Mt=Te.length;oe=oe||Te.shift();do{if(xe=oe.execute(oe.state,oe.delay))break}while(++St<Mt&&(oe=Te.shift()));if(this.active=!1,xe){for(;++St<Mt&&(oe=Te.shift());)oe.unsubscribe();throw xe}}}(class extends Q.o{constructor(oe,Te){super(oe,Te),this.scheduler=oe,this.work=Te}requestAsyncId(oe,Te,xe=0){return null!==xe&&xe>0?super.requestAsyncId(oe,Te,xe):(oe.actions.push(this),oe.scheduled||(oe.scheduled=ee.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,Te,xe=0){if(null!==xe&&xe>0||null===xe&&this.delay>0)return super.recycleAsyncId(oe,Te,xe);0===oe.actions.length&&(ee.clearImmediate(Te),oe.scheduled=void 0)}});var Oe=F(6561);class Ne extends o.y{constructor(oe,Te=0,xe=he){super(),this.source=oe,this.delayTime=Te,this.scheduler=xe,(!(0,Oe.k)(Te)||Te<0)&&(this.delayTime=0),(!xe||"function"!=typeof xe.schedule)&&(this.scheduler=he)}static create(oe,Te=0,xe=he){return new Ne(oe,Te,xe)}static dispatch(oe){const{source:Te,subscriber:xe}=oe;return this.add(Te.subscribe(xe))}_subscribe(oe){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:oe})}}function Ee(ne,oe=0){return function(xe){return xe.lift(new ge(ne,oe))}}class ge{constructor(oe,Te){this.scheduler=oe,this.delay=Te}call(oe,Te){return new Ne(Te,this.delay,this.scheduler).subscribe(oe)}}},8307:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>ce});var o=F(7393),j=F(8640),O=F(9105);function ce(de,Q,z){return function(B){return B.lift(new ue(de,Q,z))}}class ue{constructor(Q,z,L){this.nextOrObserver=Q,this.error=z,this.complete=L}call(Q,z){return z.subscribe(new ee(Q,this.nextOrObserver,this.error,this.complete))}}class ee extends o.L{constructor(Q,z,L,B){super(Q),this._tapNext=j.Z,this._tapError=j.Z,this._tapComplete=j.Z,this._tapError=L||j.Z,this._tapComplete=B||j.Z,(0,O.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||j.Z,this._tapError=z.error||j.Z,this._tapComplete=z.complete||j.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(z){return void this.destination.error(z)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(Ye,we,F)=>{"use strict";F.d(we,{r:()=>O});var o=F(7574),j=F(5319);function O(ce,ue){return new o.y(ee=>{const de=new j.w;let Q=0;return de.add(ue.schedule(function(){Q!==ce.length?(ee.next(ce[Q++]),ee.closed||de.add(this.schedule())):ee.complete()})),de})}},6465:(Ye,we,F)=>{"use strict";F.d(we,{o:()=>O});var o=F(5319);class j extends o.w{constructor(ue,ee){super()}schedule(ue,ee=0){return this}}class O extends j{constructor(ue,ee){super(ue,ee),this.scheduler=ue,this.work=ee,this.pending=!1}schedule(ue,ee=0){if(this.closed)return this;this.state=ue;const de=this.id,Q=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(Q,de,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Q,this.id,ee),this}requestAsyncId(ue,ee,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,ee,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return ee;clearInterval(ee)}execute(ue,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,ee);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ee){let Q,de=!1;try{this.work(ue)}catch(z){de=!0,Q=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),Q}_unsubscribe(){const ue=this.id,ee=this.scheduler,de=ee.actions,Q=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&de.splice(Q,1),null!=ue&&(this.id=this.recycleAsyncId(ee,ue,null)),this.delay=null}}},6102:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>j});let o=(()=>{class O{constructor(ue,ee=O.now){this.SchedulerAction=ue,this.now=ee}schedule(ue,ee=0,de){return new this.SchedulerAction(this,ue).schedule(de,ee)}}return O.now=()=>Date.now(),O})();class j extends o{constructor(ce,ue=o.now){super(ce,()=>j.delegate&&j.delegate!==this?j.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,ue=0,ee){return j.delegate&&j.delegate!==this?j.delegate.schedule(ce,ue,ee):super.schedule(ce,ue,ee)}flush(ce){const{actions:ue}=this;if(this.active)return void ue.push(ce);let ee;this.active=!0;do{if(ee=ce.execute(ce.state,ce.delay))break}while(ce=ue.shift());if(this.active=!1,ee){for(;ce=ue.shift();)ce.unsubscribe();throw ee}}}},3637:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>O,P:()=>ce});var o=F(6465);const O=new(F(6102).v)(o.o),ce=O},7771:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ee,N:()=>ue});var o=F(6465),O=F(6102);const ue=new class extends O.v{}(class extends o.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(Q,z,L):Q.flush(this)}}),ee=ue},377:(Ye,we,F)=>{"use strict";F.d(we,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,we,F)=>{"use strict";F.d(we,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(Ye,we,F)=>{"use strict";function o(j){setTimeout(()=>{throw j},0)}F.d(we,{z:()=>o})},4487:(Ye,we,F)=>{"use strict";function o(j){return j}F.d(we,{y:()=>o})},9796:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>o});const o=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>o});const o=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(Ye,we,F)=>{"use strict";function o(j){return"function"==typeof j}F.d(we,{m:()=>o})},6561:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>j});var o=F(9796);function j(O){return!(0,o.k)(O)&&O-parseFloat(O)+1>=0}},1555:(Ye,we,F)=>{"use strict";function o(j){return null!==j&&"object"==typeof j}F.d(we,{K:()=>o})},4072:(Ye,we,F)=>{"use strict";function o(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(we,{t:()=>o})},4869:(Ye,we,F)=>{"use strict";function o(j){return j&&"function"==typeof j.schedule}F.d(we,{K:()=>o})},8640:(Ye,we,F)=>{"use strict";function o(){}F.d(we,{Z:()=>o})},7444:(Ye,we,F)=>{"use strict";F.d(we,{s:()=>B});var o=F(5015),j=F(4449),ce=F(377),ee=F(6554),Q=F(9489),z=F(4072),L=F(1555);const B=Z=>{if(Z&&"function"==typeof Z[ee.L])return(Z=>he=>{const Oe=Z[ee.L]();if("function"!=typeof Oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Oe.subscribe(he)})(Z);if((0,Q.z)(Z))return(0,o.V)(Z);if((0,z.t)(Z))return(Z=>he=>(Z.then(Oe=>{he.closed||(he.next(Oe),he.complete())},Oe=>he.error(Oe)).then(null,j.z),he))(Z);if(Z&&"function"==typeof Z[ce.hZ])return(Z=>he=>{const Oe=Z[ce.hZ]();for(;;){let Ne;try{Ne=Oe.next()}catch(Ee){return he.error(Ee),he}if(Ne.done){he.complete();break}if(he.next(Ne.value),he.closed)break}return"function"==typeof Oe.return&&he.add(()=>{Oe.return&&Oe.return()}),he})(Z);{const Oe=`You provided ${(0,L.K)(Z)?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Oe)}}},5015:(Ye,we,F)=>{"use strict";F.d(we,{V:()=>o});const o=j=>O=>{for(let ce=0,ue=j.length;ce<ue&&!O.closed;ce++)O.next(j[ce]);O.complete()}},5134:(Ye,we,F)=>{"use strict";var o=F(7716);let j=null;function O(){return j}const de=new o.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,o.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,o.LFG)(B)}const L=new o.OlP("Location Initialized");let B=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){Z()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){Z()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(de))},n.\u0275prov=(0,o.Yz7)({factory:he,token:n,providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function he(){return new B((0,o.LFG)(de))}function Oe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ee(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,o.Yz7)({factory:ne,token:n,providedIn:"root"}),n})();function ne(n){const t=(0,o.LFG)(de).location;return new Te((0,o.LFG)(Q),t&&t.origin||"")}const oe=new o.OlP("appBaseHref");let Te=(()=>{class n extends ge{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ee(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,l){const h=this.prepareExternalUrl(a+Ee(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,l){const h=this.prepareExternalUrl(a+Ee(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(oe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n extends ge{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Oe(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,l){let h=this.prepareExternalUrl(a+Ee(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,l){let h=this.prepareExternalUrl(a+Ee(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(oe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),St=(()=>{class n{constructor(e,r){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(vt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ee(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,vt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ee(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ee(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ge),o.LFG(Q))},n.normalizeQueryParams=Ee,n.joinWithSlash=Oe,n.stripTrailingSlash=Ne,n.\u0275prov=(0,o.Yz7)({factory:Mt,token:n,providedIn:"root"}),n})();function Mt(){return new St((0,o.LFG)(ge),(0,o.LFG)(Q))}function vt(n){return n.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const ke=o.kL8;class ui{}let yr=(()=>{class n extends ui{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(ke(r||this.locale)(e)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Di{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yt=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Di(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new eu(a,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new eu(a,m);r.push(b)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class eu{constructor(t,e){this.record=t,this.view=e}}let yn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new ec,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Uo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Uo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ec{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}let vr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:ui,useClass:yr}]}),n})();function ga(n){return"server"===n}let tu=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Qu((0,o.LFG)(de),window)}),n})();class Qu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new nu,j||(j=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Ir=Ir||document.querySelector("base"),Ir?Ir.getAttribute("href"):null);return null==e?null:function(n){on=on||document.createElement("a"),on.setAttribute("href",n);const t=on.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ir=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let on,Ir=null;const uc=new o.OlP("TRANSITION_ID"),Si=[{provide:o.ip1,useFactory:function(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const r=O(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[uc,de,o.zs3],multi:!0}];class Mn{static init(){(0,o.VLi)(new Mn)}addToWindow(t){o.dqk.getAngularTestability=(r,a=!0)=>{const l=t.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};a.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=new o.OlP("EventManagerPlugins");let De=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gs),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class kt{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=O().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let su=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends su{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ou),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ou))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(de))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ou(n){O().remove(n)}const qi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yr=/%COMP%/g;function ar(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?ar(n,a,e):(a=a.replace(Yr,n),e.push(a))}return e}function Kr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ms=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ar(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new uu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case o.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=ar(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(De),o.LFG(Cn),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ar{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(qi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const l=qi[a];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=qi[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,r,a&o.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kr(r)):this.eventManager.addEventListener(t,e,Kr(r))}}class uu extends Ar{constructor(t,e,r,a){super(t),this.component=r;const l=ar(a+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Yr,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Yr,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends Ar{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ar(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jo=(()=>{class n extends kt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(de))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=["alt","control","meta","shift"],du={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let al=(()=>{class n extends kt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(Ho.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(e){let r="",a=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Sr.hasOwnProperty(t)&&(t=Sr[t]))}return du[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ho.forEach(l=>{l!=a&&gc[l](e)&&(r+=l+".")}),r+=a,r}static eventCallback(e,r,a){return l=>{n.getEventFullKey(l)===e&&a.runGuarded(()=>r(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(de))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const qo=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){nu.makeCurrent(),Mn.init()},multi:!0},{provide:de,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),vc=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:gs,useClass:jo,multi:!0,deps:[de,o.R0b,o.Lbi]},{provide:gs,useClass:al,multi:!0,deps:[de]},[],{provide:ms,useClass:ms,deps:[De,Cn,o.AFp]},{provide:o.FYo,useExisting:ms},{provide:su,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[de]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:De,useClass:De,deps:[gs,o.R0b]},{provide:class{},useClass:lc,deps:[]},[]];let cp=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:uc,useExisting:o.AFp},Si]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:vc,imports:[vr,o.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),qe=F(5917),an=F(9765),uh=F(7971);class xn extends an.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new uh.N;return this._value}next(t){super.next(this._value=t)}}var pu=F(4869),vs=F(9796),Jn=F(7393);class gu extends Jn.L{notifyNext(t,e,r,a,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cl extends Jn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var dl=F(7444),Rt=F(7574);function Tc(n,t,e,r,a=new cl(n,e,r)){if(!a.closed)return t instanceof Rt.y?t.subscribe(a):(0,dl.s)(t)(a)}var Co=F(6693);const Ec={};class lh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new mu(t,this.resultSelector))}}class mu extends gu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ec),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Tc(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const a=this.values,h=this.toRespond?a[r]===Ec?--this.toRespond:this.toRespond:0;a[r]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Wi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Mi=F(3282);function Yi(...n){return(0,Mi.J)(1)((0,qe.of)(...n))}var Jr=F(9193);function To(n){return new Rt.y(t=>{let e;try{e=n()}catch(a){return void t.error(a)}return(e?(0,pn.D)(e):(0,Jr.c)()).subscribe(t)})}var hl=F(2441),at=F(8002),ci=F(5345);function sr(n,t){return"function"==typeof t?e=>e.pipe(sr((r,a)=>(0,pn.D)(n(r,a)).pipe((0,at.U)((l,h)=>t(r,l,a,h))))):e=>e.lift(new ch(n))}class ch{constructor(t){this.project=t}call(t,e){return e.subscribe(new On(t,this.project))}}class On extends ci.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new ci.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,ci.ft)(t,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const fl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function di(n){return t=>0===n?(0,Jr.c)():t.lift(new pp(n))}class pp{constructor(t){if(this.total=t,this.total<0)throw new fl}call(t,e){return e.subscribe(new wm(t,this.total))}}class wm extends Jn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Da(...n){const t=n[n.length-1];return(0,pu.K)(t)?(n.pop(),e=>Yi(n,e,t)):e=>Yi(n,e)}function _u(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new dh(n,t,e))}}class dh{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new Cm(t,this.accumulator,this.seed,this.hasSeed))}}class Cm extends Jn.L{constructor(t,e,r,a){super(t),this.accumulator=e,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Pn(n,t){return function(r){return r.lift(new Ic(n,t))}}class Ic{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ia(t,this.predicate,this.thisArg))}}class Ia extends Jn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function Eo(n){return function(e){const r=new Fn(n),a=e.lift(r);return r.caught=a}}class Fn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Aa(t,this.selector,this.caught))}}class Aa extends ci.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new ci.IY(this);this.add(r);const a=(0,ci.ft)(e,r);a!==r&&this.add(a)}}}var jn=F(9773);function Ac(n,t){return(0,jn.zg)(n,t,1)}function pl(n){return function(e){return 0===n?(0,Jr.c)():e.lift(new Ki(n))}}class Ki{constructor(t){if(this.total=t,this.total<0)throw new fl}call(t,e){return e.subscribe(new bs(t,this.total))}}class bs extends Jn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,a=this.count++;e.length<r?e.push(t):e[a%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<r;l++){const h=e++%r;t.next(a[h])}}t.complete()}}function yu(n=Sc){return t=>t.lift(new xi(n))}class xi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hs(t,this.errorFactory))}}class Hs extends Jn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Sc(){return new Wi}function hh(n=null){return t=>t.lift(new zo(n))}class zo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Tm(t,this.defaultValue))}}class Tm extends Jn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Zs=F(4487);function Qn(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((a,l)=>n(a,l,r)):Zs.y,di(1),e?hh(t):yu(()=>new Wi))}var Xn=F(8307),Do=F(1307),gp=F(5319);class T{constructor(t){this.callback=t}call(t,e){return e.subscribe(new I(t,this.callback))}}class I extends Jn.L{constructor(t,e){super(t),this.add(new gp.w(e))}}class x{constructor(t,e){this.id=t,this.url=e}}class U extends x{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends x{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fe extends x{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends x{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ze extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends x{constructor(t,e,r,a,l){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends x{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ur{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sa{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class m0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Tn(n){return new m0(n)}const mp="ngNavigationCancelingError";function Em(n){const t=Error("NavigationCancelingError: "+n);return t[mp]=!0,t}function bu(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function qs(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!ph(n[a],t[a]))return!1;return!0}function ph(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,l)=>r[l]===a)}return n===t}function Dm(n){return Array.prototype.concat.apply([],n)}function wu(n){return n.length>0?n[n.length-1]:null}function er(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function jr(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,qe.of)(n)}const gh={exact:function Im(n,t,e){if(!Ra(n.segments,t.segments)||!xc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Im(n.children[r],t.children[r],e))return!1;return!0},subset:Yo},mh={exact:function(n,t){return qs(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ph(n[e],t[e]))},ignored:()=>!0};function Mc(n,t,e){return gh[e.paths](n.root,t.root,e.matrixParams)&&mh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yo(n,t,e){return xa(n,t,t.segments,e)}function xa(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Ra(a,e)||t.hasChildren()||!xc(a,e,r))}if(n.segments.length===e.length){if(!Ra(n.segments,e)||!xc(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Yo(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Ra(n.segments,a)&&xc(n.segments,a,r)&&n.children[mt])&&xa(n.children[mt],t,l,r)}}function xc(n,t,e){return t.every((r,a)=>mh[e](n[a].parameters,r.parameters))}class ka{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return vp.serialize(this)}}class $t{constructor(t,e){this.segments=t,this.children=e,this.parent=null,er(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ko(this)}}class gl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return wp(this)}}function Ra(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class yh{}class Cu{parse(t){const e=new Am(t);return new ka(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${kc(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${bp(e)}=${bp(a)}`).join("&"):`${bp(e)}=${bp(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const vp=new Cu;function Ko(n){return n.segments.map(t=>wp(t)).join("/")}function kc(n,t){if(!n.hasChildren())return Ko(n);if(t){const e=n.children[mt]?kc(n.children[mt],!1):"",r=[];return er(n.children,(a,l)=>{l!==mt&&r.push(`${l}:${kc(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return er(n.children,(r,a)=>{a===mt&&(e=e.concat(t(r,a)))}),er(n.children,(r,a)=>{a!==mt&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===mt?[kc(n.children[mt],!1)]:[`${a}:${kc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mt]?`${Ko(n)}/${e[0]}`:`${Ko(n)}/(${e.join("//")})`}}function vh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bp(n){return vh(n).replace(/%3B/gi,";")}function ml(n){return vh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function _l(n){return Rc(n.replace(/\+/g,"%20"))}function wp(n){return`${ml(n.path)}${function(n){return Object.keys(n).map(t=>`;${ml(t)}=${ml(n[t])}`).join("")}(n.parameters)}`}const w0=/^[^\/()?;=#]+/;function wh(n){const t=n.match(w0);return t?t[0]:""}const C0=/^[^=?&#]+/,Jo=/^[^?&#]+/;class Am{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[mt]=new $t(t,e)),r}parseSegment(){const t=wh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gl(Rc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=wh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=wh(this.remaining);a&&(r=a,this.capture(r))}t[Rc(e)]=Rc(r)}parseQueryParam(t){const e=function(n){const t=n.match(C0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(Jo);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=_l(e),l=_l(r);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(l)}else t[a]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wh(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=mt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[mt]:new $t([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cp(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Cp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Tp(t,this._root).map(e=>e.value)}}function Cp(n,t){if(n===t.value)return t;for(const e of t.children){const r=Cp(n,e);if(r)return r}return null}function Tp(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Tp(n,e);if(r.length)return r.unshift(t),r}return[]}class Qo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function yl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ep extends Sm{constructor(t,e){super(t),this.snapshot=e,Oc(this,t)}toString(){return this.snapshot.toString()}}function Nm(n,t){const e=function(n,t){const h=new bl([],{},{},"",{},mt,t,null,n.root,-1,{});return new wl("",new Qo(h,[]))}(n,t),r=new xn([new gl("",{})]),a=new xn({}),l=new xn({}),h=new xn({}),m=new xn(""),b=new vl(r,a,h,m,l,mt,t,e.root);return b.snapshot=e.root,new Ep(new Qo(b,[]),e)}class vl{constructor(t,e,r,a,l,h,m,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(t=>Tn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(t=>Tn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ch(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],l=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class bl{constructor(t,e,r,a,l,h,m,b,D,N,M){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=D,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wl extends Sm{constructor(t,e){super(e),this.url=t,Oc(this,e)}toString(){return zs(this._root)}}function Oc(n,t){t.value._routerState=n,t.children.forEach(e=>Oc(n,e))}function zs(n){const t=n.children.length>0?` { ${n.children.map(zs).join(", ")} } `:"";return`${n.value}${t}`}function Xo(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),qs(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),qs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Th(n,t){return qs(n.params,t.params)&&function(n,t){return Ra(n,t)&&n.every((e,r)=>qs(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Th(n.parent,t.parent))}function Cl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Cl(n,r,a);return Cl(n,r)})}(n,t,e);return new Qo(r,a)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return D0(t,h),h}}const r=function(n){return new vl(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(l=>Cl(n,l));return new Qo(r,a)}}function D0(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)D0(n.children[e],t.children[e])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,t,e,r,a){let l={};return r&&er(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new ka(e.root===n?t:C(e.root,n,t),l,a)}function C(n,t,e){const r={};return er(n.children,(a,l)=>{r[l]=a===t?e:C(a,t,e)}),new $t(n.segments,r)}class S{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(p);if(a&&a!==wu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function st(n,t,e){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return Gt(n,t,e);const r=function(n,t,e){let r=0,a=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return l;const h=n.segments[a],m=e[r];if(p(m))break;const b=`${m}`,D=r<e.length-1?e[r+1]:null;if(a>0&&void 0===b)break;if(b&&D&&"object"==typeof D&&void 0===D.outlets){if(!Eh(b,D,h))return l;r+=2}else{if(!Eh(b,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new $t(n.segments.slice(0,r.pathIndex),{});return l.children[mt]=new $t(n.segments.slice(r.pathIndex),n.children),Gt(l,0,a)}return r.match&&0===a.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?$r(n,t,e):r.match?Gt(n,0,a):$r(n,t,e)}function Gt(n,t,e){if(0===e.length)return new $t(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[mt]:n}}(e),a={};return er(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=st(n.children[h],t,l))}),er(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new $t(n.segments,a)}}function $r(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const l=e[a];if(p(l)){const b=bn(l.outlets);return new $t(r,b)}if(0===a&&v(e[0])){r.push(new gl(n.segments[t].path,Pc(e[0]))),a++;continue}const h=p(l)?l.outlets[mt]:`${l}`,m=a<e.length-1?e[a+1]:null;h&&m&&v(m)?(r.push(new gl(h,Pc(m))),a+=2):(r.push(new gl(h,{})),a++)}return new $t(r,{})}function bn(n){const t={};return er(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=$r(new $t([],{}),0,e))}),t}function Pc(n){const t={};return er(n,(e,r)=>t[r]=`${e}`),t}function Eh(n,t,e){return n==e.path&&qs(t,e.parameters)}class Ap{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Xo(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=yl(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),er(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const a=t.value,l=e?e.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,l=yl(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=yl(e);t.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Gs(l.value.snapshot))}),t.children.length&&this.forwardEvent(new vu(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,l=e?e.value:null;if(Xo(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Ih(m.route)}else{const m=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=b,h.outlet&&h.outlet.activateWith(a,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}function Ih(n){Xo(n.value),n.children.forEach(Ih)}class Ah{constructor(t,e){this.routes=t,this.module=e}}function Io(n){return"function"==typeof n}function Tl(n){return n instanceof ka}const Sh=Symbol("INITIAL_VALUE");function Nh(){return sr(n=>function(...n){let t,e;return(0,pu.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,vs.k)(n[0])&&(n=n[0]),(0,Co.n)(n,e).lift(new lh(t))}(n.map(t=>t.pipe(di(1),Da(Sh)))).pipe(_u((t,e)=>{let r=!1;return e.reduce((a,l,h)=>a!==Sh?a:(l===Sh&&(r=!0),r||!1!==l&&h!==e.length-1&&!Tl(l)?a:l),t)},Sh),Pn(t=>t!==Sh),(0,at.U)(t=>Tl(t)?t:!0===t),di(1)))}let pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&o._UZ(0,"router-outlet")},directives:function(){return[Oh]},encapsulation:2}),n})();function Mh(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];A0(r,xI(t,r))}}function A0(n,t){n.children&&Mh(n.children,t)}function xI(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function S0(n){const t=n.children&&n.children.map(S0),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==mt&&(e.component=pi),e}function Ws(n){return n.outlet||mt}function Iw(n,t){const e=n.filter(r=>Ws(r)===t);return e.push(...n.filter(r=>Ws(r)!==t)),e}const N0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Rm(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},N0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||bu)(e,n,t);if(!l)return Object.assign({},N0);const h={};er(l.posParams,(b,D)=>{h[D]=b.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Sp(n,t,e,r,a="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>xh(n,t,r)&&Ws(r)!==mt)}(n,e,r)){const h=new $t(t,function(n,t,e,r){const a={};a[mt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ws(l)!==mt){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,a[Ws(l)]=h}return a}(n,t,r,new $t(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>xh(n,t,r))}(n,e,r)){const h=new $t(n.segments,function(n,t,e,r,a,l){const h={};for(const m of r)if(xh(n,e,m)&&!a[Ws(m)]){const b=new $t([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Ws(m)]=b}return Object.assign(Object.assign({},a),h)}(n,t,e,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new $t(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function xh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function M0(n,t,e,r){return!!(Ws(n)===r||r!==mt&&xh(t,e,n))&&("**"===n.path||Rm(t,n,e).matched)}function Sw(n,t,e){return 0===t.length&&!n.children[e]}class Om{constructor(t){this.segmentGroup=t||null}}class x0{constructor(t){this.urlTree=t}}function Lc(n){return new Rt.y(t=>t.error(new Om(n)))}function Nw(n){return new Rt.y(t=>t.error(new x0(n)))}function PI(n){return new Rt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class LI{constructor(t,e,r,a,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=Sp(this.urlTree.root,[],[],this.config).segmentGroup,e=new $t(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mt).pipe((0,at.U)(l=>this.createUrlTree(k0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Eo(l=>{if(l instanceof x0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Om?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mt).pipe((0,at.U)(a=>this.createUrlTree(k0(a),t.queryParams,t.fragment))).pipe(Eo(a=>{throw a instanceof Om?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new $t([],{[mt]:t}):t;return new ka(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,at.U)(l=>new $t([],l))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,pn.D)(a).pipe(Ac(l=>{const h=r.children[l],m=Iw(e,l);return this.expandSegmentGroup(t,m,h,l).pipe((0,at.U)(b=>({segment:b,outlet:l})))}),_u((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pn((a,l)=>n(a,l,r)):Zs.y,pl(1),e?hh(t):yu(()=>new Wi))}())}expandSegment(t,e,r,a,l,h){return(0,pn.D)(r).pipe(Ac(m=>this.expandSegmentAgainstRoute(t,e,r,m,a,l,h).pipe(Eo(D=>{if(D instanceof Om)return(0,qe.of)(null);throw D}))),Qn(m=>!!m),Eo((m,b)=>{if(m instanceof Wi||"EmptyError"===m.name){if(Sw(e,a,l))return(0,qe.of)(new $t([],{}));throw new Om(e)}throw m}))}expandSegmentAgainstRoute(t,e,r,a,l,h,m){return M0(a,e,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h):Lc(e):Lc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nw(l):this.lineralizeSegments(r,l).pipe((0,jn.zg)(h=>{const m=new $t(h,{});return this.expandSegment(t,m,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,l,h){const{matched:m,consumedSegments:b,lastChild:D,positionalParamSegments:N}=Rm(e,a,l);if(!m)return Lc(e);const M=this.applyRedirectCommands(b,a.redirectTo,N);return a.redirectTo.startsWith("/")?Nw(M):this.lineralizeSegments(a,M).pipe((0,jn.zg)(V=>this.expandSegment(t,e,r,V.concat(l.slice(D)),h,!1)))}matchSegmentAgainstRoute(t,e,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,at.U)(V=>(r._loadedConfig=V,new $t(a,{})))):(0,qe.of)(new $t(a,{}));const{matched:h,consumedSegments:m,lastChild:b}=Rm(e,r,a);if(!h)return Lc(e);const D=a.slice(b);return this.getChildConfig(t,r,a).pipe((0,jn.zg)(M=>{const V=M.module,$=M.routes,{segmentGroup:re,slicedSegments:ve}=Sp(e,m,D,$),Se=new $t(re.segments,re.children);if(0===ve.length&&Se.hasChildren())return this.expandChildren(V,$,Se).pipe((0,at.U)(ot=>new $t(m,ot)));if(0===$.length&&0===ve.length)return(0,qe.of)(new $t(m,{}));const rt=Ws(r)===l;return this.expandSegment(V,Se,$,ve,rt?mt:l,!0).pipe((0,at.U)(Nt=>new $t(m.concat(Nt.segments),Nt.children)))}))}getChildConfig(t,e,r){return e.children?(0,qe.of)(new Ah(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,qe.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,jn.zg)(a=>{return a?this.configLoader.load(t.injector,e).pipe((0,at.U)(l=>(e._loadedConfig=l,l))):(n=e,new Rt.y(t=>t.error(Em(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,qe.of)(new Ah([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(h=>{const m=t.get(h);let b;if((n=m)&&Io(n.canLoad))b=m.canLoad(e,r);else{if(!Io(m))throw new Error("Invalid CanLoad guard");b=m(e,r)}var n;return jr(b)});return(0,qe.of)(l).pipe(Nh(),(0,Xn.b)(h=>{if(!Tl(h))return;const m=Em(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,at.U)(h=>!0===h))}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,qe.of)(r);if(a.numberOfChildren>1||!a.children[mt])return PI(t.redirectTo);a=a.children[mt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const l=this.createSegmentGroup(t,e.root,r,a);return new ka(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return er(t,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);r[l]=e[m]}else r[l]=a}),r}createSegmentGroup(t,e,r,a){const l=this.createSegments(t,e.segments,r,a);let h={};return er(e.children,(m,b)=>{h[b]=this.createSegmentGroup(t,m,r,a)}),new $t(l,h)}createSegments(t,e,r,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,a):this.findOrReturn(l,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function k0(n){const t={};for(const r of Object.keys(n.children)){const l=k0(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[mt]){const t=n.children[mt];return new $t(n.segments.concat(t.segments),t.children)}return n}(new $t(n.segments,t))}class Np{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qi{constructor(t,e){this.component=t,this.route=e}}function Mw(n,t,e){const r=n._root;return Fm(r,t?t._root:null,e,[r.value])}function Pm(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Fm(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=yl(t);return n.children.forEach(h=>{(function(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ra(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,t.url)||!qs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(n,t)||!qs(n.queryParams,t.queryParams);case"paramsChange":default:return!Th(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new Np(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Fm(n,t,l.component?m?m.children:null:e,r,a),b&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Qi(m.outlet.component,h))}else h&&Mp(t,m,a),a.canActivateChecks.push(new Np(r)),Fm(n,null,l.component?m?m.children:null:e,r,a)})(h,l[h.value.outlet],e,r.concat([h.value]),a),delete l[h.value.outlet]}),er(l,(h,m)=>Mp(h,e.getContext(m),a)),a}function Mp(n,t,e){const r=yl(n),a=n.value;er(r,(l,h)=>{Mp(l,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Qi(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class R0{}function Lm(n){return new Rt.y(t=>t.error(n))}class Ow{constructor(t,e,r,a,l,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=Sp(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mt);if(null===e)return null;const r=new bl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Qo(r,e),l=new wl(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=Ch(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const h=e.children[l],m=Iw(t,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const a=Vm(r);return a.sort((t,e)=>t.value.outlet===mt?-1:e.value.outlet===mt?1:t.value.outlet.localeCompare(e.value.outlet)),a}processSegment(t,e,r,a){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,r,a);if(null!==h)return h}return Sw(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!M0(t,e,r,a))return null;let l,h=[],m=[];if("**"===t.path){const $=r.length>0?wu(r).parameters:{};l=new bl(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(t),Ws(t),t.component,t,O0(e),ZI(e)+r.length,Um(t))}else{const $=Rm(e,t,r);if(!$.matched)return null;h=$.consumedSegments,m=r.slice($.lastChild),l=new bl(h,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vc(t),Ws(t),t.component,t,O0(e),ZI(e)+h.length,Um(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:N}=Sp(e,h,m,b.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&D.hasChildren()){const $=this.processChildren(b,D);return null===$?null:[new Qo(l,$)]}if(0===b.length&&0===N.length)return[new Qo(l,[])];const M=Ws(t)===a,V=this.processSegment(b,D,N,M?mt:a);return null===V?null:[new Qo(l,V)]}}function Fw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Vm(n){const t=[],e=new Set;for(const r of n){if(!Fw(r)){t.push(r);continue}const a=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Vm(r.children);t.push(new Qo(r.value,a))}return t.filter(r=>!e.has(r))}function O0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ZI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Vc(n){return n.data||{}}function Um(n){return n.resolve||{}}function F0(n){return sr(t=>{const e=n(t);return e?(0,pn.D)(e).pipe((0,at.U)(()=>t)):(0,qe.of)(t)})}class KI extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bm=new o.OlP("ROUTES");class jm{constructor(t,e,r,a){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,at.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Ah(Dm(h.injector.get(Bm,void 0,o.XFs.Self|o.XFs.Optional)).map(S0),h)}),Eo(l=>{throw e._loader$=void 0,l}));return e._loader$=new hl.c(a,()=>new an.xQ).pipe((0,Do.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,pn.D)(this.loader.load(t)):jr(t()).pipe((0,jn.zg)(e=>e instanceof o.YKP?(0,qe.of)(e):(0,pn.D)(this.compiler.compileModuleAsync(e))))}}class Uw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new El,this.attachRef=null}}class El{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class QI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Bw(n){throw n}function jw(n,t,e){return t.parse("/")}function Dl(n,t){return(0,qe.of)(null)}const $w={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(e,r,a,l,h,m,b,D){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new an.xQ,this.errorHandler=Bw,this.malformedUriErrorHandler=jw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dl,afterPreactivation:Dl},this.urlHandlingStrategy=new QI,this.routeReuseStrategy=new KI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const V=h.get(o.R0b);this.isNgZoneEnabled=V instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new ka(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jm(m,b,$=>this.triggerEvent(new hi($)),$=>this.triggerEvent(new ur($))),this.routerState=Nm(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Pn(a=>0!==a.id),(0,at.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),sr(a=>{let l=!1,h=!1;return(0,qe.of)(a).pipe((0,Xn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sr(m=>{const b=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Hm(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,qe.of)(m).pipe(sr(M=>{const V=this.transitions.getValue();return r.next(new U(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Jr.E:Promise.resolve(M)}),function(n,t,e,r){return sr(a=>function(n,t,e,r,a){return new LI(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,at.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,t,e,r,a){return(0,jn.zg)(l=>function(n,t,e,r,a="emptyOnly",l="legacy"){try{const h=new Ow(n,t,e,r,a,l).recognize();return null===h?Lm(new R0):(0,qe.of)(h)}catch(h){return Lm(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,a).pipe((0,at.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new Ze(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:$,source:re,restoredState:ve,extras:Se}=m,rt=new U(V,this.serializeUrl($),re,ve);r.next(rt);const Qe=Nm($,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:Qe,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Jr.E}),F0(m=>{const{targetSnapshot:b,id:D,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.beforePreactivation(b,{navigationId:D,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,Xn.b)(m=>{const b=new ze(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,at.U)(m=>Object.assign(Object.assign({},m),{guards:Mw(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,t){return(0,jn.zg)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,qe.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,pn.D)(n).pipe((0,jn.zg)(a=>function(n,t,e,r,a){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const b=Pm(m,t,a);let D;if(function(n){return n&&Io(n.canDeactivate)}(b))D=jr(b.canDeactivate(n,t,e,r));else{if(!Io(b))throw new Error("Invalid CanDeactivate guard");D=jr(b(n,t,e,r))}return D.pipe(Qn())});return(0,qe.of)(h).pipe(Nh())}(a.component,a.route,e,t,r)),Qn(a=>!0!==a,!0))}(h,r,a,n).pipe((0,jn.zg)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,t,e,r){return(0,pn.D)(t).pipe(Ac(a=>Yi(function(n,t){return null!==n&&t&&t(new Sa(n)),(0,qe.of)(!0)}(a.route.parent,r),function(n,t){return null!==n&&t&&t(new Na(n)),(0,qe.of)(!0)}(a.route,r),function(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>To(()=>{const m=h.guards.map(b=>{const D=Pm(b,h.node,e);let N;if(function(n){return n&&Io(n.canActivateChild)}(D))N=jr(D.canActivateChild(r,n));else{if(!Io(D))throw new Error("Invalid CanActivateChild guard");N=jr(D(r,n))}return N.pipe(Qn())});return(0,qe.of)(m).pipe(Nh())}));return(0,qe.of)(l).pipe(Nh())}(n,a.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qe.of)(!0);const a=r.map(l=>To(()=>{const h=Pm(l,t,e);let m;if(function(n){return n&&Io(n.canActivate)}(h))m=jr(h.canActivate(t,n));else{if(!Io(h))throw new Error("Invalid CanActivate guard");m=jr(h(t,n))}return m.pipe(Qn())}));return(0,qe.of)(a).pipe(Nh())}(n,a.route,e))),Qn(a=>!0!==a,!0))}(r,l,n,t):(0,qe.of)(m)),(0,at.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Xn.b)(m=>{if(Tl(m.guardsResult)){const D=Em(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const b=new Ut(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),F0(m=>{if(m.guards.canActivateChecks.length)return(0,qe.of)(m).pipe((0,Xn.b)(b=>{const D=new nn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),sr(b=>{let D=!1;return(0,qe.of)(b).pipe(function(n,t){return(0,jn.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,qe.of)(e);let l=0;return(0,pn.D)(a).pipe(Ac(h=>function(n,t,e,r){return function(n,t,e,r){const a=Object.keys(n);if(0===a.length)return(0,qe.of)({});const l={};return(0,pn.D)(a).pipe((0,jn.zg)(h=>function(n,t,e,r){const a=Pm(n,t,r);return jr(a.resolve?a.resolve(t,e):a(t,e))}(n[h],t,e,r).pipe((0,Xn.b)(m=>{l[h]=m}))),pl(1),(0,jn.zg)(()=>Object.keys(l).length===a.length?(0,qe.of)(l):Jr.E))}(n._resolve,n,t,r).pipe((0,at.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Ch(n,e).resolve),null)))}(h.route,r,n,t)),(0,Xn.b)(()=>l++),pl(1),(0,jn.zg)(h=>l===a.length?(0,qe.of)(e):Jr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Xn.b)(b=>{const D=new or(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}))}),F0(m=>{const{targetSnapshot:b,id:D,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:$}}=m;return this.hooks.afterPreactivation(b,{navigationId:D,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!$})}),(0,at.U)(m=>{const b=function(n,t,e){const r=Cl(n,t._root,e?e._root:void 0);return new Ep(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Xn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,at.U)(r=>(new Ap(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Xn.b)({next(){l=!0},complete(){l=!0}}),function(n){return t=>t.lift(new T(n))}(()=>{var m;if(!l&&!h){const b=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,b)):this.cancelNavigationTransition(a,b)}(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),Eo(m=>{if(h=!0,function(n){return n&&n[mp]}(m)){const b=Tl(m.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const D=new fe(a.id,this.serializeUrl(a.extractedUrl),m.message);r.next(D),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hm(a.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new Ae(a.id,this.serializeUrl(a.extractedUrl),m);r.next(b);try{a.resolve(this.errorHandler(m))}catch(D){a.reject(D)}}return Jr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=r,m={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(h,a,l,m)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const a=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!a||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Mh(e),this.config=e.map(S0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,D=a||this.routerState.root,N=b?this.currentUrlTree.fragment:h;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,t,e,r,a){if(0===e.length)return _(t.root,t.root,t,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let t=0,e=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return er(l.outlets,(b,D)=>{m[D]="string"==typeof b?b.split("/"):b}),[...a,{outlets:m}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&a.push(m))}),a):[...a,l]},[]);return new S(e,t,r)}(e);if(l.toRoot())return _(t.root,new $t([],{}),t,r,a);const h=function(n,t,e){if(n.isAbsolute)return new X(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new X(l,l===t.root,0)}const r=v(n.commands[0])?0:1;return function(n,t,e){let r=n,a=t,l=e;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new X(r,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),m=h.processChildren?Gt(h.segmentGroup,h.index,l.commands):st(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,m,t,r,a)}(D,this.currentUrlTree,e,M,null!=N?N:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Tl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},$w):!1===r?Object.assign({},Hw):r,Tl(e))return Mc(this.currentUrlTree,e,a);const l=this.parseUrl(e);return Mc(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const l=e[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,l,h){var m,b;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),N=Hm(r)&&D&&!Hm(D.source),$=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===e.toString();if(N&&$)return Promise.resolve(!0);let re,ve,Se;h?(re=h.resolve,ve=h.reject,Se=h.promise):Se=new Promise((Nt,ot)=>{re=Nt,ve=ot});const rt=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Qe=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:rt,targetPageId:Qe,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:re,reject:ve,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new fe(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.DyG),o.LFG(yh),o.LFG(El),o.LFG(St),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Hm(n){return"imperative"!==n}let Oh=(()=>{class n{constructor(e,r,a,l,h){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||mt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new qm(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(El),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class qm{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===vl?this.route:t===El?this.childContexts:this.parent.get(t,e)}}class V0{}class B0{preload(t,e){return(0,qe.of)(null)}}let zm=(()=>{class n{constructor(e,r,a,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new jm(r,a,D=>e.triggerEvent(new hi(D)),D=>e.triggerEvent(new ur(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(e=>e instanceof te),Ac(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,pn.D)(a).pipe((0,Mi.J)(),(0,at.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,qe.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,jn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nr),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(V0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Bc=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fi&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new fi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nr),o.LFG(tu),o.LFG(void 0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=new o.OlP("ROUTER_CONFIGURATION"),Gw=new o.OlP("ROUTER_FORROOT_GUARD"),qw=[St,{provide:yh,useClass:Cu},{provide:Nr,useFactory:function(n,t,e,r,a,l,h,m={},b,D){const N=new Nr(null,n,t,e,r,a,l,Dm(h));return b&&(N.urlHandlingStrategy=b),D&&(N.routeReuseStrategy=D),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(m,N),m.enableTracing&&N.events.subscribe(M=>{var V,$;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===($=console.groupEnd)||void 0===$||$.call(console)}),N},deps:[yh,El,St,o.zs3,o.v3s,o.Sil,Bm,Il,[class{},new o.FiY],[class{},new o.FiY]]},El,{provide:vl,useFactory:function(n){return n.routerState.root},deps:[Nr]},{provide:o.v3s,useClass:o.EAV},zm,B0,class{preload(t,e){return e().pipe(Eo(()=>(0,qe.of)(null)))}},{provide:Il,useValue:{enableTracing:!1}}];function j0(){return new o.PXZ("Router",Nr)}let $0=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[qw,H0(e),{provide:Gw,useFactory:eA,deps:[[Nr,new o.FiY,new o.tp0]]},{provide:Il,useValue:r||{}},{provide:ge,useFactory:zw,deps:[Q,[new o.tBr(oe),new o.FiY],Il]},{provide:Bc,useFactory:gx,deps:[Nr,tu,Il]},{provide:V0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:B0},{provide:o.PXZ,multi:!0,useFactory:j0},[Z0,{provide:o.ip1,multi:!0,useFactory:Ww,deps:[Z0]},{provide:Yw,useFactory:rA,deps:[Z0]},{provide:o.tb,multi:!0,useExisting:Yw}]]}}static forChild(e){return{ngModule:n,providers:[H0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gw,8),o.LFG(Nr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function gx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Bc(n,t,e)}function zw(n,t,e={}){return e.useHash?new xe(n,t):new Te(n,t)}function eA(n){return"guarded"}function H0(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Bm,multi:!0,useValue:n}]}let Z0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new an.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(m=>r=m),l=this.injector.get(Nr),h=this.injector.get(Il);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Il),a=this.injector.get(zm),l=this.injector.get(Bc),h=this.injector.get(Nr),m=this.injector.get(o.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ww(n){return n.appInitializer.bind(n)}function rA(n){return n.bootstrapListener.bind(n)}const Yw=new o.OlP("Router Initializer");var se=F(8239),Wm=F(7841),Ym=F(3637),tr=F(9396);function Ct(){return n=>n.lift(new Kw)}class Kw{call(t,e){return e.subscribe(new Jw(t))}}class Jw extends Jn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ta{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Qw(t,this.compare,this.keySelector))}}class Qw extends Jn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:a}=this;e=a?a(t):t}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}var He,Xi=F(8939),La=(F(4828),F(3394)),Ys=F(8026),$c=F(3910),Va=F(5422),Dt=F(3854),eC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Al={},Ph=Ph||{},bt=eC||self;function Fh(){}function tC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function kp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var rC="closure_uid_"+(1e9*Math.random()>>>0),sA=0;function _x(n,t,e){return n.call.apply(n.bind,arguments)}function iC(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(t,a)}}return function(){return n.apply(t,arguments)}}function Qr(n,t,e){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_x:iC).apply(null,arguments)}function Km(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[a].apply(r,h)}}function Hc(){this.s=this.s,this.o=this.o}var vx={};Hc.prototype.s=!1,Hc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,rC)&&n[rC]||(n[rC]=++sA)}(this);delete vx[n]}},Hc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},aA=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&t.call(e,a[l],l,n)};function uA(n){return Array.prototype.concat.apply([],arguments)}function sC(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function G0(n){return/^[\s\xa0]*$/.test(n)}var gi,lA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ws(n,t){return-1!=n.indexOf(t)}function Ua(n,t){return n<t?-1:n>t?1:0}e:{var oC=bt.navigator;if(oC){var q0=oC.userAgent;if(q0){gi=q0;break e}}gi=""}function Rp(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function z0(n){const t={};for(const e in n)t[e]=n[e];return t}var Jm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aC(n,t){let e,r;for(let a=1;a<arguments.length;a++){for(e in r=arguments[a],r)n[e]=r[e];for(let l=0;l<Jm.length;l++)e=Jm[l],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Ba(n){return Ba[" "](n),n}Ba[" "]=Fh;var Sl,n,cA=ws(gi,"Opera"),Op=ws(gi,"Trident")||ws(gi,"MSIE"),Qm=ws(gi,"Edge"),W0=Qm||Op,Y0=ws(gi,"Gecko")&&!(ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge"))&&!(ws(gi,"Trident")||ws(gi,"MSIE"))&&!ws(gi,"Edge"),dA=ws(gi.toLowerCase(),"webkit")&&!ws(gi,"Edge");function lC(){var n=bt.document;return n?n.documentMode:void 0}e:{var Nl="",Pp=(n=gi,Y0?/rv:([^\);]+)(\)|;)/.exec(n):Qm?/Edge\/([\d\.]+)/.exec(n):Op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dA?/WebKit\/(\S+)/.exec(n):cA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pp&&(Nl=Pp?Pp[1]:""),Op){var Ml=lC();if(null!=Ml&&Ml>parseFloat(Nl)){Sl=String(Ml);break e}}Sl=Nl}var Fp={};function Lh(){return t=Fp,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=lA(String(Sl)).split("."),e=lA("9").split("."),r=Math.max(t.length,e.length);for(let h=0;0==n&&h<r;h++){var a=t[h]||"",l=e[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Ua(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Ua(0==a[2].length,0==l[2].length)||Ua(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var t}var cC=bt.document&&Op&&(lC()||parseInt(Sl,10))||void 0,Q0=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",Fh,t),bt.removeEventListener("test",Fh,t)}catch(e){}return n}();function Xr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Vh(n,t){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Y0){e:{try{Ba(t.nodeName);var a=!0;break e}catch(l){}a=!1}a||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vh.Z.h.call(this)}}Xr.prototype.h=function(){this.defaultPrevented=!0},Hr(Vh,Xr);var Xm={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lp="closure_listenable_"+(1e6*Math.random()|0),dC=0;function wx(n,t,e,r,a){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=a,this.key=++dC,this.ca=this.fa=!1}function Vp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Up(n){this.src=n,this.g={},this.h=0}function X0(n,t){var e=t.type;if(e in n.g){var l,r=n.g[e],a=oA(r,t);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Vp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function e_(n,t,e,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==r)return a}return-1}Up.prototype.add=function(n,t,e,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=e_(n,t,r,a);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new wx(t,this.src,l,!!r,a)).fa=e,n.push(t)),t};var ev="closure_lm_"+(1e6*Math.random()|0),tv={};function Cs(n,t,e,r,a){if(r&&r.once)return fA(n,t,e,r,a);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Cs(n,t[l],e,r,a);return null}return e=nv(e),n&&n[Lp]?n.N(t,e,kp(r)?!!r.capture:!!r,a):hC(n,t,e,!1,r,a)}function hC(n,t,e,r,a,l){if(!t)throw Error("Invalid event type");var h=kp(a)?!!a.capture:!!a,m=Bp(n);if(m||(n[ev]=m=new Up(n)),(e=m.add(t,e,r,h,l)).proxy)return e;if(r=function(){var t=mA;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Q0||(a=h),void 0===a&&(a=!1),n.addEventListener(t.toString(),r,a);else if(n.attachEvent)n.attachEvent(gA(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function fA(n,t,e,r,a){if(Array.isArray(t)){for(var l=0;l<t.length;l++)fA(n,t[l],e,r,a);return null}return e=nv(e),n&&n[Lp]?n.O(t,e,kp(r)?!!r.capture:!!r,a):hC(n,t,e,!0,r,a)}function pA(n,t,e,r,a){if(Array.isArray(t))for(var l=0;l<t.length;l++)pA(n,t[l],e,r,a);else r=kp(r)?!!r.capture:!!r,e=nv(e),n&&n[Lp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=e_(l=n.g[t],e,r,a))&&(Vp(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=Bp(n))&&(t=n.g[t.toString()],n=-1,t&&(n=e_(t,e,r,a)),(e=-1<n?t[n]:null)&&t_(e))}function t_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Lp])X0(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(gA(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=Bp(t))?(X0(e,n),0==e.h&&(e.src=null,t[ev]=null)):Vp(n)}}}function gA(n){return n in tv?tv[n]:tv[n]="on"+n}function mA(n,t){if(n.ca)n=!0;else{t=new Vh(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&t_(n),n=e.call(r,t)}return n}function Bp(n){return(n=n[ev])instanceof Up?n:null}var n_="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(n){return"function"==typeof n?n:(n[n_]||(n[n_]=function(t){return n.handleEvent(t)}),n[n_])}function ei(){Hc.call(this),this.i=new Up(this),this.P=this,this.I=null}function mi(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Xr(t,n);else if(t instanceof Xr)t.target=t.target||n;else{var a=t;aC(t=new Xr(r,n),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var h=t.g=e[l];a=jp(h,r,!0,t)&&a}if(a=jp(h=t.g=n,r,!0,t)&&a,a=jp(h,r,!1,t)&&a,e)for(l=0;l<e.length;l++)a=jp(h=t.g=e[l],r,!1,t)&&a}function jp(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,l=0;l<t.length;++l){var h=t[l];if(h&&!h.ca&&h.capture==e){var m=h.listener,b=h.ia||h.src;h.fa&&X0(n.i,h),a=!1!==m.call(b,r)&&a}}return a&&!r.defaultPrevented}Hr(ei,Hc),ei.prototype[Lp]=!0,ei.prototype.removeEventListener=function(n,t,e,r){pA(this,n,t,e,r)},ei.prototype.M=function(){if(ei.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Vp(e[r]);delete n.g[t],n.h--}}this.I=null},ei.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},ei.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var rv=bt.JSON.stringify;function fC(){var n=_C;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Ao,pC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gC,n=>n.reset());class gC{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function mC(n){bt.setTimeout(()=>{throw n},0)}function iv(n,t){Ao||function(){var n=bt.Promise.resolve(void 0);Ao=function(){n.then(Cx)}}(),ov||(Ao(),ov=!0),_C.add(n,t)}var ov=!1,_C=new class{constructor(){this.h=this.g=null}add(t,e){const r=pC.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function Cx(){for(var n;n=fC();){try{n.h.call(n.g)}catch(e){mC(e)}var t=pC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}ov=!1}function $p(n,t){ei.call(this),this.h=n||1,this.g=t||bt,this.j=Qr(this.kb,this),this.l=Date.now()}function av(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function uv(n,t,e){if("function"==typeof n)e&&(n=Qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:bt.setTimeout(n,t||0)}function yC(n){n.g=uv(()=>{n.g=null,n.i&&(n.i=!1,yC(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Hr($p,ei),(He=$p.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mi(this,"tick"),this.da&&(av(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){$p.Z.M.call(this),av(this),delete this.g};class lv extends Hc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:yC(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hp(n){Hc.call(this),this.h=n,this.g={}}Hr(Hp,Hc);var vC=[];function Zp(n,t,e,r){Array.isArray(e)||(e&&(vC[0]=e.toString()),e=vC);for(var a=0;a<e.length;a++){var l=Cs(t,e[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function r_(n){Rp(n.g,function(t,e){this.g.hasOwnProperty(e)&&t_(t)},n),n.g={}}function i_(){this.g=!0}function Zc(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return rv(e)}catch(m){return t}}(n,e)+(r?" "+r:"")})}Hp.prototype.M=function(){Hp.Z.M.call(this),r_(this)},Hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},i_.prototype.Aa=function(){this.g=!1},i_.prototype.info=function(){};var Eu={},bA=null;function s_(){return bA=bA||new ei}function hv(n){Xr.call(this,Eu.Ma,n)}function Uh(n){const t=s_();mi(t,new hv(t,n))}function fv(n,t){Xr.call(this,Eu.STAT_EVENT,n),this.stat=t}function ki(n){const t=s_();mi(t,new fv(t,n))}function pv(n,t){Xr.call(this,Eu.Na,n),this.size=t}function Ks(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},t)}Eu.Ma="serverreachability",Hr(hv,Xr),Eu.STAT_EVENT="statevent",Hr(fv,Xr),Eu.Na="timingevent",Hr(pv,Xr);var Gc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gv(){}function qc(){}gv.prototype.h=null;var mv,Bh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zc(){Xr.call(this,"d")}function Wc(){Xr.call(this,"c")}function jh(){}function $h(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Hp(this),this.P=CC,this.W=new $p(n=W0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wC}function wC(){this.i=null,this.g="",this.h=!1}Hr(zc,Xr),Hr(Wc,Xr),Hr(jh,gv),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},mv=new jh;var CC=45e3,_v={},Hh={};function yv(n,t,e){n.K=1,n.v=zp(na(t)),n.s=e,n.U=!0,TC(n,null)}function TC(n,t){n.F=Date.now(),Gp(n),n.A=na(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Cv(e.h,"t",r),n.C=0,e=n.l.H,n.h=new wC,n.g=Mv(n.l,e?t:null,!n.s),0<n.O&&(n.L=new lv(Qr(n.Ia,n,n.g),n.O)),Zp(n.V,n.g,"readystatechange",n.gb),t=n.H?z0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Uh(1),function(n,t,e,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var D=m[b].split("=");if(1<D.length){var N=D[0];D=D[1];var M=N.split("_");h=2<=M.length&&"type"==M[1]?h+(N+"=")+D+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Yc(n,t,e){let a,r=!0;for(;!n.I&&n.C<e.length;){if(a=EC(n,e),a==Hh){4==t&&(n.o=4,ki(14),r=!1),Zc(n.j,n.m,null,"[Incomplete Response]");break}if(a==_v){n.o=4,ki(15),Zc(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Zc(n.j,n.m,a,null),bv(n,a)}vv(n)&&a!=Hh&&a!=_v&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Rl(t),t.L=!0,ki(11))):(Zc(n.j,n.m,e,"[Invalid Chunked Response]"),Kc(n),qp(n))}function EC(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Hh:(e=Number(t.substring(e,r)),isNaN(e)?_v:(r+=1)+e>t.length?Hh:(t=t.substr(r,e),n.C=r+e,t))}function Gp(n){n.Y=Date.now()+n.P,DC(n,n.P)}function DC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ks(Qr(n.eb,n),t)}function Du(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function qp(n){0==n.l.G||n.I||Iv(n.l,n)}function Kc(n){Du(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,av(n.W),r_(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function bv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Tv(e.i,n)))if(e.I=n.N,!n.J&&Tv(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ks(Qr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Iu(e),ja(e)}kl(e),ki(18)}if(1>=c_(e.i)&&e.ka){try{e.ka()}catch(D){}e.ka=void 0}}else Ol(e,11)}else if((n.J||e.g==n)&&Iu(e),!G0(t))for(a=e.Ca.g.parse(t),t=0;t<a.length;t++){let D=a[t];if(e.U=D[0],D=D[1],2==e.G)if("c"==D[0]){e.J=D[1],e.la=D[2];const N=D[3];null!=N&&(e.ma=N,e.h.info("VER="+e.ma));const M=D[4];null!=M&&(e.za=M,e.h.info("SVER="+e.za));const V=D[5];null!=V&&"number"==typeof V&&0<V&&(e.K=r=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const $=n.g;if($){const re=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var l=r.i;!l.g&&(ws(re,"spdy")||ws(re,"quic")||ws(re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(d_(l,l.h),l.h=null))}if(r.D){const ve=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,$n(r.F,r.D,ve))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((r=e).oa=Nv(r,r.H?r.la:null,r.W),h.J){Ev(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(Du(m),Gp(m)),r.g=h}else td(r);0<e.l.length&&Yh(e)}else"stop"!=D[0]&&"close"!=D[0]||Ol(e,7);else 3==e.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Ol(e,7):ti(e):"noop"!=D[0]&&e.j&&e.j.wa(D),e.A=0)}Uh(4)}catch(D){}}function IC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(tC(n)||"string"==typeof n)aA(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(tC(n)||"string"==typeof n){e=[];for(var r=n.length,a=0;a<r;a++)e.push(a)}else for(a in e=[],r=0,n)e[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(tC(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var l=0;l<a;l++)t.call(void 0,r[l],e&&e[l],n)}}function Zh(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zh)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function o_(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];En(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var a={};for(e=t=0;t<n.g.length;)En(a,r=n.g[t])||(n.g[e++]=r,a[r]=1),t++;n.g.length=e}}function En(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(He=$h.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const t=this.L;t&&3==Qs(n)?t.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const N=Qs(this.g);var t=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||W0||this.g&&(this.h.h||this.g.ga()||BC(this.g)))){this.I||4!=N||7==t||Uh(8==t||0>=M?3:2),Du(this);var e=this.g.ba();this.N=e;t:if(vv(this)){var r=BC(this.g);n="";var a=r.length,l=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kc(this),qp(this);var h="";break t}this.h.i=new bt.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:l&&t==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,e),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G0(m)){var D=m;break t}}D=null}if(!(e=D)){this.i=!1,this.o=3,ki(12),Kc(this),qp(this);break e}Zc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bv(this,e)}this.U?(Yc(this,N,h),W0&&this.i&&3==N&&(Zp(this.V,this.W,"tick",this.fb),this.W.start())):(Zc(this.j,this.m,h,null),bv(this,h)),4==N&&Kc(this),this.i&&!this.I&&(4==N?Iv(this.l,this):(this.i=!1,Gp(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),Kc(this),qp(this)}}}catch(N){}},He.fb=function(){if(this.g){var n=Qs(this.g),t=this.g.ga();this.C<t.length&&(Du(this),Yc(this,n,t),this.i&&4!=n&&Gp(this))}},He.cancel=function(){this.I=!0,Kc(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Uh(3),ki(17)),Kc(this),this.o=2,qp(this)):DC(this,this.Y-n)},(He=Zh.prototype).R=function(){o_(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},He.T=function(){return o_(this),this.g.concat()},He.get=function(n,t){return En(this.h,n)?this.h[n]:t},He.set=function(n,t){En(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},He.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var a=e[r],l=this.get(a);n.call(t,l,a,this)}};var a_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function es(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof es){this.g=void 0!==t?t:n.g,Gh(this,n.j),this.s=n.s,wv(this,n.i),u_(this,n.m),this.l=n.l,t=n.h;var e=new Jp;e.i=t.i,t.g&&(e.g=new Zh(t.g),e.h=t.h),AC(this,e),this.o=n.o}else n&&(e=String(n).match(a_))?(this.g=!!t,Gh(this,e[1]||"",!0),this.s=Wp(e[2]||""),wv(this,e[3]||"",!0),u_(this,e[4]),this.l=Wp(e[5]||"",!0),AC(this,e[6]||"",!0),this.o=Wp(e[7]||"")):(this.g=!!t,this.h=new Jp(null,this.g))}function na(n){return new es(n)}function Gh(n,t,e){n.j=e?Wp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function wv(n,t,e){n.i=e?Wp(t,!0):t}function u_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function AC(n,t,e){t instanceof Jp?(n.h=t,function(n,t){t&&!n.j&&(xl(n),n.i=null,n.g.forEach(function(e,r){var a=r.toLowerCase();r!=a&&(OC(this,r),Cv(this,a,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Yp(t,kC)),n.h=new Jp(t,n.g))}function $n(n,t,e){n.h.set(t,e)}function zp(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Kp),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Kp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}es.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Yp(t,l_,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Yp(t,l_,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Yp(e,"/"==e.charAt(0)?xC:MC,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Yp(e,RC)),n.join("")};var l_=/[#\/\?@]/g,MC=/[#\?:]/g,xC=/[#\?]/g,kC=/[#\?@]/g,RC=/#/g;function Jp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xl(n){n.g||(n.g=new Zh,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),a=null;if(0<=r){var l=n[e].substring(0,r);a=n[e].substring(r+1)}else l=n[e];t(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function OC(n,t){xl(n),t=Qp(n,t),En(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,En((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&o_(n)))}function PC(n,t){return xl(n),t=Qp(n,t),En(n.g.h,t)}function Cv(n,t,e){OC(n,t),0<e.length&&(n.i=null,n.g.set(Qp(n,t),sC(e)),n.h+=e.length)}function Qp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function LC(n){this.l=n||Ex,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=Jp.prototype).add=function(n,t){xl(this),this.i=null,n=Qp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},He.forEach=function(n,t){xl(this),this.g.forEach(function(e,r){aA(e,function(a){n.call(t,a,r,this)},this)},this)},He.T=function(){xl(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var a=n[r],l=0;l<a.length;l++)e.push(t[r]);return e},He.R=function(n){xl(this);var t=[];if("string"==typeof n)PC(this,n)&&(t=uA(t,this.g.get(Qp(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=uA(t,n[e])}return t},He.set=function(n,t){return xl(this),this.i=null,PC(this,n=Qp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},He.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var Ex=10;function EA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function c_(n){return n.h?1:n.g?n.g.size:0}function Tv(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function d_(n,t){n.g?n.g.add(t):n.h=t}function Ev(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function DA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return sC(n.i)}function Js(){}function Dx(){this.g=new Js}function Ix(n,t,e){const r=e||"";try{IC(n,function(a,l){let h=a;kp(a)&&(h=rv(a)),t.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function Xp(n,t,e,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(l){}}function qh(n){this.l=n.$b||null,this.j=n.ib||!1}function eg(n,t){ei.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LC.prototype.cancel=function(){if(this.i=DA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Js.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},Js.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},Hr(qh,gv),qh.prototype.g=function(){return new eg(this.l,this.j)},qh.prototype.i=function(n){return function(){return n}}({}),Hr(eg,ei);var Dv=0;function IA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jc(n)}function Jc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=eg.prototype).open=function(n,t){if(this.readyState!=Dv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Jc(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||bt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zh(this)),this.readyState=Dv},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?zh(this):Jc(this),3==this.readyState&&IA(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,zh(this))},He.Ta=function(n){this.g&&(this.response=n,zh(this))},He.ha=function(){this.g&&zh(this)},He.setRequestHeader=function(n,t){this.v.append(n,t)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(eg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AA=bt.JSON.parse;function lr(n){ei.call(this),this.headers=new Zh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VC,this.K=this.L=!1}Hr(lr,ei);var VC="",SA=/^https?$/i,NA=["POST","PUT"];function xA(n){return"content-type"==n.toLowerCase()}function UC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,tg(n),ng(n)}function tg(n){n.D||(n.D=!0,mi(n,"complete"),mi(n,"error"))}function Qc(n){if(n.h&&void 0!==Ph&&(!n.C[1]||4!=Qs(n)||2!=n.ba()))if(n.v&&4==Qs(n))uv(n.Fa,0,n);else if(mi(n,"readystatechange"),4==Qs(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===m){var a=String(n.H).match(a_)[1]||null;if(!a&&bt.self&&bt.self.location){var l=bt.self.location.protocol;a=l.substr(0,l.length-1)}r=!SA.test(a?a.toLowerCase():"")}e=r}if(e)mi(n,"complete"),mi(n,"success");else{n.m=6;try{var h=2<Qs(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",tg(n)}}finally{ng(n)}}}function ng(n,t){if(n.g){So(n);const e=n.g,r=n.C[0]?Fh:null;n.g=null,n.C=null,t||mi(n,"ready");try{e.onreadystatechange=r}catch(a){}}}function So(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Qs(n){return n.g?n.g.readyState:0}function BC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rg(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return Rp(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):$n(n,t,e))}function Ts(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Wh(n){this.za=0,this.l=[],this.h=new i_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ts("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ts("baseRetryDelayMs",5e3,n),this.$a=Ts("retryDelaySeedMs",1e4,n),this.Ya=Ts("forwardChannelMaxRetries",2,n),this.ra=Ts("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new LC(n&&n.concurrentRequestLimit),this.Ca=new Dx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ti(n){if(ig(n),3==n.G){var t=n.V++,e=na(n.F);$n(e,"SID",n.J),$n(e,"RID",t),$n(e,"TYPE","terminate"),$a(n,e),(t=new $h(n,n.h,t,void 0)).K=2,t.v=zp(na(e)),e=!1,bt.navigator&&bt.navigator.sendBeacon&&(e=bt.navigator.sendBeacon(t.v.toString(),"")),!e&&bt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Mv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gp(t)}Sv(n)}function ja(n){n.g&&(Rl(n),n.g.cancel(),n.g=null)}function ig(n){ja(n),n.u&&(bt.clearTimeout(n.u),n.u=null),Iu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Es(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Yh(n)}function Yh(n){EA(n.i)||n.m||(n.m=!0,iv(n.Ha,n),n.C=0)}function Xc(n,t){var e;e=t?t.m:n.V++;const r=na(n.F);$n(r,"SID",n.J),$n(r,"RID",e),$n(r,"AID",n.U),$a(n,r),n.o&&n.s&&rg(r,n.o,n.s),e=new $h(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=ed(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),d_(n.i,e),yv(e,r,t)}function $a(n,t){n.j&&IC({},function(e,r){$n(t,r,e)})}function ed(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Qr(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+e];-1==l?0<e?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<e;b++){let D=a[b].h;const N=a[b].g;if(D-=l,0>D)l=Math.max(0,a[b].h-100),m=!1;else try{Ix(N,h,"req"+D+"_")}catch(M){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function td(n){n.g||n.u||(n.Y=1,iv(n.Ga,n),n.A=0)}function kl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ks(Qr(n.Ga,n),Av(n,n.A)),n.A++,0))}function Rl(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function nd(n){n.g=new $h(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=na(n.oa);$n(t,"RID","rpc"),$n(t,"SID",n.J),$n(t,"CI",n.N?"0":"1"),$n(t,"AID",n.U),$a(n,t),$n(t,"TYPE","xmlhttp"),n.o&&n.s&&rg(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=zp(na(t)),e.s=null,e.U=!0,TC(e,n)}function Iu(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function Iv(n,t){var e=null;if(n.g==t){Iu(n),Rl(n),n.g=null;var r=2}else{if(!Tv(n.i,t))return;e=t.D,Ev(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var a=n.C;mi(r=s_(),new pv(r,e,t,a)),Yh(n)}else td(n);else if(3==(a=t.o)||0==a&&0<n.I||!(1==r&&function(n,t){return!(c_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ks(Qr(n.Ha,n,t),Av(n,n.C)),n.C++,0)))}(n,t)||2==r&&kl(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),a){case 1:Ol(n,5);break;case 4:Ol(n,10);break;case 3:Ol(n,6);break;default:Ol(n,2)}}function Av(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Ol(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Qr(n.jb,n);e||(e=new es("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||Gh(e,"https"),zp(e)),function(n,t){const e=new i_;if(bt.Image){const r=new Image;r.onload=Km(Xp,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Km(Xp,e,r,"TestLoadImage: error",!1,t),r.onabort=Km(Xp,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Km(Xp,e,r,"TestLoadImage: timeout",!1,t),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else ki(2);n.G=0,n.j&&n.j.va(t),Sv(n),ig(n)}function Sv(n){n.G=0,n.I=-1,n.j&&((0!=DA(n.i).length||0!=n.l.length)&&(n.i.i.length=0,sC(n.l),n.l.length=0),n.j.ua())}function Nv(n,t,e){let r=function(n){return n instanceof es?na(n):new es(n,void 0)}(e);if(""!=r.i)t&&wv(r,t+"."+r.i),u_(r,r.m);else{const a=bt.location;r=function(n,t,e,r){var a=new es(null,void 0);return n&&Gh(a,n),t&&wv(a,t),e&&u_(a,e),r&&(a.l=r),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,e)}return n.aa&&Rp(n.aa,function(a,l){$n(r,l,a)}),e=n.sa,(t=n.D)&&e&&$n(r,t,e),$n(r,"VER",n.ma),$a(n,r),r}function Mv(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new lr(e&&n.Ba&&!n.qa?new qh({ib:!0}):n.qa)).L=n.H,t}function xv(){}function sg(){if(Op&&!(10<=Number(cC)))throw Error("Environmental error: no available transport.")}function Ds(n,t){ei.call(this),this.g=new Wh(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!G0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!G0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Jh(this)}function jC(n){zc.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function kv(){Wc.call(this),this.status=1}function Jh(n){this.g=n}(He=lr.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:mv),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void UC(this,l)}n=e||"";const a=new Zh(this.headers);r&&IC(r,function(l,h){a.set(h,l)}),r=function(n){e:{var t=xA;const e=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<e;a++)if(a in r&&t.call(void 0,r[a],a,n)){t=a;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(a.T()),e=bt.FormData&&n instanceof bt.FormData,!(0<=oA(NA,t))||r||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{So(this),0<this.B&&((this.K=function(n){return Op&&Lh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=uv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){UC(this,l)}},He.pa=function(){void 0!==Ph&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mi(this,"complete"),mi(this,"abort"),ng(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ng(this,!0)),lr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Qc(this):this.cb())},He.cb=function(){Qc(this)},He.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),AA(t)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Wh.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new $h(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=z0(l),aC(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=ed(this,a,t),$n(e=na(this.F),"RID",n),$n(e,"CVER",22),this.D&&$n(e,"X-HTTP-Session-Id",this.D),$a(this,e),this.o&&l&&rg(e,this.o,l),d_(this.i,a),this.Ra&&$n(e,"TYPE","init"),this.ja?($n(e,"$req",t),$n(e,"SID","null"),a.$=!0,yv(a,e,null)):yv(a,e,t),this.G=2}}else 3==this.G&&(n?Xc(this,n):0==this.l.length||EA(this.i)||Xc(this))},He.Ga=function(){if(this.u=null,nd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ks(Qr(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ki(10),ja(this),nd(this))},He.ab=function(){null!=this.v&&(this.v=null,ja(this),kl(this),ki(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ki(2)):(this.h.info("Failed to ping google.com"),ki(1))},(He=xv.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},sg.prototype.g=function(n,t){return new Ds(n,t)},Hr(Ds,ei),Ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),iv(Qr(n.hb,n,t))),ki(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Nv(n,null,n.W),Yh(n)},Ds.prototype.close=function(){ti(this.g)},Ds.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Es(this.g,t)}else this.v?((t={}).__data__=rv(n),Es(this.g,t)):Es(this.g,n)},Ds.prototype.M=function(){this.g.j=null,delete this.j,ti(this.g),delete this.g,Ds.Z.M.call(this)},Hr(jC,zc),Hr(kv,Wc),Hr(Jh,xv),Jh.prototype.xa=function(){mi(this.g,"a")},Jh.prototype.wa=function(n){mi(this.g,new jC(n))},Jh.prototype.va=function(n){mi(this.g,new kv(n))},Jh.prototype.ua=function(){mi(this.g,"b")},sg.prototype.createWebChannel=sg.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,bC.COMPLETE="complete",qc.EventType=Bh,Bh.OPEN="a",Bh.CLOSE="b",Bh.ERROR="c",Bh.MESSAGE="d",ei.prototype.listen=ei.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var $C=Al.createWebChannelTransport=function(){return new sg},HC=Al.getStatEventTarget=function(){return s_()},Rv=Al.ErrorCode=Gc,Sx=Al.EventType=bC,RA=Al.Event=Eu,Ov=Al.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},OA=Al.FetchXmlHttpFactory=qh,og=Al.WebChannel=qc,PA=Al.XhrIo=lr;const ZC="@firebase/firestore";class Ri{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let Qh="9.6.0";const Au=new Va.Yd("@firebase/firestore");function GC(){return Au.logLevel}function Le(n,...t){if(Au.logLevel<=Va.in.DEBUG){const e=t.map(Pv);Au.debug(`Firestore (${Qh}): ${n}`,...e)}}function Mr(n,...t){if(Au.logLevel<=Va.in.ERROR){const e=t.map(Pv);Au.error(`Firestore (${Qh}): ${n}`,...e)}}function h_(n,...t){if(Au.logLevel<=Va.in.WARN){const e=t.map(Pv);Au.warn(`Firestore (${Qh}): ${n}`,...e)}}function Pv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function nt(n="Unexpected state"){const t=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+n;throw Mr(t),new Error(t)}function pt(n,t){n||nt()}function Be(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class qC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ri.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FA{constructor(t){this.t=t,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let a=this.i;const l=D=>this.i!==a?(a=this.i,e(D)):Promise.resolve();let h=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _i,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=h;t.enqueueRetryable((0,se.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},b=D=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>b(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?b(D):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _i)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new qC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pt(null===t||"string"==typeof t),new Ri(t)}}class Xh{constructor(t,e,r){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class LA{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new Xh(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=a=>{t.enqueueRetryable(()=>{return null!=(l=a).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const r=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pt("string"==typeof e.token),new Lv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Oi{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.p(r),this.T=r=>e.writeSequenceNumber(r))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function BA(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}Oi.I=-1;class Vv{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const a=BA(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%t.length))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function ef(n,t,e){return n.length===t.length&&n.every((r,a)=>e(r,t[a]))}function WC(n){return n+"\0"}class ni{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Me(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Me(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ni(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new ni(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Uv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function rd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Bv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class tf{constructor(t,e,r){void 0===e?e=0:e>t.length&&nt(),void 0===r?r=t.length-e:r>t.length-e&&nt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===tf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof tf?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=t.get(a),h=e.get(a);if(l<h)return-1;if(l>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class un extends tf{construct(t,e,r){return new un(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Me(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new un(e)}static emptyPath(){return new un([])}}const xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends tf{construct(t,e,r){return new Zr(t,e,r)}static isValidIdentifier(t){return xx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zr(["__name__"])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Me(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;a<t.length;){const m=t[a];if("\\"===m){if(a+1===t.length)throw new Me(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Me(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=b,a+=2}else"`"===m?(h=!h,a++):"."!==m||h?(r+=m,a++):(l(),a++)}if(l(),h)throw new Me(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zr(e)}static emptyPath(){return new Zr([])}}class nf{constructor(t){this.fields=t,t.sort(Zr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ef(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class cr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new cr(e)}static fromUint8Array(t){const e=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new cr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const jA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(n){if(pt(!!n),"string"==typeof n){let t=0;const e=jA.exec(n);if(pt(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rf(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function ag(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function f_(n){const t=n.mapValue.fields.__previous_value__;return ag(t)?f_(t):t}function sf(n){const t=Ha(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}function af(n){return null==n}function p_(n){return 0===n&&1/n==-1/0}function g_(n){return"number"==typeof n&&Number.isInteger(n)&&!p_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(un.fromString(t))}static fromName(t){return new Je(un.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new un(t.slice()))}}function id(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ag(n)?4:10:nt()}function ra(n,t){const e=id(n);if(e!==id(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return sf(n).isEqual(sf(t));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Ha(r.timestampValue),h=Ha(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return a=t,rf(n.bytesValue).isEqual(rf(a.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,a){return dr(r.geoPointValue.latitude)===dr(a.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(a.geoPointValue.longitude)}(n,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return dr(r.integerValue)===dr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=dr(r.doubleValue),h=dr(a.doubleValue);return l===h?p_(l)===p_(h):isNaN(l)&&isNaN(h)}return!1}(n,t);case 9:return ef(n.arrayValue.values||[],t.arrayValue.values||[],ra);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(Uv(l)!==Uv(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!ra(l[m],h[m])))return!1;return!0}(n,t);default:return nt()}var a}function sd(n,t){return void 0!==(n.values||[]).find(e=>ra(e,t))}function od(n,t){const e=id(n),r=id(t);if(e!==r)return Kt(e,r);switch(e){case 0:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const h=dr(a.integerValue||a.doubleValue),m=dr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,t);case 3:return m_(n.timestampValue,t.timestampValue);case 4:return m_(sf(n),sf(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(a,l){const h=rf(a),m=rf(l);return h.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const h=a.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const D=Kt(h[b],m[b]);if(0!==D)return D}return Kt(h.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const h=Kt(dr(a.latitude),dr(l.latitude));return 0!==h?h:Kt(dr(a.longitude),dr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(a,l){const h=a.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const D=od(h[b],m[b]);if(D)return D}return Kt(h.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(a,l){const h=a.fields||{},m=Object.keys(h),b=l.fields||{},D=Object.keys(b);m.sort(),D.sort();for(let N=0;N<m.length&&N<D.length;++N){const M=Kt(m[N],D[N]);if(0!==M)return M;const V=od(h[m[N]],b[D[N]]);if(0!==V)return V}return Kt(m.length,D.length)}(n.mapValue,t.mapValue);default:throw nt()}}function m_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=Ha(n),r=Ha(t),a=Kt(e.seconds,r.seconds);return 0!==a?a:Kt(e.nanos,r.nanos)}function ug(n){return __(n)}function __(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Ha(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rf(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=__(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${__(r.fields[m])}`;return l+"}"}(n.mapValue):nt();var t}function y_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function v_(n){return!!n&&"integerValue"in n}function b_(n){return!!n&&"arrayValue"in n}function w_(n){return!!n&&"nullValue"in n}function jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C_(n){return!!n&&"mapValue"in n}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return rd(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=uf(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=uf(n.arrayValue.values[e]);return t}return Object.assign({},n)}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!C_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=uf(e)}setAll(t){let e=Zr.emptyPath(),r={},a=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const b=this.getFieldsMap(e);this.applyChanges(b,r,a),r={},a=[],e=m.popLast()}h?r[m.lastSegment()]=uf(h):a.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());C_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ra(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];C_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){rd(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new yi(uf(this.value))}}function T_(n){const t=[];return rd(n.fields,(e,r)=>{const a=new Zr([e]);if(C_(r)){const l=T_(r.mapValue).fields;if(0===l.length)t.push(a);else for(const h of l)t.push(a.child(h))}else t.push(a)}),new nf(t)}class Ln{constructor(t,e,r,a,l){this.key=t,this.documentType=e,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ln(t,0,Lt.min(),yi.empty(),0)}static newFoundDocument(t,e,r){return new Ln(t,1,e,r,0)}static newNoDocument(t,e){return new Ln(t,2,e,yi.empty(),0)}static newUnknownDocument(t,e){return new Ln(t,3,e,yi.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Ln(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YC{constructor(t,e=null,r=[],a=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function $v(n,t=null,e=[],r=[],a=null,l=null,h=null){return new YC(n,t,e,r,a,l,h)}function lf(n){const t=Be(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+ug(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),af(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=hg(t.startAt)),t.endAt&&(e+="|ub:",e+=hg(t.endAt)),t.R=e}return t.R}function lg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!XC(n.orderBy[a],t.orderBy[a]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((e=n.filters[a]).op!==(r=t.filters[a]).op||!e.field.isEqual(r.field)||!ra(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ad(n.startAt,t.startAt)&&ad(n.endAt,t.endAt)}function cg(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Pi extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,r):new Rx(t,e,r):"array-contains"===e?new ZA(t,r):"in"===e?new Gr(t,r):"not-in"===e?new QC(t,r):"array-contains-any"===e?new GA(t,r):new Pi(t,e,r)}static P(t,e,r){return"in"===e?new $A(t,r):new HA(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(od(e,this.value)):null!==e&&id(this.value)===id(e)&&this.v(od(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Rx extends Pi{constructor(t,e,r){super(t,e,r),this.key=Je.fromName(r.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.v(e)}}class $A extends Pi{constructor(t,e){super(t,"in",e),this.keys=Hv(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class HA extends Pi{constructor(t,e){super(t,"not-in",e),this.keys=Hv(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Hv(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Je.fromName(r.referenceValue))}class ZA extends Pi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return b_(e)&&sd(e.arrayValue,this.value)}}class Gr extends Pi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&sd(this.value.arrayValue,e)}}class QC extends Pi{constructor(t,e){super(t,"not-in",e)}matches(t){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!sd(this.value.arrayValue,e)}}class GA extends Pi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!b_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}}class dg{constructor(t,e){this.position=t,this.before=e}}function hg(n){return`${n.before?"b":"a"}:${n.position.map(t=>ug(t)).join(",")}`}class cf{constructor(t,e="asc"){this.field=t,this.dir=e}}function XC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Zv(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],h=n.position[a];if(r=l.field.isKeyField()?Je.comparator(Je.fromName(h.referenceValue),e.key):od(h,e.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function ad(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ra(n.position[e],t.position[e]))return!1;return!0}class Su{constructor(t,e=null,r=[],a=[],l=null,h="F",m=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function eT(n,t,e,r,a,l,h,m){return new Su(n,t,e,r,a,l,h,m)}function ud(n){return new Su(n)}function E_(n){return!af(n.limit)&&"F"===n.limitType}function fg(n){return!af(n.limit)&&"L"===n.limitType}function tT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pg(n){for(const t of n.filters)if(t.V())return t.field;return null}function gg(n){return null!==n.collectionGroup}function ts(n){const t=Be(n);if(null===t.S){t.S=[];const e=pg(t),r=tT(t);if(null!==e&&null===r)e.isKeyField()||t.S.push(new cf(e)),t.S.push(new cf(Zr.keyField(),"asc"));else{let a=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new cf(Zr.keyField(),l))}}}return t.S}function No(n){const t=Be(n);if(!t.D)if("F"===t.limitType)t.D=$v(t.path,t.collectionGroup,ts(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of ts(t))e.push(new cf(l.field,"desc"===l.dir?"asc":"desc"));const r=t.endAt?new dg(t.endAt.position,!t.endAt.before):null,a=t.startAt?new dg(t.startAt.position,!t.startAt.before):null;t.D=$v(t.path,t.collectionGroup,e,t.filters,t.limit,r,a)}return t.D}function Gv(n,t,e){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Is(n,t){return lg(No(n),No(t))&&n.limitType===t.limitType}function Mo(n){return`${lf(No(n))}|lt:${n.limitType}`}function Xs(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${ug(r.value)}`;var r}).join(", ")}]`),af(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+hg(n.startAt)),n.endAt&&(t+=", endAt: "+hg(n.endAt)),`Target(${t})`}(No(n))}; limitType=${n.limitType})`}function df(n,t){return t.isFoundDocument()&&function(e,r){const a=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):Je.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a)}(n,t)&&function(e,r){for(const a of e.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,t)&&function(e,r){for(const a of e.filters)if(!a.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!Zv(e.startAt,ts(e),r)||e.endAt&&Zv(e.endAt,ts(e),r)));var e,r}function qv(n){return(t,e)=>{let r=!1;for(const a of ts(n)){const l=qA(a,t,e);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function qA(n,t,e){const r=n.field.isKeyField()?Je.comparator(t.key,e.key):function(a,l,h){const m=l.data.field(a),b=h.data.field(a);return null!==m&&null!==b?od(m,b):nt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function nT(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:p_(t)?"-0":t}}function rT(n){return{integerValue:""+n}}function iT(n,t){return g_(t)?rT(t):nT(n,t)}class hf{constructor(){this._=void 0}}function mg(n,t,e){return n instanceof ff?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(e,t):n instanceof Pl?Wv(n,t):n instanceof Za?sT(n,t):function(r,a){const l=zv(r,a),h=Yv(l)+Yv(r.N);return v_(l)&&v_(r.N)?rT(h):nT(r.k,h)}(n,t)}function zA(n,t,e){return n instanceof Pl?Wv(n,t):n instanceof Za?sT(n,t):e}function zv(n,t){return n instanceof ld?v_(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class ff extends hf{}class Pl extends hf{constructor(t){super(),this.elements=t}}function Wv(n,t){const e=D_(t);for(const r of n.elements)e.some(a=>ra(a,r))||e.push(r);return{arrayValue:{values:e}}}class Za extends hf{constructor(t){super(),this.elements=t}}function sT(n,t){let e=D_(t);for(const r of n.elements)e=e.filter(a=>!ra(a,r));return{arrayValue:{values:e}}}class ld extends hf{constructor(t,e){super(),this.k=t,this.N=e}}function Yv(n){return dr(n.integerValue||n.doubleValue)}function D_(n){return b_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fl{constructor(t,e){this.field=t,this.transform=e}}class aT{constructor(t,e){this.version=t,this.transformResults=e}}class hr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _g(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class yg{}function uT(n,t,e){n instanceof vg?function(r,a,l){const h=r.value.clone(),m=hT(r.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Nu?function(r,a,l){if(!_g(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=hT(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(dT(r)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function I_(n,t,e){var a;n instanceof vg?function(r,a,l){if(!_g(r.precondition,a))return;const h=r.value.clone(),m=fT(r.fieldTransforms,l,a);h.setAll(m),a.convertToFoundDocument(cT(a),h).setHasLocalMutations()}(n,t,e):n instanceof Nu?function(r,a,l){if(!_g(r.precondition,a))return;const h=fT(r.fieldTransforms,l,a),m=a.data;m.setAll(dT(r)),m.setAll(h),a.convertToFoundDocument(cT(a),m).setHasLocalMutations()}(n,t,e):_g(n.precondition,a=t)&&a.convertToNoDocument(Lt.min())}function lT(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=zv(r.transform,a||null);null!=l&&(null==e&&(e=yi.empty()),e.set(r.field,l))}return e||null}function Kv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&ef(e,r,(a,l)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Pl&&r instanceof Pl||e instanceof Za&&r instanceof Za?ef(e.elements,r.elements,ra):e instanceof ld&&r instanceof ld?ra(e.N,r.N):e instanceof ff&&r instanceof ff);var e,r}(a,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function cT(n){return n.isFoundDocument()?n.version:Lt.min()}class vg extends yg{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Nu extends yg{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function dT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function hT(n,t,e){const r=new Map;pt(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],h=l.transform,m=t.data.field(l.field);r.set(l.field,zA(h,m,e[a]))}return r}function fT(n,t,e){const r=new Map;for(const a of n){const l=a.transform,h=e.data.field(a.field);r.set(a.field,mg(l,h,t))}return r}class bg extends yg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Jv extends yg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class pT{constructor(t){this.count=t}}var xr,rn;function gT(n){switch(n){default:return nt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function mT(n){if(void 0===n)return Mr("GRPC error has no .code"),me.UNKNOWN;switch(n){case xr.OK:return me.OK;case xr.CANCELLED:return me.CANCELLED;case xr.UNKNOWN:return me.UNKNOWN;case xr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case xr.INTERNAL:return me.INTERNAL;case xr.UNAVAILABLE:return me.UNAVAILABLE;case xr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case xr.NOT_FOUND:return me.NOT_FOUND;case xr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case xr.ABORTED:return me.ABORTED;case xr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case xr.DATA_LOSS:return me.DATA_LOSS;default:return nt()}}(rn=xr||(xr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class qr{constructor(t,e){this.comparator=t,this.root=e||vi.EMPTY}insert(t,e){return new qr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(t){return new qr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(0===a)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new A_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new A_(this.root,t,this.comparator,!1)}getReverseIterator(){return new A_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new A_(this.root,t,this.comparator,!0)}}class A_{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vi{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=null!=r?r:vi.RED,this.left=null!=a?a:vi.EMPTY,this.right=null!=l?l:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new vi(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(t,a.key)){if(a.right.isEmpty())return vi.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const t=this.left.check();if(t!==this.right.check())throw nt();return t+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,t,e,r,a){return this}insert(n,t,e){return new vi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(t){this.comparator=t,this.data=new qr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof fr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fr(this.comparator);return e.data=t,e}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _T=new qr(Je.comparator);function eo(){return _T}const yT=new qr(Je.comparator);function S_(){return yT}const vT=new qr(Je.comparator);function Xv(){return vT}const bT=new fr(Je.comparator);function Dn(...n){let t=bT;for(const e of n)t=t.add(e);return t}const eb=new fr(Kt);function wg(){return eb}class ia{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,Cg.createSynthesizedTargetChangeForCurrentChange(t,e)),new ia(Lt.min(),r,wg(),eo(),Dn())}}class Cg{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Cg(cr.EMPTY_BYTE_STRING,e,Dn(),Dn(),Dn())}}class N_{constructor(t,e,r,a){this.$=t,this.removedTargetIds=e,this.key=r,this.F=a}}class cd{constructor(t,e){this.targetId=t,this.O=e}}class WA{constructor(t,e,r=cr.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class M_{constructor(){this.M=0,this.L=nb(),this.B=cr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Dn(),e=Dn(),r=Dn();return this.L.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:nt()}}),new Cg(this.B,this.U,t,e,r)}H(){this.q=!1,this.L=nb()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Ox{constructor(t){this.et=t,this.nt=new Map,this.st=eo(),this.it=tb(),this.rt=new fr(Kt)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const r=this.ht(e);switch(t.state){case 0:this.lt(e)&&r.W(t.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(t.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(e);break;case 3:this.lt(e)&&(r.tt(),r.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),r.W(t.resumeToken));break;default:nt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((r,a)=>{this.lt(a)&&e(a)})}dt(t){const e=t.targetId,r=t.O.count,a=this.wt(e);if(a){const l=a.target;if(cg(l))if(0===r){const h=new Je(l.path);this.ct(e,h,Ln.newNoDocument(h,Lt.min()))}else pt(1===r);else this._t(e)!==r&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&cg(m.target)){const b=new Je(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,Ln.newNoDocument(b,t))}l.j&&(e.set(h,l.G()),l.H())}});let r=Dn();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const D=this.wt(b);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const a=new ia(t,e,this.rt,this.st,r);return this.st=eo(),this.it=tb(),this.rt=new fr(Kt),a}at(t,e){if(!this.lt(t))return;const r=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,r),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,r){if(!this.lt(t))return;const a=this.ht(t);this.yt(t,e)?a.J(e,1):a.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),r&&(this.st=this.st.insert(e,r))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new M_,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new fr(Kt),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new M_),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function tb(){return new qr(Je.comparator)}function nb(){return new qr(Je.comparator)}const Px={asc:"ASCENDING",desc:"DESCENDING"},ht={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class YA{constructor(t,e){this.databaseId=t,this.C=e}}function Tg(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(n,t){return n.C?t.toBase64():t.toUint8Array()}function x_(n,t){return Tg(n,t.toTimestamp())}function ri(n){return pt(!!n),Lt.fromTimestamp(function(t){const e=Ha(t);return new ni(e.seconds,e.nanos)}(n))}function pf(n,t){return(e=n,new un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Eg(n){const t=un.fromString(n);return pt(lb(t)),t}function Un(n,t){return pf(n.databaseId,t.path)}function Mu(n,t){const e=Eg(t);if(e.get(1)!==n.databaseId.projectId)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Me(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(rb(e))}function k_(n,t){return pf(n.databaseId,t)}function R_(n){const t=Eg(n);return 4===t.length?un.emptyPath():rb(t)}function Dg(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rb(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ib(n,t,e){return{name:Un(n,t),fields:e.value.mapValue.fields}}function sb(n,t,e){const r=Mu(n,t.name),a=ri(t.updateTime),l=new yi({mapValue:{fields:t.fields}}),h=Ln.newFoundDocument(r,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function O_(n,t){let e;if(t instanceof vg)e={update:ib(n,t.key,t.value)};else if(t instanceof bg)e={delete:Un(n,t.key)};else if(t instanceof Nu)e={update:ib(n,t.key,t.data),updateMask:AT(t.fieldMask)};else{if(!(t instanceof Jv))return nt();e={verify:Un(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Za)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ld)return{fieldPath:l.field.canonicalString(),increment:h.N};throw nt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(a=t.precondition).updateTime?{updateTime:x_(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nt()),e;var a}function TT(n,t){const e=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?hr.updateTime(ri(a.updateTime)):void 0!==a.exists?hr.exists(a.exists):hr.none():hr.none(),r=t.updateTransforms?t.updateTransforms.map(a=>function(l,h){let m=null;"setToServerValue"in h?(pt("REQUEST_TIME"===h.setToServerValue),m=new ff):"appendMissingElements"in h?m=new Pl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Za(h.removeAllFromArray.values||[]):"increment"in h?m=new ld(l,h.increment):nt();const b=Zr.fromServerFormat(h.fieldPath);return new Fl(b,m)}(n,a)):[];var a;if(t.update){const a=Mu(n,t.update.name),l=new yi({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new nf((t.updateMask.fieldPaths||[]).map(D=>Zr.fromServerFormat(D)));return new Nu(a,l,h,e,r)}return new vg(a,l,e,r)}if(t.delete){const a=Mu(n,t.delete);return new bg(a,e)}if(t.verify){const a=Mu(n,t.verify);return new Jv(a,e)}return nt()}function ET(n,t){return{documents:[k_(n,t.path)]}}function DT(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=k_(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=k_(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(m){if(0===m.length)return;const b=m.map(D=>function(N){if("=="===N.op){if(jv(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NAN"}};if(w_(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(jv(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NOT_NAN"}};if(w_(N.value))return{unaryFilter:{field:Ga(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(N.field),op:Ag(N.op),value:N.value}}}(D));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);a&&(e.structuredQuery.where=a);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Ga((D=b).field),direction:JA(D.dir)};var D})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const h=(b=t.limit,n.C||af(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=ab(t.startAt)),t.endAt&&(e.structuredQuery.endAt=ab(t.endAt)),e}function IT(n){let t=R_(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){pt(1===r);const N=e.from[0];N.allDescendants?a=N.collectionId:t=t.child(N.collectionId)}let l=[];e.where&&(l=ob(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(N=>{return new cf(gf((M=N).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;e.limit&&(m=function(N){let M;return M="object"==typeof N?N.value:N,af(M)?null:M}(e.limit));let b=null;e.startAt&&(b=ub(e.startAt));let D=null;return e.endAt&&(D=ub(e.endAt)),eT(t,a,h,l,m,"F",b,D)}function ob(n){return n?void 0!==n.unaryFilter?[XA(n)]:void 0!==n.fieldFilter?[QA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>ob(t)).reduce((t,e)=>t.concat(e)):nt():[]}function ab(n){return{before:n.before,values:n.position}}function ub(n){return new dg(n.values||[],!!n.before)}function JA(n){return Px[n]}function Ag(n){return ht[n]}function Ga(n){return{fieldPath:n.canonicalString()}}function gf(n){return Zr.fromServerFormat(n.fieldPath)}function QA(n){return Pi.create(gf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function XA(n){switch(n.unaryFilter.op){case"IS_NAN":const t=gf(n.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=gf(n.unaryFilter.field);return Pi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gf(n.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gf(n.unaryFilter.field);return Pi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function AT(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=cb(t)),t=eS(n.get(e),t);return cb(t)}function eS(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function cb(n){return n+"\x01\x01"}function xu(n){const t=n.length;if(pt(t>=2),2===t)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const e=t-2,r=[];let a="";for(let l=0;l<t;){const h=n.indexOf("\x01",l);switch((h<0||h>e)&&nt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===a.length?b=m:(a+=m,b=a,a=""),r.push(b);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:nt()}l=h+2}return new un(r)}class tS{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class ko{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}ko.store="owner",ko.key="owner";class dd{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}dd.store="mutationQueues",dd.keyPath="userId";class nr{constructor(t,e,r,a,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}nr.store="mutations",nr.keyPath="batchId",nr.userMutationsIndex="userMutationsIndex",nr.userMutationsKeyPath=["userId","batchId"];class ns{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,xo(e)]}static key(t,e,r){return[t,xo(e),r]}}ns.store="documentMutations",ns.PLACEHOLDER=new ns;class ST{constructor(t,e){this.path=t,this.readTime=e}}class F_{constructor(t,e){this.path=t,this.version=e}}class pr{constructor(t,e,r,a,l,h){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}pr.store="remoteDocuments",pr.readTimeIndex="readTimeIndex",pr.readTimeIndexPath="readTime",pr.collectionReadTimeIndex="collectionReadTimeIndex",pr.collectionReadTimeIndexPath=["parentPath","readTime"];class qa{constructor(t){this.byteSize=t}}qa.store="remoteDocumentGlobal",qa.key="remoteDocumentGlobalKey";class rs{constructor(t,e,r,a,l,h,m){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}rs.store="targets",rs.keyPath="targetId",rs.queryTargetsIndexName="queryTargetsIndex",rs.queryTargetsKeyPath=["canonicalId","targetId"];class wr{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}wr.store="targetDocuments",wr.keyPath=["targetId","path"],wr.documentTargetsIndex="documentTargetsIndex",wr.documentTargetsKeyPath=["path","targetId"];class to{constructor(t,e,r,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}to.key="targetGlobalKey",to.store="targetGlobal";class hd{constructor(t,e){this.collectionId=t,this.parent=e}}hd.store="collectionParents",hd.keyPath=["collectionId","parent"];class ku{constructor(t,e,r,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=a}}ku.store="clientMetadata",ku.keyPath="clientId";class mf{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}mf.store="bundles",mf.keyPath="bundleId";class _f{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}_f.store="namedQueries",_f.keyPath="name";const NT=[dd.store,nr.store,ns.store,pr.store,rs.store,ko.store,to.store,wr.store,ku.store,qa.store,hd.store,mf.store,_f.store],MT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,r)=>{e(t)})}static reject(t){return new Ie((e,r)=>{r(t)})}static waitFor(t){return new Ie((e,r)=>{let a=0,l=0,h=!1;t.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&e()},b=>r(b))}),h=!0,l===a&&e()})}static or(t){let e=Ie.resolve(!1);for(const r of t)e=e.next(a=>a?Ie.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}}class L_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new _i,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new yf(t,e.error)):this.It.resolve()},this.transaction.onerror=r=>{const a=db(r.target.error);this.It.reject(new yf(t,a))}}static open(t,e,r,a){try{return new L_(e,t.transaction(a,r))}catch(l){throw new yf(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new kT(e)}}class Ro{constructor(t,e,r){this.name=t,this.version=e,this.Rt=r,12.2===Ro.Pt((0,Dt.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),pd(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Dt.hl)())return!1;if(Ro.vt())return!0;const t=(0,Dt.z$)(),e=Ro.Pt(t),r=0<e&&e<10,a=Ro.Vt(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(t){var e=this;return(0,se.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,a)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new yf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;a("VersionError"===m.name?new Me(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new yf(t,m))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.Rt.Nt(h.target.result,l.transaction,h.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=r=>e.kt(r)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,a){var l=this;return(0,se.Z)(function*(){const h="readonly"===e;let m=0;for(;;){++m;try{l.db=yield l.Ct(t);const b=L_.open(l.db,t,h?"readonly":"readwrite",r),D=a(b).catch(N=>(b.abort(N),Ie.reject(N))).toPromise();return D.catch(()=>{}),yield b.At,D}catch(b){const D="FirebaseError"!==b.name&&m<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),l.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nS{constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return pd(this.$t.delete())}}class yf extends Me{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function fd(n){return"IndexedDbTransactionError"===n.name}class kT{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),pd(r)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),pd(this.store.add(t))}get(t){return pd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),pd(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),pd(this.store.count())}Bt(t,e){const r=this.cursor(this.options(t,e)),a=[];return this.Ut(r,(l,h)=>{a.push(h)}).next(()=>a)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Kt=!1;const a=this.cursor(r);return this.Ut(a,(l,h,m)=>m.delete())}jt(t,e){let r;e?r=t:(r={},e=t);const a=this.cursor(r);return this.Ut(a,e)}Qt(t){const e=this.cursor({});return new Ie((r,a)=>{e.onerror=l=>{const h=db(l.target.error);a(h)},e.onsuccess=l=>{const h=l.target.result;h?t(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(t,e){const r=[];return new Ie((a,l)=>{t.onerror=h=>{l(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void a();const b=new nS(m),D=e(m.primaryKey,m.value,b);if(D instanceof Ie){const N=D.catch(M=>(b.done(),Ie.reject(M)));r.push(N)}b.isDone?a():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>Ie.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Kt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function pd(n){return new Ie((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const a=db(r.target.error);e(a)}})}let V_=!1;function db(n){const t=Ro.Pt((0,Dt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V_||(V_=!0,setTimeout(()=>{throw r},0)),r}}return n}class hb extends xT{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function is(n,t){const e=Be(n);return Ro.Dt(e.Wt,t)}class fb{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&uT(l,t,r[a])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&I_(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&I_(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Lt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Dn())}isEqual(t){return this.batchId===t.batchId&&ef(this.mutations,t.mutations,(e,r)=>Kv(e,r))&&ef(this.baseMutations,t.baseMutations,(e,r)=>Kv(e,r))}}class pb{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){pt(t.mutations.length===r.length);let a=Xv();const l=t.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new pb(t,e,r,a)}}class Ll{constructor(t,e,r,a,l=Lt.min(),h=Lt.min(),m=cr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(t){return new Ll(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class U_{constructor(t){this.Gt=t}}function gb(n,t){if(t.document)return sb(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Je.fromSegments(t.noDocument.path),r=bf(t.noDocument.readTime),a=Ln.newNoDocument(e,r);return t.hasCommittedMutations?a.setHasCommittedMutations():a}if(t.unknownDocument){const e=Je.fromSegments(t.unknownDocument.path),r=bf(t.unknownDocument.version);return Ln.newUnknownDocument(e,r)}return nt()}function mb(n,t,e){const r=_b(e),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:Un(m=n.Gt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:Tg(m,b.version.toTimestamp())};return new pr(null,null,l,t.hasCommittedMutations,r,a)}var m,b;if(t.isNoDocument()){const l=t.key.path.toArray(),h=vf(t.version),m=t.hasCommittedMutations;return new pr(null,new ST(l,h),null,m,r,a)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),h=vf(t.version);return new pr(new F_(l,h),null,null,!0,r,a)}return nt()}function _b(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function RT(n){const t=new ni(n[0],n[1]);return Lt.fromTimestamp(t)}function vf(n){const t=n.toTimestamp();return new tS(t.seconds,t.nanoseconds)}function bf(n){const t=new ni(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function wf(n,t){const e=(t.baseMutations||[]).map(l=>TT(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const h=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(h.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const r=t.mutations.map(l=>TT(n.Gt,l)),a=ni.fromMillis(t.localWriteTimeMs);return new fb(t.batchId,a,e,r)}function Sg(n){const t=bf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?bf(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var a;return void 0!==n.query.documents?(pt(1===(a=n.query).documents.length),r=No(ud(R_(a.documents[0])))):r=No(IT(n.query)),new Ll(r,n.targetId,0,n.lastListenSequenceNumber,t,e,cr.fromBase64String(n.resumeToken))}function OT(n,t){const e=vf(t.snapshotVersion),r=vf(t.lastLimboFreeSnapshotVersion);let a;a=cg(t.target)?ET(n.Gt,t.target):DT(n.Gt,t.target);const l=t.resumeToken.toBase64();return new rs(t.targetId,lf(t.target),e,l,t.sequenceNumber,r,a)}function yb(n){const t=IT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gv(t,t.limit,"L"):t}class PT{getBundleMetadata(t,e){return vb(t).get(e).next(r=>{if(r)return{id:(a=r).bundleId,createTime:bf(a.createTime),version:a.version};var a})}saveBundleMetadata(t,e){return vb(t).put({bundleId:(r=e).id,createTime:vf(ri(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return bb(t).get(e).next(r=>{if(r)return{name:(a=r).name,query:yb(a.bundledQuery),readTime:bf(a.readTime)};var a})}saveNamedQuery(t,e){return bb(t).put({name:(r=e).name,readTime:vf(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function vb(n){return is(n,mf.store)}function bb(n){return is(n,_f.store)}class rS{constructor(){this.zt=new Ng}addToCollectionParentIndex(t,e){return this.zt.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.zt.getEntries(e))}}class Ng{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new fr(un.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new fr(un.comparator)).toArray()}}class FT{constructor(){this.Ht=new Ng}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const r=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:r,parent:xo(a)};return LT(t).put(l)}return Ie.resolve()}getCollectionParents(t,e){const r=[],a=IDBKeyRange.bound([e,""],[WC(e),""],!1,!0);return LT(t).Bt(a).next(l=>{for(const h of l){if(h.collectionId!==e)break;r.push(xu(h.parent))}return r})}}function LT(n){return is(n,hd.store)}const VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fi{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Fi(t,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function B_(n,t,e){const r=n.store(nr.store),a=n.store(ns.store),l=[],h=IDBKeyRange.only(e.batchId);let m=0;const b=r.jt({range:h},(N,M,V)=>(m++,V.delete()));l.push(b.next(()=>{pt(1===m)}));const D=[];for(const N of e.mutations){const M=ns.key(t,N.key.path,e.batchId);l.push(a.delete(M)),D.push(N.key)}return Ie.waitFor(l).next(()=>D)}function Mg(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw nt();t=n.noDocument}return JSON.stringify(t).length}Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);class xg{constructor(t,e,r,a){this.userId=t,this.k=e,this.Jt=r,this.referenceDelegate=a,this.Yt={}}static Xt(t,e,r,a){pt(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new xg(l,e,r,a)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(t).jt({index:nr.userMutationsIndex,range:r},(a,l,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,r,a){const l=Ul(t),h=Vl(t);return h.add({}).next(m=>{pt("number"==typeof m);const b=new fb(m,e,r,a),D=function(V,$,re){const ve=re.baseMutations.map(rt=>O_(V.Gt,rt)),Se=re.mutations.map(rt=>O_(V.Gt,rt));return new nr($,re.batchId,re.localWriteTime.toMillis(),ve,Se)}(this.k,this.userId,b),N=[];let M=new fr((V,$)=>Kt(V.canonicalString(),$.canonicalString()));for(const V of a){const $=ns.key(this.userId,V.key.path,m);M=M.add(V.key.path.popLast()),N.push(h.put(D)),N.push(l.put($,ns.PLACEHOLDER))}return M.forEach(V=>{N.push(this.Jt.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),Ie.waitFor(N).next(()=>b)})}lookupMutationBatch(t,e){return Vl(t).get(e).next(r=>r?(pt(r.userId===this.userId),wf(this.k,r)):null)}Zt(t,e){return this.Yt[e]?Ie.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const a=r.keys();return this.Yt[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Vl(t).jt({index:nr.userMutationsIndex,range:a},(h,m,b)=>{m.userId===this.userId&&(pt(m.batchId>=r),l=wf(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vl(t).jt({index:nr.userMutationsIndex,range:e,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(t).Bt(nr.userMutationsIndex,e).next(r=>r.map(a=>wf(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=ns.prefixForPath(this.userId,e.path),a=IDBKeyRange.lowerBound(r),l=[];return Ul(t).jt({range:a},(h,m,b)=>{const[D,N,M]=h,V=xu(N);if(D===this.userId&&e.path.isEqual(V))return Vl(t).get(M).next($=>{if(!$)throw nt();pt($.userId===this.userId),l.push(wf(this.k,$))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new fr(Kt);const a=[];return e.forEach(l=>{const h=ns.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=Ul(t).jt({range:m},(D,N,M)=>{const[V,$,re]=D,ve=xu($);V===this.userId&&l.path.isEqual(ve)?r=r.add(re):M.done()});a.push(b)}),Ie.waitFor(a).next(()=>this.te(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1,l=ns.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new fr(Kt);return Ul(t).jt({range:h},(b,D,N)=>{const[M,V,$]=b,re=xu(V);M===this.userId&&r.isPrefixOf(re)?re.length===a&&(m=m.add($)):N.done()}).next(()=>this.te(t,m))}te(t,e){const r=[],a=[];return e.forEach(l=>{a.push(Vl(t).get(l).next(h=>{if(null===h)throw nt();pt(h.userId===this.userId),r.push(wf(this.k,h))}))}),Ie.waitFor(a).next(()=>r)}removeMutationBatch(t,e){return B_(t.Wt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Ie.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ie.resolve();const r=IDBKeyRange.lowerBound(ns.prefixForUser(this.userId)),a=[];return Ul(t).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=xu(l[1]);a.push(b)}else m.done()}).next(()=>{pt(0===a.length)})})}containsKey(t,e){return UT(t,this.userId,e)}ne(t){return BT(t).get(this.userId).next(e=>e||new dd(this.userId,-1,""))}}function UT(n,t,e){const r=ns.prefixForPath(t,e.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Ul(n).jt({range:l,Kt:!0},(m,b,D)=>{const[N,M,V]=m;N===t&&M===a&&(h=!0),D.done()}).next(()=>h)}function Vl(n){return is(n,nr.store)}function Ul(n){return is(n,ns.store)}function BT(n){return is(n,dd.store)}class Bl{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new Bl(0)}static re(){return new Bl(-1)}}class iS{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const r=new Bl(e.highestTargetId);return e.highestTargetId=r.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Lt.fromTimestamp(new ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.oe(t).next(a=>(a.highestListenSequenceNumber=e,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.ae(t,a)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(r=>(r.targetCount+=1,this.ue(e,r),this.ae(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gd(t).delete(e.targetId)).next(()=>this.oe(t)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.ae(t,r)))}removeTargets(t,e,r){let a=0;const l=[];return gd(t).jt((h,m)=>{const b=Sg(m);b.sequenceNumber<=e&&null===r.get(b.targetId)&&(a++,l.push(this.removeTargetData(t,b)))}).next(()=>Ie.waitFor(l)).next(()=>a)}forEachTarget(t,e){return gd(t).jt((r,a)=>{const l=Sg(a);e(l)})}oe(t){return wb(t).get(to.key).next(e=>(pt(null!==e),e))}ae(t,e){return wb(t).put(to.key,e)}ce(t,e){return gd(t).put(OT(this.k,e))}ue(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const r=lf(e),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gd(t).jt({range:a,index:rs.queryTargetsIndexName},(h,m,b)=>{const D=Sg(m);lg(e,D.target)&&(l=D,b.done())}).next(()=>l)}addMatchingKeys(t,e,r){const a=[],l=Ru(t);return e.forEach(h=>{const m=xo(h.path);a.push(l.put(new wr(r,m))),a.push(this.referenceDelegate.addReference(t,r,h))}),Ie.waitFor(a)}removeMatchingKeys(t,e,r){const a=Ru(t);return Ie.forEach(e,l=>{const h=xo(l.path);return Ie.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=Ru(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),a=Ru(t);let l=Dn();return a.jt({range:r,Kt:!0},(h,m,b)=>{const D=xu(h[1]),N=new Je(D);l=l.add(N)}).next(()=>l)}containsKey(t,e){const r=xo(e.path),a=IDBKeyRange.bound([r],[WC(r)],!1,!0);let l=0;return Ru(t).jt({index:wr.documentTargetsIndex,Kt:!0,range:a},([h,m],b,D)=>{0!==h&&(l++,D.done())}).next(()=>l>0)}Et(t,e){return gd(t).get(e).next(r=>r?Sg(r):null)}}function gd(n){return is(n,rs.store)}function wb(n){return is(n,to.store)}function Ru(n){return is(n,wr.store)}function Cf(n){return Cb.apply(this,arguments)}function Cb(){return(Cb=(0,se.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==MT)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function md([n,t],[e,r]){const a=Kt(n,e);return 0===a?Kt(t,r):a}class Fx{constructor(t){this.he=t,this.buffer=new fr(md),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();md(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Tb{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const r=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,se.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(a){fd(a)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Cf(a)}yield e.me(t)}))}}class j_{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ie.resolve(Oi.I);const r=new Fx(e);return this.ge.forEachTarget(t,a=>r.de(a.sequenceNumber)).next(()=>this.ge.pe(t,a=>r.de(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.ge.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(VT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VT):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let r,a,l,h,m,b,D;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,h=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(r=M,m=Date.now(),this.removeTargets(t,r,e))).next(M=>(l=M,b=Date.now(),this.removeOrphanedDocuments(t,r))).next(M=>(D=Date.now(),GC()<=Va.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${a} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${M} documents in `+(D-b)+`ms\nTotal Duration: ${D-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:M})))}}class sS{constructor(t,e){this.db=t,this.garbageCollector=new j_(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}Ee(t){let e=0;return this.pe(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(r,a)=>e(a))}addReference(t,e,r){return Ou(t,r)}removeReference(t,e,r){return Ou(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Ou(t,e)}Ae(t,e){return function(r,a){let l=!1;return BT(r).Qt(h=>UT(r,h,a).next(m=>(m&&(l=!0),Ie.resolve(!m)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ie(t,(h,m)=>{if(m<=e){const b=this.Ae(t,h).next(D=>{if(!D)return l++,r.getEntry(t,h).next(()=>(r.removeEntry(h),Ru(t).delete([0,xo(h.path)])))});a.push(b)}}).next(()=>Ie.waitFor(a)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Ou(t,e)}Ie(t,e){const r=Ru(t);let a,l=Oi.I;return r.jt({index:wr.documentTargetsIndex},([h,m],{path:b,sequenceNumber:D})=>{0===h?(l!==Oi.I&&e(new Je(xu(a)),l),l=D,a=b):l=Oi.I}).next(()=>{l!==Oi.I&&e(new Je(xu(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ou(n,t){return Ru(n).put((r=n.currentSequenceNumber,new wr(0,xo(t.path),r)));var r}class Tf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return 1===r.length?delete this.inner[e]:r.splice(a,1),!0;return!1}forEach(t){rd(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Bv(this.inner)}}class oS{constructor(){this.changes=new Tf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Lt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Ln.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ie.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class aS{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,r){return _d(t).put(yd(e),r)}removeEntry(t,e){const r=_d(t),a=yd(e);return r.delete(a)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Re(t,r)))}getEntry(t,e){return _d(t).get(yd(e)).next(r=>this.Pe(e,r))}be(t,e){return _d(t).get(yd(e)).next(r=>({document:this.Pe(e,r),size:Mg(r)}))}getEntries(t,e){let r=eo();return this.ve(t,e,(a,l)=>{const h=this.Pe(a,l);r=r.insert(a,h)}).next(()=>r)}Ve(t,e){let r=eo(),a=new qr(Je.comparator);return this.ve(t,e,(l,h)=>{const m=this.Pe(l,h);r=r.insert(l,m),a=a.insert(l,Mg(h))}).next(()=>({documents:r,Se:a}))}ve(t,e,r){if(e.isEmpty())return Ie.resolve();const a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let h=l.getNext();return _d(t).jt({range:a},(m,b,D)=>{const N=Je.fromSegments(m);for(;h&&Je.comparator(h,N)<0;)r(h,null),h=l.getNext();h&&h.isEqual(N)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?D.Lt(h.path.toArray()):D.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r){let a=eo();const l=e.path.length+1,h={};if(r.isEqual(Lt.min())){const m=e.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=e.path.toArray(),b=_b(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=pr.collectionReadTimeIndex}return _d(t).jt(h,(m,b,D)=>{if(m.length!==l)return;const N=gb(this.k,b);e.path.isPrefixOf(N.key.path)?df(e,N)&&(a=a.insert(N.key,N)):D.done()}).next(()=>a)}newChangeBuffer(t){return new za(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Eb(t).get(qa.key).next(e=>(pt(!!e),e))}Re(t,e){return Eb(t).put(qa.key,e)}Pe(t,e){if(e){const r=gb(this.k,e);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Ln.newInvalidDocument(t)}}class za extends oS{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new Tf(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(t){const e=[];let r=0,a=new fr((l,h)=>Kt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=mb(this.De.k,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=Mg(b)-m,e.push(this.De.addEntry(t,l,b))}else if(r-=m,this.trackRemovals){const b=mb(this.De.k,Ln.newNoDocument(l,Lt.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,b))}else e.push(this.De.removeEntry(t,l))}),a.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,r)),Ie.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(r=>(this.Ce.set(e,r.size),r.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:r,Se:a})=>(a.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function Eb(n){return is(n,qa.store)}function _d(n){return is(n,pr.store)}function yd(n){return n.path.toArray()}class uS{constructor(t){this.k=t}Nt(t,e,r,a){pt(r<a&&r>=0&&a<=11);const l=new L_("createOrUpgrade",e);var m;r<1&&a>=1&&(t.createObjectStore(ko.store),(m=t).createObjectStore(dd.store,{keyPath:dd.keyPath}),m.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0}),m.createObjectStore(ns.store),jT(t),function(m){m.createObjectStore(pr.store)}(t));let h=Ie.resolve();return r<3&&a>=3&&(0!==r&&(function(m){m.deleteObjectStore(wr.store),m.deleteObjectStore(rs.store),m.deleteObjectStore(to.store)}(t),jT(t)),h=h.next(()=>function(m){const b=m.store(to.store),D=new to(0,0,Lt.min().toTimestamp(),0);return b.put(to.key,D)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(nr.store).Bt().next(D=>{m.deleteObjectStore(nr.store),m.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0});const N=b.store(nr.store),M=D.map(V=>N.put(V));return Ie.waitFor(M)})}(t,l))),h=h.next(()=>{!function(m){m.createObjectStore(ku.store,{keyPath:ku.keyPath})}(t)})),r<5&&a>=5&&(h=h.next(()=>this.Ne(l))),r<6&&a>=6&&(h=h.next(()=>(function(m){m.createObjectStore(qa.store)}(t),this.ke(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.$e(t,l))),r<9&&a>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t),function(m){const b=m.objectStore(pr.store);b.createIndex(pr.readTimeIndex,pr.readTimeIndexPath,{unique:!1}),b.createIndex(pr.collectionReadTimeIndex,pr.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&a>=10&&(h=h.next(()=>this.Fe(l))),r<11&&a>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(mf.store,{keyPath:mf.keyPath})})(t),function(m){m.createObjectStore(_f.store,{keyPath:_f.keyPath})}(t)})),h}ke(t){let e=0;return t.store(pr.store).jt((r,a)=>{e+=Mg(a)}).next(()=>{const r=new qa(e);return t.store(qa.store).put(qa.key,r)})}Ne(t){const e=t.store(dd.store),r=t.store(nr.store);return e.Bt().next(a=>Ie.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(nr.userMutationsIndex,h).next(m=>Ie.forEach(m,b=>{pt(b.userId===l.userId);const D=wf(this.k,b);return B_(t,l.userId,D).next(()=>{})}))}))}xe(t){const e=t.store(wr.store),r=t.store(pr.store);return t.store(to.store).get(to.key).next(a=>{const l=[];return r.jt((h,m)=>{const b=new un(h),D=[0,xo(b)];l.push(e.get(D).next(N=>N?Ie.resolve():e.put(new wr(0,xo(b),a.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(l))})}$e(t,e){t.createObjectStore(hd.store,{keyPath:hd.keyPath});const r=e.store(hd.store),a=new Ng,l=h=>{if(a.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:xo(b)})}};return e.store(pr.store).jt({Kt:!0},(h,m)=>{const b=new un(h);return l(b.popLast())}).next(()=>e.store(ns.store).jt({Kt:!0},([h,m,b],D)=>{const N=xu(m);return l(N.popLast())}))}Fe(t){const e=t.store(rs.store);return e.jt((r,a)=>{const l=Sg(a),h=OT(this.k,l);return e.put(h)})}}function jT(n){n.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.documentTargetsIndex,wr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(rs.store,{keyPath:rs.keyPath}).createIndex(rs.queryTargetsIndexName,rs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(to.store)}const $T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Db{constructor(t,e,r,a,l,h,m,b,D,N){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Me=D,this.Le=N,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!Db.bt())throw new Me(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sS(this,a),this.Ge=e+"main",this.k=new U_(b),this.ze=new Ro(this.Ge,11,new uS(this.k)),this.He=new iS(this.referenceDelegate,this.k),this.Jt=new FT,this.Je=new aS(this.k,this.Jt),this.Ye=new PT,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===N&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(me.FAILED_PRECONDITION,$T);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Oi(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var r=(0,se.Z)(function*(a){if(e.started)return t(a)});return function(a){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,se.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,se.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$_(t).put(new ku(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(fd(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return kg(t).get(ko.key).next(e=>Ie.resolve(this.un(e)))}hn(t){return $_(t).delete(this.clientId)}ln(){var t=this;return(0,se.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=is(r,ku.store);return a.Bt().next(l=>{const h=t.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return Ie.forEach(m,b=>a.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(t.Xe)for(const r of e)t.Xe.removeItem(t.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Ie.resolve(!0):kg(t).get(ko.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new Me(me.FAILED_PRECONDITION,$T);return!1}}return!(!this.networkEnabled||!this.inForeground)||$_(t).Bt().next(r=>void 0===this.dn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,se.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[ko.store,ku.store],e=>{const r=new hb(e,Oi.I);return t.an(r).next(()=>t.hn(r))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(r=>this.fn(r.updateTimeMs,e)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>$_(t).Bt().next(e=>this.dn(e,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(t){return xg.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,r){let l;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",NT,h=>(l=new hb(h,this.Be?this.Be.next():Oi.I),"readwrite-primary"===e?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw Mr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Me(me.FAILED_PRECONDITION,MT);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(t){return kg(t).get(ko.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Me(me.FAILED_PRECONDITION,$T)})}cn(t){const e=new ko(this.clientId,this.allowTabSynchronization,Date.now());return kg(t).put(ko.key,e)}static bt(){return Ro.bt()}an(t){const e=kg(t);return e.get(ko.key).next(r=>this.un(r)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(ko.key)):Ie.resolve())}fn(t,e){const r=Date.now();return!(t<r-e||t>r&&(Mr(`Detected an update time that is in the future: ${t} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Dt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const r=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){Mr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function kg(n){return is(n,ko.store)}function $_(n){return is(n,ku.store)}function Rg(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class HT{constructor(t,e){this.progress=t,this.In=e}}class H_{constructor(t,e,r){this.Je=t,this.An=e,this.Jt=r}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Pn(t,e,r))}Pn(t,e,r){return this.Je.getEntry(t,e).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}bn(t,e){t.forEach((r,a)=>{for(const l of e)l.applyToLocalView(a)})}vn(t,e){return this.Je.getEntries(t,e).next(r=>this.Vn(t,r).next(()=>r))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return Je.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(t,e.path):gg(e)?this.Dn(t,e,r):this.Cn(t,e,r);var a}Sn(t,e){return this.Rn(t,new Je(e)).next(r=>{let a=S_();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Dn(t,e,r){const a=e.collectionGroup;let l=S_();return this.Jt.getCollectionParents(t,a).next(h=>Ie.forEach(h,m=>{const b=(D=e,N=m.child(a),new Su(N,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,N;return this.Cn(t,b,r).next(D=>{D.forEach((N,M)=>{l=l.insert(N,M)})})}).next(()=>l))}Cn(t,e,r){let a,l;return this.Je.getDocumentsMatchingQuery(t,e,r).next(h=>(a=h,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(l=h,this.Nn(t,l,a).next(m=>{a=m;for(const b of l)for(const D of b.mutations){const N=D.key;let M=a.get(N);null==M&&(M=Ln.newInvalidDocument(N),a=a.insert(N,M)),I_(D,M,b.localWriteTime),M.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((h,m)=>{df(e,m)||(a=a.remove(h))}),a))}Nn(t,e,r){let a=Dn();for(const h of e)for(const m of h.mutations)m instanceof Nu&&null===r.get(m.key)&&(a=a.add(m.key));let l=r;return this.Je.getEntries(t,a).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class Z_{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.kn=r,this.xn=a}static $n(t,e){let r=Dn(),a=Dn();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Z_(t,e.fromCache,r,a)}}class ZT{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,r,a){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Lt.min())?this.Mn(t,e):this.On.vn(t,a).next(l=>{const h=this.Ln(e,l);return(E_(e)||fg(e))&&this.Bn(e.limitType,h,a,r)?this.Mn(t,e):(GC()<=Va.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xs(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(t,e){let r=new fr(qv(t));return e.forEach((a,l)=>{df(t,l)&&(r=r.add(l))}),r}Bn(t,e,r,a){if(r.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mn(t,e){return GC()<=Va.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Xs(e)),this.On.getDocumentsMatchingQuery(t,e,Lt.min())}}class Lx{constructor(t,e,r,a){this.persistence=t,this.Un=e,this.k=a,this.qn=new qr(Kt),this.Kn=new Tf(l=>lf(l),lg),this.jn=Lt.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new H_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function GT(n,t,e,r){return new Lx(n,t,e,r)}function qT(n,t){return Ib.apply(this,arguments)}function Ib(){return(Ib=(0,se.Z)(function*(n,t){const e=Be(n);let r=e.An,a=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let m;return e.An.getAllMutationBatches(h).next(b=>(m=b,r=e.persistence.getMutationQueue(t),a=new H_(e.Qn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const D=[],N=[];let M=Dn();for(const V of m){D.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}for(const V of b){N.push(V.batchId);for(const $ of V.mutations)M=M.add($.key)}return a.vn(h,M).next(V=>({Gn:V,removedBatchIds:D,addedBatchIds:N}))})});return e.An=r,e.Wn=a,e.Un.Fn(e.Wn),l})).apply(this,arguments)}function zT(n,t){const e=Be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,D){const N=b.batch,M=N.keys();let V=Ie.resolve();return M.forEach($=>{V=V.next(()=>D.getEntry(m,$)).next(re=>{const ve=b.docVersions.get($);pt(null!==ve),re.version.compareTo(ve)<0&&(N.applyToRemoteDocument(re,b),re.isValidDocument()&&D.addEntry(re,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,N))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.An.performConsistencyCheck(r)).next(()=>e.Wn.vn(r,a))})}function Ab(n){const t=Be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function WT(n,t){const e=Be(n),r=t.snapshotVersion;let a=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Qn.newChangeBuffer({trackRemovals:!0});a=e.qn;const m=[];t.targetChanges.forEach((D,N)=>{const M=a.get(N);if(!M)return;m.push(e.He.removeMatchingKeys(l,D.removedDocuments,N).next(()=>e.He.addMatchingKeys(l,D.addedDocuments,N)));const V=D.resumeToken;if(V.approximateByteSize()>0){const $=M.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,$),re=M,Se=D,pt((ve=$).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(e.He.updateTargetData(l,$))}var re,ve,Se});let b=eo();if(t.documentUpdates.forEach((D,N)=>{t.resolvedLimboDocuments.has(D)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push(YT(l,h,t.documentUpdates,r,void 0).next(D=>{b=D})),!r.isEqual(Lt.min())){const D=e.He.getLastRemoteSnapshotVersion(l).next(N=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(D)}return Ie.waitFor(m).next(()=>h.apply(l)).next(()=>e.Wn.Vn(l,b)).next(()=>b)}).then(l=>(e.qn=a,l))}function YT(n,t,e,r,a){let l=Dn();return e.forEach(h=>l=l.add(h)),t.getEntries(n,l).next(h=>{let m=eo();return e.forEach((b,D)=>{const N=h.get(b),M=(null==a?void 0:a.get(b))||r;D.isNoDocument()&&D.version.isEqual(Lt.min())?(t.removeEntry(b,M),m=m.insert(b,D)):!N.isValidDocument()||D.version.compareTo(N.version)>0||0===D.version.compareTo(N.version)&&N.hasPendingWrites?(t.addEntry(D,M),m=m.insert(b,D)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",D.version)}),m})}function lS(n,t){const e=Be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(r,t)))}function vd(n,t){const e=Be(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.He.getTargetData(r,t).next(l=>l?(a=l,Ie.resolve(a)):e.He.allocateTargetId(r).next(h=>(a=new Ll(t,h,0,r.currentSequenceNumber),e.He.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.qn.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.qn=e.qn.insert(r.targetId,r),e.Kn.set(t,r.targetId)),r})}function Pu(n,t,e){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,se.Z)(function*(n,t,e){const r=Be(n),a=r.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!fd(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}r.qn=r.qn.remove(t),r.Kn.delete(a.target)})).apply(this,arguments)}function Og(n,t,e){const r=Be(n);let a=Lt.min(),l=Dn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,D){const N=Be(m),M=N.Kn.get(D);return void 0!==M?Ie.resolve(N.qn.get(M)):N.He.getTargetData(b,D)}(r,h,No(t)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,t,e?a:Lt.min(),e?l:Dn())).next(m=>({documents:m,zn:l})))}function Pg(n,t){const e=Be(n),r=Be(e.He),a=e.qn.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,t).next(h=>h?h.target:null))}function Fg(n){const t=Be(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,a,l){const h=Be(r);let m=eo(),b=_b(l);const D=_d(a),N=IDBKeyRange.lowerBound(b,!0);return D.jt({index:pr.readTimeIndex,range:N},(M,V)=>{const $=gb(h.k,V);m=m.insert($.key,$),b=V.readTime}).next(()=>({In:m,readTime:RT(b)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:r})=>(t.jn=r,e))}function Nb(){return(Nb=(0,se.Z)(function*(n){const t=Be(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const a=_d(r);let l=Lt.min();return a.jt({index:pr.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=RT(m.readTime)),b.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function KT(){return(KT=(0,se.Z)(function*(n,t,e,r){const a=Be(n);let l=Dn(),h=eo(),m=Xv();for(const N of e){const M=t.Hn(N.metadata.name);N.document&&(l=l.add(M)),h=h.insert(M,t.Jn(N)),m=m.insert(M,t.Yn(N.metadata.readTime))}const b=a.Qn.newChangeBuffer({trackRemovals:!0}),D=yield vd(a,(N=r,No(ud(un.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>YT(N,b,h,Lt.min(),m).next(M=>(b.apply(N),M)).next(M=>a.He.removeMatchingKeysForTargetId(N,D.targetId).next(()=>a.He.addMatchingKeys(N,l,D.targetId)).next(()=>a.Wn.Vn(N,M)).next(()=>M)))})).apply(this,arguments)}function dS(n,t){return Mb.apply(this,arguments)}function Mb(){return(Mb=(0,se.Z)(function*(n,t,e=Dn()){const r=yield vd(n,No(yb(t.bundledQuery))),a=Be(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=ri(t.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Ye.saveNamedQuery(l,t);const m=r.withResumeToken(cr.EMPTY_BYTE_STRING,h);return a.qn=a.qn.insert(m.targetId,m),a.He.updateTargetData(l,m).next(()=>a.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.He.addMatchingKeys(l,e,r.targetId)).next(()=>a.Ye.saveNamedQuery(l,t))})})).apply(this,arguments)}class hS{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Ie.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var r;return this.Xn.set(e.id,{id:(r=e).id,version:r.version,createTime:ri(r.createTime)}),Ie.resolve()}getNamedQuery(t,e){return Ie.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(r=e).name,query:yb(r.bundledQuery),readTime:ri(r.readTime)}),Ie.resolve();var r}}class xb{constructor(){this.ts=new fr(ii.es),this.ns=new fr(ii.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const r=new ii(t,e);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.os(new ii(t,e))}cs(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new Je(new un([])),r=new ii(e,t),a=new ii(e,t+1),l=[];return this.ns.forEachInRange([r,a],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new Je(new un([])),r=new ii(e,t),a=new ii(e,t+1);let l=Dn();return this.ns.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new ii(t,0),r=this.ts.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class ii{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return Je.comparator(t.key,e.key)||Kt(t.fs,e.fs)}static ss(t,e){return Kt(t.fs,e.fs)||Je.comparator(t.key,e.key)}}class fS{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new fr(ii.es)}checkEmpty(t){return Ie.resolve(0===this.An.length)}addMutationBatch(t,e,r,a){const l=this.ds;this.ds++;const h=new fb(l,e,r,a);this.An.push(h);for(const m of a)this.ws=this.ws.add(new ii(m.key,l)),this.Jt.addToCollectionParentIndex(t,m.key.path.popLast());return Ie.resolve(h)}lookupMutationBatch(t,e){return Ie.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const a=this.gs(e+1),l=a<0?0:a;return Ie.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Ie.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new ii(e,0),a=new ii(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,a],h=>{const m=this._s(h.fs);l.push(m)}),Ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new fr(Kt);return e.forEach(a=>{const l=new ii(a,0),h=new ii(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),Ie.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;Je.isDocumentKey(l)||(l=l.child(""));const h=new ii(new Je(l),0);let m=new fr(Kt);return this.ws.forEachWhile(b=>{const D=b.key.path;return!!r.isPrefixOf(D)&&(D.length===a&&(m=m.add(b.fs)),!0)},h),Ie.resolve(this.ys(m))}ys(t){const e=[];return t.forEach(r=>{const a=this._s(r);null!==a&&e.push(a)}),e}removeMutationBatch(t,e){pt(0===this.ps(e.batchId,"removed")),this.An.shift();let r=this.ws;return Ie.forEach(e.mutations,a=>{const l=new ii(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.ws=r})}ee(t){}containsKey(t,e){const r=new ii(e,0),a=this.ws.firstAfterOrEqual(r);return Ie.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return Ie.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class pS{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new qr(Je.comparator),this.size=0}addEntry(t,e,r){const a=e.key,l=this.docs.get(a),h=l?l.size:0,m=this.Ts(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ie.resolve(r?r.document.clone():Ln.newInvalidDocument(e))}getEntries(t,e){let r=eo();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.clone():Ln.newInvalidDocument(a))}),Ie.resolve(r)}getDocumentsMatchingQuery(t,e,r){let a=eo();const l=new Je(e.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:D}}=h.getNext();if(!e.path.isPrefixOf(m.path))break;D.compareTo(r)<=0||df(e,b)&&(a=a.insert(b.key,b.clone()))}return Ie.resolve(a)}Es(t,e){return Ie.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new gS(this)}getSize(t){return Ie.resolve(this.size)}}class gS extends oS{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?e.push(this.De.addEntry(t,a.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ie.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class mS{constructor(t){this.persistence=t,this.Is=new Tf(e=>lf(e),lg),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.As=0,this.Rs=new xb,this.targetCount=0,this.Ps=Bl.ie()}forEachTarget(t,e){return this.Is.forEach((r,a)=>e(a)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.As&&(this.As=e),Ie.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.ce(e),Ie.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=e&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),a++)}),Ie.waitFor(l).next(()=>a)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const r=this.Is.get(e)||null;return Ie.resolve(r)}addMatchingKeys(t,e,r){return this.Rs.rs(e,r),Ie.resolve()}removeMatchingKeys(t,e,r){this.Rs.cs(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(h=>{l.push(a.markPotentiallyOrphaned(t,h))}),Ie.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Rs.ls(e);return Ie.resolve(r)}containsKey(t,e){return Ie.resolve(this.Rs.containsKey(e))}}class Vx{constructor(t,e){this.bs={},this.Be=new Oi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new mS(this),this.Jt=new rS,this.Je=new pS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new U_(e),this.Ye=new hS(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new fS(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,r){Le("MemoryPersistence","Starting transaction:",t);const a=new _S(this.Be.next());return this.referenceDelegate.Vs(),r(a).next(l=>this.referenceDelegate.Ss(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ds(t,e){return Ie.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class _S extends xT{constructor(t){super(),this.currentSequenceNumber=t}}class bd{constructor(t){this.persistence=t,this.Cs=new xb,this.Ns=null}static ks(t){return new bd(t)}get xs(){if(this.Ns)return this.Ns;throw nt()}addReference(t,e,r){return this.Cs.addReference(r,e),this.xs.delete(r.toString()),Ie.resolve()}removeReference(t,e,r){return this.Cs.removeReference(r,e),this.xs.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,r=>{const a=Je.fromPath(r);return this.$s(t,a).next(l=>{l||e.removeEntry(a)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Ie.or([()=>Ie.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function JT(n,t){return`firestore_clients_${n}_${t}`}function QT(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function kb(n,t){return`firestore_targets_${n}_${t}`}class wd{constructor(t,e,r,a){this.user=t,this.batchId=e,this.state=r,this.error=a}static Fs(t,e,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Me(a.error.code,a.error.message))),h?new wd(t,e,a.state,l):(Mr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class sa{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Fs(t,e){const r=JSON.parse(e);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Me(r.error.code,r.error.message))),l?new sa(t,r.state,a):(Mr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const r=JSON.parse(e);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=wg();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=g_(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new Vg(t,l):(Mr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Rb{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Rb(e.clientId,e.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class XT{constructor(){this.activeTargetIds=wg()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ob{constructor(t,e,r,a,l){this.window=t,this.Oe=e,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new qr(Kt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=JT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new XT),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,se.Z)(function*(){const e=yield t.syncEngine.Tn();for(const a of e){if(a===t.Bs)continue;const l=t.getItem(JT(t.persistenceKey,a));if(l){const h=Vg.Fs(a,l);h&&(t.Ks=t.Ks.insert(h.clientId,h))}}t.Xs();const r=t.storage.getItem(t.Js);if(r){const a=t.Zs(r);a&&t.ti(a)}for(const a of t.js)t.qs(a);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((r,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,r){this.ni(t,e,r),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(kb(this.persistenceKey,t));if(r){const a=sa.Fs(t,r);a&&(e=a.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(kb(this.persistenceKey,t))}updateQueryState(t,e,r){this.ri(t,e,r)}handleUserChange(t,e,r){e.forEach(a=>{this.si(a)}),this.currentUser=t,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,se.Z)(function*(){if(e.started){if(null!==r.key)if(e.Gs.test(r.key)){if(null==r.newValue){const a=e.ci(r.key);return e.ui(a,null)}{const a=e.hi(r.key,r.newValue);if(a)return e.ui(a.clientId,a)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const a=e.li(r.key,r.newValue);if(a)return e.fi(a)}}else if(e.Hs.test(r.key)){if(null!==r.newValue){const a=e.di(r.key,r.newValue);if(a)return e.wi(a)}}else if(r.key===e.Js){if(null!==r.newValue){const a=e.Zs(r.newValue);if(a)return e.ti(a)}}else if(r.key===e.Ws){const a=function(l){let h=Oi.I;if(null!=l)try{const m=JSON.parse(l);pt("number"==typeof m),h=m}catch(m){Mr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);a!==Oi.I&&e.sequenceNumberHandler(a)}else if(r.key===e.Ys)return e.syncEngine._i()}else e.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,r){const a=new wd(this.currentUser,t,e,r),l=QT(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Os())}si(t){const e=QT(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,r){const a=kb(this.persistenceKey,t),l=new sa(t,e,r);this.setItem(a,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const r=this.ci(t);return Vg.Fs(r,e)}li(t,e){const r=this.zs.exec(t),a=Number(r[1]);return wd.Fs(new Ri(void 0!==r[2]?r[2]:null),a,e)}di(t,e){const r=this.Hs.exec(t),a=Number(r[1]);return sa.Fs(a,e)}Zs(t){return Rb.Fs(t)}fi(t){var e=this;return(0,se.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const r=e?this.Ks.insert(t,e):this.Ks.remove(t),a=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{a.has(b)||h.push(b)}),a.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=wg();return t.forEach((r,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class Ug{constructor(){this.pi=new XT,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,r){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new XT,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class yS{Ei(t){}shutdown(){}}class eE{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const tE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nE{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class Pb extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,r,a,l){const h=this.Ui(t,e);Le("RestConnection","Sending: ",h,r);const m={};return this.qi(m,a,l),this.Ki(t,h,m,r).then(b=>(Le("RestConnection","Received: ",b),b),b=>{throw h_("RestConnection",`${t} failed with error: `,b,"url: ",h,"request:",r),b})}ji(t,e,r,a,l){return this.Bi(t,e,r,a,l)}qi(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}Ui(t,e){return`${this.Mi}/v1/${e}:${tE[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,r,a){return new Promise((l,h)=>{const m=new PA;m.listenOnce(Sx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Rv.NO_ERROR:const D=m.getResponseJson();Le("Connection","XHR received:",JSON.stringify(D)),l(D);break;case Rv.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),h(new Me(me.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:const N=m.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const V=function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(re)>=0?re:me.UNKNOWN}(M.status);h(new Me(V,M.message))}else h(new Me(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(me.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(a);m.send(e,"POST",b,r,15)})}Qi(t,e,r){const a=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=$C(),h=HC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new OA({})),this.qi(m.initMessageHeaders,e,r),(0,Dt.uI)()||(0,Dt.b$)()||(0,Dt.d)()||(0,Dt.w1)()||(0,Dt.Mn)()||(0,Dt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=a.join("");Le("Connection","Creating WebChannel: "+b,m);const D=l.createWebChannel(b,m);let N=!1,M=!1;const V=new nE({Vi:re=>{M?Le("Connection","Not sending because WebChannel is closed:",re):(N||(Le("Connection","Opening WebChannel transport."),D.open(),N=!0),Le("Connection","WebChannel sending:",re),D.send(re))},Si:()=>D.close()}),$=(re,ve,Se)=>{re.listen(ve,rt=>{try{Se(rt)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return $(D,og.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),$(D,og.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),V.Fi())}),$(D,og.EventType.ERROR,re=>{M||(M=!0,h_("Connection","WebChannel transport errored:",re),V.Fi(new Me(me.UNAVAILABLE,"The operation could not be completed")))}),$(D,og.EventType.MESSAGE,re=>{var ve;if(!M){const Se=re.data[0];pt(!!Se);const rt=Se,Qe=rt.error||(null===(ve=rt[0])||void 0===ve?void 0:ve.error);if(Qe){Le("Connection","WebChannel received error:",Qe);const Nt=Qe.status;let ot=function(zr){const zu=xr[zr];if(void 0!==zu)return mT(zu)}(Nt),ln=Qe.message;void 0===ot&&(ot=me.INTERNAL,ln="Unknown error status: "+Nt+" with message "+Qe.message),M=!0,V.Fi(new Me(ot,ln)),D.close()}else Le("Connection","WebChannel received:",Se),V.Oi(Se)}}),$(h,RA.STAT_EVENT,re=>{re.stat===Ov.PROXY?Le("Connection","Detected buffering proxy"):re.stat===Ov.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function Fb(){return"undefined"!=typeof window?window:null}function Bg(){return"undefined"!=typeof document?document:null}function jg(n){return new YA(n,!0)}class Lb{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Wi=r,this.Gi=a,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),a=Math.max(0,e-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Vb{constructor(t,e,r,a,l,h,m,b){this.Oe=t,this.nr=r,this.sr=a,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Lb(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,se.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,se.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,se.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==t?r.ur.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):e&&e.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.rr===e&&this.Ir(r,a)},r=>{t(()=>{const a=new Me(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(a)})})}Ir(t,e){const r=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{r(()=>this.Ar(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}dr(){var t=this;this.state=5,this.ur.Zi((0,se.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vS extends Vb{constructor(t,e,r,a,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,h),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:nt(),a=t.targetChange.targetIds||[],l=function(b,D){return b.C?(pt(void 0===D||"string"==typeof D),cr.fromBase64String(D||"")):(pt(void 0===D||D instanceof Uint8Array),cr.fromUint8Array(D||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(b){const D=void 0===b.code?me.UNKNOWN:mT(b.code);return new Me(D,b.message||"")}(h);e=new WA(r,a,l,m||null)}else if("documentChange"in t){const r=t.documentChange,a=Mu(n,r.document.name),l=ri(r.document.updateTime),h=new yi({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(a,l,h);e=new N_(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,a=Mu(n,r.document),l=r.readTime?ri(r.readTime):Lt.min(),h=Ln.newNoDocument(a,l);e=new N_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const r=t.documentRemove,a=Mu(n,r.document);e=new N_([],r.removedTargetIds||[],a,null)}else{if(!("filter"in t))return nt();{const r=t.filter,l=new pT(r.count||0);e=new cd(r.targetId,l)}}var b;return e}(this.k,t),r=function(a){if(!("targetChange"in a))return Lt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Lt.min():l.readTime?ri(l.readTime):Lt.min()}(t);return this.listener.Pr(e,r)}br(t){const e={};e.database=Dg(this.k),e.addTarget=function(a,l){let h;const m=l.target;return h=cg(m)?{documents:ET(a,m)}:{query:DT(a,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=wT(a,l.resumeToken):l.snapshotVersion.compareTo(Lt.min())>0&&(h.readTime=Tg(a,l.snapshotVersion.toTimestamp())),h}(this.k,t);const r=function(n,t){const e=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.gr(e)}vr(t){const e={};e.database=Dg(this.k),e.removeTarget=t,this.gr(e)}}class rE extends Vb{constructor(t,e,r,a,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(pt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(pt(void 0!==t),n.map(e=>function(r,a){let l=ri(r.updateTime?r.updateTime:a);return l.isEqual(Lt.min())&&(l=ri(a)),new aT(l,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=ri(t.commitTime);return this.listener.Cr(r,e)}return pt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Dg(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>O_(this.k,r))};this.gr(e)}}class G_ extends class{}{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=r,this.k=a,this.$r=!1}Fr(){if(this.$r)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.Bi(t,e,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(me.UNKNOWN,a.toString())})}ji(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.ji(t,e,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(me.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class q_{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Mr(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Ux{constructor(t,e,r,a,l){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,se.Z)(function*(){var b;Cd(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,se.Z)(function*(D){const N=Be(D);N.Gr.add(4),yield no(N),N.Jr.set("Unknown"),N.Gr.delete(4),yield Fu(N)}),function(D){return b.apply(this,arguments)})(h))}))}),this.Jr=new q_(r,a)}}function Fu(n){return gn.apply(this,arguments)}function gn(){return(gn=(0,se.Z)(function*(n){if(Cd(n))for(const t of n.zr)yield t(!0)})).apply(this,arguments)}function no(n){return jl.apply(this,arguments)}function jl(){return(jl=(0,se.Z)(function*(n){for(const t of n.zr)yield t(!1)})).apply(this,arguments)}function $l(n,t){const e=Be(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),Lu(e)?$g(e):Dd(e).lr()&&Tt(e,t))}function z_(n,t){const e=Be(n),r=Dd(e);e.Wr.delete(t),r.lr()&&ro(e,t),0===e.Wr.size&&(r.lr()?r._r():Cd(e)&&e.Jr.set("Unknown"))}function Tt(n,t){n.Yr.X(t.targetId),Dd(n).br(t)}function ro(n,t){n.Yr.X(t),Dd(n).vr(t)}function $g(n){n.Yr=new Ox({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),Dd(n).start(),n.Jr.Br()}function Lu(n){return Cd(n)&&!Dd(n).hr()&&n.Wr.size>0}function Cd(n){return 0===Be(n).Gr.size}function Ub(n){n.Yr=void 0}function iE(n){return sE.apply(this,arguments)}function sE(){return(sE=(0,se.Z)(function*(n){n.Wr.forEach((t,e)=>{Tt(n,t)})})).apply(this,arguments)}function bS(n,t){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,se.Z)(function*(n,t){Ub(n),Lu(n)?(n.Jr.Kr(t),$g(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Oo(n,t,e){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,se.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof WA&&2===t.state&&t.cause)try{yield(r=(0,se.Z)(function*(a,l){const h=l.cause;for(const m of l.targetIds)a.Wr.has(m)&&(yield a.remoteSyncer.rejectListen(m,h),a.Wr.delete(m),a.Yr.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(n,t)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield As(n,r)}else if(t instanceof N_?n.Yr.ot(t):t instanceof cd?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Lt.min()))try{const r=yield Ab(n.localStore);e.compareTo(r)>=0&&(yield function(a,l){const h=a.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const D=a.Wr.get(b);D&&a.Wr.set(b,D.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=a.Wr.get(m);if(!b)return;a.Wr.set(m,b.withResumeToken(cr.EMPTY_BYTE_STRING,b.snapshotVersion)),ro(a,m);const D=new Ll(b.target,m,1,b.sequenceNumber);Tt(a,D)}),a.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield As(n,r)}var r})).apply(this,arguments)}function As(n,t,e){return W_.apply(this,arguments)}function W_(){return(W_=(0,se.Z)(function*(n,t,e){if(!fd(t))throw t;n.Gr.add(1),yield no(n),n.Jr.set("Offline"),e||(e=()=>Ab(n.localStore)),n.asyncQueue.enqueueRetryable((0,se.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Fu(n)}))})).apply(this,arguments)}function oE(n,t){return t().catch(e=>As(n,e,t))}function Td(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,se.Z)(function*(n){const t=Be(n),e=Vu(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Ef(t);)try{const a=yield lS(t.localStore,r);if(null===a){0===t.Qr.length&&e._r();break}r=a.batchId,Zg(t,a)}catch(a){yield As(t,a)}aE(t)&&Hl(t)})).apply(this,arguments)}function Ef(n){return Cd(n)&&n.Qr.length<10}function Zg(n,t){n.Qr.push(t);const e=Vu(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function aE(n){return Cd(n)&&!Vu(n).hr()&&n.Qr.length>0}function Hl(n){Vu(n).start()}function wS(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,se.Z)(function*(n){Vu(n).kr()})).apply(this,arguments)}function jb(n){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,se.Z)(function*(n){const t=Vu(n);for(const e of n.Qr)t.Dr(e.mutations)})).apply(this,arguments)}function $b(n,t,e){return K_.apply(this,arguments)}function K_(){return(K_=(0,se.Z)(function*(n,t,e){const r=n.Qr.shift(),a=pb.from(r,t,e);yield oE(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Td(n)})).apply(this,arguments)}function Df(n,t){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,se.Z)(function*(n,t){var e;t&&Vu(n).Sr&&(yield(e=(0,se.Z)(function*(r,a){if(gT(l=a.code)&&l!==me.ABORTED){const h=r.Qr.shift();Vu(r).wr(),yield oE(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Td(r)}var l}),function(r,a){return e.apply(this,arguments)})(n,t)),aE(n)&&Hl(n)})).apply(this,arguments)}function If(n,t){return J_.apply(this,arguments)}function J_(){return(J_=(0,se.Z)(function*(n,t){const e=Be(n);t?(e.Gr.delete(2),yield Fu(e)):t||(e.Gr.add(2),yield no(e),e.Jr.set("Unknown"))})).apply(this,arguments)}function Dd(n){return n.Xr||(n.Xr=function(t,e,r){const a=Be(t);return a.Fr(),new vS(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:iE.bind(null,n),Ni:bS.bind(null,n),Pr:Oo.bind(null,n)}),n.zr.push(function(){var t=(0,se.Z)(function*(e){e?(n.Xr.wr(),Lu(n)?$g(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Ub(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Vu(n){return n.Zr||(n.Zr=function(t,e,r){const a=Be(t);return a.Fr(),new rE(e,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:wS.bind(null,n),Ni:Df.bind(null,n),Nr:jb.bind(null,n),Cr:$b.bind(null,n)}),n.zr.push(function(){var t=(0,se.Z)(function*(e){e?(n.Zr.wr(),yield Td(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Af{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,r,a,l){const h=Date.now()+r,m=new Af(t,e,h,a,l);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sf(n,t){if(Mr("AsyncQueue",`${t}: ${n}`),fd(n))return new Me(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Zl{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Je.comparator(e.key,r.key):(e,r)=>Je.comparator(e.key,r.key),this.keyedMap=S_(),this.sortedSet=new qr(this.comparator)}static emptySet(t){return new Zl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Q_{constructor(){this.eo=new qr(Je.comparator)}track(t){const e=t.doc.key,r=this.eo.get(e);r?0!==t.type&&3===r.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==r.type?this.eo=this.eo.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.eo=this.eo.remove(e):1===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):nt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,r)=>{t.push(r)}),t}}class Gg{constructor(t,e,r,a,l,h,m,b){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,r,a){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new Gg(t,e,Zl.emptySet(e),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Is(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}class Bx{constructor(){this.so=void 0,this.listeners=[]}}class It{constructor(){this.queries=new Tf(t=>Mo(t),Is),this.onlineState="Unknown",this.io=new Set}}function uE(n,t){return Id.apply(this,arguments)}function Id(){return(Id=(0,se.Z)(function*(n,t){const e=Be(n),r=t.query;let a=!1,l=e.queries.get(r);if(l||(a=!0,l=new Bx),a)try{l.so=yield e.onListen(r)}catch(h){const m=Sf(h,`Initialization of query '${Xs(t.query)}' failed`);return void t.onError(m)}e.queries.set(r,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&lE(e)})).apply(this,arguments)}function Zb(n,t){return Gb.apply(this,arguments)}function Gb(){return(Gb=(0,se.Z)(function*(n,t){const e=Be(n),r=t.query;let a=!1;const l=e.queries.get(r);if(l){const h=l.listeners.indexOf(t);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function CS(n,t){const e=Be(n);let r=!1;for(const a of t){const h=e.queries.get(a.query);if(h){for(const m of h.listeners)m.oo(a)&&(r=!0);h.so=a}}r&&lE(e)}function jx(n,t,e){const r=Be(n),a=r.queries.get(t);if(a)for(const l of a.listeners)l.onError(e);r.queries.delete(t)}function lE(n){n.io.forEach(t=>{t.next()})}class qb{constructor(t,e,r){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)3!==a.type&&r.push(a);t=new Gg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=Gg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class Li{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class cE{constructor(t){this.k=t}Hn(t){return Mu(this.k,t)}Jn(t){return t.metadata.exists?sb(this.k,t.document,!1):Ln.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return ri(t)}}class TS{constructor(t,e,r){this.mo=t,this.localStore=e,this.k=r,this.queries=[],this.documents=[],this.progress=X_(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,r=new cE(this.k);for(const a of t)if(a.metadata.queries){const l=r.Hn(a.metadata.name);for(const h of a.metadata.queries){const m=(e.get(h)||Dn()).add(l);e.set(h,m)}}return e}complete(){var t=this;return(0,se.Z)(function*(){const e=yield function(n,t,e,r){return KT.apply(this,arguments)}(t.localStore,new cE(t.k),t.documents,t.mo.id),r=t.po(t.documents);for(const a of t.queries)yield dS(t.localStore,a,r.get(a.name));return t.progress.taskState="Success",new HT(Object.assign({},t.progress),e)})()}}function X_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dE{constructor(t){this.key=t}}class hE{constructor(t){this.key=t}}class fE{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Dn(),this.mutatedKeys=Dn(),this.Ao=qv(t),this.Ro=new Zl(this.Ao)}get Po(){return this.To}bo(t,e){const r=e?e.vo:new Q_,a=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,h=a,m=!1;const b=E_(this.query)&&a.size===this.query.limit?a.last():null,D=fg(this.query)&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((N,M)=>{const V=a.get(N),$=df(this.query,M)?M:null,re=!!V&&this.mutatedKeys.has(V.key),ve=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Se=!1;V&&$?V.data.isEqual($.data)?re!==ve&&(r.track({type:3,doc:$}),Se=!0):this.Vo(V,$)||(r.track({type:2,doc:$}),Se=!0,(b&&this.Ao($,b)>0||D&&this.Ao($,D)<0)&&(m=!0)):!V&&$?(r.track({type:0,doc:$}),Se=!0):V&&!$&&(r.track({type:1,doc:V}),Se=!0,(b||D)&&(m=!0)),Se&&($?(h=h.add($),l=ve?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),E_(this.query)||fg(this.query))for(;h.size>this.query.limit;){const N=E_(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const a=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((D,N)=>function(M,V){const $=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return $(M)-$(V)}(D.type,N.type)||this.Ao(D.doc,N.doc)),this.So(r);const h=e?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new Gg(this.query,t.Ro,a,l,t.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Q_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Dn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const e=[];return t.forEach(r=>{this.Io.has(r)||e.push(new hE(r))}),this.Io.forEach(r=>{t.has(r)||e.push(new dE(r))}),e}ko(t){this.To=t.zn,this.Io=Dn();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Gg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class ES{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class DS{constructor(t){this.key=t,this.$o=!1}}class IS{constructor(t,e,r,a,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new Tf(m=>Mo(m),Is),this.Mo=new Map,this.Lo=new Set,this.Bo=new qr(Je.comparator),this.Uo=new Map,this.qo=new xb,this.Ko={},this.jo=new Map,this.Qo=Bl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function zb(n,t){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,se.Z)(function*(n,t){const e=oy(n);let r,a;const l=e.Oo.get(t);if(l)r=l.targetId,e.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield vd(e.localStore,No(t)),m=e.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield Yb(e,t,r,"current"===m),e.isPrimaryClient&&$l(e.remoteStore,h)}return a})).apply(this,arguments)}function Yb(n,t,e,r){return ey.apply(this,arguments)}function ey(){return(ey=(0,se.Z)(function*(n,t,e,r){n.Go=(N,M,V)=>{return($=(0,se.Z)(function*(re,ve,Se,rt){let Qe=ve.view.bo(Se);Qe.Bn&&(Qe=yield Og(re.localStore,ve.query,!1).then(({documents:ln})=>ve.view.bo(ln,Qe)));const Nt=rt&&rt.targetChanges.get(ve.targetId),ot=ve.view.applyChanges(Qe,re.isPrimaryClient,Nt);return r1(re,ve.targetId,ot.Co),ot.snapshot}),function(re,ve,Se,rt){return $.apply(this,arguments)})(n,N,M,V);var $};const a=yield Og(n.localStore,t,!0),l=new fE(t,a.zn),h=l.bo(a.documents),m=Cg.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);r1(n,e,b.Co);const D=new ES(t,e,l);return n.Oo.set(t,D),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),b.snapshot})).apply(this,arguments)}function Kb(n,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,se.Z)(function*(n,t){const e=Be(n),r=e.Oo.get(t),a=e.Mo.get(r.targetId);if(a.length>1)return e.Mo.set(r.targetId,a.filter(l=>!Is(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pu(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),z_(e.remoteStore,r.targetId),Nf(e,r.targetId)}).catch(Cf))):(Nf(e,r.targetId),yield Pu(e.localStore,r.targetId,!0))})).apply(this,arguments)}function Qb(){return(Qb=(0,se.Z)(function*(n,t,e){const r=ay(n);try{const a=yield function(l,h){const m=Be(l),b=ni.now(),D=h.reduce((M,V)=>M.add(V.key),Dn());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.Wn.vn(M,D).next(V=>{N=V;const $=[];for(const re of h){const ve=lT(re,N.get(re.key));null!=ve&&$.push(new Nu(re.key,ve,T_(ve.value.mapValue),hr.exists(!0)))}return m.An.addMutationBatch(M,b,$,h)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new qr(Kt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,a.batchId,e),yield Uu(r,a.changes),yield Td(r.remoteStore)}catch(a){const l=Sf(a,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function pE(n,t){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,se.Z)(function*(n,t){const e=Be(n);try{const r=yield WT(e.localStore,t);t.targetChanges.forEach((a,l)=>{const h=e.Uo.get(l);h&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.$o=!0:a.modifiedDocuments.size>0?pt(h.$o):a.removedDocuments.size>0&&(pt(h.$o),h.$o=!1))}),yield Uu(e,r,t)}catch(r){yield Cf(r)}})).apply(this,arguments)}function gE(n,t,e){const r=Be(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const a=[];r.Oo.forEach((l,h)=>{const m=h.view.ro(t);m.snapshot&&a.push(m.snapshot)}),function(l,h){const m=Be(l);m.onlineState=h;let b=!1;m.queries.forEach((D,N)=>{for(const M of N.listeners)M.ro(h)&&(b=!0)}),b&&lE(m)}(r.eventManager,t),a.length&&r.Fo.Pr(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AS(n,t,e){return e1.apply(this,arguments)}function e1(){return(e1=(0,se.Z)(function*(n,t,e){const r=Be(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Uo.get(t),l=a&&a.key;if(l){let h=new qr(Je.comparator);h=h.insert(l,Ln.newNoDocument(l,Lt.min()));const m=Dn().add(l),b=new ia(Lt.min(),new Map,new fr(Kt),h,m);yield pE(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(t),ry(r)}else yield Pu(r.localStore,t,!1).then(()=>Nf(r,t,e)).catch(Cf)})).apply(this,arguments)}function qg(n,t){return t1.apply(this,arguments)}function t1(){return(t1=(0,se.Z)(function*(n,t){const e=Be(n),r=t.batch.batchId;try{const a=yield zT(e.localStore,t);n1(e,r,null),ny(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Uu(e,a)}catch(a){yield Cf(a)}})).apply(this,arguments)}function SS(n,t,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,se.Z)(function*(n,t,e){const r=Be(n);try{const a=yield function(l,h){const m=Be(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let D;return m.An.lookupMutationBatch(b,h).next(N=>(pt(null!==N),D=N.keys(),m.An.removeMutationBatch(b,N))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,D))})}(r.localStore,t);n1(r,t,e),ny(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Uu(r,a)}catch(a){yield Cf(a)}})).apply(this,arguments)}function mE(){return(mE=(0,se.Z)(function*(n,t){const e=Be(n);Cd(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Be(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const a=e.jo.get(r)||[];a.push(t),e.jo.set(r,a)}catch(r){const a=Sf(r,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}})).apply(this,arguments)}function ny(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function n1(n,t,e){const r=Be(n);let a=r.Ko[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Ko[r.currentUser.toKey()]=a}}function Nf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Mo.get(t))n.Oo.delete(r),e&&n.Fo.zo(r,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(r=>{n.qo.containsKey(r)||_E(n,r)})}function _E(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(z_(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),ry(n))}function r1(n,t,e){for(const r of e)r instanceof dE?(n.qo.addReference(r.key,t),NS(n,r)):r instanceof hE?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,t),n.qo.containsKey(r.key)||_E(n,r.key)):nt()}function NS(n,t){const e=t.key,r=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(r)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(r),ry(n))}function ry(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new Je(un.fromString(t)),r=n.Qo.next();n.Uo.set(r,new DS(e)),n.Bo=n.Bo.insert(e,r),$l(n.remoteStore,new Ll(No(ud(e.path)),r,2,Oi.I))}}function Uu(n,t,e){return i1.apply(this,arguments)}function i1(){return(i1=(0,se.Z)(function*(n,t,e){const r=Be(n),a=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,t,e).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,D.fromCache?"not-current":"current"),a.push(D);const N=Z_.$n(b.targetId,D);l.push(N)}}))}),yield Promise.all(h),r.Fo.Pr(a),yield(m=(0,se.Z)(function*(b,D){const N=Be(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ie.forEach(D,V=>Ie.forEach(V.kn,$=>N.persistence.referenceDelegate.addReference(M,V.targetId,$)).next(()=>Ie.forEach(V.xn,$=>N.persistence.referenceDelegate.removeReference(M,V.targetId,$)))))}catch(M){if(!fd(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const V=M.targetId;if(!M.fromCache){const $=N.qn.get(V),ve=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);N.qn=N.qn.insert(V,ve)}}}),function(b,D){return m.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function Hx(n,t){return yE.apply(this,arguments)}function yE(){return(yE=(0,se.Z)(function*(n,t){const e=Be(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const r=yield qT(e.localStore,t);e.currentUser=t,(a=e).jo.forEach(h=>{h.forEach(m=>{m.reject(new Me(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Uu(e,r.Gn)}var a})).apply(this,arguments)}function Zx(n,t){const e=Be(n),r=e.Uo.get(t);if(r&&r.$o)return Dn().add(r.key);{let a=Dn();const l=e.Mo.get(t);if(!l)return a;for(const h of l){const m=e.Oo.get(h);a=a.unionWith(m.view.Po)}return a}}function s1(n,t){return o1.apply(this,arguments)}function o1(){return(o1=(0,se.Z)(function*(n,t){const e=Be(n),r=yield Og(e.localStore,t.query,!0),a=t.view.ko(r);return e.isPrimaryClient&&r1(e,t.targetId,a.Co),a})).apply(this,arguments)}function MS(n){return a1.apply(this,arguments)}function a1(){return(a1=(0,se.Z)(function*(n){const t=Be(n);return Fg(t.localStore).then(e=>Uu(t,e))})).apply(this,arguments)}function xS(n,t,e,r){return u1.apply(this,arguments)}function u1(){return(u1=(0,se.Z)(function*(n,t,e,r){const a=Be(n),l=yield function(h,m){const b=Be(h),D=Be(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>D.Zt(N,m).next(M=>M?b.Wn.vn(N,M):Ie.resolve(null)))}(a.localStore,t);var m;null!==l?("pending"===e?yield Td(a.remoteStore):"acknowledged"===e||"rejected"===e?(n1(a,t,r||null),ny(a,t),m=t,Be(Be(a.localStore).An).ee(m)):nt(),yield Uu(a,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function iy(){return(iy=(0,se.Z)(function*(n,t){const e=Be(n);if(oy(e),ay(e),!0===t&&!0!==e.Wo){const r=e.sharedClientState.getAllActiveQueryTargets(),a=yield sy(e,r.toArray());e.Wo=!0,yield If(e.remoteStore,!0);for(const l of a)$l(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const r=[];let a=Promise.resolve();e.Mo.forEach((l,h)=>{e.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Nf(e,h),Pu(e.localStore,h,!0))),z_(e.remoteStore,h)}),yield a,yield sy(e,r),function(l){const h=Be(l);h.Uo.forEach((m,b)=>{z_(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new qr(Je.comparator)}(e),e.Wo=!1,yield If(e.remoteStore,!1)}})).apply(this,arguments)}function sy(n,t,e){return l1.apply(this,arguments)}function l1(){return(l1=(0,se.Z)(function*(n,t,e){const r=Be(n),a=[],l=[];for(const h of t){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield vd(r.localStore,No(b[0]));for(const D of b){const N=r.Oo.get(D),M=yield s1(r,N);M.snapshot&&l.push(M.snapshot)}}else{const D=yield Pg(r.localStore,h);m=yield vd(r.localStore,D),yield Yb(r,Ad(D),h,!1)}a.push(m)}return r.Fo.Pr(l),a})).apply(this,arguments)}function Ad(n){return eT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Vi(n){const t=Be(n);return Be(Be(t.localStore).persistence).Tn()}function vE(n,t,e,r){return io.apply(this,arguments)}function io(){return(io=(0,se.Z)(function*(n,t,e,r){const a=Be(n);if(a.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(a.Mo.has(t))switch(e){case"current":case"not-current":{const l=yield Fg(a.localStore),h=ia.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Uu(a,l,h);break}case"rejected":yield Pu(a.localStore,t,!0),Nf(a,t,r);break;default:nt()}})).apply(this,arguments)}function c1(n,t,e){return d1.apply(this,arguments)}function d1(){return(d1=(0,se.Z)(function*(n,t,e){const r=oy(n);if(r.Wo){for(const a of t){if(r.Mo.has(a)){Le("SyncEngine","Adding an already active target "+a);continue}const l=yield Pg(r.localStore,a),h=yield vd(r.localStore,l);yield Yb(r,Ad(l),h.targetId,!1),$l(r.remoteStore,h)}for(const a of e)r.Mo.has(a)&&(yield Pu(r.localStore,a,!1).then(()=>{z_(r.remoteStore,a),Nf(r,a)}).catch(Cf))}})).apply(this,arguments)}function oy(n){const t=Be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AS.bind(null,t),t.Fo.Pr=CS.bind(null,t.eventManager),t.Fo.zo=jx.bind(null,t.eventManager),t}function ay(n){const t=Be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SS.bind(null,t),t}class wE{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,se.Z)(function*(){e.k=jg(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return GT(this.persistence,new ZT,t.initialUser,this.k)}Yo(t){return new Vx(bd.ks,this.k)}Jo(t){return new Ug}terminate(){var t=this;return(0,se.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class CE extends wE{constructor(t,e,r){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,se.Z)(function*(){yield e().call(r,t),yield function(n){return Nb.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,t),yield ay(r.ta.syncEngine),yield Td(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(t){return GT(this.persistence,new ZT,t.initialUser,this.k)}Xo(t){return new Tb(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Rg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new Db(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,Fb(),Bg(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new Ug}}class RS extends CE{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,se.Z)(function*(){yield e().call(r,t);const a=r.ta.syncEngine;r.sharedClientState instanceof Ob&&(r.sharedClientState.syncEngine={mi:xS.bind(null,a),gi:vE.bind(null,a),yi:c1.bind(null,a),Tn:Vi.bind(null,a),_i:MS.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,se.Z)(function*(h){yield function(n,t){return iy.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(t){const e=Fb();if(!Ob.bt(e))throw new Me(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Rg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ob(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class uy{initialize(t,e){var r=this;return(0,se.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>gE(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,r.syncEngine),yield If(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new It}createDatastore(t){const e=jg(t.databaseInfo.databaseId),r=new Pb(t.databaseInfo);return new G_(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,a=t.asyncQueue,l=m=>gE(this.syncEngine,m,0),h=eE.bt()?new eE:new yS,new Ux(e,r,a,l,h);var e,r,a,l,h}createSyncEngine(t,e){return function(r,a,l,h,m,b,D){const N=new IS(r,a,l,h,m,b);return D&&(N.Wo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,se.Z)(function*(e){const r=Be(e);Le("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield no(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function TE(n,t=10240){let e=0;return{read:()=>(0,se.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class OS{constructor(t,e){this.sa=t,this.k=e,this.metadata=new _i,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,se.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,se.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,se.Z)(function*(){const e=yield t.oa();if(null===e)return null;const r=t.ia.decode(e),a=Number(r);isNaN(a)&&t.aa(`length string (${r}) is not valid number`);const l=yield t.ca(a);return new Li(JSON.parse(l),e.length+a)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,se.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ca(t){var e=this;return(0,se.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const r=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,se.Z)(function*(){const e=yield t.sa.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class PS{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,se.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Me(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,se.Z)(function*(l,h){const m=Be(l),b=Dg(m.k)+"/documents",D={documents:h.map($=>Un(m.k,$))},N=yield m.ji("BatchGetDocuments",b,D),M=new Map;N.forEach($=>{const re=function(n,t){return"found"in t?function(e,r){pt(!!r.found);const a=Mu(e,r.found.name),l=ri(r.found.updateTime),h=new yi({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(a,l,h)}(n,t):"missing"in t?function(e,r){pt(!!r.missing),pt(!!r.readTime);const a=Mu(e,r.missing),l=ri(r.readTime);return Ln.newNoDocument(a,l)}(n,t):nt()}(m.k,$);M.set(re.key.toString(),re)});const V=[];return h.forEach($=>{const re=M.get($.toString());pt(!!re),V.push(re)}),V}),function(l,h){return a.apply(this,arguments)})(e.datastore,t);var a;return r.forEach(a=>e.recordVersion(a)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new bg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,se.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,a)=>{const l=Je.fromPath(a);t.mutations.push(new Jv(l,t.precondition(l)))}),yield(r=(0,se.Z)(function*(a,l){const h=Be(a),m=Dg(h.k)+"/documents",b={writes:l.map(D=>O_(h.k,D))};yield h.Bi("Commit",m,b)}),function(a,l){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw nt();e=Lt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Me(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hr.updateTime(e):hr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new Me(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(e)}return hr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Mf{constructor(t,e,r,a){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=a,this.la=5,this.ur=new Lb(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,se.Z)(function*(){const e=new PS(t.datastore),r=t.da(e);r&&r.then(a=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(a)}).catch(l=>{t.wa(l)}))}).catch(a=>{t.wa(a)})}))}da(t){try{const e=this.updateFunction(t);return!af(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!gT(e)}return!1}}class Gx{constructor(t,e,r,a){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Ri.UNAUTHENTICATED,this.clientId=Vv.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,se.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,se.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Sf(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}function f1(n,t){return p1.apply(this,arguments)}function p1(){return(p1=(0,se.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var a=(0,se.Z)(function*(l){r.isEqual(l)||(yield qT(t.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function FS(n,t){return ly.apply(this,arguments)}function ly(){return(ly=(0,se.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield g1(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(a=>{return(l=(0,se.Z)(function*(h,m){const b=Be(h);b.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const D=Cd(b);b.Gr.add(3),yield no(b),D&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Fu(b)}),function(h,m){return l.apply(this,arguments)})(t.remoteStore,a);var l}),n.onlineComponents=t})).apply(this,arguments)}function g1(n){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,se.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield f1(n,new wE)),n.offlineComponents})).apply(this,arguments)}function cy(n){return dy.apply(this,arguments)}function dy(){return(dy=(0,se.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield FS(n,new uy)),n.onlineComponents})).apply(this,arguments)}function m1(n){return g1(n).then(t=>t.persistence)}function hy(n){return g1(n).then(t=>t.localStore)}function EE(n){return cy(n).then(t=>t.remoteStore)}function _1(n){return cy(n).then(t=>t.syncEngine)}function xf(n){return y1.apply(this,arguments)}function y1(){return(y1=(0,se.Z)(function*(n){const t=yield cy(n),e=t.eventManager;return e.onListen=zb.bind(null,t.syncEngine),e.onUnlisten=Kb.bind(null,t.syncEngine),e})).apply(this,arguments)}function v1(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(a,l,h,m,b){const D=new h1({next:M=>{l.enqueueAndForget(()=>Zb(a,N));const V=M.docs.has(h);!V&&M.fromCache?b.reject(new Me(me.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&m&&"server"===m.source?b.reject(new Me(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new qb(ud(h.path),D,{includeMetadataChanges:!0,wo:!0});return uE(a,N)}(yield xf(n),n.asyncQueue,t,e,r)})),r.promise}function b1(n,t,e={}){const r=new _i;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(a,l,h,m,b){const D=new h1({next:M=>{l.enqueueAndForget(()=>Zb(a,N)),M.fromCache&&"server"===m.source?b.reject(new Me(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(M)},error:M=>b.reject(M)}),N=new qb(h,D,{includeMetadataChanges:!0,wo:!0});return uE(a,N)}(yield xf(n),n.asyncQueue,t,e,r)})),r.promise}class NE{constructor(t,e,r,a,l,h,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class kf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kf&&t.projectId===this.projectId&&t.database===this.database}}const ME=new Map;function w1(n,t,e){if(!e)throw new Me(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xE(n,t,e,r){if(!0===t&&!0===r)throw new Me(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Rf(n){if(!Je.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Of(n){if(Je.isDocumentKey(n))throw new Me(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":nt()}function Jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Me(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fy(n);throw new Me(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function oa(n,t){if(t<=0)throw new Me(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class kE{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Me(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Me(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gl{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,t instanceof kf?this._databaseId=t:(this._app=t,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Me(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(a.options.projectId)}(t))}get app(){if(!this._app)throw new Me(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Me(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zC;switch(e.type){case"gapi":const r=e.client;return pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new LA(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Me(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=ME.get(t);e&&(Le("ComponentProvider","Removing Datastore"),ME.delete(t),e.terminate())}(this),Promise.resolve()}}class Zn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zn(this.firestore,t,this._key)}}class ss{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class Po extends ss{constructor(t,e,r){super(t,e,ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zn(this.firestore,null,new Je(t))}withConverter(t){return new Po(this.firestore,t,this._path)}}function py(n,t,...e){if(n=(0,Dt.m9)(n),w1("collection","path",t),n instanceof Gl){const r=un.fromString(t,...e);return Of(r),new Po(n,null,r)}{if(!(n instanceof Zn||n instanceof Po))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(t,...e));return Of(r),new Po(n.firestore,null,r)}}function Pf(n,t,...e){if(n=(0,Dt.m9)(n),1===arguments.length&&(t=Vv.A()),w1("doc","path",t),n instanceof Gl){const r=un.fromString(t,...e);return Rf(r),new Zn(n,null,new Je(r))}{if(!(n instanceof Zn||n instanceof Po))throw new Me(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(t,...e));return Rf(r),new Zn(n.firestore,n instanceof Po?n.converter:null,new Je(r))}}function gy(n,t){return n=(0,Dt.m9)(n),t=(0,Dt.m9)(t),(n instanceof Zn||n instanceof Po)&&(t instanceof Zn||t instanceof Po)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function OE(n,t){return n=(0,Dt.m9)(n),t=(0,Dt.m9)(t),n instanceof ss&&t instanceof ss&&n.firestore===t.firestore&&Is(n._query,t._query)&&n.converter===t.converter}class jS{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Lb(this,"async_queue_retry"),this.Ra=()=>{const e=Bg();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=Bg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=Bg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new _i;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,se.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!fd(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(r=>{throw this.Ta=r,this.Ea=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=e,e}enqueueAfterDelay(t,e,r){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const a=Af.createAndSchedule(this,t,e,r,l=>this.Va(l));return this.pa.push(a),a}Pa(){this.Ta&&nt()}verifyOperationInProgress(){}Sa(){var t=this;return(0,se.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function C1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class $S{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gn extends Gl{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new jS,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||T1(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||T1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function T1(n){var t;const e=n._freezeSettings(),r=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new NE(n._databaseId,l,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Gx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function E1(n,t,e){const r=new _i;return n.asyncQueue.enqueue((0,se.Z)(function*(){try{yield f1(n,e),yield FS(n,t),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===me.FAILED_PRECONDITION||l.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function UE(n){if(n._initialized||n._terminated)throw new Me(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ql{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Me(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(cr.fromBase64String(t))}catch(e){throw new Me(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wa(cr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Bu{constructor(t){this._methodName=t}}class _y{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Me(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Me(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const BE=/^__.*__$/;class WS{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Nu(t,this.data,this.fieldMask,e,this.fieldTransforms):new vg(t,this.data,e,this.fieldTransforms)}}class jE{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Nu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function yy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class Kg{constructor(t,e,r,a,l,h){this.settings=t,this.databaseId=e,this.k=r,this.ignoreUndefinedProperties=a,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Kg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:r,Oa:!1});return a.Ma(t),a}La(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.$a({path:r,Oa:!1});return a.ka(),a}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return Qg(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(yy(this.xa)&&BE.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class $E{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=r||jg(t)}ja(t,e,r,a=!1){return new Kg({xa:t,methodName:e,Ka:r,path:Zr.emptyPath(),Oa:!1,qa:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ya(n){const t=n._freezeSettings(),e=jg(n._databaseId);return new $E(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Lf(n,t,e,r,a,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,t,e,a);Cy("Data must be an object, but it was:",h,r);const m=GE(r,h);let b,D;if(l.merge)b=new nf(h.fieldMask),D=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const M of l.mergeFields){const V=Ty(t,M,e);if(!h.contains(V))throw new Me(me.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);qE(N,V)||N.push(V)}b=new nf(N),D=h.fieldTransforms.filter(M=>b.covers(M.field))}else b=null,D=h.fieldTransforms;return new WS(new yi(m),b,D)}class vy extends Bu{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vy}}function D1(n,t,e){return new Kg({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class I1 extends Bu{_toFieldTransform(t){return new Fl(t.path,new ff)}isEqual(t){return t instanceof I1}}class HE extends Bu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=D1(this,t,!0),r=this.Qa.map(l=>Sd(l,e)),a=new Pl(r);return new Fl(t.path,a)}isEqual(t){return this===t}}class by extends Bu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=D1(this,t,!0),r=this.Qa.map(l=>Sd(l,e)),a=new Za(r);return new Fl(t.path,a)}isEqual(t){return this===t}}class ZE extends Bu{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new ld(t.k,iT(t.k,this.Wa));return new Fl(t.path,e)}isEqual(t){return this===t}}function A1(n,t,e,r){const a=n.ja(1,t,e);Cy("Data must be an object, but it was:",a,r);const l=[],h=yi.empty();rd(r,(b,D)=>{const N=Ey(t,b,e);D=(0,Dt.m9)(D);const M=a.La(N);if(D instanceof vy)l.push(N);else{const V=Sd(D,M);null!=V&&(l.push(N),h.set(N,V))}});const m=new nf(l);return new jE(h,m,a.fieldTransforms)}function Jg(n,t,e,r,a,l){const h=n.ja(1,t,e),m=[Ty(t,r,e)],b=[a];if(l.length%2!=0)throw new Me(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(Ty(t,l[V])),b.push(l[V+1]);const D=[],N=yi.empty();for(let V=m.length-1;V>=0;--V)if(!qE(D,m[V])){const $=m[V];let re=b[V];re=(0,Dt.m9)(re);const ve=h.La($);if(re instanceof vy)D.push($);else{const Se=Sd(re,ve);null!=Se&&(D.push($),N.set($,Se))}}const M=new nf(D);return new jE(N,M,h.fieldTransforms)}function wy(n,t,e,r=!1){return Sd(e,n.ja(r?4:3,t))}function Sd(n,t){if(S1(n=(0,Dt.m9)(n)))return Cy("Unsupported field value:",t,n),GE(n,t);if(n instanceof Bu)return function(e,r){if(!yy(r.xa))throw r.Ua(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${e._methodName}() is not currently supported inside arrays`);const a=e._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,r){const a=[];let l=0;for(const h of e){let m=Sd(h,r.Ba(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(n,t)}return function(e,r){if(null===(e=(0,Dt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iT(r.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const a=ni.fromDate(e);return{timestampValue:Tg(r.k,a)}}if(e instanceof ni){const a=new ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tg(r.k,a)}}if(e instanceof _y)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wa)return{bytesValue:wT(r.k,e._byteString)};if(e instanceof Zn){const a=r.databaseId,l=e.firestore._databaseId;if(!l.isEqual(a))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pf(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Ua(`Unsupported field value: ${fy(e)}`)}(n,t)}function GE(n,t){const e={};return Bv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rd(n,(r,a)=>{const l=Sd(a,t.Fa(r));null!=l&&(e[r]=l)}),{mapValue:{fields:e}}}function S1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof _y||n instanceof Wa||n instanceof Zn||n instanceof Bu)}function Cy(n,t,e){if(!S1(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fy(e);throw t.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function Ty(n,t,e){if((t=(0,Dt.m9)(t))instanceof ql)return t._internalPath;if("string"==typeof t)return Ey(n,t);throw Qg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const YS=new RegExp("[~\\*/\\[\\]]");function Ey(n,t,e){if(t.search(YS)>=0)throw Qg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ql(...t.split("."))._internalPath}catch(r){throw Qg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Qg(n,t,e,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${a}`),b+=")"),new Me(me.INVALID_ARGUMENT,m+n+b)}function qE(n,t){return n.some(e=>e.isEqual(t))}class Xg{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new zE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class zE extends Xg{data(){return super.data()}}function Dy(n,t){return"string"==typeof t?Ey(n,t):t instanceof ql?t._internalPath:t._delegate._internalPath}class zl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ka extends Xg{constructor(t,e,r,a,l,h){super(t,e,r,a,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Dy("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Vf extends Ka{data(t={}){return super.data(t)}}class ju{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new zl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Vf(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Me(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Vf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const m=new Vf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,D=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),D=l.indexOf(h.doc.key)),{type:KS(h.type),doc:m,oldIndex:b,newIndex:D}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function KS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function WE(n,t){return n instanceof Ka&&t instanceof Ka?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ju&&t instanceof ju&&n._firestore===t._firestore&&OE(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function YE(n){if(fg(n)&&0===n.explicitOrderBy.length)throw new Me(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uf{}function Nd(n,...t){for(const e of t)n=e._apply(n);return n}class zx extends Uf{constructor(t,e,r){super(),this.Ga=t,this.za=e,this.Ha=r,this.type="where"}_apply(t){const e=Ya(t.firestore),r=function(a,l,h,m,b,D,N){let M;if(b.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){nN(N,D);const $=[];for(const re of N)$.push(tN(m,a,re));M={arrayValue:{values:$}}}else M=tN(m,a,N)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||nN(N,D),M=wy(h,"where",N,"in"===D||"not-in"===D);const V=Pi.create(b,D,M);return function($,re){if(re.V()){const Se=pg($);if(null!==Se&&!Se.isEqual(re.field))throw new Me(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${re.field.toString()}'`);const rt=tT($);null!==rt&&KE(0,re.field,rt)}const ve=function(Se,rt){for(const Qe of Se.filters)if(rt.indexOf(Qe.op)>=0)return Qe.op;return null}($,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ve)throw new Me(me.INVALID_ARGUMENT,ve===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ve.toString()}' filters.`)}(a,V),V}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new ss(t.firestore,t.converter,function(a,l){const h=a.filters.concat([l]);return new Su(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}class Yx extends Uf{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(r,a,l){if(null!==r.startAt)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new cf(a,l);return function(m,b){if(null===tT(m)){const D=pg(m);null!==D&&KE(0,D,b.field)}}(r,h),h}(t._query,this.Ga,this.Ja);return new ss(t.firestore,t.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Su(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class JS extends Uf{constructor(t,e,r){super(),this.type=t,this.Ya=e,this.Xa=r}_apply(t){return new ss(t.firestore,t.converter,Gv(t._query,this.Ya,this.Xa))}}class QS extends Uf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=eN(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(a=e,new Su((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class XS extends Uf{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=eN(t,this.type,this.Za,this.tc);return new ss(t.firestore,t.converter,(a=e,new Su((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function eN(n,t,e,r){if(e[0]=(0,Dt.m9)(e[0]),e[0]instanceof Xg)return function(a,l,h,m,b){if(!m)throw new Me(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const N of ts(a))if(N.field.isKeyField())D.push(y_(l,m.key));else{const M=m.data.field(N.field);if(ag(M))throw new Me(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=N.field.canonicalString();throw new Me(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}D.push(M)}return new dg(D,b)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const a=Ya(n.firestore);return function(l,h,m,b,D,N){const M=l.explicitOrderBy;if(D.length>M.length)throw new Me(me.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let $=0;$<D.length;$++){const re=D[$];if(M[$].field.isKeyField()){if("string"!=typeof re)throw new Me(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof re}`);if(!gg(l)&&-1!==re.indexOf("/"))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${re}' contains a slash.`);const ve=l.path.child(un.fromString(re));if(!Je.isDocumentKey(ve))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Se=new Je(ve);V.push(y_(h,Se))}else{const ve=wy(m,b,re);V.push(ve)}}return new dg(V,N)}(n._query,n.firestore._databaseId,a,t,e,r)}}function tN(n,t,e){if("string"==typeof(e=(0,Dt.m9)(e))){if(""===e)throw new Me(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gg(t)&&-1!==e.indexOf("/"))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(un.fromString(e));if(!Je.isDocumentKey(r))throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y_(n,new Je(r))}if(e instanceof Zn)return y_(n,e._key);throw new Me(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(e)}.`)}function nN(n,t){if(!Array.isArray(n)||0===n.length)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Me(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function KE(n,t,e){if(!e.isEqual(t))throw new Me(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class N1{convertValue(t,e="none"){switch(id(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw nt()}}convertObject(t,e){const r={};return rd(t.fields,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertGeoPoint(t){return new _y(dr(t.latitude),dr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=f_(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(sf(t));default:return null}}convertTimestamp(t){const e=Ha(t);return new ni(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=un.fromString(t);pt(lb(r));const a=new kf(r.get(1),r.get(3)),l=new Je(r.popFirst(5));return a.isEqual(e)||Mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function Iy(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class rk extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zn(this.firestore,null,e)}}class rN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ya(t)}set(t,e,r){this._verifyNotCommitted();const a=Md(t,this._firestore),l=Iy(a.converter,e,r),h=Lf(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,hr.none())),this}update(t,e,r,...a){this._verifyNotCommitted();const l=Md(t,this._firestore);let h;return h="string"==typeof(e=(0,Dt.m9)(e))||e instanceof ql?Jg(this._dataReader,"WriteBatch.update",l._key,e,r,a):A1(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(h.toMutation(l._key,hr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Md(t,this._firestore);return this._mutations=this._mutations.concat(new bg(e._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Md(n,t){if((n=(0,Dt.m9)(n)).firestore!==t)throw new Me(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xd extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zn(this.firestore,null,e)}}function JE(n,t,e){n=Jt(n,Zn);const r=Jt(n.firestore,Gn),a=Iy(n.converter,t,e);return Bf(r,[Lf(Ya(r),"setDoc",n._key,a,null!==n.converter,e).toMutation(n._key,hr.none())])}function oN(n,t,e,...r){n=Jt(n,Zn);const a=Jt(n.firestore,Gn),l=Ya(a);let h;return h="string"==typeof(t=(0,Dt.m9)(t))||t instanceof ql?Jg(l,"updateDoc",n._key,t,e,r):A1(l,"updateDoc",n._key,t),Bf(a,[h.toMutation(n._key,hr.exists(!0))])}function kd(n,...t){var e,r,a;n=(0,Dt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||C1(t[h])||(l=t[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(C1(t[h])){const M=t[h];t[h]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),t[h+2]=null===(a=M.complete)||void 0===a?void 0:a.bind(M)}let b,D,N;if(n instanceof Zn)D=Jt(n.firestore,Gn),N=ud(n._key.path),b={next:M=>{t[h]&&t[h](x1(D,n,M))},error:t[h+1],complete:t[h+2]};else{const M=Jt(n,ss);D=Jt(M.firestore,Gn),N=M._query;const V=new xd(D);b={next:$=>{t[h]&&t[h](new ju(D,V,M,$))},error:t[h+1],complete:t[h+2]},YE(n._query)}return function(M,V,$,re){const ve=new h1(re),Se=new qb(V,ve,$);return M.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return uE(yield xf(M),Se)})),()=>{ve.na(),M.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return Zb(yield xf(M),Se)}))}}(kr(D),N,m,b)}function Bf(n,t){return function(e,r){const a=new _i;return e.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(n,t,e){return Qb.apply(this,arguments)}(yield _1(e),r,a)})),a.promise}(kr(n),t)}function x1(n,t,e){const r=e.docs.get(t._key),a=new xd(n);return new Ka(n,a,t._key,r,new zl(e.hasPendingWrites,e.fromCache),t.converter)}class k1 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ya(t)}get(t){const e=Md(t,this._firestore),r=new rk(this._firestore);return this._transaction.lookup([e._key]).then(a=>{if(!a||1!==a.length)return nt();const l=a[0];if(l.isFoundDocument())return new Xg(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new Xg(this._firestore,r,e._key,null,e.converter);throw nt()})}set(t,e,r){const a=Md(t,this._firestore),l=Iy(a.converter,e,r),h=Lf(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(t,e,r,...a){const l=Md(t,this._firestore);let h;return h="string"==typeof(e=(0,Dt.m9)(e))||e instanceof ql?Jg(this._dataReader,"Transaction.update",l._key,e,r,a):A1(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,h),this}delete(t){const e=Md(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Md(t,this._firestore),r=new xd(this._firestore);return super.get(t).then(a=>new Ka(this._firestore,r,e._key,a._document,new zl(!1,!1),e.converter))}}function rD(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iD(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function lN(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Qh=Ys.SDK_VERSION,(0,Ys._registerComponent)(new $c.wA("firestore",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=new Gn(a,new FA(e.getProvider("auth-internal")),new VA(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC")),(0,Ys.registerVersion)(ZC,"3.4.0",n),(0,Ys.registerVersion)(ZC,"3.4.0","esm2017")}();class Wl{constructor(t){this._delegate=t}static fromBase64String(t){return lN(),new Wl(Wa.fromBase64String(t))}static fromUint8Array(t){return iD(),new Wl(Wa.fromUint8Array(t))}toBase64(){return lN(),this._delegate.toBase64()}toUint8Array(){return iD(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function R1(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class hk{enableIndexedDbPersistence(t,e){return function(n,t){UE(n=Jt(n,Gn));const e=kr(n),r=n._freezeSettings(),a=new uy;return E1(e,a,new CE(a,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){UE(n=Jt(n,Gn));const t=kr(n),e=n._freezeSettings(),r=new uy;return E1(t,r,new RS(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Me(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{yield(e=(0,se.Z)(function*(r){if(!Ro.bt())return Promise.resolve();const a=r+"main";yield Ro.delete(a)}),function(r){return e.apply(this,arguments)})(Rg(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Sy{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof kf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&h_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var a;const l=(n=Jt(n,Gl))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&h_("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ri.MOCK_USER;else{h=(0,Dt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ri(b)}n._authCredentials=new Mx(new qC(h,m))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,se.Z)(function*(){const t=yield m1(n),e=yield EE(n);return t.setNetworkEnabled(!0),function(r){const a=Be(r);return a.Gr.delete(0),Fu(a)}(e)}))}(kr(n=Jt(n,Gn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,se.Z)(function*(){const t=yield m1(n),e=yield EE(n);return t.setNetworkEnabled(!1),(r=(0,se.Z)(function*(a){const l=Be(a);l.Gr.add(0),yield no(l),l.Jr.set("Offline")}),function(a){return r.apply(this,arguments)})(e);var r}))}(kr(n=Jt(n,Gn)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,xE("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new _i;return t.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(n,t){return mE.apply(this,arguments)}(yield _1(t),e)})),e.promise}(kr(n=Jt(n,Gn)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new h1(t);return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return r=yield xf(n),a=e,Be(r).io.add(a),void a.next();var r,a})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return r=yield xf(n),a=e,void Be(r).io.delete(a);var r,a}))}}(kr(n=Jt(n,Gn)),C1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Yl(this,py(this._delegate,t))}catch(e){throw os(e,"collection()","Firestore.collection()")}}doc(t){try{return new so(this,Pf(this._delegate,t))}catch(e){throw os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new as(this,function(n,t){if(n=Jt(n,Gl),w1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Me(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(e=t,new Su(un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){const r=yield(a=n,cy(a).then(l=>l.datastore));var a;new Mf(n.asyncQueue,r,t,e).run()})),e.promise}(kr(n=Jt(n,Gn)),e=>t(new k1(n,e)))}(this._delegate,e=>t(new cN(this,e)))}batch(){return kr(this._delegate),new sD(new rN(this._delegate,t=>Bf(this._delegate,t)))}loadBundle(t){return function(n,t){const e=kr(n=Jt(n,Gn)),r=new $S;return function(n,t,e,r){const a=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,D){if(b instanceof Uint8Array)return TE(b,D);if(b instanceof ArrayBuffer)return TE(new Uint8Array(b),D);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new OS(b,h);var b}(e,jg(t));n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){!function(n,t,e){const r=Be(n);var a;(a=(0,se.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(V,$){const re=Be(V),ve=ri($.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Se=>re.Ye.getBundleMetadata(Se,$.id)).then(Se=>!!Se&&Se.createTime.compareTo(ve)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(X_(b));const D=new TS(b,l.localStore,h.k);let N=yield h.Ho();for(;N;){const V=yield D.yo(N);V&&m._updateProgress(V),N=yield h.Ho()}const M=yield D.complete();yield Uu(l,M.In,void 0),yield function(V,$){const re=Be(V);return re.persistence.runTransaction("Save bundle","readwrite",ve=>re.Ye.saveBundleMetadata(ve,$))}(l.localStore,b),m._completeWith(M.progress)}catch(b){h_("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(l,h,m){return a.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield _1(n),a,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,se.Z)(function*(){return function(e,r){const a=Be(e);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ye.getNamedQuery(l,r))}(yield hy(n),t)}))}(kr(n=Jt(n,Gn)),t).then(e=>e?new ss(n,null,e.query):null)}(this._delegate,t).then(e=>e?new as(this,e):null)}}class Ny extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wl(new Wa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return so.forKey(e,this.firestore,null)}}class cN{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ny(t)}get(t){const e=Rd(t);return this._delegate.get(e).then(r=>new em(this._firestore,new Ka(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const a=Rd(t);return r?(rD("Transaction.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}}class sD{constructor(t){this._delegate=t}set(t,e,r){const a=Rd(t);return r?(rD("WriteBatch.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=Rd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=Rd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class jf{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Vf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new $u(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=jf.INSTANCES;let a=r.get(t);a||(a=new WeakMap,r.set(t,a));let l=a.get(e);return l||(l=new jf(t,new Ny(t),e),a.set(e,l)),l}}jf.INSTANCES=new WeakMap;class so{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ny(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new so(e,new Zn(e._delegate,r,new Je(t)))}static forKey(t,e,r){return new so(e,new Zn(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Yl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Yl(this.firestore,py(this._delegate,t))}catch(e){throw os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Dt.m9)(t))instanceof Zn&&gy(this._delegate,t)}set(t,e){e=rD("DocumentReference.set",e);try{return e?JE(this._delegate,t,e):JE(this._delegate,t)}catch(r){throw os(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?oN(this._delegate,t):oN(this._delegate,t,e,...r)}catch(a){throw os(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Bf(Jt(n.firestore,Gn),[new bg(n._key,hr.none())])}(this._delegate)}onSnapshot(...t){const e=dN(t),r=hN(t,a=>new em(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return kd(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,Zn);const t=Jt(n.firestore,Gn),e=kr(t),r=new xd(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(r=(0,se.Z)(function*(a,l,h){try{const m=yield function(b,D){const N=Be(b);return N.persistence.runTransaction("read document","readonly",M=>N.Wn.Rn(M,D))}(a,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Me(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Sf(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(a,l,h){return r.apply(this,arguments)})(yield hy(n),t,e);var r})),e.promise}(e,n._key).then(a=>new Ka(t,r,n._key,a,new zl(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,Zn);const t=Jt(n.firestore,Gn);return v1(kr(t),n._key,{source:"server"}).then(e=>x1(t,n,e))}(this._delegate):function(n){n=Jt(n,Zn);const t=Jt(n.firestore,Gn);return v1(kr(t),n._key).then(e=>x1(t,n,e))}(this._delegate),e.then(r=>new em(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new so(this.firestore,this._delegate.withConverter(t?jf.getInstance(this.firestore,t):null))}}function os(n,t,e){return n.message=n.message.replace(t,e),n}function dN(n){for(const t of n)if("object"==typeof t&&!R1(t))return t;return{}}function hN(n,t){var e,r;let a;return a=R1(n[0])?n[0]:R1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(t(l))},error:null===(e=a.error)||void 0===e?void 0:e.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class em{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new so(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return WE(this._delegate,t._delegate)}}class $u extends em{data(t){const e=this._delegate.data(t);return function(n,t){n||nt()}(void 0!==e),e}}class as{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ny(t)}where(t,e,r){try{return new as(this.firestore,Nd(this._delegate,function(n,t,e){const r=t,a=Dy("where",n);return new zx(a,r,e)}(t,e,r)))}catch(a){throw os(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new as(this.firestore,Nd(this._delegate,function(n,t="asc"){const e=t,r=Dy("orderBy",n);return new Yx(r,e)}(t,e)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new as(this.firestore,Nd(this._delegate,function(n){return oa("limit",n),new JS("limit",n,"F")}(t)))}catch(e){throw os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new as(this.firestore,Nd(this._delegate,function(n){return oa("limitToLast",n),new JS("limitToLast",n,"L")}(t)))}catch(e){throw os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new QS("startAt",n,!0)}(...t)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new QS("startAfter",n,!1)}(...t)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new XS("endBefore",n,!0)}(...t)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new as(this.firestore,Nd(this._delegate,function(...n){return new XS("endAt",n,!1)}(...t)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}isEqual(t){return OE(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=kr(t),r=new xd(t);return function(n,t){const e=new _i;return n.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return(r=(0,se.Z)(function*(a,l,h){try{const m=yield Og(a,l,!0),b=new fE(l,m.zn),D=b.bo(m.documents),N=b.applyChanges(D,!1);h.resolve(N.snapshot)}catch(m){const b=Sf(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(a,l,h){return r.apply(this,arguments)})(yield hy(n),t,e);var r})),e.promise}(e,n._query).then(a=>new ju(t,r,n,a))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=kr(t),r=new xd(t);return b1(e,n._query,{source:"server"}).then(a=>new ju(t,r,n,a))}(this._delegate):function(n){n=Jt(n,ss);const t=Jt(n.firestore,Gn),e=kr(t),r=new xd(t);return YE(n._query),b1(e,n._query).then(a=>new ju(t,r,n,a))}(this._delegate),e.then(r=>new O1(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=dN(t),r=hN(t,a=>new O1(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return kd(this._delegate,e,r)}withConverter(t){return new as(this.firestore,this._delegate.withConverter(t?jf.getInstance(this.firestore,t):null))}}class fN{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new $u(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class O1{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new $u(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new fN(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new $u(this._firestore,r))})}isEqual(t){return WE(this._delegate,t._delegate)}}class Yl extends as{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new so(this.firestore,t):null}doc(t){try{return new so(this.firestore,void 0===t?Pf(this._delegate):Pf(this._delegate,t))}catch(e){throw os(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=Jt(n.firestore,Gn),r=Pf(n),a=Iy(n.converter,t);return Bf(e,[Lf(Ya(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new so(this.firestore,e))}isEqual(t){return gy(this._delegate,t._delegate)}withConverter(t){return new Yl(this.firestore,this._delegate.withConverter(t?jf.getInstance(this.firestore,t):null))}}function Rd(n){return Jt(n,Zn)}class us{constructor(...t){this._delegate=new ql(...t)}static documentId(){return new us(Zr.keyField().canonicalString())}isEqual(t){return(t=(0,Dt.m9)(t))instanceof ql&&this._delegate._internalPath.isEqual(t._internalPath)}}class Od{constructor(t){this._delegate=t}static serverTimestamp(){const t=new I1("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Od(t)}static delete(){const t=new vy("deleteField");return t._methodName="FieldValue.delete",new Od(t)}static arrayUnion(...t){const e=function(...n){return new HE("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Od(e)}static arrayRemove(...t){const e=function(...n){return new by("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Od(e)}static increment(t){const e=function(n){return new ZE("increment",n)}(t);return e._methodName="FieldValue.increment",new Od(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const P1={Firestore:Sy,GeoPoint:_y,Timestamp:ni,Blob:Wl,Transaction:cN,WriteBatch:sD,DocumentReference:so,DocumentSnapshot:em,Query:as,QueryDocumentSnapshot:$u,QuerySnapshot:O1,CollectionReference:Yl,FieldPath:us,FieldValue:Od,setLogLevel:function(n){!function(n){Au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new $c.wA("firestore-compat",e=>((t,e)=>new Sy(t,e,new hk))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},P1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(La.Z);var tm=F(6682),$f=F(9746),oD=F(7771),mN=F(8858);class aD extends an.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new uD(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=r.length;let h;if(this.closed)throw new uh.N;if(this.isStopped||this.hasError?h=gp.w.EMPTY:(this.observers.push(t),h=new mN.W(this,t)),a&&t.add(t=new $f.ht(t,a)),e)for(let m=0;m<l&&!t.closed;m++)t.next(r[m]);else for(let m=0;m<l&&!t.closed;m++)t.next(r[m].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),h}_getNow(){return(this.scheduler||oD.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(t-a[h].time<r);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&a.splice(0,h),a}}class uD{constructor(t,e){this.time=t,this.value=e}}function lD(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let a,h,l=0,m=!1,b=!1;return function(N){let M;l++,!a||m?(m=!1,a=new aD(n,t,r),M=a.subscribe(this),h=N.subscribe({next(V){a.next(V)},error(V){m=!0,a.error(V)},complete(){b=!0,h=void 0,a.complete()}}),b&&(h=void 0)):M=a.subscribe(this),this.add(()=>{l--,M.unsubscribe(),M=void 0,h&&!b&&e&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}function My(n,t){return t?sr(()=>n,t):sr(()=>n)}var xy=F(2639);F(2329);const EN=new Map,dD={activated:!1,tokenObservers:[]},hD={initialized:!1,enabled:!1};function si(n){return EN.get(n)||dD}function aa(n,t){EN.set(n,t)}function nm(){return hD}class wk{constructor(t,e,r,a,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,se.Z)(function*(){e.stop();try{e.pending=new Dt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Dt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ui=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mD(n){if(!si(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function _D(n,t){return yD.apply(this,arguments)}function yD(){return(yD=(0,se.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,l)}catch(M){throw Ui.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Ui.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(M){throw Ui.create("fetch-parse-error",{originalErrorMessage:M.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(b[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+D,issuedAtTimeMillis:N}})).apply(this,arguments)}function oi(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Zf="firebase-app-check-store";let Fd=null;function wD(){return Fd||(Fd=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(Ui.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(Zf,{keyPath:"compositeKey"})}}}catch(e){t(Ui.create("storage-open",{originalErrorMessage:e.message}))}}),Fd)}function im(){return(im=(0,se.Z)(function*(n,t){const r=(yield wD()).transaction(Zf,"readwrite"),l=r.objectStore(Zf).put({compositeKey:n,value:t});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var D;m(Ui.create("storage-set",{originalErrorMessage:null===(D=b.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Vd=new Va.Yd("@firebase/app-check");function NN(n,t){return(0,Dt.hl)()?function(n,t){return function(n,t){return im.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Vd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function xN(){return nm().enabled}function sm(){return j1.apply(this,arguments)}function j1(){return(j1=(0,se.Z)(function*(){const n=nm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dk={error:"UNKNOWN_ERROR"};function Ik(n){return Dt.US.encodeString(JSON.stringify(n),!1)}function Oy(n){return $1.apply(this,arguments)}function $1(){return($1=(0,se.Z)(function*(n,t=!1){const e=n.app;mD(e);const r=si(e);let l,a=r.token;if(!a){const b=yield r.cachedTokenPromise;b&&Py(b)&&(a=b)}if(!t&&a&&Py(a))return{token:a.token};let m,h=!1;if(xN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_D(oi(e,yield sm()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const b=yield r.exchangeTokenPromise;return yield NN(e,b),aa(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),a=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Vd.warn(b.message):Vd.error(b),l=b}return a?(m={token:a.token},aa(e,Object.assign(Object.assign({},r),{token:a})),yield NN(e,a)):m=kN(l),h&&SD(e,m),m})).apply(this,arguments)}function Z1(n,t){const e=si(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),aa(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function AD(n){const{app:t}=n,e=si(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new wk((0,se.Z)(function*(){let r;if(r=si(t).token?yield Oy(n,!0):yield Oy(n),r.error)throw r.error}),()=>!0,()=>{const e=si(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),aa(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function SD(n,t){const e=si(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function Py(n){return n.expireTimeMillis-Date.now()>0}function kN(n){return{token:Ik(Dk),error:n}}class Sk{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=si(this.app);for(const e of t)Z1(this.app,e.next);return Promise.resolve()}}const OD="app-check-internal";(0,Ys._registerComponent)(new $c.wA("app-check",n=>function(n,t){return new Sk(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(OD).initialize()})),(0,Ys._registerComponent)(new $c.wA(OD,n=>function(n){return{getToken:t=>Oy(n,t),addTokenListener:t=>function(n,t,e,r){const{app:a}=n,l=si(a),h={next:e,error:r,type:t};if(aa(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Py(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),AD(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>AD(n))}(n,"INTERNAL",t),removeTokenListener:t=>Z1(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ys.registerVersion)("@firebase/app-check","0.5.2");class z1{constructor(){return(0,tr.vb)("app-check")}}"undefined"!=typeof window&&window;const VD=new o.OlP("angularfire2.auth.use-emulator"),UD=new o.OlP("angularfire2.auth.settings"),Vy=new o.OlP("angularfire2.auth.tenant-id"),BD=new o.OlP("angularfire2.auth.langugage-code"),Bi=new o.OlP("angularfire2.auth.use-device-language"),zf=new o.OlP("angularfire.auth.persistence"),om=(n,t,e,r,a,l,h,m)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=a,l&&b.useDeviceLanguage(),h)for(const[D,N]of Object.entries(h))b.settings[D]=N;return m&&b.setPersistence(m),b},[e,r,a,l,h,m]);let Wf=(()=>{class n{constructor(e,r,a,l,h,m,b,D,N,M,V,$){const re=new an.xQ,ve=(0,qe.of)(void 0).pipe((0,$f.QV)(h.outsideAngular),sr(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,at.U)(()=>(0,Xi.on)(e,l,r)),(0,at.U)(Se=>om(Se,l,m,D,N,M,b,V)),lD({bufferSize:1,refCount:!1}));if(ga(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{ve.pipe(Qn()).subscribe();const rt=ve.pipe(sr(ot=>ot.getRedirectResult().then(ln=>ln,()=>null)),tr.iC,lD({bufferSize:1,refCount:!1})),Qe=ve.pipe(sr(ot=>new Rt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>ot.onAuthStateChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))})))),Nt=ve.pipe(sr(ot=>new Rt.y(ln=>({unsubscribe:l.runOutsideAngular(()=>ot.onIdTokenChanged(zr=>ln.next(zr),zr=>ln.error(zr),()=>ln.complete()))}))));this.authState=rt.pipe(My(Qe),(0,xy.R)(h.outsideAngular),(0,$f.QV)(h.insideAngular)),this.user=rt.pipe(My(Nt),(0,xy.R)(h.outsideAngular),(0,$f.QV)(h.insideAngular)),this.idToken=this.user.pipe(sr(ot=>ot?(0,pn.D)(ot.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(sr(ot=>ot?(0,pn.D)(ot.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,tm.T)(rt,re,this.authState.pipe(Pn(ot=>!ot))).pipe((0,at.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,xy.R)(h.outsideAngular),(0,$f.QV)(h.insideAngular))}return(0,Xi.pX)(this,ve,l,{spy:{apply:(Se,rt,Qe)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&Qe.then(Nt=>re.next(Nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xi.Dh),o.LFG(Xi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(tr.HU),o.LFG(VD,8),o.LFG(UD,8),o.LFG(Vy,8),o.LFG(BD,8),o.LFG(Bi,8),o.LFG(zf,8),o.LFG(z1,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uy=(()=>{class n{constructor(){Wm.Z.registerVersion("angularfire",tr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Wf]}),n})();function X1(n,t){return function(n,t=Ym.z){return new Rt.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function ew(n,t){return X1(n,t).pipe((0,at.U)(e=>({payload:e,type:"query"})))}function jy(n,t){return ew(n,t).pipe(Da(void 0),Ct(),(0,at.U)(([e,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=a.find(N=>N.doc.ref.isEqual(h.ref)),D=null==e?void 0:e.payload.docs.find(N=>N.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function jD(n,t,e){return jy(n,e).pipe(_u((r,a)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return $y(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return $y(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return $y(n,t.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),t),[]),function(n,t){return e=>e.lift(new ta(n,t))}(),(0,at.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function $y(n,t,e,...r){const a=n.slice();return a.splice(t,e,...r),a}function $D(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class HD{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=jy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,at.U)(r=>r.filter(a=>t.indexOf(a.type)>-1)))),e.pipe(Da(void 0),Ct(),Pn(([r,a])=>a.length>0||!r),(0,at.U)(([r,a])=>a),tr.iC)}auditTrail(t){return this.stateChanges(t).pipe(_u((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$D(t);return jD(this.query,e,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(t={}){return ew(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),tr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(tr.iC)}add(t){return this.ref.add(t)}doc(t){return new Hu(this.ref.doc(t),this.afs)}}class Hu{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:a,query:l}=Zy(r,e);return new HD(a,l,this.afs)}snapshotChanges(){return function(n,t){return X1(n,t).pipe(Da(void 0),Ct(),(0,at.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,at.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pn.D)(this.ref.get(t)).pipe(tr.iC)}}class am{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Pn(e=>e.length>0),tr.iC):jy(this.query,this.afs.schedulers.outsideAngular).pipe(tr.iC)}auditTrail(t){return this.stateChanges(t).pipe(_u((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=$D(t);return jD(this.query,e,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(t={}){return ew(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(a=>t.idField?Object.assign({[t.idField]:a.id},a.data()):a.data())),tr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(tr.iC)}}const Hy=new o.OlP("angularfire2.enableFirestorePersistence"),ZD=new o.OlP("angularfire2.firestore.persistenceSettings"),eM=new o.OlP("angularfire2.firestore.settings"),tM=new o.OlP("angularfire2.firestore.use-emulator");function Zy(n,t=(e=>e)){return{query:t(n),ref:n}}let Gy=(()=>{class n{constructor(e,r,a,l,h,m,b,D,N,M,V,$,re,ve,Se,rt,Qe){this.schedulers=b;const Nt=(0,Xi.on)(e,m,r),ot=N;M&&om(Nt,m,V,re,ve,Se,$,rt),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const ln=m.runOutsideAngular(()=>Nt.firestore());if(l&&ln.settings(l),ot&&ln.useEmulator(...ot),a&&!ga(h)){const zr=()=>{try{return(0,pn.D)(ln.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(zu){return"undefined"!=typeof console&&console.warn(zu),(0,qe.of)(!1)}};return[ln,m.runOutsideAngular(zr)]}return[ln,(0,qe.of)(!1)]},[l,ot,a])}collection(e,r){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=Zy(a,r),m=this.schedulers.ngZone.run(()=>l);return new HD(m,h,this)}collectionGroup(e,r){const a=r||(h=>h),l=this.firestore.collectionGroup(e);return new am(a(l),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>r);return new Hu(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xi.Dh),o.LFG(Xi.xv,8),o.LFG(Hy,8),o.LFG(eM,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(tr.HU),o.LFG(ZD,8),o.LFG(tM,8),o.LFG(Wf,8),o.LFG(VD,8),o.LFG(UD,8),o.LFG(Vy,8),o.LFG(BD,8),o.LFG(Bi,8),o.LFG(zf,8),o.LFG(z1,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GD=(()=>{class n{constructor(){Wm.Z.registerVersion("angularfire",tr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Hy,useValue:!0},{provide:ZD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Gy]}),n})(),Qa=(()=>{class n{constructor(e,r){var a=this;this.afs=e,this.auth=r,this.user=null,this.currUser=null,this.userCollection=e.collection("Users"),this.auth.user.subscribe(function(){var l=(0,se.Z)(function*(h){h?yield a.userExist(h):yield a.userNotExist()});return function(h){return l.apply(this,arguments)}}())}userExist(e){var r=this;return(0,se.Z)(function*(){r.user=e;const a=yield r.getUser(e.uid);a?(r.currUser=a,console.log("Cargo User: ",r.currUser),console.log("user still logged in")):yield r.userNotExist()})()}userNotExist(){var e=this;return(0,se.Z)(function*(){e.user=null,e.currUser=null,console.log("no User")})()}getUser(e){var r=this;return(0,se.Z)(function*(){return r.getAllUser().then(a=>a.find(l=>l.uid===e))})()}getAllUser(){var e=this;return(0,se.Z)(function*(){return e.userCollection.get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dId=a.id,l}))})()}addUser(e){var r=this;return(0,se.Z)(function*(){const a=r.copyAndPrepareUser(e);yield r.userCollection.add(a).then().catch(l=>{console.log(l)})})()}updateUser(e){var r=this;return(0,se.Z)(function*(){yield r.userCollection.doc(e.dId).update(r.copyAndPrepareUser(e))})()}deleteUser(){var e=this;return(0,se.Z)(function*(){e.currUser?yield e.userCollection.doc(e.currUser.dId).delete():console.log("User not logged in")})()}copyAndPrepareUser(e){return Object.assign({},e)}login(e,r){var a=this;return(0,se.Z)(function*(){yield a.auth.signInWithEmailAndPassword(e,r)})()}logout(){var e=this;return(0,se.Z)(function*(){yield e.auth.signOut()})()}deleteAccount(){return(0,se.Z)(function*(){var e;yield null===(e=Wm.Z.auth().currentUser)||void 0===e?void 0:e.delete()})()}register(e,r){var a=this;return(0,se.Z)(function*(){yield a.auth.createUserWithEmailAndPassword(e,r)})()}deleteCar(e){var r=this;return(0,se.Z)(function*(){if(r.currUser){const a=r.currUser.car.indexOf(e,0);r.currUser.car.splice(a,1),yield r.updateUser(r.currUser)}})()}addCar(e){var r=this;return(0,se.Z)(function*(){r.currUser&&(r.currUser.car.push(e),yield r.updateUser(r.currUser))})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gy),o.LFG(Wf))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qy=(()=>{class n{constructor(e){this.afs=e,this.tourCollection=e.collection("Tours")}copyAndPrepareTour(e){return Object.assign({},e)}addTour(e){var r=this;return(0,se.Z)(function*(){r.tourCollection.add(r.copyAndPrepareTour(e)).catch(a=>console.log(a))})()}deleteTour(e){var r=this;return(0,se.Z)(function*(){r.tourCollection.doc(e.dID).delete().catch(a=>console.log(a))})()}updateTour(e){var r=this;return(0,se.Z)(function*(){r.tourCollection.doc(e.dID).update(e).catch(a=>console.log(a))})()}getAllTours(){var e=this;return(0,se.Z)(function*(){return e.tourCollection.get().toPromise().then(r=>r.docs.map(a=>{const l=a.data();return l.dID=a.id,l}))})()}getAllOpenToursFromUser(e){var r=this;return(0,se.Z)(function*(){let a=yield r.getAllToursAsDriverFromUser(e,!1),l=yield r.getAllToursAsPassengerFromUser(e,!1);return a.concat(l)})()}getAllBookedToursFromUser(e){var r=this;return(0,se.Z)(function*(){let a=yield r.getAllToursAsDriverFromUser(e,!0),l=yield r.getAllToursAsPassengerFromUser(e,!0);return a.concat(l)})()}getAllToursAsDriverFromUser(e,r){var a=this;return(0,se.Z)(function*(){return a.afs.collection("Tours",l=>l.where("driver","==",e).where("booked","==",r)).get().toPromise().then(l=>l.docs.map(h=>{const m=h.data();return m.dID=h.id,m}))})()}getAllToursAsPassengerFromUser(e,r){var a=this;return(0,se.Z)(function*(){return a.afs.collection("Tours",l=>l.where("passengers","==",[e]).where("booked","==",r)).get().toPromise().then(l=>l.docs.map(h=>{const m=h.data();return m.dID=h.id,m}))})()}searchTours(e,r,a,l,h,m){var b=this;return(0,se.Z)(function*(){return b.afs.collection("Tours",D=>D.where("offer","==",e).where("booked","==",!1).where("date","==",l).where("startCity","==",r).where("endCity","==",a).where("storage",">=",h).orderBy("storage","asc")).get().toPromise().then(D=>D.docs.map(N=>{const M=N.data();return M.dID=N.id,M})).then(D=>D.filter(N=>N.seats>=m))})()}sortPrice(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortEva(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortStorage(e){return e.sort((r,a)=>this.compare(r.price,a.price))}sortSeats(e){return e.sort((r,a)=>this.compare(r.price,a.price))}compare(e,r){return e==r?0:e>r?1:-1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nM(n,t){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij('Hi "',e.userData.currUser.firstname,'", hier ist dein Profil ')}}let rM=(()=>{class n{constructor(e,r,a){this.userData=e,this.router=r,this.tourData=a}logout(){var e=this;return(0,se.Z)(function*(){yield e.userData.logout()})()}deleteAccount(){var e=this;return(0,se.Z)(function*(){if(yield e.userData.deleteUser(),yield e.userData.deleteAccount(),e.userData.currUser){const r=yield e.tourData.getAllOpenToursFromUser(e.userData.currUser.uid);for(const a of r)yield e.tourData.deleteTour(a)}})()}navigateToCarList(){this.router.navigate(["/carList"])}test(){var e=this;return(0,se.Z)(function*(){const r=e.userData.currUser;r&&(console.log("Open Tours: ",yield e.tourData.getAllOpenToursFromUser(r.uid)),console.log("Booked Tours: ",yield e.tourData.getAllBookedToursFromUser(r.uid)))})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa),o.Y36(Nr),o.Y36(qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-loggedin"]],decls:23,vars:1,consts:[[1,"wrapper"],[1,"sidebar"],[1,"row"],[1,"col","text-center"],["src","../../../../assets/img/Icons/user_icon.png","width","120","height","120"],[1,"btn","success","btn-light"],[1,"btn","success","btn-light",3,"click"],[1,"btn","danger","btn-danger",3,"click"],[1,"container"],["class","h3",4,"ngIf"],[3,"click"],[1,"h3"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"button",5),o._uU(6,"Profilbild bearbeiten"),o.qZA(),o.TgZ(7,"button",6),o.NdJ("click",function(){return r.navigateToCarList()}),o._uU(8,"Fahrzeuge verwalten"),o.qZA(),o.TgZ(9,"button",6),o.NdJ("click",function(){return r.logout()}),o._uU(10,"Logout"),o.qZA(),o.TgZ(11,"button",7),o.NdJ("click",function(){return r.deleteAccount()}),o._uU(12,"Account l\xf6schen"),o.qZA(),o._UZ(13,"br"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",8),o.TgZ(15,"div",2),o.TgZ(16,"div",3),o.YNc(17,nM,2,1,"div",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",8),o.TgZ(19,"div",2),o.TgZ(20,"div",3),o.TgZ(21,"button",10),o.NdJ("click",function(){return r.test()}),o._uU(22,"Test"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(17),o.Q6J("ngIf",r.userData.currUser))},directives:[yn],styles:[""]}),n})();var Zu=F(2476);class um{constructor(t,e,r,a,l,h){this.uid=t,this.firstname=e,this.lastname=r,this.username=a,this.birthday=l,this.gender=h,this.car=[],this.money=0,this.evaluation=-1}}var Yf=F(9105);function gr(n,t,e,r){return(0,Yf.m)(e)&&(r=e,e=void 0),r?gr(n,t,e).pipe((0,at.U)(a=>(0,vs.k)(a)?r(...a):r(a))):new Rt.y(a=>{qD(n,t,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function qD(n,t,e,r,a){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(t,e,a),l=()=>h.removeEventListener(t,e,a)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(t,e),l=()=>h.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(t,e),l=()=>h.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,m=n.length;h<m;h++)qD(n[h],t,e,r,a)}r.add(l)}var nw=F(6561);function WD(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}class oM{call(t,e){return e.subscribe(new aM(t))}}class aM extends gu{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let r=0;r<e&&!this.hasFirst;r++){const l=Tc(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==r){let l=this.subscriptions[a];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}var YD=F(8640);new Rt.y(YD.Z);var Wy=F(377);function Yy(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),(0,Co.n)(n,void 0).lift(new Fk(t))}class Fk{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lk(t,this.resultSelector))}}class Lk extends Jn.L{constructor(t,e,r=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,vs.k)(t)?e.push(new Uk(t)):e.push("function"==typeof t[Wy.hZ]?new Vk(t[Wy.hZ]()):new uM(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let r=0;r<e;r++){let a=t[r];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,r=this.destination;for(let h=0;h<e;h++){let m=t[h];if("function"==typeof m.hasValue&&!m.hasValue())return}let a=!1;const l=[];for(let h=0;h<e;h++){let m=t[h],b=m.next();if(m.hasCompleted()&&(a=!0),b.done)return void r.complete();l.push(b.value)}this.resultSelector?this._tryresultSelector(l):r.next(l),a&&r.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class Vk{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Uk{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Wy.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class uM extends ci.Ds{constructor(t,e,r){super(t),this.parent=e,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Wy.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,ci.ft)(this.observable,new ci.IY(this))}}function Cr(n){return t=>t.lift(new Bk(n))}class Bk{constructor(t){this.notifier=t}call(t,e){const r=new jk(t),a=(0,ci.ft)(this.notifier,new ci.IY(r));return a&&!r.seenValue?(r.add(a),e.subscribe(r)):r}}class jk extends ci.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function JD(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new cM(n,e))}}class cM{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new $k(t,this.observables,this.project))}}class $k extends gu{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(Tc(this,e[l],void 0,l))}notifyNext(t,e,r){this.values[r]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(r);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}F(1593),F(8819);var y=F(1555);function E(n,t){return new Rt.y(e=>{const r=n.length;if(0===r)return void e.complete();const a=new Array(r);let l=0,h=0;for(let m=0;m<r;m++){const b=(0,pn.D)(n[m]);let D=!1;e.add(b.subscribe({next:N=>{D||(D=!0,h++),a[m]=N},error:N=>e.error(N),complete:()=>{l++,(l===r||!D)&&(h===r&&e.next(t?t.reduce((N,M,V)=>(N[M]=a[V],N),{}):a),e.complete())}}))}})}let A=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),R=(()=>{class n extends A{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const P=new o.OlP("NgValueAccessor"),pe={provide:P,useExisting:(0,o.Gpc)(()=>_e),multi:!0},Re=new o.OlP("CompositionEventMode");let _e=(()=>{class n extends A{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Re,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&o.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[o._Bn([pe]),o.qOj]}),n})();const ct=new o.OlP("NgValidators"),Bn=new o.OlP("NgAsyncValidators");function Zk(n){return null!=n}function Gk(n){const t=(0,o.QGY)(n)?(0,pn.D)(n):n;return(0,o.CqO)(t),t}function qk(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function zk(n,t){return t.map(e=>e(n))}function Wk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function fM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(Zk);return 0==t.length?null:function(e){return qk(zk(e,t))}}(Wk(n)):null}function pM(n){return null!=n?function(n){if(!n)return null;const t=n.filter(Zk);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,vs.k)(t))return E(t,null);if((0,y.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return E(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return E(n=1===n.length&&(0,vs.k)(n[0])?n[0]:n,null).pipe((0,at.U)(e=>t(...e)))}return E(n,null)}(zk(e,t).map(Gk)).pipe((0,at.U)(qk))}}(Wk(n)):null}function Jk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Qk(n){return n._rawValidators}function Xk(n){return n._rawAsyncValidators}function gM(n){return n?Array.isArray(n)?n:[n]:[]}function QD(n,t){return Array.isArray(n)?n.includes(t):n===t}function eR(n,t){const e=gM(t);return gM(n).forEach(a=>{QD(e,a)||e.push(a)}),e}function tR(n,t){return gM(t).filter(e=>!QD(n,e))}let nR=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),ao=(()=>{class n extends nR{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();class Jf extends nR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rR{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}let iw=(()=>{class n extends rR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Jf,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[o.qOj]}),n})(),iR=(()=>{class n extends rR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ao,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&o.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[o.qOj]}),n})();function eI(n,t){return[...t.path,n]}function sw(n,t){yM(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sR(n,t)})}(n,t),function(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function tI(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),rI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function yM(n,t){const e=Qk(n);null!==t.validator?n.setValidators(Jk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Xk(n);null!==t.asyncValidator?n.setAsyncValidators(Jk(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();nI(t._rawValidators,a),nI(t._rawAsyncValidators,a)}function rI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Qk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.validator);l.length!==a.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const a=Xk(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==t.asyncValidator);l.length!==a.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return nI(t._rawValidators,r),nI(t._rawAsyncValidators,r),e}function sR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function bM(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(l=>{l.constructor===_e?e=l:function(n){return Object.getPrototypeOf(n.constructor)===R}(l)?r=l:a=l}),a||r||e||null}function iI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ow="VALID",sI="INVALID",n0="PENDING",aw="DISABLED";function wM(n){return(TM(n)?n.validators:n)||null}function uR(n){return Array.isArray(n)?fM(n):n||null}function CM(n,t){return(TM(t)?t.asyncValidators:n)||null}function lR(n){return Array.isArray(n)?pM(n):n||null}function TM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class EM{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=uR(this._rawValidators),this._composedAsyncValidatorFn=lR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ow}get invalid(){return this.status===sI}get pending(){return this.status==n0}get disabled(){return this.status===aw}get enabled(){return this.status!==aw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=uR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=lR(t)}addValidators(t){this.setValidators(eR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tR(t,this._rawAsyncValidators))}hasValidator(t){return QD(this._rawValidators,t)}hasAsyncValidator(t){return QD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=n0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=aw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ow,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ow||this.status===n0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aw:ow}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=n0,this._hasOwnPendingAsyncValidator=!0;const e=Gk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=r instanceof oI?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof GP&&r.at(a)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?aw:this.errors?sI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(n0)?n0:this._anyControlsHaveStatus(sI)?sI:ow}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){TM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Qf extends EM{constructor(t=null,e,r){super(wM(e),CM(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class oI extends EM{constructor(t,e,r){super(wM(e),CM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof Qf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,l)=>{r=e(r,a,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class GP extends EM{constructor(t,e,r){super(wM(e),CM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Qf?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const WP={provide:Jf,useExisting:(0,o.Gpc)(()=>lw)},hR=(()=>Promise.resolve(null))();let lw=(()=>{class n extends Jf{constructor(e,r,a,l){super(),this.control=new Qf,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=bM(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),vM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?eI(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;hR.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ao,9),o.Y36(ct,10),o.Y36(Bn,10),o.Y36(P,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([WP]),o.qOj,o.TTD]}),n})(),fR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const YP={provide:P,useExisting:(0,o.Gpc)(()=>IM),multi:!0};let IM=(()=>{class n extends R{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&o.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[o._Bn([YP]),o.qOj]}),n})(),pR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const QP={provide:P,useExisting:(0,o.Gpc)(()=>AM),multi:!0};let AM=(()=>{class n extends R{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,r){1&e&&o.NdJ("change",function(l){return r.onChange(l.target.value)})("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[o._Bn([QP]),o.qOj]}),n})();const SM=new o.OlP("NgModelWithFormControlWarning"),eF={provide:ao,useExisting:(0,o.Gpc)(()=>aI)};let aI=(()=>{class n extends ao{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return sw(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){tI(e.control||null,e,!1),iI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,a=this.form.get(e.path);r!==a&&(tI(r||null,e),a instanceof Qf&&(sw(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function(n,t){yM(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return rI(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yM(this.form,this),this._oldForm&&rI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ct,10),o.Y36(Bn,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&o.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([eF]),o.qOj,o.TTD]}),n})();const rF={provide:Jf,useExisting:(0,o.Gpc)(()=>xM)};let xM=(()=>{class n extends Jf{constructor(e,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=bM(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),vM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return eI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ao,13),o.Y36(ct,10),o.Y36(Bn,10),o.Y36(P,10),o.Y36(SM,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([rF]),o.qOj,o.TTD]}),n._ngModelWarningSentOnce=!1,n})();const iF={provide:P,useExisting:(0,o.Gpc)(()=>cw),multi:!0};function yR(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let cw=(()=>{class n extends R{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const a=yR(r,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&o.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([iF]),o.qOj]}),n})(),uI=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(cw,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const oF={provide:P,useExisting:(0,o.Gpc)(()=>kM),multi:!0};function vR(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let kM=(()=>{class n extends R{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const l=r.selectedOptions;for(let h=0;h<l.length;h++){const m=l.item(h),b=this._getOptionValue(m.value);a.push(b)}}else{const l=r.options;for(let h=0;h<l.length;h++){const m=l.item(h);if(m.selected){const b=this._getOptionValue(m.value);a.push(b)}}}this.value=a,e(a)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&o.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([oF]),o.qOj]}),n})(),lI=(()=>{class n{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(vR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(vR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(kM,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const cF={provide:ct,useExisting:(0,o.Gpc)(()=>cI),multi:!0};let cI=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&o.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[o._Bn([cF])]}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[pR]]}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[NR]}),n})(),mF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:SM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[NR]}),n})();function EF(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",1),o.NdJ("click",function(){return o.CHM(e),o.oxw().close()}),o.TgZ(1,"span",2),o._uU(2,"\xd7"),o.qZA(),o.qZA()}}const r0=["*"],i2=["dialog"];function Xf(n){return null!=n}function o0(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const RR={animation:!0,transitionTimerDelayMs:5};let ji=(()=>{class n{constructor(){this.animation=RR.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const mL=()=>{},{transitionTimerDelayMs:_L}=RR,hw=new Map,bi=(n,t,e,r)=>{let a=r.context||{};const l=hw.get(t);if(l)switch(r.runningTransition){case"continue":return Jr.E;case"stop":n.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),hw.delete(t)}const h=e(t,r.animation,a)||mL;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>h()),(0,qe.of)(void 0).pipe(function(n){return t=>new Rt.y(e=>t.subscribe(h=>n.run(()=>e.next(h)),h=>n.run(()=>e.error(h)),()=>n.run(()=>e.complete())))}(n));const m=new an.xQ,b=new an.xQ,D=m.pipe(function(...n){return t=>Yi(t,(0,qe.of)(...n))}(!0));hw.set(t,{transition$:m,complete:()=>{b.next(),b.complete()},context:a});const N=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const M=gr(t,"transitionend").pipe(Cr(D),Pn(({target:$})=>$===t));(function(...n){if(1===n.length){if(!(0,vs.k)(n[0]))return n[0];n=n[0]}return(0,Co.n)(n,void 0).lift(new oM)})(function(n=0,t,e){let r=-1;return(0,nw.k)(t)?r=Number(t)<1?1:Number(t):(0,pu.K)(t)&&(e=t),(0,pu.K)(e)||(e=Ym.P),new Rt.y(a=>{const l=(0,nw.k)(n)?n:+n-e.now();return e.schedule(WD,l,{index:0,period:r,subscriber:a})})}(N+_L).pipe(Cr(D)),M,b).pipe(Cr(D)).subscribe(()=>{hw.delete(t),n.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let VR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),wL=(()=>{class n{constructor(e){this._ngbConfig=e,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ji))},n.\u0275prov=o.Yz7({factory:function(){return new n(o.LFG(ji))},token:n,providedIn:"root"}),n})();const CL=({classList:n})=>{n.remove("show")};let TL=(()=>{class n{constructor(e,r,a,l){this._renderer=r,this._element=a,this._zone=l,this.closed=new o.vpe,this.dismissible=e.dismissible,this.type=e.type,this.animation=e.animation}close(){const e=bi(this._zone,this._element.nativeElement,CL,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}ngOnChanges(e){const r=e.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(wL),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(e,r){2&e&&o.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{dismissible:"dismissible",type:"type",animation:"animation"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[o.TTD],ngContentSelectors:r0,decls:2,vars:1,consts:function(){let t;return t=$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,[["type","button","class","close","aria-label",t,3,"click",4,"ngIf"],["type","button","aria-label",t,1,"close",3,"click"],["aria-hidden","true"]]},template:function(e,r){1&e&&(o.F$t(),o.Hsn(0),o.YNc(1,EF,3,0,"button",0)),2&e&&(o.xp6(1),o.Q6J("ngIf",r.dismissible))},directives:[yn],styles:["ngb-alert{display:block}"],encapsulation:2,changeDetection:0}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),ZR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var qt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(qt||(qt={})),qt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const KR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JR(n){const t=Array.from(n.querySelectorAll(KR)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let r,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const l=this.offsetParent(t);r=this.offset(t,!1),l!==document.documentElement&&(a=this.offset(l,!1)),a.top+=l.clientTop,a.left+=l.clientLeft}return r.top-=a.top,r.bottom-=a.top,r.left-=a.left,r.right-=a.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(t,e=!0){const r=t.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let l={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+a_top,bottom:r.bottom+a_top,left:r.left+a_left,right:r.right+a_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,r,a){const[l="top",h="center"]=r.split("-"),m=a?this.offset(t,!1):this.position(t,!1),b=this.getAllStyles(e),D=parseFloat(b.marginTop),N=parseFloat(b.marginBottom),M=parseFloat(b.marginLeft),V=parseFloat(b.marginRight);let $=0,re=0;switch(l){case"top":$=m.top-(e.offsetHeight+D+N);break;case"bottom":$=m.top+m.height;break;case"left":re=m.left-(e.offsetWidth+M+V);break;case"right":re=m.left+m.width}switch(h){case"top":$=m.top;break;case"bottom":$=m.top+m.height-e.offsetHeight;break;case"left":re=m.left;break;case"right":re=m.left+m.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?re=m.left+m.width/2-e.offsetWidth/2:$=m.top+m.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(re)}px, ${Math.round($)}px)`;const ve=e.getBoundingClientRect(),Se=document.documentElement,rt=window.innerHeight||Se.clientHeight,Qe=window.innerWidth||Se.clientWidth;return ve.left>=0&&ve.top>=0&&ve.right<=Qe&&ve.bottom<=rt}},new Date(1882,10,12),new Date(2174,10,25);let aO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr,MR]]}),n})(),GM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),dO=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ji))},n.\u0275prov=o.Yz7({factory:function(){return new n(o.LFG(ji))},token:n,providedIn:"root"}),n})();class fm{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}const gV=()=>{};let hO=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):gV}_adjustBody(e){const r=this._document.body,a=r.style.paddingRight,l=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${l+e}px`,()=>r.style["padding-right"]=a}_isPresent(e){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return r.removeChild(e),a}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(de))},n.\u0275prov=o.Yz7({factory:function(){return new n(o.LFG(de))},token:n,providedIn:"root"}),n})(),mV=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{bi(this._zone,this._el.nativeElement,(e,r)=>{r&&o0(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,r){2&e&&(o.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),o.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class zM{close(t){}dismiss(t){}}class _V{constructor(t,e,r,a){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=a,this._closed=new an.xQ,this._dismissed=new an.xQ,this._hidden=new an.xQ,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Cr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Cr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(r=>{!1!==r&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,qe.of)(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yy(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(yw||(yw={})),yw))();let yV=(()=>{class n{constructor(e,r,a){this._document=e,this._elRef=r,this._zone=a,this._closed$=new an.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new an.xQ,this.hidden=new an.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Yy(bi(this._zone,e,()=>e.classList.remove("show"),r),bi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Yy(bi(this._zone,this._elRef.nativeElement,(l,h)=>{h&&o0(l),l.classList.add("show")},e),bi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{gr(e,"keydown").pipe(Cr(this._closed$),Pn(a=>a.which===qt.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(yw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;gr(this._dialogEl.nativeElement,"mousedown").pipe(Cr(this._closed$),(0,Xn.b)(()=>r=!1),sr(()=>gr(e,"mouseup").pipe(Cr(this._closed$),di(1))),Pn(({target:a})=>e===a)).subscribe(()=>{r=!0}),gr(e,"click").pipe(Cr(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(yw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),a=JR(e)[0];(r||a||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let a;a=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(de),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&o.Gf(i2,7),2&e){let a;o.iGM(a=o.CRH())&&(r._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(o.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),o.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),o.ekj("fade",r.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:r0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&o.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),fO=(()=>{class n{constructor(e,r,a,l,h,m){this._applicationRef=e,this._injector=r,this._document=a,this._scrollBar=l,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new an.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{n.runOutsideAngular(()=>{const a=gr(t,"focusin").pipe(Cr(e),(0,at.U)(l=>l.target));gr(t,"keydown").pipe(Cr(e),Pn(l=>l.which===qt.Tab),JD(a)).subscribe(([l,h])=>{const[m,b]=JR(t);(h===m||h===t)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(m.focus(),l.preventDefault())}),r&&gr(t,"click").pipe(Cr(e),JD(a),(0,at.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}open(e,r,a,l){const h=l.container instanceof HTMLElement?l.container:Xf(l.container)?this._document.querySelector(l.container):this._document.body,m=this._rendererFactory.createRenderer(null,null),b=this._scrollBar.compensate(),D=()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const N=new zM,M=this._getContentRef(e,l.injector||r,a,N,l);let V=!1!==l.backdrop?this._attachBackdrop(e,h):void 0,$=this._attachWindowComponent(e,h,M),re=new _V($,M,V,l.beforeDismiss);return this._registerModalRef(re),this._registerWindowCmpt($),re.result.then(b,b),re.result.then(D,D),N.close=ve=>{re.close(ve)},N.dismiss=ve=>{re.dismiss(ve)},this._applyWindowOptions($.instance,l),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,l),V.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),re}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let l=e.resolveComponentFactory(mV).create(this._injector);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,r,a){let h=e.resolveComponentFactory(yV).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,r){this._windowAttributes.forEach(a=>{Xf(r[a])&&(e[a]=r[a])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(a=>{Xf(r[a])&&(e[a]=r[a])})}_getContentRef(e,r,a,l,h){return a?a instanceof o.Rgc?this._createFromTemplateRef(a,l):function(n){return"string"==typeof n}(a)?this._createFromString(a):this._createFromComponent(e,r,a,l,h):new fm([])}_createFromTemplateRef(e,r){const l=e.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(l),new fm([l.rootNodes],l)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new fm([[r]])}_createFromComponent(e,r,a,l,h){const m=e.resolveComponentFactory(a),b=o.zs3.create({providers:[{provide:zM,useValue:l}],parent:r}),D=m.create(b),N=D.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new fm([[N]],D.hostView,D)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(de),o.LFG(hO),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({factory:function(){return new n(o.LFG(o.z2F),o.LFG(o.gxx),o.LFG(de),o.LFG(hO),o.LFG(o.FYo),o.LFG(o.R0b))},token:n,providedIn:"root"}),n})(),pO=(()=>{class n{constructor(e,r,a,l){this._moduleCFR=e,this._injector=r,this._modalStack=a,this._config=l}open(e,r={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(fO),o.LFG(dO))},n.\u0275prov=o.Yz7({factory:function(){return new n(o.LFG(o._Vd),o.LFG(o.gxx),o.LFG(fO),o.LFG(dO))},token:n,providedIn:"root"}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pO]}),n})(),vO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let jO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vr]]}),n})();const t3=[VR,UR,jR,ZR,GR,aO,cO,gO,vO,AO,MO,xO,kO,FO,LO,VO,jO];let n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[t3,VR,UR,jR,ZR,GR,aO,cO,gO,vO,AO,MO,xO,kO,FO,LO,VO,jO]}),n})();function r3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.lastnameMessage)}}function i3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.firstnameMessage)}}function s3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.genderMessage)}}function o3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.birthdayMessage)}}function a3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.emailMessage)}}function u3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.usernameMessage)}}function l3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.passwordMessage)}}function c3(n,t){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.passwordRepeatMessage)}}let d3=(()=>{class n{constructor(e,r,a){this.activeModal=e,this.router=r,this.userData=a,this.email="",this.firstname="",this.lastname="",this.username="",this.birthday=new Date,this.password="",this.repeatPassword="",this.gender="",this.wrongEmailClass="",this.wrongFirstname="",this.wrongLastname="",this.wrongUsername="",this.wrongBirthday="",this.wrongGender="",this.wrongPasswordClass="",this.wrongRepeatPasswordClass="",this.emailMessage="",this.firstnameMessage="",this.lastnameMessage="",this.usernameMessage="",this.birthdayMessage="",this.genderMessage="",this.passwordMessage="",this.passwordRepeatMessage=""}register(){var e=this;return(0,se.Z)(function*(){try{yield e.userData.register(e.email,e.password);const a=(0,Zu.n)().currentUser;e.activeModal.close(),e.router.navigate(["/profil"]),a&&(yield e.userData.addUser(new um(a.uid,e.firstname,e.lastname,e.username,e.birthday,e.gender)))}catch(r){"auth/invalid-email"===r.code?(e.emailMessage="E-Mail ist nicht richtig formatiert",e.wrongEmailClass="border-danger"):"auth/weak-password"===r.code&&(e.passwordMessage="Das Passwort ist nicht korrekt",e.wrongPasswordClass="border-danger")}})()}inputCheck(){var e=this;return(0,se.Z)(function*(){e.email.trim().length>0&&e.password.trim().length>0&&e.firstname.trim().length>0&&e.lastname.trim().length>0&&e.gender.trim().length>0&&e.username.trim().length>0&&null!=e.birthday&&e.password===e.repeatPassword?yield e.register():(0===e.email.trim().length&&(e.emailMessage="Geben Sie Ihre E-Mail an",e.wrongEmailClass="border-danger"),0===e.password.trim().length&&(e.passwordMessage="Geben Sie ein Passwort an",e.wrongPasswordClass="border-danger"),0===e.repeatPassword.trim().length&&(e.passwordRepeatMessage="Wiederholen Sie Ihr Passwort",e.wrongRepeatPasswordClass="border-danger"),e.repeatPassword!==e.password&&(e.passwordRepeatMessage="Die Passw\xf6rter sind nicht identisch",e.wrongRepeatPasswordClass="border-danger"),0===e.firstname.trim().length&&(e.firstnameMessage="Geben Sie Ihren Vornamen an",e.wrongFirstname="border-danger"),0===e.lastname.trim().length&&(e.lastnameMessage="Geben Sie Ihren Nachnamen an",e.wrongLastname="border-danger"),0===e.username.trim().length&&(e.usernameMessage="Geben Sie einen Nutzername an",e.wrongUsername="border-danger"),0===e.gender.trim().length&&(e.genderMessage="Geben Sie Ihr Geschlecht an",e.wrongGender="border-danger"),void 0===e.birthday&&(e.birthdayMessage="Geben Sie Ihren Geburtstag an",e.wrongBirthday="border-danger"))})()}validEmail(e){e.trim().length>=0&&(this.emailMessage="",this.wrongEmailClass="")}validFirstname(e){e.trim().length>=0&&(this.firstnameMessage="",this.wrongFirstname="")}validLastname(e){e.trim().length>=0&&(this.lastnameMessage="",this.wrongLastname="")}validUsername(e){e.trim().length>=0&&(this.usernameMessage="",this.wrongUsername="")}validBirthday(e){console.log(e),e.trim().length>=0&&(this.birthdayMessage="",this.wrongBirthday="")}validPassword(e){e.trim().length>=0&&(this.passwordMessage="",this.wrongPasswordClass="")}validGender(e){console.log(e),e.trim().length>=0&&(this.genderMessage="",this.wrongGender="")}validRepeatPassword(e){e.trim().length>=0&&(this.passwordRepeatMessage="",this.wrongRepeatPasswordClass="")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zM),o.Y36(Nr),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-registration"]],decls:91,vars:40,consts:[[1,"modal-header","border-0"],[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","justify-content-center"],[1,"modal-title","text-center","h4","mx-auto","logoGreenDark"],[1,"col-2"],[1,"col-1","p-0"],["type","button","aria-label","Close",1,"close","logoGreenDark",2,"position","absolute",3,"click"],["aria-hidden","true"],[1,"modal-body","border-0"],[1,"col"],[1,"form-group"],["for","userLastname"],["type","text","id","userLastname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["ln",""],["class","text-danger",4,"ngIf"],["for","userFirstname"],["type","text","id","userFirstname",3,"ngModel","ngModelChange","keydown","keydown.enter"],["fn",""],["for",""],["name","","id","",3,"ngModel","ngModelChange","change","keydown.enter"],["gd",""],["value",""],["value","FEMALE"],["value","MALE"],["value","DIVERSE"],["for","userBirthday"],["type","date","id","userBirthday",3,"ngModel","ngModelChange","change","keydown.enter"],["bd",""],["for","userEmail"],["type","text","id","userEmail",3,"ngModel","ngModelChange","keydown","keydown.enter"],["mail",""],["for","userUsername"],["type","text","id","userUsername",3,"ngModel","ngModelChange","keydown","keydown.enter"],["un",""],["for","userPassword"],["type","password","id","userPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["pw",""],["for","repeatPassword"],["type","password","id","repeatPassword",3,"ngModel","ngModelChange","keydown","keydown.enter"],["rpw",""],[1,"modal-footer"],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-danger","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o._uU(6,"Registrieren"),o.qZA(),o.qZA(),o._UZ(7,"div",6),o.TgZ(8,"div",7),o.TgZ(9,"button",8),o.NdJ("click",function(){return r.activeModal.dismiss()}),o.TgZ(10,"span",9),o._uU(11,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",10),o.TgZ(13,"div",1),o.TgZ(14,"div",2),o.TgZ(15,"div",11),o.TgZ(16,"div",12),o.TgZ(17,"label",13),o._uU(18,"Nachname"),o.qZA(),o.TgZ(19,"input",14,15),o.NdJ("ngModelChange",function(h){return r.lastname=h})("keydown",function(){o.CHM(a);const h=o.MAs(20);return r.validLastname(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(21,r3,2,1,"div",16),o.qZA(),o.qZA(),o.TgZ(22,"div",11),o.TgZ(23,"div",12),o.TgZ(24,"label",17),o._uU(25,"Vorname"),o.qZA(),o.TgZ(26,"input",18,19),o.NdJ("ngModelChange",function(h){return r.firstname=h})("keydown",function(){o.CHM(a);const h=o.MAs(27);return r.validFirstname(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(28,i3,2,1,"div",16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",2),o.TgZ(30,"div",11),o.TgZ(31,"div",12),o.TgZ(32,"label",20),o._uU(33,"Geschlecht"),o.qZA(),o.TgZ(34,"select",21,22),o.NdJ("ngModelChange",function(h){return r.gender=h})("change",function(){o.CHM(a);const h=o.MAs(35);return r.validGender(h.value)})("keydown.enter",function(){return r.inputCheck()}),o._UZ(36,"option",23),o.TgZ(37,"option",24),o._uU(38,"Weiblich"),o.qZA(),o.TgZ(39,"option",25),o._uU(40,"M\xe4nnlich"),o.qZA(),o.TgZ(41,"option",26),o._uU(42,"Divers"),o.qZA(),o.qZA(),o.YNc(43,s3,2,1,"div",16),o.qZA(),o.qZA(),o.TgZ(44,"div",11),o.TgZ(45,"div",12),o.TgZ(46,"label",27),o._uU(47,"Geburtstag"),o.qZA(),o.TgZ(48,"input",28,29),o.NdJ("ngModelChange",function(h){return r.birthday=h})("change",function(){o.CHM(a);const h=o.MAs(49);return r.validBirthday(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(50,o3,2,1,"div",16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(51,"div",2),o.TgZ(52,"div",11),o.TgZ(53,"div",12),o.TgZ(54,"label",30),o._uU(55,"Email"),o.qZA(),o.TgZ(56,"input",31,32),o.NdJ("ngModelChange",function(h){return r.email=h})("keydown",function(){o.CHM(a);const h=o.MAs(57);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(58,a3,2,1,"div",16),o.qZA(),o.qZA(),o.TgZ(59,"div",11),o.TgZ(60,"div",12),o.TgZ(61,"label",33),o._uU(62,"Nutzername"),o.qZA(),o.TgZ(63,"input",34,35),o.NdJ("ngModelChange",function(h){return r.username=h})("keydown",function(){o.CHM(a);const h=o.MAs(64);return r.validUsername(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(65,u3,2,1,"div",16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"div",2),o.TgZ(67,"div",11),o.TgZ(68,"div",12),o.TgZ(69,"label",36),o._uU(70,"Passwort"),o.qZA(),o.TgZ(71,"input",37,38),o.NdJ("ngModelChange",function(h){return r.password=h})("keydown",function(){o.CHM(a);const h=o.MAs(72);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(73,l3,2,1,"div",16),o.qZA(),o.qZA(),o.TgZ(74,"div",11),o.TgZ(75,"div",12),o.TgZ(76,"label",39),o._uU(77,"Passwort wiederholen"),o.qZA(),o.TgZ(78,"input",40,41),o.NdJ("ngModelChange",function(h){return r.repeatPassword=h})("keydown",function(){o.CHM(a);const h=o.MAs(79);return r.validRepeatPassword(h.value)})("keydown.enter",function(){return r.inputCheck()}),o.qZA(),o.YNc(80,c3,2,1,"div",16),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(81,"div",42),o.TgZ(82,"div",1),o.TgZ(83,"div",43),o.TgZ(84,"div",44),o.TgZ(85,"button",45),o.NdJ("click",function(){return r.inputCheck()}),o._uU(86,"Registrieren "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(87,"div",43),o.TgZ(88,"div",44),o.TgZ(89,"button",46),o.NdJ("click",function(){return r.activeModal.dismiss()}),o._uU(90,"Abbrechen "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(19),o.Gre("form-control ",r.wrongLastname,""),o.Q6J("ngModel",r.lastname),o.xp6(2),o.Q6J("ngIf",""!==r.lastnameMessage),o.xp6(5),o.Gre("form-control ",r.wrongFirstname,""),o.Q6J("ngModel",r.firstname),o.xp6(2),o.Q6J("ngIf",""!==r.firstnameMessage),o.xp6(6),o.Gre("form-control ",r.wrongGender,""),o.Q6J("ngModel",r.gender),o.xp6(9),o.Q6J("ngIf",""!==r.genderMessage),o.xp6(5),o.Gre("form-control ",r.wrongBirthday,""),o.Q6J("ngModel",r.birthday),o.xp6(2),o.Q6J("ngIf",""!==r.birthdayMessage),o.xp6(6),o.Gre("form-control ",r.wrongEmailClass,""),o.Q6J("ngModel",r.email),o.xp6(2),o.Q6J("ngIf",""!==r.emailMessage),o.xp6(5),o.Gre("form-control ",r.wrongUsername,""),o.Q6J("ngModel",r.username),o.xp6(2),o.Q6J("ngIf",""!==r.usernameMessage),o.xp6(6),o.Gre("form-control ",r.wrongPasswordClass,""),o.Q6J("ngModel",r.password),o.xp6(2),o.Q6J("ngIf",""!==r.passwordMessage),o.xp6(5),o.Gre("form-control ",r.wrongRepeatPasswordClass,""),o.Q6J("ngModel",r.repeatPassword),o.xp6(2),o.Q6J("ngIf",""!==r.passwordRepeatMessage))},directives:[_e,iw,lw,yn,cw,uI,lI],styles:[""]}),n})();function h3(n,t){if(1&n&&(o.TgZ(0,"div",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.emailMessage)}}function f3(n,t){if(1&n&&(o.TgZ(0,"div",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.passwordMessage)}}let p3=(()=>{class n{constructor(e,r){this.modalService=e,this.userData=r,this.email="",this.password="",this.wrongEmail="",this.wrongPassword="",this.emailMessage="",this.passwordMessage=""}openRegistrationModal(){this.modalService.open(d3,{animation:!0,centered:!0})}inputCheck(){var e=this;return(0,se.Z)(function*(){0===e.email.trim().length&&0===e.password.trim().length?(e.wrongEmail="border-danger",e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password",e.emailMessage="Please fill out your email"):0===e.email.trim().length?(e.emailMessage="Please fill out your email",e.wrongEmail="border-danger"):0===e.password.trim().length?(e.wrongPassword="border-danger",e.passwordMessage="Please fill out your password"):(e.wrongEmail="",yield e.login())})()}login(){var e=this;return(0,se.Z)(function*(){e.userData.login(e.email,e.password).then(()=>{}).catch(r=>{console.log(r),"auth/invalid-email"===r.code&&(e.emailMessage="E-Mail falsch formatiert",e.wrongEmail="border-danger"),"auth/wrong-password"===r.code&&(e.passwordMessage="Falsches Passwort",e.wrongPassword="border-danger"),"auth/user-not-found"===r.code&&(e.emailMessage="Nutzer nicht gefunden",e.wrongEmail="border-danger")})})()}validEmail(e){e.trim().length>=0&&(this.wrongEmail="",this.emailMessage="")}validPassword(e){e.trim().length>=0&&(this.wrongPassword="",this.passwordMessage="")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pO),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-notloggedin"]],decls:28,vars:10,consts:[[1,"card","rounded","shadow","container","mt-5","bg-white","border-0",2,"max-width","500px"],[1,"card-body"],[1,"container"],[1,"row"],[1,"h4","mt-2","logoGreenDark","mx-auto"],[1,"form-group","col-md-12"],["for","inputEmail",1,"logoGreenDark"],["type","email","id","inputEmail","placeholder","name@example.com",3,"ngModel","keydown","keydown.enter","ngModelChange"],["mail",""],["class","text-danger",4,"ngIf"],["for","inputPassword",1,"logoGreenDark"],["type","password","id","inputPassword",3,"ngModel","keypress","keydown.enter","ngModelChange"],["passw",""],[1,"row","justify-content-center"],[1,"col-6"],["type","button",1,"btn","btn-success","mx-auto","m-3","btn-block",3,"click"],["type","button",1,"btn","btn-dark","mx-auto","btn-block",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5,"Login"),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",5),o.TgZ(8,"label",6),o._uU(9,"Email"),o.qZA(),o.TgZ(10,"input",7,8),o.NdJ("keydown",function(){o.CHM(a);const h=o.MAs(11);return r.validEmail(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.email=h}),o.qZA(),o.YNc(12,h3,2,1,"div",9),o.qZA(),o.qZA(),o.TgZ(13,"div",3),o.TgZ(14,"div",5),o.TgZ(15,"label",10),o._uU(16,"Password"),o.qZA(),o.TgZ(17,"input",11,12),o.NdJ("keypress",function(){o.CHM(a);const h=o.MAs(18);return r.validPassword(h.value)})("keydown.enter",function(){return r.inputCheck()})("ngModelChange",function(h){return r.password=h}),o.qZA(),o.YNc(19,f3,2,1,"div",9),o.qZA(),o.qZA(),o.TgZ(20,"div",13),o.TgZ(21,"div",14),o.TgZ(22,"button",15),o.NdJ("click",function(){return r.inputCheck()}),o._uU(23,"Anmelden "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"div",13),o.TgZ(25,"div",14),o.TgZ(26,"button",16),o.NdJ("click",function(){return r.openRegistrationModal()}),o._uU(27,"Registrieren "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(10),o.Gre("form-control ",r.wrongEmail,""),o.Q6J("ngModel",r.email),o.xp6(2),o.Q6J("ngIf",""!==r.emailMessage),o.xp6(5),o.Gre("form-control ",r.wrongPassword,""),o.Q6J("ngModel",r.password),o.xp6(2),o.Q6J("ngIf",""!==r.passwordMessage))},directives:[_e,iw,lw,yn],styles:[""]}),n})();function g3(n,t){1&n&&o._UZ(0,"app-loggedin")}function m3(n,t){1&n&&o._UZ(0,"app-notloggedin")}let _3=(()=>{class n{constructor(e){this.userData=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profil"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,r){1&e&&(o.YNc(0,g3,1,0,"app-loggedin",0),o.YNc(1,m3,1,0,"app-notloggedin",0)),2&e&&(o.Q6J("ngIf",r.userData.user),o.xp6(1),o.Q6J("ngIf",!r.userData.user))},directives:[yn,rM,p3],styles:[""]}),n})();class y3{constructor(t,e,r,a){this.model=t,this.mark=e,this.seats=r,this.storage=a}}let JM=(()=>{class n{constructor(e){this.afs=e,this.carCollection=e.collection("Cars")}copyAndPrepareCar(e){return Object.assign({},e)}addCar(e){var r=this;return(0,se.Z)(function*(){return r.carCollection.add(r.copyAndPrepareCar(e)).then(a=>a.id)})()}updateCar(e){var r=this;return(0,se.Z)(function*(){yield r.carCollection.doc(e.dId).update(r.copyAndPrepareCar(e))})()}deleteCar(e){var r=this;return(0,se.Z)(function*(){r.carCollection.doc(e).delete().catch(a=>console.log(a))})()}getCarById(e){var r=this;return(0,se.Z)(function*(){return r.carCollection.doc(e).get().toPromise().then(a=>{if(a.exists){const l=a.data();return null!=l?(l.dId=a.id,l):null}return null})})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"h5",3),o._uU(2),o.qZA(),o.TgZ(3,"p",4),o._uU(4),o.qZA(),o.TgZ(5,"p",5),o._uU(6),o.qZA(),o.TgZ(7,"p",5),o._uU(8),o.qZA(),o.TgZ(9,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().deleteEvent.emit()}),o._uU(10,"Delete"),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.car.model),o.xp6(2),o.Oqu(e.car.mark),o.xp6(2),o.hij("",e.car.seats," Pl\xe4tze"),o.xp6(2),o.hij("",e.car.storage," \u33a5")}}let b3=(()=>{class n{constructor(e,r){this.userService=e,this.carData=r,this.carId="",this.deleteEvent=new o.vpe,this.car=null}ngOnInit(){var e=this;return(0,se.Z)(function*(){e.car=yield e.carData.getCarById(e.carId)})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa),o.Y36(JM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-car-item"]],inputs:{carId:"carId"},outputs:{deleteEvent:"deleteEvent"},decls:2,vars:1,consts:[[1,"card",2,"width","18rem"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card","text"],[1,"btn","btn-primary","btn-danger","ml-1",3,"click"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.YNc(1,v3,11,4,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",r.car))},directives:[yn],styles:[""]}),n})();function w3(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1," Name is required. "),o.qZA())}function C3(n,t){if(1&n&&(o.TgZ(0,"div",16),o.YNc(1,w3,2,0,"div",0),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.form.controls.fahrzeugModel.errors?null:e.form.controls.fahrzeugModel.errors.required)}}function T3(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1," Name is required. "),o.qZA())}function E3(n,t){if(1&n&&(o.TgZ(0,"div",16),o.YNc(1,T3,2,0,"div",0),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.form.controls.fahrzeugKennzeichen.errors?null:e.form.controls.fahrzeugKennzeichen.errors.required)}}function D3(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1," Name is required. "),o.qZA())}function I3(n,t){if(1&n&&(o.TgZ(0,"div",16),o.YNc(1,D3,2,0,"div",0),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.form.controls.fahrzeugSitzplaetze.errors?null:e.form.controls.fahrzeugSitzplaetze.errors.required)}}function A3(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1," Name is required. "),o.qZA())}function S3(n,t){if(1&n&&(o.TgZ(0,"div",16),o.YNc(1,A3,2,0,"div",0),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",null==e.form.controls.fahrzeugStauraum.errors?null:e.form.controls.fahrzeugStauraum.errors.required)}}function N3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",17),o.TgZ(2,"app-car-item",18),o.NdJ("deleteEvent",function(){const l=o.CHM(e).$implicit;return o.oxw(2).deleteCar(l)}),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("carId",e)}}function M3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"form",1),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().onSubmit()}),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"span",4),o._uU(5,"Fahrzeug-Model"),o.qZA(),o.qZA(),o._UZ(6,"input",5),o.YNc(7,C3,2,1,"div",6),o.TgZ(8,"div",3),o.TgZ(9,"span",7),o._uU(10,"Kennzeichen"),o.qZA(),o.qZA(),o._UZ(11,"input",8),o.YNc(12,E3,2,1,"div",6),o.qZA(),o.TgZ(13,"div",2),o.TgZ(14,"div",3),o.TgZ(15,"span",9),o._uU(16,"Sitzpl\xe4tze"),o.qZA(),o.qZA(),o._UZ(17,"input",10),o.YNc(18,I3,2,1,"div",6),o.TgZ(19,"div",3),o.TgZ(20,"span",11),o._uU(21,"Stauraum"),o.qZA(),o.qZA(),o._UZ(22,"input",12),o.YNc(23,S3,2,1,"div",6),o.qZA(),o.TgZ(24,"div",2),o.TgZ(25,"button",13),o._uU(26,"Fahrzeug hinzuf\xfcgen"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",14),o.YNc(28,N3,3,1,"div",15),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("formGroup",e.form),o.xp6(6),o.Q6J("ngIf",e.form.controls.fahrzeugModel.invalid&&(e.form.controls.fahrzeugModel.dirty||e.form.controls.fahrzeugModel.touched)),o.xp6(5),o.Q6J("ngIf",e.form.controls.fahrzeugKennzeichen.invalid&&(e.form.controls.fahrzeugKennzeichen.dirty||e.form.controls.fahrzeugKennzeichen.touched)),o.xp6(6),o.Q6J("ngIf",e.form.controls.fahrzeugSitzplaetze.invalid&&(e.form.controls.fahrzeugSitzplaetze.dirty||e.form.controls.fahrzeugSitzplaetze.touched)),o.xp6(5),o.Q6J("ngIf",e.form.controls.fahrzeugStauraum.invalid&&(e.form.controls.fahrzeugStauraum.dirty||e.form.controls.fahrzeugStauraum.touched)),o.xp6(2),o.Q6J("disabled",e.form.invalid||e.form.pristine),o.xp6(3),o.Q6J("ngForOf",e.userService.currUser.car)}}let x3=(()=>{class n{constructor(e,r,a){this.userService=e,this.router=r,this.carData=a,this.form=new oI({fahrzeugModel:new Qf,fahrzeugKennzeichen:new Qf,fahrzeugSitzplaetze:new Qf,fahrzeugStauraum:new Qf}),this.userService.currUser||this.router.navigate(["/"])}deleteCar(e){var r=this;return(0,se.Z)(function*(){yield r.userService.deleteCar(e),yield r.carData.deleteCar(e)})()}onSubmit(){var e=this;if(this.fahrzeugModel=this.form.controls.fahrzeugModel.value,this.fahrzeugKennzeichen=this.form.controls.fahrzeugKennzeichen.value,this.fahrzeugSitzplaetze=this.form.controls.fahrzeugSitzplaetze.value,this.fahrzeugStauraum=this.form.controls.fahrzeugStauraum.value,this.fahrzeugModel&&this.fahrzeugKennzeichen&&this.fahrzeugSitzplaetze&&this.fahrzeugStauraum){let r=new y3(this.fahrzeugModel,this.fahrzeugKennzeichen,this.fahrzeugSitzplaetze,this.fahrzeugStauraum);this.userService.currUser&&this.carData.addCar(r).then(function(){var a=(0,se.Z)(function*(l){console.log(l),yield e.userService.addCar(l)});return function(l){return a.apply(this,arguments)}}()),document.getElementById("add-car-form").reset()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa),o.Y36(Nr),o.Y36(JM))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-carlist"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","add-car-form",2,"margin-top","100px",3,"formGroup","ngSubmit"],[1,"input-group","mb-3",2,"width","60%","position","relative","margin-right","auto","margin-left","auto"],[1,"input-group-prepend"],["id","add-car-model",1,"input-group-text"],["type","text","placeholder","VW Touran, Porsche 911, ...","aria-label","Fahrzeug-Model","aria-describedby","add-fahrzeug-model","id","add-fahrzeug-model-input","formControlName","fahrzeugModel","required","",1,"form-control"],["class","alert-danger",4,"ngIf"],["id","add-fahrzeug-kennzeichen",1,"input-group-text"],["type","text","placeholder","Kennzeichen","aria-label","Kennzeichen","aria-describedby","add-fahrzeug-kennzeichen","id","add-fahrzeug-kennzeichen-input","formControlName","fahrzeugKennzeichen","required","",1,"form-control"],["id","add-fahrzeug-Sitzplaetze",1,"input-group-text"],["type","number","placeholder","Sitzpl\xe4tze","aria-label","Sitzplaetze","aria-describedby","add-fahrzeug-sitzplaetze","id","add-fahrzeug-sitzplaetze-input","formControlName","fahrzeugSitzplaetze","required","",1,"form-control"],["id","add-Stauraum",1,"input-group-text"],["type","number","placeholder","Stauraum in \u33a5","aria-label","Stauraum","aria-describedby","add-stauraum","id","add-stauraum-input","formControlName","fahrzeugStauraum","required","",1,"form-control"],["type","submit",1,"btn","btn-info",2,"background-color","#005B51",3,"disabled"],[2,"display","flex","flex-direction","row","justify-content","center"],[4,"ngFor","ngForOf"],[1,"alert-danger"],[1,"ml-3","mr-3"],[3,"carId","deleteEvent"]],template:function(e,r){1&e&&o.YNc(0,M3,29,7,"div",0),2&e&&o.Q6J("ngIf",r.userService.currUser)},directives:[yn,fR,iR,aI,_e,iw,xM,cI,IM,yt,b3],styles:[""]}),n})(),$O=(()=>{class n{constructor(){this.searchbarheigth="5em",this.iconsize="25px"}scroll(e){e.scrollIntoView({behavior:"smooth"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-suchleiste"]],decls:42,vars:36,consts:[[1,"masthead"],[1,"center"],[2,"font-size","4em","color","#005B51","text-align","center","margin-bottom","20px"],[1,"form-row","form-row-style","align-items-center"],[1,"col","colpad"],[1,"input-group","mb-3","border-right"],[1,"row"],[1,"input-group-text","input-opaque"],["src","../../../../assets/img/Icons/von_icon.png"],["type","text","placeholder","Von...",1,"text-opaque"],["src","../../../../assets/img/Icons/nach_icon.png"],["type","text","placeholder","Nach...",1,"text-opaque"],["src","../../../../assets/img/Icons/kalender_icon.png"],["type","date","placeholder","Datum",1,"text-opaque"],["src","../../../../assets/img/Icons/koffer_icon_white.png"],["type","number","placeholder","m\xb3",1,"text-opaque"],["src","../../../../assets/img/Icons/mitfahrer_icon_white.png"],["type","number","placeholder","1",1,"text-opaque"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[2,"height","200px"],["target",""]],template:function(e,r){if(1&e){const a=o.EpF();o.TgZ(0,"header",0),o.TgZ(1,"div",1),o.TgZ(2,"h1",2),o._uU(3,"Wir fahren, du sparst!"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"span",7),o._UZ(9,"img",8),o.qZA(),o._UZ(10,"input",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"div",5),o.TgZ(13,"div",6),o.TgZ(14,"span",7),o._UZ(15,"img",10),o.qZA(),o._UZ(16,"input",11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",4),o.TgZ(18,"div",5),o.TgZ(19,"div",6),o.TgZ(20,"span",7),o._UZ(21,"img",12),o.qZA(),o._UZ(22,"input",13),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"div",4),o.TgZ(24,"div",5),o.TgZ(25,"div",6),o.TgZ(26,"span",7),o._UZ(27,"img",14),o.qZA(),o._UZ(28,"input",15),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",4),o.TgZ(30,"div",5),o.TgZ(31,"div",6),o.TgZ(32,"span",7),o._UZ(33,"img",16),o.qZA(),o._UZ(34,"input",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(35,"div",4),o.TgZ(36,"button",18),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(41);return r.scroll(h)}),o.TgZ(37,"h3"),o._uU(38,"Suchen"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(39,"div",19),o._UZ(40,"div",null,20),o.qZA()}2&e&&(o.xp6(4),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(2),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(3),o.Jzz("width: ",r.iconsize,"; margin-left: 10px"),o.xp6(3),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(3),o.Jzz("width: ",r.iconsize,"; margin-left: 10px"),o.xp6(3),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(3),o.Jzz("width: ",r.iconsize,"; margin-left: 10px"),o.xp6(3),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(3),o.Jzz("width: ",r.iconsize,"; margin-left: 10px"),o.xp6(3),o.Jzz("height: ",r.searchbarheigth,""),o.xp6(3),o.Jzz("width: ",r.iconsize,"; margin-left: 10px"),o.xp6(3),o.Jzz("margin-top: -1em; background-color: #005B51;  height: ",r.searchbarheigth,"; border-radius: 0px 35px 35px 0px"))},styles:["header.masthead[_ngcontent-%COMP%]{position:relative;background-color:#343a40;background:url(Zeichenflache_4.661da432fc963621ee16.svg) no-repeat center center;background-size:cover;padding-top:8rem;padding-bottom:8rem;height:40em}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}.center[_ngcontent-%COMP%]{margin:auto;width:70%}input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none;-webkit-appearance:none}.colpad[_ngcontent-%COMP%]{padding:0;margin:0;width:2em}.input-opaque[_ngcontent-%COMP%]{background-color:#0000;border-color:#0000}.text-opaque[_ngcontent-%COMP%]{background-color:#0000;color:#fff;border-color:#0000;outline:none}.form-row-style[_ngcontent-%COMP%]{background-color:#0000004d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:35px;position:center;margin:0;padding:0}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),n})(),k3=(()=>{class n{constructor(){this.boxTitle="",this.infoText="",this.imagePath=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-infobox"]],inputs:{boxTitle:"boxTitle",infoText:"infoText",imagePath:"imagePath"},decls:6,vars:3,consts:[[1,"shadow","p-3","mb-5","bg-white","rounded","infoheight",2,"width","300px","margin","2em","margin-top","5em"],[1,"infoicon",3,"src"],[2,"color","#005B51","text-align","center"],[2,"text-align","center"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"h3",2),o._uU(3),o.qZA(),o.TgZ(4,"p",3),o._uU(5),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.s9C("src",r.imagePath,o.LSH),o.xp6(2),o.Oqu(r.boxTitle),o.xp6(2),o.hij(" ",r.infoText," "))},styles:[".infoicon[_ngcontent-%COMP%]{width:20%;position:relative;top:-45px;display:block;margin-left:auto;margin-right:auto}.infoheight[_ngcontent-%COMP%]{height:20em}"]}),n})();function R3(n,t){if(1&n&&(o.TgZ(0,"div",3),o._UZ(1,"app-infobox",4),o.qZA()),2&n){const e=t.index,r=o.oxw();o.xp6(1),o.Q6J("boxTitle",r.boxTitles[e])("infoText",r.infoTexts[e])("imagePath",r.imagePaths[e])}}let O3=(()=>{class n{constructor(){this.boxTitles=["Lass dich fahren f\xfcr weniger Geld","Dein Transport: Einfach und unkompliziert","Sorglos fahren, dank Nutzerbewertungen"],this.infoTexts=["Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es relativ g\xfcnstig ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es einfach und unkompliziert ist, mit uns zu fahren!","Hier steht ein Beispieltext zum anlocken von neuen Nutzern durch unser Feature, dass es sorglos, durch Nutzerbewertung, ist, mit uns zu fahren!"],this.imagePaths=["../../assets/img/Icons/money_icon.png","../../assets/img/Icons/transporter_icon.png","../../assets/img/Icons/thumbs_icon.png"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-main-page"]],decls:4,vars:1,consts:[[1,"container"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[3,"boxTitle","infoText","imagePath"]],template:function(e,r){1&e&&(o._UZ(0,"app-suchleiste"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.YNc(3,R3,2,3,"div",2),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngForOf",r.boxTitles))},directives:[$O,yt,k3],styles:[""]}),n})(),HO=(()=>{class n{constructor(){this.changeState=new o.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-slide-checker"]],outputs:{changeState:"changeState"},decls:13,vars:0,consts:[[1,"row","m-3","justify-content-center"],[1,"col"],[1,"d-flex","justify-content-center"],[1,"logoGreenDark","mr-3"],[1,"switch"],["type","checkbox",3,"click"],[1,"slider","round"],[1,"logoGreenDark","ml-3"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h5"),o._uU(5,"Angebote"),o.qZA(),o.qZA(),o.TgZ(6,"div"),o.TgZ(7,"label",4),o.TgZ(8,"input",5),o.NdJ("click",function(){return r.changeState.emit()}),o.qZA(),o._UZ(9,"span",6),o.qZA(),o.qZA(),o.TgZ(10,"div",7),o.TgZ(11,"h5"),o._uU(12,"Anfragen"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})();var TI=(()=>(function(n){n[n.NOSTARTEDYET=0]="NOSTARTEDYET",n[n.ONTHEWAY=1]="ONTHEWAY",n[n.ARRIVED=2]="ARRIVED"}(TI||(TI={})),TI))();class ZO{constructor(t,e,r,a,l,h,m,b,D,N,M,V,$){this.offer=t,this.startCity=e,this.endCity=r,this.startTime=a,this.duration=l,this.date=h,this.price=m,this.storage=b,this.seats=D,this.description=N||"",this.driver=M||"",this.passengers=V||[],this.booked=!1,this.status=TI.NOSTARTEDYET,this.car=$||"",this.evaluation=-1}}let P3=(()=>{class n{constructor(e){this.userService=e,this.tour=new ZO(!1,"","","",0,"",0,0,0,""),this.mergeDateAndTime="",this.userName=""}ngOnInit(){this.mergeDateAndTime=this.tour.date+"T"+this.tour.startTime,this.changeUserName()}navigateToDetails(){console.log(this.tour)}changeUserName(){this.userService.getUser(this.tour.offer?this.tour.driver:this.tour.passengers[0]).then(e=>{this.userName=e?e.username:"Kein User"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tour-card"]],inputs:{tour:"tour"},decls:54,vars:8,consts:[[1,"card","mx-auto","border-0","mb-3",2,"max-width","600px"],[1,"card-body","rounded","shadow","mt-4","bg-white","border-0",3,"click"],[1,"container","cardio"],[1,"row"],[1,"col-4"],["for","startCity",1,"logoGreenDark","mr-1"],["id","startCity",1,"logoGreenDark"],["for","endCity",1,"logoGreenDark","mr-1"],["id","endCity",1,"logoGreenDark"],[1,"text-right"],[1,"mr-2","logoGreenDark"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 65 65",1,"profil"],["id","ic_account_circle_24px","d","M34.5,2A32.5,32.5,0,1,0,67,34.5,32.512,32.512,0,0,0,34.5,2Zm0,9.75a9.75,9.75,0,1,1-9.75,9.75A9.737,9.737,0,0,1,34.5,11.75Zm0,46.15A23.4,23.4,0,0,1,15,47.435c.1-6.468,13-10.01,19.5-10.01,6.467,0,19.4,3.542,19.5,10.01A23.4,23.4,0,0,1,34.5,57.9Z","transform","translate(-2 -2)","fill","#208479"],[1,"col"],[1,"col-9"],[1,"form-group"],["for","time",1,"logoGreenDark"],["type","datetime-local","id","time","readonly","",1,"form-control",3,"value"],[1,"col-2"],[1,"col","text-center"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 33.25"],["id","ic_work_24px","d","M33.5,9h-7V5.5A3.488,3.488,0,0,0,23,2H16a3.488,3.488,0,0,0-3.5,3.5V9h-7a3.473,3.473,0,0,0-3.482,3.5L2,31.75a3.488,3.488,0,0,0,3.5,3.5h28a3.488,3.488,0,0,0,3.5-3.5V12.5A3.488,3.488,0,0,0,33.5,9ZM23,9H16V5.5h7Z","transform","translate(-2 -2)","fill","#208479"],[1,"logoGreenDark","ml-1"],["xmlns","http://www.w3.org/2000/svg","width","2em","viewBox","0 0 35 35"],["id","ic_perm_identity_24px","d","M21.5,8.156a4.594,4.594,0,1,1-4.594,4.594A4.593,4.593,0,0,1,21.5,8.156m0,19.687c6.5,0,13.344,3.194,13.344,4.594v2.406H8.156V32.438c0-1.4,6.847-4.594,13.344-4.594M21.5,4a8.75,8.75,0,0,0,0,17.5,9.171,9.171,0,0,0,5.78-2.179,8.385,8.385,0,0,0,2.97-6.571A8.748,8.748,0,0,0,21.5,4Zm0,19.688c-5.841,0-17.5,2.931-17.5,8.75V39H39V32.438C39,26.619,27.341,23.688,21.5,23.688Z","transform","translate(-4 -4)","fill","#208479"],["id","ic_monetization_on_24px","d","M19.5,2A17.5,17.5,0,1,0,37,19.5,17.506,17.506,0,0,0,19.5,2Zm2.468,28.157V33.5H17.3V30.122c-2.993-.63-5.53-2.555-5.722-5.95H15c.175,1.838,1.435,3.273,4.637,3.273,3.43,0,4.2-1.715,4.2-2.782,0-1.453-.77-2.818-4.672-3.745-4.34-1.05-7.315-2.835-7.315-6.422,0-3.01,2.432-4.97,5.442-5.618V5.5h4.672V8.912a6.187,6.187,0,0,1,4.988,5.933h-3.43c-.088-1.943-1.12-3.273-3.885-3.273-2.625,0-4.2,1.19-4.2,2.87,0,1.47,1.138,2.432,4.673,3.342s7.315,2.433,7.315,6.842c-.018,3.2-2.415,4.953-5.46,5.53Z","transform","translate(-2 -2)","fill","#208479"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.NdJ("click",function(){return r.navigateToDetails()}),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"label",5),o._uU(6,"Von:"),o.qZA(),o.TgZ(7,"span",6),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"div",4),o.TgZ(10,"label",7),o._uU(11,"Nach:"),o.qZA(),o.TgZ(12,"span",8),o._uU(13),o.qZA(),o.qZA(),o.TgZ(14,"div",4),o.TgZ(15,"div",9),o.TgZ(16,"span",10),o._uU(17),o.qZA(),o.O4$(),o.TgZ(18,"svg",11),o._UZ(19,"path",12),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(20,"div",3),o.TgZ(21,"div",13),o._UZ(22,"hr"),o.qZA(),o.qZA(),o.TgZ(23,"div",3),o.TgZ(24,"div",14),o.TgZ(25,"div",15),o.TgZ(26,"label",16),o._uU(27,"Abahrtszeit"),o.qZA(),o._UZ(28,"input",17),o.qZA(),o.qZA(),o.TgZ(29,"div",18),o.TgZ(30,"div",15),o.TgZ(31,"label",16),o._uU(32,"Dauer"),o.qZA(),o.TgZ(33,"div"),o._uU(34),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(35,"div",3),o.TgZ(36,"div",13),o._UZ(37,"hr"),o.qZA(),o.qZA(),o.TgZ(38,"div",3),o.TgZ(39,"div",19),o.O4$(),o.TgZ(40,"svg",20),o._UZ(41,"path",21),o.qZA(),o.kcU(),o.TgZ(42,"span",22),o._uU(43),o.qZA(),o.qZA(),o.TgZ(44,"div",19),o.O4$(),o.TgZ(45,"svg",23),o._UZ(46,"path",24),o.qZA(),o.kcU(),o.TgZ(47,"span",22),o._uU(48),o.qZA(),o.qZA(),o.TgZ(49,"div",19),o.O4$(),o.TgZ(50,"svg",23),o._UZ(51,"path",25),o.qZA(),o.kcU(),o.TgZ(52,"span",22),o._uU(53),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(8),o.Oqu(r.tour.startCity),o.xp6(5),o.Oqu(r.tour.endCity),o.xp6(4),o.Oqu(r.userName),o.xp6(11),o.s9C("value",r.mergeDateAndTime),o.xp6(6),o.Oqu(r.tour.duration),o.xp6(9),o.Oqu(r.tour.storage),o.xp6(5),o.hij(" ",r.tour.seats,""),o.xp6(5),o.Oqu(r.tour.price))},styles:[".profil[_ngcontent-%COMP%]{position:relative;bottom:+8px;left:+10px}.card-body[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();function F3(n,t){if(1&n&&o._UZ(0,"app-tour-card",6),2&n){const e=o.oxw().$implicit;o.Q6J("tour",e)}}function L3(n,t){if(1&n&&(o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.YNc(2,F3,1,1,"app-tour-card",5),o.qZA(),o.qZA()),2&n){const e=t.$implicit,r=o.oxw();o.xp6(2),o.Q6J("ngIf",e.offer!==r.isOffer)}}let V3=(()=>{class n{constructor(e){this.tourService=e,this.tours=[],this.isOffer=!1}ngOnInit(){this.setTours().then()}setTours(){var e=this;return(0,se.Z)(function*(){e.tours=yield e.tourService.getAllTours().then()})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tour-list"]],inputs:{isOffer:"isOffer"},decls:3,vars:1,consts:[[1,"container"],["class","row justify-content-center",4,"ngFor","ngForOf"],[2,"height","50px"],[1,"row","justify-content-center"],[1,"col-6"],[3,"tour",4,"ngIf"],[3,"tour"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.YNc(1,L3,3,1,"div",1),o.qZA(),o._UZ(2,"div",2)),2&e&&(o.xp6(1),o.Q6J("ngForOf",r.tours))},directives:[yt,yn,P3],styles:[""]}),n})(),U3=(()=>{class n{constructor(){this.searchbarheigth="5em",this.isOffer=!1}offerOnOff(){this.isOffer=!this.isOffer,console.log(this.isOffer)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tour-site"]],decls:3,vars:1,consts:[[3,"changeState"],[3,"isOffer"]],template:function(e,r){1&e&&(o._UZ(0,"app-suchleiste"),o.TgZ(1,"app-slide-checker",0),o.NdJ("changeState",function(){return r.offerOnOff()}),o.qZA(),o._UZ(2,"app-tour-list",1)),2&e&&(o.xp6(2),o.Q6J("isOffer",r.isOffer))},directives:[$O,HO,V3],styles:[""]}),n})(),GO=(()=>{class n{constructor(){this.alerts=[]}showAlert(e){this.alerts.push(e),this.closeAlert(e)}closeAlert(e){setTimeout(()=>{this.alerts.includes(e,0)&&this.alerts.splice(this.alerts.indexOf(e),1)},5e3)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B3(n,t){1&n&&(o.TgZ(0,"div",50),o._uU(1,"Erstelle eine Angebot"),o.qZA())}function j3(n,t){1&n&&(o.TgZ(0,"div",50),o._uU(1,"Erstelle ein Anfrage"),o.qZA())}function $3(n,t){if(1&n&&(o.TgZ(0,"option",54),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.dId),o.xp6(1),o.HOy(" ",e.model," ",e.mark,", Sitze: ",e.seats," Stauraum: ",e.storage,"qm ")}}function H3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",9),o.TgZ(1,"div",10),o.TgZ(2,"label",51),o._uU(3,"Fahrzeug"),o.qZA(),o.TgZ(4,"select",52),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw(2).chosenCar=a}),o.YNc(5,$3,2,5,"option",53),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngModel",e.chosenCar),o.xp6(1),o.Q6J("ngForOf",e.userCars)}}function Z3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"div",4),o.YNc(4,B3,2,0,"div",5),o.YNc(5,j3,2,0,"div",5),o.qZA(),o.qZA(),o.TgZ(6,"app-slide-checker",6),o.NdJ("changeState",function(){return o.CHM(e),o.oxw().offerOnOff()}),o.qZA(),o.qZA(),o.TgZ(7,"div",7),o._UZ(8,"div",8),o.TgZ(9,"div",3),o.TgZ(10,"div",9),o.TgZ(11,"div",10),o.TgZ(12,"label",11),o._uU(13,"Von"),o.qZA(),o.TgZ(14,"input",12),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().startCity=a}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",9),o.TgZ(16,"div",10),o.TgZ(17,"label",13),o._uU(18,"Nach"),o.qZA(),o.TgZ(19,"input",14),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().endCity=a}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",9),o.TgZ(21,"div",10),o.TgZ(22,"label",15),o._uU(23,"Datum"),o.qZA(),o.TgZ(24,"input",16),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().date=a})("change",function(){return o.CHM(e),o.oxw().calculateEndTime()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"div",3),o.TgZ(26,"div",9),o.TgZ(27,"div",10),o.TgZ(28,"label",17),o._uU(29,"Abfahrtszeit"),o.qZA(),o.TgZ(30,"input",18),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().startTime=a})("change",function(){return o.CHM(e),o.oxw().calculateEndTime()}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"div",9),o.TgZ(32,"div",10),o.TgZ(33,"label",19),o._uU(34,"Dauer"),o.qZA(),o.TgZ(35,"select",20),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().duration=a})("change",function(){return o.CHM(e),o.oxw().calculateEndTime()}),o._UZ(36,"option",21),o.TgZ(37,"option",22),o._uU(38,"1h"),o.qZA(),o.TgZ(39,"option",23),o._uU(40,"2h"),o.qZA(),o.TgZ(41,"option",24),o._uU(42,"3h"),o.qZA(),o.TgZ(43,"option",25),o._uU(44,"4h"),o.qZA(),o.TgZ(45,"option",26),o._uU(46,"5h"),o.qZA(),o.TgZ(47,"option",27),o._uU(48,"6h"),o.qZA(),o.TgZ(49,"option",28),o._uU(50,"7h"),o.qZA(),o.TgZ(51,"option",29),o._uU(52,"8h"),o.qZA(),o.TgZ(53,"option",30),o._uU(54,"9h"),o.qZA(),o.TgZ(55,"option",31),o._uU(56,"10h"),o.qZA(),o.TgZ(57,"option",32),o._uU(58,"11h"),o.qZA(),o.TgZ(59,"option",33),o._uU(60,"12h"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(61,"div",9),o.TgZ(62,"div",10),o.TgZ(63,"label",34),o._uU(64,"Ankunftszeit"),o.qZA(),o.TgZ(65,"input",35),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().endTime=a}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"div",3),o.TgZ(67,"div",36),o.TgZ(68,"div",10),o.TgZ(69,"label",37),o._uU(70,"Sitzpl\xe4tze"),o.qZA(),o.TgZ(71,"select",38),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().seats=a}),o._UZ(72,"option",21),o.TgZ(73,"option",22),o._uU(74,"1"),o.qZA(),o.TgZ(75,"option",23),o._uU(76,"2"),o.qZA(),o.TgZ(77,"option",24),o._uU(78,"3"),o.qZA(),o.TgZ(79,"option",25),o._uU(80,"4"),o.qZA(),o.TgZ(81,"option",26),o._uU(82,"5"),o.qZA(),o.TgZ(83,"option",27),o._uU(84,"6"),o.qZA(),o.TgZ(85,"option",28),o._uU(86,"7"),o.qZA(),o.TgZ(87,"option",29),o._uU(88,"8"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(89,"div",36),o.TgZ(90,"div",10),o.TgZ(91,"label",39),o._uU(92,"Stauraum"),o.qZA(),o.TgZ(93,"select",40),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().storage=a}),o._UZ(94,"option",21),o.TgZ(95,"option",22),o._uU(96,"1"),o.qZA(),o.TgZ(97,"option",23),o._uU(98,"2"),o.qZA(),o.TgZ(99,"option",24),o._uU(100,"3"),o.qZA(),o.TgZ(101,"option",25),o._uU(102,"4"),o.qZA(),o.TgZ(103,"option",26),o._uU(104,"5"),o.qZA(),o.TgZ(105,"option",27),o._uU(106,"6"),o.qZA(),o.TgZ(107,"option",28),o._uU(108,"7"),o.qZA(),o.TgZ(109,"option",29),o._uU(110,"8"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(111,"div",36),o.TgZ(112,"div"),o.TgZ(113,"label",41),o._uU(114),o.qZA(),o.qZA(),o.TgZ(115,"div",42),o.TgZ(116,"input",43),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().price=a}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(117,"div",3),o.TgZ(118,"div",9),o.TgZ(119,"label",44),o._uU(120,"Beschreibung"),o.qZA(),o.TgZ(121,"textarea",45),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().description=a}),o.qZA(),o.qZA(),o.YNc(122,H3,6,2,"div",46),o.qZA(),o.TgZ(123,"div",47),o.TgZ(124,"div",48),o.TgZ(125,"button",49),o.NdJ("click",function(){return o.CHM(e),o.oxw().checkInput()}),o._uU(126,"Erstellen"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",e.isOffer),o.xp6(1),o.Q6J("ngIf",!e.isOffer),o.xp6(9),o.Q6J("ngModel",e.startCity),o.xp6(5),o.Q6J("ngModel",e.endCity),o.xp6(5),o.Q6J("ngModel",e.date),o.xp6(6),o.Q6J("ngModel",e.startTime),o.xp6(5),o.Q6J("ngModel",e.duration),o.xp6(30),o.Q6J("ngModel",e.endTime),o.xp6(6),o.Q6J("ngModel",e.seats),o.xp6(22),o.Q6J("ngModel",e.storage),o.xp6(21),o.hij("Preis: ",e.price,""),o.xp6(2),o.Q6J("ngModel",e.price),o.xp6(5),o.Q6J("ngModel",e.description),o.xp6(1),o.Q6J("ngIf",e.isOffer)}}function G3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",55),o.TgZ(1,"div",3),o.TgZ(2,"div",56),o._uU(3," Melde dich an, um eine Tour zu erstellen! "),o.qZA(),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"br"),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"button",57),o.NdJ("click",function(){return o.CHM(e),o.oxw().navigateToProfil()}),o._uU(9,"Anmelden"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}const q3=[{path:"profil",component:_3},{path:"carList",component:x3},{path:"",component:O3},{path:"tours",component:U3},{path:"createTours",component:(()=>{class n{constructor(e,r,a,l,h,m){var b=this;this.tourData=e,this.userData=r,this.alert=a,this.router=l,this.carData=h,this.auth=m,this.userCars=[],this.isOffer=!0,this.startCity="",this.endCity="",this.startTime="",this.duration="",this.endTime="",this.date="",this.seats="",this.storage="",this.price="",this.description="",this.chosenCar="",this.auth.user.subscribe(function(){var D=(0,se.Z)(function*(N){if(N){const M=yield b.userData.getUser(N.uid);null!=M&&(yield b.fillCars(M))}});return function(N){return D.apply(this,arguments)}}())}fillCars(e){var r=this;return(0,se.Z)(function*(){if(e){const a=[];for(const l of e.car){const h=yield r.carData.getCarById(l);h&&a.push(h)}r.userCars=[...a]}})()}navigateToProfil(){this.router.navigate(["/profil"])}offerOnOff(){this.isOffer=!this.isOffer}calculateEndTime(){if(this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0){let a=Number.parseInt(this.startTime.substr(0,2))+Number.parseInt(this.duration),l=this.date.substr(8,2);a>=24&&(l=(Number.parseInt(l)+1).toString(),l.trim().length<2&&(l="0"+l),a%=24),this.endTime=a<10?this.date.substr(0,8)+l+"T0"+a.toString():this.date.substr(0,8)+l+"T"+a.toString(),this.endTime+=this.startTime.substr(2,3)}}checkUniqueInputs(){return this.startTime.trim().length>0&&this.endCity.trim().length>0&&this.startTime.trim().length>0&&this.duration.trim().length>0&&this.date.trim().length>0&&this.seats.trim().length>0&&this.storage.trim().length>0&&Number.parseInt(this.price)>0}checkInput(){var e=this;return(0,se.Z)(function*(){const r=e.userData.currUser;let a=e.newTour();r&&(e.isOffer&&e.checkUniqueInputs()&&e.chosenCar.trim().length>0?yield e.addOffer(a,r):e.checkUniqueInputs()?yield e.addNoOffer(a,r):e.alert.showAlert({type:"danger",message:"Alle Felder ausf\xfcllen!"}))})()}addOffer(e,r){var a=this;return(0,se.Z)(function*(){e.driver=r.uid,e.car=a.chosenCar,yield a.addTour(e)})()}addNoOffer(e,r){var a=this;return(0,se.Z)(function*(){e.passengers[0]=r.uid,yield a.addTour(e)})()}addTour(e){var r=this;return(0,se.Z)(function*(){yield r.tourData.addTour(e),r.clearInputs()})()}newTour(){return new ZO(this.isOffer,this.startCity,this.endCity,this.startTime,Number.parseInt(this.duration),this.date,Number.parseInt(this.price),Number.parseInt(this.storage),Number.parseInt(this.seats),this.description)}clearInputs(){this.startCity="",this.endCity="",this.startTime="",this.duration="",this.date="",this.price="",this.storage="",this.seats="",this.description="",this.chosenCar="",this.endTime=""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qy),o.Y36(Qa),o.Y36(GO),o.Y36(Nr),o.Y36(JM),o.Y36(Wf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-create-tours"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notloggedin",""],[1,"container","title-background","mw-100"],[1,"row"],[1,"col","text-center"],["class","h2 logoGreenDark m-3",4,"ngIf"],[3,"changeState"],[1,"container","rounded","shadow","mt-4","bg-white","border-0"],[1,"row","m-4"],[1,"col"],[1,"form-group"],["for","cityStart",1,"logoGreenDark"],["type","text","id","cityStart",1,"form-control",3,"ngModel","ngModelChange"],["for","endCity",1,"logoGreenDark"],["type","text","id","endCity",1,"form-control",3,"ngModel","ngModelChange"],["for","date",1,"logoGreenDark"],["type","date","id","date",1,"form-control",3,"ngModel","ngModelChange","change"],["for","startTime",1,"logoGreenDark"],["type","time","id","startTime",1,"form-control",3,"ngModel","ngModelChange","change"],["for","duration",1,"logoGreenDark"],["name","","id","duration",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["for","endTime",1,"logoGreenDark"],["type","datetime-local","readonly","","id","endTime",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["for","seats",1,"logoGreenDark"],["name","","id","seats",1,"form-control",3,"ngModel","ngModelChange"],["for","storage",1,"logoGreenDark"],["name","","id","storage",1,"form-control",3,"ngModel","ngModelChange"],["for","customRange3",1,"logoGreenDark"],[1,""],["type","range","min","0","max","500","id","customRange3",1,"form-range","mt-2",2,"min-width","100%","max-width","100%",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label","logoGreenDark"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["class","col",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-5","m-4"],[1,"btn","btn-success","btn-block",3,"click"],[1,"h2","logoGreenDark","m-3"],["for","cars",1,"logoGreenDark"],["name","","id","cars",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"container","mt-5","rounded","shadow","container","bg-white","border-0",2,"width","700px"],[1,"col","text-center","mt-3","h2","logoGreenDark"],[1,"btn","btn-outline-success","btn-lg","m-3",3,"click"]],template:function(e,r){if(1&e&&(o.YNc(0,Z3,127,14,"div",0),o.YNc(1,G3,10,0,"ng-template",null,1,o.W1O)),2&e){const a=o.MAs(2);o.Q6J("ngIf",r.userData.currUser)("ngIfElse",a)}},directives:[yn,HO,_e,iw,lw,cw,uI,lI,AM,yt],styles:['.title-background[_ngcontent-%COMP%]{height:130px;width:100vw;background-color:#f3fbed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#005b51;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#005b51}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 5px #005b51}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(34px)}.slider.round[_ngcontent-%COMP%]{border-radius:32px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})()},{path:"exprofile",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-stranger-profile"]],decls:2,vars:0,template:function(e,r){1&e&&(o.TgZ(0,"p"),o._uU(1,"stranger-profile works!"),o.qZA())},styles:[""]}),n})()}];let z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$0.forRoot(q3)],$0]}),n})();function W3(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p"),o.TgZ(1,"ngb-alert",2),o.NdJ("closed",function(){const l=o.CHM(e).$implicit;return o.oxw().close(l)}),o._uU(2),o.qZA(),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("type",e.type),o.xp6(1),o.Oqu(e.message)}}let Y3=(()=>{class n{constructor(e){this.alert=e}close(e){this.alert.alerts.splice(this.alert.alerts.indexOf(e),1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(GO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-alerts"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","w-100","test"],[4,"ngFor","ngForOf"],[3,"type","closed"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.YNc(1,W3,3,2,"p",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",r.alert.alerts))},directives:[yt,TL],styles:[".test[_ngcontent-%COMP%]{z-index:+1;padding-top:20px;position:absolute}"]}),n})(),K3=(()=>{class n{constructor(e,r){this.router=e,this.authData=r}navigateToUser(){this.router.navigate(["/profil"])}navigateToTours(){this.router.navigate(["/tours"])}navigateToMainPage(){this.router.navigate(["/"])}navigateToCreateTourPage(){this.router.navigate(["/createTours"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Nr),o.Y36(Qa))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navbar"]],decls:29,vars:0,consts:[[1,"navbar","navbar-expand-xl","navbar-light","bg-light","py-2"],[1,"container-fluid",2,"margin-left","15em","margin-right","15em"],[2,"border","none","background-color","Transparent",3,"click"],["src","../../../assets/img/SVG/LKW.svg","width","180","height","75"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","mr-auto"],[1,"navbar-nav","mr-auto","mt-2","mt-lg-0"],[1,"nav-item"],[2,"border","none","background-color","Transparent"],["aria-current","page",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial",3,"click"],["href","#",1,"nav-link","active",2,"color","#005B51","font-size","20px","font-style","italic","font-family","Arial"],[1,"navbar-nav","me-auto","my-2","my-lg-0"],["href","#",1,"nav-item",2,"margin-right","14px"],["src","../../../assets/img/Icons/search_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],[1,"nav-link","active",2,"color","#005B51","float","left","font-size","20px","font-style","italic","font-family","Arial"],[1,"nav-item",2,"margin-right","12px"],["src","../../../assets/img/Icons/add_icon.png","width","30","height","30",2,"float","left","margin-top","7px"],["src","../../../assets/img/Icons/user_icon.png","width","43","height","43",2,"float","left"]],template:function(e,r){1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return r.navigateToMainPage()}),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"button",4),o._UZ(5,"span",5),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"ul",7),o.TgZ(8,"li",8),o.TgZ(9,"button",9),o.TgZ(10,"a",10),o.NdJ("click",function(){return r.navigateToTours()}),o._uU(11,"Mitfahrgelegenheit"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",11),o._uU(14,"Meine Angebote & Anfragen"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"ul",12),o.TgZ(16,"li",13),o.TgZ(17,"button",9),o._UZ(18,"img",14),o.TgZ(19,"a",15),o._uU(20,"Suchen"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"li",16),o.TgZ(22,"button",2),o.NdJ("click",function(){return r.navigateToCreateTourPage()}),o._UZ(23,"img",17),o.TgZ(24,"a",15),o._uU(25,"Angebot & Anfrage erstellen"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"button",2),o.NdJ("click",function(){return r.navigateToUser()}),o._UZ(28,"img",18),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[GM],styles:[".navbar[_ngcontent-%COMP%]{height:100px}"]}),n})(),J3=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"containter"],[1,"row"],[1,"col","bg-light","pb-2","pl-5","pt-2"]],template:function(e,r){1&e&&(o.TgZ(0,"footer",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._uU(4,"\xa9Cargonaut"),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:40px}"]}),n})(),Q3=(()=>{class n{constructor(e,r){this.router=e,this.tour=r,this.title="Cargonaut","/profil"===this.router.url&&this.router.navigate(["/profil"]),"/carList"===this.router.url&&this.router.navigate(["/carList"]),"/tours"===this.router.url&&this.router.navigate(["/tours"]),"/createTours"===this.router.url&&this.router.navigate(["/createTours"]),"/exprofile"===this.router.url&&this.router.navigate(["/exprofile"])}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Nr),o.Y36(qy))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(e,r){1&e&&(o._UZ(0,"app-alerts"),o._UZ(1,"app-navbar"),o._UZ(2,"router-outlet"),o._UZ(3,"app-footer"))},directives:[Y3,K3,Oh,J3],styles:[""]}),n})();class eU{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new tU(t,this.dueTime,this.scheduler))}}class tU extends Jn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function nU(n){n.debouncedNext()}const qO="firebasestorage.googleapis.com",zO="storageBucket";class Pr extends Dt.ZR{constructor(t,e){super(QM(t),`Firebase Storage: ${e} (${QM(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}_codeEquals(t){return QM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function QM(n){return"storage/"+n}function XM(){return new Pr("unknown","An unknown error occurred, please check the error payload for server response.")}function WO(){return new Pr("canceled","User canceled the upload/download.")}function YO(){return new Pr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function c0(n){return new Pr("invalid-argument",n)}function KO(){return new Pr("app-deleted","The Firebase app was deleted.")}function JO(n){return new Pr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vw(n,t){return new Pr("invalid-format","String does not match format '"+n+"': "+t)}function bw(n){throw new Pr("internal-error","Internal error: "+n)}class Ns{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Ns.makeFromUrl(t,e)}catch(a){return new Ns(t,"")}if(""===r.path)return r;throw function(n){return new Pr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+a+"(/(.*))?$","i");function D(ot){ot.path_=decodeURIComponent(ot.path)}const M=e.replace(/[.]/g,"\\."),Nt=[{regex:m,indices:{bucket:1,path:3},postModify:function(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${e===qO?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let ot=0;ot<Nt.length;ot++){const ln=Nt[ot],zr=ln.regex.exec(t);if(zr){let Lo=zr[ln.indices.path];Lo||(Lo=""),r=new Ns(zr[ln.indices.bucket],Lo),ln.postModify(r);break}}if(null==r)throw function(n){return new Pr("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class mU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function EI(n){return"string"==typeof n||n instanceof String}function QO(n){return ex()&&n instanceof Blob}function ex(){return"undefined"!=typeof Blob}function tx(n,t,e,r){if(r<t)throw c0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw c0(`Invalid value for '${n}'. Expected ${e} or less.`)}function $d(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function XO(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var tp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(tp||(tp={})),tp))();class CU{constructor(t,e,r,a,l,h,m,b,D,N,M){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=b,this.timeout_=D,this.progressCallback_=N,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,$)=>{this.resolve_=V,this.reject_=$,this.start_()})}start_(){const e=(r,a)=>{const l=this.resolve_,h=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==m){const b=XM();b.serverResponse=m.getErrorText(),h(this.errorCallback_?this.errorCallback_(m,b):b)}else h(a.canceled?this.appDelete_?KO():WO():new Pr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new DI(!1,null,!0)):this.backoffId_=function(n,t,e){let r=1,a=null,l=null,h=!1,m=0;function b(){return 2===m}let D=!1;function N(...Se){D||(D=!0,t.apply(null,Se))}function M(Se){a=setTimeout(()=>{a=null,n($,b())},Se)}function V(){l&&clearTimeout(l)}function $(Se,...rt){if(D)return void V();if(Se)return V(),void N.call(null,Se,...rt);if(b()||h)return V(),void N.call(null,Se,...rt);let Nt;r<64&&(r*=2),1===m?(m=2,Nt=0):Nt=1e3*(r+Math.random()),M(Nt)}let re=!1;function ve(Se){re||(re=!0,V(),!D&&(null!==a?(Se||(m=2),clearTimeout(a),M(0)):Se||(m=1)))}return M(0),l=setTimeout(()=>{h=!0,ve(!0)},e),ve}((r,a)=>{if(a)return void r(!1,new DI(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===tp.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const N=l.getErrorCode()===tp.ABORT;return void r(!1,new DI(!1,null,N))}const D=-1!==this.successCodes_.indexOf(b);r(!0,new DI(D,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||l}}class DI{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function NU(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(ex())return new Blob(n);throw new Pr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const la={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nx{constructor(t,e){this.data=t,this.contentType=e||null}}function rx(n,t){switch(n){case la.RAW:return new nx(eP(t));case la.BASE64:case la.BASE64URL:return new nx(tP(n,t));case la.DATA_URL:return new nx(function(n){const t=new nP(n);return t.base64?tP(la.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw vw(la.DATA_URL,"Malformed data URL.")}return eP(t)}(t.rest)}(t),function(n){return new nP(n).contentType}(t))}throw XM()}function eP(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function tP(n,t){switch(n){case la.BASE64:{const a=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(a||l)throw vw(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case la.BASE64URL:{const a=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(a||l)throw vw(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){return atob(n)}(t)}catch(a){throw vw(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}class nP{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw vw(la.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}class Jl{constructor(t,e){let r=0,a="";QO(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(QO(this.data_)){const a=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new Jl(a)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Jl(r,!0)}}static getBlob(...t){if(ex()){const e=t.map(r=>r instanceof Jl?r.data_:r);return new Jl(NU.apply(null,e))}{const e=t.map(h=>EI(h)?rx(la.RAW,h).data:h.data_);let r=0;e.forEach(h=>{r+=h.byteLength});const a=new Uint8Array(r);let l=0;return e.forEach(h=>{for(let m=0;m<h.length;m++)a[l++]=h[m]}),new Jl(a,!0)}}uploadData(){return this.data_}}function ix(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function rP(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function VU(n,t){return t}class uo{constructor(t,e,r,a){this.server=t,this.local=e||t,this.writable=!!r,this.xform=a||VU}}let II=null;function ww(){if(II)return II;const n=[];n.push(new uo("bucket")),n.push(new uo("generation")),n.push(new uo("metageneration")),n.push(new uo("name","fullPath",!0));const e=new uo("name");e.xform=function(l,h){return function(n){return!EI(n)||n.length<2?n:rP(n)}(h)},n.push(e);const a=new uo("size");return a.xform=function(l,h){return void 0!==h?Number(h):h},n.push(a),n.push(new uo("timeCreated")),n.push(new uo("updated")),n.push(new uo("md5Hash",null,!0)),n.push(new uo("cacheControl",null,!0)),n.push(new uo("contentDisposition",null,!0)),n.push(new uo("contentEncoding",null,!0)),n.push(new uo("contentLanguage",null,!0)),n.push(new uo("contentType",null,!0)),n.push(new uo("metadata","customMetadata",!0)),II=n,II}function iP(n,t,e){const r=ix(t);return null===r?null:function(n,t,e){const r={type:"file"},a=e.length;for(let l=0;l<a;l++){const h=e[l];r[h.local]=h.xform(r,t[h.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const l=new Ns(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(r,n),r}(n,r,e)}function sx(n,t){const e={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const sP="prefixes";class Ql{constructor(t,e,r,a){this.url=t,this.method=e,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(n){if(!n)throw XM()}function AI(n,t){return function(r,a){const l=iP(n,a,t);return Xl(null!==l),l}}function d0(n){return function(e,r){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new Pr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Pr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new Pr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new Pr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function Cw(n){const t=d0(n);return function(r,a){let l=t(r,a);return 404===r.getStatus()&&(l=function(n){return new Pr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=a.serverResponse,l}}function aP(n,t,e){const a=$d(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(a,"GET",AI(n,e),h);return m.errorHandler=Cw(t),m}function zU(n,t,e,r,a){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),r&&(l.pageToken=r),a&&(l.maxResults=a);const m=$d(t.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,N=new Ql(m,"GET",function(n,t){return function(r,a){const l=function(n,t,e){const r=ix(e);return null===r?null:function(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[sP])for(const a of e[sP]){const l=a.replace(/\/$/,""),h=n._makeStorageReference(new Ns(t,l));r.prefixes.push(h)}if(e.items)for(const a of e.items){const l=n._makeStorageReference(new Ns(t,a.name));r.items.push(l)}return r}(n,t,r)}(n,t,a);return Xl(null!==l),l}}(n,t.bucket),D);return N.urlParams=l,N.errorHandler=d0(t),N}function lP(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class SI{constructor(t,e,r,a){this.current=t,this.total=e,this.finalized=!!r,this.metadata=a||null}}function ox(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){Xl(!1)}return Xl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const tB={STATE_CHANGED:"state_changed"},lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ax(n){switch(n){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;case"error":default:return lo.ERROR}}class nB{constructor(t,e,r){if(function(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function h0(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class iB extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,a){if(this.sent_)throw bw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw bw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function qu(){return new iB}class fP{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=ww(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),h=lP(t,r,a),m={name:h.fullPath},b=$d(l,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},M=sx(h,e),re=new Ql(b,"POST",function(ve){let Se;ox(ve);try{Se=ve.getResponseHeader("X-Goog-Upload-URL")}catch(rt){Xl(!1)}return Xl(EI(Se)),Se},n.maxUploadRetryTime);return re.urlParams=m,re.headers=N,re.body=M,re.errorHandler=d0(t),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,qu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const a=function(n,t,e,r){const b=new Ql(e,"POST",function(D){const N=ox(D,["active","final"]);let M=null;try{M=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){Xl(!1)}M||Xl(!1);const V=Number(M);return Xl(!isNaN(V)),new SI(V,r.size(),"final"===N)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=d0(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,qu,e,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new SI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let h;try{h=function(n,t,e,r,a,l,h,m){const b=new SI(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw new Pr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=b.total-b.current;let N=D;a>0&&(N=Math.min(N,a));const M=b.current,re={"X-Goog-Upload-Command":N===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},ve=r.slice(M,M+N);if(null===ve)throw YO();const Nt=new Ql(e,"POST",function(ot,ln){const zr=ox(ot,["active","final"]),zu=b.current+N,Lo=r.size();let cx;return cx="final"===zr?AI(t,l)(ot,ln):null,new SI(zu,Lo,"final"===zr,cx)},t.maxUploadRetryTime);return Nt.headers=re,Nt.body=ve.uploadData(),Nt.progressCallback=m||null,Nt.errorHandler=d0(n),Nt}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(h,qu,a,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=aP(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,qu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function(){let Nt="";for(let ot=0;ot<2;ot++)Nt+=Math.random().toString().slice(2);return Nt}();h["Content-Type"]="multipart/related; boundary="+b;const D=lP(t,r,a),N=sx(D,e),$=Jl.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+b+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===$)throw YO();const re={name:D.fullPath},ve=$d(l,n.host,n._protocol),rt=n.maxUploadRetryTime,Qe=new Ql(ve,"POST",AI(n,e),rt);return Qe.urlParams=re,Qe.headers=h,Qe.body=$.uploadData(),Qe.errorHandler=d0(t),Qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,qu,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=WO(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ax(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,a){const l=new nB(e||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ax(this._state)){case lo.SUCCESS:h0(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:h0(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ax(this._state)){case lo.RUNNING:case lo.PAUSED:t.next&&h0(t.next.bind(t,this.snapshot))();break;case lo.SUCCESS:t.complete&&h0(t.complete.bind(t))();break;case lo.CANCELED:case lo.ERROR:t.error&&h0(t.error.bind(t,this._error))();break;default:t.error&&h0(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class pm{constructor(t,e){this._service=t,this._location=e instanceof Ns?e:Ns.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new pm(t,e)}get root(){const t=new Ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rP(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ns(this._location.bucket,t);return new pm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw JO(t)}}function gP(n,t,e){return ux.apply(this,arguments)}function ux(){return(ux=(0,se.Z)(function*(n,t,e){const a=yield mP(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield gP(n,t,a.nextPageToken))})).apply(this,arguments)}function mP(n,t){null!=t&&"number"==typeof t.maxResults&&tx("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=zU(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,qu)}function mB(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const a=$d(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,m=new Ql(a,"GET",function(n,t){return function(r,a){const l=iP(n,a,t);return Xl(null!==l),function(n,t,e,r){const a=ix(t);if(null===a||!EI(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(D=>{const M=n.fullPath;return $d("/b/"+h(n.bucket)+"/o/"+h(M),e,r)+XO({alt:"media",token:D})})[0]}(l,a,n.host,n._protocol)}}(n,e),h);return m.errorHandler=Cw(t),m}(n.storage,n._location,ww());return n.storage.makeRequestWithTokens(t,qu).then(e=>{if(null===e)throw new Pr("no-download-url","The given file does not have any download URLs.");return e})}function _P(n,t){const e=function(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Ns(n._location.bucket,e);return new pm(n.storage,r)}function yP(n,t){if(n instanceof lx){const e=n;if(null==e._bucket)throw new Pr("no-default-bucket","No default bucket found. Did you set the '"+zO+"' property when initializing the app?");const r=new pm(e,e._bucket);return null!=t?yP(r,t):r}return void 0!==t?_P(n,t):n}function bB(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof lx)return function(n,t){return new pm(n,t)}(n,t);throw c0("To use ref(service, url), the first argument must be a Storage instance.")}return yP(n,t)}function vP(n,t){const e=null==t?void 0:t[zO];return null==e?null:Ns.makeFromBucketSpec(e,n)}class lx{constructor(t,e,r,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=qO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Ns.makeFromBucketSpec(a,this._host):vP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,t):vP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,se.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,se.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pm(this,t)}_makeRequest(t,e,r,a){if(this._deleted)return new mU(KO());{const l=function(n,t,e,r,a,l){const h=XO(n.urlParams),m=n.url+h,b=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,r),new CU(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,r,a,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var r=this;return(0,se.Z)(function*(){const[a,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,a,l).getPromise()})()}}const bP="@firebase/storage";function TP(n,t){return bB(n=(0,Dt.m9)(n),t)}(0,Ys._registerComponent)(new $c.wA("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new lx(e,r,a,t,Ys.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ys.registerVersion)(bP,"0.9.0",""),(0,Ys.registerVersion)(bP,"0.9.0","esm2017");class NI{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class EP{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new NI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new NI(r,this,this._ref))},e)}on(t,e,r,a){let l;return e&&(l="function"==typeof e?h=>e(new NI(h,this,this._ref)):{next:e.next?h=>e.next(new NI(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,r||void 0,a||void 0)}}class DP{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Hd(t,this._service))}get items(){return this._delegate.items.map(t=>new Hd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return _P(n,t)}(this._delegate,t);return new Hd(e,this.storage)}get root(){return new Hd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Hd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new EP(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new fP(n,new Jl(t),e)}(n=(0,Dt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=la.RAW,r){this._throwIfRoot("putString");const a=rx(e,t),l=Object.assign({},r);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new EP(new fP(this._delegate,new Jl(a.data,!0),l),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return gP(n,t).then(()=>t)}(n=(0,Dt.m9)(n))}(this._delegate).then(t=>new DP(t,this.storage))}list(t){return function(n,t){return mP(n=(0,Dt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new DP(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=aP(n.storage,n._location,ww());return n.storage.makeRequestWithTokens(t,qu)}(n=(0,Dt.m9)(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,r){const l=$d(t.fullServerUrl(),n.host,n._protocol),m=sx(e,r),D=n.maxOperationRetryTime,N=new Ql(l,"PATCH",AI(n,r),D);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=m,N.errorHandler=Cw(t),N}(n.storage,n._location,t,ww());return n.storage.makeRequestWithTokens(e,qu)}(n=(0,Dt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return mB(n=(0,Dt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const r=$d(t.fullServerUrl(),n.host,n._protocol),m=new Ql(r,"DELETE",function(b,D){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Cw(t),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,qu)}(n=(0,Dt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw JO(t)}}class IP{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(AP(t))throw c0("ref() expected a child path but got a URL, use refFromURL instead.");return new Hd(TP(this._delegate,t),this)}refFromURL(t){if(!AP(t))throw c0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(t,this._delegate.host)}catch(e){throw c0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hd(TP(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function(n,t,e,r={}){!function(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Dt.Sg)(a,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function AP(n){return/^[A-Za-z]+:\/\//.test(n)}function FB(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new IP(e,r)}function SP(n){const t=function(n){return new Rt.y(t=>{const e=h=>t.next(h);e(n.snapshot);const l=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){l()}}).pipe(function(n,t=Ym.P){return e=>e.lift(new eU(n,t))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,at.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function MI(n){return{getDownloadURL:()=>(0,qe.of)(void 0).pipe(tr.fc,sr(()=>n.getDownloadURL()),tr.iC),getMetadata:()=>(0,qe.of)(void 0).pipe(tr.fc,sr(()=>n.getMetadata()),tr.iC),delete:()=>(0,pn.D)(n.delete()),child:t=>MI(n.child(t)),updateMetadata:t=>(0,pn.D)(n.updateMetadata(t)),put:(t,e)=>SP(n.put(t,e)),putString:(t,e,r)=>SP(n.putString(t,e,r)),list:t=>(0,pn.D)(n.list(t)),listAll:()=>(0,pn.D)(n.listAll())}}!function(n){const t={TaskState:lo,TaskEvent:tB,StringFormat:la,Storage:IP,Reference:Hd};n.INTERNAL.registerComponent(new $c.wA("storage-compat",FB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.8")}(La.Z);const UB=new o.OlP("angularfire2.storageBucket"),BB=new o.OlP("angularfire2.storage.maxUploadRetryTime"),jB=new o.OlP("angularfire2.storage.maxOperationRetryTime"),$B=new o.OlP("angularfire2.storage.use-emulator");let HB=(()=>{class n{constructor(e,r,a,l,h,m,b,D,N,M){const V=(0,Xi.on)(e,h,r);this.storage=(0,Xi.cc)(`${V.name}.storage.${a}`,"AngularFireStorage",V.name,()=>{const $=h.runOutsideAngular(()=>V.storage(a||void 0)),re=N;return re&&$.useEmulator(...re),b&&$.setMaxUploadRetryTime(b),D&&$.setMaxOperationRetryTime(D),$},[b,D])}ref(e){return MI(this.storage.ref(e))}refFromURL(e){return MI(this.storage.refFromURL(e))}upload(e,r,a){return MI(this.storage.ref(e)).put(r,a)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xi.Dh),o.LFG(Xi.xv,8),o.LFG(UB,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(tr.HU),o.LFG(BB,8),o.LFG(jB,8),o.LFG($B,8),o.LFG(z1,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),GB=(()=>{class n{constructor(){Wm.Z.registerVersion("angularfire",tr.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[HB],imports:[ZB]}),n})();const NP_firebaseConfig={apiKey:"AIzaSyAzFvzwYxlMK_XDHfw1FZj2KdVqf0CXleA",authDomain:"kmsws21-cargonaut.firebaseapp.com",projectId:"kmsws21-cargonaut",storageBucket:"kmsws21-cargonaut.appspot.com",messagingSenderId:"1019573337686",appId:"1:1019573337686:web:6c95b8ee68daf7613cc5f7",measurementId:"${config.measurementId}"};let qB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[Q3]}),n.\u0275inj=o.cJS({providers:[],imports:[[cp,z3,n3,Xi.hO.initializeApp(NP_firebaseConfig),GD,Uy,GB,MR,mF]]}),n})();(0,o.G48)(),qo().bootstrapModule(qB).catch(n=>console.error(n))},3394:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>Ne});var o=F(3854),j=F(3910),O=F(8026),ce=F(5422);class ue{constructor(ge,ne){this._delegate=ge,this.firebase=ne,(0,O._addComponent)(ge,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,ne=O._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(ge);return!Te.isInitialized()&&"EXPLICIT"===(null===(oe=Te.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ne})}_removeServiceInstance(ge,ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(ne)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const Ee=function(Ee){const ge={},ne={__esModule:!0,initializeApp:function(vt,In={}){const Et=O.initializeApp(vt,In);if((0,o.r3)(ge,Et.name))return ge[Et.name];const gt=new Ee(Et,ne);return ge[Et.name]=gt,gt},app:Te,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const In=vt.name,Et=In.replace("-compat","");if(O._registerComponent(vt)&&"PUBLIC"===vt.type){const gt=(Ot=Te())=>{if("function"!=typeof Ot[Et])throw de.create("invalid-app-argument",{appName:In});return Ot[Et]()};void 0!==vt.serviceProps&&(0,o.ZB)(gt,vt.serviceProps),ne[Et]=gt,Ee.prototype[Et]=function(...Ot){return this._getService.bind(this,In).apply(this,vt.multipleInstances?Ot:[])}}return"PUBLIC"===vt.type?ne[Et]:null},removeApp:function(vt){delete ge[vt]},useAsService:function(vt,In){return"serverAuth"===In?null:In},modularAPIs:O}};function Te(vt){if(!(0,o.r3)(ge,vt=vt||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:vt});return ge[vt]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function(){return Object.keys(ge).map(vt=>ge[vt])}}),Te.App=Ee,ne}(ue);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(ne){(0,o.ZB)(Ee,ne)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ee}(),B=new ce.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=L;(0,O.registerVersion)("@firebase/app-compat","0.1.11",undefined)},8026:(Ye,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>$i,_addComponent:()=>ds,_addOrOverwriteComponent:()=>Ms,_apps:()=>Wt,_clearComponents:()=>mn,_components:()=>jt,_getProvider:()=>sn,_registerComponent:()=>Ci,_removeServiceInstance:()=>xs,deleteApp:()=>qn,getApp:()=>ke,getApps:()=>wn,initializeApp:()=>Hi,onLog:()=>Ht,registerVersion:()=>je,setLogLevel:()=>_r});var o=F(8239),j=F(3910),O=F(5422),ce=F(3854);class ue{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function(it){const tt=it.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(xt)){const Pt=xt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(xt=>xt).join(" ")}}const de="@firebase/app",Q="0.7.10",z=new O.Yd("@firebase/app"),$i="[DEFAULT]",co={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,jt=new Map;function ds(it,tt){try{it.container.addComponent(tt)}catch(xt){z.debug(`Component ${tt.name} failed to register with FirebaseApp ${it.name}`,xt)}}function Ms(it,tt){it.container.addOrOverwriteComponent(tt)}function Ci(it){const tt=it.name;if(jt.has(tt))return z.debug(`There were multiple attempts to register component ${tt}.`),!1;jt.set(tt,it);for(const xt of Wt.values())ds(xt,it);return!0}function sn(it,tt){return it.container.getProvider(tt)}function xs(it,tt,xt=$i){sn(it,tt).clearInstance(xt)}function mn(){jt.clear()}const Qt=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ks{constructor(tt,xt,Pt){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ti="9.6.0";function Hi(it,tt={}){"object"!=typeof tt&&(tt={name:tt});const xt=Object.assign({name:$i,automaticDataCollectionEnabled:!1},tt),Pt=xt.name;if("string"!=typeof Pt||!Pt)throw Qt.create("bad-app-name",{appName:String(Pt)});const Wn=Wt.get(Pt);if(Wn){if((0,ce.vZ)(it,Wn.options)&&(0,ce.vZ)(xt,Wn.config))return Wn;throw Qt.create("duplicate-app",{appName:Pt})}const en=new j.H0(Pt);for(const et of jt.values())en.addComponent(et);const Pe=new ks(it,xt,en);return Wt.set(Pt,Pe),Pe}function ke(it=$i){const tt=Wt.get(it);if(!tt)throw Qt.create("no-app",{appName:it});return tt}function wn(){return Array.from(Wt.values())}function qn(it){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,o.Z)(function*(it){const tt=it.name;Wt.has(tt)&&(Wt.delete(tt),yield Promise.all(it.container.getProviders().map(xt=>xt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function je(it,tt,xt){var Pt;let Wn=null!==(Pt=co[it])&&void 0!==Pt?Pt:it;xt&&(Wn+=`-${xt}`);const en=Wn.match(/\s|\//),Pe=tt.match(/\s|\//);if(en||Pe){const et=[`Unable to register library "${Wn}" with version "${tt}":`];return en&&et.push(`library name "${Wn}" contains illegal characters (whitespace or "/")`),en&&Pe&&et.push("and"),Pe&&et.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void z.warn(et.join(" "))}Ci(new j.wA(`${Wn}-version`,()=>({library:Wn,version:tt}),"VERSION"))}function Ht(it,tt){if(null!==it&&"function"!=typeof it)throw Qt.create("invalid-log-argument");(0,O.Am)(it,tt)}function _r(it){(0,O.Ub)(it)}Ci(new j.wA("platform-logger",tt=>new ue(tt),"PRIVATE")),je(de,Q,""),je(de,Q,"esm2017"),je("fire-js","")},3910:(Ye,we,F)=>{"use strict";F.d(we,{wA:()=>O,H0:()=>Q});var o=F(8239),j=F(3854);class O{constructor(L,B,Z){this.name=L,this.instanceFactory=B,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ce="[DEFAULT]";class ue{constructor(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){const Z=new j.BH;if(this.instancesDeferred.set(B,Z),this.isInitialized(B)||this.shouldAutoInitialize())try{const he=this.getOrInitializeService({instanceIdentifier:B});he&&Z.resolve(he)}catch(he){}}return this.instancesDeferred.get(B).promise}getImmediate(L){var B;const Z=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),he=null!==(B=null==L?void 0:L.optional)&&void 0!==B&&B;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(he)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Oe){if(he)return null;throw Oe}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(B){}for(const[B,Z]of this.instancesDeferred.entries()){const he=this.normalizeInstanceIdentifier(B);try{const Oe=this.getOrInitializeService({instanceIdentifier:he});Z.resolve(Oe)}catch(Oe){}}}}clearInstance(L=ce){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,o.Z)(function*(){const B=Array.from(L.instances.values());yield Promise.all([...B.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...B.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ce){return this.instances.has(L)}getOptions(L=ce){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:B={}}=L,Z=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const he=this.getOrInitializeService({instanceIdentifier:Z,options:B});for(const[Oe,Ne]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Oe)&&Ne.resolve(he);return he}onInit(L,B){var Z;const he=this.normalizeInstanceIdentifier(B),Oe=null!==(Z=this.onInitCallbacks.get(he))&&void 0!==Z?Z:new Set;Oe.add(L),this.onInitCallbacks.set(he,Oe);const Ne=this.instances.get(he);return Ne&&L(Ne,he),()=>{Oe.delete(L)}}invokeOnInitCallbacks(L,B){const Z=this.onInitCallbacks.get(B);if(Z)for(const he of Z)try{he(L,B)}catch(Oe){}}getOrInitializeService({instanceIdentifier:L,options:B={}}){let Z=this.instances.get(L);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(z=L,z===ce?void 0:z),options:B}),this.instances.set(L,Z),this.instancesOptions.set(L,B),this.invokeOnInitCallbacks(Z,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Z)}catch(he){}var z;return Z||null}normalizeInstanceIdentifier(L=ce){return this.component?this.component.multipleInstances?L:ce:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const B=this.getProvider(L.name);if(B.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);B.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const B=new ue(L,this);return this.providers.set(L,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,we,F)=>{"use strict";F.d(we,{in:()=>j,Yd:()=>de,Ub:()=>Q,Am:()=>z});const o=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ce=j.INFO,ue={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ee=(L,B,...Z)=>{if(B<L.logLevel)return;const he=(new Date).toISOString(),Oe=ue[B];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Oe](`[${he}]  ${L.name}:`,...Z)};class de{constructor(B){this.name=B,this._logLevel=ce,this._logHandler=ee,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in j))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...B),this._logHandler(this,j.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...B),this._logHandler(this,j.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,j.INFO,...B),this._logHandler(this,j.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,j.WARN,...B),this._logHandler(this,j.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...B),this._logHandler(this,j.ERROR,...B)}}function Q(L){o.forEach(B=>{B.setLogLevel(L)})}function z(L,B){for(const Z of o){let he=null;B&&B.level&&(he=O[B.level]),Z.userLogHandler=null===L?null:(Oe,Ne,...Ee)=>{const ge=Ee.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(oe){return null}}).filter(ne=>ne).join(" ");Ne>=(null!=he?he:Oe.logLevel)&&L({level:j[Ne].toLowerCase(),message:ge,args:Ee,type:Oe.name})}}}},8239:(Ye,we,F)=>{"use strict";function o(O,ce,ue,ee,de,Q,z){try{var L=O[Q](z),B=L.value}catch(Z){return void ue(Z)}L.done?ce(B):Promise.resolve(B).then(ee,de)}function j(O){return function(){var ce=this,ue=arguments;return new Promise(function(ee,de){var Q=O.apply(ce,ue);function z(B){o(Q,ee,de,z,L,"next",B)}function L(B){o(Q,ee,de,z,L,"throw",B)}z(void 0)})}}F.d(we,{Z:()=>j})}},Ye=>{Ye(Ye.s=5134)}]);